function nk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jE={exports:{}},vh={},RE={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),rk=Symbol.for("react.portal"),ik=Symbol.for("react.fragment"),sk=Symbol.for("react.strict_mode"),ak=Symbol.for("react.profiler"),ok=Symbol.for("react.provider"),lk=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),uk=Symbol.for("react.suspense"),dk=Symbol.for("react.memo"),hk=Symbol.for("react.lazy"),i0=Symbol.iterator;function fk(t){return t===null||typeof t!="object"?null:(t=i0&&t[i0]||t["@@iterator"],typeof t=="function"?t:null)}var OE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DE=Object.assign,LE={};function yo(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||OE}yo.prototype.isReactComponent={};yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ME(){}ME.prototype=yo.prototype;function ov(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||OE}var lv=ov.prototype=new ME;lv.constructor=ov;DE(lv,yo.prototype);lv.isPureReactComponent=!0;var s0=Array.isArray,VE=Object.prototype.hasOwnProperty,cv={current:null},FE={key:!0,ref:!0,__self:!0,__source:!0};function UE(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)VE.call(e,r)&&!FE.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:_c,type:t,key:s,ref:a,props:i,_owner:cv.current}}function pk(t,e){return{$$typeof:_c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uv(t){return typeof t=="object"&&t!==null&&t.$$typeof===_c}function mk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a0=/\/+/g;function kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mk(""+t.key):e.toString(36)}function Ru(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _c:case rk:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+kf(a,0):r,s0(i)?(n="",t!=null&&(n=t.replace(a0,"$&/")+"/"),Ru(i,e,n,"",function(u){return u})):i!=null&&(uv(i)&&(i=pk(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(a0,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",s0(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+kf(s,l);a+=Ru(s,e,n,c,i)}else if(c=fk(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+kf(s,l++),a+=Ru(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function eu(t,e,n){if(t==null)return t;var r=[],i=0;return Ru(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},Ou={transition:null},vk={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Ou,ReactCurrentOwner:cv};xe.Children={map:eu,forEach:function(t,e,n){eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eu(t,function(){e++}),e},toArray:function(t){return eu(t,function(e){return e})||[]},only:function(t){if(!uv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=yo;xe.Fragment=ik;xe.Profiler=ak;xe.PureComponent=ov;xe.StrictMode=sk;xe.Suspense=uk;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DE({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=cv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)VE.call(e,c)&&!FE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:_c,type:t.type,key:i,ref:s,props:r,_owner:a}};xe.createContext=function(t){return t={$$typeof:lk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ok,_context:t},t.Consumer=t};xe.createElement=UE;xe.createFactory=function(t){var e=UE.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:ck,render:t}};xe.isValidElement=uv;xe.lazy=function(t){return{$$typeof:hk,_payload:{_status:-1,_result:t},_init:gk}};xe.memo=function(t,e){return{$$typeof:dk,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Ou.transition;Ou.transition={};try{t()}finally{Ou.transition=e}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(t,e){return tn.current.useCallback(t,e)};xe.useContext=function(t){return tn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return tn.current.useEffect(t,e)};xe.useId=function(){return tn.current.useId()};xe.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return tn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};xe.useRef=function(t){return tn.current.useRef(t)};xe.useState=function(t){return tn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return tn.current.useTransition()};xe.version="18.2.0";RE.exports=xe;var N=RE.exports;const Pe=vo(N),Yp=nk({__proto__:null,default:Pe},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk=N,wk=Symbol.for("react.element"),xk=Symbol.for("react.fragment"),bk=Object.prototype.hasOwnProperty,_k=yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ek={key:!0,ref:!0,__self:!0,__source:!0};function $E(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)bk.call(e,r)&&!Ek.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wk,type:t,key:s,ref:a,props:i,_owner:_k.current}}vh.Fragment=xk;vh.jsx=$E;vh.jsxs=$E;jE.exports=vh;var o=jE.exports,Qp={},BE={exports:{}},On={},zE={exports:{}},HE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var F=R.length;R.push(L);e:for(;0<F;){var G=F-1>>>1,j=R[G];if(0<i(j,L))R[G]=L,R[F]=j,F=G;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],F=R.pop();if(F!==L){R[0]=F;e:for(var G=0,j=R.length,W=j>>>1;G<W;){var Z=2*(G+1)-1,te=R[Z],oe=Z+1,fe=R[oe];if(0>i(te,F))oe<j&&0>i(fe,te)?(R[G]=fe,R[oe]=F,G=oe):(R[G]=te,R[Z]=F,G=Z);else if(oe<j&&0>i(fe,F))R[G]=fe,R[oe]=F,G=oe;else break e}}return L}function i(R,L){var F=R.sortIndex-L.sortIndex;return F!==0?F:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function b(R){if(w=!1,x(R),!g)if(n(c)!==null)g=!0,H(I);else{var L=n(u);L!==null&&O(b,L.startTime-R)}}function I(R,L){g=!1,w&&(w=!1,m(_),_=-1),p=!0;var F=f;try{for(x(L),h=n(c);h!==null&&(!(h.expirationTime>L)||R&&!k());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var j=G(h.expirationTime<=L);L=t.unstable_now(),typeof j=="function"?h.callback=j:h===n(c)&&r(c),x(L)}else r(c);h=n(c)}if(h!==null)var W=!0;else{var Z=n(u);Z!==null&&O(b,Z.startTime-L),W=!1}return W}finally{h=null,f=F,p=!1}}var E=!1,A=null,_=-1,T=5,S=-1;function k(){return!(t.unstable_now()-S<T)}function D(){if(A!==null){var R=t.unstable_now();S=R;var L=!0;try{L=A(!0,R)}finally{L?P():(E=!1,A=null)}}else E=!1}var P;if(typeof v=="function")P=function(){v(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,M=C.port2;C.port1.onmessage=D,P=function(){M.postMessage(null)}}else P=function(){y(D,0)};function H(R){A=R,E||(E=!0,P())}function O(R,L){_=y(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,H(I))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var F=f;f=L;try{return R()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=f;f=R;try{return L()}finally{f=F}},t.unstable_scheduleCallback=function(R,L,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,R){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=F+j,R={id:d++,callback:L,priorityLevel:R,startTime:F,expirationTime:j,sortIndex:-1},F>G?(R.sortIndex=F,e(u,R),n(c)===null&&R===n(u)&&(w?(m(_),_=-1):w=!0,O(b,F-G))):(R.sortIndex=j,e(c,R),g||p||(g=!0,H(I))),R},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(R){var L=f;return function(){var F=f;f=L;try{return R.apply(this,arguments)}finally{f=F}}}})(HE);zE.exports=HE;var Tk=zE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE=N,An=Tk;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qE=new Set,Ll={};function Qs(t,e){Ya(t,e),Ya(t+"Capture",e)}function Ya(t,e){for(Ll[t]=e,t=0;t<e.length;t++)qE.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,Sk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o0={},l0={};function Ik(t){return Xp.call(l0,t)?!0:Xp.call(o0,t)?!1:Sk.test(t)?l0[t]=!0:(o0[t]=!0,!1)}function Nk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pk(t,e,n,r){if(e===null||typeof e>"u"||Nk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var dv=/[\-:]([a-z])/g;function hv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dv,hv);Dt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dv,hv);Dt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dv,hv);Dt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function fv(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pk(e,n,i,r)&&(n=null),r||i===null?Ik(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ci=WE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tu=Symbol.for("react.element"),va=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),GE=Symbol.for("react.provider"),KE=Symbol.for("react.context"),mv=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),gv=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),YE=Symbol.for("react.offscreen"),c0=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=c0&&t[c0]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,jf;function tl(t){if(jf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jf=e&&e[1]||""}return`
`+jf+t}var Rf=!1;function Of(t,e){if(!t||Rf)return"";Rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tl(t):""}function Ak(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=Of(t.type,!1),t;case 11:return t=Of(t.type.render,!1),t;case 1:return t=Of(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ya:return"Fragment";case va:return"Portal";case Jp:return"Profiler";case pv:return"StrictMode";case Zp:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KE:return(t.displayName||"Context")+".Consumer";case GE:return(t._context.displayName||"Context")+".Provider";case mv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gv:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function Ck(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===pv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kk(t){var e=QE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nu(t){t._valueTracker||(t._valueTracker=kk(t))}function XE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function u0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JE(t,e){e=e.checked,e!=null&&fv(t,"checked",e,!1)}function rm(t,e){JE(t,e);var n=Gi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?im(t,e.type,n):e.hasOwnProperty("defaultValue")&&im(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function d0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function im(t,e,n){(e!=="number"||cd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nl=Array.isArray;function ja(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(nl(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gi(n)}}function ZE(t,e){var n=Gi(e.value),r=Gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function f0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function am(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ru,tT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jk=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(t){jk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pl[e]=pl[t]})});function nT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pl.hasOwnProperty(t)&&pl[t]?(""+e).trim():e+"px"}function rT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Rk=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(t,e){if(e){if(Rk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=null;function vv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var um=null,Ra=null,Oa=null;function p0(t){if(t=Sc(t)){if(typeof um!="function")throw Error($(280));var e=t.stateNode;e&&(e=_h(e),um(t.stateNode,t.type,e))}}function iT(t){Ra?Oa?Oa.push(t):Oa=[t]:Ra=t}function sT(){if(Ra){var t=Ra,e=Oa;if(Oa=Ra=null,p0(t),e)for(t=0;t<e.length;t++)p0(e[t])}}function aT(t,e){return t(e)}function oT(){}var Df=!1;function lT(t,e,n){if(Df)return t(e,n);Df=!0;try{return aT(t,e,n)}finally{Df=!1,(Ra!==null||Oa!==null)&&(oT(),sT())}}function Vl(t,e){var n=t.stateNode;if(n===null)return null;var r=_h(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var dm=!1;if(ei)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){dm=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{dm=!1}function Ok(t,e,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ml=!1,ud=null,dd=!1,hm=null,Dk={onError:function(t){ml=!0,ud=t}};function Lk(t,e,n,r,i,s,a,l,c){ml=!1,ud=null,Ok.apply(Dk,arguments)}function Mk(t,e,n,r,i,s,a,l,c){if(Lk.apply(this,arguments),ml){if(ml){var u=ud;ml=!1,ud=null}else throw Error($(198));dd||(dd=!0,hm=u)}}function Xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m0(t){if(Xs(t)!==t)throw Error($(188))}function Vk(t){var e=t.alternate;if(!e){if(e=Xs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return m0(i),t;if(s===r)return m0(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function uT(t){return t=Vk(t),t!==null?dT(t):null}function dT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dT(t);if(e!==null)return e;t=t.sibling}return null}var hT=An.unstable_scheduleCallback,g0=An.unstable_cancelCallback,Fk=An.unstable_shouldYield,Uk=An.unstable_requestPaint,at=An.unstable_now,$k=An.unstable_getCurrentPriorityLevel,yv=An.unstable_ImmediatePriority,fT=An.unstable_UserBlockingPriority,hd=An.unstable_NormalPriority,Bk=An.unstable_LowPriority,pT=An.unstable_IdlePriority,yh=null,Er=null;function zk(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(yh,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:qk,Hk=Math.log,Wk=Math.LN2;function qk(t){return t>>>=0,t===0?32:31-(Hk(t)/Wk|0)|0}var iu=64,su=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=rl(l):(s&=a,s!==0&&(r=rl(s)))}else a=n&~i,a!==0?r=rl(a):s!==0&&(r=rl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),i=1<<n,r|=t[n],e&=~i;return r}function Gk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-lr(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=Gk(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mT(){var t=iu;return iu<<=1,!(iu&4194240)&&(iu=64),t}function Lf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function Yk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-lr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function gT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vT,xv,yT,wT,xT,pm=!1,au=[],Ri=null,Oi=null,Di=null,Fl=new Map,Ul=new Map,yi=[],Qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v0(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function Vo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sc(e),e!==null&&xv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xk(t,e,n,r,i){switch(e){case"focusin":return Ri=Vo(Ri,t,e,n,r,i),!0;case"dragenter":return Oi=Vo(Oi,t,e,n,r,i),!0;case"mouseover":return Di=Vo(Di,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fl.set(s,Vo(Fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ul.set(s,Vo(Ul.get(s)||null,t,e,n,r,i)),!0}return!1}function bT(t){var e=ys(t.target);if(e!==null){var n=Xs(e);if(n!==null){if(e=n.tag,e===13){if(e=cT(n),e!==null){t.blockedOn=e,xT(t.priority,function(){yT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cm=r,n.target.dispatchEvent(r),cm=null}else return e=Sc(n),e!==null&&xv(e),t.blockedOn=n,!1;e.shift()}return!0}function y0(t,e,n){Du(t)&&n.delete(e)}function Jk(){pm=!1,Ri!==null&&Du(Ri)&&(Ri=null),Oi!==null&&Du(Oi)&&(Oi=null),Di!==null&&Du(Di)&&(Di=null),Fl.forEach(y0),Ul.forEach(y0)}function Fo(t,e){t.blockedOn===e&&(t.blockedOn=null,pm||(pm=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,Jk)))}function $l(t){function e(i){return Fo(i,t)}if(0<au.length){Fo(au[0],t);for(var n=1;n<au.length;n++){var r=au[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&Fo(Ri,t),Oi!==null&&Fo(Oi,t),Di!==null&&Fo(Di,t),Fl.forEach(e),Ul.forEach(e),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)bT(n),n.blockedOn===null&&yi.shift()}var Da=ci.ReactCurrentBatchConfig,pd=!0;function Zk(t,e,n,r){var i=Ce,s=Da.transition;Da.transition=null;try{Ce=1,bv(t,e,n,r)}finally{Ce=i,Da.transition=s}}function ej(t,e,n,r){var i=Ce,s=Da.transition;Da.transition=null;try{Ce=4,bv(t,e,n,r)}finally{Ce=i,Da.transition=s}}function bv(t,e,n,r){if(pd){var i=mm(t,e,n,r);if(i===null)qf(t,e,r,md,n),v0(t,r);else if(Xk(i,t,e,n,r))r.stopPropagation();else if(v0(t,r),e&4&&-1<Qk.indexOf(t)){for(;i!==null;){var s=Sc(i);if(s!==null&&vT(s),s=mm(t,e,n,r),s===null&&qf(t,e,r,md,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qf(t,e,r,null,n)}}var md=null;function mm(t,e,n,r){if(md=null,t=vv(r),t=ys(t),t!==null)if(e=Xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return md=t,null}function _T(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($k()){case yv:return 1;case fT:return 4;case hd:case Bk:return 16;case pT:return 536870912;default:return 16}default:return 16}}var Si=null,_v=null,Lu=null;function ET(){if(Lu)return Lu;var t,e=_v,n=e.length,r,i="value"in Si?Si.value:Si.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Lu=i.slice(t,1<r?1-r:void 0)}function Mu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ou(){return!0}function w0(){return!1}function Dn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ou:w0,this.isPropagationStopped=w0,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),e}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ev=Dn(wo),Tc=et({},wo,{view:0,detail:0}),tj=Dn(Tc),Mf,Vf,Uo,wh=et({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uo&&(Uo&&t.type==="mousemove"?(Mf=t.screenX-Uo.screenX,Vf=t.screenY-Uo.screenY):Vf=Mf=0,Uo=t),Mf)},movementY:function(t){return"movementY"in t?t.movementY:Vf}}),x0=Dn(wh),nj=et({},wh,{dataTransfer:0}),rj=Dn(nj),ij=et({},Tc,{relatedTarget:0}),Ff=Dn(ij),sj=et({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),aj=Dn(sj),oj=et({},wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lj=Dn(oj),cj=et({},wo,{data:0}),b0=Dn(cj),uj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hj[t])?!!e[t]:!1}function Tv(){return fj}var pj=et({},Tc,{key:function(t){if(t.key){var e=uj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tv,charCode:function(t){return t.type==="keypress"?Mu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mj=Dn(pj),gj=et({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_0=Dn(gj),vj=et({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tv}),yj=Dn(vj),wj=et({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),xj=Dn(wj),bj=et({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_j=Dn(bj),Ej=[9,13,27,32],Sv=ei&&"CompositionEvent"in window,gl=null;ei&&"documentMode"in document&&(gl=document.documentMode);var Tj=ei&&"TextEvent"in window&&!gl,TT=ei&&(!Sv||gl&&8<gl&&11>=gl),E0=" ",T0=!1;function ST(t,e){switch(t){case"keyup":return Ej.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function Sj(t,e){switch(t){case"compositionend":return IT(e);case"keypress":return e.which!==32?null:(T0=!0,E0);case"textInput":return t=e.data,t===E0&&T0?null:t;default:return null}}function Ij(t,e){if(wa)return t==="compositionend"||!Sv&&ST(t,e)?(t=ET(),Lu=_v=Si=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TT&&e.locale!=="ko"?null:e.data;default:return null}}var Nj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nj[t.type]:e==="textarea"}function NT(t,e,n,r){iT(r),e=gd(e,"onChange"),0<e.length&&(n=new Ev("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vl=null,Bl=null;function Pj(t){VT(t,0)}function xh(t){var e=_a(t);if(XE(e))return t}function Aj(t,e){if(t==="change")return e}var PT=!1;if(ei){var Uf;if(ei){var $f="oninput"in document;if(!$f){var I0=document.createElement("div");I0.setAttribute("oninput","return;"),$f=typeof I0.oninput=="function"}Uf=$f}else Uf=!1;PT=Uf&&(!document.documentMode||9<document.documentMode)}function N0(){vl&&(vl.detachEvent("onpropertychange",AT),Bl=vl=null)}function AT(t){if(t.propertyName==="value"&&xh(Bl)){var e=[];NT(e,Bl,t,vv(t)),lT(Pj,e)}}function Cj(t,e,n){t==="focusin"?(N0(),vl=e,Bl=n,vl.attachEvent("onpropertychange",AT)):t==="focusout"&&N0()}function kj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(Bl)}function jj(t,e){if(t==="click")return xh(e)}function Rj(t,e){if(t==="input"||t==="change")return xh(e)}function Oj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:Oj;function zl(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xp.call(e,i)||!ur(t[i],e[i]))return!1}return!0}function P0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A0(t,e){var n=P0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P0(n)}}function CT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kT(){for(var t=window,e=cd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cd(t.document)}return e}function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Dj(t){var e=kT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CT(n.ownerDocument.documentElement,n)){if(r!==null&&Iv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=A0(n,s);var a=A0(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lj=ei&&"documentMode"in document&&11>=document.documentMode,xa=null,gm=null,yl=null,vm=!1;function C0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vm||xa==null||xa!==cd(r)||(r=xa,"selectionStart"in r&&Iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&zl(yl,r)||(yl=r,r=gd(gm,"onSelect"),0<r.length&&(e=new Ev("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xa)))}function lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ba={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},Bf={},jT={};ei&&(jT=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function bh(t){if(Bf[t])return Bf[t];if(!ba[t])return t;var e=ba[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jT)return Bf[t]=e[n];return t}var RT=bh("animationend"),OT=bh("animationiteration"),DT=bh("animationstart"),LT=bh("transitionend"),MT=new Map,k0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){MT.set(t,e),Qs(e,[t])}for(var zf=0;zf<k0.length;zf++){var Hf=k0[zf],Mj=Hf.toLowerCase(),Vj=Hf[0].toUpperCase()+Hf.slice(1);Zi(Mj,"on"+Vj)}Zi(RT,"onAnimationEnd");Zi(OT,"onAnimationIteration");Zi(DT,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(LT,"onTransitionEnd");Ya("onMouseEnter",["mouseout","mouseover"]);Ya("onMouseLeave",["mouseout","mouseover"]);Ya("onPointerEnter",["pointerout","pointerover"]);Ya("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fj=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function j0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Mk(r,e,void 0,t),t.currentTarget=null}function VT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;j0(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;j0(i,l,u),s=c}}}if(dd)throw t=hm,dd=!1,hm=null,t}function Fe(t,e){var n=e[_m];n===void 0&&(n=e[_m]=new Set);var r=t+"__bubble";n.has(r)||(FT(e,t,2,!1),n.add(r))}function Wf(t,e,n){var r=0;e&&(r|=4),FT(n,t,r,e)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[cu]){t[cu]=!0,qE.forEach(function(n){n!=="selectionchange"&&(Fj.has(n)||Wf(n,!1,t),Wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cu]||(e[cu]=!0,Wf("selectionchange",!1,e))}}function FT(t,e,n,r){switch(_T(e)){case 1:var i=Zk;break;case 4:i=ej;break;default:i=bv}n=i.bind(null,e,n,t),i=void 0,!dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ys(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}lT(function(){var u=s,d=vv(n),h=[];e:{var f=MT.get(t);if(f!==void 0){var p=Ev,g=t;switch(t){case"keypress":if(Mu(n)===0)break e;case"keydown":case"keyup":p=mj;break;case"focusin":g="focus",p=Ff;break;case"focusout":g="blur",p=Ff;break;case"beforeblur":case"afterblur":p=Ff;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=x0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yj;break;case RT:case OT:case DT:p=aj;break;case LT:p=xj;break;case"scroll":p=tj;break;case"wheel":p=_j;break;case"copy":case"cut":case"paste":p=lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_0}var w=(e&4)!==0,y=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var v=u,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,m!==null&&(b=Vl(v,m),b!=null&&w.push(Wl(v,b,x)))),y)break;v=v.return}0<w.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==cm&&(g=n.relatedTarget||n.fromElement)&&(ys(g)||g[ti]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ys(g):null,g!==null&&(y=Xs(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(w=x0,b="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=_0,b="onPointerLeave",m="onPointerEnter",v="pointer"),y=p==null?f:_a(p),x=g==null?f:_a(g),f=new w(b,v+"leave",p,n,d),f.target=y,f.relatedTarget=x,b=null,ys(d)===u&&(w=new w(m,v+"enter",g,n,d),w.target=x,w.relatedTarget=y,b=w),y=b,p&&g)t:{for(w=p,m=g,v=0,x=w;x;x=ca(x))v++;for(x=0,b=m;b;b=ca(b))x++;for(;0<v-x;)w=ca(w),v--;for(;0<x-v;)m=ca(m),x--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=ca(w),m=ca(m)}w=null}else w=null;p!==null&&R0(h,f,p,w,!1),g!==null&&y!==null&&R0(h,y,g,w,!0)}}e:{if(f=u?_a(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=Aj;else if(S0(f))if(PT)I=Rj;else{I=kj;var E=Cj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=jj);if(I&&(I=I(t,u))){NT(h,I,n,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&im(f,"number",f.value)}switch(E=u?_a(u):window,t){case"focusin":(S0(E)||E.contentEditable==="true")&&(xa=E,gm=u,yl=null);break;case"focusout":yl=gm=xa=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,C0(h,n,d);break;case"selectionchange":if(Lj)break;case"keydown":case"keyup":C0(h,n,d)}var A;if(Sv)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else wa?ST(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(TT&&n.locale!=="ko"&&(wa||_!=="onCompositionStart"?_==="onCompositionEnd"&&wa&&(A=ET()):(Si=d,_v="value"in Si?Si.value:Si.textContent,wa=!0)),E=gd(u,_),0<E.length&&(_=new b0(_,t,null,n,d),h.push({event:_,listeners:E}),A?_.data=A:(A=IT(n),A!==null&&(_.data=A)))),(A=Tj?Sj(t,n):Ij(t,n))&&(u=gd(u,"onBeforeInput"),0<u.length&&(d=new b0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=A))}VT(h,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vl(t,n),s!=null&&r.unshift(Wl(t,s,i)),s=Vl(t,e),s!=null&&r.push(Wl(t,s,i))),t=t.return}return r}function ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R0(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Vl(n,s),c!=null&&a.unshift(Wl(n,c,l))):i||(c=Vl(n,s),c!=null&&a.push(Wl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Uj=/\r\n?/g,$j=/\u0000|\uFFFD/g;function O0(t){return(typeof t=="string"?t:""+t).replace(Uj,`
`).replace($j,"")}function uu(t,e,n){if(e=O0(e),O0(t)!==e&&n)throw Error($(425))}function vd(){}var ym=null,wm=null;function xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bm=typeof setTimeout=="function"?setTimeout:void 0,Bj=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,zj=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(t){return D0.resolve(null).then(t).catch(Hj)}:bm;function Hj(t){setTimeout(function(){throw t})}function Gf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$l(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function L0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xo=Math.random().toString(36).slice(2),vr="__reactFiber$"+xo,ql="__reactProps$"+xo,ti="__reactContainer$"+xo,_m="__reactEvents$"+xo,Wj="__reactListeners$"+xo,qj="__reactHandles$"+xo;function ys(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=L0(t);t!==null;){if(n=t[vr])return n;t=L0(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[vr]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function _h(t){return t[ql]||null}var Em=[],Ea=-1;function es(t){return{current:t}}function ze(t){0>Ea||(t.current=Em[Ea],Em[Ea]=null,Ea--)}function Me(t,e){Ea++,Em[Ea]=t.current,t.current=e}var Ki={},qt=es(Ki),fn=es(!1),Rs=Ki;function Qa(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pn(t){return t=t.childContextTypes,t!=null}function yd(){ze(fn),ze(qt)}function M0(t,e,n){if(qt.current!==Ki)throw Error($(168));Me(qt,e),Me(fn,n)}function UT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,Ck(t)||"Unknown",i));return et({},n,r)}function wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,Rs=qt.current,Me(qt,t),Me(fn,fn.current),!0}function V0(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=UT(t,e,Rs),r.__reactInternalMemoizedMergedChildContext=t,ze(fn),ze(qt),Me(qt,t)):ze(fn),Me(fn,n)}var Hr=null,Eh=!1,Kf=!1;function $T(t){Hr===null?Hr=[t]:Hr.push(t)}function Gj(t){Eh=!0,$T(t)}function ts(){if(!Kf&&Hr!==null){Kf=!0;var t=0,e=Ce;try{var n=Hr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,Eh=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),hT(yv,ts),i}finally{Ce=e,Kf=!1}}return null}var Ta=[],Sa=0,xd=null,bd=0,zn=[],Hn=0,Os=null,Wr=1,qr="";function hs(t,e){Ta[Sa++]=bd,Ta[Sa++]=xd,xd=t,bd=e}function BT(t,e,n){zn[Hn++]=Wr,zn[Hn++]=qr,zn[Hn++]=Os,Os=t;var r=Wr;t=qr;var i=32-lr(r)-1;r&=~(1<<i),n+=1;var s=32-lr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wr=1<<32-lr(e)+i|n<<i|r,qr=s+t}else Wr=1<<s|n<<i|r,qr=t}function Nv(t){t.return!==null&&(hs(t,1),BT(t,1,0))}function Pv(t){for(;t===xd;)xd=Ta[--Sa],Ta[Sa]=null,bd=Ta[--Sa],Ta[Sa]=null;for(;t===Os;)Os=zn[--Hn],zn[Hn]=null,qr=zn[--Hn],zn[Hn]=null,Wr=zn[--Hn],zn[Hn]=null}var Nn=null,En=null,Qe=!1,sr=null;function zT(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,En=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Os!==null?{id:Wr,overflow:qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,En=null,!0):!1;default:return!1}}function Tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sm(t){if(Qe){var e=En;if(e){var n=e;if(!F0(t,e)){if(Tm(t))throw Error($(418));e=Li(n.nextSibling);var r=Nn;e&&F0(t,e)?zT(r,n):(t.flags=t.flags&-4097|2,Qe=!1,Nn=t)}}else{if(Tm(t))throw Error($(418));t.flags=t.flags&-4097|2,Qe=!1,Nn=t}}}function U0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function du(t){if(t!==Nn)return!1;if(!Qe)return U0(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xm(t.type,t.memoizedProps)),e&&(e=En)){if(Tm(t))throw HT(),Error($(418));for(;e;)zT(t,e),e=Li(e.nextSibling)}if(U0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=Nn?Li(t.stateNode.nextSibling):null;return!0}function HT(){for(var t=En;t;)t=Li(t.nextSibling)}function Xa(){En=Nn=null,Qe=!1}function Av(t){sr===null?sr=[t]:sr.push(t)}var Kj=ci.ReactCurrentBatchConfig;function rr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _d=es(null),Ed=null,Ia=null,Cv=null;function kv(){Cv=Ia=Ed=null}function jv(t){var e=_d.current;ze(_d),t._currentValue=e}function Im(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function La(t,e){Ed=t,Cv=Ia=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(Cv!==t)if(t={context:t,memoizedValue:e,next:null},Ia===null){if(Ed===null)throw Error($(308));Ia=t,Ed.dependencies={lanes:0,firstContext:t}}else Ia=Ia.next=t;return e}var ws=null;function Rv(t){ws===null?ws=[t]:ws.push(t)}function WT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ni(t,r)}function ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vi=!1;function Ov(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ni(t,n)}return i=r.interleaved,i===null?(e.next=e,Rv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ni(t,n)}function Vu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wv(t,n)}}function $0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Td(t,e,n,r){var i=t.updateQueue;vi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=u=c=null,l=s;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,w=l;switch(f=e,p=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=et({},h,f);break e;case 2:vi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ls|=a,t.lanes=a,t.memoizedState=h}}function B0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var GT=new WE.Component().refs;function Nm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Th={isMounted:function(t){return(t=t._reactInternals)?Xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Fi(t),s=Xr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Mi(t,s,i),e!==null&&(cr(e,t,i,r),Vu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),i=Fi(t),s=Xr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Mi(t,s,i),e!==null&&(cr(e,t,i,r),Vu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=Fi(t),i=Xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mi(t,i,r),e!==null&&(cr(e,t,r,n),Vu(e,t,r))}};function z0(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!zl(n,r)||!zl(i,s):!0}function KT(t,e,n){var r=!1,i=Ki,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=pn(e)?Rs:qt.current,r=e.contextTypes,s=(r=r!=null)?Qa(t,i):Ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Th,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function H0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Th.enqueueReplaceState(e,e.state,null)}function Pm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=GT,Ov(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=pn(e)?Rs:qt.current,i.context=Qa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Nm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Th.enqueueReplaceState(i,i.state,null),Td(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;l===GT&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function hu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function W0(t){var e=t._init;return e(t._payload)}function YT(t){function e(m,v){if(t){var x=m.deletions;x===null?(m.deletions=[v],m.flags|=16):x.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Ui(m,v),m.index=0,m.sibling=null,m}function s(m,v,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<v?(m.flags|=2,v):x):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,v,x,b){return v===null||v.tag!==6?(v=tp(x,m.mode,b),v.return=m,v):(v=i(v,x),v.return=m,v)}function c(m,v,x,b){var I=x.type;return I===ya?d(m,v,x.props.children,b,x.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===gi&&W0(I)===v.type)?(b=i(v,x.props),b.ref=$o(m,v,x),b.return=m,b):(b=Hu(x.type,x.key,x.props,null,m.mode,b),b.ref=$o(m,v,x),b.return=m,b)}function u(m,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=np(x,m.mode,b),v.return=m,v):(v=i(v,x.children||[]),v.return=m,v)}function d(m,v,x,b,I){return v===null||v.tag!==7?(v=As(x,m.mode,b,I),v.return=m,v):(v=i(v,x),v.return=m,v)}function h(m,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tp(""+v,m.mode,x),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case tu:return x=Hu(v.type,v.key,v.props,null,m.mode,x),x.ref=$o(m,null,v),x.return=m,x;case va:return v=np(v,m.mode,x),v.return=m,v;case gi:var b=v._init;return h(m,b(v._payload),x)}if(nl(v)||Lo(v))return v=As(v,m.mode,x,null),v.return=m,v;hu(m,v)}return null}function f(m,v,x,b){var I=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:l(m,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tu:return x.key===I?c(m,v,x,b):null;case va:return x.key===I?u(m,v,x,b):null;case gi:return I=x._init,f(m,v,I(x._payload),b)}if(nl(x)||Lo(x))return I!==null?null:d(m,v,x,b,null);hu(m,x)}return null}function p(m,v,x,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(x)||null,l(v,m,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tu:return m=m.get(b.key===null?x:b.key)||null,c(v,m,b,I);case va:return m=m.get(b.key===null?x:b.key)||null,u(v,m,b,I);case gi:var E=b._init;return p(m,v,x,E(b._payload),I)}if(nl(b)||Lo(b))return m=m.get(x)||null,d(v,m,b,I,null);hu(v,b)}return null}function g(m,v,x,b){for(var I=null,E=null,A=v,_=v=0,T=null;A!==null&&_<x.length;_++){A.index>_?(T=A,A=null):T=A.sibling;var S=f(m,A,x[_],b);if(S===null){A===null&&(A=T);break}t&&A&&S.alternate===null&&e(m,A),v=s(S,v,_),E===null?I=S:E.sibling=S,E=S,A=T}if(_===x.length)return n(m,A),Qe&&hs(m,_),I;if(A===null){for(;_<x.length;_++)A=h(m,x[_],b),A!==null&&(v=s(A,v,_),E===null?I=A:E.sibling=A,E=A);return Qe&&hs(m,_),I}for(A=r(m,A);_<x.length;_++)T=p(A,m,_,x[_],b),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?_:T.key),v=s(T,v,_),E===null?I=T:E.sibling=T,E=T);return t&&A.forEach(function(k){return e(m,k)}),Qe&&hs(m,_),I}function w(m,v,x,b){var I=Lo(x);if(typeof I!="function")throw Error($(150));if(x=I.call(x),x==null)throw Error($(151));for(var E=I=null,A=v,_=v=0,T=null,S=x.next();A!==null&&!S.done;_++,S=x.next()){A.index>_?(T=A,A=null):T=A.sibling;var k=f(m,A,S.value,b);if(k===null){A===null&&(A=T);break}t&&A&&k.alternate===null&&e(m,A),v=s(k,v,_),E===null?I=k:E.sibling=k,E=k,A=T}if(S.done)return n(m,A),Qe&&hs(m,_),I;if(A===null){for(;!S.done;_++,S=x.next())S=h(m,S.value,b),S!==null&&(v=s(S,v,_),E===null?I=S:E.sibling=S,E=S);return Qe&&hs(m,_),I}for(A=r(m,A);!S.done;_++,S=x.next())S=p(A,m,_,S.value,b),S!==null&&(t&&S.alternate!==null&&A.delete(S.key===null?_:S.key),v=s(S,v,_),E===null?I=S:E.sibling=S,E=S);return t&&A.forEach(function(D){return e(m,D)}),Qe&&hs(m,_),I}function y(m,v,x,b){if(typeof x=="object"&&x!==null&&x.type===ya&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case tu:e:{for(var I=x.key,E=v;E!==null;){if(E.key===I){if(I=x.type,I===ya){if(E.tag===7){n(m,E.sibling),v=i(E,x.props.children),v.return=m,m=v;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===gi&&W0(I)===E.type){n(m,E.sibling),v=i(E,x.props),v.ref=$o(m,E,x),v.return=m,m=v;break e}n(m,E);break}else e(m,E);E=E.sibling}x.type===ya?(v=As(x.props.children,m.mode,b,x.key),v.return=m,m=v):(b=Hu(x.type,x.key,x.props,null,m.mode,b),b.ref=$o(m,v,x),b.return=m,m=b)}return a(m);case va:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(m,v.sibling),v=i(v,x.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=np(x,m.mode,b),v.return=m,m=v}return a(m);case gi:return E=x._init,y(m,v,E(x._payload),b)}if(nl(x))return g(m,v,x,b);if(Lo(x))return w(m,v,x,b);hu(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,x),v.return=m,m=v):(n(m,v),v=tp(x,m.mode,b),v.return=m,m=v),a(m)):n(m,v)}return y}var Ja=YT(!0),QT=YT(!1),Ic={},Tr=es(Ic),Gl=es(Ic),Kl=es(Ic);function xs(t){if(t===Ic)throw Error($(174));return t}function Dv(t,e){switch(Me(Kl,e),Me(Gl,t),Me(Tr,Ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:am(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=am(e,t)}ze(Tr),Me(Tr,e)}function Za(){ze(Tr),ze(Gl),ze(Kl)}function XT(t){xs(Kl.current);var e=xs(Tr.current),n=am(e,t.type);e!==n&&(Me(Gl,t),Me(Tr,n))}function Lv(t){Gl.current===t&&(ze(Tr),ze(Gl))}var Je=es(0);function Sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yf=[];function Mv(){for(var t=0;t<Yf.length;t++)Yf[t]._workInProgressVersionPrimary=null;Yf.length=0}var Fu=ci.ReactCurrentDispatcher,Qf=ci.ReactCurrentBatchConfig,Ds=0,Ze=null,pt=null,Et=null,Id=!1,wl=!1,Yl=0,Yj=0;function Lt(){throw Error($(321))}function Vv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function Fv(t,e,n,r,i,s){if(Ds=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fu.current=t===null||t.memoizedState===null?Zj:eR,t=n(r,i),wl){s=0;do{if(wl=!1,Yl=0,25<=s)throw Error($(301));s+=1,Et=pt=null,e.updateQueue=null,Fu.current=tR,t=n(r,i)}while(wl)}if(Fu.current=Nd,e=pt!==null&&pt.next!==null,Ds=0,Et=pt=Ze=null,Id=!1,e)throw Error($(300));return t}function Uv(){var t=Yl!==0;return Yl=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ze.memoizedState=Et=t:Et=Et.next=t,Et}function Xn(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Et===null?Ze.memoizedState:Et.next;if(e!==null)Et=e,pt=t;else{if(t===null)throw Error($(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Ze.memoizedState=Et=t:Et=Et.next=t}return Et}function Ql(t,e){return typeof e=="function"?e(t):e}function Xf(t){var e=Xn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Ds&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,Ze.lanes|=d,Ls|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,ur(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jf(t){var e=Xn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ur(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JT(){}function ZT(t,e){var n=Ze,r=Xn(),i=e(),s=!ur(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,$v(nS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Xl(9,tS.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error($(349));Ds&30||eS(n,e,i)}return i}function eS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tS(t,e,n,r){e.value=n,e.getSnapshot=r,rS(e)&&iS(t)}function nS(t,e,n){return n(function(){rS(e)&&iS(t)})}function rS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function iS(t){var e=ni(t,1);e!==null&&cr(e,t,1,-1)}function q0(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:t},e.queue=t,t=t.dispatch=Jj.bind(null,Ze,t),[e.memoizedState,t]}function Xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sS(){return Xn().memoizedState}function Uu(t,e,n,r){var i=gr();Ze.flags|=t,i.memoizedState=Xl(1|e,n,void 0,r===void 0?null:r)}function Sh(t,e,n,r){var i=Xn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var a=pt.memoizedState;if(s=a.destroy,r!==null&&Vv(r,a.deps)){i.memoizedState=Xl(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=Xl(1|e,n,s,r)}function G0(t,e){return Uu(8390656,8,t,e)}function $v(t,e){return Sh(2048,8,t,e)}function aS(t,e){return Sh(4,2,t,e)}function oS(t,e){return Sh(4,4,t,e)}function lS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cS(t,e,n){return n=n!=null?n.concat([t]):null,Sh(4,4,lS.bind(null,e,t),n)}function Bv(){}function uS(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dS(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hS(t,e,n){return Ds&21?(ur(n,e)||(n=mT(),Ze.lanes|=n,Ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function Qj(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Qf.transition;Qf.transition={};try{t(!1),e()}finally{Ce=n,Qf.transition=r}}function fS(){return Xn().memoizedState}function Xj(t,e,n){var r=Fi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pS(t))mS(e,n);else if(n=WT(t,e,n,r),n!==null){var i=Zt();cr(n,t,r,i),gS(n,e,r)}}function Jj(t,e,n){var r=Fi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pS(t))mS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,ur(l,a)){var c=e.interleaved;c===null?(i.next=i,Rv(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=WT(t,e,i,r),n!==null&&(i=Zt(),cr(n,t,r,i),gS(n,e,r))}}function pS(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function mS(t,e){wl=Id=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wv(t,n)}}var Nd={readContext:Qn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},Zj={readContext:Qn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:G0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uu(4194308,4,lS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uu(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Xj.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:q0,useDebugValue:Bv,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=q0(!1),e=t[0];return t=Qj.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=gr();if(Qe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Tt===null)throw Error($(349));Ds&30||eS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,G0(nS.bind(null,r,s,t),[t]),r.flags|=2048,Xl(9,tS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=Tt.identifierPrefix;if(Qe){var n=qr,r=Wr;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Yj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eR={readContext:Qn,useCallback:uS,useContext:Qn,useEffect:$v,useImperativeHandle:cS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:dS,useReducer:Xf,useRef:sS,useState:function(){return Xf(Ql)},useDebugValue:Bv,useDeferredValue:function(t){var e=Xn();return hS(e,pt.memoizedState,t)},useTransition:function(){var t=Xf(Ql)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:JT,useSyncExternalStore:ZT,useId:fS,unstable_isNewReconciler:!1},tR={readContext:Qn,useCallback:uS,useContext:Qn,useEffect:$v,useImperativeHandle:cS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:dS,useReducer:Jf,useRef:sS,useState:function(){return Jf(Ql)},useDebugValue:Bv,useDeferredValue:function(t){var e=Xn();return pt===null?e.memoizedState=t:hS(e,pt.memoizedState,t)},useTransition:function(){var t=Jf(Ql)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:JT,useSyncExternalStore:ZT,useId:fS,unstable_isNewReconciler:!1};function eo(t,e){try{var n="",r=e;do n+=Ak(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Am(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nR=typeof WeakMap=="function"?WeakMap:Map;function vS(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ad||(Ad=!0,Fm=r),Am(t,e)},n}function yS(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Am(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Am(t,e),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function K0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gR.bind(null,t,e,n),e.then(t,t))}function Y0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Mi(n,e,1))),n.lanes|=1),t)}var rR=ci.ReactCurrentOwner,hn=!1;function Xt(t,e,n,r){e.child=t===null?QT(e,null,n,r):Ja(e,t.child,n,r)}function X0(t,e,n,r,i){n=n.render;var s=e.ref;return La(e,i),r=Fv(t,e,n,r,s,i),n=Uv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ri(t,e,i)):(Qe&&n&&Nv(e),e.flags|=1,Xt(t,e,r,i),e.child)}function J0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wS(t,e,s,r,i)):(t=Hu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:zl,n(a,r)&&t.ref===e.ref)return ri(t,e,i)}return e.flags|=1,t=Ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function wS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zl(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,ri(t,e,i)}return Cm(t,e,n,r,i)}function xS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Pa,bn),bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Pa,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(Pa,bn),bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(Pa,bn),bn|=r;return Xt(t,e,i,n),e.child}function bS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cm(t,e,n,r,i){var s=pn(n)?Rs:qt.current;return s=Qa(e,s),La(e,i),n=Fv(t,e,n,r,s,i),r=Uv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ri(t,e,i)):(Qe&&r&&Nv(e),e.flags|=1,Xt(t,e,n,i),e.child)}function Z0(t,e,n,r,i){if(pn(n)){var s=!0;wd(e)}else s=!1;if(La(e,i),e.stateNode===null)$u(t,e),KT(e,n,r),Pm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=pn(n)?Rs:qt.current,u=Qa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&H0(e,a,r,u),vi=!1;var f=e.memoizedState;a.state=f,Td(e,r,a,i),c=e.memoizedState,l!==r||f!==c||fn.current||vi?(typeof d=="function"&&(Nm(e,n,d,r),c=e.memoizedState),(l=vi||z0(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,qT(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:rr(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qn(c):(c=pn(n)?Rs:qt.current,c=Qa(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&H0(e,a,r,c),vi=!1,f=e.memoizedState,a.state=f,Td(e,r,a,i);var g=e.memoizedState;l!==h||f!==g||fn.current||vi?(typeof p=="function"&&(Nm(e,n,p,r),g=e.memoizedState),(u=vi||z0(e,n,u,r,f,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return km(t,e,n,r,s,i)}function km(t,e,n,r,i,s){bS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&V0(e,n,!1),ri(t,e,s);r=e.stateNode,rR.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ja(e,t.child,null,s),e.child=Ja(e,null,l,s)):Xt(t,e,l,s),e.memoizedState=r.state,i&&V0(e,n,!0),e.child}function _S(t){var e=t.stateNode;e.pendingContext?M0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M0(t,e.context,!1),Dv(t,e.containerInfo)}function ex(t,e,n,r,i){return Xa(),Av(i),e.flags|=256,Xt(t,e,n,r),e.child}var jm={dehydrated:null,treeContext:null,retryLane:0};function Rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function ES(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(Je,i&1),t===null)return Sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ph(a,r,0,null),t=As(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rm(n),e.memoizedState=jm,t):zv(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return iR(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ui(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ui(l,s):(s=As(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Rm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=jm,r}return s=t.child,t=s.sibling,r=Ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zv(t,e){return e=Ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fu(t,e,n,r){return r!==null&&Av(r),Ja(e,t.child,null,n),t=zv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iR(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Zf(Error($(422))),fu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ph({mode:"visible",children:r.children},i,0,null),s=As(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ja(e,t.child,null,a),e.child.memoizedState=Rm(a),e.memoizedState=jm,s);if(!(e.mode&1))return fu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=Zf(s,r,void 0),fu(t,e,a,r)}if(l=(a&t.childLanes)!==0,hn||l){if(r=Tt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ni(t,i),cr(r,t,i,-1))}return Yv(),r=Zf(Error($(421))),fu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=Li(i.nextSibling),Nn=e,Qe=!0,sr=null,t!==null&&(zn[Hn++]=Wr,zn[Hn++]=qr,zn[Hn++]=Os,Wr=t.id,qr=t.overflow,Os=e),e=zv(e,r.children),e.flags|=4096,e)}function tx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Im(t.return,e,n)}function ep(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tx(t,n,e);else if(t.tag===19)tx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ep(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ep(e,!0,n,null,s);break;case"together":ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $u(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sR(t,e,n){switch(e.tag){case 3:_S(e),Xa();break;case 5:XT(e);break;case 1:pn(e.type)&&wd(e);break;case 4:Dv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(_d,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?ES(t,e,n):(Me(Je,Je.current&1),t=ri(t,e,n),t!==null?t.sibling:null);Me(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,xS(t,e,n)}return ri(t,e,n)}var SS,Om,IS,NS;SS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Om=function(){};IS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xs(Tr.current);var s=null;switch(n){case"input":i=nm(t,i),r=nm(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=sm(t,i),r=sm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vd)}om(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fe("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bo(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aR(t,e,n){var r=e.pendingProps;switch(Pv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return pn(e.type)&&yd(),Mt(e),null;case 3:return r=e.stateNode,Za(),ze(fn),ze(qt),Mv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sr!==null&&(Bm(sr),sr=null))),Om(t,e),Mt(e),null;case 5:Lv(e);var i=xs(Kl.current);if(n=e.type,t!==null&&e.stateNode!=null)IS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Mt(e),null}if(t=xs(Tr.current),du(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vr]=e,r[ql]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<il.length;i++)Fe(il[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":u0(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":h0(r,s),Fe("invalid",r)}om(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&uu(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&uu(r.textContent,l,t),i=["children",""+l]):Ll.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Fe("scroll",r)}switch(n){case"input":nu(r),d0(r,s,!0);break;case"textarea":nu(r),f0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[vr]=e,t[ql]=r,SS(t,e,!1,!1),e.stateNode=t;e:{switch(a=lm(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<il.length;i++)Fe(il[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":u0(t,r),i=nm(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":h0(t,r),i=sm(t,r),Fe("invalid",t);break;default:i=r}om(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?rT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tT(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ml(t,c):typeof c=="number"&&Ml(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ll.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fe("scroll",t):c!=null&&fv(t,s,c,a))}switch(n){case"input":nu(t),d0(t,r,!1);break;case"textarea":nu(t),f0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ja(t,!!r.multiple,s,!1):r.defaultValue!=null&&ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)NS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=xs(Kl.current),xs(Tr.current),du(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(s=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Mt(e),null;case 13:if(ze(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&En!==null&&e.mode&1&&!(e.flags&128))HT(),Xa(),e.flags|=98560,s=!1;else if(s=du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[vr]=e}else Xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else sr!==null&&(Bm(sr),sr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?mt===0&&(mt=3):Yv())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Za(),Om(t,e),t===null&&Hl(e.stateNode.containerInfo),Mt(e),null;case 10:return jv(e.type._context),Mt(e),null;case 17:return pn(e.type)&&yd(),Mt(e),null;case 19:if(ze(Je),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Bo(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sd(t),a!==null){for(e.flags|=128,Bo(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>to&&(e.flags|=128,r=!0,Bo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Sd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qe)return Mt(e),null}else 2*at()-s.renderingStartTime>to&&n!==1073741824&&(e.flags|=128,r=!0,Bo(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Je.current,Me(Je,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return Kv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function oR(t,e){switch(Pv(e),e.tag){case 1:return pn(e.type)&&yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Za(),ze(fn),ze(qt),Mv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lv(e),null;case 13:if(ze(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Je),null;case 4:return Za(),null;case 10:return jv(e.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var pu=!1,$t=!1,lR=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function Dm(t,e,n){try{n()}catch(r){nt(t,e,r)}}var nx=!1;function cR(t,e){if(ym=pd,t=kT(),Iv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==s||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(wm={focusedElem:t,selectionRange:n},pd=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,y=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:rr(e.type,w),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){nt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return g=nx,nx=!1,g}function xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dm(e,n,s)}i=i.next}while(i!==r)}}function Ih(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PS(t){var e=t.alternate;e!==null&&(t.alternate=null,PS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[ql],delete e[_m],delete e[Wj],delete e[qj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AS(t){return t.tag===5||t.tag===3||t.tag===4}function rx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vd));else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}var Pt=null,ir=!1;function hi(t,e,n){for(n=n.child;n!==null;)CS(t,e,n),n=n.sibling}function CS(t,e,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(yh,n)}catch{}switch(n.tag){case 5:$t||Na(n,e);case 6:var r=Pt,i=ir;Pt=null,hi(t,e,n),Pt=r,ir=i,Pt!==null&&(ir?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(ir?(t=Pt,n=n.stateNode,t.nodeType===8?Gf(t.parentNode,n):t.nodeType===1&&Gf(t,n),$l(t)):Gf(Pt,n.stateNode));break;case 4:r=Pt,i=ir,Pt=n.stateNode.containerInfo,ir=!0,hi(t,e,n),Pt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Dm(n,e,a),i=i.next}while(i!==r)}hi(t,e,n);break;case 1:if(!$t&&(Na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){nt(n,e,l)}hi(t,e,n);break;case 21:hi(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,hi(t,e,n),$t=r):hi(t,e,n);break;default:hi(t,e,n)}}function ix(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lR),e.forEach(function(r){var i=yR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Pt=l.stateNode,ir=!1;break e;case 3:Pt=l.stateNode.containerInfo,ir=!0;break e;case 4:Pt=l.stateNode.containerInfo,ir=!0;break e}l=l.return}if(Pt===null)throw Error($(160));CS(s,a,i),Pt=null,ir=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){nt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kS(e,t),e=e.sibling}function kS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),mr(t),r&4){try{xl(3,t,t.return),Ih(3,t)}catch(w){nt(t,t.return,w)}try{xl(5,t,t.return)}catch(w){nt(t,t.return,w)}}break;case 1:tr(e,t),mr(t),r&512&&n!==null&&Na(n,n.return);break;case 5:if(tr(e,t),mr(t),r&512&&n!==null&&Na(n,n.return),t.flags&32){var i=t.stateNode;try{Ml(i,"")}catch(w){nt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&JE(i,s),lm(l,a);var u=lm(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?rT(i,h):d==="dangerouslySetInnerHTML"?tT(i,h):d==="children"?Ml(i,h):fv(i,d,h,u)}switch(l){case"input":rm(i,s);break;case"textarea":ZE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ja(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ja(i,!!s.multiple,s.defaultValue,!0):ja(i,!!s.multiple,s.multiple?[]:"",!1))}i[ql]=s}catch(w){nt(t,t.return,w)}}break;case 6:if(tr(e,t),mr(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){nt(t,t.return,w)}}break;case 3:if(tr(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(w){nt(t,t.return,w)}break;case 4:tr(e,t),mr(t);break;case 13:tr(e,t),mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qv=at())),r&4&&ix(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||d,tr(e,t),$t=u):tr(e,t),mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:xl(4,f,f.return);break;case 1:Na(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){nt(r,n,w)}}break;case 5:Na(f,f.return);break;case 22:if(f.memoizedState!==null){ax(h);continue}}p!==null?(p.return=f,ee=p):ax(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nT("display",a))}catch(w){nt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){nt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(e,t),mr(t),r&4&&ix(t);break;case 21:break;default:tr(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AS(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ml(i,""),r.flags&=-33);var s=rx(t);Vm(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=rx(t);Mm(t,l,a);break;default:throw Error($(161))}}catch(c){nt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uR(t,e,n){ee=t,jS(t)}function jS(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||pu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||$t;l=pu;var u=$t;if(pu=a,($t=c)&&!u)for(ee=i;ee!==null;)a=ee,c=a.child,a.tag===22&&a.memoizedState!==null?ox(i):c!==null?(c.return=a,ee=c):ox(i);for(;s!==null;)ee=s,jS(s),s=s.sibling;ee=i,pu=l,$t=u}sx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):sx(t)}}function sx(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Ih(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&B0(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B0(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$l(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}$t||e.flags&512&&Lm(e)}catch(f){nt(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function ax(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function ox(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ih(4,e)}catch(c){nt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){nt(e,i,c)}}var s=e.return;try{Lm(e)}catch(c){nt(e,s,c)}break;case 5:var a=e.return;try{Lm(e)}catch(c){nt(e,a,c)}}}catch(c){nt(e,e.return,c)}if(e===t){ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ee=l;break}ee=e.return}}var dR=Math.ceil,Pd=ci.ReactCurrentDispatcher,Hv=ci.ReactCurrentOwner,Gn=ci.ReactCurrentBatchConfig,Te=0,Tt=null,ct=null,jt=0,bn=0,Pa=es(0),mt=0,Jl=null,Ls=0,Nh=0,Wv=0,bl=null,un=null,qv=0,to=1/0,zr=null,Ad=!1,Fm=null,Vi=null,mu=!1,Ii=null,Cd=0,_l=0,Um=null,Bu=-1,zu=0;function Zt(){return Te&6?at():Bu!==-1?Bu:Bu=at()}function Fi(t){return t.mode&1?Te&2&&jt!==0?jt&-jt:Kj.transition!==null?(zu===0&&(zu=mT()),zu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:_T(t.type)),t):1}function cr(t,e,n,r){if(50<_l)throw _l=0,Um=null,Error($(185));Ec(t,n,r),(!(Te&2)||t!==Tt)&&(t===Tt&&(!(Te&2)&&(Nh|=n),mt===4&&wi(t,jt)),mn(t,r),n===1&&Te===0&&!(e.mode&1)&&(to=at()+500,Eh&&ts()))}function mn(t,e){var n=t.callbackNode;Kk(t,e);var r=fd(t,t===Tt?jt:0);if(r===0)n!==null&&g0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&g0(n),e===1)t.tag===0?Gj(lx.bind(null,t)):$T(lx.bind(null,t)),zj(function(){!(Te&6)&&ts()}),n=null;else{switch(gT(r)){case 1:n=yv;break;case 4:n=fT;break;case 16:n=hd;break;case 536870912:n=pT;break;default:n=hd}n=US(n,RS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RS(t,e){if(Bu=-1,zu=0,Te&6)throw Error($(327));var n=t.callbackNode;if(Ma()&&t.callbackNode!==n)return null;var r=fd(t,t===Tt?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kd(t,r);else{e=r;var i=Te;Te|=2;var s=DS();(Tt!==t||jt!==e)&&(zr=null,to=at()+500,Ps(t,e));do try{pR();break}catch(l){OS(t,l)}while(!0);kv(),Pd.current=s,Te=i,ct!==null?e=0:(Tt=null,jt=0,e=mt)}if(e!==0){if(e===2&&(i=fm(t),i!==0&&(r=i,e=$m(t,i))),e===1)throw n=Jl,Ps(t,0),wi(t,r),mn(t,at()),n;if(e===6)wi(t,r);else{if(i=t.current.alternate,!(r&30)&&!hR(i)&&(e=kd(t,r),e===2&&(s=fm(t),s!==0&&(r=s,e=$m(t,s))),e===1))throw n=Jl,Ps(t,0),wi(t,r),mn(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:fs(t,un,zr);break;case 3:if(wi(t,r),(r&130023424)===r&&(e=qv+500-at(),10<e)){if(fd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bm(fs.bind(null,t,un,zr),e);break}fs(t,un,zr);break;case 4:if(wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-lr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dR(r/1960))-r,10<r){t.timeoutHandle=bm(fs.bind(null,t,un,zr),r);break}fs(t,un,zr);break;case 5:fs(t,un,zr);break;default:throw Error($(329))}}}return mn(t,at()),t.callbackNode===n?RS.bind(null,t):null}function $m(t,e){var n=bl;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=kd(t,e),t!==2&&(e=un,un=n,e!==null&&Bm(e)),t}function Bm(t){un===null?un=t:un.push.apply(un,t)}function hR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wi(t,e){for(e&=~Wv,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function lx(t){if(Te&6)throw Error($(327));Ma();var e=fd(t,0);if(!(e&1))return mn(t,at()),null;var n=kd(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=$m(t,r))}if(n===1)throw n=Jl,Ps(t,0),wi(t,e),mn(t,at()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fs(t,un,zr),mn(t,at()),null}function Gv(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(to=at()+500,Eh&&ts())}}function Ms(t){Ii!==null&&Ii.tag===0&&!(Te&6)&&Ma();var e=Te;Te|=1;var n=Gn.transition,r=Ce;try{if(Gn.transition=null,Ce=1,t)return t()}finally{Ce=r,Gn.transition=n,Te=e,!(Te&6)&&ts()}}function Kv(){bn=Pa.current,ze(Pa)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Bj(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Pv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yd();break;case 3:Za(),ze(fn),ze(qt),Mv();break;case 5:Lv(r);break;case 4:Za();break;case 13:ze(Je);break;case 19:ze(Je);break;case 10:jv(r.type._context);break;case 22:case 23:Kv()}n=n.return}if(Tt=t,ct=t=Ui(t.current,null),jt=bn=e,mt=0,Jl=null,Wv=Nh=Ls=0,un=bl=null,ws!==null){for(e=0;e<ws.length;e++)if(n=ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ws=null}return t}function OS(t,e){do{var n=ct;try{if(kv(),Fu.current=Nd,Id){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Id=!1}if(Ds=0,Et=pt=Ze=null,wl=!1,Yl=0,Hv.current=null,n===null||n.return===null){mt=1,Jl=e,ct=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Y0(a);if(p!==null){p.flags&=-257,Q0(p,a,l,s,e),p.mode&1&&K0(s,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(c),e.updateQueue=w}else g.add(c);break e}else{if(!(e&1)){K0(s,u,e),Yv();break e}c=Error($(426))}}else if(Qe&&l.mode&1){var y=Y0(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Q0(y,a,l,s,e),Av(eo(c,l));break e}}s=c=eo(c,l),mt!==4&&(mt=2),bl===null?bl=[s]:bl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=vS(s,c,e);$0(s,m);break e;case 1:l=c;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vi===null||!Vi.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=yS(s,l,e);$0(s,b);break e}}s=s.return}while(s!==null)}MS(n)}catch(I){e=I,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function DS(){var t=Pd.current;return Pd.current=Nd,t===null?Nd:t}function Yv(){(mt===0||mt===3||mt===2)&&(mt=4),Tt===null||!(Ls&268435455)&&!(Nh&268435455)||wi(Tt,jt)}function kd(t,e){var n=Te;Te|=2;var r=DS();(Tt!==t||jt!==e)&&(zr=null,Ps(t,e));do try{fR();break}catch(i){OS(t,i)}while(!0);if(kv(),Te=n,Pd.current=r,ct!==null)throw Error($(261));return Tt=null,jt=0,mt}function fR(){for(;ct!==null;)LS(ct)}function pR(){for(;ct!==null&&!Fk();)LS(ct)}function LS(t){var e=FS(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?MS(t):ct=e,Hv.current=null}function MS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oR(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ct=null;return}}else if(n=aR(n,e,bn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);mt===0&&(mt=5)}function fs(t,e,n){var r=Ce,i=Gn.transition;try{Gn.transition=null,Ce=1,mR(t,e,n,r)}finally{Gn.transition=i,Ce=r}return null}function mR(t,e,n,r){do Ma();while(Ii!==null);if(Te&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Yk(t,s),t===Tt&&(ct=Tt=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mu||(mu=!0,US(hd,function(){return Ma(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var a=Ce;Ce=1;var l=Te;Te|=4,Hv.current=null,cR(t,n),kS(n,t),Dj(wm),pd=!!ym,wm=ym=null,t.current=n,uR(n),Uk(),Te=l,Ce=a,Gn.transition=s}else t.current=n;if(mu&&(mu=!1,Ii=t,Cd=i),s=t.pendingLanes,s===0&&(Vi=null),zk(n.stateNode),mn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ad)throw Ad=!1,t=Fm,Fm=null,t;return Cd&1&&t.tag!==0&&Ma(),s=t.pendingLanes,s&1?t===Um?_l++:(_l=0,Um=t):_l=0,ts(),null}function Ma(){if(Ii!==null){var t=gT(Cd),e=Gn.transition,n=Ce;try{if(Gn.transition=null,Ce=16>t?16:t,Ii===null)var r=!1;else{if(t=Ii,Ii=null,Cd=0,Te&6)throw Error($(331));var i=Te;for(Te|=4,ee=t.current;ee!==null;){var s=ee,a=s.child;if(ee.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:xl(8,d,s)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,p=d.return;if(PS(d),d===u){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}ee=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ee=a;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ee=m;break e}ee=s.return}}var v=t.current;for(ee=v;ee!==null;){a=ee;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ee=x;else e:for(a=v;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ih(9,l)}}catch(I){nt(l,l.return,I)}if(l===a){ee=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ee=b;break e}ee=l.return}}if(Te=i,ts(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(yh,t)}catch{}r=!0}return r}finally{Ce=n,Gn.transition=e}}return!1}function cx(t,e,n){e=eo(n,e),e=vS(t,e,1),t=Mi(t,e,1),e=Zt(),t!==null&&(Ec(t,1,e),mn(t,e))}function nt(t,e,n){if(t.tag===3)cx(t,t,n);else for(;e!==null;){if(e.tag===3){cx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vi===null||!Vi.has(r))){t=eo(n,t),t=yS(e,t,1),e=Mi(e,t,1),t=Zt(),e!==null&&(Ec(e,1,t),mn(e,t));break}}e=e.return}}function gR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(jt&n)===n&&(mt===4||mt===3&&(jt&130023424)===jt&&500>at()-qv?Ps(t,0):Wv|=n),mn(t,e)}function VS(t,e){e===0&&(t.mode&1?(e=su,su<<=1,!(su&130023424)&&(su=4194304)):e=1);var n=Zt();t=ni(t,e),t!==null&&(Ec(t,e,n),mn(t,n))}function vR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VS(t,n)}function yR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),VS(t,n)}var FS;FS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,sR(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Qe&&e.flags&1048576&&BT(e,bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$u(t,e),t=e.pendingProps;var i=Qa(e,qt.current);La(e,n),i=Fv(null,e,r,t,i,n);var s=Uv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,wd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ov(e),i.updater=Th,e.stateNode=i,i._reactInternals=e,Pm(e,r,t,n),e=km(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&Nv(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($u(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xR(r),t=rr(r,t),i){case 0:e=Cm(null,e,r,t,n);break e;case 1:e=Z0(null,e,r,t,n);break e;case 11:e=X0(null,e,r,t,n);break e;case 14:e=J0(null,e,r,rr(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Cm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Z0(t,e,r,i,n);case 3:e:{if(_S(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qT(t,e),Td(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=eo(Error($(423)),e),e=ex(t,e,r,n,i);break e}else if(r!==i){i=eo(Error($(424)),e),e=ex(t,e,r,n,i);break e}else for(En=Li(e.stateNode.containerInfo.firstChild),Nn=e,Qe=!0,sr=null,n=QT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xa(),r===i){e=ri(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return XT(e),t===null&&Sm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,xm(r,i)?a=null:s!==null&&xm(r,s)&&(e.flags|=32),bS(t,e),Xt(t,e,a,n),e.child;case 6:return t===null&&Sm(e),null;case 13:return ES(t,e,n);case 4:return Dv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ja(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),X0(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Me(_d,r._currentValue),r._currentValue=a,s!==null)if(ur(s.value,a)){if(s.children===i.children&&!fn.current){e=ri(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Xr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Im(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error($(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Im(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,La(e,n),i=Qn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),J0(t,e,r,i,n);case 15:return wS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),$u(t,e),e.tag=1,pn(r)?(t=!0,wd(e)):t=!1,La(e,n),KT(e,r,i),Pm(e,r,i,n),km(null,e,r,!0,t,n);case 19:return TS(t,e,n);case 22:return xS(t,e,n)}throw Error($(156,e.tag))};function US(t,e){return hT(t,e)}function wR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new wR(t,e,n,r)}function Qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xR(t){if(typeof t=="function")return Qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mv)return 11;if(t===gv)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hu(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Qv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ya:return As(n.children,i,s,e);case pv:a=8,i|=8;break;case Jp:return t=qn(12,n,e,i|2),t.elementType=Jp,t.lanes=s,t;case Zp:return t=qn(13,n,e,i),t.elementType=Zp,t.lanes=s,t;case em:return t=qn(19,n,e,i),t.elementType=em,t.lanes=s,t;case YE:return Ph(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GE:a=10;break e;case KE:a=9;break e;case mv:a=11;break e;case gv:a=14;break e;case gi:a=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=qn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function As(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Ph(t,e,n,r){return t=qn(22,t,r,e),t.elementType=YE,t.lanes=n,t.stateNode={isHidden:!1},t}function tp(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function np(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lf(0),this.expirationTimes=Lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xv(t,e,n,r,i,s,a,l,c){return t=new bR(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ov(s),t}function _R(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $S(t){if(!t)return Ki;t=t._reactInternals;e:{if(Xs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(pn(n))return UT(t,n,e)}return e}function BS(t,e,n,r,i,s,a,l,c){return t=Xv(n,r,!0,t,i,s,a,l,c),t.context=$S(null),n=t.current,r=Zt(),i=Fi(n),s=Xr(r,i),s.callback=e??null,Mi(n,s,i),t.current.lanes=i,Ec(t,i,r),mn(t,r),t}function Ah(t,e,n,r){var i=e.current,s=Zt(),a=Fi(i);return n=$S(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mi(i,e,a),t!==null&&(cr(t,i,a,s),Vu(t,i,a)),a}function jd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ux(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jv(t,e){ux(t,e),(t=t.alternate)&&ux(t,e)}function ER(){return null}var zS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zv(t){this._internalRoot=t}Ch.prototype.render=Zv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Ah(t,e,null,null)};Ch.prototype.unmount=Zv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ms(function(){Ah(null,t,null,null)}),e[ti]=null}};function Ch(t){this._internalRoot=t}Ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=wT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yi.length&&e!==0&&e<yi[n].priority;n++);yi.splice(n,0,t),n===0&&bT(t)}};function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dx(){}function TR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=jd(a);s.call(u)}}var a=BS(e,r,t,0,null,!1,!1,"",dx);return t._reactRootContainer=a,t[ti]=a.current,Hl(t.nodeType===8?t.parentNode:t),Ms(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=jd(c);l.call(u)}}var c=Xv(t,0,!1,null,null,!1,!1,"",dx);return t._reactRootContainer=c,t[ti]=c.current,Hl(t.nodeType===8?t.parentNode:t),Ms(function(){Ah(e,c,n,r)}),c}function jh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=jd(a);l.call(c)}}Ah(e,a,t,i)}else a=TR(n,e,t,i,r);return jd(a)}vT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(wv(e,n|1),mn(e,at()),!(Te&6)&&(to=at()+500,ts()))}break;case 13:Ms(function(){var r=ni(t,1);if(r!==null){var i=Zt();cr(r,t,1,i)}}),Jv(t,1)}};xv=function(t){if(t.tag===13){var e=ni(t,134217728);if(e!==null){var n=Zt();cr(e,t,134217728,n)}Jv(t,134217728)}};yT=function(t){if(t.tag===13){var e=Fi(t),n=ni(t,e);if(n!==null){var r=Zt();cr(n,t,e,r)}Jv(t,e)}};wT=function(){return Ce};xT=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};um=function(t,e,n){switch(e){case"input":if(rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_h(r);if(!i)throw Error($(90));XE(r),rm(r,i)}}}break;case"textarea":ZE(t,n);break;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}};aT=Gv;oT=Ms;var SR={usingClientEntryPoint:!1,Events:[Sc,_a,_h,iT,sT,Gv]},zo={findFiberByHostInstance:ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},IR={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uT(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||ER,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{yh=gu.inject(IR),Er=gu}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SR;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ey(e))throw Error($(200));return _R(t,e,null,n)};On.createRoot=function(t,e){if(!ey(t))throw Error($(299));var n=!1,r="",i=zS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xv(t,1,!1,null,null,n,!1,r,i),t[ti]=e.current,Hl(t.nodeType===8?t.parentNode:t),new Zv(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=uT(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return Ms(t)};On.hydrate=function(t,e,n){if(!kh(e))throw Error($(200));return jh(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!ey(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=zS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=BS(e,null,t,1,n??null,i,!1,s,a),t[ti]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ch(e)};On.render=function(t,e,n){if(!kh(e))throw Error($(200));return jh(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!kh(t))throw Error($(40));return t._reactRootContainer?(Ms(function(){jh(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};On.unstable_batchedUpdates=Gv;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return jh(t,e,n,!1,r)};On.version="18.2.0-next-9e3b772b8-20220608";function HS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HS)}catch(t){console.error(t)}}HS(),BE.exports=On;var NR=BE.exports,hx=NR;Qp.createRoot=hx.createRoot,Qp.hydrateRoot=hx.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const fx="popstate";function PR(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:l="",hash:c=""}=Js(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),zm("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:Rd(s))}function r(i,s){Rh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return CR(e,n,r,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AR(){return Math.random().toString(36).substr(2,8)}function px(t,e){return{usr:t.state,key:t.key,idx:e}}function zm(t,e,n,r){return n===void 0&&(n=null),Zl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Js(e):e,{state:n,key:e&&e.key||r||AR()})}function Rd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Js(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Ni.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Zl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Ni.Pop;let y=d(),m=y==null?null:y-u;u=y,c&&c({action:l,location:w.location,delta:m})}function f(y,m){l=Ni.Push;let v=zm(w.location,y,m);n&&n(v,y),u=d()+1;let x=px(v,u),b=w.createHref(v);try{a.pushState(x,"",b)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(b)}s&&c&&c({action:l,location:w.location,delta:1})}function p(y,m){l=Ni.Replace;let v=zm(w.location,y,m);n&&n(v,y),u=d();let x=px(v,u),b=w.createHref(v);a.replaceState(x,"",b),s&&c&&c({action:l,location:w.location,delta:0})}function g(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Rd(y);return ht(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let w={get action(){return l},get location(){return t(i,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(fx,h),c=y,()=>{i.removeEventListener(fx,h),c=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let m=g(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(y){return a.go(y)}};return w}var mx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mx||(mx={}));function kR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Js(e):e,i=ty(r.pathname||"/",n);if(i==null)return null;let s=WS(t);jR(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=$R(s[l],HR(i));return a}function WS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ht(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=$i([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WS(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:FR(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of qS(s.path))i(s,a,c)}),e}function qS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=qS(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function jR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RR=/^:[\w-]+$/,OR=3,DR=2,LR=1,MR=10,VR=-2,gx=t=>t==="*";function FR(t,e){let n=t.split("/"),r=n.length;return n.some(gx)&&(r+=VR),e&&(r+=DR),n.filter(i=>!gx(i)).reduce((i,s)=>i+(RR.test(s)?OR:s===""?LR:MR),r)}function UR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $R(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=BR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=l.route;s.push({params:r,pathname:$i([i,d.pathname]),pathnameBase:YR($i([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=$i([i,d.pathnameBase]))}return s}function BR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=l[h]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?u[f]=void 0:u[f]=WR(g||"",f),u},{}),pathname:s,pathnameBase:a,pattern:t}}function zR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Rh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HR(t){try{return decodeURI(t)}catch(e){return Rh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function WR(t,e){try{return decodeURIComponent(t)}catch(n){return Rh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ty(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Js(t):t;return{pathname:n?n.startsWith("/")?n:GR(n,e):e,search:QR(r),hash:XR(i)}}function GR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GS(t,e){let n=KR(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function KS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Js(t):(i=Zl({},t),ht(!i.pathname||!i.pathname.includes("?"),rp("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),rp("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),rp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=qR(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const $i=t=>t.join("/").replace(/\/\/+/g,"/"),YR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YS=["post","put","patch","delete"];new Set(YS);const ZR=["get",...YS];new Set(ZR);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)}const ny=N.createContext(null),eO=N.createContext(null),Zs=N.createContext(null),Oh=N.createContext(null),ns=N.createContext({outlet:null,matches:[],isDataRoute:!1}),QS=N.createContext(null);function tO(t,e){let{relative:n}=e===void 0?{}:e;Nc()||ht(!1);let{basename:r,navigator:i}=N.useContext(Zs),{hash:s,pathname:a,search:l}=JS(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:$i([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Nc(){return N.useContext(Oh)!=null}function Pc(){return Nc()||ht(!1),N.useContext(Oh).location}function XS(t){N.useContext(Zs).static||N.useLayoutEffect(t)}function nO(){let{isDataRoute:t}=N.useContext(ns);return t?mO():rO()}function rO(){Nc()||ht(!1);let t=N.useContext(ny),{basename:e,future:n,navigator:r}=N.useContext(Zs),{matches:i}=N.useContext(ns),{pathname:s}=Pc(),a=JSON.stringify(GS(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return XS(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=KS(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:$i([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,s,t])}function bo(){let{matches:t}=N.useContext(ns),e=t[t.length-1];return e?e.params:{}}function JS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Zs),{matches:i}=N.useContext(ns),{pathname:s}=Pc(),a=JSON.stringify(GS(i,r.v7_relativeSplatPath));return N.useMemo(()=>KS(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function iO(t,e){return sO(t,e)}function sO(t,e,n,r){Nc()||ht(!1);let{navigator:i}=N.useContext(Zs),{matches:s}=N.useContext(ns),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Pc(),d;if(e){var h;let y=typeof e=="string"?Js(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ht(!1),d=y}else d=u;let f=d.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=kR(t,{pathname:p}),w=uO(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:$i([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:$i([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&w?N.createElement(Oh.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ni.Pop}},w):w}function aO(){let t=pO(),e=JR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const oO=N.createElement(aO,null);class lO extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(ns.Provider,{value:this.props.routeContext},N.createElement(QS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cO(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(ny);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ns.Provider,{value:e},r)}function uO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));d>=0||ht(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,g=!1,w=null,y=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||oO,c&&(u<0&&f===0?(gO("route-fallback",!1),g=!0,y=null):u===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=w:g?x=y:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,N.createElement(cO,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(lO,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var ZS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZS||{}),Od=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Od||{});function dO(t){let e=N.useContext(ny);return e||ht(!1),e}function hO(t){let e=N.useContext(eO);return e||ht(!1),e}function fO(t){let e=N.useContext(ns);return e||ht(!1),e}function eI(t){let e=fO(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function pO(){var t;let e=N.useContext(QS),n=hO(Od.UseRouteError),r=eI(Od.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mO(){let{router:t}=dO(ZS.UseNavigateStable),e=eI(Od.UseNavigateStable),n=N.useRef(!1);return XS(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ec({fromRouteId:e},s)))},[t,e])}const vx={};function gO(t,e,n){!e&&!vx[t]&&(vx[t]=!0)}function De(t){ht(!1)}function vO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ni.Pop,navigator:s,static:a=!1,future:l}=t;Nc()&&ht(!1);let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:s,static:a,future:ec({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Js(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,w=N.useMemo(()=>{let y=ty(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:g},navigationType:i}},[c,d,h,f,p,g,i]);return w==null?null:N.createElement(Zs.Provider,{value:u},N.createElement(Oh.Provider,{children:n,value:w}))}function ry(t){let{children:e,location:n}=t;return iO(Hm(e),n)}new Promise(()=>{});function Hm(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Hm(r.props.children,s));return}r.type!==De&&ht(!1),!r.props.index||!r.props.children||ht(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Hm(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}function yO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xO(t,e){return t.button===0&&(!e||e==="_self")&&!wO(t)}const bO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_O="6";try{window.__reactRouterVersion=_O}catch{}const EO="startTransition",yx=Yp[EO];function TO(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=PR({window:i,v5Compat:!0}));let a=s.current,[l,c]=N.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=N.useCallback(h=>{u&&yx?yx(()=>c(h)):c(h)},[c,u]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(vO,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const SO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=yO(e,bO),{basename:p}=N.useContext(Zs),g,w=!1;if(typeof u=="string"&&IO.test(u)&&(g=u,SO))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),I=ty(b.pathname,p);b.origin===x.origin&&I!=null?u=I+b.search+b.hash:w=!0}catch{}let y=tO(u,{relative:i}),m=NO(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,unstable_viewTransition:h});function v(x){r&&r(x),x.defaultPrevented||m(x)}return N.createElement("a",Wm({},f,{href:g||y,onClick:w||s?r:v,ref:n,target:c}))});var wx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wx||(wx={}));var xx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xx||(xx={}));function NO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:l}=e===void 0?{}:e,c=nO(),u=Pc(),d=JS(t,{relative:a});return N.useCallback(h=>{if(xO(h,n)){h.preventDefault();let f=r!==void 0?r:Rd(u)===Rd(d);c(t,{replace:f,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:l})}},[u,c,d,r,i,n,t,s,a,l])}var bx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},nI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,a||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new AO;const f=s<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CO=function(t){const e=tI(t);return nI.encodeByteArray(e,!0)},Dd=function(t){return CO(t).replace(/\./g,"")},iy=function(t){try{return nI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=()=>kO().__FIREBASE_DEFAULTS__,RO=()=>{if(typeof process>"u"||typeof bx>"u")return;const t=bx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iy(t[1]);return e&&JSON.parse(e)},Dh=()=>{try{return jO()||RO()||OO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rI=t=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iI=t=>{const e=rI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sI=()=>{var t;return(t=Dh())===null||t===void 0?void 0:t.config},aI=t=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dd(JSON.stringify(n)),Dd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function LO(){var t;const e=(t=Dh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const t=Ne();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MO(){return!LO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ay(){try{return typeof indexedDB=="object"}catch{return!1}}function dI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function VO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="FirebaseError";class rn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FO,Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?UO(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new rn(i,l,r)}}function UO(t,e){return t.replace($O,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $O=/\{\$([^}]+)}/g;function BO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(_x(s)&&_x(a)){if(!Vs(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _x(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function al(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hI(t,e){const n=new zO(t,e);return n.subscribe.bind(n)}class zO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ip),i.error===void 0&&(i.error=ip),i.complete===void 0&&(i.complete=ip);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ip(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=1e3,qO=2,GO=4*60*60*1e3,KO=.5;function Ex(t,e=WO,n=qO){const r=e*Math.pow(n,t),i=Math.round(KO*r*(Math.random()-.5)*2);return Math.min(GO,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class vn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XO(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function QO(t){return t===ps?void 0:t}function XO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const ZO={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},eD=ve.INFO,tD={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},nD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ac{constructor(e){this.name=e,this._logLevel=eD,this._logHandler=nD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const rD=(t,e)=>e.some(n=>t instanceof n);let Tx,Sx;function iD(){return Tx||(Tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sD(){return Sx||(Sx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fI=new WeakMap,qm=new WeakMap,pI=new WeakMap,sp=new WeakMap,oy=new WeakMap;function aD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Bi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&fI.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function oD(t){if(qm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});qm.set(t,e)}let Gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lD(t){Gm=t(Gm)}function cD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ap(this),e,...n);return pI.set(r,e.sort?e.sort():[e]),Bi(r)}:sD().includes(t)?function(...e){return t.apply(ap(this),e),Bi(fI.get(this))}:function(...e){return Bi(t.apply(ap(this),e))}}function uD(t){return typeof t=="function"?cD(t):(t instanceof IDBTransaction&&oD(t),rD(t,iD())?new Proxy(t,Gm):t)}function Bi(t){if(t instanceof IDBRequest)return aD(t);if(sp.has(t))return sp.get(t);const e=uD(t);return e!==t&&(sp.set(t,e),oy.set(e,t)),e}const ap=t=>oy.get(t);function mI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Bi(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Bi(a.result),c.oldVersion,c.newVersion,Bi(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const dD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],op=new Map;function Ix(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dD.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return op.set(e,s),s}lD(t=>({...t,get:(e,n,r)=>Ix(e,n)||t.get(e,n,r),has:(e,n)=>!!Ix(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",Nx="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Ac("@firebase/app"),mD="@firebase/app-compat",gD="@firebase/analytics-compat",vD="@firebase/analytics",yD="@firebase/app-check-compat",wD="@firebase/app-check",xD="@firebase/auth",bD="@firebase/auth-compat",_D="@firebase/database",ED="@firebase/database-compat",TD="@firebase/functions",SD="@firebase/functions-compat",ID="@firebase/installations",ND="@firebase/installations-compat",PD="@firebase/messaging",AD="@firebase/messaging-compat",CD="@firebase/performance",kD="@firebase/performance-compat",jD="@firebase/remote-config",RD="@firebase/remote-config-compat",OD="@firebase/storage",DD="@firebase/storage-compat",LD="@firebase/firestore",MD="@firebase/firestore-compat",VD="firebase",FD="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",UD={[Km]:"fire-core",[mD]:"fire-core-compat",[vD]:"fire-analytics",[gD]:"fire-analytics-compat",[wD]:"fire-app-check",[yD]:"fire-app-check-compat",[xD]:"fire-auth",[bD]:"fire-auth-compat",[_D]:"fire-rtdb",[ED]:"fire-rtdb-compat",[TD]:"fire-fn",[SD]:"fire-fn-compat",[ID]:"fire-iid",[ND]:"fire-iid-compat",[PD]:"fire-fcm",[AD]:"fire-fcm-compat",[CD]:"fire-perf",[kD]:"fire-perf-compat",[jD]:"fire-rc",[RD]:"fire-rc-compat",[OD]:"fire-gcs",[DD]:"fire-gcs-compat",[LD]:"fire-fst",[MD]:"fire-fst-compat","fire-js":"fire-js",[VD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,Qm=new Map;function $D(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){const e=t.name;if(Qm.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,t);for(const n of Ld.values())$D(n,t);return!0}function is(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zi=new Dr("app","Firebase",BD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=FD;function gI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zi.create("bad-app-name",{appName:String(i)});if(n||(n=sI()),!n)throw zi.create("no-options");const s=Ld.get(i);if(s){if(Vs(n,s.options)&&Vs(r,s.config))return s;throw zi.create("duplicate-app",{appName:i})}const a=new JO(i);for(const c of Qm.values())a.addComponent(c);const l=new zD(n,r,a);return Ld.set(i,l),l}function Lh(t=Ym){const e=Ld.get(t);if(!e&&t===Ym&&sI())return gI();if(!e)throw zi.create("no-app",{appName:t});return e}function zt(t,e,n){var r;let i=(r=UD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(l.join(" "));return}Cn(new vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebase-heartbeat-database",WD=1,tc="firebase-heartbeat-store";let lp=null;function vI(){return lp||(lp=mI(HD,WD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),lp}async function qD(t){try{const n=(await vI()).transaction(tc),r=await n.objectStore(tc).get(yI(t));return await n.done,r}catch(e){if(e instanceof rn)Fs.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(n.message)}}}async function Px(t,e){try{const r=(await vI()).transaction(tc,"readwrite");await r.objectStore(tc).put(e,yI(t)),await r.done}catch(n){if(n instanceof rn)Fs.warn(n.message);else{const r=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fs.warn(r.message)}}}function yI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1024,KD=30*24*60*60*1e3;class YD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ax();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=KD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ax(),{heartbeatsToSend:r,unsentEntries:i}=QD(this._heartbeatsCache.heartbeats),s=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ax(){return new Date().toISOString().substring(0,10)}function QD(t,e=GD){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Cx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ay()?dI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Px(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Px(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cx(t){return Dd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){Cn(new vn("platform-logger",e=>new fD(e),"PRIVATE")),Cn(new vn("heartbeat",e=>new YD(e),"PRIVATE")),zt(Km,Nx,t),zt(Km,Nx,"esm2017"),zt("fire-js","")}JD("");var ZD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,ly=ly||{},ue=ZD||self;function Mh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function eL(t){return Object.prototype.hasOwnProperty.call(t,cp)&&t[cp]||(t[cp]=++tL)}var cp="closure_uid_"+(1e9*Math.random()>>>0),tL=0;function nL(t,e,n){return t.call.apply(t.bind,arguments)}function rL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=nL:Ht=rL,Ht.apply(null,arguments)}function vu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function It(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[i].apply(r,a)}}function ss(){this.s=this.s,this.o=this.o}var iL=0;ss.prototype.s=!1;ss.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),iL!=0)&&eL(this)};ss.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function kx(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Mh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function Wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var sL=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ue.addEventListener("test",n,e),ue.removeEventListener("test",n,e)}catch{}return t}();function nc(t){return/^[\s\xa0]*$/.test(t)}function Vh(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function yr(t){return Vh().indexOf(t)!=-1}function uy(t){return uy[" "](t),t}uy[" "]=function(){};function aL(t,e){var n=JL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var oL=yr("Opera"),no=yr("Trident")||yr("MSIE"),xI=yr("Edge"),Xm=xI||no,bI=yr("Gecko")&&!(Vh().toLowerCase().indexOf("webkit")!=-1&&!yr("Edge"))&&!(yr("Trident")||yr("MSIE"))&&!yr("Edge"),lL=Vh().toLowerCase().indexOf("webkit")!=-1&&!yr("Edge");function _I(){var t=ue.document;return t?t.documentMode:void 0}var Jm;e:{var up="",dp=function(){var t=Vh();if(bI)return/rv:([^\);]+)(\)|;)/.exec(t);if(xI)return/Edge\/([\d\.]+)/.exec(t);if(no)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lL)return/WebKit\/(\S+)/.exec(t);if(oL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(dp&&(up=dp?dp[1]:""),no){var hp=_I();if(hp!=null&&hp>parseFloat(up)){Jm=String(hp);break e}}Jm=up}var Zm;if(ue.document&&no){var jx=_I();Zm=jx||parseInt(Jm,10)||void 0}else Zm=void 0;var cL=Zm;function rc(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bI){e:{try{uy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:uL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rc.$.h.call(this)}}It(rc,Wt);var uL={2:"touch",3:"pen",4:"mouse"};rc.prototype.h=function(){rc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kc="closure_listenable_"+(1e6*Math.random()|0),dL=0;function hL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++dL,this.fa=this.ia=!1}function Fh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function EI(t){const e={};for(const n in t)e[n]=t[n];return e}const Rx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Rx.length;s++)n=Rx[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uh(t){this.src=t,this.g={},this.h=0}Uh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var a=tg(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new hL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function eg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=wI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Fh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function tg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var hy="closure_lm_"+(1e6*Math.random()|0),fp={};function SI(t,e,n,r,i){if(r&&r.once)return NI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SI(t,e[s],n,r,i);return null}return n=my(n),t&&t[kc]?t.O(e,n,Cc(r)?!!r.capture:!!r,i):II(t,e,n,!1,r,i)}function II(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=Cc(i)?!!i.capture:!!i,l=py(t);if(l||(t[hy]=l=new Uh(t)),n=l.add(e,n,r,a,s),n.proxy)return n;if(r=pL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sL||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pL(){function t(n){return e.call(t.src,t.listener,n)}const e=mL;return t}function NI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NI(t,e[s],n,r,i);return null}return n=my(n),t&&t[kc]?t.P(e,n,Cc(r)?!!r.capture:!!r,i):II(t,e,n,!0,r,i)}function PI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)PI(t,e[s],n,r,i);else r=Cc(r)?!!r.capture:!!r,n=my(n),t&&t[kc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=tg(s,n,r,i),-1<n&&(Fh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=py(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tg(e,n,r,i)),(n=-1<t?e[t]:null)&&fy(n))}function fy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[kc])eg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=py(e))?(eg(n,t),n.h==0&&(n.src=null,e[hy]=null)):Fh(t)}}}function AI(t){return t in fp?fp[t]:fp[t]="on"+t}function mL(t,e){if(t.fa)t=!0;else{e=new rc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fy(t),t=n.call(r,e)}return t}function py(t){return t=t[hy],t instanceof Uh?t:null}var pp="__closure_events_fn_"+(1e9*Math.random()>>>0);function my(t){return typeof t=="function"?t:(t[pp]||(t[pp]=function(e){return t.handleEvent(e)}),t[pp])}function St(){ss.call(this),this.i=new Uh(this),this.S=this,this.J=null}It(St,ss);St.prototype[kc]=!0;St.prototype.removeEventListener=function(t,e,n,r){PI(this,t,e,n,r)};function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;e=new Wt(r,t),TI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=yu(a,r,!0,e)&&i}if(a=e.g=t,i=yu(a,r,!0,e)&&i,i=yu(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.g=n[s],i=yu(a,r,!1,e)&&i}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fh(n[r]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var l=a.listener,c=a.la||a.src;a.ia&&eg(t.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var gy=ue.JSON.stringify;class gL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function vL(){var t=vy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class yL{constructor(){this.h=this.g=null}add(e,n){const r=CI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var CI=new gL(()=>new wL,t=>t.reset());class wL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bL(t){ue.setTimeout(()=>{throw t},0)}let ic,sc=!1,vy=new yL,kI=()=>{const t=ue.Promise.resolve(void 0);ic=()=>{t.then(_L)}};var _L=()=>{for(var t;t=vL();){try{t.h.call(t.g)}catch(n){bL(n)}var e=CI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}sc=!1};function $h(t,e){St.call(this),this.h=t||1,this.g=e||ue,this.j=Ht(this.qb,this),this.l=Date.now()}It($h,St);Y=$h.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(yy(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function yy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){$h.$.N.call(this),yy(this),delete this.g};function wy(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function jI(t){t.g=wy(()=>{t.g=null,t.i&&(t.i=!1,jI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class EL extends ss{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jI(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ac(t){ss.call(this),this.h=t,this.g={}}It(ac,ss);var Ox=[];function RI(t,e,n,r){Array.isArray(n)||(n&&(Ox[0]=n.toString()),n=Ox);for(var i=0;i<n.length;i++){var s=SI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function OI(t){dy(t.g,function(e,n){this.g.hasOwnProperty(n)&&fy(e)},t),t.g={}}ac.prototype.N=function(){ac.$.N.call(this),OI(this)};ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Bh(){this.g=!0}Bh.prototype.Ea=function(){this.g=!1};function TL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var u=l[c].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+u+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function SL(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function Aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+NL(t,n)+(r?" "+r:"")})}function IL(t,e){t.info(function(){return"TIMEOUT: "+e})}Bh.prototype.info=function(){};function NL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return gy(n)}catch{return e}}var ea={},Dx=null;function zh(){return Dx=Dx||new St}ea.Ta="serverreachability";function DI(t){Wt.call(this,ea.Ta,t)}It(DI,Wt);function oc(t){const e=zh();Rt(e,new DI(e))}ea.STAT_EVENT="statevent";function LI(t,e){Wt.call(this,ea.STAT_EVENT,t),this.stat=e}It(LI,Wt);function Jt(t){const e=zh();Rt(e,new LI(e,t))}ea.Ua="timingevent";function MI(t,e){Wt.call(this,ea.Ua,t),this.size=e}It(MI,Wt);function jc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var Hh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xy(){}xy.prototype.h=null;function Lx(t){return t.h||(t.h=t.i())}function FI(){}var Rc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function by(){Wt.call(this,"d")}It(by,Wt);function _y(){Wt.call(this,"c")}It(_y,Wt);var ng;function Wh(){}It(Wh,xy);Wh.prototype.g=function(){return new XMLHttpRequest};Wh.prototype.i=function(){return{}};ng=new Wh;function Oc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ac(this),this.P=PL,t=Xm?125:void 0,this.V=new $h(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UI}function UI(){this.i=null,this.g="",this.h=!1}var PL=45e3,$I={},rg={};Y=Oc.prototype;Y.setTimeout=function(t){this.P=t};function ig(t,e,n){t.L=1,t.A=Gh(ii(e)),t.u=n,t.S=!0,BI(t,null)}function BI(t,e){t.G=Date.now(),Dc(t),t.B=ii(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),QI(n.i,"t",r),t.o=0,n=t.l.J,t.h=new UI,t.g=v1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new EL(Ht(t.Pa,t,t.g),t.O)),RI(t.U,t.g,"readystatechange",t.nb),e=t.I?EI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),oc(),TL(t.j,t.v,t.B,t.m,t.W,t.u)}Y.nb=function(t){t=t.target;const e=this.M;e&&wr(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const d=wr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Xm||this.g&&(this.h.h||this.g.ja()||Ux(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?oc(3):oc(2)),qh(this);var n=this.g.da();this.ca=n;t:if(zI(this)){var r=Ux(this.g);t="";var i=r.length,s=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),El(this);var a="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,SL(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nc(l)){var u=l;break t}}u=null}if(n=u)Aa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sg(this,n);else{this.i=!1,this.s=3,Jt(12),bs(this),El(this);break e}}this.S?(HI(this,d,a),Xm&&this.i&&d==3&&(RI(this.U,this.V,"tick",this.mb),this.V.start())):(Aa(this.j,this.m,a,null),sg(this,a)),d==4&&bs(this),this.i&&!this.J&&(d==4?f1(this.l,this):(this.i=!1,Dc(this)))}else YL(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),bs(this),El(this)}}}catch{}finally{}};function zI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function HI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=AL(t,n),i==rg){e==4&&(t.s=4,Jt(14),r=!1),Aa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==$I){t.s=4,Jt(15),Aa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Aa(t.j,t.m,i,null),sg(t,i);zI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Py(e),e.M=!0,Jt(11))):(Aa(t.j,t.m,n,"[Invalid Chunked Response]"),bs(t),El(t))}Y.mb=function(){if(this.g){var t=wr(this.g),e=this.g.ja();this.o<e.length&&(qh(this),HI(this,t,e),this.i&&t!=4&&Dc(this))}};function AL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?rg:(n=Number(e.substring(n,r)),isNaN(n)?$I:(r+=1,r+n>e.length?rg:(e=e.slice(r,r+n),t.o=r+n,e)))}Y.cancel=function(){this.J=!0,bs(this)};function Dc(t){t.Y=Date.now()+t.P,WI(t,t.P)}function WI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=jc(Ht(t.lb,t),e)}function qh(t){t.C&&(ue.clearTimeout(t.C),t.C=null)}Y.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(IL(this.j,this.B),this.L!=2&&(oc(),Jt(17)),bs(this),this.s=2,El(this)):WI(this,this.Y-t)};function El(t){t.l.H==0||t.J||f1(t.l,t)}function bs(t){qh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,yy(t.V),OI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function sg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ag(n.i,t))){if(!t.K&&ag(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Fd(n),Xh(n);else break e;Ny(n),Jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=jc(Ht(n.ib,n),6e3));if(1>=ZI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _s(n,11)}else if((t.K||n.g==t)&&Fd(n),!nc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Ey(s,s.h),s.h=null))}if(r.F){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,$e(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=g1(r,r.J?r.pa:null,r.Y),a.K){e1(r.i,a);var l=a,c=r.L;c&&l.setTimeout(c),l.C&&(qh(l),Dc(l)),r.g=a}else d1(r);0<n.j.length&&Jh(n)}else u[0]!="stop"&&u[0]!="close"||_s(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?_s(n,7):Iy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}oc(4)}catch{}}function CL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Mh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function kL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function qI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=kL(t),r=CL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var GI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Cs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Cs){this.h=t.h,Md(this,t.j),this.s=t.s,this.g=t.g,Vd(this,t.m),this.l=t.l;var e=t.i,n=new lc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Mx(this,n),this.o=t.o}else t&&(e=String(t).match(GI))?(this.h=!1,Md(this,e[1]||"",!0),this.s=ol(e[2]||""),this.g=ol(e[3]||"",!0),Vd(this,e[4]),this.l=ol(e[5]||"",!0),Mx(this,e[6]||"",!0),this.o=ol(e[7]||"")):(this.h=!1,this.i=new lc(null,this.h))}Cs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ll(e,Vx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ll(e,Vx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ll(n,n.charAt(0)=="/"?DL:OL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ll(n,ML)),t.join("")};function ii(t){return new Cs(t)}function Md(t,e,n){t.j=n?ol(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Mx(t,e,n){e instanceof lc?(t.i=e,VL(t.i,t.h)):(n||(e=ll(e,LL)),t.i=new lc(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Gh(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ol(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ll(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,RL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function RL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Vx=/[#\/\?@]/g,OL=/[#\?:]/g,DL=/[#\?]/g,LL=/[#\?@]/g,ML=/#/g;function lc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function as(t){t.g||(t.g=new Map,t.h=0,t.i&&jL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=lc.prototype;Y.add=function(t,e){as(this),this.i=null,t=_o(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function KI(t,e){as(t),e=_o(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function YI(t,e){return as(t),e=_o(t,e),t.g.has(e)}Y.forEach=function(t,e){as(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.ta=function(){as(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Y.Z=function(t){as(this);let e=[];if(typeof t=="string")YI(this,t)&&(e=e.concat(this.g.get(_o(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return as(this),this.i=null,t=_o(this,t),YI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function QI(t,e,n){KI(t,e),0<n.length&&(t.i=null,t.g.set(_o(t,e),cy(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};function _o(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VL(t,e){e&&!t.j&&(as(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(KI(this,r),QI(this,i,n))},t)),t.j=e}var FL=class{constructor(t,e){this.g=t,this.map=e}};function XI(t){this.l=t||UL,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UL=10;function JI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ZI(t){return t.h?1:t.g?t.g.size:0}function ag(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ey(t,e){t.g?t.g.add(e):t.h=e}function e1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}XI.prototype.cancel=function(){if(this.i=t1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function t1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return cy(t.i)}var $L=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function BL(){this.g=new $L}function zL(t,e,n){const r=n||"";try{qI(t,function(i,s){let a=i;Cc(i)&&(a=gy(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function HL(t,e){const n=new Bh;if(ue.Image){const r=new Image;r.onload=vu(wu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vu(wu,n,r,"TestLoadImage: error",!1,e),r.onabort=vu(wu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vu(wu,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function wu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kh(t){this.l=t.ec||null,this.j=t.ob||!1}It(Kh,xy);Kh.prototype.g=function(){return new Yh(this.l,this.j)};Kh.prototype.i=function(t){return function(){return t}}({});function Yh(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ty,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(Yh,St);var Ty=0;Y=Yh.prototype;Y.open=function(t,e){if(this.readyState!=Ty)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cc(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lc(this)),this.readyState=Ty};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cc(this)),this.g&&(this.readyState=3,cc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;n1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function n1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lc(this):cc(this),this.readyState==3&&n1(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,Lc(this))};Y.Ya=function(t){this.g&&(this.response=t,Lc(this))};Y.ka=function(){this.g&&Lc(this)};function Lc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cc(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var WL=ue.JSON.parse;function rt(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=r1,this.L=this.M=!1}It(rt,St);var r1="",qL=/^https?$/i,GL=["POST","PUT"];Y=rt.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ng.g(),this.C=this.u?Lx(this.u):Lx(ng),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Fx(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ue.FormData&&t instanceof ue.FormData,!(0<=wI(GL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{a1(this),0<this.B&&((this.L=KL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=wy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Fx(this,s)}};function KL(t){return no&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof ly<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))};function Fx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,i1(t),Qh(t)}function i1(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),Qh(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qh(this,!0)),rt.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?s1(this):this.kb())};Y.kb=function(){s1(this)};function s1(t){if(t.h&&typeof ly<"u"&&(!t.C[1]||wr(t)!=4||t.da()!=2)){if(t.v&&wr(t)==4)wy(t.La,0,t);else if(Rt(t,"readystatechange"),wr(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(GI)[1]||null;!i&&ue.self&&ue.self.location&&(i=ue.self.location.protocol.slice(0,-1)),r=!qL.test(i?i.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var s=2<wr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",i1(t)}}finally{Qh(t)}}}}function Qh(t,e){if(t.g){a1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function a1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function wr(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),WL(e)}};function Ux(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case r1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function YL(t){const e={};t=(t.g&&2<=wr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(nc(t[r]))continue;var n=xL(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}fL(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function o1(t){let e="";return dy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Sy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=o1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function Ho(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function l1(t){this.Ga=0,this.j=[],this.l=new Bh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ho("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ho("baseRetryDelayMs",5e3,t),this.hb=Ho("retryDelaySeedMs",1e4,t),this.eb=Ho("forwardChannelMaxRetries",2,t),this.xa=Ho("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new XI(t&&t.concurrentRequestLimit),this.Ja=new BL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=l1.prototype;Y.ra=8;Y.H=1;function Iy(t){if(c1(t),t.H==3){var e=t.W++,n=ii(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Mc(t,n),e=new Oc(t,t.l,e),e.L=2,e.A=Gh(ii(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ue.Image&&(new Image().src=e.A,n=!0),n||(e.g=v1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Dc(e)}m1(t)}function Xh(t){t.g&&(Py(t),t.g.cancel(),t.g=null)}function c1(t){Xh(t),t.u&&(ue.clearTimeout(t.u),t.u=null),Fd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function Jh(t){if(!JI(t.i)&&!t.m){t.m=!0;var e=t.Na;ic||kI(),sc||(ic(),sc=!0),vy.add(e,t),t.C=0}}function QL(t,e){return ZI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=jc(Ht(t.Na,t,e),p1(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Oc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=EI(s),TI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=u1(this,i,e),n=ii(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Mc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(o1(s)))+"&"+e:this.o&&Sy(n,this.o,s)),Ey(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,ig(i,n,null)):ig(i,n,e),this.H=2}}else this.H==3&&(t?$x(this,t):this.j.length==0||JI(this.i)||$x(this))};function $x(t,e){var n;e?n=e.m:n=t.W++;const r=ii(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Mc(t,r),t.o&&t.s&&Sy(r,t.o,t.s),n=new Oc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=u1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ey(t.i,n),ig(n,r,e)}function Mc(t,e){t.na&&dy(t.na,function(n,r){$e(e,r,n)}),t.h&&qI({},function(n,r){$e(e,r,n)})}function u1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let l=!0;for(let c=0;c<n;c++){let u=i[c].g;const d=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),l=!1;else try{zL(d,a,"req"+u+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function d1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ic||kI(),sc||(ic(),sc=!0),vy.add(e,t),t.A=0}}function Ny(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=jc(Ht(t.Ma,t),p1(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,h1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=jc(Ht(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jt(10),Xh(this),h1(this))};function Py(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function h1(t){t.g=new Oc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ii(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Mc(t,e),t.o&&t.s&&Sy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Gh(ii(e)),n.u=null,n.S=!0,BI(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,Xh(this),Ny(this),Jt(19))};function Fd(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function f1(t,e){var n=null;if(t.g==e){Fd(t),Py(t),t.g=null;var r=2}else if(ag(t.i,e))n=e.F,e1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=zh(),Rt(r,new MI(r,n)),Jh(t)}else d1(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&QL(t,e)||r==2&&Ny(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:_s(t,5);break;case 4:_s(t,10);break;case 3:_s(t,6);break;default:_s(t,2)}}}function p1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _s(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new Cs("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||Md(n,"https"),Gh(n)),HL(n.toString(),r)}else Jt(2);t.H=0,t.h&&t.h.za(e),m1(t),c1(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Jt(2)):(this.l.info("Failed to ping google.com"),Jt(1))};function m1(t){if(t.H=0,t.ma=[],t.h){const e=t1(t.i);(e.length!=0||t.j.length!=0)&&(kx(t.ma,e),kx(t.ma,t.j),t.i.i.length=0,cy(t.j),t.j.length=0),t.h.ya()}}function g1(t,e,n){var r=n instanceof Cs?ii(n):new Cs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Vd(r,r.m);else{var i=ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Cs(null);r&&Md(s,r),e&&(s.g=e),i&&Vd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),Mc(t,r),r}function v1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new rt(new Kh({ob:n})):new rt(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function y1(){}Y=y1.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function Ud(){if(no&&!(10<=Number(cL)))throw Error("Environmental error: no available transport.")}Ud.prototype.g=function(t,e){return new kn(t,e)};function kn(t,e){St.call(this),this.g=new l1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Eo(this)}It(kn,St);kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Jt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=g1(t,null,t.Y),Jh(t)};kn.prototype.close=function(){Iy(this.g)};kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=gy(t),t=n);e.j.push(new FL(e.fb++,t)),e.H==3&&Jh(e)};kn.prototype.N=function(){this.g.h=null,delete this.j,Iy(this.g),delete this.g,kn.$.N.call(this)};function w1(t){by.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(w1,by);function x1(){_y.call(this),this.status=1}It(x1,_y);function Eo(t){this.g=t}It(Eo,y1);Eo.prototype.Ba=function(){Rt(this.g,"a")};Eo.prototype.Aa=function(t){Rt(this.g,new w1(t))};Eo.prototype.za=function(t){Rt(this.g,new x1)};Eo.prototype.ya=function(){Rt(this.g,"b")};function XL(){this.blockSize=-1}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}It(dr,XL);dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(a<<12&4294967295|a>>>20),a=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(a<<9&4294967295|a>>>23),a=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(a<<11&4294967295|a>>>21),a=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(a<<10&4294967295|a>>>22),a=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}dr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)mp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){mp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){mp(this,r),i=0;break}}this.h=i,this.i+=e};dr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ke(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var JL={};function Ay(t){return-128<=t&&128>t?aL(t,function(e){return new ke([e|0],0>e?-1:0)}):new ke([t|0],0>t?-1:0)}function xr(t){if(isNaN(t)||!isFinite(t))return Va;if(0>t)return Ct(xr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=og;return new ke(e,0)}function b1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct(b1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xr(Math.pow(e,8)),r=Va,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=xr(Math.pow(e,s)),r=r.R(s).add(xr(a))):(r=r.R(n),r=r.add(xr(a)))}return r}var og=4294967296,Va=Ay(0),lg=Ay(1),Bx=Ay(16777216);Y=ke.prototype;Y.ea=function(){if(Wn(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:og+r)*e,e*=og}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Gr(this))return"0";if(Wn(this))return"-"+Ct(this).toString(t);for(var e=xr(Math.pow(t,6)),n=this,r="";;){var i=Bd(n,e).g;n=$d(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Gr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Gr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wn(t){return t.h==-1}Y.X=function(t){return t=$d(this,t),Wn(t)?-1:Gr(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ke(n,~t.h).add(lg)}Y.abs=function(){return Wn(this)?Ct(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new ke(n,n[n.length-1]&-2147483648?-1:0)};function $d(t,e){return t.add(Ct(e))}Y.R=function(t){if(Gr(this)||Gr(t))return Va;if(Wn(this))return Wn(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(Wn(t))return Ct(this.R(Ct(t)));if(0>this.X(Bx)&&0>t.X(Bx))return xr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,l=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=a*c,xu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,xu(n,2*r+2*i+1),n[2*r+2*i+1]+=a*l,xu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,xu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ke(n,0)};function xu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Wo(t,e){this.g=t,this.h=e}function Bd(t,e){if(Gr(e))throw Error("division by zero");if(Gr(t))return new Wo(Va,Va);if(Wn(t))return e=Bd(Ct(t),e),new Wo(Ct(e.g),Ct(e.h));if(Wn(e))return e=Bd(t,Ct(e)),new Wo(Ct(e.g),e.h);if(30<t.g.length){if(Wn(t)||Wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lg,r=e;0>=r.X(t);)n=zx(n),r=zx(r);var i=ua(n,1),s=ua(r,1);for(r=ua(r,2),n=ua(n,2);!Gr(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=ua(r,1),n=ua(n,1)}return e=$d(t,i.R(e)),new Wo(i,e)}for(i=Va;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=xr(n),a=s.R(e);Wn(a)||0<a.X(t);)n-=r,s=xr(n),a=s.R(e);Gr(s)&&(s=lg),i=i.add(s),t=$d(t,a)}return new Wo(i,t)}Y.gb=function(t){return Bd(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ke(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ke(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ke(n,this.h^t.h)};function zx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ke(n,t.h)}function ua(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ke(i,t.h)}Ud.prototype.createWebChannel=Ud.prototype.g;kn.prototype.send=kn.prototype.u;kn.prototype.open=kn.prototype.m;kn.prototype.close=kn.prototype.close;Hh.NO_ERROR=0;Hh.TIMEOUT=8;Hh.HTTP_ERROR=6;VI.COMPLETE="complete";FI.EventType=Rc;Rc.OPEN="a";Rc.CLOSE="b";Rc.ERROR="c";Rc.MESSAGE="d";St.prototype.listen=St.prototype.O;rt.prototype.listenOnce=rt.prototype.P;rt.prototype.getLastError=rt.prototype.Sa;rt.prototype.getLastErrorCode=rt.prototype.Ia;rt.prototype.getStatus=rt.prototype.da;rt.prototype.getResponseJson=rt.prototype.Wa;rt.prototype.getResponseText=rt.prototype.ja;rt.prototype.send=rt.prototype.ha;rt.prototype.setWithCredentials=rt.prototype.Oa;dr.prototype.digest=dr.prototype.l;dr.prototype.reset=dr.prototype.reset;dr.prototype.update=dr.prototype.j;ke.prototype.add=ke.prototype.add;ke.prototype.multiply=ke.prototype.R;ke.prototype.modulo=ke.prototype.gb;ke.prototype.compare=ke.prototype.X;ke.prototype.toNumber=ke.prototype.ea;ke.prototype.toString=ke.prototype.toString;ke.prototype.getBits=ke.prototype.D;ke.fromNumber=xr;ke.fromString=b1;var ZL=function(){return new Ud},eM=function(){return zh()},gp=Hh,tM=VI,nM=ea,Hx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bu=FI,rM=rt,iM=dr,Fa=ke;const Wx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Ac("@firebase/firestore");function qo(){return Us.logLevel}function K(t,...e){if(Us.logLevel<=ve.DEBUG){const n=e.map(Cy);Us.debug(`Firestore (${To}): ${t}`,...n)}}function jr(t,...e){if(Us.logLevel<=ve.ERROR){const n=e.map(Cy);Us.error(`Firestore (${To}): ${t}`,...n)}}function ro(t,...e){if(Us.logLevel<=ve.WARN){const n=e.map(Cy);Us.warn(`Firestore (${To}): ${t}`,...n)}}function Cy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ve(t,e){t||ce()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class aM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oM{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new _1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Ut(e)}}class lM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new uM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new gt(0,0))}static max(){return new de(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends uc{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const fM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends uc{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return fM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new X(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Be.fromString(e))}static fromName(e){return new ne(Be.fromString(e).popFirst(5))}static empty(){return new ne(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Be(e.slice()))}}function pM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Yi(i,ne.empty(),e)}function mM(t){return new Yi(t.readTime,t.key,-1)}class Yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yi(de.min(),ne.empty(),-1)}static max(){return new Yi(de.max(),ne.empty(),-1)}}function gM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==vM)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Sr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Tl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=jy(r.target.error);this.V.reject(new Tl(e,i))}}static open(e,n,r,i){try{return new ky(n,e.transaction(i,r))}catch(s){throw new Tl(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new xM(n)}}class Es{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Es.S(Ne())===12.2&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),gs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ay())return!1;if(Es.C())return!0;const e=Ne(),n=Es.S(e),r=0<n&&n<10,i=Es.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new Tl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new X(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new X(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Tl(e,a))},i.onupgradeneeded=s=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.N(a,i.transaction,s.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const l=ky.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),U.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&a<3;if(K("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class wM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return gs(this.k.delete())}}class Tl extends X{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fc(t){return t.name==="IndexedDbTransactionError"}class xM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),gs(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),gs(this.store.add(e))}get(e){return gs(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),gs(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),gs(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new U((a,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{a(c.target.result)}})}{const s=this.cursor(r),a=[];return this.G(s,(l,c)=>{a.push(c)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,a,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new U((r,i)=>{n.onerror=s=>{const a=jy(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():r()}):r()}})}G(e,n){const r=[];return new U((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void i();const c=new wM(l),u=n(l.primaryKey,l.value,c);if(u instanceof U){const d=u.catch(h=>(c.done(),U.reject(h)));r.push(d)}c.isDone?i():c.$===null?l.continue():l.continue(c.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function gs(t){return new U((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=jy(r.target.error);n(i)}})}let qx=!1;function jy(t){const e=Es.S(Ne());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qx||(qx=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ry._e=-1;function Zh(t){return t==null}function zd(t){return t===0&&1/t==-1/0}function bM(t){return typeof t=="number"&&Number.isInteger(t)&&!zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _u(this.root,e,this.comparator,!1)}getReverseIterator(){return new _u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _u(this.root,e,this.comparator,!0)}}class _u{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kx(this.data.getIterator())}getIteratorFrom(e){return new Kx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Kx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Ot(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new S1("Invalid base64 string: "+s):s}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const _M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=_M.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dy(t){const e=t.mapValue.fields.__previous_value__;return Oy(e)?Dy(e):e}function dc(t){const e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,i,s,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class hc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oy(t)?4:TM(t)?9007199254740991:10:ce()}function Rr(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Qi(i.timestampValue),l=Qi(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return $s(i.bytesValue).isEqual($s(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=lt(i.doubleValue),l=lt(s.doubleValue);return a===l?zd(a)===zd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return io(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Gx(a)!==Gx(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Rr(a[c],l[c])))return!1;return!0}(t,e);default:return ce()}}function fc(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function so(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=lt(s.integerValue||s.doubleValue),c=lt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Yx(t.timestampValue,e.timestampValue);case 4:return Yx(dc(t),dc(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,a){const l=$s(s),c=$s(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ae(l[u],c[u]);if(d!==0)return d}return Ae(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=Ae(lt(s.latitude),lt(a.latitude));return l!==0?l:Ae(lt(s.longitude),lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const l=s.values||[],c=a.values||[];for(let u=0;u<l.length&&u<c.length;++u){const d=so(l[u],c[u]);if(d)return d}return Ae(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===Eu.mapValue&&a===Eu.mapValue)return 0;if(s===Eu.mapValue)return 1;if(a===Eu.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=Ae(c[h],d[h]);if(f!==0)return f;const p=so(l[c[h]],u[d[h]]);if(p!==0)return p}return Ae(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ce()}}function Yx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Qi(t),r=Qi(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function ao(t){return cg(t)}function cg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=cg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${cg(n.fields[a])}`;return i+"}"}(t.mapValue):ce()}function Qx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ug(t){return!!t&&"integerValue"in t}function Ly(t){return!!t&&"arrayValue"in t}function Xx(t){return!!t&&"nullValue"in t}function Jx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wu(t){return!!t&&"mapValue"in t}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Sl(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ta(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(Sl(this.value))}}function I1(t){const e=[];return ta(t.fields,(n,r)=>{const i=new kt([n]);if(Wu(r)){const s=I1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Bt(e,0,de.min(),de.min(),de.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,de.min(),de.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,de.min(),de.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.position=e,this.inclusive=n}}function Zx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=so(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function SM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class ut extends N1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NM(e,n,r):n==="array-contains"?new CM(e,r):n==="in"?new kM(e,r):n==="not-in"?new jM(e,r):n==="array-contains-any"?new RM(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PM(e,r):new AM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends N1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new hr(e,n)}matches(e){return P1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function P1(t){return t.op==="and"}function A1(t){return IM(t)&&P1(t)}function IM(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function dg(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+ao(t.value);if(A1(t))return t.filters.map(e=>dg(e)).join(",");{const e=t.filters.map(n=>dg(n)).join(",");return`${t.op}(${e})`}}function C1(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&Rr(r.value,i.value)}(t,e):t instanceof hr?function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&C1(a,i.filters[l]),!0):!1}(t,e):void ce()}function k1(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(k1).join(" ,")+"}"}(t):"Filter"}class NM extends ut{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class PM extends ut{constructor(e,n){super(e,"in",n),this.keys=j1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AM extends ut{constructor(e,n){super(e,"not-in",n),this.keys=j1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function j1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class CM extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ly(n)&&fc(n.arrayValue,this.value)}}class kM extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}}class jM extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fc(this.value.arrayValue,n)}}class RM extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ce=null}}function tb(t,e=null,n=[],r=[],i=null,s=null,a=null){return new OM(t,e,n,r,i,s,a)}function My(t){const e=pe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ao(r)).join(",")),e.ce=n}return e.ce}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eb(t.startAt,e.startAt)&&eb(t.endAt,e.endAt)}function hg(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function DM(t,e,n,r,i,s,a,l){return new Uc(t,e,n,r,i,s,a,l)}function Fy(t){return new Uc(t)}function nb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R1(t){return t.collectionGroup!==null}function Il(t){const e=pe(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ot(kt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Wd(s,r))}),n.has(kt.keyField().canonicalString())||e.le.push(new Wd(kt.keyField(),r))}return e.le}function Ir(t){const e=pe(t);return e.he||(e.he=LM(e,Il(t))),e.he}function LM(t,e){if(t.limitType==="F")return tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wd(i.field,s)});const n=t.endAt?new Hd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hd(t.startAt.position,t.startAt.inclusive):null;return tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fg(t,e){const n=t.filters.concat([e]);return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pg(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ef(t,e){return Vy(Ir(t),Ir(e))&&t.limitType===e.limitType}function O1(t){return`${My(Ir(t))}|lt:${t.limitType}`}function fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>k1(i)).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ao(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ao(i)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function tf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const u=Zx(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Il(r),i)||r.endAt&&!function(a,l,c){const u=Zx(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Il(r),i))}(t,e)}function MM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function D1(t){return(e,n)=>{let r=!1;for(const i of Il(t)){const s=VM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VM(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),u=l.data.field(s);return c!==null&&u!==null?so(c,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new tt(ne.comparator);function si(){return FM}const L1=new tt(ne.comparator);function cl(...t){let e=L1;for(const n of t)e=e.insert(n.key,n);return e}function M1(t){let e=L1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ts(){return Nl()}function V1(){return Nl()}function Nl(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const UM=new tt(ne.comparator),$M=new Ot(ne.comparator);function we(...t){let e=$M;for(const n of t)e=e.add(n);return e}const BM=new Ot(Ae);function zM(){return BM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function U1(t){return{integerValue:""+t}}function HM(t,e){return bM(e)?U1(e):F1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function WM(t,e,n){return t instanceof qd?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Oy(s)&&(s=Dy(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof oo?B1(t,e):t instanceof lo?z1(t,e):function(i,s){const a=$1(i,s),l=rb(a)+rb(i.Ie);return ug(a)&&ug(i.Ie)?U1(l):F1(i.serializer,l)}(t,e)}function qM(t,e,n){return t instanceof oo?B1(t,e):t instanceof lo?z1(t,e):n}function $1(t,e){return t instanceof Gd?function(r){return ug(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qd extends nf{}class oo extends nf{constructor(e){super(),this.elements=e}}function B1(t,e){const n=H1(e);for(const r of t.elements)n.some(i=>Rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class lo extends nf{constructor(e){super(),this.elements=e}}function z1(t,e){let n=H1(e);for(const r of t.elements)n=n.filter(i=>!Rr(i,r));return{arrayValue:{values:n}}}class Gd extends nf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function rb(t){return lt(t.integerValue||t.doubleValue)}function H1(t){return Ly(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.field=e,this.transform=n}}function GM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oo&&i instanceof oo||r instanceof lo&&i instanceof lo?io(r.elements,i.elements,Rr):r instanceof Gd&&i instanceof Gd?Rr(r.Ie,i.Ie):r instanceof qd&&i instanceof qd}(t.transform,e.transform)}class KM{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rf{}function q1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uy(t.key,Kn.none()):new $c(t.key,t.data,Kn.none());{const n=t.data,r=dn.empty();let i=new Ot(kt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new os(t.key,r,new Tn(i.toArray()),Kn.none())}}function YM(t,e,n){t instanceof $c?function(i,s,a){const l=i.value.clone(),c=sb(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof os?function(i,s,a){if(!qu(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=sb(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(G1(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Pl(t,e,n,r){return t instanceof $c?function(s,a,l,c){if(!qu(s.precondition,a))return l;const u=s.value.clone(),d=ab(s.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(s,a,l,c){if(!qu(s.precondition,a))return l;const u=ab(s.fieldTransforms,c,a),d=a.data;return d.setAll(G1(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,a,l){return qu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function QM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$1(r.transform,i||null);s!=null&&(n===null&&(n=dn.empty()),n.set(r.field,s))}return n||null}function ib(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&io(r,i,(s,a)=>GM(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends rf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends rf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function G1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sb(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,qM(a,l,n[i]))}return r}function ab(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,WM(s,a,e))}return r}class Uy extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XM extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&YM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V1();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=q1(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,r)=>ib(n,r))&&io(this.baseMutations,e.baseMutations,(n,r)=>ib(n,r))}}class $y{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return UM}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new $y(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,_e;function tV(t){switch(t){default:return ce();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function K1(t){if(t===void 0)return jr("GRPC error has no .code"),V.UNKNOWN;switch(t){case ot.OK:return V.OK;case ot.CANCELLED:return V.CANCELLED;case ot.UNKNOWN:return V.UNKNOWN;case ot.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ot.INTERNAL:return V.INTERNAL;case ot.UNAVAILABLE:return V.UNAVAILABLE;case ot.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ot.NOT_FOUND:return V.NOT_FOUND;case ot.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ot.ABORTED:return V.ABORTED;case ot.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ot.DATA_LOSS:return V.DATA_LOSS;default:return ce()}}(_e=ot||(ot={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new Fa([4294967295,4294967295],0);function ob(t){const e=nV().encode(t),n=new iM;return n.update(e),new Uint8Array(n.digest())}function lb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fa([n,r],0),new Fa([i,s],0)]}class By{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ul(`Invalid padding: ${n}`);if(r<0)throw new ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ul(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Fa.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Fa.fromNumber(r)));return i.compare(rV)===1&&(i=new Fa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ob(e),[r,i]=lb(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new By(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;const n=ob(e),[r,i]=lb(n);for(let s=0;s<this.hashCount;s++){const a=this.de(r,i,s);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sf(de.min(),i,new tt(Ae),si(),we())}}class Bc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Y1{constructor(e,n){this.targetId=e,this.fe=n}}class Q1{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cb{constructor(){this.ge=0,this.pe=db(),this.ye=Gt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Bc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=db()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ve(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class iV{constructor(e){this.Le=e,this.ke=new Map,this.qe=si(),this.Qe=ub(),this.Ke=new tt(Ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(hg(s))if(r===0){const a=new ne(s.path);this.We(n,a,Bt.newNoDocument(a,de.min()))}else Ve(r===1);else{const a=this.Ze(n);if(a!==r){const l=this.Xe(e),c=l?this.et(l,e,a):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=$s(r).toUint8Array()}catch(c){if(c instanceof S1)return ro("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new By(a,i,s)}catch(c){return ro(c instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,a)=>{const l=this.Ye(a);if(l){if(s.current&&hg(l.target)){const c=new ne(l.target.path);this.qe.get(c)!==null||this.st(a,c)||this.We(a,c,Bt.newNoDocument(c,e))}s.De&&(n.set(a,s.ve()),s.Fe())}});let r=we();this.Qe.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.qe.forEach((s,a)=>a.setReadTime(e));const i=new sf(e,n,this.Ke,this.qe,r);return this.qe=si(),this.Qe=ub(),this.Ke=new tt(Ae),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new cb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ot(Ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new cb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ub(){return new tt(ne.comparator)}function db(){return new tt(ne.comparator)}const sV={asc:"ASCENDING",desc:"DESCENDING"},aV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oV={and:"AND",or:"OR"};class lV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mg(t,e){return t.useProto3Json||Zh(e)?e:{value:e}}function Kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cV(t,e){return Kd(t,e.toTimestamp())}function Nr(t){return Ve(!!t),de.fromTimestamp(function(n){const r=Qi(n);return new gt(r.seconds,r.nanos)}(t))}function zy(t,e){return gg(t,e).canonicalString()}function gg(t,e){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function J1(t){const e=Be.fromString(t);return Ve(rN(e)),e}function vg(t,e){return zy(t.databaseId,e.path)}function vp(t,e){const n=J1(e);if(n.get(1)!==t.databaseId.projectId)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(eN(n))}function Z1(t,e){return zy(t.databaseId,e)}function uV(t){const e=J1(t);return e.length===4?Be.emptyPath():eN(e)}function yg(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eN(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hb(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function dV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ve(d===void 0||typeof d=="string"),Gt.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Uint8Array),Gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?V.UNKNOWN:K1(u.code);return new X(d,u.message||"")}(a);n=new Q1(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vp(t,r.document.name),s=Nr(r.document.updateTime),a=r.document.createTime?Nr(r.document.createTime):de.min(),l=new dn({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,s,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Gu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vp(t,r.document),s=r.readTime?Nr(r.readTime):de.min(),a=Bt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Gu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vp(t,r.document),s=r.removedTargetIds||[];n=new Gu([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new eV(i,s),l=r.targetId;n=new Y1(l,a)}}return n}function hV(t,e){let n;if(e instanceof $c)n={update:hb(t,e.key,e.value)};else if(e instanceof Uy)n={delete:vg(t,e.key)};else if(e instanceof os)n={update:hb(t,e.key,e.data),updateMask:bV(e.fieldMask)};else{if(!(e instanceof XM))return ce();n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof qd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gd)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function fV(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Nr(i.updateTime):Nr(s);return a.isEqual(de.min())&&(a=Nr(s)),new KM(a,i.transformResults||[])}(n,e))):[]}function pV(t,e){return{documents:[Z1(t,e.path)]}}function mV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z1(t,i);const s=function(u){if(u.length!==0)return nN(hr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:pa(f.field),direction:yV(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=mg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function gV(t){let e=uV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=tN(h);return f instanceof hr&&A1(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(g){return new Wd(ma(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Zh(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Hd(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Hd(p,f)}(n.endAt)),DM(e,i,a,s,l,"F",c,u)}function vV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ma(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ma(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ma(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ma(n.unaryFilter.field);return ut.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(ma(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>tN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function yV(t){return sV[t]}function wV(t){return aV[t]}function xV(t){return oV[t]}function pa(t){return{fieldPath:t.canonicalString()}}function ma(t){return kt.fromServerFormat(t.fieldPath)}function nN(t){return t instanceof ut?function(n){if(n.op==="=="){if(Jx(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NAN"}};if(Xx(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jx(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NAN"}};if(Xx(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(n.field),op:wV(n.op),value:n.value}}}(t):t instanceof hr?function(n){const r=n.getFilters().map(i=>nN(i));return r.length===1?r[0]:{compositeFilter:{op:xV(n.op),filters:r}}}(t):ce()}function bV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r,i,s=de.min(),a=de.min(),l=Gt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.ct=e}}function EV(t){const e=gV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this._n=new SV}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Yi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class SV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new co(0)}static Bn(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Pl(r.mutation,i,Tn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=cl();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=si();const a=Nl(),l=function(){return Nl()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof os)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Pl(d.mutation,u,d.mutation.getFieldMask(),gt.now())):a.set(u.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new NV(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Nl();let i=new tt((a,l)=>a-l),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Tn.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(i.get(l.batchId)||we()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=V1();d.forEach(f=>{if(!s.has(f)){const p=q1(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ts());let l=-1,c=s;return a.next(u=>U.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,we())).next(d=>({batchId:l,changes:M1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=cl();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,c=>{const u=function(h,f){return new Uc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Bt.newInvalidDocument(d)))});let l=cl();return a.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Pl(d.mutation,u,Tn.empty(),gt.now()),tf(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:EV(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.overlays=new tt(ne.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ts();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ts(),s=n.length+1,a=new ne(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ts(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ts(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ZM(n,r));let s=this.hr.get(n);s===void 0&&(s=we(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Pr=new Ot(bt.Ir),this.Tr=new Ot(bt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new bt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ne(new Be([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ne(new Be([])),r=new bt(n,e),i=new bt(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new bt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ot(bt.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new JM(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.wr=this.wr.add(new bt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const l=this.Sr(a.pr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Ae);return n.forEach(i=>{const s=new bt(i,0),a=new bt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],l=>{r=r.add(l.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const a=new bt(new ne(s),0);let l=new Ot(Ae);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.pr)),!0)},a),U.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new bt(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.vr=e,this.docs=function(){return new tt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=si();const a=n.path,l=new ne(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||gM(mM(d),r)<=0||(i.has(d.key)||tf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RV(this)}getSize(e){return U.resolve(this.size)}}class RV extends IV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.persistence=e,this.Mr=new So(n=>My(n),Vy),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Hy,this.targetCount=0,this.Br=co.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new co(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Ry(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new OV(this),this.indexManager=new TV,this.remoteDocumentCache=function(i){return new jV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new _V(n),this.$r=new AV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new kV(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new LV(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class LV extends yM{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.zr=new Hy,this.jr=null}static Hr(e){return new Wy(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=ne.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return MO()?8:Es.v(Ne())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new MV;return this.Ji(e,n,a).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(qo()<=ve.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(qo()<=ve.DEBUG&&K("QueryEngine","Query:",fa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(qo()<=ve.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):U.resolve())}ji(e,n){if(nb(n))return U.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pg(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=we(...s);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,a,c.readTime)?this.ji(e,pg(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return nb(n)||i.isEqual(de.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?U.resolve(null):(qo()<=ve.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fa(n)),this.es(e,a,n,pM(i,-1)).next(l=>l))})}Zi(e,n){let r=new Ot(D1(e));return n.forEach((i,s)=>{tf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return qo()<=ve.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",fa(n)),this.zi.getDocumentsMatchingQuery(e,n,Yi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new tt(Ae),this.rs=new So(s=>My(s),Vy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function UV(t,e,n,r){return new FV(t,e,n,r)}async function iN(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=we();for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:a,addedBatchIds:l}))})})}function $V(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let p=U.resolve();return f.forEach(g=>{p=p.next(()=>d.getEntry(c,g)).next(w=>{const y=u.docVersions.get(g);Ve(y!==null),w.version.compareTo(y)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=we();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sN(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function BV(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Gt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(w,y,m){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,d)&&l.push(n.Qr.updateTargetData(s,p))});let c=si(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(zV(s,a,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(de.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return U.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function zV(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=si();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(de.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):K("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:a,ls:i}})}function HV(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WV(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Pi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function wg(t,e,n){const r=pe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Fc(a))throw a;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function fb(t,e,n){const r=pe(t);let i=de.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=pe(c),f=h.rs.get(d);return f!==void 0?U.resolve(h.ns.get(f)):h.Qr.getTargetData(u,d)}(r,a,Ir(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:de.min(),n?s:we())).next(l=>(qV(r,MM(e),l),{documents:l,hs:s})))}function qV(t,e,n){let r=t.ss.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class pb{constructor(){this.activeTargetIds=zM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GV{constructor(){this.no=new pb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new pb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu=null;function yp(){return Tu===null?Tu=function(){return 268435456+Math.round(2147483648*Math.random())}():Tu++,"0x"+Tu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class XV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,a){const l=yp(),c=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,a),this.Co(n,c,u,i).then(d=>(K("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw ro("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}vo(n,r,i,s,a,l){return this.So(n,r,i,s,a)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}bo(n,r){const i=YV[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=yp();return new Promise((a,l)=>{const c=new rM;c.setWithCredentials(!0),c.listenOnce(tM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case gp.NO_ERROR:const d=c.getResponseJson();K(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case gp.TIMEOUT:K(Vt,`RPC '${e}' ${s} timed out`),l(new X(V.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const h=c.getStatus();if(K(Vt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(m)>=0?m:V.UNKNOWN}(p.status);l(new X(g,p.message))}else l(new X(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new X(V.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{K(Vt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);K(Vt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=yp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ZL(),l=eM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");K(Vt,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=a.createWebChannel(d,c);let f=!1,p=!1;const g=new QV({lo:y=>{p?K(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(K(Vt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),K(Vt,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},ho:()=>h.close()}),w=(y,m,v)=>{y.listen(m,x=>{try{v(x)}catch(b){setTimeout(()=>{throw b},0)}})};return w(h,bu.EventType.OPEN,()=>{p||K(Vt,`RPC '${e}' stream ${i} transport opened.`)}),w(h,bu.EventType.CLOSE,()=>{p||(p=!0,K(Vt,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),w(h,bu.EventType.ERROR,y=>{p||(p=!0,ro(Vt,`RPC '${e}' stream ${i} transport errored:`,y),g.Vo(new X(V.UNAVAILABLE,"The operation could not be completed")))}),w(h,bu.EventType.MESSAGE,y=>{var m;if(!p){const v=y.data[0];Ve(!!v);const x=v,b=x.error||((m=x[0])===null||m===void 0?void 0:m.error);if(b){K(Vt,`RPC '${e}' stream ${i} received error:`,b);const I=b.status;let E=function(T){const S=ot[T];if(S!==void 0)return K1(S)}(I),A=b.message;E===void 0&&(E=V.INTERNAL,A="Unknown error status: "+I+" with message "+b.message),p=!0,g.Vo(new X(E,A)),h.close()}else K(Vt,`RPC '${e}' stream ${i} received:`,v),g.mo(v)}}),w(l,nM.STAT_EVENT,y=>{y.stat===Hx.PROXY?K(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Hx.NOPROXY&&K(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return new lV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,r,i,s,a,l,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new aN(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new X(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JV extends oN{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=dV(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?de.min():a.readTime?Nr(a.readTime):de.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=yg(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=hg(c)?{documents:pV(s,c)}:{query:mV(s,c).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=X1(s,a.resumeToken);const u=mg(s,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(de.min())>0){l.readTime=Kd(s,a.snapshotVersion.toTimestamp());const u=mg(s,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=vV(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=yg(this.serializer),n.removeTarget=e,this.t_(n)}}class ZV extends oN{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=fV(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.T_(r,n)}return Ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=yg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hV(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(e,gg(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(V.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,gg(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new X(V.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class t2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(jr(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget(async()=>{na(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=pe(c);u.v_.add(4),await zc(u),u.x_.set("Unknown"),u.v_.delete(4),await of(u)}(this))})}),this.x_=new t2(r,i)}}async function of(t){if(na(t))for(const e of t.F_)await e(!0)}async function zc(t){for(const e of t.F_)await e(!1)}function lN(t,e){const n=pe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Yy(n)?Ky(n):Io(n).Jo()&&Gy(n,e))}function cN(t,e){const n=pe(t),r=Io(n);n.C_.delete(e),r.Jo()&&uN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():na(n)&&n.x_.set("Unknown"))}function Gy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(t).c_(e)}function uN(t,e){t.O_.Oe(e),Io(t).l_(e)}function Ky(t){t.O_=new iV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Io(t).start(),t.x_.p_()}function Yy(t){return na(t)&&!Io(t).Ho()&&t.C_.size>0}function na(t){return pe(t).v_.size===0}function dN(t){t.O_=void 0}async function r2(t){t.C_.forEach((e,n)=>{Gy(t,e)})}async function i2(t,e){dN(t),Yy(t)?(t.x_.S_(e),Ky(t)):t.x_.set("Unknown")}async function s2(t,e,n){if(t.x_.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.C_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.C_.delete(l),i.O_.removeTarget(l))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yd(t,r)}else if(e instanceof Gu?t.O_.$e(e):e instanceof Y1?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(de.min()))try{const r=await sN(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.O_.it(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.C_.get(u);d&&s.C_.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=s.C_.get(c);if(!d)return;s.C_.set(c,d.withResumeToken(Gt.EMPTY_BYTE_STRING,d.snapshotVersion)),uN(s,c);const h=new Pi(d.target,c,u,d.sequenceNumber);Gy(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Yd(t,r)}}async function Yd(t,e,n){if(!Fc(e))throw e;t.v_.add(1),await zc(t),t.x_.set("Offline"),n||(n=()=>sN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await of(t)})}function hN(t,e){return e().catch(n=>Yd(t,n,e))}async function lf(t){const e=pe(t),n=Xi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;a2(e);)try{const i=await HV(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,o2(e,i)}catch(i){await Yd(e,i)}fN(e)&&pN(e)}function a2(t){return na(t)&&t.D_.length<10}function o2(t,e){t.D_.push(e);const n=Xi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function fN(t){return na(t)&&!Xi(t).Ho()&&t.D_.length>0}function pN(t){Xi(t).start()}async function l2(t){Xi(t).d_()}async function c2(t){const e=Xi(t);for(const n of t.D_)e.I_(n.mutations)}async function u2(t,e,n){const r=t.D_.shift(),i=$y.from(r,e,n);await hN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lf(t)}async function d2(t,e){e&&Xi(t).P_&&await async function(r,i){if(function(a){return tV(a)&&a!==V.ABORTED}(i.code)){const s=r.D_.shift();Xi(r).Zo(),await hN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lf(r)}}(t,e),fN(t)&&pN(t)}async function gb(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=na(n);n.v_.add(3),await zc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await of(n)}async function h2(t,e){const n=pe(t);e?(n.v_.delete(2),await of(n)):e||(n.v_.add(2),await zc(n),n.x_.set("Unknown"))}function Io(t){return t.N_||(t.N_=function(n,r,i){const s=pe(n);return s.R_(),new JV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:r2.bind(null,t),To:i2.bind(null,t),u_:s2.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Yy(t)?Ky(t):t.x_.set("Unknown")):(await t.N_.stop(),dN(t))})),t.N_}function Xi(t){return t.B_||(t.B_=function(n,r,i){const s=pe(n);return s.R_(),new ZV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:l2.bind(null,t),To:d2.bind(null,t),E_:c2.bind(null,t),T_:u2.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await lf(t)):(await t.B_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new Qy(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(t,e){if(jr("AsyncQueue",`${e}: ${t}`),Fc(t))return new X(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Ua(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.L_=new tt(ne.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ce():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class uo{constructor(e,n,r,i,s,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new uo(e,n,Ua.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.q_=void 0,this.Q_=[]}}class p2{constructor(){this.queries=new So(e=>O1(e),ef),this.onlineState="Unknown",this.K_=new Set}}async function mN(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new f2),i)try{s.q_=await n.onListen(r)}catch(a){const l=Xy(a,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Jy(n)}async function gN(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.Q_.indexOf(e);a>=0&&(s.Q_.splice(a,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function m2(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Q_)l.W_(i)&&(r=!0);a.q_=i}}r&&Jy(n)}function g2(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Jy(t){t.K_.forEach(e=>{e.next()})}class vN{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.key=e}}class wN{constructor(e){this.key=e}}class v2{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=we(),this.mutatedKeys=we(),this.ua=D1(e),this.ca=new Ua(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new vb,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=tf(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?g!==w&&(r.track({type:3,doc:p}),y=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),y=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(c||u)&&(l=!0)),y&&(p?(a=a.add(p),s=w?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ca:a,Pa:r,Xi:l,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.k_();a.sort((d,h)=>function(p,g){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return w(p)-w(g)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(r),i=i!=null&&i;const l=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,a.length!==0||u?{snapshot:new uo(this.query,e.ca,s,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new vb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=we(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new wN(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new yN(r))}),n}Ra(e){this.oa=e.hs,this.aa=we();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return uo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class y2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class w2{constructor(e){this.key=e,this.ma=!1}}class x2{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new So(l=>O1(l),ef),this.pa=new Map,this.ya=new Set,this.wa=new tt(ne.comparator),this.Sa=new Map,this.ba=new Hy,this.Da={},this.Ca=new Map,this.va=co.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function b2(t,e){const n=k2(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const a=await WV(n.localStore,Ir(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await _2(n,e,r,l==="current",a.resumeToken),n.isPrimaryClient&&lN(n.remoteStore,a)}return i}async function _2(t,e,n,r,i){t.Ma=(h,f,p)=>async function(w,y,m,v){let x=y.view.ha(m);x.Xi&&(x=await fb(w.localStore,y.query,!1).then(({documents:A})=>y.view.ha(A,x)));const b=v&&v.targetChanges.get(y.targetId),I=v&&v.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(x,w.isPrimaryClient,b,I);return wb(w,y.targetId,E.da),E.snapshot}(t,h,f,p);const s=await fb(t.localStore,e,!0),a=new v2(e,s.hs),l=a.ha(s.documents),c=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(l,t.isPrimaryClient,c);wb(t,n,u.da);const d=new y2(e,n,a);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function E2(t,e){const n=pe(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!ef(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await wg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),cN(n.remoteStore,r.targetId),xg(n,r.targetId)}).catch(Vc)):(xg(n,r.targetId),await wg(n.localStore,r.targetId,!0))}async function T2(t,e,n){const r=j2(t);try{const i=await function(a,l){const c=pe(a),u=gt.now(),d=l.reduce((p,g)=>p.add(g.key),we());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=si(),w=we();return c.os.getEntries(p,d).next(y=>{g=y,g.forEach((m,v)=>{v.isValidDocument()||(w=w.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(y=>{h=y;const m=[];for(const v of l){const x=QM(v,h.get(v.key).overlayedDocument);x!=null&&m.push(new os(v.key,x,I1(x.value.mapValue),Kn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,m,l)}).next(y=>{f=y;const m=y.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(p,y.batchId,m)})}).then(()=>({batchId:f.batchId,changes:M1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let u=a.Da[a.currentUser.toKey()];u||(u=new tt(Ae)),u=u.insert(l,c),a.Da[a.currentUser.toKey()]=u}(r,i.batchId,n),await Hc(r,i.changes),await lf(r.remoteStore)}catch(i){const s=Xy(i,"Failed to persist write");n.reject(s)}}async function xN(t,e){const n=pe(t);try{const r=await BV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Sa.get(s);a&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.ma=!0:i.modifiedDocuments.size>0?Ve(a.ma):i.removedDocuments.size>0&&(Ve(a.ma),a.ma=!1))}),await Hc(n,r,e)}catch(r){await Vc(r)}}function yb(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,a)=>{const l=a.view.U_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=pe(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Q_)f.U_(l)&&(u=!0)}),u&&Jy(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S2(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let a=new tt(ne.comparator);a=a.insert(s,Bt.newNoDocument(s,de.min()));const l=we().add(s),c=new sf(de.min(),new Map,new tt(Ae),a,l);await xN(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),Zy(r)}else await wg(r.localStore,e,!1).then(()=>xg(r,e,n)).catch(Vc)}async function I2(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await $V(n.localStore,e);_N(n,r,null),bN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,i)}catch(i){await Vc(i)}}async function N2(t,e,n){const r=pe(t);try{const i=await function(a,l){const c=pe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Ve(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);_N(r,e,n),bN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,i)}catch(i){await Vc(i)}}function bN(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function _N(t,e,n){const r=pe(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||EN(t,r)})}function EN(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(cN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Zy(t))}function wb(t,e,n){for(const r of n)r instanceof yN?(t.ba.addReference(r.key,e),P2(t,r)):r instanceof wN?(K("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||EN(t,r.key)):ce()}function P2(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ya.add(r),Zy(t))}function Zy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ne(Be.fromString(e)),r=t.va.next();t.Sa.set(r,new w2(n)),t.wa=t.wa.insert(n,r),lN(t.remoteStore,new Pi(Ir(Fy(n.path)),r,"TargetPurposeLimboResolution",Ry._e))}}async function Hc(t,e,n){const r=pe(t),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{a.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=qy.Ki(c.targetId,u);s.push(d)}}))}),await Promise.all(a),r.fa.u_(i),await async function(c,u){const d=pe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,f=>U.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>U.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Fc(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);d.ns=d.ns.insert(f,w)}}}(r.localStore,s))}async function A2(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await iN(n.localStore,e);n.currentUser=e,function(s,a){s.Ca.forEach(l=>{l.forEach(c=>{c.reject(new X(V.CANCELLED,a))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.us)}}function C2(t,e){const n=pe(t),r=n.Sa.get(e);if(r&&r.ma)return we().add(r.key);{let i=we();const s=n.pa.get(e);if(!s)return i;for(const a of s){const l=n.ga.get(a);i=i.unionWith(l.view.la)}return i}}function k2(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S2.bind(null,e),e.fa.u_=m2.bind(null,e.eventManager),e.fa.xa=g2.bind(null,e.eventManager),e}function j2(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N2.bind(null,e),e}class xb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return UV(this.persistence,new VV,e.initialUser,this.serializer)}createPersistence(e){return new DV(Wy.Hr,this.serializer)}createSharedClientState(e){return new GV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class R2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=A2.bind(null,this.syncEngine),await h2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p2}()}createDatastore(e){const n=af(e.databaseInfo.databaseId),r=function(s){return new XV(s)}(e.databaseInfo);return function(s,a,l,c){return new e2(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new n2(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>yb(this.syncEngine,n,0),function(){return mb.D()?new mb:new KV}())}createSyncEngine(e,n){return function(i,s,a,l,c,u,d){const h=new x2(i,s,a,l,c,u);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=pe(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await zc(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=E1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xp(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await iN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L2(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gb(e.remoteStore,i)),t._onlineComponents=e}function D2(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function L2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await xp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!D2(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await xp(t,new xb)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await xp(t,new xb);return t._offlineComponents}async function SN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await bb(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await bb(t,new R2))),t._onlineComponents}function M2(t){return SN(t).then(e=>e.syncEngine)}async function IN(t){const e=await SN(t),n=e.eventManager;return n.onListen=b2.bind(null,e.syncEngine),n.onUnlisten=E2.bind(null,e.syncEngine),n}function V2(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const d=new TN({next:f=>{a.enqueueAndForget(()=>gN(s,h));const p=f.docs.has(l);!p&&f.fromCache?u.reject(new X(V.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new X(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new vN(Fy(l.path),d,{includeMetadataChanges:!0,Z_:!0});return mN(s,h)}(await IN(t),t.asyncQueue,e,n,r)),r.promise}function F2(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,u){const d=new TN({next:f=>{a.enqueueAndForget(()=>gN(s,h)),f.fromCache&&c.source==="server"?u.reject(new X(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new vN(l,d,{includeMetadataChanges:!0,Z_:!0});return mN(s,h)}(await IN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e,n){if(!n)throw new X(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U2(t,e,n,r){if(e===!0&&r===!0)throw new X(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Eb(t){if(!ne.isDocumentKey(t))throw new X(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tb(t){if(ne.isDocumentKey(t))throw new X(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(t);throw new X(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sM;switch(r.type){case"firstParty":return new cM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_b.get(n);r&&(K("ComponentProvider","Removing Datastore"),_b.delete(n),r.terminate())}(this),Promise.resolve()}}function $2(t,e,n,r={}){var i;const s=(t=fr(t,uf))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Ut.MOCK_USER;else{l=oI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ut(u)}t._authCredentials=new aM(new _1(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Hi extends No{constructor(e,n,r){super(e,n,Fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ne(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function je(t,e,...n){if(t=Le(t),PN("collection","path",e),t instanceof uf){const r=Be.fromString(e,...n);return Tb(r),new Hi(t,null,r)}{if(!(t instanceof en||t instanceof Hi))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return Tb(r),new Hi(t.firestore,null,r)}}function vt(t,e,...n){if(t=Le(t),arguments.length===1&&(e=E1.newId()),PN("doc","path",e),t instanceof uf){const r=Be.fromString(e,...n);return Eb(r),new en(t,null,new ne(r))}{if(!(t instanceof en||t instanceof Hi))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return Eb(r),new en(t.firestore,t instanceof Hi?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new aN(this,"async_queue_retry"),this._u=()=>{const n=wp();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=wp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Sr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Fc(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Qy.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ce()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class ra extends uf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new B2}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||AN(this),this._firestoreClient.terminate()}}function z2(t,e){const n=typeof t=="object"?t:Lh(),r=typeof t=="string"?t:e||"(default)",i=is(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iI("firestore");s&&$2(i,...s)}return i}function ew(t){return t._firestoreClient||AN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AN(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,d){return new EM(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new O2(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Gt.fromBase64String(e))}catch(n){throw new X(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^__.*__$/;class W2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class CN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class hf{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Qd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(kN(this.du)&&H2.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class q2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||af(e)}Su(e,n,r,i=!1){return new hf({du:e,methodName:n,wu:r,path:kt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ff(t){const e=t._freezeSettings(),n=af(t._databaseId);return new q2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jN(t,e,n,r,i,s={}){const a=t.Su(s.merge||s.mergeFields?2:0,e,n,i);iw("Data must be an object, but it was:",a,r);const l=ON(r,a);let c,u;if(s.merge)c=new Tn(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=bg(e,h,n);if(!a.contains(f))throw new X(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);LN(d,f)||d.push(f)}c=new Tn(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new W2(new dn(l),c,u)}class pf extends Wc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}function RN(t,e,n){return new hf({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nw extends Wc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=RN(this,e,!0),r=this.bu.map(s=>ia(s,n)),i=new oo(r);return new W1(e.path,i)}isEqual(e){return e instanceof nw&&Vs(this.bu,e.bu)}}class rw extends Wc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=RN(this,e,!0),r=this.bu.map(s=>ia(s,n)),i=new lo(r);return new W1(e.path,i)}isEqual(e){return e instanceof rw&&Vs(this.bu,e.bu)}}function G2(t,e,n,r){const i=t.Su(1,e,n);iw("Data must be an object, but it was:",i,r);const s=[],a=dn.empty();ta(r,(c,u)=>{const d=sw(e,c,n);u=Le(u);const h=i.fu(d);if(u instanceof pf)s.push(d);else{const f=ia(u,h);f!=null&&(s.push(d),a.set(d,f))}});const l=new Tn(s);return new CN(a,l,i.fieldTransforms)}function K2(t,e,n,r,i,s){const a=t.Su(1,e,n),l=[bg(e,r,n)],c=[i];if(s.length%2!=0)throw new X(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)l.push(bg(e,s[f])),c.push(s[f+1]);const u=[],d=dn.empty();for(let f=l.length-1;f>=0;--f)if(!LN(u,l[f])){const p=l[f];let g=c[f];g=Le(g);const w=a.fu(p);if(g instanceof pf)u.push(p);else{const y=ia(g,w);y!=null&&(u.push(p),d.set(p,y))}}const h=new Tn(u);return new CN(d,h,a.fieldTransforms)}function Y2(t,e,n,r=!1){return ia(n,t.Su(r?4:3,e))}function ia(t,e){if(DN(t=Le(t)))return iw("Unsupported field value:",e,t),ON(t,e);if(t instanceof Wc)return function(r,i){if(!kN(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=ia(l,i.gu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:Kd(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,s)}}if(r instanceof tw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ho)return{bytesValue:X1(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${cf(r)}`)}(t,e)}function ON(t,e){const n={};return T1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(r,i)=>{const s=ia(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof tw||t instanceof ho||t instanceof en||t instanceof Wc)}function iw(t,e,n){if(!DN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cf(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function bg(t,e,n){if((e=Le(e))instanceof df)return e._internalPath;if(typeof e=="string")return sw(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q2=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(Q2)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new df(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new X(V.INVALID_ARGUMENT,l+t+c)}function LN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X2 extends MN{data(){return super.data()}}function aw(t,e){return typeof e=="string"?sw(t,e):e instanceof df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ow{}class Z2 extends ow{}function VN(t,e,...n){let r=[];e instanceof ow&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof lw).length,l=s.filter(c=>c instanceof mf).length;if(a>1||a>0&&l>0)throw new X(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mf extends Z2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mf(e,n,r)}_apply(e){const n=this._parse(e);return UN(e._query,n),new No(e.firestore,e.converter,fg(e._query,n))}_parse(e){const n=ff(e.firestore);return function(s,a,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Nb(h,d);const p=[];for(const g of h)p.push(Ib(c,s,g));f={arrayValue:{values:p}}}else f=Ib(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Nb(h,d),f=Y2(l,a,h,d==="in"||d==="not-in");return ut.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FN(t,e,n){const r=e,i=aw("where",t);return mf._create(i,r,n)}class lw extends ow{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)UN(a,c),a=fg(a,c)}(e._query,n),new No(e.firestore,e.converter,fg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ib(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new X(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R1(e)&&n.indexOf("/")!==-1)throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!ne.isDocumentKey(r))throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qx(t,new ne(r))}if(n instanceof en)return Qx(t,n._key);throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function Nb(t,e){if(!Array.isArray(t)||t.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UN(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eF{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new tw(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Ve(rN(r));const i=new hc(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BN extends MN{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ku extends BN{data(e={}){return super.data(e)}}class tF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ku(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new Ku(i._firestore,i._userDataWriter,l.doc.key,l.doc,new dl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Ku(i._firestore,i._userDataWriter,l.doc.key,l.doc,new dl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:nF(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){t=fr(t,en);const e=fr(t.firestore,ra);return V2(ew(e),t._key).then(n=>iF(e,t,n))}class zN extends eF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function sn(t){t=fr(t,No);const e=fr(t.firestore,ra),n=ew(e),r=new zN(e);return J2(t._query),F2(n,t._query).then(i=>new tF(e,r,t,i))}function rF(t,e,n){t=fr(t,en);const r=fr(t.firestore,ra),i=$N(t.converter,e,n);return gf(r,[jN(ff(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kn.none())])}function zs(t,e,n,...r){t=fr(t,en);const i=fr(t.firestore,ra),s=ff(i);let a;return a=typeof(e=Le(e))=="string"||e instanceof df?K2(s,"updateDoc",t._key,e,n,r):G2(s,"updateDoc",t._key,e),gf(i,[a.toMutation(t._key,Kn.exists(!0))])}function Zn(t){return gf(fr(t.firestore,ra),[new Uy(t._key,Kn.none())])}function yn(t,e){const n=fr(t.firestore,ra),r=vt(t),i=$N(t.converter,e);return gf(n,[jN(ff(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function gf(t,e){return function(r,i){const s=new Sr;return r.asyncQueue.enqueueAndForget(async()=>T2(await M2(r),i,s)),s.promise}(ew(t),e)}function iF(t,e,n){const r=n.docs.get(e._key),i=new zN(t);return new BN(t,i,e._key,r,new dl(n.hasPendingWrites,n.fromCache),e.converter)}function sF(...t){return new nw("arrayUnion",t)}function HN(...t){return new rw("arrayRemove",t)}(function(e,n=!0){(function(i){To=i})(Lr),Cn(new vn("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new ra(new oM(r.getProvider("auth-internal")),new dM(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(u.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),zt(Wx,"4.4.2",e),zt(Wx,"4.4.2","esm2017")})();var aF="firebase",oF="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt(aF,oF,"app");const WN="@firebase/installations",cw="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=1e4,GN=`w:${cw}`,KN="FIS_v2",lF="https://firebaseinstallations.googleapis.com/v1",cF=60*60*1e3,uF="installations",dF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hs=new Dr(uF,dF,hF);function YN(t){return t instanceof rn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN({projectId:t}){return`${lF}/projects/${t}/installations`}function XN(t){return{token:t.token,requestStatus:2,expiresIn:pF(t.expiresIn),creationTime:Date.now()}}async function JN(t,e){const r=(await e.json()).error;return Hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ZN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fF(t,{refreshToken:e}){const n=ZN(t);return n.append("Authorization",mF(e)),n}async function eP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pF(t){return Number(t.replace("s","000"))}function mF(t){return`${KN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=QN(t),i=ZN(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:KN,appId:t.appId,sdkVersion:GN},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await eP(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:XN(u.authToken)}}else throw await JN("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=/^[cdef][\w-]{21}$/,_g="";function wF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=xF(t);return yF.test(n)?n:_g}catch{return _g}}function xF(t){return vF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Map;function rP(t,e){const n=vf(t);iP(n,e),bF(n,e)}function iP(t,e){const n=nP.get(t);if(n)for(const r of n)r(e)}function bF(t,e){const n=_F();n&&n.postMessage({key:t,fid:e}),EF()}let Ss=null;function _F(){return!Ss&&"BroadcastChannel"in self&&(Ss=new BroadcastChannel("[Firebase] FID Change"),Ss.onmessage=t=>{iP(t.data.key,t.data.fid)}),Ss}function EF(){nP.size===0&&Ss&&(Ss.close(),Ss=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="firebase-installations-database",SF=1,Ws="firebase-installations-store";let bp=null;function uw(){return bp||(bp=mI(TF,SF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ws)}}})),bp}async function Xd(t,e){const n=vf(t),i=(await uw()).transaction(Ws,"readwrite"),s=i.objectStore(Ws),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&rP(t,e.fid),e}async function sP(t){const e=vf(t),r=(await uw()).transaction(Ws,"readwrite");await r.objectStore(Ws).delete(e),await r.done}async function yf(t,e){const n=vf(t),i=(await uw()).transaction(Ws,"readwrite"),s=i.objectStore(Ws),a=await s.get(n),l=e(a);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!a||a.fid!==l.fid)&&rP(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(t){let e;const n=await yf(t.appConfig,r=>{const i=IF(r),s=NF(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===_g?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function IF(t){const e=t||{fid:wF(),registrationStatus:0};return aP(e)}function NF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Hs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=PF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:AF(t)}:{installationEntry:e}}async function PF(t,e){try{const n=await gF(t,e);return Xd(t.appConfig,n)}catch(n){throw YN(n)&&n.customData.serverCode===409?await sP(t.appConfig):await Xd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function AF(t){let e=await Pb(t.appConfig);for(;e.registrationStatus===1;)await tP(100),e=await Pb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await dw(t);return r||n}return e}function Pb(t){return yf(t,e=>{if(!e)throw Hs.create("installation-not-found");return aP(e)})}function aP(t){return CF(t)?{fid:t.fid,registrationStatus:0}:t}function CF(t){return t.registrationStatus===1&&t.registrationTime+qN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF({appConfig:t,heartbeatServiceProvider:e},n){const r=jF(t,n),i=fF(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:GN,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(a)},c=await eP(()=>fetch(r,l));if(c.ok){const u=await c.json();return XN(u)}else throw await JN("Generate Auth Token",c)}function jF(t,{fid:e}){return`${QN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(t,e=!1){let n;const r=await yf(t.appConfig,s=>{if(!oP(s))throw Hs.create("not-registered");const a=s.authToken;if(!e&&DF(a))return s;if(a.requestStatus===1)return n=RF(t,e),s;{if(!navigator.onLine)throw Hs.create("app-offline");const l=MF(s);return n=OF(t,l),l}});return n?await n:r.authToken}async function RF(t,e){let n=await Ab(t.appConfig);for(;n.authToken.requestStatus===1;)await tP(100),n=await Ab(t.appConfig);const r=n.authToken;return r.requestStatus===0?hw(t,e):r}function Ab(t){return yf(t,e=>{if(!oP(e))throw Hs.create("not-registered");const n=e.authToken;return VF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function OF(t,e){try{const n=await kF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Xd(t.appConfig,r),n}catch(n){if(YN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await sP(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Xd(t.appConfig,r)}throw n}}function oP(t){return t!==void 0&&t.registrationStatus===2}function DF(t){return t.requestStatus===2&&!LF(t)}function LF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cF}function MF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function VF(t){return t.requestStatus===1&&t.requestTime+qN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t){const e=t,{installationEntry:n,registrationPromise:r}=await dw(e);return r?r.catch(console.error):hw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(t,e=!1){const n=t;return await $F(n),(await hw(n,e)).token}async function $F(t){const{registrationPromise:e}=await dw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){if(!t||!t.options)throw _p("App Configuration");if(!t.name)throw _p("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _p(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _p(t){return Hs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="installations",zF="installations-internal",HF=t=>{const e=t.getProvider("app").getImmediate(),n=BF(e),r=is(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WF=t=>{const e=t.getProvider("app").getImmediate(),n=is(e,lP).getImmediate();return{getId:()=>FF(n),getToken:i=>UF(n,i)}};function qF(){Cn(new vn(lP,HF,"PUBLIC")),Cn(new vn(zF,WF,"PRIVATE"))}qF();zt(WN,cw);zt(WN,cw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="analytics",GF="firebase_id",KF="origin",YF=60*1e3,QF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Ac("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pn=new Dr("analytics","Analytics",XF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){if(!t.startsWith(fw)){const e=Pn.create("invalid-gtag-resource",{gtagURL:t});return gn.warn(e.message),""}return t}function cP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ZF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eU(t,e){const n=ZF("firebase-js-sdk-policy",{createScriptURL:JF}),r=document.createElement("script"),i=`${fw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function tU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nU(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const c=(await cP(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){gn.error(l)}t("config",i,s)}async function rU(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const l=await cP(n);for(const c of a){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){gn.error(s)}}function iU(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[l,c]=a;await rU(t,e,n,l,c)}else if(s==="config"){const[l,c]=a;await nU(t,e,n,r,l,c)}else if(s==="consent"){const[l]=a;t("consent","update",l)}else if(s==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(s==="set"){const[l]=a;t("set",l)}else t(s,...a)}catch(l){gn.error(l)}}return i}function sU(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=iU(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function aU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(fw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=30,lU=1e3;class cU{constructor(e={},n=lU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uP=new cU;function uU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function dU(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:uU(r)},s=QF.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function hU(t,e=uP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Pn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Pn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new mU;return setTimeout(async()=>{l.abort()},n!==void 0?n:YF),dP({appId:r,apiKey:i,measurementId:s},a,l,e)}async function dP(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=uP){var s;const{appId:a,measurementId:l}=t;try{await fU(r,e)}catch(c){if(l)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await dU(t);return i.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!pU(u)){if(i.deleteThrottleMetadata(a),l)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Ex(n,i.intervalMillis,oU):Ex(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),gn.debug(`Calling attemptFetch again in ${d} millis`),dP(t,h,r,i)}}function fU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pU(t){if(!(t instanceof rn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class mU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(){if(ay())try{await dI()}catch(t){return gn.warn(Pn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gn.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yU(t,e,n,r,i,s,a){var l;const c=hU(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>gn.error(p)),e.push(c);const u=vU().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([c,u]);aU(s)||eU(s,d.measurementId),i("js",new Date);const f=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return f[KF]="firebase",f.update=!0,h!=null&&(f[GF]=h),i("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.app=e}_delete(){return delete Al[this.app.options.appId],Promise.resolve()}}let Al={},Cb=[];const kb={};let Ep="dataLayer",xU="gtag",jb,hP,Rb=!1;function bU(){const t=[];if(sy()&&t.push("This is a browser extension environment."),VO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Pn.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function _U(t,e,n){bU();const r=t.options.appId;if(!r)throw Pn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pn.create("no-api-key");if(Al[r]!=null)throw Pn.create("already-exists",{id:r});if(!Rb){tU(Ep);const{wrappedGtag:s,gtagCore:a}=sU(Al,Cb,kb,Ep,xU);hP=s,jb=a,Rb=!0}return Al[r]=yU(t,Cb,kb,e,jb,Ep,n),new wU(t)}function EU(t=Lh()){t=Le(t);const e=is(t,Jd);return e.isInitialized()?e.getImmediate():TU(t)}function TU(t,e={}){const n=is(t,Jd);if(n.isInitialized()){const i=n.getImmediate();if(Vs(e,n.getOptions()))return i;throw Pn.create("already-initialized")}return n.initialize({options:e})}function SU(t,e,n,r){t=Le(t),gU(hP,Al[t.app.options.appId],e,n,r).catch(i=>gn.error(i))}const Ob="@firebase/analytics",Db="0.10.1";function IU(){Cn(new vn(Jd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return _U(r,i,n)},"PUBLIC")),Cn(new vn("analytics-internal",t,"PRIVATE")),zt(Ob,Db),zt(Ob,Db,"esm2017");function t(e){try{const n=e.getProvider(Jd).getImmediate();return{logEvent:(r,i,s)=>SU(n,r,i,s)}}catch(n){throw Pn.create("interop-component-reg-failed",{reason:n})}}}IU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="firebasestorage.googleapis.com",pP="storageBucket",NU=2*60*1e3,PU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends rn{constructor(e,n,r=0){super(Tp(e),`Firebase Storage: ${n} (${Tp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function Tp(t){return"storage/"+t}function pw(){const t="An unknown error occurred, please check the error payload for server response.";return new st(it.UNKNOWN,t)}function AU(t){return new st(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function CU(t){return new st(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(it.UNAUTHENTICATED,t)}function jU(){return new st(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RU(t){return new st(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function OU(){return new st(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DU(){return new st(it.CANCELED,"User canceled the upload/download.")}function LU(t){return new st(it.INVALID_URL,"Invalid URL '"+t+"'.")}function MU(t){return new st(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function VU(){return new st(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pP+"' property when initializing the app?")}function FU(){return new st(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UU(){return new st(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $U(t){return new st(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Eg(t){return new st(it.INVALID_ARGUMENT,t)}function mP(){return new st(it.APP_DELETED,"The Firebase app was deleted.")}function BU(t){return new st(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cl(t,e){return new st(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Go(t){throw new st(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(r.path==="")return r;throw MU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},w=n===fP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${w}/${i}/${y}`,"i"),x=[{regex:l,indices:c,postModify:s},{regex:p,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<x.length;b++){const I=x[b],E=I.regex.exec(e);if(E){const A=E[I.indices.bucket];let _=E[I.indices.path];_||(_=""),r=new Sn(A,_),I.postModify(r);break}}if(r==null)throw LU(e);return r}}class zU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,t(p,c())},y)}function f(){s&&clearTimeout(s)}function p(y,...m){if(u){f();return}if(y){f(),d.call(null,y,...m);return}if(c()||a){f(),d.call(null,y,...m);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,h(x)}let g=!1;function w(y){g||(g=!0,f(),!u&&(i!==null?(y||(l=2),clearTimeout(i),h(0)):y||(l=1)))}return h(0),s=setTimeout(()=>{a=!0,w(!0)},n),w}function WU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){return t!==void 0}function GU(t){return typeof t=="object"&&!Array.isArray(t)}function mw(t){return typeof t=="string"||t instanceof String}function Lb(t){return gw()&&t instanceof Blob}function gw(){return typeof Blob<"u"}function Mb(t,e,n,r){if(r<e)throw Eg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Eg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ks||(ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,r,i,s,a,l,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Su(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===ks.NO_ERROR,c=s.getStatus();if(!l||KU(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ks.ABORT;r(!1,new Su(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Su(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());qU(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=pw();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?mP():DU();a(c)}else{const c=OU();a(c)}};this.canceled_?n(!1,new Su(!1,null,!0)):this.backoffId_=HU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Su{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function QU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ZU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function e$(t,e,n,r,i,s,a=!0){const l=gP(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return JU(u,e),QU(u,n),XU(u,s),ZU(u,r),new YU(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function n$(...t){const e=t$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gw())return new Blob(t);throw new st(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function r$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){if(typeof atob>"u")throw $U("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sp{constructor(e,n){this.data=e,this.contentType=n||null}}function s$(t,e){switch(t){case br.RAW:return new Sp(vP(e));case br.BASE64:case br.BASE64URL:return new Sp(yP(t,e));case br.DATA_URL:return new Sp(o$(e),l$(e))}throw pw()}function vP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function a$(t){let e;try{e=decodeURIComponent(t)}catch{throw Cl(br.DATA_URL,"Malformed data URL.")}return vP(e)}function yP(t,e){switch(t){case br.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Cl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case br.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Cl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=i$(e)}catch(i){throw i.message.includes("polyfill")?i:Cl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class wP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cl(br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=c$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function o$(t){const e=new wP(t);return e.base64?yP(br.BASE64,e.rest):a$(e.rest)}function l$(t){return new wP(t).contentType}function c$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){let r=0,i="";Lb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Lb(this.data_)){const r=this.data_,i=r$(r,e,n);return i===null?null:new xi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xi(r,!0)}}static getBlob(...e){if(gw()){const n=e.map(r=>r instanceof xi?r.data_:r);return new xi(n$.apply(null,n))}else{const n=e.map(a=>mw(a)?s$(br.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[s++]=a[l]}),new xi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){let e;try{e=JSON.parse(t)}catch{return null}return GU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function d$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function bP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e){return e}class Qt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||h$}}let Iu=null;function f$(t){return!mw(t)||t.length<2?t:bP(t)}function _P(){if(Iu)return Iu;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(s,a){return f$(a)}const n=new Qt("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}const i=new Qt("size");return i.xform=r,t.push(i),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),Iu=t,Iu}function p$(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Sn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function m$(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const a=n[s];r[a.local]=a.xform(r,e[a.server])}return p$(r,t),r}function EP(t,e,n){const r=xP(e);return r===null?null:m$(t,r,n)}function g$(t,e,n,r){const i=xP(e);if(i===null||!mw(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+a(d)+"/o/"+a(h),p=wf(f,n,r),g=gP({alt:"media",token:u});return p+g})[0]}function v$(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class vw{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){if(!t)throw pw()}function y$(t,e){function n(r,i){const s=EP(t,i,e);return TP(s!==null),s}return n}function w$(t,e){function n(r,i){const s=EP(t,i,e);return TP(s!==null),g$(s,i,t.host,t._protocol)}return n}function SP(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=jU():i=kU():n.getStatus()===402?i=CU(t.bucket):n.getStatus()===403?i=RU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function IP(t){const e=SP(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=AU(t.path)),s.serverResponse=i.serverResponse,s}return n}function x$(t,e,n){const r=e.fullServerUrl(),i=wf(r,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,l=new vw(i,s,w$(t,n),a);return l.errorHandler=IP(e),l}function b$(t,e){const n=e.fullServerUrl(),r=wf(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function a(c,u){}const l=new vw(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=IP(e),l}function _$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function E$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=_$(null,e)),r}function T$(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let x="";for(let b=0;b<2;b++)x=x+Math.random().toString().slice(2);return x}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=E$(e,r,i),d=v$(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=xi.getBlob(h,r,f);if(p===null)throw FU();const g={name:u.fullPath},w=wf(s,t.host,t._protocol),y="POST",m=t.maxUploadRetryTime,v=new vw(w,y,y$(t,n),m);return v.urlParams=g,v.headers=a,v.body=p.uploadData(),v.errorHandler=SP(e),v}class S${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Go("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Go("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Go("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Go("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Go("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class I$ extends S${initXhr(){this.xhr_.responseType="text"}}function yw(){return new I$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qs(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bP(this._location.path)}get storage(){return this._service}get parent(){const e=u$(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new qs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BU(e)}}function N$(t,e,n){t._throwIfRoot("uploadBytes");const r=T$(t.storage,t._location,_P(),new xi(e,!0),n);return t.storage.makeRequestWithTokens(r,yw).then(i=>({metadata:i,ref:t}))}function P$(t){t._throwIfRoot("getDownloadURL");const e=x$(t.storage,t._location,_P());return t.storage.makeRequestWithTokens(e,yw).then(n=>{if(n===null)throw UU();return n})}function A$(t){t._throwIfRoot("deleteObject");const e=b$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,yw)}function C$(t,e){const n=d$(t._location.path,e),r=new Sn(t._location.bucket,n);return new qs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){return/^[A-Za-z]+:\/\//.test(t)}function j$(t,e){return new qs(t,e)}function NP(t,e){if(t instanceof ww){const n=t;if(n._bucket==null)throw VU();const r=new qs(n,n._bucket);return e!=null?NP(r,e):r}else return e!==void 0?C$(t,e):t}function R$(t,e){if(e&&k$(e)){if(t instanceof ww)return j$(t,e);throw Eg("To use ref(service, url), the first argument must be a Storage instance.")}else return NP(t,e)}function Vb(t,e){const n=e==null?void 0:e[pP];return n==null?null:Sn.makeFromBucketSpec(n,t)}function O$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:oI(i,t.app.options.projectId))}class ww{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=fP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NU,this._maxUploadRetryTime=PU,this._requests=new Set,i!=null?this._bucket=Sn.makeFromBucketSpec(i,this._host):this._bucket=Vb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=Vb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new zU(mP());{const a=e$(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Fb="@firebase/storage",Ub="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="storage";function sa(t,e,n){return t=Le(t),N$(t,e,n)}function Ao(t){return t=Le(t),P$(t)}function Co(t){return t=Le(t),A$(t)}function yt(t,e){return t=Le(t),R$(t,e)}function D$(t=Lh(),e){t=Le(t);const r=is(t,PP).getImmediate({identifier:e}),i=iI("storage");return i&&L$(r,...i),r}function L$(t,e,n,r={}){O$(t,e,n,r)}function M$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ww(n,r,i,e,Lr)}function V$(){Cn(new vn(PP,M$,"PUBLIC").setMultipleInstances(!0)),zt(Fb,Ub,""),zt(Fb,Ub,"esm2017")}V$();var Tg=function(t,e){return Tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Tg(t,e)};function Xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ue=function(){return Ue=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ue.apply(this,arguments)};function ko(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function B(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function z(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Yn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function AP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F$=AP,CP=new Dr("auth","Firebase",AP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Ac("@firebase/auth");function U$(t,...e){Zd.logLevel<=ve.WARN&&Zd.warn(`Auth (${Lr}): ${t}`,...e)}function Yu(t,...e){Zd.logLevel<=ve.ERROR&&Zd.error(`Auth (${Lr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw xw(t,...e)}function Pr(t,...e){return xw(t,...e)}function kP(t,e,n){const r=Object.assign(Object.assign({},F$()),{[e]:n});return new Dr("auth","Firebase",r).create(e,{appName:t.name})}function $$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jn(t,"argument-error"),kP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CP.create(t,...e)}function se(t,e,...n){if(!t)throw xw(e,...n)}function Kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yu(e),new Error(e)}function ai(t,e){t||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function B$(){return $b()==="http:"||$b()==="https:"}function $b(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B$()||sy()||"connection"in navigator)?navigator.onLine:!0}function H$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=lI()||cI()}get(){return z$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jP=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=new qc(3e4,6e4);function ls(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mr(t,e,n,r,i={}){return RP(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=rs(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),jP.fetch()(OP(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function RP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},W$),e);try{const i=new K$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Nu(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Nu(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Nu(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kP(t,d,u);Jn(t,d)}}catch(i){if(i instanceof rn)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function xf(t,e,n,r,i={}){const s=await Mr(t,e,n,r,i);return"mfaPendingCredential"in s&&Jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bw(t.config,i):`${t.config.apiScheme}://${i}`}function G$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let K$=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),q$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Nu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pr(t,e,r);return i.customData._tokenResponse=n,i}function Bb(t){return t!==void 0&&t.enterprise!==void 0}let Y$=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return G$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function Q$(t,e){return Mr(t,"GET","/v2/recaptchaConfig",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e){return Mr(t,"POST","/v1/accounts:delete",e)}async function J$(t,e){return Mr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z$(t,e=!1){const n=Le(t),r=await n.getIdToken(e),i=_w(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:kl(Ip(i.auth_time)),issuedAtTime:kl(Ip(i.iat)),expirationTime:kl(Ip(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ip(t){return Number(t)*1e3}function _w(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const i=iy(n);return i?JSON.parse(i):(Yu("Failed to decode base64 JWT payload"),null)}catch(i){return Yu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e4(t){const e=_w(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rn&&t4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n4=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DP=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fo(t,J$(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?s4(s.providerUserInfo):[],l=i4(t.providerData,a),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new DP(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function r4(t){const e=Le(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s4(t){return t.map(e=>{var{providerId:n}=e,r=ko(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e){const n=await RP(t,{},async()=>{const r=rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=OP(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",jP.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o4(t,e){return Mr(t,"POST","/v2/accounts:revokeToken",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zb=class Ig{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await a4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ig;return r&&(se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ig,this.toJSON())}_performRefresh(){return Kr("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let Ng=class Qu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ko(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new DP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z$(this,e)}reload(){return r4(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fo(this,X$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:b,isAnonymous:I,providerData:E,stsTokenManager:A}=n;se(x&&A,e,"internal-error");const _=zb.fromJSON(this.name,A);se(typeof x=="string",e,"internal-error"),fi(h,e.name),fi(f,e.name),se(typeof b=="boolean",e,"internal-error"),se(typeof I=="boolean",e,"internal-error"),fi(p,e.name),fi(g,e.name),fi(w,e.name),fi(y,e.name),fi(m,e.name),fi(v,e.name);const T=new Qu({uid:x,auth:e,email:f,emailVerified:b,displayName:h,isAnonymous:I,photoURL:g,phoneNumber:p,tenantId:w,stsTokenManager:_,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map(S=>Object.assign({},S))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new zb;i.updateFromServerResponse(n);const s=new Qu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await eh(s),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Map;function Yr(t){ai(t instanceof Function,"Expected a class definition");let e=Hb.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LP=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};LP.type="NONE";const Wb=LP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t,e,n){return`firebase:${t}:${e}:${n}`}let qb=class Ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ng._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ju(Yr(Wb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Yr(Wb);const a=Xu(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){const h=Ng._fromJSON(e,d);u!==s&&(l=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ju(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Ju(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($P(e))return"Blackberry";if(BP(e))return"Webos";if(Ew(e))return"Safari";if((e.includes("chrome/")||VP(e))&&!e.includes("edge/"))return"Chrome";if(UP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MP(t=Ne()){return/firefox\//i.test(t)}function Ew(t=Ne()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VP(t=Ne()){return/crios\//i.test(t)}function FP(t=Ne()){return/iemobile/i.test(t)}function UP(t=Ne()){return/android/i.test(t)}function $P(t=Ne()){return/blackberry/i.test(t)}function BP(t=Ne()){return/webos/i.test(t)}function bf(t=Ne()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l4(t=Ne()){var e;return bf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c4(){return uI()&&document.documentMode===10}function zP(t=Ne()){return bf(t)||UP(t)||BP(t)||$P(t)||/windows phone/i.test(t)||FP(t)}function u4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e=[]){let n;switch(t){case"Browser":n=Gb(Ne());break;case"Worker":n=`${Gb(Ne())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d4=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e={}){return Mr(t,"GET","/v2/passwordPolicy",ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=6;let p4=class{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:f4,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m4=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kb(this),this.idTokenSubscription=new Kb(this),this.beforeStateQueue=new d4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qb.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Le(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h4(this),n=new p4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await o4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await qb.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&U$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function cs(t){return Le(t)}let Kb=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=hI(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g4(t){_f=t}function WP(t){return _f.loadJS(t)}function v4(){return _f.recaptchaEnterpriseScript}function y4(){return _f.gapiScript}function w4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const x4="recaptcha-enterprise",b4="NO_RECAPTCHA";let _4=class{constructor(e){this.type=x4,this.auth=cs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{Q$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new Y$(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;Bb(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(b4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&Bb(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=v4();c.length!==0&&(c+=l),WP(c).then(()=>{i(l,s,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}};async function Yb(t,e,n,r=!1){const i=new _4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Pg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Yb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Yb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e){const n=is(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vs(s,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function T4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function S4(t,e,n){const r=cs(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=qP(e),{host:a,port:l}=I4(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||N4()}function qP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I4(t){const e=qP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Qb(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Qb(a)}}}function Qb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function N4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tw=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}};async function P4(t,e){return Mr(t,"POST","/v1/accounts:update",e)}async function A4(t,e){return Mr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return xf(t,"POST","/v1/accounts:signInWithPassword",ls(t,e))}async function k4(t,e){return Mr(t,"POST","/v1/accounts:sendOobCode",ls(t,e))}async function j4(t,e){return k4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){return xf(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}async function O4(t,e){return xf(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Tw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pg(e,n,"signInWithPassword",C4);case"emailLink":return R4(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pg(e,r,"signUpPassword",A4);case"emailLink":return O4(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t,e){return xf(t,"POST","/v1/accounts:signInWithIdp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="http://localhost";let Ef=class Ag extends Tw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ag(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ko(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ag(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:D4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rs(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M4(t){const e=sl(al(t)).link,n=e?sl(al(e)).deep_link_id:null,r=sl(al(t)).deep_link_id;return(r?sl(al(r)).link:null)||r||n||e||t}class Sw{constructor(e){var n,r,i,s,a,l;const c=sl(al(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=L4((i=c.mode)!==null&&i!==void 0?i:null);se(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=M4(e);try{return new Sw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sw.parseLink(n);return se(r,"argument-error"),pc._fromEmailAndCode(e,r.code,r.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iw=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=class extends Iw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Gc{constructor(){super("facebook.com")}static credential(e){return Ef._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GP=class ga extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ef._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ga.credential(n,r)}catch{return null}}};GP.GOOGLE_SIGN_IN_METHOD="google.com";GP.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Gc{constructor(){super("github.com")}static credential(e){return Ef._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Gc{constructor(){super("twitter.com")}static credential(e,n){return Ef._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nw=class Cg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ng._fromIdTokenResponse(e,r,i),a=Xb(r);return new Cg({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Xb(r);return new Cg({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function Xb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V4=class kg extends rn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kg(e,n,r,i)}};function KP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?V4._fromErrorAndOperation(t,s,e,r):s})}async function F4(t,e,n=!1){const r=await fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nw._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await fo(t,KP(r,i,e,t),n);se(s.idToken,r,"internal-error");const a=_w(s.idToken);se(a,r,"internal-error");const{sub:l}=a;return se(t.uid===l,r,"user-mismatch"),Nw._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t,e,n=!1){const r="signIn",i=await KP(t,r,e),s=await Nw._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $4(t,e){return YP(cs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t,e,n){var r;se(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),se(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(se(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(se(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z4(t){const e=cs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H4(t,e,n){const r=cs(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&B4(r,i,n),await Pg(r,i,"getOobCode",j4)}function W4(t,e,n){return $4(Le(t),jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&z4(t),r})}function q4(t,e){return G4(Le(t),null,e)}async function G4(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const a=await fo(t,P4(r,s));await t._updateTokensIfNecessary(a,!0)}function K4(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function Y4(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QP=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){const t=Ne();return Ew(t)||bf(t)}const X4=1e3,J4=10;class XP extends QP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Q4()&&u4(),this.fallbackToPolling=zP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);c4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XP.type="LOCAL";const Z4=XP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends QP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JP.type="SESSION";const ZP=JP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async u=>u(n.origin,s)),c=await e3(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=Pw("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function n3(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function r3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s3(){return eA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebaseLocalStorageDb",a3=1,nh="firebaseLocalStorage",nA="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sf(t,e){return t.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function o3(){const t=indexedDB.deleteDatabase(tA);return new Kc(t).toPromise()}function jg(){const t=indexedDB.open(tA,a3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nh,{keyPath:nA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nh)?e(r):(r.close(),await o3(),e(await jg()))})})}async function Jb(t,e,n){const r=Sf(t,!0).put({[nA]:e,value:n});return new Kc(r).toPromise()}async function l3(t,e){const n=Sf(t,!1).get(e),r=await new Kc(n).toPromise();return r===void 0?null:r.value}function Zb(t,e){const n=Sf(t,!0).delete(e);return new Kc(n).toPromise()}const c3=800,u3=3;class rA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(s3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await r3(),!this.activeServiceWorker)return;this.sender=new t3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await Jb(e,th,"1"),await Zb(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sf(i,!1).getAll();return new Kc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rA.type="LOCAL";const d3=rA;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){return e?Yr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aw=class extends Tw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function h3(t){return YP(t.auth,new Aw(t),t.bypassAuthState)}function f3(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),U4(n,new Aw(t),t.bypassAuthState)}async function p3(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),F4(n,new Aw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sA=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h3;case"linkViaPopup":case"linkViaRedirect":return p3;case"reauthViaPopup":case"reauthViaRedirect":return f3;default:Jn(this.auth,"internal-error")}}resolve(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new qc(2e3,1e4);async function g3(t,e,n){const r=cs(t);$$(t,e,Iw);const i=iA(r,n);return new Is(r,"signInViaPopup",e,i).executeNotNull()}class Is extends sA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){ai(this.filter.length===1,"Popup operations only handle one event");const e=Pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m3.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="pendingRedirect",Zu=new Map;class y3 extends sA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zu.get(this.auth._key());if(!e){try{const r=await w3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zu.set(this.auth._key(),e)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w3(t,e){const n=_3(e),r=b3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function x3(t,e){Zu.set(t._key(),e)}function b3(t){return Yr(t._redirectPersistence)}function _3(t){return Xu(v3,t.config.apiKey,t.name)}async function E3(t,e,n=!1){const r=cs(t),i=iA(r,e),a=await new y3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=10*60*1e3;let S3=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T3&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}};function e_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(t,e={}){return Mr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A3=/^https?/;async function C3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N3(t);for(const n of e)try{if(k3(n))return}catch{}Jn(t,"unauthorized-domain")}function k3(t){const e=Sg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!A3.test(n))return!1;if(P3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new qc(3e4,6e4);function t_(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R3(t){return new Promise((e,n)=>{var r,i,s;function a(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),n(Pr(t,"network-request-failed"))},timeout:j3.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ar().gapi)===null||s===void 0)&&s.load)a();else{const l=w4("iframefcb");return Ar()[l]=()=>{gapi.load?a():n(Pr(t,"network-request-failed"))},WP(`${y4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ed=null,e})}let ed=null;function O3(t){return ed=ed||R3(t),ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new qc(5e3,15e3),L3="__/auth/iframe",M3="emulator/auth/iframe",V3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U3(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bw(e,M3):`https://${t.config.authDomain}/${L3}`,r={apiKey:e.apiKey,appName:t.name,v:Lr},i=F3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${rs(r).slice(1)}`}async function $3(t){const e=await O3(t),n=Ar().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:U3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Pr(t,"network-request-failed"),l=Ar().setTimeout(()=>{s(a)},D3.get());function c(){Ar().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z3=500,H3=600,W3="_blank",q3="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G3(t,e,n,r=z3,i=H3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},B3),{width:r.toString(),height:i.toString(),top:s,left:a}),u=Ne().toLowerCase();n&&(l=VP(u)?W3:n),MP(u)&&(e=e||q3,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(l4(u)&&l!=="_self")return K3(e||"",l),new n_(null);const h=window.open(e||"",l,d);se(h,t,"popup-blocked");try{h.focus()}catch{}return new n_(h)}function K3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="__/auth/handler",Q3="emulator/auth/handler",X3=encodeURIComponent("fac");async function r_(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lr,eventId:i};if(e instanceof Iw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",BO(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))a[d]=h}if(e instanceof Gc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${X3}=${encodeURIComponent(c)}`:"";return`${J3(t)}?${rs(l).slice(1)}${u}`}function J3({config:t}){return t.emulator?bw(t,Q3):`https://${t.authDomain}/${Y3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class Z3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZP,this._completeRedirectFn=E3,this._overrideRedirectResult=x3}async _openPopup(e,n,r,i){var s;ai((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await r_(e,n,r,Sg(),i);return G3(e,a,Pw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await r_(e,n,r,Sg(),i);return n3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ai(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $3(e),r=new S3(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Np,{type:Np},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Np];a!==void 0&&n(!!a),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zP()||Ew()||bf()}}const eB=Z3;var i_="@firebase/auth",s_="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tB=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rB(t){Cn(new vn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HP(t)},u=new m4(r,i,s,c);return T4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new vn("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(r=>new tB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zt(i_,s_,nB(t)),zt(i_,s_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=5*60,sB=aI("authIdTokenMaxAge")||iB;let a_=null;const aB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sB)return;const i=n==null?void 0:n.token;a_!==i&&(a_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oB(t=Lh()){const e=is(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E4(t,{popupRedirectResolver:eB,persistence:[d3,Z4,ZP]}),r=aI("authTokenSyncURL");if(r){const s=aB(r);Y4(n,s,()=>s(n.currentUser)),K4(n,a=>s(a))}const i=rI("auth");return i&&S4(n,`http://${i}`),n}function lB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}g4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rB("Browser");const cB={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},Cw=gI(cB),wt=D$(Cw);EU(Cw);const le=z2(Cw),Ns=oB();function ar(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ji(t){return!!t&&!!t[Ke]}function oi(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===yB}(t)||Array.isArray(t)||!!t[f_]||!!(!((e=t.constructor)===null||e===void 0)&&e[f_])||kw(t)||jw(t))}function Gs(t,e,n){n===void 0&&(n=!1),Ro(t)===0?(n?Object.keys:za)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Ro(t){var e=t[Ke];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:kw(t)?2:jw(t)?3:0}function Ba(t,e){return Ro(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function uB(t,e){return Ro(t)===2?t.get(e):t[e]}function oA(t,e,n){var r=Ro(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function lA(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function kw(t){return gB&&t instanceof Map}function jw(t){return vB&&t instanceof Set}function ms(t){return t.o||t.t}function Rw(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=uA(t);delete e[Ke];for(var n=za(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Ow(t,e){return e===void 0&&(e=!1),Dw(t)||Ji(t)||!oi(t)||(Ro(t)>1&&(t.set=t.add=t.clear=t.delete=dB),Object.freeze(t),e&&Gs(t,function(n,r){return Ow(r,!0)},!0)),t}function dB(){ar(2)}function Dw(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Cr(t){var e=Lg[t];return e||ar(18,t),e}function hB(t,e){Lg[t]||(Lg[t]=e)}function Rg(){return mc}function Pp(t,e){e&&(Cr("Patches"),t.u=[],t.s=[],t.v=e)}function rh(t){Og(t),t.p.forEach(fB),t.p=null}function Og(t){t===mc&&(mc=t.l)}function o_(t){return mc={p:[],l:mc,h:t,m:!0,_:0}}function fB(t){var e=t[Ke];e.i===0||e.i===1?e.j():e.g=!0}function Ap(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Cr("ES5").S(e,t,r),r?(n[Ke].P&&(rh(e),ar(4)),oi(t)&&(t=ih(e,t),e.l||sh(e,t)),e.u&&Cr("Patches").M(n[Ke].t,t,e.u,e.s)):t=ih(e,n,[]),rh(e),e.u&&e.v(e.u,e.s),t!==cA?t:void 0}function ih(t,e,n){if(Dw(e))return e;var r=e[Ke];if(!r)return Gs(e,function(l,c){return l_(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return sh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Rw(r.k):r.o,s=i,a=!1;r.i===3&&(s=new Set(i),i.clear(),a=!0),Gs(s,function(l,c){return l_(t,r,i,l,c,n,a)}),sh(t,i,!1),n&&t.u&&Cr("Patches").N(r,n,t.u,t.s)}return r.o}function l_(t,e,n,r,i,s,a){if(Ji(i)){var l=ih(t,i,s&&e&&e.i!==3&&!Ba(e.R,r)?s.concat(r):void 0);if(oA(n,r,l),!Ji(l))return;t.m=!1}else a&&n.add(i);if(oi(i)&&!Dw(i)){if(!t.h.D&&t._<1)return;ih(t,i),e&&e.A.l||sh(t,i)}}function sh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Ow(e,n)}function Cp(t,e){var n=t[Ke];return(n?ms(n):t)[e]}function c_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ti(t){t.P||(t.P=!0,t.l&&Ti(t.l))}function kp(t){t.o||(t.o=Rw(t.t))}function Dg(t,e,n){var r=kw(e)?Cr("MapSet").F(e,n):jw(e)?Cr("MapSet").T(e,n):t.O?function(i,s){var a=Array.isArray(i),l={i:a?1:0,A:s?s.A:Rg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=l,u=gc;a&&(c=[l],u=hl);var d=Proxy.revocable(c,u),h=d.revoke,f=d.proxy;return l.k=f,l.j=h,f}(e,n):Cr("ES5").J(e,n);return(n?n.A:Rg()).p.push(r),r}function pB(t){return Ji(t)||ar(22,t),function e(n){if(!oi(n))return n;var r,i=n[Ke],s=Ro(n);if(i){if(!i.P&&(i.i<4||!Cr("ES5").K(i)))return i.t;i.I=!0,r=u_(n,s),i.I=!1}else r=u_(n,s);return Gs(r,function(a,l){i&&uB(i.t,a)===l||oA(r,a,e(l))}),s===3?new Set(r):r}(t)}function u_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Rw(t)}function mB(){function t(s,a){var l=i[s];return l?l.enumerable=a:i[s]=l={configurable:!0,enumerable:a,get:function(){var c=this[Ke];return gc.get(c,s)},set:function(c){var u=this[Ke];gc.set(u,s,c)}},l}function e(s){for(var a=s.length-1;a>=0;a--){var l=s[a][Ke];if(!l.P)switch(l.i){case 5:r(l)&&Ti(l);break;case 4:n(l)&&Ti(l)}}}function n(s){for(var a=s.t,l=s.k,c=za(l),u=c.length-1;u>=0;u--){var d=c[u];if(d!==Ke){var h=a[d];if(h===void 0&&!Ba(a,d))return!0;var f=l[d],p=f&&f[Ke];if(p?p.t!==h:!lA(f,h))return!0}}var g=!!a[Ke];return c.length!==za(a).length+(g?0:1)}function r(s){var a=s.k;if(a.length!==s.t.length)return!0;var l=Object.getOwnPropertyDescriptor(a,a.length-1);if(l&&!l.get)return!0;for(var c=0;c<a.length;c++)if(!a.hasOwnProperty(c))return!0;return!1}var i={};hB("ES5",{J:function(s,a){var l=Array.isArray(s),c=function(d,h){if(d){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=uA(h);delete g[Ke];for(var w=za(g),y=0;y<w.length;y++){var m=w[y];g[m]=t(m,d||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,s),u={i:l?5:4,A:a?a.A:Rg(),P:!1,I:!1,R:{},l:a,t:s,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Ke,{value:u,writable:!0}),c},S:function(s,a,l){l?Ji(a)&&a[Ke].A===s&&e(s.p):(s.u&&function c(u){if(u&&typeof u=="object"){var d=u[Ke];if(d){var h=d.t,f=d.k,p=d.R,g=d.i;if(g===4)Gs(f,function(x){x!==Ke&&(h[x]!==void 0||Ba(h,x)?p[x]||c(f[x]):(p[x]=!0,Ti(d)))}),Gs(h,function(x){f[x]!==void 0||Ba(f,x)||(p[x]=!1,Ti(d))});else if(g===5){if(r(d)&&(Ti(d),p.length=!0),f.length<h.length)for(var w=f.length;w<h.length;w++)p[w]=!1;else for(var y=h.length;y<f.length;y++)p[y]=!0;for(var m=Math.min(f.length,h.length),v=0;v<m;v++)f.hasOwnProperty(v)||(p[v]=!0),p[v]===void 0&&c(f[v])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var d_,mc,Lw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",gB=typeof Map<"u",vB=typeof Set<"u",h_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",cA=Lw?Symbol.for("immer-nothing"):((d_={})["immer-nothing"]=!0,d_),f_=Lw?Symbol.for("immer-draftable"):"__$immer_draftable",Ke=Lw?Symbol.for("immer-state"):"__$immer_state",yB=""+Object.prototype.constructor,za=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,uA=Object.getOwnPropertyDescriptors||function(t){var e={};return za(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Lg={},gc={get:function(t,e){if(e===Ke)return t;var n=ms(t);if(!Ba(n,e))return function(i,s,a){var l,c=c_(s,a);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!oi(r)?r:r===Cp(t.t,e)?(kp(t),t.o[e]=Dg(t.A.h,r,t)):r},has:function(t,e){return e in ms(t)},ownKeys:function(t){return Reflect.ownKeys(ms(t))},set:function(t,e,n){var r=c_(ms(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Cp(ms(t),e),s=i==null?void 0:i[Ke];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(lA(n,i)&&(n!==void 0||Ba(t.t,e)))return!0;kp(t),Ti(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Cp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,kp(t),Ti(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ms(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){ar(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ar(12)}},hl={};Gs(gc,function(t,e){hl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),hl.deleteProperty=function(t,e){return hl.set.call(this,t,e,void 0)},hl.set=function(t,e,n){return gc.set.call(this,t[0],e,n,t[0])};var wB=function(){function t(n){var r=this;this.O=h_,this.D=!0,this.produce=function(i,s,a){if(typeof i=="function"&&typeof s!="function"){var l=s;s=i;var c=r;return function(w){var y=this;w===void 0&&(w=l);for(var m=arguments.length,v=Array(m>1?m-1:0),x=1;x<m;x++)v[x-1]=arguments[x];return c.produce(w,function(b){var I;return(I=s).call.apply(I,[y,b].concat(v))})}}var u;if(typeof s!="function"&&ar(6),a!==void 0&&typeof a!="function"&&ar(7),oi(i)){var d=o_(r),h=Dg(r,i,void 0),f=!0;try{u=s(h),f=!1}finally{f?rh(d):Og(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(w){return Pp(d,a),Ap(w,d)},function(w){throw rh(d),w}):(Pp(d,a),Ap(u,d))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===cA&&(u=void 0),r.D&&Ow(u,!0),a){var p=[],g=[];Cr("Patches").M(i,u,p,g),a(p,g)}return u}ar(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(h))})};var a,l,c=r.produce(i,s,function(u,d){a=u,l=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,a,l]}):[c,a,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){oi(n)||ar(8),Ji(n)&&(n=pB(n));var r=o_(this),i=Dg(this,n,void 0);return i[Ke].C=!0,Og(r),i},e.finishDraft=function(n,r){var i=n&&n[Ke],s=i.A;return Pp(s,r),Ap(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!h_&&ar(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var a=Cr("Patches").$;return Ji(n)?a(n,r):this.produce(n,function(l){return a(l,r)})},t}(),jn=new wB,dA=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseProxies.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function xB(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bB(t){var e=xB(t,"string");return vc(e)=="symbol"?e:String(e)}function _B(t,e,n){return e=bB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(n),!0).forEach(function(r){_B(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ft(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var g_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),jp=function(){return Math.random().toString(36).substring(7).split("").join(".")},ah={INIT:"@@redux/INIT"+jp(),REPLACE:"@@redux/REPLACE"+jp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+jp()}};function EB(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Mw(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ft(1));return n(Mw)(t,e)}if(typeof t!="function")throw new Error(Ft(2));var i=t,s=e,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function d(){if(c)throw new Error(Ft(3));return s}function h(w){if(typeof w!="function")throw new Error(Ft(4));if(c)throw new Error(Ft(5));var y=!0;return u(),l.push(w),function(){if(y){if(c)throw new Error(Ft(6));y=!1,u();var v=l.indexOf(w);l.splice(v,1),a=null}}}function f(w){if(!EB(w))throw new Error(Ft(7));if(typeof w.type>"u")throw new Error(Ft(8));if(c)throw new Error(Ft(9));try{c=!0,s=i(s,w)}finally{c=!1}for(var y=a=l,m=0;m<y.length;m++){var v=y[m];v()}return w}function p(w){if(typeof w!="function")throw new Error(Ft(10));i=w,f({type:ah.REPLACE})}function g(){var w,y=h;return w={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Ft(11));function x(){v.next&&v.next(d())}x();var b=y(x);return{unsubscribe:b}}},w[g_]=function(){return this},w}return f({type:ah.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:p},r[g_]=g,r}function TB(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:ah.INIT});if(typeof r>"u")throw new Error(Ft(12));if(typeof n(void 0,{type:ah.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ft(13))})}function hA(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),a;try{TB(n)}catch(l){a=l}return function(c,u){if(c===void 0&&(c={}),a)throw a;for(var d=!1,h={},f=0;f<s.length;f++){var p=s[f],g=n[p],w=c[p],y=g(w,u);if(typeof y>"u")throw u&&u.type,new Error(Ft(14));h[p]=y,d=d||y!==w}return d=d||s.length!==Object.keys(c).length,d?h:c}}function oh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function SB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ft(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=e.map(function(c){return c(a)});return s=oh.apply(void 0,l)(i.dispatch),m_(m_({},i),{},{dispatch:s})}}}function fA(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(a){return function(l){return typeof l=="function"?l(i,s,t):a(l)}}};return e}var pA=fA();pA.withExtraArgument=fA;const Mg=pA;var mA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),IB=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},po=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},NB=Object.defineProperty,PB=Object.defineProperties,AB=Object.getOwnPropertyDescriptors,v_=Object.getOwnPropertySymbols,CB=Object.prototype.hasOwnProperty,kB=Object.prototype.propertyIsEnumerable,y_=function(t,e,n){return e in t?NB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Wi=function(t,e){for(var n in e||(e={}))CB.call(e,n)&&y_(t,n,e[n]);if(v_)for(var r=0,i=v_(e);r<i.length;r++){var n=i[r];kB.call(e,n)&&y_(t,n,e[n])}return t},Rp=function(t,e){return PB(t,AB(e))},jB=function(t,e,n){return new Promise(function(r,i){var s=function(c){try{l(n.next(c))}catch(u){i(u)}},a=function(c){try{l(n.throw(c))}catch(u){i(u)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(s,a)};l((n=n.apply(t,e)).next())})},RB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?oh:oh.apply(null,arguments)};function OB(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function qi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Wi(Wi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var DB=function(t){mA(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,po([void 0],n[0].concat(this)))):new(e.bind.apply(e,po([void 0],n.concat(this))))},e}(Array),LB=function(t){mA(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,po([void 0],n[0].concat(this)))):new(e.bind.apply(e,po([void 0],n.concat(this))))},e}(Array);function Vg(t){return oi(t)?dA(t,function(){}):t}function MB(t){return typeof t=="boolean"}function VB(){return function(e){return FB(e)}}function FB(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new DB;return n&&(MB(n)?r.push(Mg):r.push(Mg.withExtraArgument(n.extraArgument))),r}var UB=!0;function $B(t){var e=VB(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,a=s===void 0?e():s,l=n.devTools,c=l===void 0?!0:l,u=n.preloadedState,d=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof i=="function")p=i;else if(OB(i))p=hA(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=a;typeof g=="function"&&(g=g(e));var w=SB.apply(void 0,g),y=oh;c&&(y=RB(Wi({trace:!UB},typeof c=="object"&&c)));var m=new LB(w),v=m;Array.isArray(f)?v=po([w],f):typeof f=="function"&&(v=f(m));var x=y.apply(void 0,v);return Mw(p,d,x)}function gA(t){var e={},n=[],r,i={addCase:function(s,a){var l=typeof s=="string"?s:s.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=a,i},addMatcher:function(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function BB(t){return typeof t=="function"}function zB(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?gA(e):[e,n,r],s=i[0],a=i[1],l=i[2],c;if(BB(t))c=function(){return Vg(t())};else{var u=Vg(t);c=function(){return u}}function d(h,f){h===void 0&&(h=c());var p=po([s[f.type]],a.filter(function(g){var w=g.matcher;return w(f)}).map(function(g){var w=g.reducer;return w}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,w){if(w)if(Ji(g)){var y=g,m=w(y,f);return m===void 0?g:m}else{if(oi(g))return dA(g,function(v){return w(v,f)});var m=w(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return d.getInitialState=c,d}function HB(t,e){return t+"/"+e}function Ln(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Vg(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},a={},l={};i.forEach(function(d){var h=r[d],f=HB(e,d),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,s[d]=p,a[f]=p,l[d]=g?qi(f,g):qi(f)});function c(){var d=typeof t.extraReducers=="function"?gA(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,p=d[1],g=p===void 0?[]:p,w=d[2],y=w===void 0?void 0:w,m=Wi(Wi({},f),a);return zB(n,function(v){for(var x in m)v.addCase(x,m[x]);for(var b=0,I=g;b<I.length;b++){var E=I[b];v.addMatcher(E.matcher,E.reducer)}y&&v.addDefaultCase(y)})}var u;return{name:e,reducer:function(d,h){return u||(u=c()),u(d,h)},actions:l,caseReducers:s,getInitialState:function(){return u||(u=c()),u.getInitialState()}}}var WB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qB=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=WB[Math.random()*64|0];return e},GB=["name","message","stack","code"],Op=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),w_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),KB=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=GB;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=qi(e+"/fulfilled",function(u,d,h,f){return{payload:u,meta:Rp(Wi({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),s=qi(e+"/pending",function(u,d,h){return{payload:void 0,meta:Rp(Wi({},h||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),a=qi(e+"/rejected",function(u,d,h,f,p){return{payload:f,error:(r&&r.serializeError||KB)(u||"Rejected"),meta:Rp(Wi({},p||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function c(u){return function(d,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):qB(),g=new l,w;function y(v){w=v,g.abort()}var m=function(){return jB(this,null,function(){var v,x,b,I,E,A,_;return IB(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),I=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:h,extra:f}),QB(I)?[4,I]:[3,2];case 1:I=T.sent(),T.label=2;case 2:if(I===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(S,k){return g.signal.addEventListener("abort",function(){return k({name:"AbortError",message:w||"Aborted"})})}),d(s(p,u,(x=r==null?void 0:r.getPendingMeta)==null?void 0:x.call(r,{requestId:p,arg:u},{getState:h,extra:f}))),[4,Promise.race([E,Promise.resolve(n(u,{dispatch:d,getState:h,extra:f,requestId:p,signal:g.signal,abort:y,rejectWithValue:function(S,k){return new Op(S,k)},fulfillWithValue:function(S,k){return new w_(S,k)}})).then(function(S){if(S instanceof Op)throw S;return S instanceof w_?i(S.payload,p,u,S.meta):i(S,p,u)})])];case 3:return b=T.sent(),[3,5];case 4:return A=T.sent(),b=A instanceof Op?a(null,p,u,A.payload,A.meta):a(A,p,u),[3,5];case 5:return _=r&&!r.dispatchConditionRejection&&a.match(b)&&b.meta.condition,_||d(b),[2,b]}})})}();return Object.assign(m,{abort:y,requestId:p,arg:u,unwrap:function(){return m.then(YB)}})}}return Object.assign(c,{pending:s,rejected:a,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function YB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function QB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Vw="listenerMiddleware";qi(Vw+"/add");qi(Vw+"/removeAll");qi(Vw+"/remove");var x_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);mB();const Dp={data:{name:"",email:"",designation:"",token:"",message:""},isLoading:!1,isSuccessful:!1,isExpired:!1,error:{}},XB=Ln({name:"UserAuth",initialState:Dp,reducers:{getUserAuthRequestAction:(t,e)=>{console.log(e),t.isLoading=!0},getTokenExpiredAction:(t,e)=>{console.log(e),t.isExpired=!0,t.isLoading=!0},getUserAuthExpiredTokenAction:(t,e)=>{t.data.token.access=e.payload,t.isLoading=!1,t.result={},t.isSuccessful=!1,t.isExpired=!1},getUserAuthSuccessAction:(t,e)=>{t.data=e.payload,t.isLoading=!1,t.result={},t.isSuccessful=!0,t.isExpired=!1},getUserAuthFailedAction:(t,e)=>{t.isSuccessful=!1,t.isLoading=!1,t.result=e.payload,t.isExpired=!1,t.data=Dp.data},getUserAuthLogoutAction:t=>{t.isSuccessful=!1,t.isLoading=!1,t.data=Dp.data,t.error={},t.isExpired=!1}}}),b_={data:[]},vA=Ln({name:"News",initialState:b_,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=b_.data}}}),{getNewsSuccessAction:JB,getNewsFailedAction:PG}=vA.actions,__={data:[]},yA=Ln({name:"Slider",initialState:__,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=__.data}}}),{getSliderSuccessAction:ZB,getSliderFailedAction:AG}=yA.actions,E_={data:[]},wA=Ln({name:"Publications",initialState:E_,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=E_.data}}}),{getPublicationsSuccessAction:ez,getPublicationsFailedAction:CG}=wA.actions,T_={data:[]},xA=Ln({name:"Supervisors",initialState:T_,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=T_.data}}}),{getSupervisorsSuccessAction:tz,getSupervisorsFailedAction:kG}=xA.actions,S_={data:[]},bA=Ln({name:"Phd",initialState:S_,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=S_.data}}}),{getPhdSuccessAction:nz,getPhdFailedAction:jG}=bA.actions,I_={data:[]},_A=Ln({name:"PHUG",initialState:I_,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=I_.data}}}),{getPHUGSuccessAction:rz,getPHUGFailedAction:RG}=_A.actions,N_={data:[]},EA=Ln({name:"VisitorsAndInterns",initialState:N_,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=N_.data}}}),{getVisitorsAndInternsSuccessAction:iz,getVisitorsAndInternsFailedAction:OG}=EA.actions,P_={data:[]},TA=Ln({name:"Datasets",initialState:P_,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=P_.data}}}),{getDatasetsSuccessAction:sz,getDatasetsFailedAction:DG}=TA.actions,A_={data:[]},SA=Ln({name:"ResearchArea",initialState:A_,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=A_.data}}}),{getResearchAreaSuccessAction:az,getResearchAreaFailedAction:LG}=SA.actions,C_={data:[]},IA=Ln({name:"SubAreas",initialState:C_,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=C_.data}}}),{getSubAreasSuccessAction:oz,getSubAreasFailedAction:MG}=IA.actions,k_={data:[]},NA=Ln({name:"ProjectsItems",initialState:k_,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=k_.data}}}),{getProjectsItemsSuccessAction:lz,getProjectsItemsFailedAction:VG}=NA.actions,j_={data:[]},PA=Ln({name:"ProjectsMain",initialState:j_,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=j_.data}}}),{getProjectsMainSuccessAction:cz,getProjectsMainFailedAction:FG}=PA.actions,uz=hA({getauth:XB.reducer,getnews:vA.reducer,getslider:yA.reducer,getpublications:wA.reducer,getsupervisors:xA.reducer,getphdStudents:bA.reducer,getpgugStudents:_A.reducer,getvisitorsandinterns:EA.reducer,getdatasets:TA.reducer,getresearcharea:SA.reducer,getsubareas:IA.reducer,getprojectitems:NA.reducer,getprojectsmain:PA.reducer});var Fw="persist:",AA="persist/FLUSH",Uw="persist/REHYDRATE",CA="persist/PAUSE",kA="persist/PERSIST",jA="persist/PURGE",RA="persist/REGISTER",dz=-1;function td(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?td=function(n){return typeof n}:td=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},td(t)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(n,!0).forEach(function(r){fz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pz(t,e,n,r){r.debug;var i=hz({},n);return t&&td(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function mz(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:Fw).concat(t.key),a=t.storage,l;t.serialize===!1?l=function(I){return I}:typeof t.serialize=="function"?l=t.serialize:l=gz;var c=t.writeFailHandler||null,u={},d={},h=[],f=null,p=null,g=function(I){Object.keys(I).forEach(function(E){m(E)&&u[E]!==I[E]&&h.indexOf(E)===-1&&h.push(E)}),Object.keys(u).forEach(function(E){I[E]===void 0&&m(E)&&h.indexOf(E)===-1&&u[E]!==void 0&&h.push(E)}),f===null&&(f=setInterval(w,i)),u=I};function w(){if(h.length===0){f&&clearInterval(f),f=null;return}var b=h.shift(),I=r.reduce(function(E,A){return A.in(E,b,u)},u[b]);if(I!==void 0)try{d[b]=l(I)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete d[b];h.length===0&&y()}function y(){Object.keys(d).forEach(function(b){u[b]===void 0&&delete d[b]}),p=a.setItem(s,l(d)).catch(v)}function m(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||e&&e.indexOf(b)!==-1)}function v(b){c&&c(b)}var x=function(){for(;h.length!==0;)w();return p||Promise.resolve()};return{update:g,flush:x}}function gz(t){return JSON.stringify(t)}function vz(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Fw).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(a){return a}:typeof t.deserialize=="function"?i=t.deserialize:i=yz,r.getItem(n).then(function(s){if(s)try{var a={},l=i(s);return Object.keys(l).forEach(function(c){a[c]=e.reduceRight(function(u,d){return d.out(u,c,l)},i(l[c]))}),a}catch(c){throw c}else return})}function yz(t){return JSON.parse(t)}function wz(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Fw).concat(t.key);return e.removeItem(n,xz)}function xz(t){}function O_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(n,!0).forEach(function(r){bz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _z(t,e){if(t==null)return{};var n=Ez(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ez(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Tz=5e3;function Sz(t,e){var n=t.version!==void 0?t.version:dz;t.debug;var r=t.stateReconciler===void 0?pz:t.stateReconciler,i=t.getStoredState||vz,s=t.timeout!==void 0?t.timeout:Tz,a=null,l=!1,c=!0,u=function(h){return h._persist.rehydrated&&a&&!c&&a.update(h),h};return function(d,h){var f=d||{},p=f._persist,g=_z(f,["_persist"]),w=g;if(h.type===kA){var y=!1,m=function(_,T){y||(h.rehydrate(t.key,_,T),y=!0)};if(s&&setTimeout(function(){!y&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),c=!1,a||(a=mz(t)),p)return Ur({},e(w,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(A){var _=t.migrate||function(T,S){return Promise.resolve(T)};_(A,n).then(function(T){m(T)},function(T){m(void 0,T)})},function(A){m(void 0,A)}),Ur({},e(w,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===jA)return l=!0,h.result(wz(t)),Ur({},e(w,h),{_persist:p});if(h.type===AA)return h.result(a&&a.flush()),Ur({},e(w,h),{_persist:p});if(h.type===CA)c=!0;else if(h.type===Uw){if(l)return Ur({},w,{_persist:Ur({},p,{rehydrated:!0})});if(h.key===t.key){var v=e(w,h),x=h.payload,b=r!==!1&&x!==void 0?r(x,d,v,t):v,I=Ur({},b,{_persist:Ur({},p,{rehydrated:!0})});return u(I)}}}if(!p)return e(d,h);var E=e(w,h);return E===w?d:u(Ur({},E,{_persist:p}))}}function D_(t){return Pz(t)||Nz(t)||Iz()}function Iz(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Nz(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function Pz(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function L_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L_(n,!0).forEach(function(r){Az(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Az(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var OA={registry:[],bootstrapped:!1},Cz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OA,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case RA:return Fg({},e,{registry:[].concat(D_(e.registry),[n.key])});case Uw:var r=e.registry.indexOf(n.key),i=D_(e.registry);return i.splice(r,1),Fg({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function kz(t,e,n){var r=n||!1,i=Mw(Cz,OA,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:RA,key:u})},a=function(u,d,h){var f={type:Uw,payload:d,err:h,key:u};t.dispatch(f),i.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=Fg({},i,{purge:function(){var u=[];return t.dispatch({type:jA,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:AA,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:CA})},persist:function(){t.dispatch({type:kA,register:s,rehydrate:a})}});return e&&e.manualPersist||l.persist(),l}var DA={},$w={},Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});function Pu(){}const jz={getItem:Pu,setItem:Pu,removeItem:Pu,keys:[],getAllKeys:Pu};function Rz(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function Oz(t){const e=`${t}Storage`;return Rz(e)?self[e]:jz}Bw.default=Oz;var Dz=Dl&&Dl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($w,"__esModule",{value:!0});const Lz=Dz(Bw);function Mz(t){const e=(0,Lz.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(i=>{i(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}$w.default=Mz;var Vz=Dl&&Dl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(DA,"__esModule",{value:!0});const Fz=Vz($w),Uz=(0,Fz.default)("session");var $z=DA.default=Uz;const Bz={key:"root",storage:$z},zz=Sz(Bz,uz),wn=$B({reducer:zz,middleware:[Mg]}),Hz=kz(wn),Yc=async()=>{try{const t=je(le,"publications"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null;n.push({_id:a,data:s})});await Promise.all(r),wn.dispatch(ez(n))}catch(t){console.error("Error fetching Publications:",t)}};async function Wz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=vt(le,"publications",t);await Zn(e),alert("Publications deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Publications!")}}}var LA={exports:{}},MA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=N;function qz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gz=typeof Object.is=="function"?Object.is:qz,Kz=Qc.useSyncExternalStore,Yz=Qc.useRef,Qz=Qc.useEffect,Xz=Qc.useMemo,Jz=Qc.useDebugValue;MA.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Yz(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Xz(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,Gz(d,p))return g;var w=r(p);return i!==void 0&&i(g,w)?g:(d=p,h=w)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var l=Kz(t,s[0],s[1]);return Qz(function(){a.hasValue=!0,a.value=l},[l]),Jz(l),l};LA.exports=MA;var Zz=LA.exports,In="default"in Yp?Pe:Yp,M_=Symbol.for("react-redux-context"),V_=typeof globalThis<"u"?globalThis:{};function e9(){if(!In.createContext)return{};const t=V_[M_]??(V_[M_]=new Map);let e=t.get(In.createContext);return e||(e=In.createContext(null),t.set(In.createContext,e)),e}var lh=e9(),t9=()=>{throw new Error("uSES not initialized!")};function VA(t=lh){return function(){return In.useContext(t)}}var n9=VA(),FA=t9,r9=t=>{FA=t},i9=(t,e)=>t===e;function s9(t=lh){const e=t===lh?n9:VA(t),n=(r,i={})=>{const{equalityFn:s=i9,devModeChecks:a={}}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();In.useRef(!0);const f=In.useCallback({[r.name](g){return r(g)}}[r.name],[r,d,a.stabilityCheck]),p=FA(c.addNestedSub,l.getState,u||l.getState,f,s);return In.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var ae=s9();function a9(t){t()}function o9(){let t=null,e=null;return{clear(){t=null,e=null},notify(){a9(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var F_={notify(){},get:()=>[]};function l9(t,e){let n,r=F_,i=0,s=!1;function a(w){d();const y=r.subscribe(w);let m=!1;return()=>{m||(m=!0,y(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=o9())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=F_)}function f(){s||(s=!0,d())}function p(){s&&(s=!1,h())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var c9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u9=c9?In.useLayoutEffect:In.useEffect;function d9({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=In.useMemo(()=>{const u=l9(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),l=In.useMemo(()=>t.getState(),[t]);u9(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const c=e||lh;return In.createElement(c.Provider,{value:a},n)}var h9=d9;r9(Zz.useSyncExternalStoreWithSelector);const Oo=async()=>{try{const t=je(le,"supervisors"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null,l=s.profileImage.stringValue,c=l?await f9(l):null;n.push({_id:a,data:s,profileImage:c})});await Promise.all(r),wn.dispatch(tz(n))}catch(t){console.error("Error fetching Supervisors:",t)}},f9=async t=>{try{const e=yt(wt,`/peoples/supervisor_profile_images/${t}`);return await Ao(e)}catch{return null}};async function p9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=vt(le,"supervisors",t),i=(await Po(e)).data().profileImage;if(await Zn(e),i){const s=yt(wt,`/peoples/supervisor_profile_images/${i}`);await Co(s)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Supervisors!")}}}var UA={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Dl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,a={},l=0,c={parse:function(_,T){var S=(T=T||{}).dynamicTyping||!1;if(A(S)&&(T.dynamicTypingFunction=S,S={}),T.dynamicTyping=S,T.transform=!!A(T.transform)&&T.transform,T.worker&&c.WORKERS_SUPPORTED){var k=function(){if(!c.WORKERS_SUPPORTED)return!1;var P=(M=r.URL||r.webkitURL||null,H=n.toString(),c.BLOB_URL||(c.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))),C=new r.Worker(P),M,H;return C.onmessage=v,C.id=l++,a[C.id]=C}();return k.userStep=T.step,k.userChunk=T.chunk,k.userComplete=T.complete,k.userError=T.error,T.step=A(T.step),T.chunk=A(T.chunk),T.complete=A(T.complete),T.error=A(T.error),delete T.worker,void k.postMessage({input:_,config:T,workerId:k.id})}var D=null;return c.NODE_STREAM_INPUT,typeof _=="string"?(_=function(P){return P.charCodeAt(0)===65279?P.slice(1):P}(_),D=T.download?new h(T):new p(T)):_.readable===!0&&A(_.read)&&A(_.on)?D=new g(T):(r.File&&_ instanceof File||_ instanceof Object)&&(D=new f(T)),D.stream(_)},unparse:function(_,T){var S=!1,k=!0,D=",",P=`\r
`,C='"',M=C+C,H=!1,O=null,R=!1;(function(){if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(j){return T.delimiter.indexOf(j)!==-1}).length||(D=T.delimiter),(typeof T.quotes=="boolean"||typeof T.quotes=="function"||Array.isArray(T.quotes))&&(S=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(H=T.skipEmptyLines),typeof T.newline=="string"&&(P=T.newline),typeof T.quoteChar=="string"&&(C=T.quoteChar),typeof T.header=="boolean"&&(k=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");O=T.columns}T.escapeChar!==void 0&&(M=T.escapeChar+C),(typeof T.escapeFormulae=="boolean"||T.escapeFormulae instanceof RegExp)&&(R=T.escapeFormulae instanceof RegExp?T.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var L=new RegExp(y(C),"g");if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return F(null,_,H);if(typeof _[0]=="object")return F(O||Object.keys(_[0]),_,H)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||O),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),F(_.fields||[],_.data||[],H);throw new Error("Unable to serialize unrecognized input");function F(j,W,Z){var te="";typeof j=="string"&&(j=JSON.parse(j)),typeof W=="string"&&(W=JSON.parse(W));var oe=Array.isArray(j)&&0<j.length,fe=!Array.isArray(W[0]);if(oe&&k){for(var Re=0;Re<j.length;Re++)0<Re&&(te+=D),te+=G(j[Re],Re);0<W.length&&(te+=P)}for(var J=0;J<W.length;J++){var me=oe?j.length:W[J].length,q=!1,Ee=oe?Object.keys(W[J]).length===0:W[J].length===0;if(Z&&!oe&&(q=Z==="greedy"?W[J].join("").trim()==="":W[J].length===1&&W[J][0].length===0),Z==="greedy"&&oe){for(var Se=[],ft=0;ft<me;ft++){var He=fe?j[ft]:ft;Se.push(W[J][He])}q=Se.join("").trim()===""}if(!q){for(var Oe=0;Oe<me;Oe++){0<Oe&&!Ee&&(te+=D);var an=oe&&fe?j[Oe]:Oe;te+=G(W[J][an],Oe)}J<W.length-1&&(!Z||0<me&&!Ee)&&(te+=P)}}return te}function G(j,W){if(j==null)return"";if(j.constructor===Date)return JSON.stringify(j).slice(1,25);var Z=!1;R&&typeof j=="string"&&R.test(j)&&(j="'"+j,Z=!0);var te=j.toString().replace(L,M);return(Z=Z||S===!0||typeof S=="function"&&S(j,W)||Array.isArray(S)&&S[W]||function(oe,fe){for(var Re=0;Re<fe.length;Re++)if(-1<oe.indexOf(fe[Re]))return!0;return!1}(te,c.BAD_DELIMITERS)||-1<te.indexOf(D)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?C+te+C:te}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=w,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var u=r.jQuery;u.fn.parse=function(_){var T=_.config||{},S=[];return this.each(function(P){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var C=0;C<this.files.length;C++)S.push({file:this.files[C],inputElem:this,instanceConfig:u.extend({},T)})}),k(),this;function k(){if(S.length!==0){var P,C,M,H,O=S[0];if(A(_.before)){var R=_.before(O.file,O.inputElem);if(typeof R=="object"){if(R.action==="abort")return P="AbortError",C=O.file,M=O.inputElem,H=R.reason,void(A(_.error)&&_.error({name:P},C,M,H));if(R.action==="skip")return void D();typeof R.config=="object"&&(O.instanceConfig=u.extend(O.instanceConfig,R.config))}else if(R==="skip")return void D()}var L=O.instanceConfig.complete;O.instanceConfig.complete=function(F){A(L)&&L(F,O.file,O.inputElem),D()},c.parse(O.file,O.instanceConfig)}else A(_.complete)&&_.complete()}function D(){S.splice(0,1),k()}}}function d(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var S=I(T);S.chunkSize=parseInt(S.chunkSize),T.step||T.chunk||(S.chunkSize=null),this._handle=new w(S),(this._handle.streamer=this)._config=S}).call(this,_),this.parseChunk=function(T,S){if(this.isFirstChunk&&A(this._config.beforeFirstChunk)){var k=this._config.beforeFirstChunk(T);k!==void 0&&(T=k)}this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+T;this._partialLine="";var P=this._handle.parse(D,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var C=P.meta.cursor;this._finished||(this._partialLine=D.substring(C-this._baseIndex),this._baseIndex=C),P&&P.data&&(this._rowCount+=P.data.length);var M=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:P,workerId:c.WORKER_ID,finished:M});else if(A(this._config.chunk)&&!S){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);P=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!M||!A(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(T){A(this._config.error)?this._config.error(T):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function h(_){var T;(_=_||{}).chunkSize||(_.chunkSize=c.RemoteChunkSize),d.call(this,_),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),i||(T.onload=E(this._chunkLoaded,this),T.onerror=E(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var S=this._config.downloadRequestHeaders;for(var k in S)T.setRequestHeader(k,S[k])}if(this._config.chunkSize){var D=this._start+this._config.chunkSize-1;T.setRequestHeader("Range","bytes="+this._start+"-"+D)}try{T.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}i&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:T.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(S){var k=S.getResponseHeader("Content-Range");return k===null?-1:parseInt(k.substring(k.lastIndexOf("/")+1))}(T),this.parseChunk(T.responseText)))},this._chunkError=function(S){var k=T.statusText||S;this._sendError(new Error(k))}}function f(_){var T,S;(_=_||{}).chunkSize||(_.chunkSize=c.LocalChunkSize),d.call(this,_);var k=typeof FileReader<"u";this.stream=function(D){this._input=D,S=D.slice||D.webkitSlice||D.mozSlice,k?((T=new FileReader).onload=E(this._chunkLoaded,this),T.onerror=E(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input;if(this._config.chunkSize){var P=Math.min(this._start+this._config.chunkSize,this._input.size);D=S.call(D,this._start,P)}var C=T.readAsText(D,this._config.encoding);k||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(_){var T;d.call(this,_=_||{}),this.stream=function(S){return T=S,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var S,k=this._config.chunkSize;return k?(S=T.substring(0,k),T=T.substring(k)):(S=T,T=""),this._finished=!T,this.parseChunk(S)}}}function g(_){d.call(this,_=_||{});var T=[],S=!0,k=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):S=!0},this._streamData=E(function(D){try{T.push(typeof D=="string"?D:D.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(P){this._streamError(P)}},this),this._streamError=E(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=E(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(_){var T,S,k,D=Math.pow(2,53),P=-D,C=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,O=0,R=0,L=!1,F=!1,G=[],j={data:[],errors:[],meta:{}};if(A(_.step)){var W=_.step;_.step=function(J){if(j=J,oe())te();else{if(te(),j.data.length===0)return;O+=J.data.length,_.preview&&O>_.preview?S.abort():(j.data=j.data[0],W(j,H))}}}function Z(J){return _.skipEmptyLines==="greedy"?J.join("").trim()==="":J.length===1&&J[0].length===0}function te(){return j&&k&&(Re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),k=!1),_.skipEmptyLines&&(j.data=j.data.filter(function(J){return!Z(J)})),oe()&&function(){if(!j)return;function J(q,Ee){A(_.transformHeader)&&(q=_.transformHeader(q,Ee)),G.push(q)}if(Array.isArray(j.data[0])){for(var me=0;oe()&&me<j.data.length;me++)j.data[me].forEach(J);j.data.splice(0,1)}else j.data.forEach(J)}(),function(){if(!j||!_.header&&!_.dynamicTyping&&!_.transform)return j;function J(q,Ee){var Se,ft=_.header?{}:[];for(Se=0;Se<q.length;Se++){var He=Se,Oe=q[Se];_.header&&(He=Se>=G.length?"__parsed_extra":G[Se]),_.transform&&(Oe=_.transform(Oe,He)),Oe=fe(He,Oe),He==="__parsed_extra"?(ft[He]=ft[He]||[],ft[He].push(Oe)):ft[He]=Oe}return _.header&&(Se>G.length?Re("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+Se,R+Ee):Se<G.length&&Re("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+Se,R+Ee)),ft}var me=1;return!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(J),me=j.data.length):j.data=J(j.data,0),_.header&&j.meta&&(j.meta.fields=G),R+=me,j}()}function oe(){return _.header&&G.length===0}function fe(J,me){return q=J,_.dynamicTypingFunction&&_.dynamicTyping[q]===void 0&&(_.dynamicTyping[q]=_.dynamicTypingFunction(q)),(_.dynamicTyping[q]||_.dynamicTyping)===!0?me==="true"||me==="TRUE"||me!=="false"&&me!=="FALSE"&&(function(Ee){if(C.test(Ee)){var Se=parseFloat(Ee);if(P<Se&&Se<D)return!0}return!1}(me)?parseFloat(me):M.test(me)?new Date(me):me===""?null:me):me;var q}function Re(J,me,q,Ee){var Se={type:J,code:me,message:q};Ee!==void 0&&(Se.row=Ee),j.errors.push(Se)}this.parse=function(J,me,q){var Ee=_.quoteChar||'"';if(_.newline||(_.newline=function(He,Oe){He=He.substring(0,1048576);var an=new RegExp(y(Oe)+"([^]*?)"+y(Oe),"gm"),Kt=(He=He.replace(an,"")).split("\r"),xn=He.split(`
`),Vn=1<xn.length&&xn[0].length<Kt[0].length;if(Kt.length===1||Vn)return`
`;for(var Yt=0,Q=0;Q<Kt.length;Q++)Kt[Q][0]===`
`&&Yt++;return Yt>=Kt.length/2?`\r
`:"\r"}(J,Ee)),k=!1,_.delimiter)A(_.delimiter)&&(_.delimiter=_.delimiter(J),j.meta.delimiter=_.delimiter);else{var Se=function(He,Oe,an,Kt,xn){var Vn,Yt,Q,be;xn=xn||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Nt=0;Nt<xn.length;Nt++){var Ie=xn[Nt],Fr=0,Fn=0,pr=0;Q=void 0;for(var er=new m({comments:Kt,delimiter:Ie,newline:Oe,preview:10}).parse(He),ui=0;ui<er.data.length;ui++)if(an&&Z(er.data[ui]))pr++;else{var di=er.data[ui].length;Fn+=di,Q!==void 0?0<di&&(Fr+=Math.abs(di-Q),Q=di):Q=di}0<er.data.length&&(Fn/=er.data.length-pr),(Yt===void 0||Fr<=Yt)&&(be===void 0||be<Fn)&&1.99<Fn&&(Yt=Fr,Vn=Ie,be=Fn)}return{successful:!!(_.delimiter=Vn),bestDelimiter:Vn}}(J,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);Se.successful?_.delimiter=Se.bestDelimiter:(k=!0,_.delimiter=c.DefaultDelimiter),j.meta.delimiter=_.delimiter}var ft=I(_);return _.preview&&_.header&&ft.preview++,T=J,S=new m(ft),j=S.parse(T,me,q),te(),L?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,S.abort(),T=A(_.chunk)?"":T.substring(S.getCharIndex())},this.resume=function(){H.streamer._halted?(L=!1,H.streamer.parseChunk(T,!0)):setTimeout(H.resume,3)},this.aborted=function(){return F},this.abort=function(){F=!0,S.abort(),j.meta.aborted=!0,A(_.complete)&&_.complete(j),T=""}}function y(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(_){var T,S=(_=_||{}).delimiter,k=_.newline,D=_.comments,P=_.step,C=_.preview,M=_.fastMode,H=T=_.quoteChar===void 0||_.quoteChar===null?'"':_.quoteChar;if(_.escapeChar!==void 0&&(H=_.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),D===S)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<c.BAD_DELIMITERS.indexOf(D))&&(D=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var O=0,R=!1;this.parse=function(L,F,G){if(typeof L!="string")throw new Error("Input must be a string");var j=L.length,W=S.length,Z=k.length,te=D.length,oe=A(P),fe=[],Re=[],J=[],me=O=0;if(!L)return Un();if(_.header&&!F){var q=L.split(k)[0].split(S),Ee=[],Se={},ft=!1;for(var He in q){var Oe=q[He];A(_.transformHeader)&&(Oe=_.transformHeader(Oe,He));var an=Oe,Kt=Se[Oe]||0;for(0<Kt&&(ft=!0,an=Oe+"_"+Kt),Se[Oe]=Kt+1;Ee.includes(an);)an=an+"_"+Kt;Ee.push(an)}if(ft){var xn=L.split(k);xn[0]=Ee.join(S),L=xn.join(k)}}if(M||M!==!1&&L.indexOf(T)===-1){for(var Vn=L.split(k),Yt=0;Yt<Vn.length;Yt++){if(J=Vn[Yt],O+=J.length,Yt!==Vn.length-1)O+=k.length;else if(G)return Un();if(!D||J.substring(0,te)!==D){if(oe){if(fe=[],pr(J.split(S)),Zc(),R)return Un()}else pr(J.split(S));if(C&&C<=Yt)return fe=fe.slice(0,C),Un(!0)}}return Un()}for(var Q=L.indexOf(S,O),be=L.indexOf(k,O),Nt=new RegExp(y(H)+y(T),"g"),Ie=L.indexOf(T,O);;)if(L[O]!==T)if(D&&J.length===0&&L.substring(O,O+te)===D){if(be===-1)return Un();O=be+Z,be=L.indexOf(k,O),Q=L.indexOf(S,O)}else if(Q!==-1&&(Q<be||be===-1))J.push(L.substring(O,Q)),O=Q+W,Q=L.indexOf(S,O);else{if(be===-1)break;if(J.push(L.substring(O,be)),di(be+Z),oe&&(Zc(),R))return Un();if(C&&fe.length>=C)return Un(!0)}else for(Ie=O,O++;;){if((Ie=L.indexOf(T,Ie+1))===-1)return G||Re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:fe.length,index:O}),ui();if(Ie===j-1)return ui(L.substring(O,Ie).replace(Nt,T));if(T!==H||L[Ie+1]!==H){if(T===H||Ie===0||L[Ie-1]!==H){Q!==-1&&Q<Ie+1&&(Q=L.indexOf(S,Ie+1)),be!==-1&&be<Ie+1&&(be=L.indexOf(k,Ie+1));var Fr=er(be===-1?Q:Math.min(Q,be));if(L.substr(Ie+1+Fr,W)===S){J.push(L.substring(O,Ie).replace(Nt,T)),L[O=Ie+1+Fr+W]!==T&&(Ie=L.indexOf(T,O)),Q=L.indexOf(S,O),be=L.indexOf(k,O);break}var Fn=er(be);if(L.substring(Ie+1+Fn,Ie+1+Fn+Z)===k){if(J.push(L.substring(O,Ie).replace(Nt,T)),di(Ie+1+Fn+Z),Q=L.indexOf(S,O),Ie=L.indexOf(T,O),oe&&(Zc(),R))return Un();if(C&&fe.length>=C)return Un(!0);break}Re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:fe.length,index:O}),Ie++}}else Ie++}return ui();function pr($n){fe.push($n),me=O}function er($n){var r0=0;if($n!==-1){var Cf=L.substring(Ie+1,$n);Cf&&Cf.trim()===""&&(r0=Cf.length)}return r0}function ui($n){return G||($n===void 0&&($n=L.substring(O)),J.push($n),O=j,pr(J),oe&&Zc()),Un()}function di($n){O=$n,pr(J),J=[],be=L.indexOf(k,O)}function Un($n){return{data:fe,errors:Re,meta:{delimiter:S,linebreak:k,aborted:R,truncated:!!$n,cursor:me+(F||0)}}}function Zc(){P(Un()),fe=[],Re=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return O}}function v(_){var T=_.data,S=a[T.workerId],k=!1;if(T.error)S.userError(T.error,T.file);else if(T.results&&T.results.data){var D={abort:function(){k=!0,x(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(A(S.userStep)){for(var P=0;P<T.results.data.length&&(S.userStep({data:T.results.data[P],errors:T.results.errors,meta:T.results.meta},D),!k);P++);delete T.results}else A(S.userChunk)&&(S.userChunk(T.results,D,T.file),delete T.results)}T.finished&&!k&&x(T.workerId,T.results)}function x(_,T){var S=a[_];A(S.userComplete)&&S.userComplete(T),S.terminate(),delete a[_]}function b(){throw new Error("Not implemented.")}function I(_){if(typeof _!="object"||_===null)return _;var T=Array.isArray(_)?[]:{};for(var S in _)T[S]=I(_[S]);return T}function E(_,T){return function(){_.apply(T,arguments)}}function A(_){return typeof _=="function"}return s&&(r.onmessage=function(_){var T=_.data;if(c.WORKER_ID===void 0&&T&&(c.WORKER_ID=T.workerId),typeof T.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(T.input,T.config),finished:!0});else if(r.File&&T.input instanceof File||T.input instanceof Object){var S=c.parse(T.input,T.config);S&&r.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}}),(h.prototype=Object.create(d.prototype)).constructor=h,(f.prototype=Object.create(d.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,c})})(UA);var m9=UA.exports;const $A=vo(m9),g9=()=>{const t=ae(P=>P.getpublications.data),e=ae(P=>P.getsupervisors.data),[n,r]=N.useState(""),[i,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[f,p]=N.useState(""),[g,w]=N.useState(""),[y,m]=N.useState(""),[v,x]=N.useState(""),[b,I]=N.useState(""),[E,A]=N.useState(""),[_,T]=N.useState([]),[S,k]=N.useState(!1);N.useEffect(()=>{Yc(),Oo()},[]);const D=P=>{if(P.preventDefault(),!n||!i||!a||!c||!d||!f||!g||!y||!v||!b||!E){console.log("Please fill all required fields!");return}k(!0),yn(je(le,"publications"),{paperTitle:n,paperType:i,publisher:a,publicationDate:c,link:d,author:f,journalName:g,pages:y,volume:v,impact:b,isbn:E,users:_}).then(()=>{alert("Publication has been saved! You can view it in the admin panel."),k(!1),window.location.reload()}).catch(C=>{alert(`Error adding document: ${C.message}`),k(!1)})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"List of Publications"}),o.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add Publication"}),o.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[o.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contributors"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Impact Factor"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Pages"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publisher"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publication Date"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Volume"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Journal Name"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper Type"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"ISBN"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((P,C)=>{const{paperTitle:M,author:H,impact:O,link:R,pages:L,publisher:F,publicationDate:G,volume:j,journalName:W,paperType:Z,isbn:te}=P==null?void 0:P.data;return o.jsxs("tr",{children:[o.jsx("td",{children:C+1}),o.jsx("td",{className:"fw-bold text-danger",children:M==null?void 0:M.stringValue}),o.jsx("td",{children:H==null?void 0:H.stringValue}),o.jsx("td",{children:O==null?void 0:O.stringValue}),o.jsx("td",{children:L==null?void 0:L.stringValue}),o.jsx("td",{children:F==null?void 0:F.stringValue}),o.jsx("td",{children:G==null?void 0:G.stringValue}),o.jsx("td",{children:j==null?void 0:j.stringValue}),o.jsx("td",{children:W==null?void 0:W.stringValue}),o.jsx("td",{children:Z==null?void 0:Z.stringValue}),o.jsx("td",{children:te==null?void 0:te.stringValue}),o.jsx("td",{children:o.jsx("a",{href:R==null?void 0:R.stringValue,target:"_blank",rel:"noopener noreferrer",className:"btn btn-link",children:"Link"})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx(re,{className:"dropdown-item text-primary",to:P==null?void 0:P._id,children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Wz(P._id),children:"Delete"})})]})]})})]},P._id)})})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:D,noValidate:!0,children:[o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:n,onChange:P=>r(P.target.value),required:!0,disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:P=>{const C=P.target.value;if(_)if(C==="other"){let M=prompt("Please enter supervisor name:");M&&T([..._,M])}else _.includes(C)?alert("User with this name already existed."):T([..._,C])},children:[o.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((P,C)=>{var M,H,O,R,L,F;return o.jsxs("option",{value:(H=(M=P==null?void 0:P.data)==null?void 0:M.name)==null?void 0:H.stringValue,children:[(R=(O=P==null?void 0:P.data)==null?void 0:O.name)==null?void 0:R.stringValue,"-",(F=(L=P==null?void 0:P.data)==null?void 0:L.email)==null?void 0:F.stringValue]},C)}),o.jsx("option",{value:"other",children:"Other"})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:_==null?void 0:_.map((P,C)=>o.jsxs("span",{className:"badge bg-success",children:[P," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const M=_.filter(H=>H!==P);T(M)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},C))})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"paperType",value:i,onChange:P=>s(P.target.value),required:!0,disabled:S,children:[o.jsx("option",{value:"",children:"---select type---"}),o.jsx("option",{value:"Conference",children:"Conference"}),o.jsx("option",{value:"Patent",children:"Patent"}),o.jsx("option",{value:"Journal",children:"Journal"}),o.jsx("option",{value:"Book",children:"Book"}),o.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),o.jsx("option",{value:"Publications",children:"Publications"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021  47th Annual Conference of the IEEE Industrial Electronics Society",value:a,onChange:P=>l(P.target.value),required:!0,disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:c,onChange:P=>u(P.target.value),required:!0,disabled:S,children:[o.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((P,C)=>o.jsx("option",{value:2008+C,children:2008+C},C))]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),o.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:d,onChange:P=>h(P.target.value),disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 mb-2",children:[o.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:P=>p(P.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:S})]}),o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:g,onChange:P=>w(P.target.value),required:!0,disabled:S}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),o.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:y,onChange:P=>m(P.target.value),disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),o.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:v,onChange:P=>x(P.target.value),disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),o.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:b,onChange:P=>I(P.target.value),disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),o.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:E,onChange:P=>A(P.target.value),disabled:S})]})]}),o.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:S,children:S?"Please Wait...":"Submit"})]})})]})})}),o.jsx(v9,{getsupervisors:e})]})},v9=({getsupervisors:t})=>{const e=N.useRef(null),[n,r]=N.useState(!1),[i,s]=N.useState([]),[a,l]=N.useState([]),c=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];f&&$A.parse(f,{complete:g=>{const w=g.data.filter(y=>Object.values(y).some(m=>m!==""));l(w)},header:!0})},u=async h=>{try{return!(await sn(VN(je(le,"publications"),FN("paperTitle","==",h)))).empty}catch{return!1}},d=async h=>{if(h.preventDefault(),!i.length){alert("Please select supervisors!");return}if(!a.length){alert("ERROR! Invalid CSV File Selected.");return}r(!0);const f=a.map(async p=>{const g=Object.values(p);if(!await u(g[2]))return yn(je(le,"publications"),{paperTitle:g[2],paperType:g[0],publisher:g[3],publicationDate:g[4],link:g[7],author:g[1],journalName:g[5],pages:g[9],volume:g[6],impact:g[8],isbn:g[10],users:i})});await Promise.all(f),alert("Publications has been saved!"),r(!1),window.location.reload()};return o.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Import Publications"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these publications will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:h=>{const f=h.target.value;!i||f===""||(i.includes(f)?alert("User with this name already existed."):s([...i,f]))},children:[o.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((h,f)=>{var p,g,w,y,m,v;return o.jsxs("option",{value:(g=(p=h==null?void 0:h.data)==null?void 0:p.name)==null?void 0:g.stringValue,children:[(y=(w=h==null?void 0:h.data)==null?void 0:w.name)==null?void 0:y.stringValue,"-",(v=(m=h==null?void 0:h.data)==null?void 0:m.email)==null?void 0:v.stringValue]},f)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:i==null?void 0:i.map((h,f)=>o.jsxs("span",{className:"badge bg-success",children:[h," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const p=i.filter(g=>g!==h);s(p)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},f))})]}),o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",o.jsx("a",{download:!0,href:"/assets/sample_publications.csv",children:"Download Sample CSV file"}),")"]}),o.jsx("input",{ref:e,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:c})]}),o.jsx("div",{className:"d-flex gap-1 flex-wrap",children:a.length>0&&o.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[o.jsxs("table",{className:"table table-bordered",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(a[0]).map(h=>o.jsx("th",{children:h},h))})}),o.jsx("tbody",{children:a.map((h,f)=>o.jsx("tr",{children:Object.values(h).map((p,g)=>o.jsx("td",{children:p},g))},f))})]}),o.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:n,onClick:d,children:n?"Please Wait...":"Submit"})]})]})})})},BA=async()=>{try{const t=je(le,"news"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null,l=s.description.stringValue,c=s.timestamp.stringValue,u=s.title.stringValue;n.push({_id:a,title:u,datetime1:c,description:l})});await Promise.all(r),wn.dispatch(JB(n))}catch(t){console.error("Error fetching news:",t)}};async function y9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=vt(le,"news",t);await Zn(e),alert("News item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting News!")}}}async function w9(t,e){try{const n=vt(le,"news",t),s={...(await Po(n)).data(),...e};await rF(n,s,{merge:!0}),alert("News item edited successfully.")}catch(n){console.log(n),alert("Error editing news!")}}const U_=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:i,setTitle:s,submitHandler:a,_id:l})=>o.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog ",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>s(c.target.value),disabled:t,value:e})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),o.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",onChange:c=>i(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:a,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),x9=()=>{const t=ae(h=>h.getnews).data,[e,n]=N.useState(),[r,i]=N.useState(),[s,a]=N.useState(),[l,c]=N.useState(!1);N.useEffect(()=>{BA()},[]);const u=()=>{if(!e||!r||!s){console.log("Please fill all required fields.");return}c(!0),yn(je(le,"news"),{title:r,timestamp:s,description:e}).then(()=>{alert("News has been saved! You can view it in the admin panel."),i(""),n(""),c(!1),window.location.reload()}).catch(h=>{console.error("Error saving image data:",h),c(!1)})},d=h=>{a(h.datetime1),i(h.title)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Latest News"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>o.jsxs("tr",{children:[o.jsx("td",{children:f+1}),o.jsx("td",{children:h.title}),o.jsx("td",{children:b9(h==null?void 0:h.datetime1)}),o.jsx("td",{children:h.description}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>y9(h._id),children:"Delete"})}),o.jsxs("li",{children:[o.jsx("button",{className:"dropdown-item text-primary",onClick:()=>d(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),o.jsx(U_,{_id:`EditNewsModal${h._id}`,submitHandler:()=>w9(h._id,{title:r,datetime:s}),datetime:s,loading:l,setDescription:n,setDateTime:a,setTitle:i})]})]})]})})]},f))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"News Not Found!"})})})]})]}),o.jsx(U_,{_id:"AddNewsModal",submitHandler:u,datetime:s,loading:l,setDescription:n,setDateTime:a,setTitle:i})]})},b9=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},_9=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(!1),a=async l=>{if(l.preventDefault(),t!==n||t===""||n===""){alert("Passwords do not match");return}const c=Ns.currentUser;if(!c){location.href="/";return}c?q4(c,n).then(()=>{alert("Password updated successfully"),location.href="/dashboard"}).catch(()=>{alert("Logout and try again!")}):console.error("No user is currently signed in."),r(""),e("")};return N.useEffect(()=>{t===n&&t!=""&&n!=""?s(!0):s(!1)},[t,n]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsx("div",{className:"w-100 d-flex justify-content-between",children:o.jsx("h3",{children:"Change Password"})}),o.jsx("hr",{}),o.jsxs("form",{className:"row g-3",onSubmit:a,noValidate:!0,children:[o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),o.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:l=>e(l.target.value),required:!0}),o.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:l=>r(l.target.value),required:!0}),o.jsx("div",{className:`rounded-0 p-2 mt-2 ${i?"alert alert-success":"alert alert-danger"}`,role:"alert",children:i?"Password and Confirm Password Matched!":"Password and Confirm Password do not Match!"})]}),o.jsx("div",{className:"mb-3",children:o.jsx("button",{type:"submit",className:"btn btn-danger text-uppercase w-full",children:"Submit"})})]})]})})};/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function $_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(n),!0).forEach(function(r){S9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function E9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WA(r.key),r)}}function T9(t,e,n){return e&&B_(t.prototype,e),n&&B_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S9(t,e,n){return e=WA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HA(t){return I9(t)||N9(t)||P9(t)||A9()}function I9(t){if(Array.isArray(t))return $g(t)}function N9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P9(t,e){if(t){if(typeof t=="string")return $g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $g(t,e)}}function $g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WA(t){var e=C9(t,"string");return typeof e=="symbol"?e:String(e)}var If=typeof window<"u"&&typeof window.document<"u",Or=If?window:{},zw=If&&Or.document.documentElement?"ontouchstart"in Or.document.documentElement:!1,Hw=If?"PointerEvent"in Or:!1,qe="cropper",Ww="all",qA="crop",GA="move",KA="zoom",us="e",ds="w",da="s",pi="n",Ko="ne",Yo="nw",Qo="se",Xo="sw",Bg="".concat(qe,"-crop"),z_="".concat(qe,"-disabled"),cn="".concat(qe,"-hidden"),H_="".concat(qe,"-hide"),k9="".concat(qe,"-invisible"),ch="".concat(qe,"-modal"),zg="".concat(qe,"-move"),yc="".concat(qe,"Action"),Au="".concat(qe,"Preview"),qw="crop",YA="move",QA="none",Hg="crop",Wg="cropend",qg="cropmove",Gg="cropstart",W_="dblclick",j9=zw?"touchstart":"mousedown",R9=zw?"touchmove":"mousemove",O9=zw?"touchend touchcancel":"mouseup",q_=Hw?"pointerdown":j9,G_=Hw?"pointermove":R9,K_=Hw?"pointerup pointercancel":O9,Y_="ready",Q_="resize",X_="wheel",Kg="zoom",J_="image/jpeg",D9=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,L9=/^data:/,M9=/^data:image\/jpeg;base64,/,V9=/^img|canvas$/i,XA=200,JA=100,Z_={viewMode:0,dragMode:qw,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:XA,minContainerHeight:JA,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},F9='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',U9=Number.isNaN||Or.isNaN;function ye(t){return typeof t=="number"&&!U9(t)}var eE=function(e){return e>0&&e<1/0};function Lp(t){return typeof t>"u"}function Ks(t){return Ug(t)==="object"&&t!==null}var $9=Object.prototype.hasOwnProperty;function Ca(t){if(!Ks(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&$9.call(n,"isPrototypeOf")}catch{return!1}}function ln(t){return typeof t=="function"}var B9=Array.prototype.slice;function ZA(t){return Array.from?Array.from(t):B9.call(t)}function dt(t,e){return t&&ln(e)&&(Array.isArray(t)||ye(t.length)?ZA(t).forEach(function(n,r){e.call(t,n,r,t)}):Ks(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var Ye=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ks(e)&&r.length>0&&r.forEach(function(s){Ks(s)&&Object.keys(s).forEach(function(a){e[a]=s[a]})}),e},z9=/\.\d*(?:0|9){12}\d*$/;function Ha(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return z9.test(t)?Math.round(t*e)/e:t}var H9=/^width|height|left|top|marginLeft|marginTop$/;function Ai(t,e){var n=t.style;dt(e,function(r,i){H9.test(i)&&ye(r)&&(r="".concat(r,"px")),n[i]=r})}function W9(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function xt(t,e){if(e){if(ye(t.length)){dt(t,function(r){xt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function kr(t,e){if(e){if(ye(t.length)){dt(t,function(n){kr(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function ka(t,e,n){if(e){if(ye(t.length)){dt(t,function(r){ka(r,e,n)});return}n?xt(t,e):kr(t,e)}}var q9=/([a-z\d])([A-Z])/g;function Gw(t){return t.replace(q9,"$1-$2").toLowerCase()}function Yg(t,e){return Ks(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Gw(e)))}function wc(t,e,n){Ks(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Gw(e)),n)}function G9(t,e){if(Ks(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(Gw(e)))}var eC=/\s\s*/,tC=function(){var t=!1;if(If){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});Or.addEventListener("test",n,r),Or.removeEventListener("test",n,r)}return t}();function nr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(eC).forEach(function(s){if(!tC){var a=t.listeners;a&&a[s]&&a[s][n]&&(i=a[s][n],delete a[s][n],Object.keys(a[s]).length===0&&delete a[s],Object.keys(a).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function Bn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(eC).forEach(function(s){if(r.once&&!tC){var a=t.listeners,l=a===void 0?{}:a;i=function(){delete l[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];n.apply(t,d)},l[s]||(l[s]={}),l[s][n]&&t.removeEventListener(s,l[s][n],r),l[s][n]=i,t.listeners=l}t.addEventListener(s,i,r)})}function Wa(t,e,n){var r;return ln(Event)&&ln(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function nC(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Mp=Or.location,K9=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function tE(t){var e=t.match(K9);return e!==null&&(e[1]!==Mp.protocol||e[2]!==Mp.hostname||e[3]!==Mp.port)}function nE(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function jl(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,a=[];ye(i)&&i!==0&&a.push("translateX(".concat(i,"px)")),ye(s)&&s!==0&&a.push("translateY(".concat(s,"px)")),ye(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),ye(n)&&n!==1&&a.push("scaleX(".concat(n,")")),ye(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var l=a.length?a.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function Y9(t){var e=zA({},t),n=0;return dt(t,function(r,i){delete e[i],dt(e,function(s){var a=Math.abs(r.startX-s.startX),l=Math.abs(r.startY-s.startY),c=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),d=Math.sqrt(a*a+l*l),h=Math.sqrt(c*c+u*u),f=(h-d)/d;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Cu(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:zA({startX:n,startY:r},i)}function Q9(t){var e=0,n=0,r=0;return dt(t,function(i){var s=i.startX,a=i.startY;e+=s,n+=a,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function Ci(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=eE(r),a=eE(n);if(s&&a){var l=n*e;i==="contain"&&l>r||i==="cover"&&l<r?n=r/e:r=n*e}else s?n=r/e:a&&(r=n*e);return{width:r,height:n}}function X9(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var i=r%90*Math.PI/180,s=Math.sin(i),a=Math.cos(i),l=e*a+n*s,c=e*s+n*a;return r>90?{width:c,height:l}:{width:l,height:c}}function J9(t,e,n,r){var i=e.aspectRatio,s=e.naturalWidth,a=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,u=e.scaleX,d=u===void 0?1:u,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,w=n.naturalHeight,y=r.fillColor,m=y===void 0?"transparent":y,v=r.imageSmoothingEnabled,x=v===void 0?!0:v,b=r.imageSmoothingQuality,I=b===void 0?"low":b,E=r.maxWidth,A=E===void 0?1/0:E,_=r.maxHeight,T=_===void 0?1/0:_,S=r.minWidth,k=S===void 0?0:S,D=r.minHeight,P=D===void 0?0:D,C=document.createElement("canvas"),M=C.getContext("2d"),H=Ci({aspectRatio:p,width:A,height:T}),O=Ci({aspectRatio:p,width:k,height:P},"cover"),R=Math.min(H.width,Math.max(O.width,g)),L=Math.min(H.height,Math.max(O.height,w)),F=Ci({aspectRatio:i,width:A,height:T}),G=Ci({aspectRatio:i,width:k,height:P},"cover"),j=Math.min(F.width,Math.max(G.width,s)),W=Math.min(F.height,Math.max(G.height,a)),Z=[-j/2,-W/2,j,W];return C.width=Ha(R),C.height=Ha(L),M.fillStyle=m,M.fillRect(0,0,R,L),M.save(),M.translate(R/2,L/2),M.rotate(c*Math.PI/180),M.scale(d,f),M.imageSmoothingEnabled=x,M.imageSmoothingQuality=I,M.drawImage.apply(M,[t].concat(HA(Z.map(function(te){return Math.floor(Ha(te))})))),M.restore(),C}var rC=String.fromCharCode;function Z9(t,e,n){var r="";n+=e;for(var i=e;i<n;i+=1)r+=rC(t.getUint8(i));return r}var e5=/^data:.*,/;function t5(t){var e=t.replace(e5,""),n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return dt(i,function(s,a){i[a]=n.charCodeAt(a)}),r}function n5(t,e){for(var n=[],r=8192,i=new Uint8Array(t);i.length>0;)n.push(rC.apply(null,ZA(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function r5(t){var e=new DataView(t),n;try{var r,i,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var a=e.byteLength,l=2;l+1<a;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){i=l;break}l+=1}if(i){var c=i+4,u=i+10;if(Z9(e,c,4)==="Exif"){var d=e.getUint16(u);if(r=d===18761,(r||d===19789)&&e.getUint16(u+2,r)===42){var h=e.getUint32(u+4,r);h>=8&&(s=u+h)}}}if(s){var f=e.getUint16(s,r),p,g;for(g=0;g<f;g+=1)if(p=s+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function i5(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var s5={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,i=this.cropper,s=Number(n.minContainerWidth),a=Number(n.minContainerHeight);xt(i,cn),kr(e,cn);var l={width:Math.max(r.offsetWidth,s>=0?s:XA),height:Math.max(r.offsetHeight,a>=0?a:JA)};this.containerData=l,Ai(i,{width:l.width,height:l.height}),xt(e,cn),kr(i,cn)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,s=i?n.naturalHeight:n.naturalWidth,a=i?n.naturalWidth:n.naturalHeight,l=s/a,c=e.width,u=e.height;e.height*l>e.width?r===3?c=e.height*l:u=e.width/l:r===3?u=e.width/l:c=e.height*l;var d={aspectRatio:l,naturalWidth:s,naturalHeight:a,width:c,height:u};this.canvasData=d,this.limited=r===1||r===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=Ye({},d)},limitCanvas:function(e,n){var r=this.options,i=this.containerData,s=this.canvasData,a=this.cropBoxData,l=r.viewMode,c=s.aspectRatio,u=this.cropped&&a;if(e){var d=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(d=Math.max(d,i.width),h=Math.max(h,i.height),l===3&&(h*c>d?d=h*c:h=d/c)):l>0&&(d?d=Math.max(d,u?a.width:0):h?h=Math.max(h,u?a.height:0):u&&(d=a.width,h=a.height,h*c>d?d=h*c:h=d/c));var f=Ci({aspectRatio:c,width:d,height:h});d=f.width,h=f.height,s.minWidth=d,s.minHeight=h,s.maxWidth=1/0,s.maxHeight=1/0}if(n)if(l>(u?0:1)){var p=i.width-s.width,g=i.height-s.height;s.minLeft=Math.min(0,p),s.minTop=Math.min(0,g),s.maxLeft=Math.max(0,p),s.maxTop=Math.max(0,g),u&&this.limited&&(s.minLeft=Math.min(a.left,a.left+(a.width-s.width)),s.minTop=Math.min(a.top,a.top+(a.height-s.height)),s.maxLeft=a.left,s.maxTop=a.top,l===2&&(s.width>=i.width&&(s.minLeft=Math.min(0,p),s.maxLeft=Math.max(0,p)),s.height>=i.height&&(s.minTop=Math.min(0,g),s.maxTop=Math.max(0,g))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=i.width,s.maxTop=i.height},renderCanvas:function(e,n){var r=this.canvasData,i=this.imageData;if(n){var s=X9({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),a=s.width,l=s.height,c=r.width*(a/r.naturalWidth),u=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(u-r.height)/2,r.width=c,r.height=u,r.aspectRatio=a/l,r.naturalWidth=a,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Ai(this.canvas,Ye({width:r.width,height:r.height},jl({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),s=r.naturalHeight*(n.height/n.naturalHeight);Ye(r,{width:i,height:s,left:(n.width-i)/2,top:(n.height-s)/2}),Ai(this.image,Ye({width:r.width,height:r.height},jl(Ye({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,s={width:n.width,height:n.height};r&&(n.height*r>n.width?s.height=s.width/r:s.width=s.height*r),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*i),s.height=Math.max(s.minHeight,s.height*i),s.left=n.left+(n.width-s.width)/2,s.top=n.top+(n.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=Ye({},s)},limitCropBox:function(e,n){var r=this.options,i=this.containerData,s=this.canvasData,a=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var u=Number(r.minCropBoxWidth)||0,d=Number(r.minCropBoxHeight)||0,h=l?Math.min(i.width,s.width,s.width+s.left,i.width-s.left):i.width,f=l?Math.min(i.height,s.height,s.height+s.top,i.height-s.top):i.height;u=Math.min(u,i.width),d=Math.min(d,i.height),c&&(u&&d?d*c>u?d=u/c:u=d*c:u?d=u/c:d&&(u=d*c),f*c>h?f=h/c:h=f*c),a.minWidth=Math.min(u,h),a.minHeight=Math.min(d,f),a.maxWidth=h,a.maxHeight=f}n&&(l?(a.minLeft=Math.max(0,s.left),a.minTop=Math.max(0,s.top),a.maxLeft=Math.min(i.width,s.left+s.width)-a.width,a.maxTop=Math.min(i.height,s.top+s.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=i.width-a.width,a.maxTop=i.height-a.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&wc(this.face,yc,r.width>=n.width&&r.height>=n.height?GA:Ww),Ai(this.cropBox,Ye({width:r.width,height:r.height},jl({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Wa(this.element,Hg,this.getData())}},a5={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,s=e.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=i,a.alt=s,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,dt(l,function(c){var u=document.createElement("img");wc(c,Au,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(u.crossOrigin=n),u.src=i,u.alt=s,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){dt(this.previews,function(e){var n=Yg(e,Au);Ai(e,{width:n.width,height:n.height}),e.innerHTML=n.html,G9(e,Au)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,s=r.height,a=e.width,l=e.height,c=r.left-n.left-e.left,u=r.top-n.top-e.top;!this.cropped||this.disabled||(Ai(this.viewBoxImage,Ye({width:a,height:l},jl(Ye({translateX:-c,translateY:-u},e)))),dt(this.previews,function(d){var h=Yg(d,Au),f=h.width,p=h.height,g=f,w=p,y=1;i&&(y=f/i,w=s*y),s&&w>p&&(y=p/s,g=i*y,w=p),Ai(d,{width:g,height:w}),Ai(d.getElementsByTagName("img")[0],Ye({width:a*y,height:l*y},jl(Ye({translateX:-c*y,translateY:-u*y},e))))}))}},o5={bind:function(){var e=this.element,n=this.options,r=this.cropper;ln(n.cropstart)&&Bn(e,Gg,n.cropstart),ln(n.cropmove)&&Bn(e,qg,n.cropmove),ln(n.cropend)&&Bn(e,Wg,n.cropend),ln(n.crop)&&Bn(e,Hg,n.crop),ln(n.zoom)&&Bn(e,Kg,n.zoom),Bn(r,q_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Bn(r,X_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Bn(r,W_,this.onDblclick=this.dblclick.bind(this)),Bn(e.ownerDocument,G_,this.onCropMove=this.cropMove.bind(this)),Bn(e.ownerDocument,K_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Bn(window,Q_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;ln(n.cropstart)&&nr(e,Gg,n.cropstart),ln(n.cropmove)&&nr(e,qg,n.cropmove),ln(n.cropend)&&nr(e,Wg,n.cropend),ln(n.crop)&&nr(e,Hg,n.crop),ln(n.zoom)&&nr(e,Kg,n.zoom),nr(r,q_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&nr(r,X_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&nr(r,W_,this.onDblclick),nr(e.ownerDocument,G_,this.onCropMove),nr(e.ownerDocument,K_,this.onCropEnd),n.responsive&&nr(window,Q_,this.onResize)}},l5={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,s=n.offsetHeight/r.height,a=Math.abs(i-1)>Math.abs(s-1)?i:s;if(a!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(dt(l,function(u,d){l[d]=u*a})),this.setCropBoxData(dt(c,function(u,d){c[d]=u*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===QA||this.setDragMode(W9(this.dragBox,Bg)?YA:qw)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(ye(n)&&n!==1||ye(r)&&r!==0||e.ctrlKey))){var i=this.options,s=this.pointers,a;e.changedTouches?dt(e.changedTouches,function(l){s[l.identifier]=Cu(l)}):s[e.pointerId||0]=Cu(e),Object.keys(s).length>1&&i.zoomable&&i.zoomOnTouch?a=KA:a=Yg(e.target,yc),D9.test(a)&&Wa(this.element,Gg,{originalEvent:e,action:a})!==!1&&(e.preventDefault(),this.action=a,this.cropping=!1,a===qA&&(this.cropping=!0,xt(this.dragBox,ch)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),Wa(this.element,qg,{originalEvent:e,action:n})!==!1&&(e.changedTouches?dt(e.changedTouches,function(i){Ye(r[i.identifier]||{},Cu(i,!0))}):Ye(r[e.pointerId||0]||{},Cu(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?dt(e.changedTouches,function(i){delete r[i.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,ka(this.dragBox,ch,this.cropped&&this.options.modal)),Wa(this.element,Wg,{originalEvent:e,action:n}))}}},c5={change:function(e){var n=this.options,r=this.canvasData,i=this.containerData,s=this.cropBoxData,a=this.pointers,l=this.action,c=n.aspectRatio,u=s.left,d=s.top,h=s.width,f=s.height,p=u+h,g=d+f,w=0,y=0,m=i.width,v=i.height,x=!0,b;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(w=s.minLeft,y=s.minTop,m=w+Math.min(i.width,r.width,r.left+r.width),v=y+Math.min(i.height,r.height,r.top+r.height));var I=a[Object.keys(a)[0]],E={x:I.endX-I.startX,y:I.endY-I.startY},A=function(T){switch(T){case us:p+E.x>m&&(E.x=m-p);break;case ds:u+E.x<w&&(E.x=w-u);break;case pi:d+E.y<y&&(E.y=y-d);break;case da:g+E.y>v&&(E.y=v-g);break}};switch(l){case Ww:u+=E.x,d+=E.y;break;case us:if(E.x>=0&&(p>=m||c&&(d<=y||g>=v))){x=!1;break}A(us),h+=E.x,h<0&&(l=ds,h=-h,u-=h),c&&(f=h/c,d+=(s.height-f)/2);break;case pi:if(E.y<=0&&(d<=y||c&&(u<=w||p>=m))){x=!1;break}A(pi),f-=E.y,d+=E.y,f<0&&(l=da,f=-f,d-=f),c&&(h=f*c,u+=(s.width-h)/2);break;case ds:if(E.x<=0&&(u<=w||c&&(d<=y||g>=v))){x=!1;break}A(ds),h-=E.x,u+=E.x,h<0&&(l=us,h=-h,u-=h),c&&(f=h/c,d+=(s.height-f)/2);break;case da:if(E.y>=0&&(g>=v||c&&(u<=w||p>=m))){x=!1;break}A(da),f+=E.y,f<0&&(l=pi,f=-f,d-=f),c&&(h=f*c,u+=(s.width-h)/2);break;case Ko:if(c){if(E.y<=0&&(d<=y||p>=m)){x=!1;break}A(pi),f-=E.y,d+=E.y,h=f*c}else A(pi),A(us),E.x>=0?p<m?h+=E.x:E.y<=0&&d<=y&&(x=!1):h+=E.x,E.y<=0?d>y&&(f-=E.y,d+=E.y):(f-=E.y,d+=E.y);h<0&&f<0?(l=Xo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Yo,h=-h,u-=h):f<0&&(l=Qo,f=-f,d-=f);break;case Yo:if(c){if(E.y<=0&&(d<=y||u<=w)){x=!1;break}A(pi),f-=E.y,d+=E.y,h=f*c,u+=s.width-h}else A(pi),A(ds),E.x<=0?u>w?(h-=E.x,u+=E.x):E.y<=0&&d<=y&&(x=!1):(h-=E.x,u+=E.x),E.y<=0?d>y&&(f-=E.y,d+=E.y):(f-=E.y,d+=E.y);h<0&&f<0?(l=Qo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Ko,h=-h,u-=h):f<0&&(l=Xo,f=-f,d-=f);break;case Xo:if(c){if(E.x<=0&&(u<=w||g>=v)){x=!1;break}A(ds),h-=E.x,u+=E.x,f=h/c}else A(da),A(ds),E.x<=0?u>w?(h-=E.x,u+=E.x):E.y>=0&&g>=v&&(x=!1):(h-=E.x,u+=E.x),E.y>=0?g<v&&(f+=E.y):f+=E.y;h<0&&f<0?(l=Ko,f=-f,h=-h,d-=f,u-=h):h<0?(l=Qo,h=-h,u-=h):f<0&&(l=Yo,f=-f,d-=f);break;case Qo:if(c){if(E.x>=0&&(p>=m||g>=v)){x=!1;break}A(us),h+=E.x,f=h/c}else A(da),A(us),E.x>=0?p<m?h+=E.x:E.y>=0&&g>=v&&(x=!1):h+=E.x,E.y>=0?g<v&&(f+=E.y):f+=E.y;h<0&&f<0?(l=Yo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Xo,h=-h,u-=h):f<0&&(l=Ko,f=-f,d-=f);break;case GA:this.move(E.x,E.y),x=!1;break;case KA:this.zoom(Y9(a),e),x=!1;break;case qA:if(!E.x||!E.y){x=!1;break}b=nC(this.cropper),u=I.startX-b.left,d=I.startY-b.top,h=s.minWidth,f=s.minHeight,E.x>0?l=E.y>0?Qo:Ko:E.x<0&&(u-=h,l=E.y>0?Xo:Yo),E.y<0&&(d-=f),this.cropped||(kr(this.cropBox,cn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}x&&(s.width=h,s.height=f,s.left=u,s.top=d,this.action=l,this.renderCropBox()),dt(a,function(_){_.startX=_.endX,_.startY=_.endY})}},u5={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&xt(this.dragBox,ch),kr(this.cropBox,cn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ye({},this.initialImageData),this.canvasData=Ye({},this.initialCanvasData),this.cropBoxData=Ye({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ye(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),kr(this.dragBox,ch),xt(this.cropBox,cn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,dt(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,kr(this.cropper,z_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,xt(this.cropper,z_)),this},destroy:function(){var e=this.element;return e[qe]?(e[qe]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=r.left,s=r.top;return this.moveTo(Lp(e)?e:i+Number(e),Lp(n)?n:s+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(ye(e)&&(r.left=e,i=!0),ye(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var i=this.options,s=this.canvasData,a=s.width,l=s.height,c=s.naturalWidth,u=s.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var d=c*e,h=u*e;if(Wa(this.element,Kg,{ratio:e,oldRatio:a/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=nC(this.cropper),g=f&&Object.keys(f).length?Q9(f):{pageX:r.pageX,pageY:r.pageY};s.left-=(d-a)*((g.pageX-p.left-s.left)/a),s.top-=(h-l)*((g.pageY-p.top-s.top)/l)}else Ca(n)&&ye(n.x)&&ye(n.y)?(s.left-=(d-a)*((n.x-s.left)/a),s.top-=(h-l)*((n.y-s.top)/l)):(s.left-=(d-a)/2,s.top-=(h-l)/2);s.width=d,s.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),ye(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,ye(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(ye(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(ye(e)&&(r.scaleX=e,i=!0),ye(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,s=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height};var l=r.width/r.naturalWidth;if(dt(a,function(d,h){a[h]=d/l}),e){var c=Math.round(a.y+a.height),u=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=u-a.x,a.height=c-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(e){var n=this.options,r=this.imageData,i=this.canvasData,s={};if(this.ready&&!this.disabled&&Ca(e)){var a=!1;n.rotatable&&ye(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,a=!0),n.scalable&&(ye(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,a=!0),ye(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;ye(e.x)&&(s.left=e.x*l+i.left),ye(e.y)&&(s.top=e.y*l+i.top),ye(e.width)&&(s.width=e.width*l),ye(e.height)&&(s.height=e.height*l),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?Ye({},this.containerData):{}},getImageData:function(){return this.sized?Ye({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&dt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Ca(e)&&(ye(e.left)&&(n.left=e.left),ye(e.top)&&(n.top=e.top),ye(e.width)?(n.width=e.width,n.height=e.width/r):ye(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,i,s;return this.ready&&this.cropped&&!this.disabled&&Ca(e)&&(ye(e.left)&&(n.left=e.left),ye(e.top)&&(n.top=e.top),ye(e.width)&&e.width!==n.width&&(i=!0,n.width=e.width),ye(e.height)&&e.height!==n.height&&(s=!0,n.height=e.height),r&&(i?n.height=n.width/r:s&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=J9(this.image,this.imageData,n,e);if(!this.cropped)return r;var i=this.getData(e.rounded),s=i.x,a=i.y,l=i.width,c=i.height,u=r.width/Math.floor(n.naturalWidth);u!==1&&(s*=u,a*=u,l*=u,c*=u);var d=l/c,h=Ci({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Ci({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Ci({aspectRatio:d,width:e.width||(u!==1?r.width:l),height:e.height||(u!==1?r.height:c)}),g=p.width,w=p.height;g=Math.min(h.width,Math.max(f.width,g)),w=Math.min(h.height,Math.max(f.height,w));var y=document.createElement("canvas"),m=y.getContext("2d");y.width=Ha(g),y.height=Ha(w),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,w);var v=e.imageSmoothingEnabled,x=v===void 0?!0:v,b=e.imageSmoothingQuality;m.imageSmoothingEnabled=x,b&&(m.imageSmoothingQuality=b);var I=r.width,E=r.height,A=s,_=a,T,S,k,D,P,C;A<=-l||A>I?(A=0,T=0,k=0,P=0):A<=0?(k=-A,A=0,T=Math.min(I,l+A),P=T):A<=I&&(k=0,T=Math.min(l,I-A),P=T),T<=0||_<=-c||_>E?(_=0,S=0,D=0,C=0):_<=0?(D=-_,_=0,S=Math.min(E,c+_),C=S):_<=E&&(D=0,S=Math.min(c,E-_),C=S);var M=[A,_,T,S];if(P>0&&C>0){var H=g/l;M.push(k*H,D*H,P*H,C*H)}return m.drawImage.apply(m,[r].concat(HA(M.map(function(O){return Math.floor(Ha(O))})))),y},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!Lp(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var s=e===qw,a=n.movable&&e===YA;e=s||a?e:QA,n.dragMode=e,wc(r,yc,e),ka(r,Bg,s),ka(r,zg,a),n.cropBoxMovable||(wc(i,yc,e),ka(i,Bg,s),ka(i,zg,a))}return this}},d5=Or.Cropper,iC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E9(this,t),!e||!V9.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Ye({},Z_,Ca(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return T9(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[qe]){if(n[qe]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(L9.test(n)){M9.test(n)?this.read(t5(n)):this.clone();return}var a=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=l,a.onerror=l,a.ontimeout=l,a.onprogress=function(){a.getResponseHeader("content-type")!==J_&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},s.checkCrossOrigin&&tE(n)&&i.crossOrigin&&(n=nE(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=i.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,s=r5(n),a=0,l=1,c=1;if(s>1){this.url=n5(n,J_);var u=i5(s);a=u.rotate,l=u.scaleX,c=u.scaleY}r.rotatable&&(i.rotate=a),r.scalable&&(i.scaleX=l,i.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,s=r;this.options.checkCrossOrigin&&tE(r)&&(i||(i="anonymous"),s=nE(r)),this.crossOrigin=i,this.crossOriginUrl=s;var a=document.createElement("img");i&&(a.crossOrigin=i),a.src=s||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),xt(a,H_),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Or.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Or.navigator.userAgent),s=function(u,d){Ye(n.imageData,{naturalWidth:u,naturalHeight:d,aspectRatio:u/d}),n.initialImageData=Ye({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){s(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){s(a.width,a.height),i||l.removeChild(a)},a.src=r.src,i||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,s=n.parentNode,a=document.createElement("div");a.innerHTML=F9;var l=a.querySelector(".".concat(qe,"-container")),c=l.querySelector(".".concat(qe,"-canvas")),u=l.querySelector(".".concat(qe,"-drag-box")),d=l.querySelector(".".concat(qe,"-crop-box")),h=d.querySelector(".".concat(qe,"-face"));this.container=s,this.cropper=l,this.canvas=c,this.dragBox=u,this.cropBox=d,this.viewBox=l.querySelector(".".concat(qe,"-view-box")),this.face=h,c.appendChild(i),xt(n,cn),s.insertBefore(l,n.nextSibling),kr(i,H_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,xt(d,cn),r.guides||xt(d.getElementsByClassName("".concat(qe,"-dashed")),cn),r.center||xt(d.getElementsByClassName("".concat(qe,"-center")),cn),r.background&&xt(l,"".concat(qe,"-bg")),r.highlight||xt(h,k9),r.cropBoxMovable&&(xt(h,zg),wc(h,yc,Ww)),r.cropBoxResizable||(xt(d.getElementsByClassName("".concat(qe,"-line")),cn),xt(d.getElementsByClassName("".concat(qe,"-point")),cn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),ln(r.ready)&&Bn(n,Y_,r.ready,{once:!0}),Wa(n,Y_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),kr(this.element,cn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=d5,t}},{key:"setDefaults",value:function(n){Ye(Z_,Ca(n)&&n)}}]),t}();Ye(iC.prototype,s5,a5,o5,l5,c5,u5);var vs=function(){return vs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vs.apply(this,arguments)};function Vp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var h5=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],f5={opacity:0,maxWidth:"100%"},sC=Pe.forwardRef(function(t,e){var n=Vp(t,[]),r=n.dragMode,i=r===void 0?"crop":r,s=n.src,a=n.style,l=n.className,c=n.crossOrigin,u=n.scaleX,d=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,w=g===void 0?"picture":g,y=n.ready,m=n.onInitialized,v=Vp(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),x={scaleY:d,scaleX:u,enable:h,zoomTo:f,rotateTo:p},b=function(){for(var E=[],A=0;A<arguments.length;A++)E[A]=arguments[A];var _=N.useRef(null);return Pe.useEffect(function(){E.forEach(function(T){T&&(typeof T=="function"?T(_.current):T.current=_.current)})},[E]),_}(e,N.useRef(null));N.useEffect(function(){var E;!((E=b.current)===null||E===void 0)&&E.cropper&&typeof f=="number"&&b.current.cropper.zoomTo(f)},[n.zoomTo]),N.useEffect(function(){var E;!((E=b.current)===null||E===void 0)&&E.cropper&&s!==void 0&&b.current.cropper.reset().clear().replace(s)},[s]),N.useEffect(function(){if(b.current!==null){var E=new iC(b.current,vs(vs({dragMode:i},v),{ready:function(A){A.currentTarget!==null&&function(_,T){T===void 0&&(T={});var S=T.enable,k=S===void 0||S,D=T.scaleX,P=D===void 0?1:D,C=T.scaleY,M=C===void 0?1:C,H=T.zoomTo,O=H===void 0?0:H,R=T.rotateTo;k?_.enable():_.disable(),_.scaleX(P),_.scaleY(M),R!==void 0&&_.rotateTo(R),O>0&&_.zoomTo(O)}(A.currentTarget.cropper,x),y&&y(A)}}));m&&m(E)}return function(){var A,_;(_=(A=b.current)===null||A===void 0?void 0:A.cropper)===null||_===void 0||_.destroy()}},[b]);var I=function(E){return h5.reduce(function(A,_){var T=A,S=_;return T[S],Vp(T,[typeof S=="symbol"?S:S+""])},E)}(vs(vs({},v),{crossOrigin:c,src:s,alt:w}));return Pe.createElement("div",{style:a,className:l},Pe.createElement("img",vs({},I,{style:f5,ref:b})))});const aC=async()=>{try{const t=je(le,"slider_images"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null,l=s.bannerURL.stringValue,c=s.title.stringValue,u=l?await p5(l):null;n.push({_id:a,title:c,bannerURL:u})});await Promise.all(r),wn.dispatch(ZB(n))}catch(t){console.error("Error fetching Slider:",t)}},p5=async t=>{try{const e=yt(wt,`slider_images/${t}`);return await Ao(e)}catch{return null}};async function m5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=vt(le,"slider_images",t),i=(await Po(e)).data().banner;if(await Zn(e),i){const s=yt(wt,`slider_images/${i}`);await Co(s)}alert("Slider item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Slider!")}}}const g5=()=>{const t=ae(p=>p.getslider).data,[e,n]=N.useState(),[r,i]=N.useState(""),[s,a]=N.useState(!1),[l,c]=N.useState("");N.useEffect(()=>{aC()},[]);const u=N.useRef(null),d=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(u&&u.current){const p=u.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){alert("Please select an image and provide a title!");return}a(!0);const p=yt(wt,`slider_images/${r}`),g=await fetch(l).then(y=>y.blob()),w=new FileReader;w.readAsDataURL(g),w.onloadend=async()=>{sa(p,g).then(async()=>{await yn(je(le,"slider_images"),{title:r,bannerURL:r}),alert("Slider Image has been saved!"),i(""),n(null),a(!1),window.location.reload()}).catch(()=>{alert("Error uploading image!"),a(!1)})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Slider Images"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{children:g+1}),o.jsx("td",{children:p.title}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(re,{target:"_blank",to:p.bannerURL,children:o.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>m5(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog ",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>i(p.target.value),disabled:s,value:r})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:s}),o.jsx("div",{className:"my-2",children:o.jsx(sC,{src:e,ref:u,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Kw=async()=>{try{const t=je(le,"phdStudents"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null,l=s.profileImage.stringValue,c=l?await y5(l):null;n.push({_id:a,data:s,profileImage:c})});await Promise.all(r),wn.dispatch(nz(n))}catch(t){console.error("Error fetching phd:",t)}};async function v5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=vt(le,"phdStudents",t);await Zn(e),alert("phd item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting phd!")}}}const y5=async t=>{try{const e=yt(wt,`/peoples/phd_profile_images/${t}`);return await Ao(e)}catch{return null}},oC=async()=>{try{const t=je(le,"pgusStudents"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null;n.push({_id:a,data:s})});await Promise.all(r),wn.dispatch(rz(n))}catch(t){console.error("Error fetching pgug:",t)}};async function w5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=vt(le,"pgusStudents",t);await Zn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting pgug!")}}}const lC=async()=>{try{const t=je(le,"visitorsAndInterns"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null;n.push({_id:a,data:s})});await Promise.all(r),wn.dispatch(iz(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function x5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=vt(le,"visitorsAndInterns",t);await Zn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Visitor/Intern!")}}}const b5=()=>{const t=ae(l=>l.getphdStudents.data),e=ae(l=>l.getpgugStudents.data),n=ae(l=>l.getvisitorsandinterns.data),[r,i]=N.useState(1),[s,a]=N.useState("");return N.useEffect(()=>{Kw(),oC(),lC()},[]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Peoples"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"w-100",children:o.jsxs(o.Fragment,{children:[o.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>i(1),children:"Ph.D. Scholars"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(2),children:"Post Graduate students"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(3),children:"Alumni PhD"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(4),children:"Alumni Masters and Bachelors"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(5),children:"Interns and Visitors"})})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[(r===1||r===3)&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),r!==5&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(r===2||r===4)&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),r!==5&&o.jsxs(o.Fragment,{children:[" ",o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:r===3||r===1?"Research Interests":"Currently Working At"})]}),r===5&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsxs("tbody",{children:[(r===1||r===3)&&(t==null?void 0:t.map(l=>{var g,w;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p}=l==null?void 0:l.data;return r===1&&(d!=null&&d.booleanValue)||r===3&&!(d!=null&&d.booleanValue)?null:o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("a",{href:l==null?void 0:l.profileImage,target:"_blank",children:o.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{width:"80px"}})})}),o.jsxs("td",{children:[c==null?void 0:c.stringValue,(d==null?void 0:d.booleanValue)&&o.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("td",{children:o.jsx("a",{href:"mailto:"+(h==null?void 0:h.stringValue),target:"_blank",children:(h==null?void 0:h.stringValue)||"N/A"})}),o.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),o.jsx("td",{children:f==null?void 0:f.stringValue}),o.jsx("td",{children:o.jsx("ol",{children:(w=(g=p==null?void 0:p.arrayValue)==null?void 0:g.values)==null?void 0:w.map((y,m)=>o.jsx("li",{children:y.stringValue},m))})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>v5(l._id),children:"Delete"})})})]})})]},l._id)})),(r===2||r===4)&&(e==null?void 0:e.map(l=>{const{name:c,batch:u,isAlumni:d,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return r===2&&(d!=null&&d.booleanValue)||r===4&&!(d!=null&&d.booleanValue)?null:o.jsxs("tr",{children:[o.jsxs("td",{children:[c==null?void 0:c.stringValue,(d==null?void 0:d.booleanValue)&&o.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("td",{children:o.jsx("a",{href:"mailto:"+(h==null?void 0:h.stringValue),target:"_blank",children:(h==null?void 0:h.stringValue)||"N/A"})}),o.jsx("td",{children:(p==null?void 0:p.stringValue)||"N/A"}),o.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),o.jsx("td",{children:f==null?void 0:f.stringValue}),o.jsx("td",{children:g==null?void 0:g.stringValue}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>w5(l._id),children:"Delete"})})})]})})]},l._id)})),r===5&&(n==null?void 0:n.map(l=>{const{name:c,collegeName:u}=l==null?void 0:l.data;return o.jsxs("tr",{children:[o.jsx("td",{children:c==null?void 0:c.stringValue}),o.jsx("td",{children:u==null?void 0:u.stringValue}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>x5(l._id),children:"Delete"})})})]})})]},l._id)}))]})]}),!n.length&&r===5&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!t.length&&(r===1||r===3)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!e.length&&(r===2||r===4)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]})})]}),o.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),o.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:l=>a(l.target.value),children:[o.jsx("option",{value:"",children:"--select designation--"}),o.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),o.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),o.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),o.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),o.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"mb-2",children:[(s==="Ph.D. Scholars"||s==="Alumni Ph.D.")&&o.jsx(_5,{}),(s==="Post Graduate students"||s==="Alumni Masters and Bachelors")&&o.jsx(E5,{}),s==="Visitors and Interns"&&o.jsx(T5,{})]})]})})]})})})]})},_5=()=>{const t=ae(b=>b.getsupervisors.data),[e,n]=N.useState(""),[r,i]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState({name:"",email:""}),[h,f]=N.useState(""),[p,g]=N.useState(!1),[w,y]=N.useState(!1),[m,v]=N.useState(),x=async b=>{if(b.preventDefault(),!e||!r||!s||!l||!h){alert("Please fill all required fields.");return}if(!m){console.log("Please upload a profile image.");return}y(!0);const I=yt(wt,`/peoples/phd_profile_images/${e}_${m.name}`);await sa(I,m).then(async()=>{console.log("Profile image uploaded successfully"),yn(je(le,"phdStudents"),{name:e,email:r,mobile:s,batch:l,supervisor:u,researchInterests:h.split(",").map(E=>E.trim()),isAlumni:p,profileImage:e+"_"+m.name}).then(()=>{alert("PhD student data has been saved!"),n(""),i(""),a(""),c(""),f(""),g(!1),y(!1),window.location.reload()}).catch(E=>{console.error("Error saving PhD student data:",E),y(!1)})})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:x,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:b=>n(b.target.value)})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",onChange:b=>i(b.target.value),placeholder:"ie. user@gmail.com"})]}),o.jsxs("div",{className:"col",children:[o.jsxs("label",{htmlFor:"useremail",children:["Supervisor",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:b=>{var I,E,A;d({name:b.target.value,email:(A=(E=(I=t.filter(_=>{var T,S;return((S=(T=_==null?void 0:_.data)==null?void 0:T.name)==null?void 0:S.stringValue)==b.target.value})[0])==null?void 0:I.data)==null?void 0:E.email)==null?void 0:A.stringValue})},children:[o.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((b,I)=>{var E,A,_,T,S,k;return o.jsxs("option",{value:(A=(E=b==null?void 0:b.data)==null?void 0:E.name)==null?void 0:A.stringValue,children:[(T=(_=b==null?void 0:b.data)==null?void 0:_.name)==null?void 0:T.stringValue,"-",(k=(S=b==null?void 0:b.data)==null?void 0:S.email)==null?void 0:k.stringValue]},I)})]})]})]}),o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Mobile"}),o.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:b=>a(b.target.value),placeholder:"ie. 10 digits mobile number"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:b=>{var E;const I=(E=b.target.files)==null?void 0:E[0];v(I)},disabled:w})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Batch"}),o.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:b=>c(b.target.value)})]})]}),o.jsxs("div",{className:"mb-1",children:[o.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),o.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:b=>f(b.target.value)})]}),o.jsx("div",{className:"mb-1 mt-2",children:o.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[o.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:b=>g(b.target.checked)}),o.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:w,children:w?"Submitting...":"Submit"})})]})})},E5=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[f,p]=N.useState(!1),[g,w]=N.useState(!1),y=m=>{if(m.preventDefault(),!t||!n||!i||!a||!c||!d){alert("Please fill all required fields.");return}w(!0),yn(je(le,"pgusStudents"),{degree:t,name:n,email:i,mobile:a,batch:c,currentlyWorkingAt:d,isAlumni:f}).then(()=>{alert("PG/UG student data has been saved!"),e(""),r(""),s(""),l(""),u(""),h(""),p(!1),w(!1),location.reload()}).catch(v=>{console.error("Error saving PG/UG student data:",v),w(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:y,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),o.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[o.jsx("option",{value:"",children:"--select--"}),o.jsx("option",{value:"B.Tech",children:"B.Tech"}),o.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>s(m.target.value)})]})]}),o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Mobile"}),o.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Batch"}),o.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>u(m.target.value)})]})]}),o.jsxs("div",{className:"mb-1",children:[o.jsx("label",{htmlFor:"name",children:"Currently Working At"}),o.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),o.jsx("div",{className:"mb-1 mt-2",children:o.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[o.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:m=>p(m.target.checked)}),o.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},T5=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(!1),a=l=>{if(l.preventDefault(),!t||!n){alert("Please fill all required fields.");return}s(!0),yn(je(le,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{alert("Visitor/Intern data has been saved!"),e(""),r(""),s(!1),location.reload()}).catch(c=>{console.error("Error saving Visitor/Intern data:",c),s(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:a,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"College Name"}),o.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:i,children:i?"Submitting...":"Submit"})})]})})},rE=()=>{const t=ae(u=>u.getsupervisors.data),[e,n]=N.useState(!1),[r,i]=N.useState(),[s,a]=N.useState({name:"",email:"",phone:"",researchInterests:"",introduction:"",googleScholarLink:"",researchGateLink:"",personalProfileLink:"",otherLink:""});N.useEffect(()=>{Oo()},[]);const l=u=>{const{name:d,value:h}=u.target;a(f=>({...f,[d]:h}))},c=async()=>{const{name:u,email:d,phone:h,researchInterests:f,introduction:p,googleScholarLink:g,researchGateLink:w,personalProfileLink:y,otherLink:m}=s;if(!u||!d||!h||!f||!p){console.log("Please fill all required fields.");return}if(!r){console.log("Please upload a profile image.");return}n(!0);const v=yt(wt,`/peoples/supervisor_profile_images/${u}_${r.name}`);await sa(v,r).then(async()=>{console.log("Profile image uploaded successfully"),yn(je(le,"supervisors"),{name:u,email:d,phone:h,researchInterests:f,introduction:p,googleScholarLink:g,researchGateLink:w,personalProfileLink:y,otherLink:m,profileImage:u+"_"+r.name,startDate:new Date,endDate:"NA"}).then(()=>{alert("Supervisor details along with profile image have been saved successfully!"),a({name:"",email:"",phone:"",researchInterests:"",introduction:"",googleScholarLink:"",researchGateLink:"",personalProfileLink:"",otherLink:""}),i(void 0),n(!1),window.location.reload()}).catch(x=>{console.error("Error saving supervisor data:",x),n(!1)})}).catch(x=>{console.error("Error uploading profile image:",x),n(!1)})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Supervisor"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>{const{name:h,email:f,phone:p,researchInterests:g,introduction:w,googleScholarLink:y,researchGateLink:m,personalProfileLink:v,otherLink:x,startDate:b,endDate:I}=u==null?void 0:u.data;return o.jsxs("tr",{children:[o.jsx("td",{children:d+1}),o.jsx("td",{children:o.jsx("a",{href:u==null?void 0:u.profileImage,target:"_blank",children:o.jsx("img",{src:u==null?void 0:u.profileImage,alt:`${h}'s profile`,style:{width:"50px",height:"auto"}})})}),o.jsxs("td",{children:[h==null?void 0:h.stringValue,o.jsx("hr",{}),"(From ",b==null?void 0:b.timestampValue," to",I!=null&&I.timestampValue?I==null?void 0:I.timestampValue:" NA",")"]}),o.jsxs("td",{children:["Email:"," ",o.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:f==null?void 0:f.stringValue}),o.jsx("hr",{}),"Mobile: ",p==null?void 0:p.stringValue]}),o.jsx("td",{children:g==null?void 0:g.stringValue}),o.jsx("td",{children:o.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:w==null?void 0:w.stringValue})}),o.jsx("td",{children:o.jsxs("ol",{children:[o.jsx("li",{children:o.jsx(re,{to:y==null?void 0:y.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Google Scholar"})}),o.jsx("li",{children:o.jsx(re,{to:m==null?void 0:m.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Researchgate"})}),o.jsx("li",{children:o.jsx(re,{to:v==null?void 0:v.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Personal Profile"})}),o.jsx("li",{children:o.jsx(re,{to:x==null?void 0:x.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Other Link"})})]})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${d}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${d}`,children:[o.jsx("li",{children:o.jsx(re,{className:"dropdown-item text-primary",to:"supervisors/"+(u==null?void 0:u._id),children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>p9(u._id),children:"Delete"})})]})]})})]},u._id)})})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:s.name,onChange:l})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:s.email,onChange:l})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),o.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:s.phone,onChange:l})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:u=>{var h;const d=(h=u.target.files)==null?void 0:h[0];i(d)}})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:s.researchInterests,onChange:l})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),o.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:s.introduction,onChange:l})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"googleScholarLink",className:"form-label",children:"Google Scholar Link"}),o.jsx("input",{type:"text",className:"form-control",name:"googleScholarLink",value:s.googleScholarLink,onChange:l})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchGateLink",className:"form-label",children:"Research Gate Link"}),o.jsx("input",{type:"text",className:"form-control",name:"researchGateLink",value:s.researchGateLink,onChange:l})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"personalProfileLink",className:"form-label",children:"Personal Profile Link"}),o.jsx("input",{type:"text",className:"form-control",name:"personalProfileLink",value:s.personalProfileLink,onChange:l})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"otherLink",className:"form-label",children:"Other Link (if any)"}),o.jsx("input",{type:"text",className:"form-control",name:"otherLink",value:s.otherLink,onChange:l})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:e,children:e?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Do=async()=>{try{const t=je(le,"datasets"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null,l=s.bannerURL.stringValue,c=s==null?void 0:s.title.stringValue,u=s==null?void 0:s.description.stringValue,d=l?await S5(l):null;n.push({_id:a,title:c,description:u,bannerURL:d})});await Promise.all(r),wn.dispatch(sz(n))}catch(t){console.error("Error fetching Datasets:",t)}},S5=async t=>{try{const e=yt(wt,`dataset_images/${t}`);return await Ao(e)}catch{return null}};async function I5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=vt(le,"datasets",t),i=(await Po(e)).data().banner;if(await Zn(e),i){const s=yt(wt,`dataset_images/${i}`);await Co(s)}alert("Datasets item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Datasets!")}}}const N5=()=>{const t=ae(w=>w.getdatasets).data,[e,n]=N.useState(),[r,i]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(""),h=N.useRef(null);N.useEffect(()=>{Do()},[]);const f=w=>{if(w.target.files&&w.target.files.length>0){const y=new FileReader;y.onload=()=>{n(y.result)},y.readAsDataURL(w.target.files[0])}},p=()=>{if(h&&h.current){const w=h.current.cropper;d(w.getCroppedCanvas().toDataURL())}},g=async()=>{if(!u||!r||!s){alert("Please select an image and provide a required fields!");return}c(!0);const w=yt(wt,`dataset_images/${r}`),y=await fetch(u).then(v=>v.blob()),m=new FileReader;m.readAsDataURL(y),m.onloadend=async()=>{sa(w,y).then(async()=>{await yn(je(le,"datasets"),{title:r,description:s,bannerURL:r}),alert("Datasets has been saved!"),i(""),n(null),c(!1),window.location.reload()}).catch(()=>{alert("Error uploading image!"),c(!1)})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Datasets"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((w,y)=>o.jsxs("tr",{children:[o.jsx("td",{children:y+1}),o.jsx("td",{children:w==null?void 0:w.title}),o.jsxs("td",{children:[" ",o.jsx("div",{className:"overflow-auto p-2",style:{height:"300px"},children:w==null?void 0:w.description})]}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(re,{target:"_blank",to:w.bannerURL,children:o.jsx("img",{className:"rounded-2",src:w.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>I5(w._id),children:"Delete"})})})]})})]},y))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:w=>i(w.target.value),disabled:l,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),o.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:w=>a(w.target.value),disabled:l,value:s||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/jpeg",onChange:f,disabled:l}),o.jsx("div",{className:"my-2",children:o.jsx(sC,{src:e,ref:h,aspectRatio:16/9,guides:!0,crop:p})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:g,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Nf=async()=>{try{const t=je(le,"ResearchArea"),e=await sn(t),n=[],r=e.docs.map(async i=>{var d,h;const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null,l=s==null?void 0:s.title.stringValue,c=((h=(d=s==null?void 0:s.subareas)==null?void 0:d.arrayValue)==null?void 0:h.values)||[],u=l?await P5(l):null;n.push({_id:a,title:l,subareas:c,bannerURL:u})});await Promise.all(r),wn.dispatch(az(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},P5=async t=>{try{const e=yt(wt,`research_areas_images/${t}`);return await Ao(e)}catch{return null}};async function A5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=vt(le,"ResearchArea",t),i=(await Po(e)).data().banner;if(await Zn(e),i){const s=yt(wt,`research_areas_images/${i}`);await Co(s)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ResearchArea!")}}}const Pf=async()=>{try{const t=je(le,"research_subitems"),e=await sn(t),n=[],r=e.docs.map(async i=>{var h,f,p;const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null,l=s==null?void 0:s.description.stringValue,c=s==null?void 0:s.researchArea,u=(f=(h=s==null?void 0:s.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,d=(p=s==null?void 0:s.title)==null?void 0:p.stringValue;n.push({_id:a,title:d,description:l,researchArea:c,projects:u})});await Promise.all(r),wn.dispatch(oz(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function C5(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=vt(le,"research_subitems",t);await Zn(n);const r=vt(le,"ResearchArea",e);await zs(r,{subareas:HN(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const k5=()=>{const t=ae(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),[e,n]=N.useState(null),[r,i]=N.useState(""),[s,a]=N.useState(!1);N.useEffect(()=>{Nf(),Pf()},[]);const l=u=>{if(u.target.files&&u.target.files.length>0){const d=new FileReader;d.onload=()=>{n(d.result)},d.readAsDataURL(u.target.files[0])}},c=async()=>{if(!e||!r){alert("Please select an image and provide a title!");return}a(!0);const u=yt(wt,`research_areas_images/${r}`),d=await fetch(e).then(h=>h.blob());try{await sa(u,d),await yn(je(le,"ResearchArea"),{title:r,subareas:[]}),alert("Research area has been saved!"),i(""),n(null),a(!1),location.reload()}catch{alert("Error uploading image!"),a(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Research Area"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>o.jsxs("tr",{children:[o.jsx("td",{children:d+1}),o.jsx("td",{children:u==null?void 0:u.title}),o.jsx("td",{children:o.jsx(re,{to:u._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(re,{target:"_blank",to:u==null?void 0:u.bannerURL,children:o.jsx("img",{className:"rounded-2",src:u.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>A5(u._id),children:"Delete"})})})]})})]},d))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:u=>i(u.target.value),disabled:s,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:s})]}),o.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:o.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),o.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},aa=async()=>{try{const t=je(le,"projects_items"),e=await sn(t),n=[],r=e.docs.map(async i=>{var h,f,p;const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null,l=(h=s==null?void 0:s.title)==null?void 0:h.stringValue,c=(f=s==null?void 0:s.pptLink)==null?void 0:f.stringValue,u=(p=s==null?void 0:s.pdfLink)==null?void 0:p.stringValue,d=l?await j5(l):null;n.push({_id:a,title:l,bannerURL:d,pdfLink:u,pptLink:c})});await Promise.all(r),wn.dispatch(lz(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},j5=async t=>{try{const e=yt(wt,`project_items_images/${t}`);return await Ao(e)}catch{return null}};async function R5(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=vt(le,"projects_items",t),i=(await Po(e)).data().banner;if(await Zn(e),i){const c=yt(wt,`projects_items_images/${i}`);await Co(c)}const s=je(le,"research_subitems"),l=(await sn(s)).docs.map(async c=>{const u=c.ref;await zs(u,{projects:HN(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsItems!")}}}const O5=()=>{const{id:t}=bo();N.useEffect(()=>{Pf(),Nf(),aa()},[]);const n=ae(y=>{var m;return(m=y.getresearcharea)==null?void 0:m.data}).find(y=>y._id===t);n||(window.location.href="/dashboard/research");const r=ae(y=>y.getsubareas).data,i=(n==null?void 0:n.subareas)||[],s=r==null?void 0:r.filter(y=>i.some(m=>m.stringValue===(y==null?void 0:y._id))),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(!1),[f,p]=N.useState([]),g=ae(y=>{var m;return(m=y.getprojectitems)==null?void 0:m.data}),w=async()=>{if(!a){alert("Please select an image and provide a title!");return}h(!0);try{const m=(await yn(je(le,"research_subitems"),{title:a,researcharea:n._id,description:c,projects:f})).id;await zs(vt(le,"ResearchArea",n._id),{subareas:sF(m)}),alert("Subitem has been saved!"),l(""),u(""),p([]),h(!1),window.location.reload()}catch{alert("Something went wrong!")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{className:"fw-bold text-danger",children:n==null?void 0:n.title}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"w-100 my-2",children:o.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:s==null?void 0:s.map((y,m)=>{var v;return o.jsxs("tr",{children:[o.jsx("td",{children:m+1}),o.jsx("td",{children:y==null?void 0:y.title}),o.jsx("td",{children:y==null?void 0:y.description}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(v=y==null?void 0:y.projects)==null?void 0:v.map((x,b)=>{const I=g==null?void 0:g.find(E=>(E==null?void 0:E._id)==(x==null?void 0:x.stringValue));return o.jsxs("div",{children:[b+1,". ",I==null?void 0:I.title," (",o.jsx(re,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>C5(y._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!s.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:y=>l(y.target.value),disabled:d,value:a})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),o.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:y=>u(y.target.value),disabled:d,placeholder:"describe in some words.."})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),o.jsxs("select",{name:"project",className:"form-control",onChange:y=>{const m=y.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[o.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:f==null?void 0:f.map((y,m)=>{const v=g==null?void 0:g.find(x=>(x==null?void 0:x._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(x=>x!==y))},children:"Remove"})})]})})})]}),!f.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:w,disabled:d,children:d?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},D5=()=>{const t=ae(p=>{var g;return(g=p.getprojectitems)==null?void 0:g.data}),[e,n]=N.useState(null),[r,i]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1);N.useEffect(()=>{aa()},[]);const h=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},f=async()=>{if(!e||!r){alert("Please select an image and provide a title!");return}d(!0);const p=yt(wt,`project_items_images/${r}`),g=await fetch(e).then(w=>w.blob());try{await sa(p,g),await yn(je(le,"projects_items"),{title:r,pptLink:s,pdfLink:l}),alert("Project has been saved!"),i(""),c(""),a(""),n(null),d(!1),location.reload()}catch{alert("Error uploading image!"),i(""),c(""),a(""),n(null),d(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Projects"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{children:g+1}),o.jsx("td",{children:p==null?void 0:p.title}),o.jsx("td",{children:o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx(re,{to:p==null?void 0:p.pdfLink,target:"_blank",children:"PDF Link"})}),o.jsx("li",{children:o.jsx(re,{to:p==null?void 0:p.pptLink,target:"_blank",children:"PPT Link"})})]})}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(re,{target:"_blank",to:p==null?void 0:p.bannerURL,children:o.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>R5(p._id),children:"Delete"})})})]})})]},g))})]})})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>i(p.target.value),disabled:u,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>a(p.target.value),disabled:u,value:s||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>c(p.target.value),disabled:u,value:l||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:u})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Af=async()=>{try{const t=je(le,"projects_main"),e=await sn(t),n=[],r=e.docs.map(async i=>{const s=i._document.data.value.mapValue.fields,a=i._document.key.path.segments[6]||null;n.push({_id:a,...s})});await Promise.all(r),wn.dispatch(cz(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function L5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=vt(le,"projects_main",t);await Zn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsMain!")}}}const iE={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},M5=()=>{var f,p,g,w;const[t,e]=N.useState(!1),n=ae(y=>y.getsupervisors.data),r=ae(y=>{var m;return(m=y.getprojectitems)==null?void 0:m.data}),i=ae(y=>{var m;return(m=y.getdatasets)==null?void 0:m.data}),s=ae(y=>{var m;return(m=y.getprojectsmain)==null?void 0:m.data}),[a,l]=N.useState([]),[c,u]=N.useState(iE);N.useEffect(()=>{Do(),aa(),Af()},[]);const d=y=>{const{id:m,value:v}=y.target;u(x=>({...x,[m]:v}))},h=async()=>{if(!c.title||!c.description||!c.type||!c.copis||!c.total_fund||!c.funding_agency||!c.pis||!c.jrf_phd_scholar||!a){alert("Please fill out all fields.");return}e(!0);try{await yn(je(le,"projects_main"),{...c,users:a}),alert("Project has been saved!"),u(iE),e(!1),window.location.reload()}catch{alert("Something went wrong!")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Projects"}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),o.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[o.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:s==null?void 0:s.map((y,m)=>{var v,x,b,I,E,A,_,T,S,k,D,P,C;return o.jsxs("tr",{children:[o.jsx("td",{children:m+1}),o.jsx("td",{className:"fw-bold text-danger",children:(v=y==null?void 0:y.title)==null?void 0:v.stringValue}),o.jsxs("td",{children:[o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"PIs:"})," ",o.jsx("p",{children:(x=y==null?void 0:y.pis)==null?void 0:x.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Co-PIs:"})," ",o.jsx("p",{children:(b=y==null?void 0:y.copis)==null?void 0:b.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Funding Agency:"})," ",o.jsx("p",{children:(I=y==null?void 0:y.funding_agency)==null?void 0:I.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Total Fund(Inr):"})," ",o.jsxs("p",{children:["Rs. ",(E=y==null?void 0:y.total_fund)==null?void 0:E.stringValue]})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Ph.D./JRF Students:"})," ",o.jsx("p",{children:(A=y==null?void 0:y.jrf_phd_scholar)==null?void 0:A.stringValue})]})]}),o.jsx("td",{children:o.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(_=y==null?void 0:y.description)==null?void 0:_.stringValue})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(k=(S=(T=y==null?void 0:y.related_datasets)==null?void 0:T.arrayValue)==null?void 0:S.values)==null?void 0:k.map((M,H)=>{const O=i==null?void 0:i.find(R=>(R==null?void 0:R._id)==(M==null?void 0:M.stringValue));return o.jsxs("div",{children:[H+1,". ",O==null?void 0:O.title," (",o.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(O==null?void 0:O._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(O==null?void 0:O._id)+"Modal",tabIndex:-1,"aria-labelledby":(O==null?void 0:O._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(O==null?void 0:O._id)+"ModalLabel",children:O==null?void 0:O.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:O==null?void 0:O.description}),o.jsx("img",{className:"w-100",src:O==null?void 0:O.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(C=(P=(D=y==null?void 0:y.related_projectitems)==null?void 0:D.arrayValue)==null?void 0:P.values)==null?void 0:C.map((M,H)=>{const O=r==null?void 0:r.find(R=>(R==null?void 0:R._id)==(M==null?void 0:M.stringValue));return o.jsxs("div",{children:[H+1,". ",O==null?void 0:O.title," (",o.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(O==null?void 0:O._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(O==null?void 0:O._id)+"Modal",tabIndex:-1,"aria-labelledby":(O==null?void 0:O._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(O==null?void 0:O._id)+"ModalLabel",children:[O==null?void 0:O.title,"("," ",o.jsx(re,{className:"btn-primary",style:{textDecoration:"none"},to:O==null?void 0:O.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(re,{to:O==null?void 0:O.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:O==null?void 0:O.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx(re,{className:"dropdown-item text-primary",to:y==null?void 0:y._id,children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>L5(y._id),children:"Delete"})})]})]})})]},m)})})]}),!s.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col mb-2",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:y=>{const m=y.target.value;!a||m===""||(a.includes(m)?alert("User with this name already existed."):l([...a,m]))},children:[o.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((y,m)=>{var v,x,b,I,E,A;return o.jsxs("option",{value:(x=(v=y==null?void 0:y.data)==null?void 0:v.name)==null?void 0:x.stringValue,children:[(I=(b=y==null?void 0:y.data)==null?void 0:b.name)==null?void 0:I.stringValue,"-",(A=(E=y==null?void 0:y.data)==null?void 0:E.email)==null?void 0:A.stringValue]},m)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:a==null?void 0:a.map((y,m)=>o.jsxs("span",{className:"badge bg-success",children:[y," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const v=a.filter(x=>x!==y);l(v)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},m))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:d,value:c.title,disabled:t})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[" ",o.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),o.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:d,value:c.funding_agency,disabled:t})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),o.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:d,value:c.total_fund,disabled:t})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:d,value:c.pis,disabled:t})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:d,value:c.copis,disabled:t})]})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),o.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:d,value:c.jrf_phd_scholar,disabled:t})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:d,value:c.type,disabled:t,children:[o.jsx("option",{value:"",children:"--select type--"}),o.jsx("option",{value:"consultancy",children:"Consultancy"}),o.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:d,value:c.description,placeholder:"describe project in 50 to 200 words..",disabled:t})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),o.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:y=>{const m=y.target.value;m!==""&&(c.related_datasets.includes(m)||u(v=>({...v,related_datasets:[...v.related_datasets,m]})))},value:c.type,disabled:t,children:[o.jsx("option",{value:"",children:"--select--"}),i==null?void 0:i.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(f=c.related_datasets)==null?void 0:f.map((y,m)=>{const v=i==null?void 0:i.find(x=>(x==null?void 0:x._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(x=>{var b;return{...x,related_datasets:(b=c==null?void 0:c.related_datasets)==null?void 0:b.filter(I=>I!==y)}})},children:"Remove"})})]})})})]}),!((p=c.related_datasets)!=null&&p.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:y=>{const m=y.target.value;m!==""&&(c.related_projectitems.includes(m)||u(v=>({...v,related_projectitems:[...v.related_projectitems,m]})))},disabled:t,children:[o.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(g=c.related_projectitems)==null?void 0:g.map((y,m)=>{const v=r==null?void 0:r.find(x=>(x==null?void 0:x._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(x=>{var b;return{...x,related_projectitems:(b=c==null?void 0:c.related_projectitems)==null?void 0:b.filter(I=>I!==y)}})},children:"Remove"})})]})})})]}),!((w=c.related_projectitems)!=null&&w.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),o.jsx(V5,{getsupervisors:n})]})},V5=({getsupervisors:t})=>{const[e,n]=N.useState(!1),[r,i]=N.useState([]),[s,a]=N.useState([]),l=d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];h&&$A.parse(h,{complete:p=>{const g=p.data.filter(w=>Object.values(w).some(y=>y!==""));a(g)},header:!0})},c=async d=>{try{return!(await sn(VN(je(le,"projects_main"),FN("title","==",d)))).empty}catch{return!1}},u=async d=>{if(d.preventDefault(),!r.length){alert("Please select supervisors!");return}if(!s.length){alert("ERROR! Invalid CSV File Selected.");return}n(!0);const h=s.map(async f=>{const p=Object.values(f);if(!await c(p[2]))return yn(je(le,"projects_main"),{title:p[1],description:p[5],funding_agency:p[2],pis:p[6],copis:p[7],jrf_phd_scholar:p[4],related_datasets:[],related_projectitems:[],total_fund:p[3],type:p[0],users:r})});await Promise.all(h),alert("Porjects has been saved!"),n(!1),window.location.reload()};return o.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Import Projects"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:d=>{const h=d.target.value;!r||h===""||(r.includes(h)?alert("User with this name already existed."):i([...r,h]))},children:[o.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((d,h)=>{var f,p,g,w,y,m;return o.jsxs("option",{value:(p=(f=d==null?void 0:d.data)==null?void 0:f.name)==null?void 0:p.stringValue,children:[(w=(g=d==null?void 0:d.data)==null?void 0:g.name)==null?void 0:w.stringValue,"-",(m=(y=d==null?void 0:d.data)==null?void 0:y.email)==null?void 0:m.stringValue]},h)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:r==null?void 0:r.map((d,h)=>o.jsxs("span",{className:"badge bg-success",children:[d," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const f=r.filter(p=>p!==d);i(f)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},h))})]}),o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",o.jsx("a",{download:!0,href:"/assets/sample_projects.csv",children:"Download Sample CSV file"}),")"]}),o.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:l})]}),o.jsx("div",{className:"d-flex gap-1 flex-wrap",children:s.length>0&&o.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[o.jsxs("table",{className:"table table-bordered",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(s[0]).map(d=>o.jsx("th",{children:d},d))})}),o.jsx("tbody",{children:s.map((d,h)=>o.jsx("tr",{children:Object.values(d).map((f,p)=>o.jsx("td",{children:f},p))},h))})]}),o.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:e,onClick:u,children:e?"Please Wait...":"Submit"})]})]})})})};var cC={exports:{}},F5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",U5=F5,$5=U5;function uC(){}function dC(){}dC.resetWarningCache=uC;var B5=function(){function t(r,i,s,a,l,c){if(c!==$5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dC,resetWarningCache:uC};return n.PropTypes=n,n};cC.exports=B5();var z5=cC.exports;const We=vo(z5);function H5(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var hC=N,W5=H5(hC);function sE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var G5=!!(typeof window<"u"&&window.document&&window.document.createElement);function K5(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){q5(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,a=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){a.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=a.indexOf(this);a.splice(g,1),c()},f.render=function(){return W5.createElement(s,this.props)},h}(hC.PureComponent);return sE(u,"displayName","SideEffect("+r(s)+")"),sE(u,"canUseDOM",G5),u}}var Y5=K5;const Q5=vo(Y5);var X5=typeof Element<"u",J5=typeof Map=="function",Z5=typeof Set=="function",e6=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function nd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!nd(t[r],e[r]))return!1;return!0}var s;if(J5&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!nd(r.value[1],e.get(r.value[0])))return!1;return!0}if(Z5&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(e6&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(X5&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!nd(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var t6=function(e,n){try{return nd(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const n6=vo(t6);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var aE=Object.getOwnPropertySymbols,r6=Object.prototype.hasOwnProperty,i6=Object.prototype.propertyIsEnumerable;function s6(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function a6(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var o6=a6()?Object.assign:function(t,e){for(var n,r=s6(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)r6.call(n,a)&&(r[a]=n[a]);if(aE){i=aE(n);for(var l=0;l<i.length;l++)i6.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};const l6=vo(o6);var js={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},he={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(he).map(function(t){return he[t]});var Ge={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},uh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},xc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},c6=Object.keys(uh).reduce(function(t,e){return t[uh[e]]=e,t},{}),u6=[he.NOSCRIPT,he.SCRIPT,he.STYLE],or="data-react-helmet",d6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h6=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},f6=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),on=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p6=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},oE=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},m6=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Qg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},g6=function(e){var n=qa(e,he.TITLE),r=qa(e,xc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=qa(e,xc.DEFAULT_TITLE);return n||i||void 0},v6=function(e){return qa(e,xc.ON_CHANGE_CLIENT_STATE)||function(){}},Fp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return on({},r,i)},{})},y6=function(e,n){return n.filter(function(r){return typeof r[he.BASE]<"u"}).map(function(r){return r[he.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),a=0;a<s.length;a++){var l=s[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},Jo=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&_6("Helmet: "+e+' should be of type "Array". Instead found type "'+d6(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,a){var l={};a.filter(function(f){for(var p=void 0,g=Object.keys(f),w=0;w<g.length;w++){var y=g[w],m=y.toLowerCase();n.indexOf(m)!==-1&&!(p===Ge.REL&&f[p].toLowerCase()==="canonical")&&!(m===Ge.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(y)!==-1&&(y===Ge.INNER_HTML||y===Ge.CSS_TEXT||y===Ge.ITEM_PROP)&&(p=y)}if(!p||!f[p])return!1;var v=f[p].toLowerCase();return i[p]||(i[p]={}),l[p]||(l[p]={}),i[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(f){return s.push(f)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=l6({},i[d],l[d]);i[d]=h}return s},[]).reverse()},qa=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},w6=function(e){return{baseTag:y6([Ge.HREF,Ge.TARGET],e),bodyAttributes:Fp(js.BODY,e),defer:qa(e,xc.DEFER),encode:qa(e,xc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Fp(js.HTML,e),linkTags:Jo(he.LINK,[Ge.REL,Ge.HREF],e),metaTags:Jo(he.META,[Ge.NAME,Ge.CHARSET,Ge.HTTPEQUIV,Ge.PROPERTY,Ge.ITEM_PROP],e),noscriptTags:Jo(he.NOSCRIPT,[Ge.INNER_HTML],e),onChangeClientState:v6(e),scriptTags:Jo(he.SCRIPT,[Ge.SRC,Ge.INNER_HTML],e),styleTags:Jo(he.STYLE,[Ge.CSS_TEXT],e),title:g6(e),titleAttributes:Fp(js.TITLE,e)}},Xg=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Xg(e)},0)}}(),lE=function(e){return clearTimeout(e)},x6=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Xg:global.requestAnimationFrame||Xg,b6=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||lE:global.cancelAnimationFrame||lE,_6=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Zo=null,E6=function(e){Zo&&b6(Zo),e.defer?Zo=x6(function(){cE(e,function(){Zo=null})}):(cE(e),Zo=null)},cE=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;Jg(he.BODY,i),Jg(he.HTML,s),T6(f,p);var g={baseTag:ha(he.BASE,r),linkTags:ha(he.LINK,a),metaTags:ha(he.META,l),noscriptTags:ha(he.NOSCRIPT,c),scriptTags:ha(he.SCRIPT,d),styleTags:ha(he.STYLE,h)},w={},y={};Object.keys(g).forEach(function(m){var v=g[m],x=v.newTags,b=v.oldTags;x.length&&(w[m]=x),b.length&&(y[m]=g[m].oldTags)}),n&&n(),u(e,w,y)},fC=function(e){return Array.isArray(e)?e.join(""):e},T6=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=fC(e)),Jg(he.TITLE,n)},Jg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(or),s=i?i.split(","):[],a=[].concat(s),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),s.indexOf(u)===-1&&s.push(u);var h=a.indexOf(u);h!==-1&&a.splice(h,1)}for(var f=a.length-1;f>=0;f--)r.removeAttribute(a[f]);s.length===a.length?r.removeAttribute(or):r.getAttribute(or)!==l.join(",")&&r.setAttribute(or,l.join(","))}},ha=function(e,n){var r=document.head||document.querySelector(he.HEAD),i=r.querySelectorAll(e+"["+or+"]"),s=Array.prototype.slice.call(i),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Ge.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Ge.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(or,"true"),s.some(function(f,p){return l=p,u.isEqualNode(f)})?s.splice(l,1):a.push(u)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return r.appendChild(c)}),{oldTags:s,newTags:a}},pC=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},S6=function(e,n,r,i){var s=pC(r),a=fC(n);return s?"<"+e+" "+or+'="true" '+s+">"+Qg(a,i)+"</"+e+">":"<"+e+" "+or+'="true">'+Qg(a,i)+"</"+e+">"},I6=function(e,n,r){return n.reduce(function(i,s){var a=Object.keys(s).filter(function(u){return!(u===Ge.INNER_HTML||u===Ge.CSS_TEXT)}).reduce(function(u,d){var h=typeof s[d]>"u"?d:d+'="'+Qg(s[d],r)+'"';return u?u+" "+h:h},""),l=s.innerHTML||s.cssText||"",c=u6.indexOf(e)===-1;return i+"<"+e+" "+or+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},mC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[uh[i]||i]=e[i],r},n)},N6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[c6[i]||i]=e[i],r},n)},P6=function(e,n,r){var i,s=(i={key:n},i[or]=!0,i),a=mC(r,s);return[Pe.createElement(he.TITLE,a,n)]},A6=function(e,n){return n.map(function(r,i){var s,a=(s={key:i},s[or]=!0,s);return Object.keys(r).forEach(function(l){var c=uh[l]||l;if(c===Ge.INNER_HTML||c===Ge.CSS_TEXT){var u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=r[l]}),Pe.createElement(e,a)})},$r=function(e,n,r){switch(e){case he.TITLE:return{toComponent:function(){return P6(e,n.title,n.titleAttributes)},toString:function(){return S6(e,n.title,n.titleAttributes,r)}};case js.BODY:case js.HTML:return{toComponent:function(){return mC(n)},toString:function(){return pC(n)}};default:return{toComponent:function(){return A6(e,n)},toString:function(){return I6(e,n,r)}}}},gC=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:$r(he.BASE,n,i),bodyAttributes:$r(js.BODY,r,i),htmlAttributes:$r(js.HTML,s,i),link:$r(he.LINK,a,i),meta:$r(he.META,l,i),noscript:$r(he.NOSCRIPT,c,i),script:$r(he.SCRIPT,u,i),style:$r(he.STYLE,d,i),title:$r(he.TITLE,{title:f,titleAttributes:p},i)}},C6=function(e){var n,r;return r=n=function(i){p6(s,i);function s(){return h6(this,s),m6(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!n6(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case he.SCRIPT:case he.NOSCRIPT:return{innerHTML:c};case he.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return on({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[on({},h,this.mapNestedChildrenToProps(u,f))]),c))},s.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(d.type){case he.TITLE:return on({},h,(c={},c[d.type]=p,c.titleAttributes=on({},f),c));case he.BODY:return on({},h,{bodyAttributes:on({},f)});case he.HTML:return on({},h,{htmlAttributes:on({},f)})}return on({},h,(u={},u[d.type]=on({},f),u))},s.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=on({},c);return Object.keys(l).forEach(function(d){var h;u=on({},u,(h={},h[d]=l[d],h))}),u},s.prototype.warnOnInvalidChildren=function(l,c){return!0},s.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Pe.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=oE(f,["children"]),w=N6(g);switch(u.warnOnInvalidChildren(h,p),h.type){case he.LINK:case he.META:case he.NOSCRIPT:case he.SCRIPT:case he.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:w,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:w,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},s.prototype.render=function(){var l=this.props,c=l.children,u=oE(l,["children"]),d=on({},u);return c&&(d=this.mapChildrenToProps(c,d)),Pe.createElement(e,d)},f6(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}(Pe.Component),n.propTypes={base:We.object,bodyAttributes:We.object,children:We.oneOfType([We.arrayOf(We.node),We.node]),defaultTitle:We.string,defer:We.bool,encodeSpecialCharacters:We.bool,htmlAttributes:We.object,link:We.arrayOf(We.object),meta:We.arrayOf(We.object),noscript:We.arrayOf(We.object),onChangeClientState:We.func,script:We.arrayOf(We.object),style:We.arrayOf(We.object),title:We.string,titleAttributes:We.object,titleTemplate:We.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=gC({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},k6=function(){return null},j6=Q5(w6,E6,gC)(k6),Rn=C6(j6);Rn.renderStatic=Rn.rewind;const R6=()=>{var H,O,R,L,F,G,j,W,Z,te,oe,fe,Re,J,me,q,Ee,Se,ft,He,Oe,an,Kt,xn,Vn,Yt;const[t,e]=N.useState(!1);N.useEffect(()=>{(async()=>{e(!0),await Yc(),await Oo(),e(!1)})()},[]);const{id:n}=bo(),i=ae(Q=>Q.getpublications.data).filter(Q=>Q._id==n)[0],s=ae(Q=>Q.getsupervisors.data),[a,l]=N.useState((O=(H=i==null?void 0:i.data)==null?void 0:H.paperTitle)==null?void 0:O.stringValue),[c,u]=N.useState((L=(R=i==null?void 0:i.data)==null?void 0:R.paperType)==null?void 0:L.stringValue),[d,h]=N.useState((G=(F=i==null?void 0:i.data)==null?void 0:F.publisher)==null?void 0:G.stringValue),[f,p]=N.useState((W=(j=i==null?void 0:i.data)==null?void 0:j.publicationDate)==null?void 0:W.stringValue),[g,w]=N.useState((te=(Z=i==null?void 0:i.data)==null?void 0:Z.link)==null?void 0:te.stringValue),[y,m]=N.useState((fe=(oe=i==null?void 0:i.data)==null?void 0:oe.author)==null?void 0:fe.stringValue),[v,x]=N.useState((J=(Re=i==null?void 0:i.data)==null?void 0:Re.journalName)==null?void 0:J.stringValue),[b,I]=N.useState((q=(me=i==null?void 0:i.data)==null?void 0:me.pages)==null?void 0:q.stringValue),[E,A]=N.useState((Se=(Ee=i==null?void 0:i.data)==null?void 0:Ee.volume)==null?void 0:Se.stringValue),[_,T]=N.useState((He=(ft=i==null?void 0:i.data)==null?void 0:ft.impact)==null?void 0:He.stringValue),[S,k]=N.useState((an=(Oe=i==null?void 0:i.data)==null?void 0:Oe.isbn)==null?void 0:an.stringValue),D=[];(Yt=(Vn=(xn=(Kt=i==null?void 0:i.data)==null?void 0:Kt.users)==null?void 0:xn.arrayValue)==null?void 0:Vn.values)==null||Yt.map(Q=>{D==null||D.push(Q.stringValue)});const[P,C]=N.useState(D),M=Q=>{if(Q.preventDefault(),!a||!c||!d||!f||!g||!y||!v||!b||!E||!_||!S){console.log("Please fill all required fields!");return}e(!0);const be=vt(le,"publications",i==null?void 0:i._id);zs(be,{paperTitle:a,paperType:c,publisher:d,publicationDate:f,link:g,author:y,journalName:v,pages:b,volume:E,impact:_,isbn:S,users:P}).then(()=>{alert("Publication has been updated!"),e(!1),window.location.href="/dashboard/publications"}).catch(Nt=>{alert(`Error updating document: ${Nt.message}`),e(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Edit Publication"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.location.href="/dashboard/publications",children:"Back to Publications"})]}),o.jsx("hr",{}),o.jsx("div",{className:"card p-3",children:o.jsxs("form",{onSubmit:M,noValidate:!0,children:[o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:a,onChange:Q=>l(Q.target.value),required:!0,disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",disabled:t,onChange:Q=>{const be=Q.target.value;if(P)if(be==="other"){let Nt=prompt("Please enter supervisor name:");Nt&&C([...P,Nt])}else P.includes(be)?alert("User with this name already existed."):C([...P,be])},children:[o.jsx("option",{value:"",children:"--select user--"}),s==null?void 0:s.map((Q,be)=>{var Nt,Ie,Fr,Fn,pr,er;return o.jsxs("option",{value:(Ie=(Nt=Q==null?void 0:Q.data)==null?void 0:Nt.name)==null?void 0:Ie.stringValue,children:[(Fn=(Fr=Q==null?void 0:Q.data)==null?void 0:Fr.name)==null?void 0:Fn.stringValue,"-",(er=(pr=Q==null?void 0:Q.data)==null?void 0:pr.email)==null?void 0:er.stringValue]},be)}),o.jsx("option",{value:"other",children:"Other"})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:P==null?void 0:P.map((Q,be)=>o.jsxs("span",{className:"badge bg-success",children:[Q," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const Nt=P.filter(Ie=>Ie!==Q);C(Nt)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},be))})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"paperType",value:c,onChange:Q=>u(Q.target.value),required:!0,disabled:t,children:[o.jsx("option",{value:"",children:"---select type---"}),o.jsx("option",{value:"Conference",children:"Conference"}),o.jsx("option",{value:"Patent",children:"Patent"}),o.jsx("option",{value:"Journal",children:"Journal"}),o.jsx("option",{value:"Book",children:"Book"}),o.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),o.jsx("option",{value:"Publications",children:"Publications"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021  47th Annual Conference of the IEEE Industrial Electronics Society",value:d,onChange:Q=>h(Q.target.value),required:!0,disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:f,onChange:Q=>p(Q.target.value),required:!0,disabled:t,children:[o.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((Q,be)=>o.jsx("option",{value:2008+be,children:2008+be},be))]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),o.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:g,onChange:Q=>w(Q.target.value),disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 mb-2",children:[o.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:Q=>m(Q.target.value),id:"authors",value:y,placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:t})]}),o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:v,onChange:Q=>x(Q.target.value),required:!0,disabled:t}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),o.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:b,onChange:Q=>I(Q.target.value),disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),o.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:E,onChange:Q=>A(Q.target.value),disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),o.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:_,onChange:Q=>T(Q.target.value),disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),o.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:S,onChange:Q=>k(Q.target.value),disabled:t})]})]}),o.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:t,children:t?"Please Wait...":"Submit"})]})})]})})},O6=()=>{var h,f,p,g,w,y,m,v,x,b,I,E,A,_,T,S,k,D;const{id:t}=bo(),e=ae(P=>P.getsupervisors.data),n=e==null?void 0:e.filter(P=>(P==null?void 0:P._id)==t)[0],[r,i]=N.useState(!1),[s,a]=N.useState(),[l,c]=N.useState({name:(f=(h=n==null?void 0:n.data)==null?void 0:h.name)==null?void 0:f.stringValue,email:(g=(p=n==null?void 0:n.data)==null?void 0:p.email)==null?void 0:g.stringValue,phone:(y=(w=n==null?void 0:n.data)==null?void 0:w.phone)==null?void 0:y.stringValue,researchInterests:(v=(m=n==null?void 0:n.data)==null?void 0:m.researchInterests)==null?void 0:v.stringValue,introduction:(b=(x=n==null?void 0:n.data)==null?void 0:x.introduction)==null?void 0:b.stringValue,googleScholarLink:(E=(I=n==null?void 0:n.data)==null?void 0:I.googleScholarLink)==null?void 0:E.stringValue,researchGateLink:(_=(A=n==null?void 0:n.data)==null?void 0:A.researchGateLink)==null?void 0:_.stringValue,personalProfileLink:(S=(T=n==null?void 0:n.data)==null?void 0:T.personalProfileLink)==null?void 0:S.stringValue,otherLink:(D=(k=n==null?void 0:n.data)==null?void 0:k.otherLink)==null?void 0:D.stringValue});N.useEffect(()=>{Oo()},[]);const u=P=>{const{name:C,value:M}=P.target;c(H=>({...H,[C]:M}))},d=async()=>{var W,Z;const{name:P,email:C,phone:M,researchInterests:H,introduction:O,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:G}=l;if(!P||!C||!M||!H||!O){console.log("Please fill all required fields.");return}i(!0);const j=vt(le,"supervisors",n==null?void 0:n._id);if(s){if(n&&n.data&&n.data.profileImage){const oe=yt(wt,`/peoples/supervisor_profile_images/${(Z=(W=n==null?void 0:n.data)==null?void 0:W.profileImage)==null?void 0:Z.stringValue}`);try{await Co(oe),console.log("Old profile image deleted successfully")}catch(fe){console.error("Error deleting old profile image:",fe),i(!1);return}}const te=yt(wt,`/peoples/supervisor_profile_images/${P}_${s.name}`);try{await sa(te,s),console.log("Profile image uploaded successfully");const oe=`${P}_${s.name}`;await zs(j,{name:P,email:C,phone:M,researchInterests:H,introduction:O,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:G,profileImage:oe}),alert("Supervisor details updated with profile image successfully!"),window.location.href="/dashboard"}catch{alert("Error uploading profile image."),i(!1);return}}else try{await zs(j,{name:P,email:C,phone:M,researchInterests:H,introduction:O,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:G}),alert("Supervisor details updated successfully!"),window.location.href="/dashboard"}catch{alert("Error updating supervisor details."),i(!1);return}i(!1)};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Edit Supervisor"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),o.jsx("hr",{}),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-sm-12 mb-3",children:o.jsxs("div",{className:"col-sm-2",children:[" ",o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",o.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:u,disabled:!0})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col overflow-auto",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",o.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),o.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:u,disabled:!0})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),o.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:u})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",o.jsx("span",{className:"text-danger",children:"aspect ratio 3:4 only"}),")"]}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:P=>{var M;const C=(M=P.target.files)==null?void 0:M[0];a(C)}})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",o.jsx("span",{className:"text-danger",children:"Use comma separated for multiple"}),")"]}),o.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:u,rows:4})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),o.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:u})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"googleScholarLink",className:"form-label",children:"Google Scholar Link"}),o.jsx("input",{type:"text",className:"form-control",name:"googleScholarLink",value:l.googleScholarLink,onChange:u})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchGateLink",className:"form-label",children:"Research Gate Link"}),o.jsx("input",{type:"text",className:"form-control",name:"researchGateLink",value:l.researchGateLink,onChange:u})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"personalProfileLink",className:"form-label",children:"Personal Profile Link"}),o.jsx("input",{type:"text",className:"form-control",name:"personalProfileLink",value:l.personalProfileLink,onChange:u})]}),o.jsxs("div",{className:"col",children:[o.jsxs("label",{htmlFor:"otherLink",className:"form-label",children:["Other Link (",o.jsx("span",{className:"text-danger",children:"if any"}),")"]}),o.jsx("input",{type:"text",className:"form-control",name:"otherLink",value:l.otherLink,onChange:u})]})]})]}),o.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:d,disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},D6={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},L6=()=>{var m,v,x,b,I,E,A,_,T,S,k,D,P,C,M,H,O,R,L,F,G;const{id:t}=bo(),[e,n]=N.useState(!1),r=ae(j=>{var W;return(W=j.getprojectitems)==null?void 0:W.data}),i=ae(j=>{var W;return(W=j.getdatasets)==null?void 0:W.data}),s=ae(j=>j.getsupervisors.data),a=ae(j=>{var W;return(W=j.getprojectsmain)==null?void 0:W.data}),l=a==null?void 0:a.filter(j=>(j==null?void 0:j._id)==t)[0],c=[];(x=(v=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:v.values)==null||x.map(j=>{c==null||c.push(j.stringValue)});const u=[];(E=(I=(b=l==null?void 0:l.related_projectitems)==null?void 0:b.arrayValue)==null?void 0:I.values)==null||E.map(j=>{u==null||u.push(j.stringValue)});const[d,h]=N.useState({title:(A=l==null?void 0:l.title)==null?void 0:A.stringValue,description:(_=l==null?void 0:l.description)==null?void 0:_.stringValue,funding_agency:(T=l==null?void 0:l.description)==null?void 0:T.stringValue,pis:(S=l==null?void 0:l.pis)==null?void 0:S.stringValue,copis:(k=l==null?void 0:l.copis)==null?void 0:k.stringValue,jrf_phd_scholar:(D=l==null?void 0:l.jrf_phd_scholar)==null?void 0:D.stringValue,related_datasets:c,related_projectitems:u,total_fund:(P=l==null?void 0:l.total_fund)==null?void 0:P.stringValue,type:(C=l==null?void 0:l.type)==null?void 0:C.stringValue}),f=[];(O=(H=(M=l==null?void 0:l.users)==null?void 0:M.arrayValue)==null?void 0:H.values)==null||O.map(j=>{f==null||f.push(j.stringValue)});const[p,g]=N.useState(f);N.useEffect(()=>{Do(),aa(),Af()},[]);const w=j=>{const{id:W,value:Z}=j.target;h(te=>({...te,[W]:Z}))},y=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!p){alert("Please fill out all fields.");return}n(!0);try{const j=vt(le,"projects_main",l==null?void 0:l._id);await zs(j,{...d,users:p}),alert("Project has been saved!"),h(D6),n(!1),window.location.href="/dashboard/projects"}catch{alert("Something went wrong!")}};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),o.jsx("hr",{}),o.jsx("div",{className:"card p-3",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col mb-2",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:j=>{const W=j.target.value;!p||W===""||(p.includes(W)?alert("User with this name already existed."):g([...p,W]))},children:[o.jsx("option",{value:"",children:"--select user--"}),s==null?void 0:s.map((j,W)=>{var Z,te,oe,fe,Re,J;return o.jsxs("option",{value:(te=(Z=j==null?void 0:j.data)==null?void 0:Z.name)==null?void 0:te.stringValue,children:[(fe=(oe=j==null?void 0:j.data)==null?void 0:oe.name)==null?void 0:fe.stringValue,"-",(J=(Re=j==null?void 0:j.data)==null?void 0:Re.email)==null?void 0:J.stringValue]},W)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((j,W)=>o.jsxs("span",{className:"badge bg-success",children:[j," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const Z=p.filter(te=>te!==j);g(Z)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},W))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:w,value:d.title,disabled:!0})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[" ",o.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),o.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:w,value:d.funding_agency,disabled:e})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),o.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:w,value:d.total_fund,disabled:e})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:w,value:d.pis,disabled:e})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:w,value:d.copis,disabled:e})]})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),o.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:w,value:d.jrf_phd_scholar,disabled:e})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:w,value:d.type,disabled:e,children:[o.jsx("option",{value:"",children:"--select type--"}),o.jsx("option",{value:"consultancy",children:"Consultancy"}),o.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:w,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),o.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:j=>{const W=j.target.value;W!==""&&(d.related_datasets.includes(W)||h(Z=>({...Z,related_datasets:[...Z.related_datasets,W]})))},value:d.type,disabled:e,children:[o.jsx("option",{value:"",children:"--select--"}),i==null?void 0:i.map((j,W)=>o.jsx("option",{value:j==null?void 0:j._id,children:j==null?void 0:j.title},W))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(R=d.related_datasets)==null?void 0:R.map((j,W)=>{const Z=i==null?void 0:i.find(te=>(te==null?void 0:te._id)==j);return o.jsxs("tr",{children:[o.jsx("th",{children:W+1}),o.jsx("th",{children:Z==null?void 0:Z.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(te=>{var oe;return{...te,related_datasets:(oe=d==null?void 0:d.related_datasets)==null?void 0:oe.filter(fe=>fe!==j)}})},children:"Remove"})})]})})})]}),!((L=d.related_datasets)!=null&&L.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:j=>{const W=j.target.value;W!==""&&(d.related_projectitems.includes(W)||h(Z=>({...Z,related_projectitems:[...Z.related_projectitems,W]})))},disabled:e,children:[o.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((j,W)=>o.jsx("option",{value:j==null?void 0:j._id,children:j==null?void 0:j.title},W))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(F=d.related_projectitems)==null?void 0:F.map((j,W)=>{const Z=r==null?void 0:r.find(te=>(te==null?void 0:te._id)==j);return o.jsxs("tr",{children:[o.jsx("th",{children:W+1}),o.jsx("th",{children:Z==null?void 0:Z.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(te=>{var oe;return{...te,related_projectitems:(oe=d==null?void 0:d.related_projectitems)==null?void 0:oe.filter(fe=>fe!==j)}})},children:"Remove"})})]})})})]}),!((G=d.related_projectitems)!=null&&G.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsx("div",{className:"p-3 mt-4  col-sm-12",children:o.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:y,disabled:e,children:e?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})},M6=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(0);N.useEffect(()=>{const s=Ns.onAuthStateChanged(a=>{a?e(a.email):window.location.href="/"});return()=>s()},[]);const i=async()=>{if(confirm("Are you sure want to logout?"))try{await Ns.signOut(),window.close()}catch{console.error("Error logging out.")}};if(!t)return o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:o.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t)return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:o.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:o.jsxs("h4",{children:["Welcome, ",t]})})}),o.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[o.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:o.jsxs("div",{className:"list-group",children:[o.jsx(re,{to:"",className:`list-group-item list-group-item-action ${n===0&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(0),children:"Supervisor"}),o.jsx(re,{to:"publications",className:`list-group-item list-group-item-action ${n===1&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(1),children:"Publications"}),o.jsx(re,{to:"peoples",className:`list-group-item list-group-item-action ${n===2&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(2),children:"Peoples"}),o.jsx(re,{to:"projects-items",className:`list-group-item list-group-item-action ${n===3&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(3),children:"Projects Items"}),o.jsx(re,{to:"datasets",className:`list-group-item list-group-item-action ${n===4&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(4),children:"Datasets"}),o.jsx(re,{to:"news",className:`list-group-item list-group-item-action ${n===5&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(5),children:"News"}),o.jsx(re,{to:"slider-images",className:`list-group-item list-group-item-action ${n===6&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(6),children:"Slider Images"}),o.jsx(re,{to:"research",className:`list-group-item list-group-item-action ${n===7&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(7),children:"Research Areas"}),o.jsx(re,{to:"projects",className:`list-group-item list-group-item-action ${n===8&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(8),children:"Research Projects"}),o.jsx(re,{to:"change-password",className:`list-group-item list-group-item-action ${n===9&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(9),children:"Change Password"}),o.jsx(re,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:"Website Home"}),o.jsxs(re,{to:"#",onClick:i,className:"d-flex align-items-center list-group-item list-group-item-action text-danger",children:[o.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),o.jsx(Rn,{children:o.jsxs("title",{children:["Dashboard | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs(ry,{children:[o.jsx(De,{element:o.jsx(rE,{}),path:"*"}),o.jsx(De,{element:o.jsx(rE,{}),path:"/"}),o.jsx(De,{element:o.jsx(O6,{}),path:"/supervisors/:id"}),o.jsx(De,{element:o.jsx(g9,{userEmail:t}),path:"/publications"}),o.jsx(De,{element:o.jsx(R6,{}),path:"/publications/:id"}),o.jsx(De,{element:o.jsx(b5,{}),path:"/peoples"}),o.jsx(De,{element:o.jsx(k5,{}),path:"/research"}),o.jsx(De,{element:o.jsx(O5,{}),path:"/research/:id"}),o.jsx(De,{element:o.jsx(D5,{}),path:"/projects-items"}),o.jsx(De,{element:o.jsx(M5,{}),path:"/projects"}),o.jsx(De,{element:o.jsx(L6,{}),path:"/projects/:id"}),o.jsx(De,{element:o.jsx(N5,{}),path:"/datasets"}),o.jsx(De,{element:o.jsx(x9,{}),path:"/news"}),o.jsx(De,{element:o.jsx(_9,{}),path:"/change-password"}),o.jsx(De,{element:o.jsx(g5,{}),path:"/slider-images"})]})]})]})},V6="/CVPR_LAB/assets/logo-a-zcNRwG.png",F6=()=>o.jsx(o.Fragment,{children:o.jsxs("div",{role:"navigation",children:[o.jsx("div",{className:"p-3",children:o.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[o.jsx("div",{className:"col-lg-1 col-md-1 text-center",children:o.jsx("div",{className:"",children:o.jsx("img",{className:"img-fluid",src:V6,alt:"LOGO",style:{height:"50px",width:"auto"}})})}),o.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:o.jsxs("div",{className:"mt-2",children:[o.jsx("strong",{children:"Room Number :"})," 3rd Floor,EE Department"]})})]})}),o.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:o.jsx("nav",{className:"navbar navbar-expand-md",children:o.jsxs("div",{className:"container-fluid",children:[o.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[o.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),o.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:o.jsxs("ul",{className:"navbar-nav mx-auto ",children:[o.jsx("li",{className:"nav-item",children:o.jsx(re,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),o.jsx("li",{className:"nav-item",children:o.jsx(re,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"Peoples"})}),o.jsx("li",{className:"nav-item",children:o.jsx(re,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),o.jsx("li",{className:"nav-item",children:o.jsx(re,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),o.jsx("li",{className:"nav-item",children:o.jsx(re,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),o.jsx("li",{className:"nav-item",children:o.jsx(re,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),o.jsx("li",{className:"nav-item",children:o.jsx(re,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})});function uE(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Yw(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:uE(e[n])&&uE(t[n])&&Object.keys(e[n]).length>0&&Yw(t[n],e[n])})}const vC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jr(){const t=typeof document<"u"?document:{};return Yw(t,vC),t}const U6={document:vC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Mn(){const t=typeof window<"u"?window:{};return Yw(t,U6),t}function $6(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function B6(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Zg(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function dh(){return Date.now()}function z6(t){const e=Mn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function H6(t,e){e===void 0&&(e="x");const n=Mn();let r,i,s;const a=z6(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function ku(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function W6(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function _n(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!W6(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,a=i.length;s<a;s+=1){const l=i[s],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(ku(t[l])&&ku(r[l])?r[l].__swiper__?t[l]=r[l]:_n(t[l],r[l]):!ku(t[l])&&ku(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:_n(t[l],r[l])):t[l]=r[l])}}}return t}function ju(t,e,n){t.style.setProperty(e,n)}function yC(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Mn(),s=-e.translate;let a=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=n>s?"next":"prev",d=(f,p)=>u==="next"&&f>=p||u==="prev"&&f<=p,h=()=>{l=new Date().getTime(),a===null&&(a=l);const f=Math.max(Math.min((l-a)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=s+p*(n-s);if(d(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),d(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function _r(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function hh(t){try{console.warn(t);return}catch{}}function fh(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:$6(e)),n}function q6(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function G6(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ki(t,e){return Mn().getComputedStyle(t,null).getPropertyValue(e)}function ph(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function wC(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function ev(t,e,n){const r=Mn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function _t(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Up;function K6(){const t=Mn(),e=Jr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function xC(){return Up||(Up=K6()),Up}let $p;function Y6(t){let{userAgent:e}=t===void 0?{}:t;const n=xC(),r=Mn(),i=r.navigator.platform,s=e||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=i==="Win32";let g=i==="MacIntel";const w=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&g&&n.touch&&w.indexOf(`${l}x${c}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(d||f||h)&&(a.os="ios",a.ios=!0),a}function bC(t){return t===void 0&&(t={}),$p||($p=Y6(t)),$p}let Bp;function Q6(){const t=Mn(),e=bC();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),a=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function X6(){return Bp||(Bp=Q6()),Bp}function J6(t){let{swiper:e,on:n,emit:r}=t;const i=Mn();let s=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{a=i.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,w=p;h.forEach(y=>{let{contentBoxSize:m,contentRect:v,target:x}=y;x&&x!==e.el||(g=v?v.width:(m[0]||m).inlineSize,w=v?v.height:(m[0]||m).blockSize)}),(g!==f||w!==p)&&l()})}),s.observe(e.el))},u=()=>{a&&i.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",d)})}function Z6(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],a=Mn(),l=function(d,h){h===void 0&&(h={});const f=a.MutationObserver||a.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const w=function(){i("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(w):a.setTimeout(w,0)});p.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const d=wC(e.hostEl);for(let h=0;h<d.length;h+=1)l(d[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(d=>{d.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",u)}var eH={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(u=>{u.apply(r,n)})}),t}};function tH(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ki(r,"padding-left")||0,10)-parseInt(ki(r,"padding-right")||0,10),n=n-parseInt(ki(r,"padding-top")||0,10)-parseInt(ki(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function nH(){const t=this;function e(S,k){return parseFloat(S.getPropertyValue(t.getDirectionLabel(k))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,d=_r(i,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:d.length;let f=[];const p=[],g=[];let w=n.slidesOffsetBefore;typeof w=="function"&&(w=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,v=t.slidesGrid.length;let x=n.spaceBetween,b=-w,I=0,E=0;if(typeof s>"u")return;typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*s:typeof x=="string"&&(x=parseFloat(x)),t.virtualSize=-x,d.forEach(S=>{a?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(ju(r,"--swiper-centered-offset-before",""),ju(r,"--swiper-centered-offset-after",""));const A=n.grid&&n.grid.rows>1&&t.grid;A?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let _;const T=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<h;S+=1){_=0;let k;if(d[S]&&(k=d[S]),A&&t.grid.updateSlide(S,k,d),!(d[S]&&ki(k,"display")==="none")){if(n.slidesPerView==="auto"){T&&(d[S].style[t.getDirectionLabel("width")]="");const D=getComputedStyle(k),P=k.style.transform,C=k.style.webkitTransform;if(P&&(k.style.transform="none"),C&&(k.style.webkitTransform="none"),n.roundLengths)_=t.isHorizontal()?ev(k,"width",!0):ev(k,"height",!0);else{const M=e(D,"width"),H=e(D,"padding-left"),O=e(D,"padding-right"),R=e(D,"margin-left"),L=e(D,"margin-right"),F=D.getPropertyValue("box-sizing");if(F&&F==="border-box")_=M+R+L;else{const{clientWidth:G,offsetWidth:j}=k;_=M+H+O+R+L+(j-G)}}P&&(k.style.transform=P),C&&(k.style.webkitTransform=C),n.roundLengths&&(_=Math.floor(_))}else _=(s-(n.slidesPerView-1)*x)/n.slidesPerView,n.roundLengths&&(_=Math.floor(_)),d[S]&&(d[S].style[t.getDirectionLabel("width")]=`${_}px`);d[S]&&(d[S].swiperSlideSize=_),g.push(_),n.centeredSlides?(b=b+_/2+I/2+x,I===0&&S!==0&&(b=b-s/2-x),S===0&&(b=b-s/2-x),Math.abs(b)<1/1e3&&(b=0),n.roundLengths&&(b=Math.floor(b)),E%n.slidesPerGroup===0&&f.push(b),p.push(b)):(n.roundLengths&&(b=Math.floor(b)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&f.push(b),p.push(b),b=b+_+x),t.virtualSize+=_+x,I=_,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+y,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+x}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+x}px`),A&&t.grid.updateWrapperSize(_,f),!n.centeredSlides){const S=[];for(let k=0;k<f.length;k+=1){let D=f[k];n.roundLengths&&(D=Math.floor(D)),f[k]<=t.virtualSize-s&&S.push(D)}f=S,Math.floor(t.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-s)}if(c&&n.loop){const S=g[0]+x;if(n.slidesPerGroup>1){const k=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=S*n.slidesPerGroup;for(let P=0;P<k;P+=1)f.push(f[f.length-1]+D)}for(let k=0;k<t.virtual.slidesBefore+t.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+S),p.push(p[p.length-1]+S),t.virtualSize+=S}if(f.length===0&&(f=[0]),x!==0){const S=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");d.filter((k,D)=>!n.cssMode||n.loop?!0:D!==d.length-1).forEach(k=>{k.style[S]=`${x}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;g.forEach(D=>{S+=D+(x||0)}),S-=x;const k=S-s;f=f.map(D=>D<=0?-w:D>k?k+y:D)}if(n.centerInsufficientSlides){let S=0;if(g.forEach(k=>{S+=k+(x||0)}),S-=x,S<s){const k=(s-S)/2;f.forEach((D,P)=>{f[P]=D-k}),p.forEach((D,P)=>{p[P]=D+k})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ju(r,"--swiper-centered-offset-before",`${-f[0]}px`),ju(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const S=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+S),t.slidesGrid=t.slidesGrid.map(D=>D+k)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,k=t.el.classList.contains(S);h<=n.maxBackfaceHiddenSlides?k||t.el.classList.add(S):k&&t.el.classList.remove(S)}}function rH(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const l=e.activeIndex+s;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function iH(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function sH(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;i&&(a=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),f=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=-(a-d),g=p+e.slidesSizesGrid[c],w=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),w&&r[c].classList.add(n.slideFullyVisibleClass),u.progress=i?-h:h,u.originalProgress=i?-f:f}}function aH(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:l}=e;const c=s,u=a;if(r===0)i=0,s=!0,a=!0;else{i=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=d||i<=0,a=h||i>=1,d&&(i=0),h&&(i=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],w=Math.abs(t);w>=f?l=(w-f)/g:l=(w+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!s||u&&!a)&&e.emit("fromEdge"),e.emit("progress",i)}function oH(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=h=>_r(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,u,d;if(s)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else a?(c=e.filter(h=>h.column===i)[0],d=e.filter(h=>h.column===i+1)[0],u=e.filter(h=>h.column===i-1)[0]):c=e[i];c&&(c.classList.add(n.slideActiveClass),a?(d&&d.classList.add(n.slideNextClass),u&&u.classList.add(n.slidePrevClass)):(d=G6(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),d&&d.classList.add(n.slideNextClass),u=q6(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const rd=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},zp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},tv=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=i,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&zp(t,u)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let a=i-e;a<=s+e;a+=1){const l=(a%n+n)%n;(l<i||l>s)&&zp(t,l)}else for(let a=Math.max(i-e,0);a<=Math.min(s+e,n-1);a+=1)a!==i&&(a>s||a<i)&&zp(t,a)};function lH(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function cH(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:l}=e;let c=t,u;const d=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=lH(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const p=Math.min(i.slidesPerGroupSkip,c);u=p+Math.floor((c-p)/i.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===s&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const h=e.grid&&i.grid&&i.grid.rows>1;let f;if(e.virtual&&i.virtual.enabled&&i.loop)f=d(c);else if(h){const p=e.slides.filter(w=>w.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/i.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:f,previousIndex:s,activeIndex:c}),e.initialized&&tv(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function uH(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(i=l)});let s=!1,a;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){s=!0,a=l;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var dH={updateSize:tH,updateSlides:nH,updateAutoHeight:rH,updateSlidesOffset:iH,updateSlidesProgress:sH,updateProgress:aH,updateSlidesClasses:oH,updateActiveIndex:cH,updateClickedSlide:uH};function hH(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=H6(s,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function fH(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function pH(){return-this.snapGrid[0]}function mH(){return-this.snapGrid[this.snapGrid.length-1]}function gH(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:a,wrapperEl:l}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),u=s.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,s.updateProgress(d),a.cssMode){const h=s.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-d;else{if(!s.support.smoothScroll)return yC({swiper:s,targetPosition:-d,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(d),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var vH={getTranslate:hH,setTranslate:fH,minTranslate:pH,maxTranslate:mH,translateTo:gH};function yH(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function _C(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:a}=e;let l=r;if(l||(s>a?l="next":s<a?l="prev":l="reset"),e.emit(`transition${i}`),n&&s!==a){if(l==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),l==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function wH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),_C({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function xH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),_C({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var bH={setTransition:yH,transitionStart:wH,transitionEnd:xH};function _H(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=s;if(s.animating&&l.preventInteractionOnTransition||!g&&!r&&!i||s.destroyed)return!1;const w=Math.min(s.params.slidesPerGroupSkip,a);let y=w+Math.floor((a-w)/s.params.slidesPerGroup);y>=c.length&&(y=c.length-1);const m=-c[y];if(l.normalizeSlideIndex)for(let x=0;x<u.length;x+=1){const b=-Math.floor(m*100),I=Math.floor(u[x]*100),E=Math.floor(u[x+1]*100);typeof u[x+1]<"u"?b>=I&&b<E-(E-I)/2?a=x:b>=I&&b<E&&(a=x+1):b>=I&&(a=x)}if(s.initialized&&a!==h&&(!s.allowSlideNext&&(f?m>s.translate&&m>s.minTranslate():m<s.translate&&m<s.minTranslate())||!s.allowSlidePrev&&m>s.translate&&m>s.maxTranslate()&&(h||0)!==a))return!1;a!==(d||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(m);let v;if(a>h?v="next":a<h?v="prev":v="reset",f&&-m===s.translate||!f&&m===s.translate)return s.updateActiveIndex(a),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(m),v!=="reset"&&(s.transitionStart(n,v),s.transitionEnd(n,v)),!1;if(l.cssMode){const x=s.isHorizontal(),b=f?m:-m;if(e===0){const I=s.virtual&&s.params.virtual.enabled;I&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),I&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[x?"scrollLeft":"scrollTop"]=b})):p[x?"scrollLeft":"scrollTop"]=b,I&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return yC({swiper:s,targetPosition:b,side:x?"left":"top"}),!0;p.scrollTo({[x?"left":"top"]:b,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(m),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,v),e===0?s.transitionEnd(n,v):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(b){!s||s.destroyed||b.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,v))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function EH(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let l;if(s){const f=a*i.params.grid.rows;l=i.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=i.getSlideIndexByData(a);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let d=i.params.slidesPerView;d==="auto"?d=i.slidesPerViewDynamic():(d=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=c-l<d;if(u&&(h=h||l<Math.ceil(d/2)),h){const f=u?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?i.realIndex:void 0})}if(s){const f=a*i.params.grid.rows;a=i.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,e,n,r)}),i}function TH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:l,u=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!u&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function SH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;const d=r.virtual&&i.virtual.enabled;if(i.loop){if(u&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=s.map(m=>f(m));let w=s[g.indexOf(p)-1];if(typeof w>"u"&&i.cssMode){let m;s.forEach((v,x)=>{p>=v&&(m=x)}),typeof m<"u"&&(w=s[m>0?m-1:m])}let y=0;if(typeof w<"u"&&(y=a.indexOf(w),y<0&&(y=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-r.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(y,t,e,n)}),!0;return r.slideTo(y,t,e,n)}function IH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function NH(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),l=a+Math.floor((s-a)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const u=i.snapGrid[l],d=i.snapGrid[l+1];c-u>(d-u)*r&&(s+=i.params.slidesPerGroup)}else{const u=i.snapGrid[l-1],d=i.snapGrid[l];c-u<=(d-u)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function PH(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(_r(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),Zg(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(_r(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),Zg(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var AH={slideTo:_H,slideToLoop:EH,slideNext:TH,slidePrev:SH,slideReset:IH,slideToClosest:NH,slideToClickedSlide:PH};function CH(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{_r(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},s=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(s?n.grid.rows:1),l=e.slides.length%a!==0,c=s&&e.slides.length%n.grid.rows!==0,u=d=>{for(let h=0;h<d;h+=1){const f=e.isElement?fh("swiper-slide",[n.slideBlankClass]):fh("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const d=a-e.slides.length%a;u(d),e.recalcSlides(),e.updateSlides()}else hh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(n.loopAddBlankSlides){const d=n.grid.rows-e.slides.length%n.grid.rows;u(d),e.recalcSlides(),e.updateSlides()}else hh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function kH(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=h,c.emit("loopFix");return}let w=p.slidesPerView;w==="auto"?w=c.slidesPerViewDynamic():(w=Math.ceil(parseFloat(p.slidesPerView,10)),g&&w%2===0&&(w=w+1));const y=p.slidesPerGroupAuto?w:p.slidesPerGroup;let m=y;m%y!==0&&(m+=y-m%y),m+=p.loopAdditionalSlides,c.loopedSlides=m;const v=c.grid&&p.grid&&p.grid.rows>1;u.length<w+m?hh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&p.grid.fill==="row"&&hh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const x=[],b=[];let I=c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.filter(P=>P.classList.contains(p.slideActiveClass))[0]):I=s;const E=r==="next"||!r,A=r==="prev"||!r;let _=0,T=0;const S=v?Math.ceil(u.length/p.grid.rows):u.length,D=(v?u[s].column:s)+(g&&typeof i>"u"?-w/2+.5:0);if(D<m){_=Math.max(m-D,y);for(let P=0;P<m-D;P+=1){const C=P-Math.floor(P/S)*S;if(v){const M=S-C-1;for(let H=u.length-1;H>=0;H-=1)u[H].column===M&&x.push(H)}else x.push(S-C-1)}}else if(D+w>S-m){T=Math.max(D-(S-m*2),y);for(let P=0;P<T;P+=1){const C=P-Math.floor(P/S)*S;v?u.forEach((M,H)=>{M.column===C&&b.push(H)}):b.push(C)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),A&&x.forEach(P=>{u[P].swiperLoopMoveDOM=!0,f.prepend(u[P]),u[P].swiperLoopMoveDOM=!1}),E&&b.forEach(P=>{u[P].swiperLoopMoveDOM=!0,f.append(u[P]),u[P].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():v&&(x.length>0&&A||b.length>0&&E)&&c.slides.forEach((P,C)=>{c.grid.updateSlide(C,P,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(x.length>0&&A){if(typeof e>"u"){const P=c.slidesGrid[I],M=c.slidesGrid[I+_]-P;l?c.setTranslate(c.translate-M):(c.slideTo(I+_,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-M,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-M))}else if(i){const P=v?x.length/p.grid.rows:x.length;c.slideTo(c.activeIndex+P,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(b.length>0&&E)if(typeof e>"u"){const P=c.slidesGrid[I],M=c.slidesGrid[I-T]-P;l?c.setTranslate(c.translate-M):(c.slideTo(I-T,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-M,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-M))}else{const P=v?b.length/p.grid.rows:b.length;c.slideTo(c.activeIndex-P,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const P={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(C=>{!C.destroyed&&C.params.loop&&C.loopFix({...P,slideTo:C.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...P,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function jH(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var RH={loopCreate:CH,loopFix:kH,loopDestroy:jH};function OH(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function DH(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var LH={setGrabCursor:OH,unsetGrabCursor:DH};function MH(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Jr()||r===Mn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function dE(t,e,n){const r=Mn(),{params:i}=t,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function VH(t){const e=this,n=Jr();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){dE(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:l}=e;if(!l||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(f?MH(h,c):c.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const p=a.currentX,g=a.currentY;if(!dE(e,r,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=g,i.touchStartTime=dh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let w=!0;c.matches(i.focusableElements)&&(w=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const y=w&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||y)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function FH(t){const e=Jr(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:l}=n;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].filter(E=>E.identifier===r.touchId)[0],!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,h=u.pageY;if(c.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=dh());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<s.startX&&n.translate<=n.maxTranslate()||d>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=d,s.currentY=h;const f=s.currentX-s.startX,p=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:f*f+p*p>=25&&(E=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>i.touchAngle:90-E>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,w=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(g=Math.abs(g)*(a?1:-1),w=Math.abs(w)*(a?1:-1)),s.diff=g,g*=i.touchRatio,a&&(g=-g,w=-w);const y=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=w>0?"prev":"next";const m=n.params.loop&&!i.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&v&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let x;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&y!==n.touchesDirection&&m&&v&&Math.abs(g)>=1){Object.assign(s,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let b=!0,I=i.resistanceRatio;if(i.touchReleaseOnEdges&&(I=0),g>0?(m&&v&&!x&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(b=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**I))):g<0&&(m&&v&&!x&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(b=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**I))),b&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function UH(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(I=>I.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=dh(),f=h-n.touchStartTime;if(e.allowClick){const I=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(I&&I[0]||r.target,I),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=dh(),Zg(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(a.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let w=0,y=e.slidesSizesGrid[0];for(let I=0;I<u.length;I+=I<a.slidesPerGroupSkip?1:a.slidesPerGroup){const E=I<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[I+E]<"u"?(g||p>=u[I]&&p<u[I+E])&&(w=I,y=u[I+E]-u[I]):(g||p>=u[I])&&(w=I,y=u[u.length-1]-u[u.length-2])}let m=null,v=null;a.rewind&&(e.isBeginning?v=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const x=(p-u[w])/y,b=w<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(f>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(x>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?m:w+b):e.slideTo(w)),e.swipeDirection==="prev"&&(x>1-a.longSwipesRatio?e.slideTo(w+b):v!==null&&x<0&&Math.abs(x)>a.longSwipesRatio?e.slideTo(v):e.slideTo(w))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(w+b):e.slideTo(w):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:w+b),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:w))}}function hE(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function $H(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function BH(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function zH(t){const e=this;rd(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function HH(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const EC=(t,e)=>{const n=Jr(),{params:r,el:i,wrapperEl:s,device:a}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",hE,!0):t[u]("observerUpdate",hE,!0),i[c]("load",t.onLoad,{capture:!0})};function WH(){const t=this,{params:e}=t;t.onTouchStart=VH.bind(t),t.onTouchMove=FH.bind(t),t.onTouchEnd=UH.bind(t),t.onDocumentTouchStart=HH.bind(t),e.cssMode&&(t.onScroll=BH.bind(t)),t.onClick=$H.bind(t),t.onLoad=zH.bind(t),EC(t,"on")}function qH(){EC(this,"off")}var GH={attachEvents:WH,detachEvents:qH};const fE=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function KH(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||t.originalParams,u=fE(t,r),d=fE(t,c),h=r.enabled;u&&!d?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&d&&(i.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const v=r[m]&&r[m].enabled,x=c[m]&&c[m].enabled;v&&!x&&t[m].disable(),!v&&x&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),_n(t.params,c);const w=t.params.enabled,y=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!w?t.disable():!h&&w&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&y?(t.loopCreate(e),t.updateSlides()):g&&!y&&t.loopDestroy()),t.emit("breakpoint",c)}function YH(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Mn(),s=e==="window"?i.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:s*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var QH={setBreakpoint:KH,getBreakpoint:YH};function XH(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function JH(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,a=XH(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.classList.add(...e),t.emitContainerClasses()}function ZH(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var eW={addClasses:JH,removeClasses:ZH};function tW(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var nW={checkOverflow:tW},nv={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function rW(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){_n(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){_n(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),_n(e,r)}}const Hp={eventsEmitter:eH,update:dH,translate:vH,transition:bH,slide:AH,loop:RH,grabCursor:LH,events:GH,breakpoints:QH,checkOverflow:nW,classes:eW},Wp={};let Qw=class Br{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=_n({},n),e&&!n.el&&(n.el=e);const a=Jr();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const d=[];return a.querySelectorAll(n.el).forEach(h=>{const f=_n({},n,{el:h});d.push(new Br(f))}),d}const l=this;l.__swiper__=!0,l.support=xC(),l.device=bC({userAgent:n.userAgent}),l.browser=X6(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(d=>{d({params:n,swiper:l,extendParams:rW(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=_n({},nv,c);return l.params=_n({},u,Wp,n),l.originalParams=_n({},l.params),l.passedParams=_n({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=_r(n,`.${r.slideClass}, swiper-slide`),s=ph(i[0]);return ph(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=_r(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*e+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=s[u]?Math.ceil(s[u].swiperSlideSize):0,f;for(let p=u+1;p<s.length;p+=1)s[p]&&!f&&(h+=Math.ceil(s[p].swiperSlideSize),d+=1,h>c&&(f=!0));for(let p=u-1;p>=0;p-=1)s[p]&&!f&&(h+=s[p].swiperSlideSize,d+=1,h>c&&(f=!0))}else if(e==="current")for(let h=u+1;h<s.length;h+=1)(n?a[h]+l[h]-a[u]<c:a[h]-a[u]<c)&&(d+=1);else for(let h=u-1;h>=0;h-=1)a[u]-a[h]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&rd(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):_r(r,i())[0];return!a&&n.params.createElements&&(a=fh("div",n.params.wrapperClass),r.append(a),_r(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ki(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ki(r,"direction")==="rtl"),wrongRTL:ki(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?rd(n,s):s.addEventListener("load",a=>{rd(n,a.target)})}),tv(n),n.initialized=!0,tv(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s.removeAttribute("style"),a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,B6(r)),r.destroyed=!0),null}static extendDefaults(e){_n(Wp,e)}static get extendedDefaults(){return Wp}static get defaults(){return nv}static installModule(e){Br.prototype.__modules__||(Br.prototype.__modules__=[]);const n=Br.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Br.installModule(n)),Br):(Br.installModule(e),Br)}};Object.keys(Hp).forEach(t=>{Object.keys(Hp[t]).forEach(e=>{Qw.prototype[e]=Hp[t][e]})});Qw.use([J6,Z6]);const TC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ys(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ga(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ys(e[r])&&Ys(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ga(t[r],e[r]):t[r]=e[r]})}function SC(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function IC(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function NC(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function PC(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function iW(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function sW(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:a,scrollbarEl:l,paginationEl:c}=t;const u=i.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:w}=e;let y,m,v,x,b,I,E,A;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(y=!0),i.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(m=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(v=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(x=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(b=!0);const _=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),d[T].prevEl=void 0,d[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),d[T].el=void 0,e[T].el=void 0))};i.includes("loop")&&e.isElement&&(d.loop&&!r.loop?I=!0:!d.loop&&r.loop?E=!0:A=!0),u.forEach(T=>{if(Ys(d[T])&&Ys(r[T]))Object.assign(d[T],r[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in r[T]&&!r[T].enabled&&_(T);else{const S=r[T];(S===!0||S===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?S===!1&&_(T):d[T]=r[T]}}),u.includes("controller")&&!m&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),i.includes("children")&&n&&g&&d.virtual.enabled?(g.slides=n,g.update(!0)):i.includes("virtual")&&g&&d.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),i.includes("children")&&n&&d.loop&&(A=!0),y&&w.init()&&w.update(!0),m&&(e.controller.control=d.controller.control),v&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(d.pagination.el=c),h.init(),h.render(),h.update()),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(d.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),b&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),s&&(d.navigation.nextEl=s),a&&(d.navigation.prevEl=a),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(I||A)&&e.loopDestroy(),(E||A)&&e.loopCreate(),e.update()}function aW(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Ga(n,nv),n._emitClasses=!0,n.init=!1;const s={},a=TC.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?Ys(t[c])?(n[c]={},i[c]={},Ga(n[c],t[c]),Ga(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function oW(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:a,swiper:l}=t;SC(e)&&r&&i&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),IC(e)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),NC(e)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function lW(t,e,n,r,i){const s=[];if(!e)return s;const a=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),u=n.map(i);c.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return TC.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Ys(t[c])&&Ys(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?a(c):(u.forEach(h=>{t[c][h]!==e[c][h]&&a(c)}),d.forEach(h=>{t[c][h]!==e[c][h]&&a(c)}))}else t[c]!==e[c]&&a(c)}),s}const cW=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function AC(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function CC(t){const e=[];return Pe.Children.toArray(t).forEach(n=>{AC(n)?e.push(n):n.props&&n.props.children&&CC(n.props.children).forEach(r=>e.push(r))}),e}function uW(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pe.Children.toArray(t).forEach(r=>{if(AC(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=CC(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function dW(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=s&&d<=a&&u.push(e[r(d)]);return u.map((d,h)=>Pe.cloneElement(d,{swiper:t,style:i,key:`slide-${h}`}))}function Rl(t,e){return typeof window>"u"?N.useEffect(t,e):N.useLayoutEffect(t,e)}const pE=N.createContext(null),hW=N.createContext(null),kC=N.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:a,...l}=t===void 0?{}:t,c=!1;const[u,d]=N.useState("swiper"),[h,f]=N.useState(null),[p,g]=N.useState(!1),w=N.useRef(!1),y=N.useRef(null),m=N.useRef(null),v=N.useRef(null),x=N.useRef(null),b=N.useRef(null),I=N.useRef(null),E=N.useRef(null),A=N.useRef(null),{params:_,passedParams:T,rest:S,events:k}=aW(l),{slides:D,slots:P}=uW(s),C=()=>{g(!p)};Object.assign(_.on,{_containerClasses(L,F){d(F)}});const M=()=>{Object.assign(_.on,k),c=!0;const L={..._};if(delete L.wrapperClass,m.current=new Qw(L),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=D;const F={cache:!1,slides:D,renderExternal:f,renderExternalUpdate:!1};Ga(m.current.params.virtual,F),Ga(m.current.originalParams.virtual,F)}};y.current||M(),m.current&&m.current.on("_beforeBreakpoint",C);const H=()=>{c||!k||!m.current||Object.keys(k).forEach(L=>{m.current.on(L,k[L])})},O=()=>{!k||!m.current||Object.keys(k).forEach(L=>{m.current.off(L,k[L])})};N.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",C)}),N.useEffect(()=>{!w.current&&m.current&&(m.current.emitSlidesClasses(),w.current=!0)}),Rl(()=>{if(e&&(e.current=y.current),!!y.current)return m.current.destroyed&&M(),oW({el:y.current,nextEl:b.current,prevEl:I.current,paginationEl:E.current,scrollbarEl:A.current,swiper:m.current},_),a&&!m.current.destroyed&&a(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Rl(()=>{H();const L=lW(T,v.current,D,x.current,F=>F.key);return v.current=T,x.current=D,L.length&&m.current&&!m.current.destroyed&&sW({swiper:m.current,slides:D,passedParams:T,changedParams:L,nextEl:b.current,prevEl:I.current,scrollbarEl:A.current,paginationEl:E.current}),()=>{O()}}),Rl(()=>{cW(m.current)},[h]);function R(){return _.virtual?dW(m.current,D,h):D.map((L,F)=>Pe.cloneElement(L,{swiper:m.current,swiperSlideIndex:F}))}return Pe.createElement(r,mh({ref:y,className:PC(`${u}${n?` ${n}`:""}`)},S),Pe.createElement(hW.Provider,{value:m.current},P["container-start"],Pe.createElement(i,{className:iW(_.wrapperClass)},P["wrapper-start"],R(),P["wrapper-end"]),SC(_)&&Pe.createElement(Pe.Fragment,null,Pe.createElement("div",{ref:I,className:"swiper-button-prev"}),Pe.createElement("div",{ref:b,className:"swiper-button-next"})),NC(_)&&Pe.createElement("div",{ref:A,className:"swiper-scrollbar"}),IC(_)&&Pe.createElement("div",{ref:E,className:"swiper-pagination"}),P["container-end"]))});kC.displayName="Swiper";const jC=N.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=N.useRef(null),[f,p]=N.useState("swiper-slide"),[g,w]=N.useState(!1);function y(b,I,E){I===h.current&&p(E)}Rl(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return s.on("_slideClass",y),()=>{s&&s.off("_slideClass",y)}}}),Rl(()=>{s&&h.current&&!s.destroyed&&p(s.getSlideClasses(h.current))},[s]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},v=()=>typeof r=="function"?r(m):r,x=()=>{w(!0)};return Pe.createElement(n,mh({ref:h,className:PC(`${f}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:x},d),a&&Pe.createElement(pE.Provider,{value:m},Pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},v(),l&&!g&&Pe.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Pe.createElement(pE.Provider,{value:m},v(),l&&!g&&Pe.createElement("div",{className:"swiper-lazy-preloader"})))});jC.displayName="SwiperSlide";function RC(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=_r(t.el,`.${r[i]}`)[0];s||(s=fh("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function fW(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let w;return g&&typeof g=="string"&&e.isElement&&(w=e.el.querySelector(g),w)?w:(g&&(typeof g=="string"&&(w=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&w.length>1&&e.el.querySelectorAll(g).length===1&&(w=e.el.querySelector(g))),g&&!w?g:w)}function a(g,w){const y=e.params.navigation;g=_t(g),g.forEach(m=>{m&&(m.classList[w?"add":"remove"](...y.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=w),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](y.lockClass))})}function l(){const{nextEl:g,prevEl:w}=e.navigation;if(e.params.loop){a(w,!1),a(g,!1);return}a(w,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const g=e.params.navigation;if(e.params.navigation=RC(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let w=s(g.nextEl),y=s(g.prevEl);Object.assign(e.navigation,{nextEl:w,prevEl:y}),w=_t(w),y=_t(y);const m=(v,x)=>{v&&v.addEventListener("click",x==="next"?u:c),!e.enabled&&v&&v.classList.add(...g.lockClass.split(" "))};w.forEach(v=>m(v,"next")),y.forEach(v=>m(v,"prev"))}function h(){let{nextEl:g,prevEl:w}=e.navigation;g=_t(g),w=_t(w);const y=(m,v)=>{m.removeEventListener("click",v==="next"?u:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>y(m,"next")),w.forEach(m=>y(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:w}=e.navigation;if(g=_t(g),w=_t(w),e.enabled){l();return}[...g,...w].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),r("click",(g,w)=>{let{nextEl:y,prevEl:m}=e.navigation;y=_t(y),m=_t(m);const v=w.target;if(e.params.navigation.hideOnClick&&!m.includes(v)&&!y.includes(v)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let x;y.length?x=y[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(x=m[0].classList.contains(e.params.navigation.hiddenClass)),i(x===!0?"navigationShow":"navigationHide"),[...y,...m].filter(b=>!!b).forEach(b=>b.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:d,destroy:h})}function el(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function pW(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(m,v){const{bulletActiveClass:x}=e.params.pagination;m&&(m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${x}-${v}`),m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${x}-${v}-${v}`)))}function d(m){const v=m.target.closest(el(e.params.pagination.bulletClass));if(!v)return;m.preventDefault();const x=ph(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;e.slideToLoop(x)}else e.slideTo(x)}function h(){const m=e.rtl,v=e.params.pagination;if(c())return;let x=e.pagination.el;x=_t(x);let b,I;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(I=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(b=e.snapIndex,I=e.previousSnapIndex):(I=e.previousIndex||0,b=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const _=e.pagination.bullets;let T,S,k;if(v.dynamicBullets&&(a=ev(_[0],e.isHorizontal()?"width":"height",!0),x.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]=`${a*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&I!==void 0&&(l+=b-(I||0),l>v.dynamicMainBullets-1?l=v.dynamicMainBullets-1:l<0&&(l=0)),T=Math.max(b-l,0),S=T+(Math.min(_.length,v.dynamicMainBullets)-1),k=(S+T)/2),_.forEach(D=>{const P=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(C=>`${v.bulletActiveClass}${C}`)].map(C=>typeof C=="string"&&C.includes(" ")?C.split(" "):C).flat();D.classList.remove(...P)}),x.length>1)_.forEach(D=>{const P=ph(D);P===b?D.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),v.dynamicBullets&&(P>=T&&P<=S&&D.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),P===T&&u(D,"prev"),P===S&&u(D,"next"))});else{const D=_[b];if(D&&D.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&_.forEach((P,C)=>{P.setAttribute("part",C===b?"bullet-active":"bullet")}),v.dynamicBullets){const P=_[T],C=_[S];for(let M=T;M<=S;M+=1)_[M]&&_[M].classList.add(...`${v.bulletActiveClass}-main`.split(" "));u(P,"prev"),u(C,"next")}}if(v.dynamicBullets){const D=Math.min(_.length,v.dynamicMainBullets+4),P=(a*D-a)/2-k*a,C=m?"right":"left";_.forEach(M=>{M.style[e.isHorizontal()?C:"top"]=`${P}px`})}}x.forEach((_,T)=>{if(v.type==="fraction"&&(_.querySelectorAll(el(v.currentClass)).forEach(S=>{S.textContent=v.formatFractionCurrent(b+1)}),_.querySelectorAll(el(v.totalClass)).forEach(S=>{S.textContent=v.formatFractionTotal(A)})),v.type==="progressbar"){let S;v.progressbarOpposite?S=e.isHorizontal()?"vertical":"horizontal":S=e.isHorizontal()?"horizontal":"vertical";const k=(b+1)/A;let D=1,P=1;S==="horizontal"?D=k:P=k,_.querySelectorAll(el(v.progressbarFillClass)).forEach(C=>{C.style.transform=`translate3d(0,0,0) scaleX(${D}) scaleY(${P})`,C.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(_.innerHTML=v.renderCustom(e,b+1,A),T===0&&i("paginationRender",_)):(T===0&&i("paginationRender",_),i("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](v.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=_t(x);let b="";if(m.type==="bullets"){let I=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&I>v&&(I=v);for(let E=0;E<I;E+=1)m.renderBullet?b+=m.renderBullet.call(e,E,m.bulletClass):b+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?b=m.renderFraction.call(e,m.currentClass,m.totalClass):b=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?b=m.renderProgressbar.call(e,m.progressbarFillClass):b=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(I=>{m.type!=="custom"&&(I.innerHTML=b||""),m.type==="bullets"&&e.pagination.bullets.push(...I.querySelectorAll(el(m.bulletClass)))}),m.type!=="custom"&&i("paginationRender",x[0])}function p(){e.params.pagination=RC(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let v;typeof m.el=="string"&&e.isElement&&(v=e.el.querySelector(m.el)),!v&&typeof m.el=="string"&&(v=[...document.querySelectorAll(m.el)]),v||(v=m.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(m.el)],v.length>1&&(v=v.filter(x=>wC(x,".swiper")[0]===e.el)[0])),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=_t(v),v.forEach(x=>{m.type==="bullets"&&m.clickable&&x.classList.add(...(m.clickableClass||"").split(" ")),x.classList.add(m.modifierClass+m.type),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(x.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&x.classList.add(m.progressbarOppositeClass),m.clickable&&x.addEventListener("click",d),e.enabled||x.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let v=e.pagination.el;v&&(v=_t(v),v.forEach(x=>{x.classList.remove(m.hiddenClass),x.classList.remove(m.modifierClass+m.type),x.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(x.classList.remove(...(m.clickableClass||"").split(" ")),x.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:v}=e.pagination;v=_t(v),v.forEach(x=>{x.classList.remove(m.horizontalClass,m.verticalClass),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?y():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=_t(m),m.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,v)=>{const x=v.target,b=_t(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const I=b[0].classList.contains(e.params.pagination.hiddenClass);i(I===!0?"paginationShow":"paginationHide"),b.forEach(E=>E.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=_t(m),m.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=_t(m),m.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:w,disable:y,render:f,update:h,init:p,destroy:g})}function mW(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,c=s&&s.autoplay?s.autoplay.delay:3e3,u=s&&s.autoplay?s.autoplay.delay:3e3,d,h=new Date().getTime(),f,p,g,w,y,m,v;function x(R){!e||e.destroyed||!e.wrapperEl||R.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",x),!v&&S())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(u=d,f=!1);const R=e.autoplay.paused?d:h+u-new Date().getTime();e.autoplay.timeLeft=R,i("autoplayTimeLeft",R,R/c),l=requestAnimationFrame(()=>{b()})},I=()=>{let R;return e.virtual&&e.params.virtual.enabled?R=e.slides.filter(F=>F.classList.contains("swiper-slide-active"))[0]:R=e.slides[e.activeIndex],R?parseInt(R.getAttribute("data-swiper-autoplay"),10):void 0},E=R=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),b();let L=typeof R>"u"?e.params.autoplay.delay:R;c=e.params.autoplay.delay,u=e.params.autoplay.delay;const F=I();!Number.isNaN(F)&&F>0&&typeof R>"u"&&(L=F,c=F,u=F),d=L;const G=e.params.speed,j=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(G,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,G,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(G,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,G,!0,!0),i("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return L>0?(clearTimeout(a),a=setTimeout(()=>{j()},L)):requestAnimationFrame(()=>{j()}),L},A=()=>{h=new Date().getTime(),e.autoplay.running=!0,E(),i("autoplayStart")},_=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),i("autoplayStop")},T=(R,L)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),R||(m=!0);const F=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",x):S()};if(e.autoplay.paused=!0,L){y&&(d=e.params.autoplay.delay),y=!1,F();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),F())},S=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,E(d)):E(),e.autoplay.paused=!1,i("autoplayResume"))},k=()=>{if(e.destroyed||!e.autoplay.running)return;const R=Jr();R.visibilityState==="hidden"&&(m=!0,T(!0)),R.visibilityState==="visible"&&S()},D=R=>{R.pointerType==="mouse"&&(m=!0,v=!0,!(e.animating||e.autoplay.paused)&&T(!0))},P=R=>{R.pointerType==="mouse"&&(v=!1,e.autoplay.paused&&S())},C=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",P))},M=()=>{e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",P)},H=()=>{Jr().addEventListener("visibilitychange",k)},O=()=>{Jr().removeEventListener("visibilitychange",k)};r("init",()=>{e.params.autoplay.enabled&&(C(),H(),A())}),r("destroy",()=>{M(),O(),e.autoplay.running&&_()}),r("_freeModeStaticRelease",()=>{(g||m)&&S()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?_():T(!0,!0)}),r("beforeTransitionStart",(R,L,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?T(!0,!0):_())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){_();return}p=!0,g=!1,m=!1,w=setTimeout(()=>{m=!0,g=!0,T(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(w),clearTimeout(a),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&S(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:A,stop:_,pause:T,resume:S})}const gW=()=>{const t=ae(e=>e.getslider).data;return o.jsx(o.Fragment,{children:o.jsx("div",{className:"border_bottom_strip",children:o.jsx(kC,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[mW,pW,fW],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>o.jsxs(jC,{children:[o.jsx("img",{src:e.bannerURL,alt:e.title}),o.jsx("p",{children:e.title})]},n))})})})},vW=()=>o.jsx("div",{className:"col-sm-12 py-3 px-4 container my-3 mb-5",children:o.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[o.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 p-0",children:o.jsx("img",{src:"https://visionintelligence.github.io/assets/images/group.jpg",alt:"",className:"image-fluid rounded-3 image_up"})}),o.jsxs("div",{className:"col-md-6 col-sm-12",children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Our Objective"}),o.jsx("hr",{}),o.jsx("p",{children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning. Our lab aims to develop intelligent algorithms that perform important visual perception tasks such as object detection, human emotion recognition, aberrant event detection, image retrieval, Motion analysis, etc. Currently, we are dealing with:-"}),o.jsxs("ol",{children:[o.jsx("li",{children:"Moving Object Detection and Analysis"}),o.jsx("li",{children:"Facial Expression"}),o.jsx("li",{children:"Recognition"}),o.jsx("li",{children:"Anomaly Detection and Analysis"}),o.jsx("li",{children:"Content Based Image Retrieval"}),o.jsx("li",{children:"Hand Gesture Recognition"})]})]})]})}),OC=({ref_:t})=>{const e=ae(i=>i.getpublications.data),[n,r]=N.useState(!1);return N.useEffect(()=>{t||(async()=>{r(!0),await Yc(),r(!1)})()},[]),n?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[o.jsxs("h1",{className:"fw-bold text-danger w-100 my-4",children:[t&&"Latest"," Publications"]}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("ul",{className:`p-2 ${t&&"marquee_scroll"}`,style:{height:t?"300px":"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((i,s)=>{const{paperTitle:a,author:l,impact:c,link:u,pages:d,publisher:h,publicationDate:f,volume:p,journalName:g,paperType:w,isbn:y}=i==null?void 0:i.data;return o.jsxs("li",{children:[o.jsx("p",{children:o.jsxs("cite",{children:[o.jsxs("span",{className:"author",children:[l==null?void 0:l.stringValue,","]}),o.jsxs("a",{href:`https://doi.org/${u.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[o.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',a.stringValue,'",']}),o.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),o.jsxs("span",{className:"journal",style:{display:"inline"},children:[o.jsx("i",{children:g.stringValue}),","]}),o.jsxs("span",{className:"volume",style:{display:"inline"},children:[p.stringValue,","," "]}),o.jsxs("span",{className:"pages",style:{display:"inline"},children:[d.stringValue,","," "]}),o.jsxs("span",{className:"date",style:{display:"inline"},children:[f.stringValue,"-",w.stringValue,"-",y.stringValue,"-",h.stringValue,"-",c.stringValue]})]})}),o.jsx("hr",{})]},s)})})}),t&&o.jsx("div",{className:"w-100 my-3",children:o.jsx(re,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&o.jsx(Rn,{children:o.jsxs("title",{children:["Publications | ","Vision Intelligence Lab, IIT Ropar"]})})]})},yW=()=>{const t=ae(r=>r.getnews.data),[e,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{n(!0),await aC(),await BA(),await Yc(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gW,{}),o.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column p-4 container mt-4",children:[o.jsx("div",{className:"col-sm-8",children:o.jsx(OC,{ref_:!0})}),o.jsx("div",{className:"col-sm-4",children:o.jsxs("div",{className:"border d-flex flex-column mt-4",children:[o.jsx("div",{children:o.jsx("h3",{className:"py-2  px-4 bg-danger text-white",children:"Updates"})}),o.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:o.jsx("div",{className:"marquee_scroll ",children:o.jsx("div",{className:"text-secondary",children:o.jsx("ul",{style:{listStyle:"none"},children:t==null?void 0:t.map((r,i)=>{if(!(i>5))return o.jsxs("li",{children:[o.jsxs("strong",{className:"text-danger me-1",children:[i+1,"."]}),r==null?void 0:r.title,"-",r==null?void 0:r.datetime1,"-",r==null?void 0:r.description,"|"]},i)})})})})}),o.jsx("div",{children:o.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:o.jsx(re,{to:"#",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),o.jsx(vW,{})]})},wW=()=>o.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:o.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:o.jsxs("div",{className:"container py-4 p-3",children:[o.jsxs("div",{className:"row gy-4 gx-5",children:[o.jsxs("div",{className:"col-lg-4 col-md-6",children:[o.jsx("h5",{className:"h1 text-white",children:"Vision Intelligence Lab"}),o.jsx("p",{className:"small text-light",children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning."}),o.jsx("button",{className:"btn btn-danger",children:"More"})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Research"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Publications"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Projects"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Datasets"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Supervisor"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Ph.D."})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"PG and UG"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Interns and Visitors"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Alumni Students"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"About CVPR"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"IIT Ropar Website"})}),o.jsx("li",{children:o.jsx(re,{className:"link_footer",to:"/login",target:"_blank",children:"Administration Login"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Address"}),o.jsx("p",{className:"text-white",children:"Indian Institute of Technology Ropar (IIT Ropar), Rupnagar, Punjab, 140001"})]})]}),o.jsx("hr",{className:"text-white"}),o.jsxs("p",{className:"small text-light w-100 text-center",children:[" Copyrights. All rights reserved."," ",o.jsx("a",{className:"text-danger fw-bold",href:"#",children:"CVPR LAB"})]})]})})}),xW=()=>{const[t,e]=N.useState(!0),n=ae(a=>a.getsupervisors.data),r=ae(a=>a.getphdStudents.data),i=ae(a=>a.getpgugStudents.data),s=ae(a=>a.getvisitorsandinterns.data);return N.useEffect(()=>{(async()=>{e(!0),await Oo(),await Kw(),await oC(),await lC(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{children:o.jsxs("title",{children:["Peoples | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Supervisor",o.jsx("hr",{})]}),n==null?void 0:n.map((a,l)=>{var c,u,d,h,f,p,g,w,y,m,v,x,b,I,E,A,_,T;return o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[o.jsx("div",{className:"col-sm-2 py-2 pe-2",children:o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"",className:"rounded-1"})})}),o.jsxs("div",{className:"col-sm-10",children:[o.jsx("h2",{className:"fw-bold text-dark",children:(u=(c=a==null?void 0:a.data)==null?void 0:c.name)==null?void 0:u.stringValue}),o.jsxs("p",{className:"text-muted",children:[(h=(d=a==null?void 0:a.data)==null?void 0:d.email)==null?void 0:h.stringValue," | +91-",(p=(f=a==null?void 0:a.data)==null?void 0:f.phone)==null?void 0:p.stringValue," |"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(g=a==null?void 0:a.data)==null?void 0:g.googleScholarLink.stringValue,target:"_blank",children:["Google Scholar ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(y=(w=a==null?void 0:a.data)==null?void 0:w.researchGateLink)==null?void 0:y.stringValue,target:"_blank",children:["Researchgate ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(v=(m=a==null?void 0:a.data)==null?void 0:m.personalProfileLink)==null?void 0:v.stringValue,target:"_blank",children:["Personal Profile ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(b=(x=a==null?void 0:a.data)==null?void 0:x.otherLink)==null?void 0:b.stringValue,target:"_blank",children:["Other ",o.jsx("i",{className:"bx bx-link-external"})]}),o.jsx("br",{}),o.jsxs("a",{className:"btn btn-danger mt-3 btn-sm",href:"profile/"+a._id,target:"_blank",children:["Detailed Profile ",o.jsx("i",{className:"bx bx-link-external"})]})]}),o.jsx("hr",{}),o.jsx("h5",{children:"Research Interests"}),o.jsx("ul",{className:"d-flex flex-wrap",children:(A=(E=(I=a==null?void 0:a.data)==null?void 0:I.researchInterests)==null?void 0:E.stringValue)==null?void 0:A.split(",").map((S,k)=>o.jsx("li",{className:"mx-3",children:S},k))})]})]}),o.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[o.jsx("h3",{className:"fw-bold",children:"Introduction"}),o.jsx("hr",{}),o.jsx("p",{children:(T=(_=a==null?void 0:a.data)==null?void 0:_.introduction)==null?void 0:T.stringValue})]})]},l)}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((a,l)=>{var g,w;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p}=a==null?void 0:a.data;return d!=null&&d.booleanValue?null:o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:c==null?void 0:c.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:(w=(g=p==null?void 0:p.arrayValue)==null?void 0:g.values)==null?void 0:w.map(y=>y.stringValue+",")}),o.jsx("br",{}),o.jsx("button",{className:"btn btn-danger btn-sm my-2",children:"Profile"})]})]},l)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((a,l)=>{var g,w;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p}=a==null?void 0:a.data;return d!=null&&d.booleanValue?o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:c==null?void 0:c.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:(w=(g=p==null?void 0:p.arrayValue)==null?void 0:g.values)==null?void 0:w.map(y=>y.stringValue+",")}),o.jsx("br",{}),o.jsx("button",{className:"btn btn-danger btn-sm my-2",children:"Profile"})]})]},l):null})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(a=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=a==null?void 0:a.data;return u.booleanValue?null:o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:l==null?void 0:l.stringValue}),o.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),o.jsx("br",{}),o.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("hr",{}),o.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),o.jsx("br",{}),o.jsx("small",{children:"Currently Working at"}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),o.jsx("br",{})]})},a==null?void 0:a._id)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["PG and UG Alumnis",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(a=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=a==null?void 0:a.data;return u.booleanValue?o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:l==null?void 0:l.stringValue}),o.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),o.jsx("br",{}),o.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("hr",{}),o.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),o.jsx("br",{}),o.jsx("small",{children:"Currently Working at"}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),o.jsx("br",{})]})},a==null?void 0:a._id):null})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Vistors and Inters",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(a=>{const{name:l,collegeName:c}=a==null?void 0:a.data;return o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h4",{children:l==null?void 0:l.stringValue}),o.jsx("hr",{}),o.jsx("p",{className:"fw-bold text-dark",children:c==null?void 0:c.stringValue})]})},a==null?void 0:a._id)})})]})]})},bW=()=>{const t=ae(r=>{var i;return(i=r.getdatasets)==null?void 0:i.data}),[e,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{n(!0),await Do(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{children:o.jsxs("title",{children:["Datasets | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Datasets",o.jsx("hr",{})]}),t==null?void 0:t.map((r,i)=>o.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),r==null?void 0:r.title]}),o.jsx("p",{children:r==null?void 0:r.description}),o.jsx("img",{src:r==null?void 0:r.bannerURL,alt:"Banner Image",className:"rounded-3 border border-1 border-secondary"})]},i))]})]})},_W=()=>{const[t,e]=N.useState(!0),n=ae(i=>{var s;return(s=i.getresearcharea)==null?void 0:s.data}),r=ae(i=>i.getsubareas).data;return N.useEffect(()=>{(async()=>{e(!0),await Nf(),await Pf(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{children:o.jsxs("title",{children:["Research Areas | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Areas",o.jsx("hr",{})]}),n==null?void 0:n.map((i,s)=>{const a=(i==null?void 0:i.subareas)||[],l=r==null?void 0:r.filter(c=>a.some(u=>u.stringValue===(c==null?void 0:c._id)));return(s+1)%2!==0?o.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[o.jsx("div",{className:"col-sm-6 pe-3",children:o.jsx("img",{src:i==null?void 0:i.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),o.jsxs("div",{className:"col-sm-8=6",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[s+1,". "]}),i==null?void 0:i.title]}),o.jsxs("p",{children:[o.jsx("ul",{children:l==null?void 0:l.map((c,u)=>o.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&o.jsx(re,{to:"/research-areas/"+(i==null?void 0:i._id),children:o.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]})]},s):o.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-6",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[s+1,". "]}),i==null?void 0:i.title]}),o.jsxs("p",{children:[o.jsx("ul",{children:l==null?void 0:l.map((c,u)=>o.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&o.jsx(re,{to:"/research-areas/"+(i==null?void 0:i._id),children:o.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]}),o.jsx("div",{className:"col-sm-6 pe-3",children:o.jsx("img",{src:i==null?void 0:i.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},s)})]})]})},EW=()=>{const[t,e]=N.useState(!0),{id:n}=bo(),r=ae(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),i=ae(u=>u.getsubareas).data,s=ae(u=>{var d;return(d=u.getprojectitems)==null?void 0:d.data}),a=r.find(u=>u._id===n);a||(window.location.href="/research-areas");const l=(a==null?void 0:a.subareas)||[],c=i==null?void 0:i.filter(u=>l.some(d=>d.stringValue===(u==null?void 0:u._id)));return N.useEffect(()=>{(async()=>{e(!0),await Nf(),await Pf(),await aa(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{children:o.jsxs("title",{children:[a==null?void 0:a.title," | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsx("div",{className:"col-sm-12 text-start w-100",children:o.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[o.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[a==null?void 0:a.title,o.jsx("hr",{})]}),o.jsx("div",{className:"col-sm-12",children:o.jsx("div",{className:"card p-3",children:o.jsx("img",{src:a==null?void 0:a.bannerURL,alt:"Banner URL"})})}),o.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((u,d)=>{var h;return o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("h1",{children:[o.jsxs("strong",{className:"fw-bold text-danger",children:[d+1,". "]}),u==null?void 0:u.title]}),o.jsx("hr",{}),o.jsx("p",{children:u==null?void 0:u.description}),o.jsx("h3",{className:"fw-bold text-danger mb-3",children:"Related Projects"}),o.jsx("div",{className:"col-sm-12",children:(h=u==null?void 0:u.projects)==null?void 0:h.map((f,p)=>{const g=s==null?void 0:s.find(w=>(w==null?void 0:w._id)==(f==null?void 0:f.stringValue));return o.jsxs("div",{className:"card p-2 mb-4",children:[o.jsxs("h6",{children:[" ",o.jsxs("strong",{className:"fw-bold text-danger",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",o.jsx(re,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(re,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},d)})})]})]})},TW=()=>o.jsxs(o.Fragment,{children:[o.jsx(Rn,{children:o.jsxs("title",{children:["Contact | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"my-5 container",children:[o.jsxs("h1",{className:"fw-bold mb-4 text-danger text-center text-lg-start",children:["Contact Us",o.jsx("hr",{})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-sm-8",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"500px",style:{border:"none"},allowFullScreen:!0})}),o.jsxs("div",{className:"col-sm-4",id:"contact2",children:[o.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),o.jsx("hr",{className:"text-left w-50"}),o.jsx("h4",{className:"pt-2",children:"Address"}),o.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),"CVPR Lab, Department of Electrical Engineering, J.C.Block, IIT Ropar, Rupnagar, Punjab, 140001",o.jsx("br",{}),o.jsx("h4",{className:"pt-2",children:"Mobile"}),o.jsx("i",{className:"fas fa-phone",style:{color:"#000"}}),o.jsxs("a",{href:"tel:+91-3612583507",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[o.jsx("i",{className:"bx bxs-phone me-1"}),"+91-3612583507"]}),o.jsx("br",{}),o.jsx("h4",{className:"pt-2",children:"Email"}),o.jsx("i",{className:"fa fa-envelope",style:{color:"#000"}}),o.jsxs("a",{href:"mailto:visionintelligencelab@gmail.com",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[o.jsx("i",{className:"bx bx-envelope me-1"})," ","visionintelligencelab[at]gmail[dot]com"]}),o.jsx("br",{})]})]})]})]}),SW=()=>{const[t,e]=N.useState(!0),n=ae(s=>{var a;return(a=s.getprojectitems)==null?void 0:a.data}),r=ae(s=>{var a;return(a=s.getdatasets)==null?void 0:a.data}),i=ae(s=>{var a;return(a=s.getprojectsmain)==null?void 0:a.data});return N.useEffect(()=>{(async()=>{e(!0),Af(),aa(),Do(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{children:o.jsxs("title",{children:["Projects | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Projects",o.jsx("hr",{})]}),i==null?void 0:i.map((s,a)=>{var l,c,u,d,h,f,p,g,w,y,m,v,x;return o.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[a+1,". "]}),(l=s==null?void 0:s.title)==null?void 0:l.stringValue]}),o.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[o.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),o.jsx("td",{children:(c=s==null?void 0:s.funding_agency)==null?void 0:c.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(u=s==null?void 0:s.total_fund)==null?void 0:u.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),o.jsx("td",{children:(d=s==null?void 0:s.pis)==null?void 0:d.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),o.jsx("td",{children:(h=s==null?void 0:s.copis)==null?void 0:h.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(f=s==null?void 0:s.jrf_phd_scholar)==null?void 0:f.stringValue})]})]})})}),o.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[o.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),o.jsx("hr",{className:"mx-1 mt-0 mb-2"}),o.jsx("p",{className:"",children:(p=s==null?void 0:s.description)==null?void 0:p.stringValue}),o.jsxs("div",{className:"px-1 mb-3",children:[o.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(y=(w=(g=s==null?void 0:s.related_datasets)==null?void 0:g.arrayValue)==null?void 0:w.values)==null?void 0:y.map((b,I)=>{const E=r==null?void 0:r.find(A=>(A==null?void 0:A._id)==(b==null?void 0:b.stringValue));return o.jsxs("div",{children:[I+1,". ",E==null?void 0:E.title," (",o.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(E==null?void 0:E._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(E==null?void 0:E._id)+"Modal",tabIndex:-1,"aria-labelledby":(E==null?void 0:E._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(E==null?void 0:E._id)+"ModalLabel",children:E==null?void 0:E.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:E==null?void 0:E.description}),o.jsx("img",{className:"w-100",src:E==null?void 0:E.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I)})}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(x=(v=(m=s==null?void 0:s.related_projectitems)==null?void 0:m.arrayValue)==null?void 0:v.values)==null?void 0:x.map((b,I)=>{const E=n==null?void 0:n.find(A=>(A==null?void 0:A._id)==(b==null?void 0:b.stringValue));return o.jsxs("div",{children:[I+1,". ",E==null?void 0:E.title," (",o.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(E==null?void 0:E._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(E==null?void 0:E._id)+"Modal",tabIndex:-1,"aria-labelledby":(E==null?void 0:E._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(E==null?void 0:E._id)+"ModalLabel",children:[E==null?void 0:E.title,"("," ",o.jsx(re,{className:"btn-primary",style:{textDecoration:"none"},to:E==null?void 0:E.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(re,{to:E==null?void 0:E.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:E==null?void 0:E.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I)})})]})]})]})]},a)})]})]})},IW=()=>o.jsxs(o.Fragment,{children:[o.jsx(Rn,{children:o.jsxs("title",{children:["Welcome | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsx(F6,{}),o.jsxs(ry,{children:[o.jsx(De,{path:"/",element:o.jsx(yW,{})}),o.jsx(De,{path:"/peoples",element:o.jsx(xW,{})}),o.jsx(De,{path:"/datasets",element:o.jsx(bW,{})}),o.jsx(De,{path:"/projects",element:o.jsx(SW,{})}),o.jsx(De,{path:"/research-areas",element:o.jsx(_W,{})}),o.jsx(De,{path:"/research-areas/:id",element:o.jsx(EW,{})}),o.jsx(De,{path:"/publications",element:o.jsx(OC,{ref_:!1})}),o.jsx(De,{path:"/contact",element:o.jsx(TW,{})})]}),o.jsx(wW,{})]});var mE="__sak";function DC(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var NW=DC,rv=new Dr("auth","Firebase",DC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ka=new Ac("@firebase/auth");function PW(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ka.logLevel<=ve.WARN&&Ka.warn.apply(Ka,Yn(["Auth (".concat(Lr,"): ").concat(t)],e,!1))}function id(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ka.logLevel<=ve.ERROR&&Ka.error.apply(Ka,Yn(["Auth (".concat(Lr,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw Jw.apply(void 0,Yn([t],e,!1))}function Xw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Jw.apply(void 0,Yn([t],e,!1))}function AW(t,e,n){var r,i=Ue(Ue({},NW()),(r={},r[e]=n,r)),s=new Dr("auth","Firebase",i);return s.create(e,{appName:t.name})}function Jw(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var i=n[0],s=Yn([],n.slice(1),!0);return s[0]&&(s[0].appName=t.name),(e=t._errorFactory).create.apply(e,Yn([i],s,!1))}return rv.create.apply(rv,Yn([t],n,!1))}function ge(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw Jw.apply(void 0,Yn([e],n,!1))}function Qr(t){var e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function mo(t,e){t||Qr(e)}function CW(){return gE()==="http:"||gE()==="https:"}function gE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CW()||sy()||"connection"in navigator)?navigator.onLine:!0}function jW(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RW=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,mo(n>e,"Short delay should be less than long delay!"),this.isMobile=lI()||cI()}return t.prototype.get=function(){return kW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t,e){mo(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LC=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie,DW=(ie={},ie.CREDENTIAL_MISMATCH="custom-token-mismatch",ie.MISSING_CUSTOM_TOKEN="internal-error",ie.INVALID_IDENTIFIER="invalid-email",ie.MISSING_CONTINUE_URI="internal-error",ie.INVALID_PASSWORD="wrong-password",ie.MISSING_PASSWORD="missing-password",ie.INVALID_LOGIN_CREDENTIALS="invalid-credential",ie.EMAIL_EXISTS="email-already-in-use",ie.PASSWORD_LOGIN_DISABLED="operation-not-allowed",ie.INVALID_IDP_RESPONSE="invalid-credential",ie.INVALID_PENDING_TOKEN="invalid-credential",ie.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",ie.MISSING_REQ_TYPE="internal-error",ie.EMAIL_NOT_FOUND="user-not-found",ie.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",ie.EXPIRED_OOB_CODE="expired-action-code",ie.INVALID_OOB_CODE="invalid-action-code",ie.MISSING_OOB_CODE="internal-error",ie.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",ie.INVALID_ID_TOKEN="invalid-user-token",ie.TOKEN_EXPIRED="user-token-expired",ie.USER_NOT_FOUND="user-token-expired",ie.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",ie.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",ie.INVALID_CODE="invalid-verification-code",ie.INVALID_SESSION_INFO="invalid-verification-id",ie.INVALID_TEMPORARY_PROOF="invalid-credential",ie.MISSING_SESSION_INFO="missing-verification-id",ie.SESSION_EXPIRED="code-expired",ie.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",ie.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",ie.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",ie.ADMIN_ONLY_OPERATION="admin-restricted-operation",ie.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",ie.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",ie.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",ie.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",ie.SECOND_FACTOR_EXISTS="second-factor-already-in-use",ie.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",ie.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",ie.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",ie.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",ie.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",ie.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",ie.MISSING_CLIENT_TYPE="missing-client-type",ie.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",ie.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",ie.INVALID_REQ_TYPE="invalid-req-type",ie);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LW=new RW(3e4,6e4);function Vr(t,e){return t.tenantId&&!e.tenantId?Ue(Ue({},e),{tenantId:t.tenantId}):e}function oa(t,e,n,r,i){return i===void 0&&(i={}),B(this,void 0,void 0,function(){var s=this;return z(this,function(a){return[2,MC(t,i,function(){return B(s,void 0,void 0,function(){var l,c,u,d;return z(this,function(h){switch(h.label){case 0:return l={},c={},r&&(e==="GET"?c=r:l={body:JSON.stringify(r)}),u=rs(Ue({key:t.config.apiKey},c)).slice(1),[4,t._getAdditionalHeaders()];case 1:return d=h.sent(),d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),[2,LC.fetch()(VC(t,t.config.apiHost,n,u),Ue({method:e,headers:d,referrerPolicy:"no-referrer"},l))]}})})})]})})}function MC(t,e,n){return B(this,void 0,void 0,function(){var r,i,s,a,l,c,u,d,h,f;return z(this,function(p){switch(p.label){case 0:t._canInitEmulator=!1,r=Ue(Ue({},DW),e),p.label=1;case 1:return p.trys.push([1,4,,5]),i=new VW(t),[4,Promise.race([n(),i.promise])];case 2:return s=p.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(a=p.sent(),"needConfirmation"in a)throw fl(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return[2,a];if(l=s.ok?a.errorMessage:a.error.message,c=l.split(" : "),u=c[0],d=c[1],u==="FEDERATED_USER_ID_ALREADY_LINKED")throw fl(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw fl(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw fl(t,"user-disabled",a);if(h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-"),d)throw AW(t,h,d);return li(t,h),[3,5];case 4:if(f=p.sent(),f instanceof rn)throw f;return li(t,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function la(t,e,n,r,i){return i===void 0&&(i={}),B(this,void 0,void 0,function(){var s;return z(this,function(a){switch(a.label){case 0:return[4,oa(t,e,n,r,i)];case 1:return s=a.sent(),"mfaPendingCredential"in s&&li(t,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function VC(t,e,n,r){var i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?OW(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function MW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var VW=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(Xw(n.auth,"network-request-failed"))},LW.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function fl(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Xw(t,e,r);return i.customData._tokenResponse=n,i}function vE(t){return t!==void 0&&t.enterprise!==void 0}var FW=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===e)return MW(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function UW(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,oa(t,"GET","/v2/recaptchaConfig",Vr(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,oa(t,"POST","/v1/accounts:delete",e)]})})}function BW(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,oa(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zW(t,e){return e===void 0&&(e=!1),B(this,void 0,void 0,function(){var n,r,i,s,a;return z(this,function(l){switch(l.label){case 0:return n=Le(t),[4,n.getIdToken(e)];case 1:return r=l.sent(),i=Zw(r),ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:Ol(qp(i.auth_time)),issuedAtTime:Ol(qp(i.iat)),expirationTime:Ol(qp(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function qp(t){return Number(t)*1e3}function Zw(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(n===void 0||r===void 0||i===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{var s=iy(r);return s?JSON.parse(s):(id("Failed to decode base64 JWT payload"),null)}catch(a){return id("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function HW(t){var e=Zw(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(i.label){case 0:if(n)return[2,e];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,e];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof rn&&WW(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function WW(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qW=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return B(n,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return B(this,void 0,void 0,function(){var e;return z(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FC=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){var e;return B(this,void 0,void 0,function(){var n,r,i,s,a,l,c,u,d,h;return z(this,function(f){switch(f.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=f.sent(),[4,bc(t,BW(n,{idToken:r}))];case 2:return i=f.sent(),ge(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],t._notifyReloadListener(s),a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YW(s.providerUserInfo):[],l=KW(t.providerData,a),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new FC(s.createdAt,s.lastLoginAt),isAnonymous:d},Object.assign(t,h),[2]}})})}function GW(t){return B(this,void 0,void 0,function(){var e;return z(this,function(n){switch(n.label){case 0:return e=Le(t),[4,gh(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function KW(t,e){var n=t.filter(function(r){return!e.some(function(i){return i.providerId===r.providerId})});return Yn(Yn([],n,!0),e,!0)}function YW(t){return t.map(function(e){var n=e.providerId,r=ko(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t,e){return B(this,void 0,void 0,function(){var n,r=this;return z(this,function(i){switch(i.label){case 0:return[4,MC(t,{},function(){return B(r,void 0,void 0,function(){var s,a,l,c,u,d;return z(this,function(h){switch(h.label){case 0:return s=rs({grant_type:"refresh_token",refresh_token:e}).slice(1),a=t.config,l=a.tokenApiHost,c=a.apiKey,u=VC(t,l,"/v1/token","key=".concat(c)),[4,t._getAdditionalHeaders()];case 1:return d=h.sent(),d["Content-Type"]="application/x-www-form-urlencoded",[2,LC.fetch()(u,{method:"POST",headers:d,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function XW(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,oa(t,"POST","/v2/accounts:revokeToken",Vr(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yE=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HW(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return B(this,void 0,void 0,function(){var r,i,s,a;return z(this,function(l){switch(l.label){case 0:return[4,QW(e,n)];case 1:return r=l.sent(),i=r.accessToken,s=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(a)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,a=new t;return r&&(ge(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return Qr("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var iv=function(){function t(e){var n=e.uid,r=e.auth,i=e.stsTokenManager,s=ko(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?Yn([],s.providerData,!0):[],this.metadata=new FC(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return[4,bc(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),ge(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return zW(this,e)},t.prototype.reload=function(){return GW(this)},t.prototype._assign=function(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return Ue({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(Ue(Ue({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(i.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,gh(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return B(this,void 0,void 0,function(){var e;return z(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return e=n.sent(),[4,bc(this,$W(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return Ue(Ue({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Ue({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,i,s,a,l,c,u,d,h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,x=n.uid,b=n.emailVerified,I=n.isAnonymous,E=n.providerData,A=n.stsTokenManager;ge(x&&A,e,"internal-error");var _=yE.fromJSON(this.name,A);ge(typeof x=="string",e,"internal-error"),mi(h,e.name),mi(f,e.name),ge(typeof b=="boolean",e,"internal-error"),ge(typeof I=="boolean",e,"internal-error"),mi(p,e.name),mi(g,e.name),mi(w,e.name),mi(y,e.name),mi(m,e.name),mi(v,e.name);var T=new t({uid:x,auth:e,email:f,emailVerified:b,displayName:h,isAnonymous:I,photoURL:g,phoneNumber:p,tenantId:w,stsTokenManager:_,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map(function(S){return Ue({},S)})),y&&(T._redirectEventId=y),T},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),B(this,void 0,void 0,function(){var i,s;return z(this,function(a){switch(a.label){case 0:return i=new yE,i.updateFromServerResponse(n),s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r}),[4,gh(s)];case 1:return a.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wE=new Map;function ji(t){mo(t instanceof Function,"Expected a class definition");var e=wE.get(t);return e?(mo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JW=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return B(this,void 0,void 0,function(){return z(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return B(this,void 0,void 0,function(){return z(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return B(this,void 0,void 0,function(){return z(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),xE=JW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var bE=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,a=i.name;this.fullUserKey=sd(this.userKey,s.apiKey,a),this.fullPersistenceKey=sd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return B(this,void 0,void 0,function(){var e;return z(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?iv._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),B(this,void 0,void 0,function(){var i,s,a,l,c,u,d,h,f,p,g=this;return z(this,function(w){switch(w.label){case 0:return n.length?[4,Promise.all(n.map(function(y){return B(g,void 0,void 0,function(){return z(this,function(m){switch(m.label){case 0:return[4,y._isAvailable()];case 1:return m.sent()?[2,y]:[2,void 0]}})})}))]:[2,new t(ji(xE),e,r)];case 1:i=w.sent().filter(function(y){return y}),s=i[0]||ji(xE),a=sd(r,e.config.apiKey,e.name),l=null,c=0,u=n,w.label=2;case 2:if(!(c<u.length))return[3,7];d=u[c],w.label=3;case 3:return w.trys.push([3,5,,6]),[4,d._get(a)];case 4:return h=w.sent(),h?(f=iv._fromJSON(e,h),d!==s&&(l=f),s=d,[3,7]):[3,6];case 5:return w.sent(),[3,6];case 6:return c++,[3,2];case 7:return p=i.filter(function(y){return y._shouldAllowMigration}),!s._shouldAllowMigration||!p.length?[2,new t(s,e,r)]:(s=p[0],l?[4,s._set(a,l.toJSON())]:[3,9]);case 8:w.sent(),w.label=9;case 9:return[4,Promise.all(n.map(function(y){return B(g,void 0,void 0,function(){return z(this,function(m){switch(m.label){case 0:if(y===s)return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,y._remove(a)];case 2:return m.sent(),[3,4];case 3:return m.sent(),[3,4];case 4:return[2]}})})}))];case 10:return w.sent(),[2,new t(s,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($C(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zC(e))return"Blackberry";if(HC(e))return"Webos";if(UC(e))return"Safari";if((e.includes("chrome/")||eq(e))&&!e.includes("edge/"))return"Chrome";if(BC(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function ZW(t){return t===void 0&&(t=Ne()),/firefox\//i.test(t)}function UC(t){t===void 0&&(t=Ne());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eq(t){return t===void 0&&(t=Ne()),/crios\//i.test(t)}function $C(t){return t===void 0&&(t=Ne()),/iemobile/i.test(t)}function BC(t){return t===void 0&&(t=Ne()),/android/i.test(t)}function zC(t){return t===void 0&&(t=Ne()),/blackberry/i.test(t)}function HC(t){return t===void 0&&(t=Ne()),/webos/i.test(t)}function WC(t){return t===void 0&&(t=Ne()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tq(){return uI()&&document.documentMode===10}function nq(t){return t===void 0&&(t=Ne()),WC(t)||BC(t)||HC(t)||zC(t)||/windows phone/i.test(t)||$C(t)}function rq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=_E(Ne());break;case"Worker":n="".concat(_E(Ne()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Lr,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iq=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,i=function(a){return new Promise(function(l,c){try{var u=e(a);l(u)}catch(d){c(d)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return B(this,void 0,void 0,function(){var n,r,i,s,a,l,c,u;return z(this,function(d){switch(d.label){case 0:if(this.auth.currentUser===e)return[2];n=[],d.label=1;case 1:d.trys.push([1,6,,7]),r=0,i=this.queue,d.label=2;case 2:return r<i.length?(s=i[r],[4,s(e)]):[3,5];case 3:d.sent(),s.onAbort&&n.push(s.onAbort),d.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(a=d.sent(),n.reverse(),l=0,c=n;l<c.length;l++){u=c[l];try{u()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(t,e){return e===void 0&&(e={}),B(this,void 0,void 0,function(){return z(this,function(n){return[2,oa(t,"GET","/v2/passwordPolicy",Vr(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aq=6,oq=function(){function t(e){var n,r,i,s,a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:aq,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,i,s,a,l,c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lq=function(){function t(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new iq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(function(){return B(r,void 0,void 0,function(){var i,s,a;return z(this,function(l){switch(l.label){case 0:return this._deleted?[2]:(i=this,[4,bE.create(this,e)]);case 1:if(i.persistenceManager=l.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return l.sent(),[3,5];case 4:return l.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return l.sent(),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return B(this,void 0,void 0,function(){var e;return z(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return B(this,void 0,void 0,function(){var r,i,s,a,l,c,u;return z(this,function(d){switch(d.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=d.sent(),i=r,s=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return d.sent(),a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:c=d.sent(),(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0),d.label=4;case 4:if(!i)return[2,this.directlySetCurrentUser(null)];if(i._redirectEventId)return[3,9];if(!s)return[3,8];d.label=5;case 5:return d.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(i)];case 6:return d.sent(),[3,8];case 7:return u=d.sent(),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(u)}),[3,8];case 8:return i?[2,this.reloadAndSetCurrentUserOrClear(i)]:[2,this.directlySetCurrentUser(null)];case 9:return ge(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return d.sent(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?[2,this.directlySetCurrentUser(i)]:[2,this.reloadAndSetCurrentUserOrClear(i)]}})})},t.prototype.tryRedirectSignIn=function(e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,gh(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=jW()},t.prototype._delete=function(){return B(this,void 0,void 0,function(){return z(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){return n=e?Le(e):null,n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r=this;return z(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return B(r,void 0,void 0,function(){return z(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return B(this,void 0,void 0,function(){return z(this,function(e){switch(e.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return this.queue(function(){return B(n,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(ji(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return B(this,void 0,void 0,function(){var e,n;return z(this,function(r){switch(r.label){case 0:return[4,sq(this)];case 1:return e=r.sent(),n=new oq(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new Dr("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var i=e.onAuthStateChanged(function(){i(),n()},r)})},t.prototype.revokeAccessToken=function(e){return B(this,void 0,void 0,function(){var n,r;return z(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,XW(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return B(this,void 0,void 0,function(){var n,r,i;return z(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&ji(e)||this._popupRedirectResolver,ge(n,this,"argument-error"),r=this,[4,bE.create(this,[ji(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return B(this,void 0,void 0,function(){var i=this;return z(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return B(i,void 0,void 0,function(){return z(this,function(a){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return B(this,void 0,void 0,function(){var n=this;return z(this,function(r){return e===this.currentUser?[2,this.queue(function(){return B(n,void 0,void 0,function(){return z(this,function(i){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,i){var s=this;if(this._deleted)return function(){};var a=typeof n=="function"?n:n.next.bind(n),l=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(c,this,"internal-error"),c.then(function(){l||a(s.currentUser)}),typeof n=="function"){var u=e.addObserver(n,r,i);return function(){l=!0,u()}}else{var d=e.addObserver(n);return function(){l=!0,d()}}},t.prototype.directlySetCurrentUser=function(e){return B(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qC(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return B(this,void 0,void 0,function(){var n,r,i,s;return z(this,function(a){switch(a.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=a.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=a.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&PW("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function GC(t){return Le(t)}var EE=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=hI(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KC={loadJS:function(){return B(this,void 0,void 0,function(){return z(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cq(t){return KC.loadJS(t)}function uq(){return KC.recaptchaEnterpriseScript}var dq="recaptcha-enterprise",hq="NO_RECAPTCHA",fq=function(){function t(e){this.type=dq,this.auth=GC(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),B(this,void 0,void 0,function(){function r(a){return B(this,void 0,void 0,function(){var l=this;return z(this,function(c){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return[2,a._agentRecaptchaConfig.siteKey];if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return[2,a._tenantRecaptchaConfigs[a.tenantId].siteKey]}return[2,new Promise(function(u,d){return B(l,void 0,void 0,function(){return z(this,function(h){return UW(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{var p=new FW(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(function(f){d(f)}),[2]})})})]})})}function i(a,l,c){var u=window.grecaptcha;vE(u)?u.enterprise.ready(function(){u.enterprise.execute(a,{action:e}).then(function(d){l(d)}).catch(function(){l(hq)})}):c(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return z(this,function(a){return[2,new Promise(function(l,c){r(s.auth).then(function(u){if(!n&&vE(window.grecaptcha))i(u,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}var d=uq();d.length!==0&&(d+=u),cq(d).then(function(){i(u,l,c)}).catch(function(h){c(h)})}}).catch(function(u){c(u)})})]})})},t}();function TE(t,e,n,r){return r===void 0&&(r=!1),B(this,void 0,void 0,function(){var i,s,a;return z(this,function(l){switch(l.label){case 0:i=new fq(t),l.label=1;case 1:return l.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=l.sent(),[3,5];case 3:return l.sent(),[4,i.verify(n,!0)];case 4:return s=l.sent(),[3,5];case 5:return a=Ue({},e),r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,a]}})})}function SE(t,e,n,r){var i;return B(this,void 0,void 0,function(){var s,a=this;return z(this,function(l){switch(l.label){case 0:return!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,TE(t,e,n,n==="getOobCode")]:[3,2];case 1:return s=l.sent(),[2,r(t,s)];case 2:return[2,r(t,e).catch(function(c){return B(a,void 0,void 0,function(){var u;return z(this,function(d){switch(d.label){case 0:return c.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,TE(t,e,n,n==="getOobCode")]);case 1:return u=d.sent(),[2,r(t,u)];case 2:return[2,Promise.reject(c)]}})})})]}})})}function pq(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ji);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xc=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return Qr("not implemented")},t.prototype._getIdTokenResponse=function(e){return Qr("not implemented")},t.prototype._linkToIdToken=function(e,n){return Qr("not implemented")},t.prototype._getReauthenticationResolver=function(e){return Qr("not implemented")},t}();function mq(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,oa(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,la(t,"POST","/v1/accounts:signInWithPassword",Vr(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,la(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))]})})}function yq(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,la(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Xe(e,t);function e(n,r,i,s){s===void 0&&(s=null);var a=t.call(this,"password",i)||this;return a._email=n,a._password=r,a._tenantId=s,a}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new e(n,r,"emailLink",i)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,SE(n,r,"signInWithPassword",gq)];case"emailLink":return[2,vq(n,{email:this._email,oobCode:this._password})];default:li(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return B(this,void 0,void 0,function(){var i;return z(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,SE(n,i,"signUpPassword",mq)];case"emailLink":return[2,yq(n,{idToken:r,email:this._email,oobCode:this._password})];default:li(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e})(Xc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,la(t,"POST","/v1/accounts:signInWithIdp",Vr(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wq="http://localhost",go=function(t){Xe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):li("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,a=ko(r,["providerId","signInMethod"]);if(!i||!s)return null;var l=new e(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Zr(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Zr(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Zr(n,r)},e.prototype.buildRequest=function(){var n={requestUri:wq,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=rs(r)}return n},e}(Xc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gp;function xq(t,e){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,la(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,e))]})})}function bq(t,e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return[4,la(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw fl(t,"account-exists-with-different-credential",n);return[2,n]}})})}var _q=(Gp={},Gp.USER_NOT_FOUND="user-not-found",Gp);function Eq(t,e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){return n=Ue(Ue({},e),{operation:"REAUTH"}),[2,la(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,n),_q)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Xe(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return xq(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return bq(n,Ue({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return Eq(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,a=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:a}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,a=r.phoneNumber,l=r.temporaryProof;return!s&&!i&&!a&&!l?null:new e({verificationId:i,verificationCode:s,phoneNumber:a,temporaryProof:l})},e})(Xc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YC=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jc=function(t){Xe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return Yn([],this.scopes,!0)},e}(YC);(function(t){Xe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return ge("providerId"in r&&"signInMethod"in r,"argument-error"),go._fromParams(r)},e.prototype.credential=function(n){return this._credential(Ue(Ue({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return ge(n.idToken||n.accessToken,"argument-error"),go._fromParams(Ue(Ue({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,a=i.oauthAccessToken,l=i.oauthTokenSecret,c=i.pendingToken,u=i.nonce,d=i.providerId;if(!a&&!l&&!s&&!c||!d)return null;try{return new e(d)._credential({idToken:s,accessToken:a,nonce:u,pendingToken:c})}catch{return null}},e})(Jc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Xe(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return go._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(Jc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tq=function(t){Xe(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return go._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,a=i.oauthAccessToken;if(!s&&!a)return null;try{return e.credential(s,a)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e}(Jc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Xe(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return go._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(Jc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sq="http://localhost",IE=function(t){Xe(e,t);function e(n,r){var i=t.call(this,n,n)||this;return i.pendingToken=r,i}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Zr(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Zr(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Zr(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,a=r.pendingToken;return!i||!s||!a||i!==s?null:new e(i,a)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:Sq,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(Xc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iq="saml.";(function(t){Xe(e,t);function e(n){return ge(n.startsWith(Iq),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=IE.fromJSON(n);return ge(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,a=i.providerId;if(!s||!a)return null;try{return IE._create(a,s)}catch{return null}},e})(YC);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Xe(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return go._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,a=i.oauthTokenSecret;if(!s||!a)return null;try{return e.credential(s,a)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(Jc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e0=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,i){return i===void 0&&(i=!1),B(this,void 0,void 0,function(){var s,a,l;return z(this,function(c){switch(c.label){case 0:return[4,iv._fromIdTokenResponse(e,r,i)];case 1:return s=c.sent(),a=NE(r),l=new t({user:s,providerId:a,_tokenResponse:r,operationType:n}),[2,l]}})})},t._forOperation=function(e,n,r){return B(this,void 0,void 0,function(){var i;return z(this,function(s){switch(s.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=NE(r),[2,new t({user:e,providerId:i,_tokenResponse:r,operationType:n})]}})})},t}();function NE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nq=function(t){Xe(e,t);function e(n,r,i,s){var a=this,l;return a=t.call(this,r.code,r.message)||this,a.operationType=i,a.user=s,Object.setPrototypeOf(a,e.prototype),a.customData={appName:n.name,tenantId:(l=n.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return e._fromErrorAndOperation=function(n,r,i,s){return new e(n,r,i,s)},e}(rn);function QC(t,e,n,r){var i=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?Nq._fromErrorAndOperation(t,s,e,r):s})}function Pq(t,e,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r,i,s,a,l,c;return z(this,function(u){switch(u.label){case 0:return i=bc,s=[t],l=(a=e)._linkToIdToken,c=[t.auth],[4,t.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([l.apply(a,c.concat([u.sent()])),n]))];case 2:return r=u.sent(),[2,e0._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t,e,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r,i,s,a,l,c;return z(this,function(u){switch(u.label){case 0:r=t.auth,i="reauthenticate",u.label=1;case 1:return u.trys.push([1,3,,4]),[4,bc(t,QC(r,i,e,t),n)];case 2:return s=u.sent(),ge(s.idToken,r,"internal-error"),a=Zw(s.idToken),ge(a,r,"internal-error"),l=a.sub,ge(t.uid===l,r,"user-mismatch"),[2,e0._forOperation(t,i,s)];case 3:throw c=u.sent(),(c==null?void 0:c.code)==="auth/".concat("user-not-found")&&li(r,"user-mismatch"),c;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t,e,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r,i,s;return z(this,function(a){switch(a.label){case 0:return r="signIn",[4,QC(t,r,e)];case 1:return i=a.sent(),[4,e0._fromIdTokenResponse(t,r,i)];case 2:return s=a.sent(),n?[3,4]:[4,t._updateCurrentUser(s.user)];case 3:a.sent(),a.label=4;case 4:return[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XC=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?kq._fromServerResponse(e,n):"totpInfo"in n?jq._fromServerResponse(e,n):li(e,"internal-error")},t}(),kq=function(t){Xe(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(XC),jq=function(t){Xe(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(XC),t0=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),JC=function(t){Xe(e,t);function e(n,r,i,s){var a=t.call(this,n,r,i)||this;return a.username=s,a}return e}(t0);(function(t){Xe(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(t0);(function(t){Xe(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(JC);(function(t){Xe(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(t0);(function(t){Xe(e,t);function e(n,r,i){return t.call(this,n,"twitter.com",r,i)||this}return e})(JC);var PE="@firebase/auth",AE="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rq=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dq(t){Cn(new vn("auth",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),l=i.options,c=l.apiKey,u=l.authDomain;ge(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});var d={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qC(t)},h=new lq(i,s,a,d);return pq(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider("auth-internal");i.initialize()})),Cn(new vn("auth-internal",function(e){var n=GC(e.getProvider("auth").getImmediate());return function(r){return new Rq(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zt(PE,AE,Oq(t)),zt(PE,AE,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZC=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(mE,"1"),this.storage.removeItem(mE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(){var t=Ne();return UC(t)||WC(t)}var Mq=1e3,Vq=10;(function(t){Xe(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,i){return n.onStorageEvent(r,i)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=Lq()&&rq(),n.fallbackToPolling=nq(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,i=Object.keys(this.listeners);r<i.length;r++){var s=i[r],a=this.storage.getItem(s),l=this.localCache[s];a!==l&&n(s,l,a)}},e.prototype.onStorageEvent=function(n,r){var i=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(u,d,h){i.notifyListeners(u,h)});return}var s=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(s);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(s,n.newValue):this.storage.removeItem(s);else if(this.localCache[s]===n.newValue&&!r)return}var l=function(){var u=i.storage.getItem(s);!r&&i.localCache[s]===u||i.notifyListeners(s,u)},c=this.storage.getItem(s);tq()&&c!==n.newValue&&n.newValue!==n.oldValue?setTimeout(l,Vq):l()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var i=this.listeners[n];if(i)for(var s=0,a=Array.from(i);s<a.length;s++){var l=a[s];l(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,i,s){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:i,newValue:s}),!0)})},Mq)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return B(this,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return i.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(i.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=i.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return B(this,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(ZC);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Xe(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(ZC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n0=function(t){Xe(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Zr(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Zr(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Zr(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(Xc);function Fq(t){return Cq(t.auth,new n0(t),t.bypassAuthState)}function Uq(t){var e=t.auth,n=t.user;return ge(n,e,"internal-error"),Aq(n,new n0(t),t.bypassAuthState)}function $q(t){return B(this,void 0,void 0,function(){var e,n;return z(this,function(r){return e=t.auth,n=t.user,ge(n,e,"internal-error"),[2,Pq(n,new n0(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bq=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return B(e,void 0,void 0,function(){var i,s;return z(this,function(a){switch(a.label){case 0:this.pendingPromise={resolve:n,reject:r},a.label=1;case 1:return a.trys.push([1,4,,5]),i=this,[4,this.resolver._initialize(this.auth)];case 2:return i.eventManager=a.sent(),[4,this.onExecution()];case 3:return a.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return s=a.sent(),this.reject(s),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return B(this,void 0,void 0,function(){var n,r,i,s,a,l,c,u,d;return z(this,function(h){switch(h.label){case 0:if(n=e.urlResponse,r=e.sessionId,i=e.postBody,s=e.tenantId,a=e.error,l=e.type,a)return this.reject(a),[2];c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},h.label=1;case 1:return h.trys.push([1,3,,4]),u=this.resolve,[4,this.getIdpTask(l)(c)];case 2:return u.apply(this,[h.sent()]),[3,4];case 3:return d=h.sent(),this.reject(d),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fq;case"linkViaPopup":case"linkViaRedirect":return $q;case"reauthViaPopup":case"reauthViaRedirect":return Uq;default:li(this.auth,"internal-error")}},t.prototype.resolve=function(e){mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){mo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zq="pendingRedirect",Kp=new Map;(function(t){Xe(e,t);function e(n,r,i){i===void 0&&(i=!1);var s=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)||this;return s.eventId=null,s}return e.prototype.execute=function(){return B(this,void 0,void 0,function(){var n,r,i,s,a;return z(this,function(l){switch(l.label){case 0:if(n=Kp.get(this.auth._key()),n)return[3,8];l.label=1;case 1:return l.trys.push([1,6,,7]),[4,Hq(this.resolver,this.auth)];case 2:return r=l.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return s=l.sent(),[3,5];case 4:s=null,l.label=5;case 5:return i=s,n=function(){return Promise.resolve(i)},[3,7];case 6:return a=l.sent(),n=function(){return Promise.reject(a)},[3,7];case 7:Kp.set(this.auth._key(),n),l.label=8;case 8:return this.bypassAuthState||Kp.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(i.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=i.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),i.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return B(this,void 0,void 0,function(){return z(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(Bq);function Hq(t,e){return B(this,void 0,void 0,function(){var n,r,i;return z(this,function(s){switch(s.label){case 0:return n=qq(e),r=Wq(t),[4,r._isAvailable()];case 1:return s.sent()?[4,r._get(n)]:[2,!1];case 2:return i=s.sent()==="true",[4,r._remove(n)];case 3:return s.sent(),[2,i]}})})}function Wq(t){return ji(t._redirectPersistence)}function qq(t){return sd(zq,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gq=10*60*1e3,Kq=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(i){n.isEventForConsumer(e,i)&&(r=!0,n.sendToConsumer(e,i),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yq(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!ek(e)){var i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xw(this.auth,i))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=Gq&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(CE(e)),this.lastProcessedEventTime=Date.now()},t}();function CE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function ek(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function Yq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ek(t);default:return!1}}(function(t){Xe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return B(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(Kq);Dq("Cordova");const Qq=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[a,l]=N.useState(!1),[c,u]=N.useState(!1),d=async p=>{p.preventDefault(),l(!0),u(!1);try{await W4(Ns,t,i),window.location.href="/#/dashboard"}catch(g){console.log(g),u(!0)}l(!1)},h=async()=>{l(!0);const p=new Tq;p.addScope("https://www.googleapis.com/auth/contacts.readonly"),Ns.languageCode="it",p.setCustomParameters({login_hint:"user@example.com"}),g3(Ns,p).then(()=>{window.location.href="/#/dashboard"}).catch(g=>{alert(`Error While Login with goole! ${JSON.stringify(g)}`)}),l(!1)},f=()=>{if(l(!0),!n){alert("Email should not be empty!");return}H4(Ns,n).then(()=>{alert("Password reset email sent!"),window.close()}).catch(p=>{console.error("Error sending password reset email:",p)}),l(!1)};return o.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[o.jsxs("form",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[o.jsx("h1",{className:"w-100 text-center",children:"Admin Login"}),c&&o.jsx("div",{className:"alert alert-danger p-2",role:"alert",children:"Error signing in. Please check your credentials and try again."}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:p=>e(p.target.value),disabled:a})]}),o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:p=>s(p.target.value),disabled:a})]}),o.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[o.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forget Password"}),o.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forget Pasword"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:p=>r(p.target.value),placeholder:"ie. user@gmail.com"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-danger",onClick:f,disabled:a,children:a?"Please Wait..":"Send"})]})]})})})]}),o.jsx("button",{onClick:d,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:a,children:a?"Please Wait..":"Submit"}),o.jsx("hr",{}),o.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2",onClick:h,disabled:!0,children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]})]}),o.jsx(Rn,{children:o.jsxs("title",{children:["Login | ","Vision Intelligence Lab, IIT Ropar"]})})]})},Xq=()=>{const{pathname:t}=Pc();return N.useEffect(()=>{window.scrollTo(0,0)},[t]),null},Jq=()=>{var d,h,f,p,g,w,y,m,v,x,b,I,E,A,_,T,S,k,D,P;const{id:t}=bo(),[e,n]=N.useState(!0),i=ae(C=>C.getsupervisors.data).filter(C=>C._id==t)[0],s=ae(C=>C.getpublications.data),a=ae(C=>{var M;return(M=C.getprojectitems)==null?void 0:M.data}),l=ae(C=>{var M;return(M=C.getdatasets)==null?void 0:M.data}),c=ae(C=>{var M;return(M=C.getprojectsmain)==null?void 0:M.data}),u=ae(C=>C.getphdStudents.data);return N.useEffect(()=>{(async()=>{n(!0),await Oo(),await Yc(),await Kw(),await Af(),await Do(),await aa(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{children:o.jsxs("title",{children:[(h=(d=i==null?void 0:i.data)==null?void 0:d.name)==null?void 0:h.stringValue," |"," ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[(p=(f=i==null?void 0:i.data)==null?void 0:f.name)==null?void 0:p.stringValue,o.jsx("hr",{})]}),o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[o.jsx("div",{className:"col-sm-2 py-2 pe-2",children:o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:i==null?void 0:i.profileImage,alt:"",className:"rounded-1"})})}),o.jsxs("div",{className:"col-sm-10",children:[o.jsxs("p",{className:"text-muted",children:[o.jsxs("div",{className:"my-3",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",(w=(g=i==null?void 0:i.data)==null?void 0:g.email)==null?void 0:w.stringValue]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Mobile:"})," +91-",(m=(y=i==null?void 0:i.data)==null?void 0:y.phone)==null?void 0:m.stringValue]})]}),o.jsxs("a",{style:{textDecoration:"none"},href:(v=i==null?void 0:i.data)==null?void 0:v.googleScholarLink.stringValue,target:"_blank",children:["Google Scholar ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(b=(x=i==null?void 0:i.data)==null?void 0:x.researchGateLink)==null?void 0:b.stringValue,target:"_blank",children:["Researchgate ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(E=(I=i==null?void 0:i.data)==null?void 0:I.personalProfileLink)==null?void 0:E.stringValue,target:"_blank",children:["Personal Profile ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(_=(A=i==null?void 0:i.data)==null?void 0:A.otherLink)==null?void 0:_.stringValue,target:"_blank",children:["Other ",o.jsx("i",{className:"bx bx-link-external"})]})]}),o.jsx("hr",{}),o.jsx("h5",{children:"Research Interests"}),o.jsx("ul",{className:"",children:(k=(S=(T=i==null?void 0:i.data)==null?void 0:T.researchInterests)==null?void 0:S.stringValue)==null?void 0:k.split(",").map((C,M)=>o.jsx("li",{className:"mx-3",children:C},M))})]})]}),o.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[o.jsx("h3",{className:"fw-bold",children:"Introduction"}),o.jsx("hr",{}),o.jsx("p",{children:(P=(D=i==null?void 0:i.data)==null?void 0:D.introduction)==null?void 0:P.stringValue})]})]}),o.jsx("div",{className:"card p-3 mb-4",children:o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[o.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Publications"}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("ul",{style:{height:"fit-content",overflow:"hidden"},children:s==null?void 0:s.map((C,M)=>{var J,me;const{paperTitle:H,author:O,impact:R,link:L,pages:F,publisher:G,publicationDate:j,volume:W,journalName:Z,paperType:te,isbn:oe,users:fe}=C==null?void 0:C.data;if((me=(J=fe==null?void 0:fe.arrayValue)==null?void 0:J.values)!=null&&me.filter(q=>{var Ee,Se;return q.stringValue==((Se=(Ee=i==null?void 0:i.data)==null?void 0:Ee.name)==null?void 0:Se.stringValue)})[0])return o.jsxs("li",{children:[o.jsx("p",{children:o.jsxs("cite",{children:[o.jsxs("span",{className:"author",children:[O==null?void 0:O.stringValue,","]}),o.jsxs("a",{href:`https://doi.org/${L.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[o.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',H.stringValue,'",']}),o.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),o.jsxs("span",{className:"journal",style:{display:"inline"},children:[o.jsx("i",{children:Z.stringValue}),","]}),o.jsxs("span",{className:"volume",style:{display:"inline"},children:[W.stringValue,","," "]}),o.jsxs("span",{className:"pages",style:{display:"inline"},children:[F.stringValue,","," "]}),o.jsxs("span",{className:"date",style:{display:"inline"},children:[j.stringValue,"-",te.stringValue,"-",oe.stringValue,"-",G.stringValue,"-",R.stringValue]})]})}),o.jsx("hr",{})]},M)})})})]})}),o.jsx("div",{className:"card p-3 mb-4",children:o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[o.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),o.jsx("hr",{}),o.jsx("div",{className:"accordion",id:"accordionExample",children:c==null?void 0:c.map((C,M)=>{var H,O,R,L,F,G,j,W,Z,te,oe,fe,Re;return o.jsxs("div",{className:"accordion-item",children:[o.jsx("h1",{className:"accordion-header",id:"heading"+M,children:o.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+M,"aria-expanded":"true","aria-controls":"collapse"+M,children:o.jsxs("h5",{children:[o.jsxs("strong",{className:"text-danger",children:[M+1,". "]}),(H=C==null?void 0:C.title)==null?void 0:H.stringValue]})})}),o.jsx("div",{id:"collapse"+M,className:"accordion-collapse collapse","aria-labelledby":"heading"+M,"data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body",children:o.jsx("div",{className:"col-sm-12 card p-3 mb-3",children:o.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[o.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["1."," "]}),"Funding Agency"]})}),o.jsx("td",{children:(O=C==null?void 0:C.funding_agency)==null?void 0:O.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["2."," "]}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(R=C==null?void 0:C.total_fund)==null?void 0:R.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["3."," "]}),"Project Investigators"]})}),o.jsx("td",{children:(L=C==null?void 0:C.pis)==null?void 0:L.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["4."," "]}),"Co-Project Investigators"]})}),o.jsx("td",{children:(F=C==null?void 0:C.copis)==null?void 0:F.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["5."," "]}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(G=C==null?void 0:C.jrf_phd_scholar)==null?void 0:G.stringValue})]})]})})}),o.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[o.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),o.jsx("hr",{className:"mx-1 mt-0 mb-2"}),o.jsx("p",{className:"",children:(j=C==null?void 0:C.description)==null?void 0:j.stringValue}),o.jsxs("div",{className:"px-1 mb-3",children:[o.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(te=(Z=(W=C==null?void 0:C.related_datasets)==null?void 0:W.arrayValue)==null?void 0:Z.values)==null?void 0:te.map((J,me)=>{const q=l==null?void 0:l.find(Ee=>(Ee==null?void 0:Ee._id)==(J==null?void 0:J.stringValue));return o.jsxs("div",{children:[me+1,". ",q==null?void 0:q.title," (",o.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(q==null?void 0:q._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(q==null?void 0:q._id)+"Modal",tabIndex:-1,"aria-labelledby":(q==null?void 0:q._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(q==null?void 0:q._id)+"ModalLabel",children:q==null?void 0:q.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:q==null?void 0:q.description}),o.jsx("img",{className:"w-100",src:q==null?void 0:q.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},me)})}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(Re=(fe=(oe=C==null?void 0:C.related_projectitems)==null?void 0:oe.arrayValue)==null?void 0:fe.values)==null?void 0:Re.map((J,me)=>{const q=a==null?void 0:a.find(Ee=>(Ee==null?void 0:Ee._id)==(J==null?void 0:J.stringValue));return o.jsxs("div",{children:[me+1,". ",q==null?void 0:q.title," (",o.jsx(re,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(q==null?void 0:q._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(q==null?void 0:q._id)+"Modal",tabIndex:-1,"aria-labelledby":(q==null?void 0:q._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(q==null?void 0:q._id)+"ModalLabel",children:[q==null?void 0:q.title,"("," ",o.jsx(re,{className:"btn-primary",style:{textDecoration:"none"},to:q==null?void 0:q.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(re,{to:q==null?void 0:q.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:q==null?void 0:q.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},me)})})]})]})]})},"item_"+M)})})]})})})]})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:u==null?void 0:u.map((C,M)=>{var j,W;const{name:H,batch:O,isAlumni:R,email:L,mobile:F,researchInterests:G}=C==null?void 0:C.data;return R!=null&&R.booleanValue?null:o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:C==null?void 0:C.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:H==null?void 0:H.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(L==null?void 0:L.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(O==null?void 0:O.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",F==null?void 0:F.stringValue]}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:(W=(j=G==null?void 0:G.arrayValue)==null?void 0:j.values)==null?void 0:W.map(Z=>Z.stringValue+",")})]})]},M)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:u==null?void 0:u.map((C,M)=>{var j,W;const{name:H,batch:O,isAlumni:R,email:L,mobile:F,researchInterests:G}=C==null?void 0:C.data;return R!=null&&R.booleanValue?o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:C==null?void 0:C.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:H==null?void 0:H.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(L==null?void 0:L.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(O==null?void 0:O.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",F==null?void 0:F.stringValue]}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:(W=(j=G==null?void 0:G.arrayValue)==null?void 0:j.values)==null?void 0:W.map(Z=>Z.stringValue+",")}),o.jsx("br",{}),o.jsx("button",{className:"btn btn-danger btn-sm my-2",children:"Profile"})]})]},M):null})})]})]})};function Zq(){const[t,e]=N.useState(!1);return N.useEffect(()=>{e(navigator.onLine),navigator.onLine||setTimeout(()=>{window.location.reload()},1e3)},[navigator.onLine]),t?o.jsxs(o.Fragment,{children:[o.jsx(Xq,{}),o.jsxs(ry,{children:[o.jsx(De,{path:"/dashboard/*",element:o.jsx(M6,{})}),o.jsx(De,{path:"/profile/:id",element:o.jsx(Jq,{})}),o.jsx(De,{path:"/*",element:o.jsx(IW,{})}),o.jsx(De,{path:"/login",element:o.jsx(Qq,{})})]})]}):o.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:o.jsx("h1",{children:"You Are Offline. Trying to reconnect..."})})}function ad(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ad=function(n){return typeof n}:ad=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ad(t)}function eG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tG(t,e,n){return e&&kE(t.prototype,e),n&&kE(t,n),t}function nG(t,e){return e&&(ad(e)==="object"||typeof e=="function")?e:od(t)}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(t)}function od(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&av(t,e)}function av(t,e){return av=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},av(t,e)}function ld(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tk=function(t){rG(e,t);function e(){var n,r;eG(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=nG(this,(n=sv(e)).call.apply(n,[this].concat(s))),ld(od(r),"state",{bootstrapped:!1}),ld(od(r),"_unsubscribe",void 0),ld(od(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return tG(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(N.PureComponent);ld(tk,"defaultProps",{children:null,loading:null});Qp.createRoot(document.getElementById("root")).render(o.jsx(Pe.StrictMode,{children:o.jsx(h9,{store:wn,children:o.jsx(tk,{loading:null,persistor:Hz,children:o.jsx(TO,{children:o.jsx(Zq,{})})})})}));
