function FA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xj={exports:{}},ph={},bj={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),UA=Symbol.for("react.portal"),$A=Symbol.for("react.fragment"),BA=Symbol.for("react.strict_mode"),zA=Symbol.for("react.profiler"),HA=Symbol.for("react.provider"),qA=Symbol.for("react.context"),WA=Symbol.for("react.forward_ref"),GA=Symbol.for("react.suspense"),KA=Symbol.for("react.memo"),YA=Symbol.for("react.lazy"),Jx=Symbol.iterator;function QA(t){return t===null||typeof t!="object"?null:(t=Jx&&t[Jx]||t["@@iterator"],typeof t=="function"?t:null)}var wj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_j=Object.assign,jj={};function jo(t,e,n){this.props=t,this.context=e,this.refs=jj,this.updater=n||wj}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ej(){}Ej.prototype=jo.prototype;function Jg(t,e,n){this.props=t,this.context=e,this.refs=jj,this.updater=n||wj}var Zg=Jg.prototype=new Ej;Zg.constructor=Jg;_j(Zg,jo.prototype);Zg.isPureReactComponent=!0;var Zx=Array.isArray,Nj=Object.prototype.hasOwnProperty,ev={current:null},Sj={key:!0,ref:!0,__self:!0,__source:!0};function Tj(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Nj.call(e,r)&&!Sj.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:_c,type:t,key:i,ref:o,props:s,_owner:ev.current}}function XA(t,e){return{$$typeof:_c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tv(t){return typeof t=="object"&&t!==null&&t.$$typeof===_c}function JA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eb=/\/+/g;function Tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JA(""+t.key):e.toString(36)}function Rd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _c:case UA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Tf(o,0):r,Zx(s)?(n="",t!=null&&(n=t.replace(eb,"$&/")+"/"),Rd(s,e,n,"",function(d){return d})):s!=null&&(tv(s)&&(s=XA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eb,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Zx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Tf(i,l);o+=Rd(i,e,n,c,s)}else if(c=QA(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Tf(i,l++),o+=Rd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zc(t,e,n){if(t==null)return t;var r=[],s=0;return Rd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ZA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Dd={transition:null},eP={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Dd,ReactCurrentOwner:ev};Ee.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!tv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=jo;Ee.Fragment=$A;Ee.Profiler=zA;Ee.PureComponent=Jg;Ee.StrictMode=BA;Ee.Suspense=GA;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eP;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_j({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ev.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Nj.call(e,c)&&!Sj.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:_c,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:qA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HA,_context:t},t.Consumer=t};Ee.createElement=Tj;Ee.createFactory=function(t){var e=Tj.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:WA,render:t}};Ee.isValidElement=tv;Ee.lazy=function(t){return{$$typeof:YA,_payload:{_status:-1,_result:t},_init:ZA}};Ee.memo=function(t,e){return{$$typeof:KA,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Dd.transition;Dd.transition={};try{t()}finally{Dd.transition=e}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(t,e){return pn.current.useCallback(t,e)};Ee.useContext=function(t){return pn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return pn.current.useEffect(t,e)};Ee.useId=function(){return pn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return pn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Ee.useRef=function(t){return pn.current.useRef(t)};Ee.useState=function(t){return pn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return pn.current.useTransition()};Ee.version="18.2.0";bj.exports=Ee;var T=bj.exports;const Re=_o(T),Qp=FA({__proto__:null,default:Re},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tP=T,nP=Symbol.for("react.element"),rP=Symbol.for("react.fragment"),sP=Object.prototype.hasOwnProperty,iP=tP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aP={key:!0,ref:!0,__self:!0,__source:!0};function Ij(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sP.call(e,r)&&!aP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:nP,type:t,key:i,ref:o,props:s,_owner:iP.current}}ph.Fragment=rP;ph.jsx=Ij;ph.jsxs=Ij;xj.exports=ph;var a=xj.exports,Xp={},Cj={exports:{}},$n={},Aj={exports:{}},Pj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var U=D.length;D.push(M);e:for(;0<U;){var z=U-1>>>1,O=D[z];if(0<s(O,M))D[z]=M,D[U]=O,U=z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],U=D.pop();if(U!==M){D[0]=U;e:for(var z=0,O=D.length,F=O>>>1;z<F;){var Z=2*(z+1)-1,se=D[Z],fe=Z+1,be=D[fe];if(0>s(se,U))fe<O&&0>s(be,se)?(D[z]=be,D[fe]=U,z=fe):(D[z]=se,D[Z]=U,z=Z);else if(fe<O&&0>s(be,U))D[z]=be,D[fe]=U,z=fe;else break e}}return M}function s(D,M){var U=D.sortIndex-M.sortIndex;return U!==0?U:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var M=n(d);M!==null;){if(M.callback===null)r(d);else if(M.startTime<=D)r(d),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(d)}}function E(D){if(y=!1,v(D),!g)if(n(c)!==null)g=!0,L(S);else{var M=n(d);M!==null&&A(E,M.startTime-D)}}function S(D,M){g=!1,y&&(y=!1,m(w),w=-1),p=!0;var U=f;try{for(v(M),h=n(c);h!==null&&(!(h.expirationTime>M)||D&&!P());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var O=z(h.expirationTime<=M);M=t.unstable_now(),typeof O=="function"?h.callback=O:h===n(c)&&r(c),v(M)}else r(c);h=n(c)}if(h!==null)var F=!0;else{var Z=n(d);Z!==null&&A(E,Z.startTime-M),F=!1}return F}finally{h=null,f=U,p=!1}}var j=!1,I=null,w=-1,_=5,N=-1;function P(){return!(t.unstable_now()-N<_)}function C(){if(I!==null){var D=t.unstable_now();N=D;var M=!0;try{M=I(!0,D)}finally{M?R():(j=!1,I=null)}}else j=!1}var R;if(typeof x=="function")R=function(){x(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=C,R=function(){B.postMessage(null)}}else R=function(){b(C,0)};function L(D){I=D,j||(j=!0,R())}function A(D,M){w=b(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var U=f;f=M;try{return D()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=f;f=D;try{return M()}finally{f=U}},t.unstable_scheduleCallback=function(D,M,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,D){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=U+O,D={id:u++,callback:M,priorityLevel:D,startTime:U,expirationTime:O,sortIndex:-1},U>z?(D.sortIndex=U,e(d,D),n(c)===null&&D===n(d)&&(y?(m(w),w=-1):y=!0,A(E,U-z))):(D.sortIndex=O,e(c,D),g||p||(g=!0,L(S))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var M=f;return function(){var U=f;f=M;try{return D.apply(this,arguments)}finally{f=U}}}})(Pj);Aj.exports=Pj;var oP=Aj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj=T,Vn=oP;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rj=new Set,Ol={};function ea(t,e){no(t,e),no(t+"Capture",e)}function no(t,e){for(Ol[t]=e,t=0;t<e.length;t++)Rj.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jp=Object.prototype.hasOwnProperty,lP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tb={},nb={};function cP(t){return Jp.call(nb,t)?!0:Jp.call(tb,t)?!1:lP.test(t)?nb[t]=!0:(tb[t]=!0,!1)}function dP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uP(t,e,n,r){if(e===null||typeof e>"u"||dP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var nv=/[\-:]([a-z])/g;function rv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nv,rv);Bt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nv,rv);Bt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nv,rv);Bt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function sv(t,e,n,r){var s=Bt.hasOwnProperty(e)?Bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uP(e,n,s,r)&&(n=null),r||s===null?cP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=kj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ed=Symbol.for("react.element"),Ea=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),Dj=Symbol.for("react.provider"),Oj=Symbol.for("react.context"),av=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),ov=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),Lj=Symbol.for("react.offscreen"),rb=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=rb&&t[rb]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,If;function nl(t){if(If===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);If=e&&e[1]||""}return`
`+If+t}var Cf=!1;function Af(t,e){if(!t||Cf)return"";Cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nl(t):""}function hP(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=Af(t.type,!1),t;case 11:return t=Af(t.type.render,!1),t;case 1:return t=Af(t.type,!0),t;default:return""}}function nm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Na:return"Fragment";case Ea:return"Portal";case Zp:return"Profiler";case iv:return"StrictMode";case em:return"Suspense";case tm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Oj:return(t.displayName||"Context")+".Consumer";case Dj:return(t._context.displayName||"Context")+".Provider";case av:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ov:return e=t.displayName||null,e!==null?e:nm(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return nm(t(e))}catch{}}return null}function fP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nm(e);case 8:return e===iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pP(t){var e=Mj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function td(t){t._valueTracker||(t._valueTracker=pP(t))}function Vj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rm(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fj(t,e){e=e.checked,e!=null&&sv(t,"checked",e,!1)}function sm(t,e){Fj(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?im(t,e.type,n):e.hasOwnProperty("defaultValue")&&im(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ib(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function im(t,e,n){(e!=="number"||iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rl=Array.isArray;function Fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ab(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(rl(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function Uj(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ob(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $j(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function om(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$j(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nd,Bj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nd=nd||document.createElement("div"),nd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mP=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(t){mP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pl[e]=pl[t]})});function zj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pl.hasOwnProperty(t)&&pl[t]?(""+e).trim():e+"px"}function Hj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var gP=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lm(t,e){if(e){if(gP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dm=null;function lv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var um=null,Ua=null,$a=null;function lb(t){if(t=Nc(t)){if(typeof um!="function")throw Error(G(280));var e=t.stateNode;e&&(e=xh(e),um(t.stateNode,t.type,e))}}function qj(t){Ua?$a?$a.push(t):$a=[t]:Ua=t}function Wj(){if(Ua){var t=Ua,e=$a;if($a=Ua=null,lb(t),e)for(t=0;t<e.length;t++)lb(e[t])}}function Gj(t,e){return t(e)}function Kj(){}var Pf=!1;function Yj(t,e,n){if(Pf)return t(e,n);Pf=!0;try{return Gj(t,e,n)}finally{Pf=!1,(Ua!==null||$a!==null)&&(Kj(),Wj())}}function Ml(t,e){var n=t.stateNode;if(n===null)return null;var r=xh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var hm=!1;if(is)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){hm=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{hm=!1}function vP(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var ml=!1,au=null,ou=!1,fm=null,yP={onError:function(t){ml=!0,au=t}};function xP(t,e,n,r,s,i,o,l,c){ml=!1,au=null,vP.apply(yP,arguments)}function bP(t,e,n,r,s,i,o,l,c){if(xP.apply(this,arguments),ml){if(ml){var d=au;ml=!1,au=null}else throw Error(G(198));ou||(ou=!0,fm=d)}}function ta(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cb(t){if(ta(t)!==t)throw Error(G(188))}function wP(t){var e=t.alternate;if(!e){if(e=ta(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cb(s),t;if(i===r)return cb(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Xj(t){return t=wP(t),t!==null?Jj(t):null}function Jj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jj(t);if(e!==null)return e;t=t.sibling}return null}var Zj=Vn.unstable_scheduleCallback,db=Vn.unstable_cancelCallback,_P=Vn.unstable_shouldYield,jP=Vn.unstable_requestPaint,ft=Vn.unstable_now,EP=Vn.unstable_getCurrentPriorityLevel,cv=Vn.unstable_ImmediatePriority,eE=Vn.unstable_UserBlockingPriority,lu=Vn.unstable_NormalPriority,NP=Vn.unstable_LowPriority,tE=Vn.unstable_IdlePriority,mh=null,Ir=null;function SP(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(mh,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:CP,TP=Math.log,IP=Math.LN2;function CP(t){return t>>>=0,t===0?32:31-(TP(t)/IP|0)|0}var rd=64,sd=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=sl(l):(i&=o,i!==0&&(r=sl(i)))}else o=n&~s,o!==0?r=sl(o):i!==0&&(r=sl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),s=1<<n,r|=t[n],e&=~s;return r}function AP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ur(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=AP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nE(){var t=rd;return rd<<=1,!(rd&4194240)&&(rd=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function kP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function dv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function rE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sE,uv,iE,aE,oE,mm=!1,id=[],Ls=null,Ms=null,Vs=null,Vl=new Map,Fl=new Map,_s=[],RP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ub(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(e.pointerId)}}function Fo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Nc(e),e!==null&&uv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function DP(t,e,n,r,s){switch(e){case"focusin":return Ls=Fo(Ls,t,e,n,r,s),!0;case"dragenter":return Ms=Fo(Ms,t,e,n,r,s),!0;case"mouseover":return Vs=Fo(Vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vl.set(i,Fo(Vl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fl.set(i,Fo(Fl.get(i)||null,t,e,n,r,s)),!0}return!1}function lE(t){var e=wi(t.target);if(e!==null){var n=ta(e);if(n!==null){if(e=n.tag,e===13){if(e=Qj(n),e!==null){t.blockedOn=e,oE(t.priority,function(){iE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dm=r,n.target.dispatchEvent(r),dm=null}else return e=Nc(n),e!==null&&uv(e),t.blockedOn=n,!1;e.shift()}return!0}function hb(t,e,n){Od(t)&&n.delete(e)}function OP(){mm=!1,Ls!==null&&Od(Ls)&&(Ls=null),Ms!==null&&Od(Ms)&&(Ms=null),Vs!==null&&Od(Vs)&&(Vs=null),Vl.forEach(hb),Fl.forEach(hb)}function Uo(t,e){t.blockedOn===e&&(t.blockedOn=null,mm||(mm=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,OP)))}function Ul(t){function e(s){return Uo(s,t)}if(0<id.length){Uo(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ls!==null&&Uo(Ls,t),Ms!==null&&Uo(Ms,t),Vs!==null&&Uo(Vs,t),Vl.forEach(e),Fl.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)lE(n),n.blockedOn===null&&_s.shift()}var Ba=ps.ReactCurrentBatchConfig,du=!0;function LP(t,e,n,r){var s=Me,i=Ba.transition;Ba.transition=null;try{Me=1,hv(t,e,n,r)}finally{Me=s,Ba.transition=i}}function MP(t,e,n,r){var s=Me,i=Ba.transition;Ba.transition=null;try{Me=4,hv(t,e,n,r)}finally{Me=s,Ba.transition=i}}function hv(t,e,n,r){if(du){var s=gm(t,e,n,r);if(s===null)Bf(t,e,r,uu,n),ub(t,r);else if(DP(s,t,e,n,r))r.stopPropagation();else if(ub(t,r),e&4&&-1<RP.indexOf(t)){for(;s!==null;){var i=Nc(s);if(i!==null&&sE(i),i=gm(t,e,n,r),i===null&&Bf(t,e,r,uu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bf(t,e,r,null,n)}}var uu=null;function gm(t,e,n,r){if(uu=null,t=lv(r),t=wi(t),t!==null)if(e=ta(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uu=t,null}function cE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EP()){case cv:return 1;case eE:return 4;case lu:case NP:return 16;case tE:return 536870912;default:return 16}default:return 16}}var Cs=null,fv=null,Ld=null;function dE(){if(Ld)return Ld;var t,e=fv,n=e.length,r,s="value"in Cs?Cs.value:Cs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ld=s.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ad(){return!0}function fb(){return!1}function Bn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ad:fb,this.isPropagationStopped=fb,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pv=Bn(Eo),Ec=lt({},Eo,{view:0,detail:0}),VP=Bn(Ec),Rf,Df,$o,gh=lt({},Ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(Rf=t.screenX-$o.screenX,Df=t.screenY-$o.screenY):Df=Rf=0,$o=t),Rf)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),pb=Bn(gh),FP=lt({},gh,{dataTransfer:0}),UP=Bn(FP),$P=lt({},Ec,{relatedTarget:0}),Of=Bn($P),BP=lt({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),zP=Bn(BP),HP=lt({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qP=Bn(HP),WP=lt({},Eo,{data:0}),mb=Bn(WP),GP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YP[t])?!!e[t]:!1}function mv(){return QP}var XP=lt({},Ec,{key:function(t){if(t.key){var e=GP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mv,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JP=Bn(XP),ZP=lt({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=Bn(ZP),ek=lt({},Ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mv}),tk=Bn(ek),nk=lt({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),rk=Bn(nk),sk=lt({},gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ik=Bn(sk),ak=[9,13,27,32],gv=is&&"CompositionEvent"in window,gl=null;is&&"documentMode"in document&&(gl=document.documentMode);var ok=is&&"TextEvent"in window&&!gl,uE=is&&(!gv||gl&&8<gl&&11>=gl),vb=" ",yb=!1;function hE(t,e){switch(t){case"keyup":return ak.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function lk(t,e){switch(t){case"compositionend":return fE(e);case"keypress":return e.which!==32?null:(yb=!0,vb);case"textInput":return t=e.data,t===vb&&yb?null:t;default:return null}}function ck(t,e){if(Sa)return t==="compositionend"||!gv&&hE(t,e)?(t=dE(),Ld=fv=Cs=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uE&&e.locale!=="ko"?null:e.data;default:return null}}var dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dk[t.type]:e==="textarea"}function pE(t,e,n,r){qj(r),e=hu(e,"onChange"),0<e.length&&(n=new pv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vl=null,$l=null;function uk(t){NE(t,0)}function vh(t){var e=Ca(t);if(Vj(e))return t}function hk(t,e){if(t==="change")return e}var mE=!1;if(is){var Lf;if(is){var Mf="oninput"in document;if(!Mf){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),Mf=typeof bb.oninput=="function"}Lf=Mf}else Lf=!1;mE=Lf&&(!document.documentMode||9<document.documentMode)}function wb(){vl&&(vl.detachEvent("onpropertychange",gE),$l=vl=null)}function gE(t){if(t.propertyName==="value"&&vh($l)){var e=[];pE(e,$l,t,lv(t)),Yj(uk,e)}}function fk(t,e,n){t==="focusin"?(wb(),vl=e,$l=n,vl.attachEvent("onpropertychange",gE)):t==="focusout"&&wb()}function pk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vh($l)}function mk(t,e){if(t==="click")return vh(e)}function gk(t,e){if(t==="input"||t==="change")return vh(e)}function vk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:vk;function Bl(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jp.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function _b(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jb(t,e){var n=_b(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_b(n)}}function vE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yE(){for(var t=window,e=iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=iu(t.document)}return e}function vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yk(t){var e=yE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vE(n.ownerDocument.documentElement,n)){if(r!==null&&vv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=jb(n,i);var o=jb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xk=is&&"documentMode"in document&&11>=document.documentMode,Ta=null,vm=null,yl=null,ym=!1;function Eb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ym||Ta==null||Ta!==iu(r)||(r=Ta,"selectionStart"in r&&vv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&Bl(yl,r)||(yl=r,r=hu(vm,"onSelect"),0<r.length&&(e=new pv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ta)))}function od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ia={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},Vf={},xE={};is&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function yh(t){if(Vf[t])return Vf[t];if(!Ia[t])return t;var e=Ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xE)return Vf[t]=e[n];return t}var bE=yh("animationend"),wE=yh("animationiteration"),_E=yh("animationstart"),jE=yh("transitionend"),EE=new Map,Nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){EE.set(t,e),ea(e,[t])}for(var Ff=0;Ff<Nb.length;Ff++){var Uf=Nb[Ff],bk=Uf.toLowerCase(),wk=Uf[0].toUpperCase()+Uf.slice(1);si(bk,"on"+wk)}si(bE,"onAnimationEnd");si(wE,"onAnimationIteration");si(_E,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(jE,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_k=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Sb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bP(r,e,void 0,t),t.currentTarget=null}function NE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Sb(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Sb(s,l,d),i=c}}}if(ou)throw t=fm,ou=!1,fm=null,t}function qe(t,e){var n=e[jm];n===void 0&&(n=e[jm]=new Set);var r=t+"__bubble";n.has(r)||(SE(e,t,2,!1),n.add(r))}function $f(t,e,n){var r=0;e&&(r|=4),SE(n,t,r,e)}var ld="_reactListening"+Math.random().toString(36).slice(2);function zl(t){if(!t[ld]){t[ld]=!0,Rj.forEach(function(n){n!=="selectionchange"&&(_k.has(n)||$f(n,!1,t),$f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ld]||(e[ld]=!0,$f("selectionchange",!1,e))}}function SE(t,e,n,r){switch(cE(e)){case 1:var s=LP;break;case 4:s=MP;break;default:s=hv}n=s.bind(null,e,n,t),s=void 0,!hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wi(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Yj(function(){var d=i,u=lv(n),h=[];e:{var f=EE.get(t);if(f!==void 0){var p=pv,g=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":p=JP;break;case"focusin":g="focus",p=Of;break;case"focusout":g="blur",p=Of;break;case"beforeblur":case"afterblur":p=Of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tk;break;case bE:case wE:case _E:p=zP;break;case jE:p=rk;break;case"scroll":p=VP;break;case"wheel":p=ik;break;case"copy":case"cut":case"paste":p=qP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gb}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var x=d,v;x!==null;){v=x;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=Ml(x,m),E!=null&&y.push(Hl(x,E,v)))),b)break;x=x.return}0<y.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==dm&&(g=n.relatedTarget||n.fromElement)&&(wi(g)||g[as]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?wi(g):null,g!==null&&(b=ta(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(y=pb,E="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=gb,E="onPointerLeave",m="onPointerEnter",x="pointer"),b=p==null?f:Ca(p),v=g==null?f:Ca(g),f=new y(E,x+"leave",p,n,u),f.target=b,f.relatedTarget=v,E=null,wi(u)===d&&(y=new y(m,x+"enter",g,n,u),y.target=v,y.relatedTarget=b,E=y),b=E,p&&g)t:{for(y=p,m=g,x=0,v=y;v;v=ga(v))x++;for(v=0,E=m;E;E=ga(E))v++;for(;0<x-v;)y=ga(y),x--;for(;0<v-x;)m=ga(m),v--;for(;x--;){if(y===m||m!==null&&y===m.alternate)break t;y=ga(y),m=ga(m)}y=null}else y=null;p!==null&&Tb(h,f,p,y,!1),g!==null&&b!==null&&Tb(h,b,g,y,!0)}}e:{if(f=d?Ca(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=hk;else if(xb(f))if(mE)S=gk;else{S=pk;var j=fk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=mk);if(S&&(S=S(t,d))){pE(h,S,n,u);break e}j&&j(t,f,d),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&im(f,"number",f.value)}switch(j=d?Ca(d):window,t){case"focusin":(xb(j)||j.contentEditable==="true")&&(Ta=j,vm=d,yl=null);break;case"focusout":yl=vm=Ta=null;break;case"mousedown":ym=!0;break;case"contextmenu":case"mouseup":case"dragend":ym=!1,Eb(h,n,u);break;case"selectionchange":if(xk)break;case"keydown":case"keyup":Eb(h,n,u)}var I;if(gv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Sa?hE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(uE&&n.locale!=="ko"&&(Sa||w!=="onCompositionStart"?w==="onCompositionEnd"&&Sa&&(I=dE()):(Cs=u,fv="value"in Cs?Cs.value:Cs.textContent,Sa=!0)),j=hu(d,w),0<j.length&&(w=new mb(w,t,null,n,u),h.push({event:w,listeners:j}),I?w.data=I:(I=fE(n),I!==null&&(w.data=I)))),(I=ok?lk(t,n):ck(t,n))&&(d=hu(d,"onBeforeInput"),0<d.length&&(u=new mb("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=I))}NE(h,e)})}function Hl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ml(t,n),i!=null&&r.unshift(Hl(t,i,s)),i=Ml(t,e),i!=null&&r.push(Hl(t,i,s))),t=t.return}return r}function ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Ml(n,i),c!=null&&o.unshift(Hl(n,c,l))):s||(c=Ml(n,i),c!=null&&o.push(Hl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jk=/\r\n?/g,Ek=/\u0000|\uFFFD/g;function Ib(t){return(typeof t=="string"?t:""+t).replace(jk,`
`).replace(Ek,"")}function cd(t,e,n){if(e=Ib(e),Ib(t)!==e&&n)throw Error(G(425))}function fu(){}var xm=null,bm=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,Sk=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(t){return Cb.resolve(null).then(t).catch(Tk)}:_m;function Tk(t){setTimeout(function(){throw t})}function zf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ul(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),_r="__reactFiber$"+No,ql="__reactProps$"+No,as="__reactContainer$"+No,jm="__reactEvents$"+No,Ik="__reactListeners$"+No,Ck="__reactHandles$"+No;function wi(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ab(t);t!==null;){if(n=t[_r])return n;t=Ab(t)}return e}t=n,n=t.parentNode}return null}function Nc(t){return t=t[_r]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function xh(t){return t[ql]||null}var Em=[],Aa=-1;function ii(t){return{current:t}}function Ke(t){0>Aa||(t.current=Em[Aa],Em[Aa]=null,Aa--)}function Be(t,e){Aa++,Em[Aa]=t.current,t.current=e}var Xs={},tn=ii(Xs),Nn=ii(!1),Li=Xs;function ro(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Sn(t){return t=t.childContextTypes,t!=null}function pu(){Ke(Nn),Ke(tn)}function Pb(t,e,n){if(tn.current!==Xs)throw Error(G(168));Be(tn,e),Be(Nn,n)}function TE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,fP(t)||"Unknown",s));return lt({},n,r)}function mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,Li=tn.current,Be(tn,t),Be(Nn,Nn.current),!0}function kb(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=TE(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,Ke(Nn),Ke(tn),Be(tn,t)):Ke(Nn),Be(Nn,n)}var Kr=null,bh=!1,Hf=!1;function IE(t){Kr===null?Kr=[t]:Kr.push(t)}function Ak(t){bh=!0,IE(t)}function ai(){if(!Hf&&Kr!==null){Hf=!0;var t=0,e=Me;try{var n=Kr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,bh=!1}catch(s){throw Kr!==null&&(Kr=Kr.slice(t+1)),Zj(cv,ai),s}finally{Me=e,Hf=!1}}return null}var Pa=[],ka=0,gu=null,vu=0,qn=[],Wn=0,Mi=null,Xr=1,Jr="";function mi(t,e){Pa[ka++]=vu,Pa[ka++]=gu,gu=t,vu=e}function CE(t,e,n){qn[Wn++]=Xr,qn[Wn++]=Jr,qn[Wn++]=Mi,Mi=t;var r=Xr;t=Jr;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-ur(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function yv(t){t.return!==null&&(mi(t,1),CE(t,1,0))}function xv(t){for(;t===gu;)gu=Pa[--ka],Pa[ka]=null,vu=Pa[--ka],Pa[ka]=null;for(;t===Mi;)Mi=qn[--Wn],qn[Wn]=null,Jr=qn[--Wn],qn[Wn]=null,Xr=qn[--Wn],qn[Wn]=null}var Ln=null,kn=null,nt=!1,lr=null;function AE(t,e){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,kn=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,kn=null,!0):!1;default:return!1}}function Nm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sm(t){if(nt){var e=kn;if(e){var n=e;if(!Rb(t,e)){if(Nm(t))throw Error(G(418));e=Fs(n.nextSibling);var r=Ln;e&&Rb(t,e)?AE(r,n):(t.flags=t.flags&-4097|2,nt=!1,Ln=t)}}else{if(Nm(t))throw Error(G(418));t.flags=t.flags&-4097|2,nt=!1,Ln=t}}}function Db(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function dd(t){if(t!==Ln)return!1;if(!nt)return Db(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=kn)){if(Nm(t))throw PE(),Error(G(418));for(;e;)AE(t,e),e=Fs(e.nextSibling)}if(Db(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Ln?Fs(t.stateNode.nextSibling):null;return!0}function PE(){for(var t=kn;t;)t=Fs(t.nextSibling)}function so(){kn=Ln=null,nt=!1}function bv(t){lr===null?lr=[t]:lr.push(t)}var Pk=ps.ReactCurrentBatchConfig;function ar(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yu=ii(null),xu=null,Ra=null,wv=null;function _v(){wv=Ra=xu=null}function jv(t){var e=yu.current;Ke(yu),t._currentValue=e}function Tm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function za(t,e){xu=t,wv=Ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(wv!==t)if(t={context:t,memoizedValue:e,next:null},Ra===null){if(xu===null)throw Error(G(308));Ra=t,xu.dependencies={lanes:0,firstContext:t}}else Ra=Ra.next=t;return e}var _i=null;function Ev(t){_i===null?_i=[t]:_i.push(t)}function kE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ev(e)):(n.next=s.next,s.next=n),e.interleaved=n,os(t,r)}function os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function Nv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,os(t,n)}return s=r.interleaved,s===null?(e.next=e,Ev(r)):(e.next=s.next,s.next=e),r.interleaved=e,os(t,n)}function Vd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dv(t,n)}}function Ob(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bu(t,e,n,r){var s=t.updateQueue;ws=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=lt({},h,f);break e;case 2:ws=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fi|=o,t.lanes=o,t.memoizedState=h}}function Lb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var DE=new kj.Component().refs;function Im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wh={isMounted:function(t){return(t=t._reactInternals)?ta(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),s=Bs(t),i=ns(r,s);i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(hr(e,t,s,r),Vd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),s=Bs(t),i=ns(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(hr(e,t,s,r),Vd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=Bs(t),s=ns(n,r);s.tag=2,e!=null&&(s.callback=e),e=Us(t,s,r),e!==null&&(hr(e,t,r,n),Vd(e,t,r))}};function Mb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(n,r)||!Bl(s,i):!0}function OE(t,e,n){var r=!1,s=Xs,i=e.contextType;return typeof i=="object"&&i!==null?i=Jn(i):(s=Sn(e)?Li:tn.current,r=e.contextTypes,i=(r=r!=null)?ro(t,s):Xs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wh.enqueueReplaceState(e,e.state,null)}function Cm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=DE,Nv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Jn(i):(i=Sn(e)?Li:tn.current,s.context=ro(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Im(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wh.enqueueReplaceState(s,s.state,null),bu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;l===DE&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fb(t){var e=t._init;return e(t._payload)}function LE(t){function e(m,x){if(t){var v=m.deletions;v===null?(m.deletions=[x],m.flags|=16):v.push(x)}}function n(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function s(m,x){return m=zs(m,x),m.index=0,m.sibling=null,m}function i(m,x,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<x?(m.flags|=2,x):v):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,x,v,E){return x===null||x.tag!==6?(x=Xf(v,m.mode,E),x.return=m,x):(x=s(x,v),x.return=m,x)}function c(m,x,v,E){var S=v.type;return S===Na?u(m,x,v.props.children,E,v.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bs&&Fb(S)===x.type)?(E=s(x,v.props),E.ref=Bo(m,x,v),E.return=m,E):(E=Hd(v.type,v.key,v.props,null,m.mode,E),E.ref=Bo(m,x,v),E.return=m,E)}function d(m,x,v,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Jf(v,m.mode,E),x.return=m,x):(x=s(x,v.children||[]),x.return=m,x)}function u(m,x,v,E,S){return x===null||x.tag!==7?(x=Pi(v,m.mode,E,S),x.return=m,x):(x=s(x,v),x.return=m,x)}function h(m,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Xf(""+x,m.mode,v),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ed:return v=Hd(x.type,x.key,x.props,null,m.mode,v),v.ref=Bo(m,null,x),v.return=m,v;case Ea:return x=Jf(x,m.mode,v),x.return=m,x;case bs:var E=x._init;return h(m,E(x._payload),v)}if(rl(x)||Mo(x))return x=Pi(x,m.mode,v,null),x.return=m,x;ud(m,x)}return null}function f(m,x,v,E){var S=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(m,x,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ed:return v.key===S?c(m,x,v,E):null;case Ea:return v.key===S?d(m,x,v,E):null;case bs:return S=v._init,f(m,x,S(v._payload),E)}if(rl(v)||Mo(v))return S!==null?null:u(m,x,v,E,null);ud(m,v)}return null}function p(m,x,v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,l(x,m,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ed:return m=m.get(E.key===null?v:E.key)||null,c(x,m,E,S);case Ea:return m=m.get(E.key===null?v:E.key)||null,d(x,m,E,S);case bs:var j=E._init;return p(m,x,v,j(E._payload),S)}if(rl(E)||Mo(E))return m=m.get(v)||null,u(x,m,E,S,null);ud(x,E)}return null}function g(m,x,v,E){for(var S=null,j=null,I=x,w=x=0,_=null;I!==null&&w<v.length;w++){I.index>w?(_=I,I=null):_=I.sibling;var N=f(m,I,v[w],E);if(N===null){I===null&&(I=_);break}t&&I&&N.alternate===null&&e(m,I),x=i(N,x,w),j===null?S=N:j.sibling=N,j=N,I=_}if(w===v.length)return n(m,I),nt&&mi(m,w),S;if(I===null){for(;w<v.length;w++)I=h(m,v[w],E),I!==null&&(x=i(I,x,w),j===null?S=I:j.sibling=I,j=I);return nt&&mi(m,w),S}for(I=r(m,I);w<v.length;w++)_=p(I,m,w,v[w],E),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?w:_.key),x=i(_,x,w),j===null?S=_:j.sibling=_,j=_);return t&&I.forEach(function(P){return e(m,P)}),nt&&mi(m,w),S}function y(m,x,v,E){var S=Mo(v);if(typeof S!="function")throw Error(G(150));if(v=S.call(v),v==null)throw Error(G(151));for(var j=S=null,I=x,w=x=0,_=null,N=v.next();I!==null&&!N.done;w++,N=v.next()){I.index>w?(_=I,I=null):_=I.sibling;var P=f(m,I,N.value,E);if(P===null){I===null&&(I=_);break}t&&I&&P.alternate===null&&e(m,I),x=i(P,x,w),j===null?S=P:j.sibling=P,j=P,I=_}if(N.done)return n(m,I),nt&&mi(m,w),S;if(I===null){for(;!N.done;w++,N=v.next())N=h(m,N.value,E),N!==null&&(x=i(N,x,w),j===null?S=N:j.sibling=N,j=N);return nt&&mi(m,w),S}for(I=r(m,I);!N.done;w++,N=v.next())N=p(I,m,w,N.value,E),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?w:N.key),x=i(N,x,w),j===null?S=N:j.sibling=N,j=N);return t&&I.forEach(function(C){return e(m,C)}),nt&&mi(m,w),S}function b(m,x,v,E){if(typeof v=="object"&&v!==null&&v.type===Na&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ed:e:{for(var S=v.key,j=x;j!==null;){if(j.key===S){if(S=v.type,S===Na){if(j.tag===7){n(m,j.sibling),x=s(j,v.props.children),x.return=m,m=x;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bs&&Fb(S)===j.type){n(m,j.sibling),x=s(j,v.props),x.ref=Bo(m,j,v),x.return=m,m=x;break e}n(m,j);break}else e(m,j);j=j.sibling}v.type===Na?(x=Pi(v.props.children,m.mode,E,v.key),x.return=m,m=x):(E=Hd(v.type,v.key,v.props,null,m.mode,E),E.ref=Bo(m,x,v),E.return=m,m=E)}return o(m);case Ea:e:{for(j=v.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(m,x.sibling),x=s(x,v.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else e(m,x);x=x.sibling}x=Jf(v,m.mode,E),x.return=m,m=x}return o(m);case bs:return j=v._init,b(m,x,j(v._payload),E)}if(rl(v))return g(m,x,v,E);if(Mo(v))return y(m,x,v,E);ud(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(m,x.sibling),x=s(x,v),x.return=m,m=x):(n(m,x),x=Xf(v,m.mode,E),x.return=m,m=x),o(m)):n(m,x)}return b}var io=LE(!0),ME=LE(!1),Sc={},Cr=ii(Sc),Wl=ii(Sc),Gl=ii(Sc);function ji(t){if(t===Sc)throw Error(G(174));return t}function Sv(t,e){switch(Be(Gl,e),Be(Wl,t),Be(Cr,Sc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:om(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=om(e,t)}Ke(Cr),Be(Cr,e)}function ao(){Ke(Cr),Ke(Wl),Ke(Gl)}function VE(t){ji(Gl.current);var e=ji(Cr.current),n=om(e,t.type);e!==n&&(Be(Wl,t),Be(Cr,n))}function Tv(t){Wl.current===t&&(Ke(Cr),Ke(Wl))}var it=ii(0);function wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qf=[];function Iv(){for(var t=0;t<qf.length;t++)qf[t]._workInProgressVersionPrimary=null;qf.length=0}var Fd=ps.ReactCurrentDispatcher,Wf=ps.ReactCurrentBatchConfig,Vi=0,at=null,_t=null,Ct=null,_u=!1,xl=!1,Kl=0,kk=0;function qt(){throw Error(G(321))}function Cv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function Av(t,e,n,r,s,i){if(Vi=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fd.current=t===null||t.memoizedState===null?Lk:Mk,t=n(r,s),xl){i=0;do{if(xl=!1,Kl=0,25<=i)throw Error(G(301));i+=1,Ct=_t=null,e.updateQueue=null,Fd.current=Vk,t=n(r,s)}while(xl)}if(Fd.current=ju,e=_t!==null&&_t.next!==null,Vi=0,Ct=_t=at=null,_u=!1,e)throw Error(G(300));return t}function Pv(){var t=Kl!==0;return Kl=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?at.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Zn(){if(_t===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Ct===null?at.memoizedState:Ct.next;if(e!==null)Ct=e,_t=t;else{if(t===null)throw Error(G(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Ct===null?at.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Yl(t,e){return typeof e=="function"?e(t):e}function Gf(t){var e=Zn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=_t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Vi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,at.lanes|=u,Fi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,fr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,at.lanes|=i,Fi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kf(t){var e=Zn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function FE(){}function UE(t,e){var n=at,r=Zn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,En=!0),r=r.queue,kv(zE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,Ql(9,BE.bind(null,n,r,s,e),void 0,null),At===null)throw Error(G(349));Vi&30||$E(n,e,s)}return s}function $E(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BE(t,e,n,r){e.value=n,e.getSnapshot=r,HE(e)&&qE(t)}function zE(t,e,n){return n(function(){HE(e)&&qE(t)})}function HE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function qE(t){var e=os(t,1);e!==null&&hr(e,t,1,-1)}function Ub(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:t},e.queue=t,t=t.dispatch=Ok.bind(null,at,t),[e.memoizedState,t]}function Ql(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WE(){return Zn().memoizedState}function Ud(t,e,n,r){var s=wr();at.flags|=t,s.memoizedState=Ql(1|e,n,void 0,r===void 0?null:r)}function _h(t,e,n,r){var s=Zn();r=r===void 0?null:r;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,r!==null&&Cv(r,o.deps)){s.memoizedState=Ql(e,n,i,r);return}}at.flags|=t,s.memoizedState=Ql(1|e,n,i,r)}function $b(t,e){return Ud(8390656,8,t,e)}function kv(t,e){return _h(2048,8,t,e)}function GE(t,e){return _h(4,2,t,e)}function KE(t,e){return _h(4,4,t,e)}function YE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QE(t,e,n){return n=n!=null?n.concat([t]):null,_h(4,4,YE.bind(null,e,t),n)}function Rv(){}function XE(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JE(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZE(t,e,n){return Vi&21?(fr(n,e)||(n=nE(),at.lanes|=n,Fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function Rk(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Wf.transition;Wf.transition={};try{t(!1),e()}finally{Me=n,Wf.transition=r}}function eN(){return Zn().memoizedState}function Dk(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tN(t))nN(e,n);else if(n=kE(t,e,n,r),n!==null){var s=hn();hr(n,t,r,s),rN(n,e,r)}}function Ok(t,e,n){var r=Bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tN(t))nN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,fr(l,o)){var c=e.interleaved;c===null?(s.next=s,Ev(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=kE(t,e,s,r),n!==null&&(s=hn(),hr(n,t,r,s),rN(n,e,r))}}function tN(t){var e=t.alternate;return t===at||e!==null&&e===at}function nN(t,e){xl=_u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dv(t,n)}}var ju={readContext:Jn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},Lk={readContext:Jn,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:$b,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4194308,4,YE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ud(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ud(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Dk.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:Ub,useDebugValue:Rv,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=Ub(!1),e=t[0];return t=Rk.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,s=wr();if(nt){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),At===null)throw Error(G(349));Vi&30||$E(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$b(zE.bind(null,r,i,t),[t]),r.flags|=2048,Ql(9,BE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wr(),e=At.identifierPrefix;if(nt){var n=Jr,r=Xr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mk={readContext:Jn,useCallback:XE,useContext:Jn,useEffect:kv,useImperativeHandle:QE,useInsertionEffect:GE,useLayoutEffect:KE,useMemo:JE,useReducer:Gf,useRef:WE,useState:function(){return Gf(Yl)},useDebugValue:Rv,useDeferredValue:function(t){var e=Zn();return ZE(e,_t.memoizedState,t)},useTransition:function(){var t=Gf(Yl)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:eN,unstable_isNewReconciler:!1},Vk={readContext:Jn,useCallback:XE,useContext:Jn,useEffect:kv,useImperativeHandle:QE,useInsertionEffect:GE,useLayoutEffect:KE,useMemo:JE,useReducer:Kf,useRef:WE,useState:function(){return Kf(Yl)},useDebugValue:Rv,useDeferredValue:function(t){var e=Zn();return _t===null?e.memoizedState=t:ZE(e,_t.memoizedState,t)},useTransition:function(){var t=Kf(Yl)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:eN,unstable_isNewReconciler:!1};function oo(t,e){try{var n="",r=e;do n+=hP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Yf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Am(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fk=typeof WeakMap=="function"?WeakMap:Map;function sN(t,e,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nu||(Nu=!0,Um=r),Am(t,e)},n}function iN(t,e,n){n=ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Am(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Am(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Fk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Zk.bind(null,t,e,n),e.then(t,t))}function zb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ns(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var Uk=ps.ReactCurrentOwner,En=!1;function dn(t,e,n,r){e.child=t===null?ME(e,null,n,r):io(e,t.child,n,r)}function qb(t,e,n,r,s){n=n.render;var i=e.ref;return za(e,s),r=Av(t,e,n,r,i,s),n=Pv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(nt&&n&&yv(e),e.flags|=1,dn(t,e,r,s),e.child)}function Wb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!$v(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,aN(t,e,i,r,s)):(t=Hd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(o,r)&&t.ref===e.ref)return ls(t,e,s)}return e.flags|=1,t=zs(i,r),t.ref=e.ref,t.return=e,e.child=t}function aN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Bl(i,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,ls(t,e,s)}return Pm(t,e,n,r,s)}function oN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Oa,An),An|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Oa,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Oa,An),An|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Oa,An),An|=r;return dn(t,e,s,n),e.child}function lN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pm(t,e,n,r,s){var i=Sn(n)?Li:tn.current;return i=ro(e,i),za(e,s),n=Av(t,e,n,r,i,s),r=Pv(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(nt&&r&&yv(e),e.flags|=1,dn(t,e,n,s),e.child)}function Gb(t,e,n,r,s){if(Sn(n)){var i=!0;mu(e)}else i=!1;if(za(e,s),e.stateNode===null)$d(t,e),OE(e,n,r),Cm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Jn(d):(d=Sn(n)?Li:tn.current,d=ro(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Vb(e,o,r,d),ws=!1;var f=e.memoizedState;o.state=f,bu(e,r,o,s),c=e.memoizedState,l!==r||f!==c||Nn.current||ws?(typeof u=="function"&&(Im(e,n,u,r),c=e.memoizedState),(l=ws||Mb(e,n,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,RE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ar(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Jn(c):(c=Sn(n)?Li:tn.current,c=ro(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Vb(e,o,r,c),ws=!1,f=e.memoizedState,o.state=f,bu(e,r,o,s);var g=e.memoizedState;l!==h||f!==g||Nn.current||ws?(typeof p=="function"&&(Im(e,n,p,r),g=e.memoizedState),(d=ws||Mb(e,n,d,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return km(t,e,n,r,i,s)}function km(t,e,n,r,s,i){lN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&kb(e,n,!1),ls(t,e,i);r=e.stateNode,Uk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=io(e,t.child,null,i),e.child=io(e,null,l,i)):dn(t,e,l,i),e.memoizedState=r.state,s&&kb(e,n,!0),e.child}function cN(t){var e=t.stateNode;e.pendingContext?Pb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pb(t,e.context,!1),Sv(t,e.containerInfo)}function Kb(t,e,n,r,s){return so(),bv(s),e.flags|=256,dn(t,e,n,r),e.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Dm(t){return{baseLanes:t,cachePool:null,transitions:null}}function dN(t,e,n){var r=e.pendingProps,s=it.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(it,s&1),t===null)return Sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nh(o,r,0,null),t=Pi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dm(n),e.memoizedState=Rm,t):Dv(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $k(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=zs(l,i):(i=Pi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Dm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Rm,r}return i=t.child,t=i.sibling,r=zs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dv(t,e){return e=Nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hd(t,e,n,r){return r!==null&&bv(r),io(e,t.child,null,n),t=Dv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $k(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Yf(Error(G(422))),hd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Nh({mode:"visible",children:r.children},s,0,null),i=Pi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&io(e,t.child,null,o),e.child.memoizedState=Dm(o),e.memoizedState=Rm,i);if(!(e.mode&1))return hd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(G(419)),r=Yf(i,r,void 0),hd(t,e,o,r)}if(l=(o&t.childLanes)!==0,En||l){if(r=At,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,os(t,s),hr(r,t,s,-1))}return Uv(),r=Yf(Error(G(421))),hd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=eR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,kn=Fs(s.nextSibling),Ln=e,nt=!0,lr=null,t!==null&&(qn[Wn++]=Xr,qn[Wn++]=Jr,qn[Wn++]=Mi,Xr=t.id,Jr=t.overflow,Mi=e),e=Dv(e,r.children),e.flags|=4096,e)}function Yb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tm(t.return,e,n)}function Qf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(dn(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yb(t,n,e);else if(t.tag===19)Yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(it,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&wu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qf(e,!0,n,null,i);break;case"together":Qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bk(t,e,n){switch(e.tag){case 3:cN(e),so();break;case 5:VE(e);break;case 1:Sn(e.type)&&mu(e);break;case 4:Sv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(yu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?dN(t,e,n):(Be(it,it.current&1),t=ls(t,e,n),t!==null?t.sibling:null);Be(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,oN(t,e,n)}return ls(t,e,n)}var hN,Om,fN,pN;hN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Om=function(){};fN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ji(Cr.current);var i=null;switch(n){case"input":s=rm(t,s),r=rm(t,r),i=[];break;case"select":s=lt({},s,{value:void 0}),r=lt({},r,{value:void 0}),i=[];break;case"textarea":s=am(t,s),r=am(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fu)}lm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ol.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&qe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};pN=function(t,e,n,r){n!==r&&(e.flags|=4)};function zo(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zk(t,e,n){var r=e.pendingProps;switch(xv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Sn(e.type)&&pu(),Wt(e),null;case 3:return r=e.stateNode,ao(),Ke(Nn),Ke(tn),Iv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(zm(lr),lr=null))),Om(t,e),Wt(e),null;case 5:Tv(e);var s=ji(Gl.current);if(n=e.type,t!==null&&e.stateNode!=null)fN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Wt(e),null}if(t=ji(Cr.current),dd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_r]=e,r[ql]=i,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<il.length;s++)qe(il[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":sb(r,i),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qe("invalid",r);break;case"textarea":ab(r,i),qe("invalid",r)}lm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&cd(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&cd(r.textContent,l,t),s=["children",""+l]):Ol.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":td(r),ib(r,i,!0);break;case"textarea":td(r),ob(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$j(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[ql]=r,hN(t,e,!1,!1),e.stateNode=t;e:{switch(o=cm(n,r),n){case"dialog":qe("cancel",t),qe("close",t),s=r;break;case"iframe":case"object":case"embed":qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<il.length;s++)qe(il[s],t);s=r;break;case"source":qe("error",t),s=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=r;break;case"details":qe("toggle",t),s=r;break;case"input":sb(t,r),s=rm(t,r),qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=lt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":ab(t,r),s=am(t,r),qe("invalid",t);break;default:s=r}lm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Hj(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bj(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ll(t,c):typeof c=="number"&&Ll(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ol.hasOwnProperty(i)?c!=null&&i==="onScroll"&&qe("scroll",t):c!=null&&sv(t,i,c,o))}switch(n){case"input":td(t),ib(t,r,!1);break;case"textarea":td(t),ob(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)pN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=ji(Gl.current),ji(Cr.current),dd(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(i=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:cd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Wt(e),null;case 13:if(Ke(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&kn!==null&&e.mode&1&&!(e.flags&128))PE(),so(),e.flags|=98560,i=!1;else if(i=dd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[_r]=e}else so(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else lr!==null&&(zm(lr),lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Et===0&&(Et=3):Uv())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return ao(),Om(t,e),t===null&&zl(e.stateNode.containerInfo),Wt(e),null;case 10:return jv(e.type._context),Wt(e),null;case 17:return Sn(e.type)&&pu(),Wt(e),null;case 19:if(Ke(it),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zo(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wu(t),o!==null){for(e.flags|=128,zo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(it,it.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>lo&&(e.flags|=128,r=!0,zo(i,!1),e.lanes=4194304)}else{if(!r)if(t=wu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nt)return Wt(e),null}else 2*ft()-i.renderingStartTime>lo&&n!==1073741824&&(e.flags|=128,r=!0,zo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=it.current,Be(it,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return Fv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function Hk(t,e){switch(xv(e),e.tag){case 1:return Sn(e.type)&&pu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ao(),Ke(Nn),Ke(tn),Iv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tv(e),null;case 13:if(Ke(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));so()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(it),null;case 4:return ao(),null;case 10:return jv(e.type._context),null;case 22:case 23:return Fv(),null;case 24:return null;default:return null}}var fd=!1,Qt=!1,qk=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function Lm(t,e,n){try{n()}catch(r){ut(t,e,r)}}var Qb=!1;function Wk(t,e){if(xm=du,t=yE(),vv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++d===s&&(l=o),f===i&&++u===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bm={focusedElem:t,selectionRange:n},du=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ar(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(E){ut(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return g=Qb,Qb=!1,g}function bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lm(e,n,i)}s=s.next}while(s!==r)}}function jh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mN(t){var e=t.alternate;e!==null&&(t.alternate=null,mN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[ql],delete e[jm],delete e[Ik],delete e[Ck])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gN(t){return t.tag===5||t.tag===3||t.tag===4}function Xb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fu));else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}var Ot=null,or=!1;function vs(t,e,n){for(n=n.child;n!==null;)vN(t,e,n),n=n.sibling}function vN(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(mh,n)}catch{}switch(n.tag){case 5:Qt||Da(n,e);case 6:var r=Ot,s=or;Ot=null,vs(t,e,n),Ot=r,or=s,Ot!==null&&(or?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(or?(t=Ot,n=n.stateNode,t.nodeType===8?zf(t.parentNode,n):t.nodeType===1&&zf(t,n),Ul(t)):zf(Ot,n.stateNode));break;case 4:r=Ot,s=or,Ot=n.stateNode.containerInfo,or=!0,vs(t,e,n),Ot=r,or=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lm(n,e,o),s=s.next}while(s!==r)}vs(t,e,n);break;case 1:if(!Qt&&(Da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ut(n,e,l)}vs(t,e,n);break;case 21:vs(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,vs(t,e,n),Qt=r):vs(t,e,n);break;default:vs(t,e,n)}}function Jb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qk),e.forEach(function(r){var s=tR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,or=!1;break e;case 3:Ot=l.stateNode.containerInfo,or=!0;break e;case 4:Ot=l.stateNode.containerInfo,or=!0;break e}l=l.return}if(Ot===null)throw Error(G(160));vN(i,o,s),Ot=null,or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ut(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yN(e,t),e=e.sibling}function yN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),br(t),r&4){try{bl(3,t,t.return),jh(3,t)}catch(y){ut(t,t.return,y)}try{bl(5,t,t.return)}catch(y){ut(t,t.return,y)}}break;case 1:sr(e,t),br(t),r&512&&n!==null&&Da(n,n.return);break;case 5:if(sr(e,t),br(t),r&512&&n!==null&&Da(n,n.return),t.flags&32){var s=t.stateNode;try{Ll(s,"")}catch(y){ut(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Fj(s,i),cm(l,o);var d=cm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Hj(s,h):u==="dangerouslySetInnerHTML"?Bj(s,h):u==="children"?Ll(s,h):sv(s,u,h,d)}switch(l){case"input":sm(s,i);break;case"textarea":Uj(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Fa(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Fa(s,!!i.multiple,i.defaultValue,!0):Fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[ql]=i}catch(y){ut(t,t.return,y)}}break;case 6:if(sr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ut(t,t.return,y)}}break;case 3:if(sr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ul(e.containerInfo)}catch(y){ut(t,t.return,y)}break;case 4:sr(e,t),br(t);break;case 13:sr(e,t),br(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mv=ft())),r&4&&Jb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(d=Qt)||u,sr(e,t),Qt=d):sr(e,t),br(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(h=ne=u;ne!==null;){switch(f=ne,p=f.child,f.tag){case 0:case 11:case 14:case 15:bl(4,f,f.return);break;case 1:Da(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ut(r,n,y)}}break;case 5:Da(f,f.return);break;case 22:if(f.memoizedState!==null){ew(h);continue}}p!==null?(p.return=f,ne=p):ew(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zj("display",o))}catch(y){ut(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){ut(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sr(e,t),br(t),r&4&&Jb(t);break;case 21:break;default:sr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gN(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ll(s,""),r.flags&=-33);var i=Xb(t);Fm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Xb(t);Vm(t,l,o);break;default:throw Error(G(161))}}catch(c){ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gk(t,e,n){ne=t,xN(t)}function xN(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=fd;var d=Qt;if(fd=o,(Qt=c)&&!d)for(ne=s;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?tw(s):c!==null?(c.return=o,ne=c):tw(s);for(;i!==null;)ne=i,xN(i),i=i.sibling;ne=s,fd=l,Qt=d}Zb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):Zb(t)}}function Zb(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||jh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lb(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ul(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Qt||e.flags&512&&Mm(e)}catch(f){ut(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function ew(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function tw(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jh(4,e)}catch(c){ut(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ut(e,s,c)}}var i=e.return;try{Mm(e)}catch(c){ut(e,i,c)}break;case 5:var o=e.return;try{Mm(e)}catch(c){ut(e,o,c)}}}catch(c){ut(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var Kk=Math.ceil,Eu=ps.ReactCurrentDispatcher,Ov=ps.ReactCurrentOwner,Qn=ps.ReactCurrentBatchConfig,Ie=0,At=null,gt=null,Ft=0,An=0,Oa=ii(0),Et=0,Xl=null,Fi=0,Eh=0,Lv=0,wl=null,_n=null,Mv=0,lo=1/0,Gr=null,Nu=!1,Um=null,$s=null,pd=!1,As=null,Su=0,_l=0,$m=null,Bd=-1,zd=0;function hn(){return Ie&6?ft():Bd!==-1?Bd:Bd=ft()}function Bs(t){return t.mode&1?Ie&2&&Ft!==0?Ft&-Ft:Pk.transition!==null?(zd===0&&(zd=nE()),zd):(t=Me,t!==0||(t=window.event,t=t===void 0?16:cE(t.type)),t):1}function hr(t,e,n,r){if(50<_l)throw _l=0,$m=null,Error(G(185));jc(t,n,r),(!(Ie&2)||t!==At)&&(t===At&&(!(Ie&2)&&(Eh|=n),Et===4&&js(t,Ft)),Tn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(lo=ft()+500,bh&&ai()))}function Tn(t,e){var n=t.callbackNode;PP(t,e);var r=cu(t,t===At?Ft:0);if(r===0)n!==null&&db(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&db(n),e===1)t.tag===0?Ak(nw.bind(null,t)):IE(nw.bind(null,t)),Sk(function(){!(Ie&6)&&ai()}),n=null;else{switch(rE(r)){case 1:n=cv;break;case 4:n=eE;break;case 16:n=lu;break;case 536870912:n=tE;break;default:n=lu}n=TN(n,bN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bN(t,e){if(Bd=-1,zd=0,Ie&6)throw Error(G(327));var n=t.callbackNode;if(Ha()&&t.callbackNode!==n)return null;var r=cu(t,t===At?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tu(t,r);else{e=r;var s=Ie;Ie|=2;var i=_N();(At!==t||Ft!==e)&&(Gr=null,lo=ft()+500,Ai(t,e));do try{Xk();break}catch(l){wN(t,l)}while(!0);_v(),Eu.current=i,Ie=s,gt!==null?e=0:(At=null,Ft=0,e=Et)}if(e!==0){if(e===2&&(s=pm(t),s!==0&&(r=s,e=Bm(t,s))),e===1)throw n=Xl,Ai(t,0),js(t,r),Tn(t,ft()),n;if(e===6)js(t,r);else{if(s=t.current.alternate,!(r&30)&&!Yk(s)&&(e=Tu(t,r),e===2&&(i=pm(t),i!==0&&(r=i,e=Bm(t,i))),e===1))throw n=Xl,Ai(t,0),js(t,r),Tn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:gi(t,_n,Gr);break;case 3:if(js(t,r),(r&130023424)===r&&(e=Mv+500-ft(),10<e)){if(cu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_m(gi.bind(null,t,_n,Gr),e);break}gi(t,_n,Gr);break;case 4:if(js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kk(r/1960))-r,10<r){t.timeoutHandle=_m(gi.bind(null,t,_n,Gr),r);break}gi(t,_n,Gr);break;case 5:gi(t,_n,Gr);break;default:throw Error(G(329))}}}return Tn(t,ft()),t.callbackNode===n?bN.bind(null,t):null}function Bm(t,e){var n=wl;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=Tu(t,e),t!==2&&(e=_n,_n=n,e!==null&&zm(e)),t}function zm(t){_n===null?_n=t:_n.push.apply(_n,t)}function Yk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e){for(e&=~Lv,e&=~Eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function nw(t){if(Ie&6)throw Error(G(327));Ha();var e=cu(t,0);if(!(e&1))return Tn(t,ft()),null;var n=Tu(t,e);if(t.tag!==0&&n===2){var r=pm(t);r!==0&&(e=r,n=Bm(t,r))}if(n===1)throw n=Xl,Ai(t,0),js(t,e),Tn(t,ft()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gi(t,_n,Gr),Tn(t,ft()),null}function Vv(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(lo=ft()+500,bh&&ai())}}function Ui(t){As!==null&&As.tag===0&&!(Ie&6)&&Ha();var e=Ie;Ie|=1;var n=Qn.transition,r=Me;try{if(Qn.transition=null,Me=1,t)return t()}finally{Me=r,Qn.transition=n,Ie=e,!(Ie&6)&&ai()}}function Fv(){An=Oa.current,Ke(Oa)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nk(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(xv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pu();break;case 3:ao(),Ke(Nn),Ke(tn),Iv();break;case 5:Tv(r);break;case 4:ao();break;case 13:Ke(it);break;case 19:Ke(it);break;case 10:jv(r.type._context);break;case 22:case 23:Fv()}n=n.return}if(At=t,gt=t=zs(t.current,null),Ft=An=e,Et=0,Xl=null,Lv=Eh=Fi=0,_n=wl=null,_i!==null){for(e=0;e<_i.length;e++)if(n=_i[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}_i=null}return t}function wN(t,e){do{var n=gt;try{if(_v(),Fd.current=ju,_u){for(var r=at.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_u=!1}if(Vi=0,Ct=_t=at=null,xl=!1,Kl=0,Ov.current=null,n===null||n.return===null){Et=1,Xl=e,gt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=zb(o);if(p!==null){p.flags&=-257,Hb(p,o,l,i,e),p.mode&1&&Bb(i,d,e),e=p,c=d;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){Bb(i,d,e),Uv();break e}c=Error(G(426))}}else if(nt&&l.mode&1){var b=zb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hb(b,o,l,i,e),bv(oo(c,l));break e}}i=c=oo(c,l),Et!==4&&(Et=2),wl===null?wl=[i]:wl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=sN(i,c,e);Ob(i,m);break e;case 1:l=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($s===null||!$s.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=iN(i,l,e);Ob(i,E);break e}}i=i.return}while(i!==null)}EN(n)}catch(S){e=S,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function _N(){var t=Eu.current;return Eu.current=ju,t===null?ju:t}function Uv(){(Et===0||Et===3||Et===2)&&(Et=4),At===null||!(Fi&268435455)&&!(Eh&268435455)||js(At,Ft)}function Tu(t,e){var n=Ie;Ie|=2;var r=_N();(At!==t||Ft!==e)&&(Gr=null,Ai(t,e));do try{Qk();break}catch(s){wN(t,s)}while(!0);if(_v(),Ie=n,Eu.current=r,gt!==null)throw Error(G(261));return At=null,Ft=0,Et}function Qk(){for(;gt!==null;)jN(gt)}function Xk(){for(;gt!==null&&!_P();)jN(gt)}function jN(t){var e=SN(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?EN(t):gt=e,Ov.current=null}function EN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hk(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,gt=null;return}}else if(n=zk(n,e,An),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Et===0&&(Et=5)}function gi(t,e,n){var r=Me,s=Qn.transition;try{Qn.transition=null,Me=1,Jk(t,e,n,r)}finally{Qn.transition=s,Me=r}return null}function Jk(t,e,n,r){do Ha();while(As!==null);if(Ie&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kP(t,i),t===At&&(gt=At=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pd||(pd=!0,TN(lu,function(){return Ha(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qn.transition,Qn.transition=null;var o=Me;Me=1;var l=Ie;Ie|=4,Ov.current=null,Wk(t,n),yN(n,t),yk(bm),du=!!xm,bm=xm=null,t.current=n,Gk(n),jP(),Ie=l,Me=o,Qn.transition=i}else t.current=n;if(pd&&(pd=!1,As=t,Su=s),i=t.pendingLanes,i===0&&($s=null),SP(n.stateNode),Tn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nu)throw Nu=!1,t=Um,Um=null,t;return Su&1&&t.tag!==0&&Ha(),i=t.pendingLanes,i&1?t===$m?_l++:(_l=0,$m=t):_l=0,ai(),null}function Ha(){if(As!==null){var t=rE(Su),e=Qn.transition,n=Me;try{if(Qn.transition=null,Me=16>t?16:t,As===null)var r=!1;else{if(t=As,As=null,Su=0,Ie&6)throw Error(G(331));var s=Ie;for(Ie|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ne=d;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:bl(8,u,i)}var h=u.child;if(h!==null)h.return=u,ne=h;else for(;ne!==null;){u=ne;var f=u.sibling,p=u.return;if(mN(u),u===d){ne=null;break}if(f!==null){f.return=p,ne=f;break}ne=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ne=m;break e}ne=i.return}}var x=t.current;for(ne=x;ne!==null;){o=ne;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ne=v;else e:for(o=x;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jh(9,l)}}catch(S){ut(l,l.return,S)}if(l===o){ne=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,ne=E;break e}ne=l.return}}if(Ie=s,ai(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(mh,t)}catch{}r=!0}return r}finally{Me=n,Qn.transition=e}}return!1}function rw(t,e,n){e=oo(n,e),e=sN(t,e,1),t=Us(t,e,1),e=hn(),t!==null&&(jc(t,1,e),Tn(t,e))}function ut(t,e,n){if(t.tag===3)rw(t,t,n);else for(;e!==null;){if(e.tag===3){rw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=oo(n,t),t=iN(e,t,1),e=Us(e,t,1),t=hn(),e!==null&&(jc(e,1,t),Tn(e,t));break}}e=e.return}}function Zk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Ft&n)===n&&(Et===4||Et===3&&(Ft&130023424)===Ft&&500>ft()-Mv?Ai(t,0):Lv|=n),Tn(t,e)}function NN(t,e){e===0&&(t.mode&1?(e=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):e=1);var n=hn();t=os(t,e),t!==null&&(jc(t,e,n),Tn(t,n))}function eR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NN(t,n)}function tR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),NN(t,n)}var SN;SN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,Bk(t,e,n);En=!!(t.flags&131072)}else En=!1,nt&&e.flags&1048576&&CE(e,vu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$d(t,e),t=e.pendingProps;var s=ro(e,tn.current);za(e,n),s=Av(null,e,r,t,s,n);var i=Pv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(i=!0,mu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nv(e),s.updater=wh,e.stateNode=s,s._reactInternals=e,Cm(e,r,t,n),e=km(null,e,r,!0,i,n)):(e.tag=0,nt&&i&&yv(e),dn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch($d(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=rR(r),t=ar(r,t),s){case 0:e=Pm(null,e,r,t,n);break e;case 1:e=Gb(null,e,r,t,n);break e;case 11:e=qb(null,e,r,t,n);break e;case 14:e=Wb(null,e,r,ar(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Pm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Gb(t,e,r,s,n);case 3:e:{if(cN(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,RE(t,e),bu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=oo(Error(G(423)),e),e=Kb(t,e,r,n,s);break e}else if(r!==s){s=oo(Error(G(424)),e),e=Kb(t,e,r,n,s);break e}else for(kn=Fs(e.stateNode.containerInfo.firstChild),Ln=e,nt=!0,lr=null,n=ME(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(so(),r===s){e=ls(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return VE(e),t===null&&Sm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,wm(r,s)?o=null:i!==null&&wm(r,i)&&(e.flags|=32),lN(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&Sm(e),null;case 13:return dN(t,e,n);case 4:return Sv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),qb(t,e,r,s,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(yu,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!Nn.current){e=ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ns(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Tm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Tm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,za(e,n),s=Jn(s),r=r(s),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,s=ar(r,e.pendingProps),s=ar(r.type,s),Wb(t,e,r,s,n);case 15:return aN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),$d(t,e),e.tag=1,Sn(r)?(t=!0,mu(e)):t=!1,za(e,n),OE(e,r,s),Cm(e,r,s,n),km(null,e,r,!0,t,n);case 19:return uN(t,e,n);case 22:return oN(t,e,n)}throw Error(G(156,e.tag))};function TN(t,e){return Zj(t,e)}function nR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,r){return new nR(t,e,n,r)}function $v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rR(t){if(typeof t=="function")return $v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===av)return 11;if(t===ov)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")$v(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Na:return Pi(n.children,s,i,e);case iv:o=8,s|=8;break;case Zp:return t=Yn(12,n,e,s|2),t.elementType=Zp,t.lanes=i,t;case em:return t=Yn(13,n,e,s),t.elementType=em,t.lanes=i,t;case tm:return t=Yn(19,n,e,s),t.elementType=tm,t.lanes=i,t;case Lj:return Nh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dj:o=10;break e;case Oj:o=9;break e;case av:o=11;break e;case ov:o=14;break e;case bs:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Yn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pi(t,e,n,r){return t=Yn(7,t,r,e),t.lanes=n,t}function Nh(t,e,n,r){return t=Yn(22,t,r,e),t.elementType=Lj,t.lanes=n,t.stateNode={isHidden:!1},t}function Xf(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function Jf(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bv(t,e,n,r,s,i,o,l,c){return t=new sR(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Yn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nv(i),t}function iR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IN(t){if(!t)return Xs;t=t._reactInternals;e:{if(ta(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Sn(n))return TE(t,n,e)}return e}function CN(t,e,n,r,s,i,o,l,c){return t=Bv(n,r,!0,t,s,i,o,l,c),t.context=IN(null),n=t.current,r=hn(),s=Bs(n),i=ns(r,s),i.callback=e??null,Us(n,i,s),t.current.lanes=s,jc(t,s,r),Tn(t,r),t}function Sh(t,e,n,r){var s=e.current,i=hn(),o=Bs(s);return n=IN(n),e.context===null?e.context=n:e.pendingContext=n,e=ns(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(s,e,o),t!==null&&(hr(t,s,o,i),Vd(t,s,o)),o}function Iu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zv(t,e){sw(t,e),(t=t.alternate)&&sw(t,e)}function aR(){return null}var AN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hv(t){this._internalRoot=t}Th.prototype.render=Hv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Sh(t,e,null,null)};Th.prototype.unmount=Hv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ui(function(){Sh(null,t,null,null)}),e[as]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var e=aE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&lE(t)}};function qv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iw(){}function oR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Iu(o);i.call(d)}}var o=CN(e,r,t,0,null,!1,!1,"",iw);return t._reactRootContainer=o,t[as]=o.current,zl(t.nodeType===8?t.parentNode:t),Ui(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Iu(c);l.call(d)}}var c=Bv(t,0,!1,null,null,!1,!1,"",iw);return t._reactRootContainer=c,t[as]=c.current,zl(t.nodeType===8?t.parentNode:t),Ui(function(){Sh(e,c,n,r)}),c}function Ch(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Iu(o);l.call(c)}}Sh(e,o,t,s)}else o=oR(n,e,t,s,r);return Iu(o)}sE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sl(e.pendingLanes);n!==0&&(dv(e,n|1),Tn(e,ft()),!(Ie&6)&&(lo=ft()+500,ai()))}break;case 13:Ui(function(){var r=os(t,1);if(r!==null){var s=hn();hr(r,t,1,s)}}),zv(t,1)}};uv=function(t){if(t.tag===13){var e=os(t,134217728);if(e!==null){var n=hn();hr(e,t,134217728,n)}zv(t,134217728)}};iE=function(t){if(t.tag===13){var e=Bs(t),n=os(t,e);if(n!==null){var r=hn();hr(n,t,e,r)}zv(t,e)}};aE=function(){return Me};oE=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};um=function(t,e,n){switch(e){case"input":if(sm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xh(r);if(!s)throw Error(G(90));Vj(r),sm(r,s)}}}break;case"textarea":Uj(t,n);break;case"select":e=n.value,e!=null&&Fa(t,!!n.multiple,e,!1)}};Gj=Vv;Kj=Ui;var lR={usingClientEntryPoint:!1,Events:[Nc,Ca,xh,qj,Wj,Vv]},Ho={findFiberByHostInstance:wi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cR={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xj(t),t===null?null:t.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||aR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{mh=md.inject(cR),Ir=md}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lR;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qv(e))throw Error(G(200));return iR(t,e,null,n)};$n.createRoot=function(t,e){if(!qv(t))throw Error(G(299));var n=!1,r="",s=AN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Bv(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,zl(t.nodeType===8?t.parentNode:t),new Hv(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Xj(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return Ui(t)};$n.hydrate=function(t,e,n){if(!Ih(e))throw Error(G(200));return Ch(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!qv(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=AN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CN(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,zl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Th(e)};$n.render=function(t,e,n){if(!Ih(e))throw Error(G(200));return Ch(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!Ih(t))throw Error(G(40));return t._reactRootContainer?(Ui(function(){Ch(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};$n.unstable_batchedUpdates=Vv;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ih(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Ch(t,e,n,!1,r)};$n.version="18.2.0-next-9e3b772b8-20220608";function PN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PN)}catch(t){console.error(t)}}PN(),Cj.exports=$n;var dR=Cj.exports,aw=dR;Xp.createRoot=aw.createRoot,Xp.hydrateRoot=aw.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}var Ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ps||(Ps={}));const ow="popstate";function uR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:c=""}=na(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Hm("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:Cu(i))}function r(s,i){Ah(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return fR(e,n,r,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ah(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hR(){return Math.random().toString(36).substr(2,8)}function lw(t,e){return{usr:t.state,key:t.key,idx:e}}function Hm(t,e,n,r){return n===void 0&&(n=null),Jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:n,key:e&&e.key||r||hR()})}function Cu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Ps.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Jl({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Ps.Pop;let b=u(),m=b==null?null:b-d;d=b,c&&c({action:l,location:y.location,delta:m})}function f(b,m){l=Ps.Push;let x=Hm(y.location,b,m);n&&n(x,b),d=u()+1;let v=lw(x,d),E=y.createHref(x);try{o.pushState(v,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(E)}i&&c&&c({action:l,location:y.location,delta:1})}function p(b,m){l=Ps.Replace;let x=Hm(y.location,b,m);n&&n(x,b),d=u();let v=lw(x,d),E=y.createHref(x);o.replaceState(v,"",E),i&&c&&c({action:l,location:y.location,delta:0})}function g(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Cu(b);return xt(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let y={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ow,h),c=b,()=>{s.removeEventListener(ow,h),c=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}var cw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cw||(cw={}));function pR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?na(e):e,s=Wv(r.pathname||"/",n);if(s==null)return null;let i=kN(t);mR(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=ER(i[l],TR(s));return o}function kN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Hs([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),kN(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:_R(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of RN(i.path))s(i,o,c)}),e}function RN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=RN(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function mR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gR=/^:[\w-]+$/,vR=3,yR=2,xR=1,bR=10,wR=-2,dw=t=>t==="*";function _R(t,e){let n=t.split("/"),r=n.length;return n.some(dw)&&(r+=wR),e&&(r+=yR),n.filter(s=>!dw(s)).reduce((s,i)=>s+(gR.test(i)?vR:i===""?xR:bR),r)}function jR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ER(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",u=NR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!u)return null;Object.assign(r,u.params);let h=l.route;i.push({params:r,pathname:Hs([s,u.pathname]),pathnameBase:kR(Hs([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Hs([s,u.pathnameBase]))}return i}function NR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[f]=void 0:d[f]=IR(g||"",f),d},{}),pathname:i,pathnameBase:o,pattern:t}}function SR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ah(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TR(t){try{return decodeURI(t)}catch(e){return Ah(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IR(t,e){try{return decodeURIComponent(t)}catch(n){return Ah(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Wv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?na(t):t;return{pathname:n?n.startsWith("/")?n:AR(n,e):e,search:RR(r),hash:DR(s)}}function AR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DN(t,e){let n=PR(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ON(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=na(t):(s=Jl({},t),xt(!s.pathname||!s.pathname.includes("?"),Zf("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),Zf("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),Zf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=CR(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),kR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LN=["post","put","patch","delete"];new Set(LN);const LR=["get",...LN];new Set(LR);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}const Gv=T.createContext(null),MR=T.createContext(null),ra=T.createContext(null),Ph=T.createContext(null),oi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),MN=T.createContext(null);function VR(t,e){let{relative:n}=e===void 0?{}:e;Tc()||xt(!1);let{basename:r,navigator:s}=T.useContext(ra),{hash:i,pathname:o,search:l}=UN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Hs([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Tc(){return T.useContext(Ph)!=null}function Ic(){return Tc()||xt(!1),T.useContext(Ph).location}function VN(t){T.useContext(ra).static||T.useLayoutEffect(t)}function FN(){let{isDataRoute:t}=T.useContext(oi);return t?XR():FR()}function FR(){Tc()||xt(!1);let t=T.useContext(Gv),{basename:e,future:n,navigator:r}=T.useContext(ra),{matches:s}=T.useContext(oi),{pathname:i}=Ic(),o=JSON.stringify(DN(s,n.v7_relativeSplatPath)),l=T.useRef(!1);return VN(()=>{l.current=!0}),T.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=ON(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hs([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function Ur(){let{matches:t}=T.useContext(oi),e=t[t.length-1];return e?e.params:{}}function UN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(ra),{matches:s}=T.useContext(oi),{pathname:i}=Ic(),o=JSON.stringify(DN(s,r.v7_relativeSplatPath));return T.useMemo(()=>ON(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function UR(t,e){return $R(t,e)}function $R(t,e,n,r){Tc()||xt(!1);let{navigator:s}=T.useContext(ra),{matches:i}=T.useContext(oi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ic(),u;if(e){var h;let b=typeof e=="string"?na(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||xt(!1),u=b}else u=d;let f=u.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=pR(t,{pathname:p}),y=WR(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Hs([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Hs([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?T.createElement(Ph.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ps.Pop}},y):y}function BR(){let t=QR(),e=OR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const zR=T.createElement(BR,null);class HR extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(oi.Provider,{value:this.props.routeContext},T.createElement(MN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qR(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(Gv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(oi.Provider,{value:e},r)}function WR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));u>=0||xt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,y=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||zR,c&&(d<0&&f===0?(JR("route-fallback",!1),g=!0,b=null):d===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),x=()=>{let v;return p?v=y:g?v=b:h.route.Component?v=T.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,T.createElement(qR,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(HR,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var $N=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($N||{}),Au=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Au||{});function GR(t){let e=T.useContext(Gv);return e||xt(!1),e}function KR(t){let e=T.useContext(MR);return e||xt(!1),e}function YR(t){let e=T.useContext(oi);return e||xt(!1),e}function BN(t){let e=YR(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function QR(){var t;let e=T.useContext(MN),n=KR(Au.UseRouteError),r=BN(Au.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XR(){let{router:t}=GR($N.UseNavigateStable),e=BN(Au.UseNavigateStable),n=T.useRef(!1);return VN(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zl({fromRouteId:e},i)))},[t,e])}const uw={};function JR(t,e,n){!e&&!uw[t]&&(uw[t]=!0)}function me(t){xt(!1)}function ZR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ps.Pop,navigator:i,static:o=!1,future:l}=t;Tc()&&xt(!1);let c=e.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:o,future:Zl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=na(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,y=T.useMemo(()=>{let b=Wv(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:s}},[c,u,h,f,p,g,s]);return y==null?null:T.createElement(ra.Provider,{value:d},T.createElement(Ph.Provider,{children:n,value:y}))}function Kv(t){let{children:e,location:n}=t;return UR(qm(e),n)}new Promise(()=>{});function qm(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,qm(r.props.children,i));return}r.type!==me&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}function eD(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function tD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nD(t,e){return t.button===0&&(!e||e==="_self")&&!tD(t)}const rD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],sD="6";try{window.__reactRouterVersion=sD}catch{}const iD="startTransition",hw=Qp[iD];function aD(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=uR({window:s,v5Compat:!0}));let o=i.current,[l,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=T.useCallback(h=>{d&&hw?hw(()=>c(h)):c(h)},[c,d]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(ZR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const oD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,unstable_viewTransition:h}=e,f=eD(e,rD),{basename:p}=T.useContext(ra),g,y=!1;if(typeof d=="string"&&lD.test(d)&&(g=d,oD))try{let v=new URL(window.location.href),E=d.startsWith("//")?new URL(v.protocol+d):new URL(d),S=Wv(E.pathname,p);E.origin===v.origin&&S!=null?d=S+E.search+E.hash:y=!0}catch{}let b=VR(d,{relative:s}),m=cD(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,unstable_viewTransition:h});function x(v){r&&r(v),v.defaultPrevented||m(v)}return T.createElement("a",Wm({},f,{href:g||b,onClick:y||i?r:x,ref:n,target:c}))});var fw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var pw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pw||(pw={}));function cD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=FN(),d=Ic(),u=UN(t,{relative:o});return T.useCallback(h=>{if(nD(h,n)){h.preventDefault();let f=r!==void 0?r:Cu(d)===Cu(u);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[d,c,u,r,s,n,t,i,o,l])}var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},HN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||h==null)throw new uD;const f=i<<2|l>>4;if(r.push(f),d!==64){const p=l<<4&240|d>>2;if(r.push(p),h!==64){const g=d<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hD=function(t){const e=zN(t);return HN.encodeByteArray(e,!0)},Pu=function(t){return hD(t).replace(/\./g,"")},qN=function(t){try{return HN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=()=>fD().__FIREBASE_DEFAULTS__,mD=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qN(t[1]);return e&&JSON.parse(e)},kh=()=>{try{return pD()||mD()||gD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WN=t=>{var e,n;return(n=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GN=t=>{const e=WN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KN=()=>{var t;return(t=kh())===null||t===void 0?void 0:t.config},YN=t=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pu(JSON.stringify(n)),Pu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function xD(){var t;const e=(t=kh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wD(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _D(){return!xD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yv(){try{return typeof indexedDB=="object"}catch{return!1}}function JN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function jD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ED,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ND(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new rr(s,l,r)}}function ND(t,e){return t.replace(SD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SD=/\{\$([^}]+)}/g;function TD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $i(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(gw(i)&&gw(o)){if(!$i(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function al(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ID(t,e){const n=new CD(t,e);return n.subscribe.bind(n)}class CD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ep),s.error===void 0&&(s.error=ep),s.complete===void 0&&(s.complete=ep);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=1e3,kD=2,RD=4*60*60*1e3,DD=.5;function vw(t,e=PD,n=kD){const r=e*Math.pow(n,t),s=Math.round(DD*r*(Math.random()-.5)*2);return Math.min(RD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MD(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LD(t){return t===vi?void 0:t}function MD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const FD={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},UD=Ne.INFO,$D={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},BD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$D[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rh{constructor(e){this.name=e,this._logLevel=UD,this._logHandler=BD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const zD=(t,e)=>e.some(n=>t instanceof n);let yw,xw;function HD(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qD(){return xw||(xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZN=new WeakMap,Gm=new WeakMap,eS=new WeakMap,tp=new WeakMap,Qv=new WeakMap;function WD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(qs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZN.set(n,t)}).catch(()=>{}),Qv.set(e,t),e}function GD(t){if(Gm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Gm.set(t,e)}let Km={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KD(t){Km=t(Km)}function YD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(np(this),e,...n);return eS.set(r,e.sort?e.sort():[e]),qs(r)}:qD().includes(t)?function(...e){return t.apply(np(this),e),qs(ZN.get(this))}:function(...e){return qs(t.apply(np(this),e))}}function QD(t){return typeof t=="function"?YD(t):(t instanceof IDBTransaction&&GD(t),zD(t,HD())?new Proxy(t,Km):t)}function qs(t){if(t instanceof IDBRequest)return WD(t);if(tp.has(t))return tp.get(t);const e=QD(t);return e!==t&&(tp.set(t,e),Qv.set(e,t)),e}const np=t=>Qv.get(t);function tS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=qs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qs(o.result),c.oldVersion,c.newVersion,qs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const XD=["get","getKey","getAll","getAllKeys","count"],JD=["put","add","delete","clear"],rp=new Map;function bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=JD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||XD.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return rp.set(e,i),i}KD(t=>({...t,get:(e,n,r)=>bw(e,n)||t.get(e,n,r),has:(e,n)=>!!bw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ym="@firebase/app",ww="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Rh("@firebase/app"),tO="@firebase/app-compat",nO="@firebase/analytics-compat",rO="@firebase/analytics",sO="@firebase/app-check-compat",iO="@firebase/app-check",aO="@firebase/auth",oO="@firebase/auth-compat",lO="@firebase/database",cO="@firebase/database-compat",dO="@firebase/functions",uO="@firebase/functions-compat",hO="@firebase/installations",fO="@firebase/installations-compat",pO="@firebase/messaging",mO="@firebase/messaging-compat",gO="@firebase/performance",vO="@firebase/performance-compat",yO="@firebase/remote-config",xO="@firebase/remote-config-compat",bO="@firebase/storage",wO="@firebase/storage-compat",_O="@firebase/firestore",jO="@firebase/firestore-compat",EO="firebase",NO="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="[DEFAULT]",SO={[Ym]:"fire-core",[tO]:"fire-core-compat",[rO]:"fire-analytics",[nO]:"fire-analytics-compat",[iO]:"fire-app-check",[sO]:"fire-app-check-compat",[aO]:"fire-auth",[oO]:"fire-auth-compat",[lO]:"fire-rtdb",[cO]:"fire-rtdb-compat",[dO]:"fire-fn",[uO]:"fire-fn-compat",[hO]:"fire-iid",[fO]:"fire-iid-compat",[pO]:"fire-fcm",[mO]:"fire-fcm-compat",[gO]:"fire-perf",[vO]:"fire-perf-compat",[yO]:"fire-rc",[xO]:"fire-rc-compat",[bO]:"fire-gcs",[wO]:"fire-gcs-compat",[_O]:"fire-fst",[jO]:"fire-fst-compat","fire-js":"fire-js",[EO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,Xm=new Map;function TO(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){const e=t.name;if(Xm.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,t);for(const n of ku.values())TO(n,t);return!0}function li(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ws=new sa("app","Firebase",IO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=NO;function nS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ws.create("bad-app-name",{appName:String(s)});if(n||(n=KN()),!n)throw Ws.create("no-options");const i=ku.get(s);if(i){if($i(n,i.options)&&$i(r,i.config))return i;throw Ws.create("duplicate-app",{appName:s})}const o=new VD(s);for(const c of Xm.values())o.addComponent(c);const l=new CO(n,r,o);return ku.set(s,l),l}function Dh(t=Qm){const e=ku.get(t);if(!e&&t===Qm&&KN())return nS();if(!e)throw Ws.create("no-app",{appName:t});return e}function In(t,e,n){var r;let s=(r=SO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(l.join(" "));return}pr(new er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="firebase-heartbeat-database",PO=1,ec="firebase-heartbeat-store";let sp=null;function rS(){return sp||(sp=tS(AO,PO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),sp}async function kO(t){try{const n=(await rS()).transaction(ec),r=await n.objectStore(ec).get(sS(t));return await n.done,r}catch(e){if(e instanceof rr)Bi.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(n.message)}}}async function _w(t,e){try{const r=(await rS()).transaction(ec,"readwrite");await r.objectStore(ec).put(e,sS(t)),await r.done}catch(n){if(n instanceof rr)Bi.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function sS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=1024,DO=30*24*60*60*1e3;class OO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=DO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jw(),{heartbeatsToSend:r,unsentEntries:s}=LO(this._heartbeatsCache.heartbeats),i=Pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function jw(){return new Date().toISOString().substring(0,10)}function LO(t,e=RO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ew(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ew(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yv()?JN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ew(t){return Pu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){pr(new er("platform-logger",e=>new ZD(e),"PRIVATE")),pr(new er("heartbeat",e=>new OO(e),"PRIVATE")),In(Ym,ww,t),In(Ym,ww,"esm2017"),In("fire-js","")}VO("");var FO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,Xv=Xv||{},ue=FO||self;function Oh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ac(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function UO(t){return Object.prototype.hasOwnProperty.call(t,ip)&&t[ip]||(t[ip]=++$O)}var ip="closure_uid_"+(1e9*Math.random()>>>0),$O=0;function BO(t,e,n){return t.call.apply(t.bind,arguments)}function zO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=BO:Zt=zO,Zt.apply(null,arguments)}function gd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[s].apply(r,o)}}function ci(){this.s=this.s,this.o=this.o}var HO=0;ci.prototype.s=!1;ci.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),HO!=0)&&UO(this)};ci.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Jv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Nw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Oh(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function en(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var qO=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ue.addEventListener("test",n,e),ue.removeEventListener("test",n,e)}catch{}return t}();function tc(t){return/^[\s\xa0]*$/.test(t)}function Lh(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function jr(t){return Lh().indexOf(t)!=-1}function Zv(t){return Zv[" "](t),t}Zv[" "]=function(){};function WO(t,e){var n=VL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var GO=jr("Opera"),co=jr("Trident")||jr("MSIE"),aS=jr("Edge"),Jm=aS||co,oS=jr("Gecko")&&!(Lh().toLowerCase().indexOf("webkit")!=-1&&!jr("Edge"))&&!(jr("Trident")||jr("MSIE"))&&!jr("Edge"),KO=Lh().toLowerCase().indexOf("webkit")!=-1&&!jr("Edge");function lS(){var t=ue.document;return t?t.documentMode:void 0}var Zm;e:{var ap="",op=function(){var t=Lh();if(oS)return/rv:([^\);]+)(\)|;)/.exec(t);if(aS)return/Edge\/([\d\.]+)/.exec(t);if(co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(KO)return/WebKit\/(\S+)/.exec(t);if(GO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(op&&(ap=op?op[1]:""),co){var lp=lS();if(lp!=null&&lp>parseFloat(ap)){Zm=String(lp);break e}}Zm=ap}var eg;if(ue.document&&co){var Sw=lS();eg=Sw||parseInt(Zm,10)||void 0}else eg=void 0;var YO=eg;function nc(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(oS){e:{try{Zv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:QO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nc.$.h.call(this)}}kt(nc,en);var QO={2:"touch",3:"pen",4:"mouse"};nc.prototype.h=function(){nc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pc="closure_listenable_"+(1e6*Math.random()|0),XO=0;function JO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++XO,this.fa=this.ia=!1}function Mh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ey(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ZO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function cS(t){const e={};for(const n in t)e[n]=t[n];return e}const Tw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Tw.length;i++)n=Tw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vh(t){this.src=t,this.g={},this.h=0}Vh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=ng(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new JO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function tg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=iS(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Mh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ng(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var ty="closure_lm_"+(1e6*Math.random()|0),cp={};function uS(t,e,n,r,s){if(r&&r.once)return fS(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)uS(t,e[i],n,r,s);return null}return n=sy(n),t&&t[Pc]?t.O(e,n,Ac(r)?!!r.capture:!!r,s):hS(t,e,n,!1,r,s)}function hS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Ac(s)?!!s.capture:!!s,l=ry(t);if(l||(t[ty]=l=new Vh(t)),n=l.add(e,n,r,o,i),n.proxy)return n;if(r=eL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(mS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eL(){function t(n){return e.call(t.src,t.listener,n)}const e=tL;return t}function fS(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)fS(t,e[i],n,r,s);return null}return n=sy(n),t&&t[Pc]?t.P(e,n,Ac(r)?!!r.capture:!!r,s):hS(t,e,n,!0,r,s)}function pS(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)pS(t,e[i],n,r,s);else r=Ac(r)?!!r.capture:!!r,n=sy(n),t&&t[Pc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=ng(i,n,r,s),-1<n&&(Mh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=ry(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ng(e,n,r,s)),(n=-1<t?e[t]:null)&&ny(n))}function ny(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pc])tg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ry(e))?(tg(n,t),n.h==0&&(n.src=null,e[ty]=null)):Mh(t)}}}function mS(t){return t in cp?cp[t]:cp[t]="on"+t}function tL(t,e){if(t.fa)t=!0;else{e=new nc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ny(t),t=n.call(r,e)}return t}function ry(t){return t=t[ty],t instanceof Vh?t:null}var dp="__closure_events_fn_"+(1e9*Math.random()>>>0);function sy(t){return typeof t=="function"?t:(t[dp]||(t[dp]=function(e){return t.handleEvent(e)}),t[dp])}function Pt(){ci.call(this),this.i=new Vh(this),this.S=this,this.J=null}kt(Pt,ci);Pt.prototype[Pc]=!0;Pt.prototype.removeEventListener=function(t,e,n,r){pS(this,t,e,n,r)};function Ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new en(e,t);else if(e instanceof en)e.target=e.target||t;else{var s=e;e=new en(r,t),dS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=vd(o,r,!0,e)&&s}if(o=e.g=t,s=vd(o,r,!0,e)&&s,s=vd(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=vd(o,r,!1,e)&&s}Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mh(n[r]);delete t.g[e],t.h--}}this.J=null};Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function vd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&tg(t.i,o),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var iy=ue.JSON.stringify;class nL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function rL(){var t=ay;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class sL{constructor(){this.h=this.g=null}add(e,n){const r=gS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var gS=new nL(()=>new iL,t=>t.reset());class iL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oL(t){ue.setTimeout(()=>{throw t},0)}let rc,sc=!1,ay=new sL,vS=()=>{const t=ue.Promise.resolve(void 0);rc=()=>{t.then(lL)}};var lL=()=>{for(var t;t=rL();){try{t.h.call(t.g)}catch(n){oL(n)}var e=gS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}sc=!1};function Fh(t,e){Pt.call(this),this.h=t||1,this.g=e||ue,this.j=Zt(this.qb,this),this.l=Date.now()}kt(Fh,Pt);J=Fh.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ut(this,"tick"),this.ga&&(oy(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function oy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){Fh.$.N.call(this),oy(this),delete this.g};function ly(t,e,n){if(typeof t=="function")n&&(t=Zt(t,n));else if(t&&typeof t.handleEvent=="function")t=Zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function yS(t){t.g=ly(()=>{t.g=null,t.i&&(t.i=!1,yS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class cL extends ci{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yS(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(t){ci.call(this),this.h=t,this.g={}}kt(ic,ci);var Iw=[];function xS(t,e,n,r){Array.isArray(n)||(n&&(Iw[0]=n.toString()),n=Iw);for(var s=0;s<n.length;s++){var i=uS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function bS(t){ey(t.g,function(e,n){this.g.hasOwnProperty(n)&&ny(e)},t),t.g={}}ic.prototype.N=function(){ic.$.N.call(this),bS(this)};ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uh(){this.g=!0}Uh.prototype.Ea=function(){this.g=!1};function dL(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",l=i.split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(1<d.length){var u=d[0];d=d[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+d+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function uL(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function La(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+fL(t,n)+(r?" "+r:"")})}function hL(t,e){t.info(function(){return"TIMEOUT: "+e})}Uh.prototype.info=function(){};function fL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return iy(n)}catch{return e}}var aa={},Cw=null;function $h(){return Cw=Cw||new Pt}aa.Ta="serverreachability";function wS(t){en.call(this,aa.Ta,t)}kt(wS,en);function ac(t){const e=$h();Ut(e,new wS(e))}aa.STAT_EVENT="statevent";function _S(t,e){en.call(this,aa.STAT_EVENT,t),this.stat=e}kt(_S,en);function un(t){const e=$h();Ut(e,new _S(e,t))}aa.Ua="timingevent";function jS(t,e){en.call(this,aa.Ua,t),this.size=e}kt(jS,en);function kc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var Bh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ES={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cy(){}cy.prototype.h=null;function Aw(t){return t.h||(t.h=t.i())}function NS(){}var Rc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dy(){en.call(this,"d")}kt(dy,en);function uy(){en.call(this,"c")}kt(uy,en);var rg;function zh(){}kt(zh,cy);zh.prototype.g=function(){return new XMLHttpRequest};zh.prototype.i=function(){return{}};rg=new zh;function Dc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ic(this),this.P=pL,t=Jm?125:void 0,this.V=new Fh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new SS}function SS(){this.i=null,this.g="",this.h=!1}var pL=45e3,TS={},sg={};J=Dc.prototype;J.setTimeout=function(t){this.P=t};function ig(t,e,n){t.L=1,t.A=qh(cs(e)),t.u=n,t.S=!0,IS(t,null)}function IS(t,e){t.G=Date.now(),Oc(t),t.B=cs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),LS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new SS,t.g=r1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new cL(Zt(t.Pa,t,t.g),t.O)),xS(t.U,t.g,"readystatechange",t.nb),e=t.I?cS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ac(),dL(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&Er(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const u=Er(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Jm||this.g&&(this.h.h||this.g.ja()||Dw(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?ac(3):ac(2)),Hh(this);var n=this.g.da();this.ca=n;t:if(CS(this)){var r=Dw(this.g);t="";var s=r.length,i=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ei(this),jl(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,uL(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tc(l)){var d=l;break t}}d=null}if(n=d)La(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ag(this,n);else{this.i=!1,this.s=3,un(12),Ei(this),jl(this);break e}}this.S?(AS(this,u,o),Jm&&this.i&&u==3&&(xS(this.U,this.V,"tick",this.mb),this.V.start())):(La(this.j,this.m,o,null),ag(this,o)),u==4&&Ei(this),this.i&&!this.J&&(u==4?ZS(this.l,this):(this.i=!1,Oc(this)))}else OL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),Ei(this),jl(this)}}}catch{}finally{}};function CS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function AS(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=mL(t,n),s==sg){e==4&&(t.s=4,un(14),r=!1),La(t.j,t.m,null,"[Incomplete Response]");break}else if(s==TS){t.s=4,un(15),La(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else La(t.j,t.m,s,null),ag(t,s);CS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vy(e),e.M=!0,un(11))):(La(t.j,t.m,n,"[Invalid Chunked Response]"),Ei(t),jl(t))}J.mb=function(){if(this.g){var t=Er(this.g),e=this.g.ja();this.o<e.length&&(Hh(this),AS(this,t,e),this.i&&t!=4&&Oc(this))}};function mL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?sg:(n=Number(e.substring(n,r)),isNaN(n)?TS:(r+=1,r+n>e.length?sg:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,Ei(this)};function Oc(t){t.Y=Date.now()+t.P,PS(t,t.P)}function PS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=kc(Zt(t.lb,t),e)}function Hh(t){t.C&&(ue.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(hL(this.j,this.B),this.L!=2&&(ac(),un(17)),Ei(this),this.s=2,jl(this)):PS(this,this.Y-t)};function jl(t){t.l.H==0||t.J||ZS(t.l,t)}function Ei(t){Hh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,oy(t.V),bS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ag(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||og(n.i,t))){if(!t.K&&og(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ou(n),Yh(n);else break e;gy(n),un(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=kc(Zt(n.ib,n),6e3));if(1>=FS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ni(n,11)}else if((t.K||n.g==t)&&Ou(n),!tc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let d=s[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const u=d[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=d[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=d[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(hy(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,We(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=n1(r,r.J?r.pa:null,r.Y),o.K){US(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&(Hh(l),Oc(l)),r.g=o}else XS(r);0<n.j.length&&Qh(n)}else d[0]!="stop"&&d[0]!="close"||Ni(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Ni(n,7):my(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}ac(4)}catch{}}function gL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Oh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function vL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Oh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function kS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Oh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=vL(t),r=gL(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var RS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ki(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ki){this.h=t.h,Ru(this,t.j),this.s=t.s,this.g=t.g,Du(this,t.m),this.l=t.l;var e=t.i,n=new oc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Pw(this,n),this.o=t.o}else t&&(e=String(t).match(RS))?(this.h=!1,Ru(this,e[1]||"",!0),this.s=ll(e[2]||""),this.g=ll(e[3]||"",!0),Du(this,e[4]),this.l=ll(e[5]||"",!0),Pw(this,e[6]||"",!0),this.o=ll(e[7]||"")):(this.h=!1,this.i=new oc(null,this.h))}ki.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cl(e,kw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(cl(e,kw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(cl(n,n.charAt(0)=="/"?wL:bL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cl(n,jL)),t.join("")};function cs(t){return new ki(t)}function Ru(t,e,n){t.j=n?ll(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Du(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pw(t,e,n){e instanceof oc?(t.i=e,EL(t.i,t.h)):(n||(e=cl(e,_L)),t.i=new oc(e,t.h))}function We(t,e,n){t.i.set(e,n)}function qh(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ll(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,xL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var kw=/[#\/\?@]/g,bL=/[#\?:]/g,wL=/[#\?]/g,_L=/[#\?@]/g,jL=/#/g;function oc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function di(t){t.g||(t.g=new Map,t.h=0,t.i&&yL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=oc.prototype;J.add=function(t,e){di(this),this.i=null,t=So(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function DS(t,e){di(t),e=So(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OS(t,e){return di(t),e=So(t,e),t.g.has(e)}J.forEach=function(t,e){di(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};J.ta=function(){di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};J.Z=function(t){di(this);let e=[];if(typeof t=="string")OS(this,t)&&(e=e.concat(this.g.get(So(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return di(this),this.i=null,t=So(this,t),OS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function LS(t,e,n){DS(t,e),0<n.length&&(t.i=null,t.g.set(So(t,e),Jv(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function So(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EL(t,e){e&&!t.j&&(di(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(DS(this,r),LS(this,s,n))},t)),t.j=e}var NL=class{constructor(t,e){this.g=t,this.map=e}};function MS(t){this.l=t||SL,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var SL=10;function VS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function FS(t){return t.h?1:t.g?t.g.size:0}function og(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hy(t,e){t.g?t.g.add(e):t.h=e}function US(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}MS.prototype.cancel=function(){if(this.i=$S(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function $S(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Jv(t.i)}var TL=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function IL(){this.g=new TL}function CL(t,e,n){const r=n||"";try{kS(t,function(s,i){let o=s;Ac(s)&&(o=iy(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function AL(t,e){const n=new Uh;if(ue.Image){const r=new Image;r.onload=gd(yd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gd(yd,n,r,"TestLoadImage: error",!1,e),r.onabort=gd(yd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gd(yd,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function yd(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Wh(t){this.l=t.ec||null,this.j=t.ob||!1}kt(Wh,cy);Wh.prototype.g=function(){return new Gh(this.l,this.j)};Wh.prototype.i=function(t){return function(){return t}}({});function Gh(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=fy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Gh,Pt);var fy=0;J=Gh.prototype;J.open=function(t,e){if(this.readyState!=fy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lc(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lc(this)),this.readyState=fy};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function BS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lc(this):lc(this),this.readyState==3&&BS(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,Lc(this))};J.Ya=function(t){this.g&&(this.response=t,Lc(this))};J.ka=function(){this.g&&Lc(this)};function Lc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lc(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function lc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var PL=ue.JSON.parse;function ht(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zS,this.L=this.M=!1}kt(ht,Pt);var zS="",kL=/^https?$/i,RL=["POST","PUT"];J=ht.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rg.g(),this.C=this.u?Aw(this.u):Aw(rg),this.g.onreadystatechange=Zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Rw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ue.FormData&&t instanceof ue.FormData,!(0<=iS(RL,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WS(this),0<this.B&&((this.L=DL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.ua,this)):this.A=ly(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Rw(this,i)}};function DL(t){return co&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof Xv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))};function Rw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HS(t),Kh(t)}function HS(t){t.F||(t.F=!0,Ut(t,"complete"),Ut(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ut(this,"complete"),Ut(this,"abort"),Kh(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),ht.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?qS(this):this.kb())};J.kb=function(){qS(this)};function qS(t){if(t.h&&typeof Xv<"u"&&(!t.C[1]||Er(t)!=4||t.da()!=2)){if(t.v&&Er(t)==4)ly(t.La,0,t);else if(Ut(t,"readystatechange"),Er(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(RS)[1]||null;!s&&ue.self&&ue.self.location&&(s=ue.self.location.protocol.slice(0,-1)),r=!kL.test(s?s.toLowerCase():"")}n=r}if(n)Ut(t,"complete"),Ut(t,"success");else{t.m=6;try{var i=2<Er(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",HS(t)}}finally{Kh(t)}}}}function Kh(t,e){if(t.g){WS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function WS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function Er(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),PL(e)}};function Dw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function OL(t){const e={};t=(t.g&&2<=Er(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(tc(t[r]))continue;var n=aL(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}ZO(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GS(t){let e="";return ey(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function py(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function qo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KS(t){this.Ga=0,this.j=[],this.l=new Uh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qo("baseRetryDelayMs",5e3,t),this.hb=qo("retryDelaySeedMs",1e4,t),this.eb=qo("forwardChannelMaxRetries",2,t),this.xa=qo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new MS(t&&t.concurrentRequestLimit),this.Ja=new IL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=KS.prototype;J.ra=8;J.H=1;function my(t){if(YS(t),t.H==3){var e=t.W++,n=cs(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),Mc(t,n),e=new Dc(t,t.l,e),e.L=2,e.A=qh(cs(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ue.Image&&(new Image().src=e.A,n=!0),n||(e.g=r1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Oc(e)}t1(t)}function Yh(t){t.g&&(vy(t),t.g.cancel(),t.g=null)}function YS(t){Yh(t),t.u&&(ue.clearTimeout(t.u),t.u=null),Ou(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function Qh(t){if(!VS(t.i)&&!t.m){t.m=!0;var e=t.Na;rc||vS(),sc||(rc(),sc=!0),ay.add(e,t),t.C=0}}function LL(t,e){return FS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=kc(Zt(t.Na,t,e),e1(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Dc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=cS(i),dS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=QS(this,s,e),n=cs(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),Mc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(GS(i)))+"&"+e:this.o&&py(n,this.o,i)),hy(this.i,s),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),s.aa=!0,ig(s,n,null)):ig(s,n,e),this.H=2}}else this.H==3&&(t?Ow(this,t):this.j.length==0||VS(this.i)||Ow(this))};function Ow(t,e){var n;e?n=e.m:n=t.W++;const r=cs(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),Mc(t,r),t.o&&t.s&&py(r,t.o,t.s),n=new Dc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=QS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hy(t.i,n),ig(n,r,e)}function Mc(t,e){t.na&&ey(t.na,function(n,r){We(e,r,n)}),t.h&&kS({},function(n,r){We(e,r,n)})}function QS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Zt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let d=s[c].g;const u=s[c].map;if(d-=i,0>d)i=Math.max(0,s[c].g-100),l=!1;else try{CL(u,o,"req"+d+"_")}catch{r&&r(u)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function XS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;rc||vS(),sc||(rc(),sc=!0),ay.add(e,t),t.A=0}}function gy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=kc(Zt(t.Ma,t),e1(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,JS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=kc(Zt(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,un(10),Yh(this),JS(this))};function vy(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function JS(t){t.g=new Dc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=cs(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),Mc(t,e),t.o&&t.s&&py(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=qh(cs(e)),n.u=null,n.S=!0,IS(n,t)}J.ib=function(){this.v!=null&&(this.v=null,Yh(this),gy(this),un(19))};function Ou(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function ZS(t,e){var n=null;if(t.g==e){Ou(t),vy(t),t.g=null;var r=2}else if(og(t.i,e))n=e.F,US(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=$h(),Ut(r,new jS(r,n)),Qh(t)}else XS(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&LL(t,e)||r==2&&gy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ni(t,5);break;case 4:Ni(t,10);break;case 3:Ni(t,6);break;default:Ni(t,2)}}}function e1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ni(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Zt(t.pb,t);n||(n=new ki("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||Ru(n,"https"),qh(n)),AL(n.toString(),r)}else un(2);t.H=0,t.h&&t.h.za(e),t1(t),YS(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),un(2)):(this.l.info("Failed to ping google.com"),un(1))};function t1(t){if(t.H=0,t.ma=[],t.h){const e=$S(t.i);(e.length!=0||t.j.length!=0)&&(Nw(t.ma,e),Nw(t.ma,t.j),t.i.i.length=0,Jv(t.j),t.j.length=0),t.h.ya()}}function n1(t,e,n){var r=n instanceof ki?cs(n):new ki(n);if(r.g!="")e&&(r.g=e+"."+r.g),Du(r,r.m);else{var s=ue.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new ki(null);r&&Ru(i,r),e&&(i.g=e),s&&Du(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),Mc(t,r),r}function r1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ht(new Wh({ob:n})):new ht(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function s1(){}J=s1.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function Lu(){if(co&&!(10<=Number(YO)))throw Error("Environmental error: no available transport.")}Lu.prototype.g=function(t,e){return new Fn(t,e)};function Fn(t,e){Pt.call(this),this.g=new KS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!tc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new To(this)}kt(Fn,Pt);Fn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;un(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=n1(t,null,t.Y),Qh(t)};Fn.prototype.close=function(){my(this.g)};Fn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=iy(t),t=n);e.j.push(new NL(e.fb++,t)),e.H==3&&Qh(e)};Fn.prototype.N=function(){this.g.h=null,delete this.j,my(this.g),delete this.g,Fn.$.N.call(this)};function i1(t){dy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(i1,dy);function a1(){uy.call(this),this.status=1}kt(a1,uy);function To(t){this.g=t}kt(To,s1);To.prototype.Ba=function(){Ut(this.g,"a")};To.prototype.Aa=function(t){Ut(this.g,new i1(t))};To.prototype.za=function(t){Ut(this.g,new a1)};To.prototype.ya=function(){Ut(this.g,"b")};function ML(){this.blockSize=-1}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(mr,ML);mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function up(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}mr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)up(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){up(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){up(this,r),s=0;break}}this.h=s,this.i+=e};mr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var VL={};function yy(t){return-128<=t&&128>t?WO(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function Nr(t){if(isNaN(t)||!isFinite(t))return qa;if(0>t)return Mt(Nr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=lg;return new Ve(e,0)}function o1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Mt(o1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nr(Math.pow(e,8)),r=qa,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Nr(Math.pow(e,i)),r=r.R(i).add(Nr(o))):(r=r.R(n),r=r.add(Nr(o)))}return r}var lg=4294967296,qa=yy(0),cg=yy(1),Lw=yy(16777216);J=Ve.prototype;J.ea=function(){if(Kn(this))return-Mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:lg+r)*e,e*=lg}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Zr(this))return"0";if(Kn(this))return"-"+Mt(this).toString(t);for(var e=Nr(Math.pow(t,6)),n=this,r="";;){var s=Vu(n,e).g;n=Mu(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Zr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Zr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kn(t){return t.h==-1}J.X=function(t){return t=Mu(this,t),Kn(t)?-1:Zr(t)?0:1};function Mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(cg)}J.abs=function(){return Kn(this)?Mt(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function Mu(t,e){return t.add(Mt(e))}J.R=function(t){if(Zr(this)||Zr(t))return qa;if(Kn(this))return Kn(t)?Mt(this).R(Mt(t)):Mt(Mt(this).R(t));if(Kn(t))return Mt(this.R(Mt(t)));if(0>this.X(Lw)&&0>t.X(Lw))return Nr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,xd(n,2*r+2*s),n[2*r+2*s+1]+=i*c,xd(n,2*r+2*s+1),n[2*r+2*s+1]+=o*l,xd(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,xd(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function xd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Wo(t,e){this.g=t,this.h=e}function Vu(t,e){if(Zr(e))throw Error("division by zero");if(Zr(t))return new Wo(qa,qa);if(Kn(t))return e=Vu(Mt(t),e),new Wo(Mt(e.g),Mt(e.h));if(Kn(e))return e=Vu(t,Mt(e)),new Wo(Mt(e.g),e.h);if(30<t.g.length){if(Kn(t)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cg,r=e;0>=r.X(t);)n=Mw(n),r=Mw(r);var s=va(n,1),i=va(r,1);for(r=va(r,2),n=va(n,2);!Zr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=va(r,1),n=va(n,1)}return e=Mu(t,s.R(e)),new Wo(s,e)}for(s=qa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Nr(n),o=i.R(e);Kn(o)||0<o.X(t);)n-=r,i=Nr(n),o=i.R(e);Zr(i)&&(i=cg),s=s.add(i),t=Mu(t,o)}return new Wo(s,t)}J.gb=function(t){return Vu(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function Mw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function va(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ve(s,t.h)}Lu.prototype.createWebChannel=Lu.prototype.g;Fn.prototype.send=Fn.prototype.u;Fn.prototype.open=Fn.prototype.m;Fn.prototype.close=Fn.prototype.close;Bh.NO_ERROR=0;Bh.TIMEOUT=8;Bh.HTTP_ERROR=6;ES.COMPLETE="complete";NS.EventType=Rc;Rc.OPEN="a";Rc.CLOSE="b";Rc.ERROR="c";Rc.MESSAGE="d";Pt.prototype.listen=Pt.prototype.O;ht.prototype.listenOnce=ht.prototype.P;ht.prototype.getLastError=ht.prototype.Sa;ht.prototype.getLastErrorCode=ht.prototype.Ia;ht.prototype.getStatus=ht.prototype.da;ht.prototype.getResponseJson=ht.prototype.Wa;ht.prototype.getResponseText=ht.prototype.ja;ht.prototype.send=ht.prototype.ha;ht.prototype.setWithCredentials=ht.prototype.Oa;mr.prototype.digest=mr.prototype.l;mr.prototype.reset=mr.prototype.reset;mr.prototype.update=mr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=Nr;Ve.fromString=o1;var FL=function(){return new Lu},UL=function(){return $h()},hp=Bh,$L=ES,BL=aa,Vw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bd=NS,zL=ht,HL=mr,Wa=Ve;const Fw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Rh("@firebase/firestore");function Go(){return zi.logLevel}function X(t,...e){if(zi.logLevel<=Ne.DEBUG){const n=e.map(xy);zi.debug(`Firestore (${Io}): ${t}`,...n)}}function Mr(t,...e){if(zi.logLevel<=Ne.ERROR){const n=e.map(xy);zi.error(`Firestore (${Io}): ${t}`,...n)}}function uo(t,...e){if(zi.logLevel<=Ne.WARN){const n=e.map(xy);zi.warn(`Firestore (${Io}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function ze(t,e){t||de()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class WL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GL{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ar,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ar)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new l1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Yt(e)}}class KL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new KL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new QL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=JL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function ho(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new Nt(0,0))}static max(){return new he(new Nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends cc{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const ZL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends cc{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return ZL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ee($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ee($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ee($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ee($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ge.fromString(e))}static fromName(e){return new oe(Ge.fromString(e).popFirst(5))}static empty(){return new oe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ge(e.slice()))}}function eM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Js(s,oe.empty(),e)}function tM(t){return new Js(t.readTime,t.key,-1)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(he.min(),oe.empty(),-1)}static max(){return new Js(he.max(),oe.empty(),-1)}}function nM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==rM)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(u=>{o[d]=u,++l,l===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ar,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new El(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=wy(r.target.error);this.V.reject(new El(e,s))}}static open(e,n,r,s){try{return new by(n,e.transaction(s,r))}catch(i){throw new El(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new aM(n)}}class Si{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Si.S(bt())===12.2&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),xi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Yv())return!1;if(Si.C())return!0;const e=bt(),n=Si.S(e),r=0<n&&n<10,s=Si.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(X("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new El(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ee($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ee($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new El(e,o))},s.onupgradeneeded=i=>{X("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{X("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=by.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),H.reject(d))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&o<3;if(X("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class iM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xi(this.k.delete())}}class El extends ee{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fc(t){return t.name==="IndexedDbTransactionError"}class aM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xi(r)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),xi(this.store.add(e))}get(e){return xi(this.store.get(e)).next(n=>(n===void 0&&(n=null),X("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),xi(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),xi(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new H((o,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(l,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new H((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){X("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new H((r,s)=>{n.onerror=i=>{const o=wy(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new H((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new iM(l),d=n(l.primaryKey,l.value,c);if(d instanceof H){const u=d.catch(h=>(c.done(),H.reject(h)));r.push(u)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>H.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function xi(t){return new H((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=wy(r.target.error);n(s)}})}let Uw=!1;function wy(t){const e=Si.S(bt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Uw||(Uw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}_y._e=-1;function Xh(t){return t==null}function Fu(t){return t===0&&1/t==-1/0}function oM(t){return typeof t=="number"&&Number.isInteger(t)&&!Fu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bw(this.data.getIterator())}getIteratorFrom(e){return new Bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class Bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new $t(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new u1("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const lM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(ze(!!t),typeof t=="string"){let e=0;const n=lM.exec(t);if(ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ey(t){const e=t.mapValue.fields.__previous_value__;return jy(e)?Ey(e):e}function dc(t){const e=Zs(t.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,s,i,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class uc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jy(t)?4:dM(t)?9007199254740991:10:de()}function Vr(t,e){if(t===e)return!0;const n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zs(s.timestampValue),l=Zs(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Hi(s.bytesValue).isEqual(Hi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),l=mt(i.doubleValue);return o===l?Fu(o)===Fu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if($w(o)!==$w(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Vr(o[c],l[c])))return!1;return!0}(t,e);default:return de()}}function hc(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=qi(t),r=qi(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=mt(i.integerValue||i.doubleValue),c=mt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return zw(t.timestampValue,e.timestampValue);case 4:return zw(dc(t),dc(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Hi(i),c=Hi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=De(l[d],c[d]);if(u!==0)return u}return De(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=De(mt(i.latitude),mt(o.latitude));return l!==0?l:De(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],c=o.values||[];for(let d=0;d<l.length&&d<c.length;++d){const u=fo(l[d],c[d]);if(u)return u}return De(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===_d.mapValue&&o===_d.mapValue)return 0;if(i===_d.mapValue)return 1;if(o===_d.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=De(c[h],u[h]);if(f!==0)return f;const p=fo(l[c[h]],d[u[h]]);if(p!==0)return p}return De(c.length,u.length)}(t.mapValue,e.mapValue);default:throw de()}}function zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=Zs(t),r=Zs(e),s=De(n.seconds,r.seconds);return s!==0?s:De(n.nanos,r.nanos)}function po(t){return dg(t)}function dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=dg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${dg(n.fields[o])}`;return s+"}"}(t.mapValue):de()}function Hw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ug(t){return!!t&&"integerValue"in t}function Ny(t){return!!t&&"arrayValue"in t}function qw(t){return!!t&&"nullValue"in t}function Ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function Nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(n)}setAll(e){let n=Vt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Nl(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){oa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jn(Nl(this.value))}}function h1(t){const e=[];return oa(t.fields,(n,r)=>{const s=new Vt([n]);if(qd(r)){const i=h1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Xt(e,0,he.min(),he.min(),he.min(),jn.empty(),0)}static newFoundDocument(e,n,r,s){return new Xt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Xt(e,2,n,he.min(),he.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,he.min(),he.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.position=e,this.inclusive=n}}function Gw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=fo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n="asc"){this.field=e,this.dir=n}}function uM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{}class vt extends f1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fM(e,n,r):n==="array-contains"?new gM(e,r):n==="in"?new vM(e,r):n==="not-in"?new yM(e,r):n==="array-contains-any"?new xM(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pM(e,r):new mM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&qi(this.value)===qi(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends f1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new gr(e,n)}matches(e){return p1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function p1(t){return t.op==="and"}function m1(t){return hM(t)&&p1(t)}function hM(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function hg(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+po(t.value);if(m1(t))return t.filters.map(e=>hg(e)).join(",");{const e=t.filters.map(n=>hg(n)).join(",");return`${t.op}(${e})`}}function g1(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(t,e):t instanceof gr?function(r,s){return s instanceof gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&g1(o,s.filters[l]),!0):!1}(t,e):void de()}function v1(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(v1).join(" ,")+"}"}(t):"Filter"}class fM extends vt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class pM extends vt{constructor(e,n){super(e,"in",n),this.keys=y1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mM extends vt{constructor(e,n){super(e,"not-in",n),this.keys=y1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function y1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class gM extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ny(n)&&hc(n.arrayValue,this.value)}}class vM extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class yM extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hc(this.value.arrayValue,n)}}class xM extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ce=null}}function Yw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new bM(t,e,n,r,s,i,o)}function Sy(t){const e=ge(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.ce=n}return e.ce}function Ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!g1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kw(t.startAt,e.startAt)&&Kw(t.endAt,e.endAt)}function fg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function wM(t,e,n,r,s,i,o,l){return new Uc(t,e,n,r,s,i,o,l)}function Iy(t){return new Uc(t)}function Qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x1(t){return t.collectionGroup!==null}function Sl(t){const e=ge(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new $t(Vt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new $u(i,r))}),n.has(Vt.keyField().canonicalString())||e.le.push(new $u(Vt.keyField(),r))}return e.le}function Pr(t){const e=ge(t);return e.he||(e.he=_M(e,Sl(t))),e.he}function _M(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new $u(s.field,i)});const n=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pg(t,e){const n=t.filters.concat([e]);return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bu(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jh(t,e){return Ty(Pr(t),Pr(e))&&t.limitType===e.limitType}function b1(t){return`${Sy(Pr(t))}|lt:${t.limitType}`}function wa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>v1(s)).join(", ")}]`),Xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>po(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>po(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function Zh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Sl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=Gw(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Sl(r),s)||r.endAt&&!function(o,l,c){const d=Gw(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Sl(r),s))}(t,e)}function jM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function w1(t){return(e,n)=>{let r=!1;for(const s of Sl(t)){const i=EM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function EM(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?fo(c,d):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new ct(oe.comparator);function ds(){return NM}const _1=new ct(oe.comparator);function dl(...t){let e=_1;for(const n of t)e=e.insert(n.key,n);return e}function j1(t){let e=_1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ti(){return Tl()}function E1(){return Tl()}function Tl(){return new Co(t=>t.toString(),(t,e)=>t.isEqual(e))}const SM=new ct(oe.comparator),TM=new $t(oe.comparator);function je(...t){let e=TM;for(const n of t)e=e.add(n);return e}const IM=new $t(De);function CM(){return IM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function S1(t){return{integerValue:""+t}}function AM(t,e){return oM(e)?S1(e):N1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function PM(t,e,n){return t instanceof fc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&jy(i)&&(i=Ey(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof mo?I1(t,e):t instanceof go?C1(t,e):function(s,i){const o=T1(s,i),l=Xw(o)+Xw(s.Ie);return ug(o)&&ug(s.Ie)?S1(l):N1(s.serializer,l)}(t,e)}function kM(t,e,n){return t instanceof mo?I1(t,e):t instanceof go?C1(t,e):n}function T1(t,e){return t instanceof zu?function(r){return ug(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class fc extends ef{}class mo extends ef{constructor(e){super(),this.elements=e}}function I1(t,e){const n=A1(e);for(const r of t.elements)n.some(s=>Vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class go extends ef{constructor(e){super(),this.elements=e}}function C1(t,e){let n=A1(e);for(const r of t.elements)n=n.filter(s=>!Vr(s,r));return{arrayValue:{values:n}}}class zu extends ef{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Xw(t){return mt(t.integerValue||t.doubleValue)}function A1(t){return Ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.field=e,this.transform=n}}function RM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof mo&&s instanceof mo||r instanceof go&&s instanceof go?ho(r.elements,s.elements,Vr):r instanceof zu&&s instanceof zu?Vr(r.Ie,s.Ie):r instanceof fc&&s instanceof fc}(t.transform,e.transform)}class DM{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tf{}function P1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ay(t.key,Xn.none()):new $c(t.key,t.data,Xn.none());{const n=t.data,r=jn.empty();let s=new $t(Vt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ui(t.key,r,new Rn(s.toArray()),Xn.none())}}function OM(t,e,n){t instanceof $c?function(s,i,o){const l=s.value.clone(),c=Zw(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(s,i,o){if(!Wd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Zw(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(k1(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Il(t,e,n,r){return t instanceof $c?function(i,o,l,c){if(!Wd(i.precondition,o))return l;const d=i.value.clone(),u=e0(i.fieldTransforms,c,o);return d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(i,o,l,c){if(!Wd(i.precondition,o))return l;const d=e0(i.fieldTransforms,c,o),u=o.data;return u.setAll(k1(i)),u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return Wd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function LM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=T1(r.transform,s||null);i!=null&&(n===null&&(n=jn.empty()),n.set(r.field,i))}return n||null}function Jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ho(r,s,(i,o)=>RM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends tf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ui extends tf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function k1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Zw(t,e,n){const r=new Map;ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,kM(o,l,n[s]))}return r}function e0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,PM(i,o,e))}return r}class Ay extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MM extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&OM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=P1(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>Jw(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>Jw(n,r))}}class Py{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length);let s=function(){return SM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Py(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Te;function $M(t){switch(t){default:return de();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function R1(t){if(t===void 0)return Mr("GRPC error has no .code"),$.UNKNOWN;switch(t){case pt.OK:return $.OK;case pt.CANCELLED:return $.CANCELLED;case pt.UNKNOWN:return $.UNKNOWN;case pt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case pt.INTERNAL:return $.INTERNAL;case pt.UNAVAILABLE:return $.UNAVAILABLE;case pt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case pt.NOT_FOUND:return $.NOT_FOUND;case pt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case pt.ABORTED:return $.ABORTED;case pt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case pt.DATA_LOSS:return $.DATA_LOSS;default:return de()}}(Te=pt||(pt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new Wa([4294967295,4294967295],0);function t0(t){const e=BM().encode(t),n=new HL;return n.update(e),new Uint8Array(n.digest())}function n0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Wa([n,r],0),new Wa([s,i],0)]}class ky{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ul(`Invalid padding: ${n}`);if(r<0)throw new ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ul(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wa.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Wa.fromNumber(r)));return s.compare(zM)===1&&(s=new Wa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=t0(e),[r,s]=n0(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ky(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=t0(e),[r,s]=n0(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nf(he.min(),s,new ct(De),ds(),je())}}class Bc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class D1{constructor(e,n){this.targetId=e,this.fe=n}}class O1{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class r0{constructor(){this.ge=0,this.pe=i0(),this.ye=nn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=je(),n=je(),r=je();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de()}}),new Bc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=i0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ze(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class HM{constructor(e){this.Le=e,this.ke=new Map,this.qe=ds(),this.Qe=s0(),this.Ke=new ct(De)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(fg(i))if(r===0){const o=new oe(i.path);this.We(n,o,Xt.newNoDocument(o,he.min()))}else ze(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Hi(r).toUint8Array()}catch(c){if(c instanceof u1)return uo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ky(o,s,i)}catch(c){return uo(c instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&fg(l.target)){const c=new oe(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Xt.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=je();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Ye(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new nf(e,n,this.Ke,this.qe,r);return this.qe=ds(),this.Qe=s0(),this.Ke=new ct(De),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new r0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new $t(De),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new r0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function s0(){return new ct(oe.comparator)}function i0(){return new ct(oe.comparator)}const qM={asc:"ASCENDING",desc:"DESCENDING"},WM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GM={and:"AND",or:"OR"};class KM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mg(t,e){return t.useProto3Json||Xh(e)?e:{value:e}}function Hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YM(t,e){return Hu(t,e.toTimestamp())}function kr(t){return ze(!!t),he.fromTimestamp(function(n){const r=Zs(n);return new Nt(r.seconds,r.nanos)}(t))}function Ry(t,e){return gg(t,e).canonicalString()}function gg(t,e){const n=function(s){return new Ge(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function M1(t){const e=Ge.fromString(t);return ze(B1(e)),e}function vg(t,e){return Ry(t.databaseId,e.path)}function fp(t,e){const n=M1(e);if(n.get(1)!==t.databaseId.projectId)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(F1(n))}function V1(t,e){return Ry(t.databaseId,e)}function QM(t){const e=M1(t);return e.length===4?Ge.emptyPath():F1(e)}function yg(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F1(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function a0(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function XM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,u){return d.useProto3Json?(ze(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(ze(u===void 0||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const u=d.code===void 0?$.UNKNOWN:R1(d.code);return new ee(u,d.message||"")}(o);n=new O1(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fp(t,r.document.name),i=kr(r.document.updateTime),o=r.document.createTime?kr(r.document.createTime):he.min(),l=new jn({mapValue:{fields:r.document.fields}}),c=Xt.newFoundDocument(s,i,o,l),d=r.targetIds||[],u=r.removedTargetIds||[];n=new Gd(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fp(t,r.document),i=r.readTime?kr(r.readTime):he.min(),o=Xt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Gd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fp(t,r.document),i=r.removedTargetIds||[];n=new Gd([],i,s,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new UM(s,i),l=r.targetId;n=new D1(l,o)}}return n}function JM(t,e){let n;if(e instanceof $c)n={update:a0(t,e.key,e.value)};else if(e instanceof Ay)n={delete:vg(t,e.key)};else if(e instanceof ui)n={update:a0(t,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof MM))return de();n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof go)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof zu)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:YM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function ZM(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?kr(s.updateTime):kr(i);return o.isEqual(he.min())&&(o=kr(i)),new DM(o,s.transformResults||[])}(n,e))):[]}function e2(t,e){return{documents:[V1(t,e.path)]}}function t2(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=V1(t,s);const i=function(d){if(d.length!==0)return $1(gr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(u=>function(f){return{field:_a(f.field),direction:s2(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=mg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ut:n,parent:s}}function n2(t){let e=QM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=U1(h);return f instanceof gr&&m1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new $u(ja(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Xh(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Uu(p,f)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const f=!h.before,p=h.values||[];return new Uu(p,f)}(n.endAt)),wM(e,s,o,i,l,"F",c,d)}function r2(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ja(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ja(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ja(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ja(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(ja(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>U1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function s2(t){return qM[t]}function i2(t){return WM[t]}function a2(t){return GM[t]}function _a(t){return{fieldPath:t.canonicalString()}}function ja(t){return Vt.fromServerFormat(t.fieldPath)}function $1(t){return t instanceof vt?function(n){if(n.op==="=="){if(Ww(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NAN"}};if(qw(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ww(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NOT_NAN"}};if(qw(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(n.field),op:i2(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(s=>$1(s));return r.length===1?r[0]:{compositeFilter:{op:a2(n.op),filters:r}}}(t):de()}function o2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r,s,i=he.min(),o=he.min(),l=nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.ct=e}}function c2(t){const e=n2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this._n=new u2}addToCollectionParentIndex(e,n){return this._n.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Js.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class u2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new $t(Ge.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $t(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new vo(0)}static Bn(){return new vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.changes=new Co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Il(r.mutation,s,Rn.empty(),Nt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const s=Ti();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=dl();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ds();const o=Tl(),l=function(){return Tl()}();return n.forEach((c,d)=>{const u=r.get(d.key);s.has(d.key)&&(u===void 0||u.mutation instanceof ui)?i=i.insert(d.key,d):u!==void 0?(o.set(d.key,u.mutation.getFieldMask()),Il(u.mutation,d,u.mutation.getFieldMask(),Nt.now())):o.set(d.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,u)=>o.set(d,u)),n.forEach((d,u)=>{var h;return l.set(d,new f2(u,(h=o.get(d))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Tl();let s=new ct((o,l)=>o-l),i=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let u=r.get(c)||Rn.empty();u=l.applyToLocalView(d,u),r.set(c,u);const h=(s.get(l.batchId)||je()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,h=E1();u.forEach(f=>{if(!i.has(f)){const p=P1(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Ti());let l=-1,c=i;return o.next(d=>H.forEach(d,(u,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,je())).next(u=>({batchId:l,changes:j1(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=dl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=dl();return this.indexManager.getCollectionParents(e,i).next(l=>H.forEach(l,c=>{const d=function(h,f){return new Uc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const u=d.getKey();o.get(u)===null&&(o=o.insert(u,Xt.newInvalidDocument(u)))});let l=dl();return o.forEach((c,d)=>{const u=i.get(c);u!==void 0&&Il(u.mutation,d,Rn.empty(),Nt.now()),Zh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:c2(s.bundledQuery),readTime:kr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.overlays=new ct(oe.comparator),this.hr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ti();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Ti(),i=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ct((d,u)=>d-u);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let u=i.get(d.largestBatchId);u===null&&(u=Ti(),i=i.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=Ti(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>l.set(d,u)),!(l.size()>=s)););return H.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FM(n,r));let i=this.hr.get(n);i===void 0&&(i=je(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Pr=new $t(Tt.Ir),this.Tr=new $t(Tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Tt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new oe(new Ge([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new oe(new Ge([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=je();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||De(e.pr,n.pr)}static Er(e,n){return De(e.pr,n.pr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new $t(Tt.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VM(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.wr=this.wr.add(new Tt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const l=this.Sr(o.pr);i.push(l)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(De);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],l=>{r=r.add(l.pr)})}),H.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new oe(i),0);let l=new $t(De);return this.wr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.pr)),!0)},o),H.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return H.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Tt(n,0),s=this.wr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.vr=e,this.docs=function(){return new ct(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Xt.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ds();const o=n.path,l=new oe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||nM(tM(u),r)<=0||(s.has(u.key)||Zh(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de()}Fr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new x2(this)}getSize(e){return H.resolve(this.size)}}class x2 extends h2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.persistence=e,this.Mr=new Co(n=>Sy(n),Ty),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Dy,this.targetCount=0,this.Br=vo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),H.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.qn(n),H.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.Lr={},this.overlays={},this.kr=new _y(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new b2(this),this.indexManager=new d2,this.remoteDocumentCache=function(s){return new y2(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new l2(n),this.$r=new m2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new v2(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new _2(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return H.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class _2 extends sM{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.zr=new Dy,this.jr=null}static Hr(e){return new Oy(e)}get Jr(){if(this.jr)return this.jr;throw de()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,r=>{const s=oe.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=je(),s=je();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ly(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _D()?8:Si.v(bt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new j2;return this.Ji(e,n,o).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Go()<=Ne.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(Go()<=Ne.DEBUG&&X("QueryEngine","Query:",wa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Go()<=Ne.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):H.resolve())}ji(e,n){if(Qw(n))return H.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Bu(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=je(...i);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Zi(n,l);return this.Xi(n,d,o,c.readTime)?this.ji(e,Bu(n,null,"F")):this.es(e,d,n,c)}))})))}Hi(e,n,r,s){return Qw(n)||s.isEqual(he.min())?H.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?H.resolve(null):(Go()<=Ne.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wa(n)),this.es(e,o,n,eM(s,-1)).next(l=>l))})}Zi(e,n){let r=new $t(w1(e));return n.forEach((s,i)=>{Zh(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Go()<=Ne.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",wa(n)),this.zi.getDocumentsMatchingQuery(e,n,Js.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new ct(De),this.rs=new Co(i=>Sy(i),Ty),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function S2(t,e,n,r){return new N2(t,e,n,r)}async function z1(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=je();for(const d of s){o.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of i){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(d=>({us:d,removedBatchIds:o,addedBatchIds:l}))})})}function T2(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,d,u){const h=d.batch,f=h.keys();let p=H.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(c,g)).next(y=>{const b=d.docVersions.get(g);ze(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,d),y.isValidDocument()&&(y.setReadTime(d.commitVersion),u.addEntry(y)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=je();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function H1(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function I2(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(y,b,m){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,u)&&l.push(n.Qr.updateTargetData(i,p))});let c=ds(),d=je();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push(C2(i,o,e.documentUpdates).next(u=>{c=u.cs,d=u.ls})),!r.isEqual(he.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return H.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.ns=s,i))}function C2(t,e,n){let r=je(),s=je();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ds();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{cs:o,ls:s}})}function A2(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P2(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new ks(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function xg(t,e,n){const r=ge(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Fc(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function o0(t,e,n){const r=ge(t);let s=he.min(),i=je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,u){const h=ge(c),f=h.rs.get(u);return f!==void 0?H.resolve(h.ns.get(f)):h.Qr.getTargetData(d,u)}(r,o,Pr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:je())).next(l=>(k2(r,jM(e),l),{documents:l,hs:i})))}function k2(t,e,n){let r=t.ss.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class l0{constructor(){this.activeTargetIds=CM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R2{constructor(){this.no=new l0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new l0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd=null;function pp(){return jd===null?jd=function(){return 268435456+Math.round(2147483648*Math.random())}():jd++,"0x"+jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class M2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const l=pp(),c=this.bo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,i,o),this.Co(n,c,d,s).then(u=>(X("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw uo("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",c,"request:",s),u})}vo(n,r,s,i,o,l){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=O2[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=pp();return new Promise((o,l)=>{const c=new zL;c.setWithCredentials(!0),c.listenOnce($L.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hp.NO_ERROR:const u=c.getResponseJson();X(Gt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case hp.TIMEOUT:X(Gt,`RPC '${e}' ${i} timed out`),l(new ee($.DEADLINE_EXCEEDED,"Request time out"));break;case hp.HTTP_ERROR:const h=c.getStatus();if(X(Gt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(b){const m=b.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(m)>=0?m:$.UNKNOWN}(p.status);l(new ee(g,p.message))}else l(new ee($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ee($.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{X(Gt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);X(Gt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Fo(e,n,r){const s=pp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FL(),l=UL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");X(Gt,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,p=!1;const g=new L2({lo:b=>{p?X(Gt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(X(Gt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),X(Gt,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},ho:()=>h.close()}),y=(b,m,x)=>{b.listen(m,v=>{try{x(v)}catch(E){setTimeout(()=>{throw E},0)}})};return y(h,bd.EventType.OPEN,()=>{p||X(Gt,`RPC '${e}' stream ${s} transport opened.`)}),y(h,bd.EventType.CLOSE,()=>{p||(p=!0,X(Gt,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),y(h,bd.EventType.ERROR,b=>{p||(p=!0,uo(Gt,`RPC '${e}' stream ${s} transport errored:`,b),g.Vo(new ee($.UNAVAILABLE,"The operation could not be completed")))}),y(h,bd.EventType.MESSAGE,b=>{var m;if(!p){const x=b.data[0];ze(!!x);const v=x,E=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(E){X(Gt,`RPC '${e}' stream ${s} received error:`,E);const S=E.status;let j=function(_){const N=pt[_];if(N!==void 0)return R1(N)}(S),I=E.message;j===void 0&&(j=$.INTERNAL,I="Unknown error status: "+S+" with message "+E.message),p=!0,g.Vo(new ee(j,I)),h.close()}else X(Gt,`RPC '${e}' stream ${s} received:`,x),g.mo(x)}}),y(l,BL.STAT_EVENT,b=>{b.stat===Vw.PROXY?X(Gt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Vw.NOPROXY&&X(Gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){return new KM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r,s,i,o,l,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new q1(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new ee($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V2 extends W1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=XM(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?kr(o.readTime):he.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=yg(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=fg(c)?{documents:e2(i,c)}:{query:t2(i,c).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=L1(i,o.resumeToken);const d=mg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){l.readTime=Hu(i,o.snapshotVersion.toTimestamp());const d=mg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=r2(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=yg(this.serializer),n.removeTarget=e,this.t_(n)}}class F2 extends W1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=ZM(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.T_(r,n)}return ze(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=yg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,gg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee($.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,gg(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee($.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class $2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Mr(n),this.g_=!1):X("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{la(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=ge(c);d.v_.add(4),await zc(d),d.x_.set("Unknown"),d.v_.delete(4),await sf(d)}(this))})}),this.x_=new $2(r,s)}}async function sf(t){if(la(t))for(const e of t.F_)await e(!0)}async function zc(t){for(const e of t.F_)await e(!1)}function G1(t,e){const n=ge(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Fy(n)?Vy(n):Ao(n).Jo()&&My(n,e))}function K1(t,e){const n=ge(t),r=Ao(n);n.C_.delete(e),r.Jo()&&Y1(n,e),n.C_.size===0&&(r.Jo()?r.Xo():la(n)&&n.x_.set("Unknown"))}function My(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).c_(e)}function Y1(t,e){t.O_.Oe(e),Ao(t).l_(e)}function Vy(t){t.O_=new HM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.x_.p_()}function Fy(t){return la(t)&&!Ao(t).Ho()&&t.C_.size>0}function la(t){return ge(t).v_.size===0}function Q1(t){t.O_=void 0}async function z2(t){t.C_.forEach((e,n)=>{My(t,e)})}async function H2(t,e){Q1(t),Fy(t)?(t.x_.S_(e),Vy(t)):t.x_.set("Unknown")}async function q2(t,e,n){if(t.x_.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qu(t,r)}else if(e instanceof Gd?t.O_.$e(e):e instanceof D1?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(he.min()))try{const r=await H1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.O_.it(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.C_.get(d);u&&i.C_.set(d,u.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const u=i.C_.get(c);if(!u)return;i.C_.set(c,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),Y1(i,c);const h=new ks(u.target,c,d,u.sequenceNumber);My(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await qu(t,r)}}async function qu(t,e,n){if(!Fc(e))throw e;t.v_.add(1),await zc(t),t.x_.set("Offline"),n||(n=()=>H1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await sf(t)})}function X1(t,e){return e().catch(n=>qu(t,n,e))}async function af(t){const e=ge(t),n=ei(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;W2(e);)try{const s=await A2(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,G2(e,s)}catch(s){await qu(e,s)}J1(e)&&Z1(e)}function W2(t){return la(t)&&t.D_.length<10}function G2(t,e){t.D_.push(e);const n=ei(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function J1(t){return la(t)&&!ei(t).Ho()&&t.D_.length>0}function Z1(t){ei(t).start()}async function K2(t){ei(t).d_()}async function Y2(t){const e=ei(t);for(const n of t.D_)e.I_(n.mutations)}async function Q2(t,e,n){const r=t.D_.shift(),s=Py.from(r,e,n);await X1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await af(t)}async function X2(t,e){e&&ei(t).P_&&await async function(r,s){if(function(o){return $M(o)&&o!==$.ABORTED}(s.code)){const i=r.D_.shift();ei(r).Zo(),await X1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await af(r)}}(t,e),J1(t)&&Z1(t)}async function d0(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=la(n);n.v_.add(3),await zc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await sf(n)}async function J2(t,e){const n=ge(t);e?(n.v_.delete(2),await sf(n)):e||(n.v_.add(2),await zc(n),n.x_.set("Unknown"))}function Ao(t){return t.N_||(t.N_=function(n,r,s){const i=ge(n);return i.R_(),new V2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:z2.bind(null,t),To:H2.bind(null,t),u_:q2.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Fy(t)?Vy(t):t.x_.set("Unknown")):(await t.N_.stop(),Q1(t))})),t.N_}function ei(t){return t.B_||(t.B_=function(n,r,s){const i=ge(n);return i.R_(),new F2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:K2.bind(null,t),To:X2.bind(null,t),E_:Y2.bind(null,t),T_:Q2.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await af(t)):(await t.B_.stop(),t.D_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Uy(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Fc(t))return new ee($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=dl(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new Ga(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.L_=new ct(oe.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):de():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yo{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new yo(e,n,Ga.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.q_=void 0,this.Q_=[]}}class eV{constructor(){this.queries=new Co(e=>b1(e),Jh),this.onlineState="Unknown",this.K_=new Set}}async function eT(t,e){const n=ge(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Z2),s)try{i.q_=await n.onListen(r)}catch(o){const l=$y(o,`Initialization of query '${wa(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&By(n)}async function tT(t,e){const n=ge(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function tV(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Q_)l.W_(s)&&(r=!0);o.q_=s}}r&&By(n)}function nV(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function By(t){t.K_.forEach(e=>{e.next()})}class nT{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class rV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=je(),this.mutatedKeys=je(),this.ua=w1(e),this.ca=new Ga(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new u0,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=Zh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),b=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.ua(p,c)>0||d&&this.ua(p,d)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(c||d)&&(l=!0)),b&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:l,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,h)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return y(p)-y(g)}(u.type,h.type)||this.ua(u.doc,h.doc)),this.Ta(r),s=s!=null&&s;const l=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,d=c!==this._a;return this._a=c,o.length!==0||d?{snapshot:new yo(this.query,e.ca,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new u0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=je(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new sT(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new rT(r))}),n}Ra(e){this.oa=e.hs,this.aa=je();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return yo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class sV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iV{constructor(e){this.key=e,this.ma=!1}}class aV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Co(l=>b1(l),Jh),this.pa=new Map,this.ya=new Set,this.wa=new ct(oe.comparator),this.Sa=new Map,this.ba=new Dy,this.Da={},this.Ca=new Map,this.va=vo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function oV(t,e){const n=vV(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await P2(n.localStore,Pr(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await lV(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&G1(n.remoteStore,o)}return s}async function lV(t,e,n,r,s){t.Ma=(h,f,p)=>async function(y,b,m,x){let v=b.view.ha(m);v.Xi&&(v=await o0(y.localStore,b.query,!1).then(({documents:I})=>b.view.ha(I,v)));const E=x&&x.targetChanges.get(b.targetId),S=x&&x.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(v,y.isPrimaryClient,E,S);return f0(y,b.targetId,j.da),j.snapshot}(t,h,f,p);const i=await o0(t.localStore,e,!0),o=new rV(e,i.hs),l=o.ha(i.documents),c=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);f0(t,n,d.da);const u=new sV(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),d.snapshot}async function cV(t,e){const n=ge(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!Jh(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),K1(n.remoteStore,r.targetId),bg(n,r.targetId)}).catch(Vc)):(bg(n,r.targetId),await xg(n.localStore,r.targetId,!0))}async function dV(t,e,n){const r=yV(t);try{const s=await function(o,l){const c=ge(o),d=Nt.now(),u=l.reduce((p,g)=>p.add(g.key),je());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ds(),y=je();return c.os.getEntries(p,u).next(b=>{g=b,g.forEach((m,x)=>{x.isValidDocument()||(y=y.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(b=>{h=b;const m=[];for(const x of l){const v=LM(x,h.get(x.key).overlayedDocument);v!=null&&m.push(new ui(x.key,v,h1(v.value.mapValue),Xn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,m,l)}).next(b=>{f=b;const m=b.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(p,b.batchId,m)})}).then(()=>({batchId:f.batchId,changes:j1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Da[o.currentUser.toKey()];d||(d=new ct(De)),d=d.insert(l,c),o.Da[o.currentUser.toKey()]=d}(r,s.batchId,n),await Hc(r,s.changes),await af(r.remoteStore)}catch(s){const i=$y(s,"Failed to persist write");n.reject(i)}}async function iT(t,e){const n=ge(t);try{const r=await I2(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?ze(o.ma):s.removedDocuments.size>0&&(ze(o.ma),o.ma=!1))}),await Hc(n,r,e)}catch(r){await Vc(r)}}function h0(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const l=o.view.U_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=ge(o);c.onlineState=l;let d=!1;c.queries.forEach((u,h)=>{for(const f of h.Q_)f.U_(l)&&(d=!0)}),d&&By(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uV(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let o=new ct(oe.comparator);o=o.insert(i,Xt.newNoDocument(i,he.min()));const l=je().add(i),c=new nf(he.min(),new Map,new ct(De),o,l);await iT(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),zy(r)}else await xg(r.localStore,e,!1).then(()=>bg(r,e,n)).catch(Vc)}async function hV(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await T2(n.localStore,e);oT(n,r,null),aT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,s)}catch(s){await Vc(s)}}async function fV(t,e,n){const r=ge(t);try{const s=await function(o,l){const c=ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next(h=>(ze(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})}(r.localStore,e);oT(r,e,n),aT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,s)}catch(s){await Vc(s)}}function aT(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function oT(t,e,n){const r=ge(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||lT(t,r)})}function lT(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(K1(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),zy(t))}function f0(t,e,n){for(const r of n)r instanceof rT?(t.ba.addReference(r.key,e),pV(t,r)):r instanceof sT?(X("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||lT(t,r.key)):de()}function pV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(X("SyncEngine","New document in limbo: "+n),t.ya.add(r),zy(t))}function zy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new oe(Ge.fromString(e)),r=t.va.next();t.Sa.set(r,new iV(n)),t.wa=t.wa.insert(n,r),G1(t.remoteStore,new ks(Pr(Iy(n.path)),r,"TargetPurposeLimboResolution",_y._e))}}async function Hc(t,e,n){const r=ge(t),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){s.push(d);const u=Ly.Ki(c.targetId,d);i.push(u)}}))}),await Promise.all(o),r.fa.u_(s),await async function(c,d){const u=ge(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(d,f=>H.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>H.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Fc(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of d){const f=h.targetId;if(!h.fromCache){const p=u.ns.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(f,y)}}}(r.localStore,i))}async function mV(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await z1(n.localStore,e);n.currentUser=e,function(i,o){i.Ca.forEach(l=>{l.forEach(c=>{c.reject(new ee($.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.us)}}function gV(t,e){const n=ge(t),r=n.Sa.get(e);if(r&&r.ma)return je().add(r.key);{let s=je();const i=n.pa.get(e);if(!i)return s;for(const o of i){const l=n.ga.get(o);s=s.unionWith(l.view.la)}return s}}function vV(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uV.bind(null,e),e.fa.u_=tV.bind(null,e.eventManager),e.fa.xa=nV.bind(null,e.eventManager),e}function yV(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fV.bind(null,e),e}class p0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return S2(this.persistence,new E2,e.initialUser,this.serializer)}createPersistence(e){return new w2(Oy.Hr,this.serializer)}createSharedClientState(e){return new R2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class xV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mV.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eV}()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),r=function(i){return new M2(i)}(e.databaseInfo);return function(i,o,l,c){return new U2(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new B2(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>h0(this.syncEngine,n,0),function(){return c0.D()?new c0:new D2}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,u){const h=new aV(s,i,o,l,c,d);return u&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=ge(r);X("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await zc(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Yt.UNAUTHENTICATED,this.clientId=c1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{X("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(X("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$y(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gp(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await z1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function m0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _V(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>d0(e.remoteStore,s)),t._onlineComponents=e}function wV(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _V(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await gp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!wV(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await gp(t,new p0)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await gp(t,new p0);return t._offlineComponents}async function dT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await m0(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await m0(t,new xV))),t._onlineComponents}function jV(t){return dT(t).then(e=>e.syncEngine)}async function uT(t){const e=await dT(t),n=e.eventManager;return n.onListen=oV.bind(null,e.syncEngine),n.onUnlisten=cV.bind(null,e.syncEngine),n}function EV(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new cT({next:f=>{o.enqueueAndForget(()=>tT(i,h));const p=f.docs.has(l);!p&&f.fromCache?d.reject(new ee($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?d.reject(new ee($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),h=new nT(Iy(l.path),u,{includeMetadataChanges:!0,Z_:!0});return eT(i,h)}(await uT(t),t.asyncQueue,e,n,r)),r.promise}function NV(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new cT({next:f=>{o.enqueueAndForget(()=>tT(i,h)),f.fromCache&&c.source==="server"?d.reject(new ee($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),h=new nT(l,u,{includeMetadataChanges:!0,Z_:!0});return eT(i,h)}(await uT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e,n){if(!n)throw new ee($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SV(t,e,n,r){if(e===!0&&r===!0)throw new ee($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v0(t){if(!oe.isDocumentKey(t))throw new ee($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y0(t){if(oe.isDocumentKey(t))throw new ee($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(t);throw new ee($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function TV(t,e){if(e<=0)throw new ee($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ee($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qL;switch(r.type){case"firstParty":return new YL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=g0.get(n);r&&(X("ComponentProvider","Removing Datastore"),g0.delete(n),r.terminate())}(this),Promise.resolve()}}function IV(t,e,n,r={}){var s;const i=(t=vr(t,lf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Yt.MOCK_USER;else{l=QN(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ee($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Yt(d)}t._authCredentials=new WL(new l1(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Gs extends ca{constructor(e,n,r){super(e,n,Iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new oe(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function re(t,e,...n){if(t=He(t),fT("collection","path",e),t instanceof lf){const r=Ge.fromString(e,...n);return y0(r),new Gs(t,null,r)}{if(!(t instanceof fn||t instanceof Gs))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return y0(r),new Gs(t.firestore,null,r)}}function xe(t,e,...n){if(t=He(t),arguments.length===1&&(e=c1.newId()),fT("doc","path",e),t instanceof lf){const r=Ge.fromString(e,...n);return v0(r),new fn(t,null,new oe(r))}{if(!(t instanceof fn||t instanceof Gs))throw new ee($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return v0(r),new fn(t.firestore,t instanceof Gs?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new q1(this,"async_queue_retry"),this._u=()=>{const n=mp();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=mp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ar;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Fc(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=Uy.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&de()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class da extends lf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new CV}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pT(this),this._firestoreClient.terminate()}}function AV(t,e){const n=typeof t=="object"?t:Dh(),r=typeof t=="string"?t:e||"(default)",s=li(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=GN("firestore");i&&IV(s,...i)}return s}function Hy(t){return t._firestoreClient||pT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pT(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,u){return new cM(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new bV(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(nn.fromBase64String(e))}catch(n){throw new ee($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=/^__.*__$/;class kV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class mT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class df{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.mu(e),s}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.Eu(),s}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Wu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(gT(this.du)&&PV.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class RV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rf(e)}Su(e,n,r,s=!1){return new df({du:e,methodName:n,wu:r,path:Vt.emptyPath(),Vu:!1,yu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uf(t){const e=t._freezeSettings(),n=rf(t._databaseId);return new RV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vT(t,e,n,r,s,i={}){const o=t.Su(i.merge||i.mergeFields?2:0,e,n,s);Yy("Data must be an object, but it was:",o,r);const l=xT(r,o);let c,d;if(i.merge)c=new Rn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=wg(e,h,n);if(!o.contains(f))throw new ee($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wT(u,f)||u.push(f)}c=new Rn(u),d=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=o.fieldTransforms;return new kV(new jn(l),c,d)}class hf extends Po{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}function yT(t,e,n){return new df({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wy extends Po{_toFieldTransform(e){return new Cy(e.path,new fc)}isEqual(e){return e instanceof Wy}}class Gy extends Po{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=yT(this,e,!0),r=this.bu.map(i=>ua(i,n)),s=new mo(r);return new Cy(e.path,s)}isEqual(e){return e instanceof Gy&&$i(this.bu,e.bu)}}class Ky extends Po{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=yT(this,e,!0),r=this.bu.map(i=>ua(i,n)),s=new go(r);return new Cy(e.path,s)}isEqual(e){return e instanceof Ky&&$i(this.bu,e.bu)}}function DV(t,e,n,r){const s=t.Su(1,e,n);Yy("Data must be an object, but it was:",s,r);const i=[],o=jn.empty();oa(r,(c,d)=>{const u=Qy(e,c,n);d=He(d);const h=s.fu(u);if(d instanceof hf)i.push(u);else{const f=ua(d,h);f!=null&&(i.push(u),o.set(u,f))}});const l=new Rn(i);return new mT(o,l,s.fieldTransforms)}function OV(t,e,n,r,s,i){const o=t.Su(1,e,n),l=[wg(e,r,n)],c=[s];if(i.length%2!=0)throw new ee($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(wg(e,i[f])),c.push(i[f+1]);const d=[],u=jn.empty();for(let f=l.length-1;f>=0;--f)if(!wT(d,l[f])){const p=l[f];let g=c[f];g=He(g);const y=o.fu(p);if(g instanceof hf)d.push(p);else{const b=ua(g,y);b!=null&&(d.push(p),u.set(p,b))}}const h=new Rn(d);return new mT(u,h,o.fieldTransforms)}function LV(t,e,n,r=!1){return ua(n,t.Su(r?4:3,e))}function ua(t,e){if(bT(t=He(t)))return Yy("Unsupported field value:",e,t),xT(t,e);if(t instanceof Po)return function(r,s){if(!gT(s.du))throw s.pu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.pu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=ua(l,s.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Nt.fromDate(r);return{timestampValue:Hu(s.serializer,i)}}if(r instanceof Nt){const i=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hu(s.serializer,i)}}if(r instanceof qy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:L1(s.serializer,r._byteString)};if(r instanceof fn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ry(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.pu(`Unsupported field value: ${of(r)}`)}(t,e)}function xT(t,e){const n={};return d1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,(r,s)=>{const i=ua(s,e.Ru(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof qy||t instanceof xo||t instanceof fn||t instanceof Po)}function Yy(t,e,n){if(!bT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=of(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function wg(t,e,n){if((e=He(e))instanceof cf)return e._internalPath;if(typeof e=="string")return Qy(t,e);throw Wu("Field path arguments must be of type string or ",t,!1,void 0,n)}const MV=new RegExp("[~\\*/\\[\\]]");function Qy(t,e,n){if(e.search(MV)>=0)throw Wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cf(...e.split("."))._internalPath}catch{throw Wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ee($.INVALID_ARGUMENT,l+t+c)}function wT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VV extends _T{data(){return super.data()}}function Xy(t,e){return typeof e=="string"?Qy(t,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jy{}class jT extends Jy{}function jt(t,e,...n){let r=[];e instanceof Jy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Zy).length,l=i.filter(c=>c instanceof ff).length;if(o>1||o>0&&l>0)throw new ee($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ff extends jT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ff(e,n,r)}_apply(e){const n=this._parse(e);return ET(e._query,n),new ca(e.firestore,e.converter,pg(e._query,n))}_parse(e){const n=uf(e.firestore);return function(i,o,l,c,d,u,h){let f;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ee($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){w0(h,u);const p=[];for(const g of h)p.push(b0(c,i,g));f={arrayValue:{values:p}}}else f=b0(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||w0(h,u),f=LV(l,o,h,u==="in"||u==="not-in");return vt.create(d,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gn(t,e,n){const r=e,s=Xy("where",t);return ff._create(s,r,n)}class Zy extends Jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)ET(o,c),o=pg(o,c)}(e._query,n),new ca(e.firestore,e.converter,pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ex extends jT{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ex(e,n,r)}_apply(e){return new ca(e.firestore,e.converter,Bu(e._query,this._limit,this._limitType))}}function ti(t){return TV("limit",t),ex._create("limit",t,"F")}function b0(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new ee($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x1(e)&&n.indexOf("/")!==-1)throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!oe.isDocumentKey(r))throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hw(t,new oe(r))}if(n instanceof fn)return Hw(t,n._key);throw new ee($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(n)}.`)}function w0(t,e){if(!Array.isArray(t)||t.length===0)throw new ee($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UV{convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new qy(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ey(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);ze(B1(r));const s=new uc(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Mr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ST extends _T{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kd extends ST{data(e={}){return super.data(e)}}class $V{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kd(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Kd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new hl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Kd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new hl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,u=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:BV(l.type),doc:c,oldIndex:d,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){t=vr(t,fn);const e=vr(t.firestore,da);return EV(Hy(e),t._key).then(n=>HV(e,t,n))}class TT extends UV{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function _e(t){t=vr(t,ca);const e=vr(t.firestore,da),n=Hy(e),r=new TT(e);return FV(t._query),NV(n,t._query).then(s=>new $V(e,r,t,s))}function zV(t,e,n){t=vr(t,fn);const r=vr(t.firestore,da),s=NT(t.converter,e,n);return pf(r,[vT(uf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xn.none())])}function ot(t,e,n,...r){t=vr(t,fn);const s=vr(t.firestore,da),i=uf(s);let o;return o=typeof(e=He(e))=="string"||e instanceof cf?OV(i,"updateDoc",t._key,e,n,r):DV(i,"updateDoc",t._key,e),pf(s,[o.toMutation(t._key,Xn.exists(!0))])}function rn(t){return pf(vr(t.firestore,da),[new Ay(t._key,Xn.none())])}function Ye(t,e){const n=vr(t.firestore,da),r=xe(t),s=NT(t.converter,e);return pf(n,[vT(uf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function pf(t,e){return function(r,s){const i=new Ar;return r.asyncQueue.enqueueAndForget(async()=>dV(await jV(r),s,i)),i.promise}(Hy(t),e)}function HV(t,e,n){const r=n.docs.get(e._key),s=new TT(t);return new ST(t,s,e._key,r,new hl(n.hasPendingWrites,n.fromCache),e.converter)}function qV(){return new Wy("serverTimestamp")}function WV(...t){return new Gy("arrayUnion",t)}function IT(...t){return new Ky("arrayRemove",t)}(function(e,n=!0){(function(s){Io=s})(ia),pr(new er("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new da(new GL(r.getProvider("auth-internal")),new XL(r.getProvider("app-check-internal")),function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ee($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(d.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),In(Fw,"4.4.2",e),In(Fw,"4.4.2","esm2017")})();var GV="firebase",KV="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In(GV,KV,"app");const CT="@firebase/installations",tx="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=1e4,PT=`w:${tx}`,kT="FIS_v2",YV="https://firebaseinstallations.googleapis.com/v1",QV=60*60*1e3,XV="installations",JV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new sa(XV,JV,ZV);function RT(t){return t instanceof rr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT({projectId:t}){return`${YV}/projects/${t}/installations`}function OT(t){return{token:t.token,requestStatus:2,expiresIn:tF(t.expiresIn),creationTime:Date.now()}}async function LT(t,e){const r=(await e.json()).error;return Wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function MT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function eF(t,{refreshToken:e}){const n=MT(t);return n.append("Authorization",nF(e)),n}async function VT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tF(t){return Number(t.replace("s","000"))}function nF(t){return`${kT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=DT(t),s=MT(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:kT,appId:t.appId,sdkVersion:PT},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await VT(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:OT(d.authToken)}}else throw await LT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=/^[cdef][\w-]{21}$/,_g="";function aF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=oF(t);return iF.test(n)?n:_g}catch{return _g}}function oF(t){return sF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;function $T(t,e){const n=mf(t);BT(n,e),lF(n,e)}function BT(t,e){const n=UT.get(t);if(n)for(const r of n)r(e)}function lF(t,e){const n=cF();n&&n.postMessage({key:t,fid:e}),dF()}let Ii=null;function cF(){return!Ii&&"BroadcastChannel"in self&&(Ii=new BroadcastChannel("[Firebase] FID Change"),Ii.onmessage=t=>{BT(t.data.key,t.data.fid)}),Ii}function dF(){UT.size===0&&Ii&&(Ii.close(),Ii=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="firebase-installations-database",hF=1,Gi="firebase-installations-store";let vp=null;function nx(){return vp||(vp=tS(uF,hF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gi)}}})),vp}async function Gu(t,e){const n=mf(t),s=(await nx()).transaction(Gi,"readwrite"),i=s.objectStore(Gi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&$T(t,e.fid),e}async function zT(t){const e=mf(t),r=(await nx()).transaction(Gi,"readwrite");await r.objectStore(Gi).delete(e),await r.done}async function gf(t,e){const n=mf(t),s=(await nx()).transaction(Gi,"readwrite"),i=s.objectStore(Gi),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&$T(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t){let e;const n=await gf(t.appConfig,r=>{const s=fF(r),i=pF(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===_g?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function fF(t){const e=t||{fid:aF(),registrationStatus:0};return HT(e)}function pF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=mF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gF(t)}:{installationEntry:e}}async function mF(t,e){try{const n=await rF(t,e);return Gu(t.appConfig,n)}catch(n){throw RT(n)&&n.customData.serverCode===409?await zT(t.appConfig):await Gu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function gF(t){let e=await _0(t.appConfig);for(;e.registrationStatus===1;)await FT(100),e=await _0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await rx(t);return r||n}return e}function _0(t){return gf(t,e=>{if(!e)throw Wi.create("installation-not-found");return HT(e)})}function HT(t){return vF(t)?{fid:t.fid,registrationStatus:0}:t}function vF(t){return t.registrationStatus===1&&t.registrationTime+AT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF({appConfig:t,heartbeatServiceProvider:e},n){const r=xF(t,n),s=eF(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:PT,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await VT(()=>fetch(r,l));if(c.ok){const d=await c.json();return OT(d)}else throw await LT("Generate Auth Token",c)}function xF(t,{fid:e}){return`${DT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(t,e=!1){let n;const r=await gf(t.appConfig,i=>{if(!qT(i))throw Wi.create("not-registered");const o=i.authToken;if(!e&&_F(o))return i;if(o.requestStatus===1)return n=bF(t,e),i;{if(!navigator.onLine)throw Wi.create("app-offline");const l=EF(i);return n=wF(t,l),l}});return n?await n:r.authToken}async function bF(t,e){let n=await j0(t.appConfig);for(;n.authToken.requestStatus===1;)await FT(100),n=await j0(t.appConfig);const r=n.authToken;return r.requestStatus===0?sx(t,e):r}function j0(t){return gf(t,e=>{if(!qT(e))throw Wi.create("not-registered");const n=e.authToken;return NF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function wF(t,e){try{const n=await yF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Gu(t.appConfig,r),n}catch(n){if(RT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gu(t.appConfig,r)}throw n}}function qT(t){return t!==void 0&&t.registrationStatus===2}function _F(t){return t.requestStatus===2&&!jF(t)}function jF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+QV}function EF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function NF(t){return t.requestStatus===1&&t.requestTime+AT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t){const e=t,{installationEntry:n,registrationPromise:r}=await rx(e);return r?r.catch(console.error):sx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e=!1){const n=t;return await IF(n),(await sx(n,e)).token}async function IF(t){const{registrationPromise:e}=await rx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t){if(!t||!t.options)throw yp("App Configuration");if(!t.name)throw yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yp(t){return Wi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="installations",AF="installations-internal",PF=t=>{const e=t.getProvider("app").getImmediate(),n=CF(e),r=li(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},kF=t=>{const e=t.getProvider("app").getImmediate(),n=li(e,WT).getImmediate();return{getId:()=>SF(n),getToken:s=>TF(n,s)}};function RF(){pr(new er(WT,PF,"PUBLIC")),pr(new er(AF,kF,"PRIVATE"))}RF();In(CT,tx);In(CT,tx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="analytics",DF="firebase_id",OF="origin",LF=60*1e3,MF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ix="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new Rh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new sa("analytics","Analytics",VF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){if(!t.startsWith(ix)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return Cn.warn(e.message),""}return t}function GT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function UF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function $F(t,e){const n=UF("firebase-js-sdk-policy",{createScriptURL:FF}),r=document.createElement("script"),s=`${ix}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function BF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function zF(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await GT(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){Cn.error(l)}t("config",s,i)}async function HF(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await GT(n);for(const c of o){const d=l.find(h=>h.measurementId===c),u=d&&e[d.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Cn.error(i)}}function qF(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await HF(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await zF(t,e,n,r,l,c)}else if(i==="consent"){const[l]=o;t("consent","update",l)}else if(i==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){Cn.error(l)}}return s}function WF(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=qF(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function GF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ix)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=30,YF=1e3;class QF{constructor(e={},n=YF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const KT=new QF;function XF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function JF(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:XF(r)},i=MF.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function ZF(t,e=KT,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Mn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new nU;return setTimeout(async()=>{l.abort()},n!==void 0?n:LF),YT({appId:r,apiKey:s,measurementId:i},o,l,e)}async function YT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=KT){var i;const{appId:o,measurementId:l}=t;try{await eU(r,e)}catch(c){if(l)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await JF(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!tU(d)){if(s.deleteThrottleMetadata(o),l)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw c}const u=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?vw(n,s.intervalMillis,KF):vw(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Cn.debug(`Calling attemptFetch again in ${u} millis`),YT(t,h,r,s)}}function eU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tU(t){if(!(t instanceof rr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class nU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(){if(Yv())try{await JN()}catch(t){return Cn.warn(Mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Cn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iU(t,e,n,r,s,i,o){var l;const c=ZF(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Cn.error(p)),e.push(c);const d=sU().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([c,d]);GF(i)||$F(i,u.measurementId),s("js",new Date);const f=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return f[OF]="firebase",f.update=!0,h!=null&&(f[DF]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.app=e}_delete(){return delete Cl[this.app.options.appId],Promise.resolve()}}let Cl={},E0=[];const N0={};let xp="dataLayer",oU="gtag",S0,QT,T0=!1;function lU(){const t=[];if(XN()&&t.push("This is a browser extension environment."),jD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});Cn.warn(n.message)}}function cU(t,e,n){lU();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(Cl[r]!=null)throw Mn.create("already-exists",{id:r});if(!T0){BF(xp);const{wrappedGtag:i,gtagCore:o}=WF(Cl,E0,N0,xp,oU);QT=i,S0=o,T0=!0}return Cl[r]=iU(t,E0,N0,e,S0,xp,n),new aU(t)}function dU(t=Dh()){t=He(t);const e=li(t,Ku);return e.isInitialized()?e.getImmediate():uU(t)}function uU(t,e={}){const n=li(t,Ku);if(n.isInitialized()){const s=n.getImmediate();if($i(e,n.getOptions()))return s;throw Mn.create("already-initialized")}return n.initialize({options:e})}function hU(t,e,n,r){t=He(t),rU(QT,Cl[t.app.options.appId],e,n,r).catch(s=>Cn.error(s))}const I0="@firebase/analytics",C0="0.10.1";function fU(){pr(new er(Ku,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return cU(r,s,n)},"PUBLIC")),pr(new er("analytics-internal",t,"PRIVATE")),In(I0,C0),In(I0,C0,"esm2017");function t(e){try{const n=e.getProvider(Ku).getImmediate();return{logEvent:(r,s,i)=>hU(n,r,s,i)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}fU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebasestorage.googleapis.com",JT="storageBucket",pU=2*60*1e3,mU=10*60*1e3,gU=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends rr{constructor(e,n,r=0){super(bp(e),`Firebase Storage: ${n} (${bp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qe||(Qe={}));function bp(t){return"storage/"+t}function ax(){const t="An unknown error occurred, please check the error payload for server response.";return new dt(Qe.UNKNOWN,t)}function vU(t){return new dt(Qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yU(t){return new dt(Qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(Qe.UNAUTHENTICATED,t)}function bU(){return new dt(Qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wU(t){return new dt(Qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZT(){return new dt(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eI(){return new dt(Qe.CANCELED,"User canceled the upload/download.")}function _U(t){return new dt(Qe.INVALID_URL,"Invalid URL '"+t+"'.")}function jU(t){return new dt(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EU(){return new dt(Qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JT+"' property when initializing the app?")}function tI(){return new dt(Qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NU(){return new dt(Qe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function SU(){return new dt(Qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TU(t){return new dt(Qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jg(t){return new dt(Qe.INVALID_ARGUMENT,t)}function nI(){return new dt(Qe.APP_DELETED,"The Firebase app was deleted.")}function IU(t){return new dt(Qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Al(t,e){return new dt(Qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ko(t){throw new dt(Qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(r.path==="")return r;throw jU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},y=n===XT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",m=new RegExp(`^https?://${y}/${s}/${b}`,"i"),v=[{regex:l,indices:c,postModify:i},{regex:p,indices:g,postModify:d},{regex:m,indices:{bucket:1,path:2},postModify:d}];for(let E=0;E<v.length;E++){const S=v[E],j=S.regex.exec(e);if(j){const I=j[S.indices.bucket];let w=j[S.indices.path];w||(w=""),r=new Dn(I,w),S.postModify(r);break}}if(r==null)throw _U(e);return r}}class CU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function u(...b){d||(d=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(p,c())},b)}function f(){i&&clearTimeout(i)}function p(b,...m){if(d){f();return}if(b){f(),u.call(null,b,...m);return}if(c()||o){f(),u.call(null,b,...m);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,h(v)}let g=!1;function y(b){g||(g=!0,f(),!d&&(s!==null?(b||(l=2),clearTimeout(s),h(0)):b||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function PU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){return t!==void 0}function RU(t){return typeof t=="function"}function DU(t){return typeof t=="object"&&!Array.isArray(t)}function vf(t){return typeof t=="string"||t instanceof String}function A0(t){return ox()&&t instanceof Blob}function ox(){return typeof Blob<"u"}function P0(t,e,n,r){if(r<e)throw jg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ri||(Ri={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r,s,i,o,l,c,d,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ed(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Ri.NO_ERROR,c=i.getStatus();if(!l||sI(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Ri.ABORT;r(!1,new Ed(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Ed(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());kU(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=ax();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?nI():eI();o(c)}else{const c=ZT();o(c)}};this.canceled_?n(!1,new Ed(!1,null,!0)):this.backoffId_=AU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function UU(t,e,n,r,s,i,o=!0){const l=rI(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return VU(d,e),LU(d,n),MU(d,i),FU(d,r),new OU(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BU(...t){const e=$U();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ox())return new Blob(t);throw new dt(Qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){if(typeof atob>"u")throw TU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wp{constructor(e,n){this.data=e,this.contentType=n||null}}function qU(t,e){switch(t){case Sr.RAW:return new wp(iI(e));case Sr.BASE64:case Sr.BASE64URL:return new wp(aI(t,e));case Sr.DATA_URL:return new wp(GU(e),KU(e))}throw ax()}function iI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function WU(t){let e;try{e=decodeURIComponent(t)}catch{throw Al(Sr.DATA_URL,"Malformed data URL.")}return iI(e)}function aI(t,e){switch(t){case Sr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Al(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Al(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HU(e)}catch(s){throw s.message.includes("polyfill")?s:Al(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class oI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Al(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=YU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function GU(t){const e=new oI(t);return e.base64?aI(Sr.BASE64,e.rest):WU(e.rest)}function KU(t){return new oI(t).contentType}function YU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){let r=0,s="";A0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(A0(this.data_)){const r=this.data_,s=zU(r,e,n);return s===null?null:new Yr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Yr(r,!0)}}static getBlob(...e){if(ox()){const n=e.map(r=>r instanceof Yr?r.data_:r);return new Yr(BU.apply(null,n))}else{const n=e.map(o=>vf(o)?qU(Sr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Yr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){let e;try{e=JSON.parse(t)}catch{return null}return DU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function cI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e){return e}class cn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||JU}}let Nd=null;function ZU(t){return!vf(t)||t.length<2?t:cI(t)}function lx(){if(Nd)return Nd;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(i,o){return ZU(o)}const n=new cn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new cn("size");return s.xform=r,t.push(s),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),Nd=t,Nd}function e$(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Dn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function t$(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return e$(r,t),r}function dI(t,e,n){const r=lI(e);return r===null?null:t$(t,r,n)}function n$(t,e,n,r){const s=lI(e);if(s===null||!vf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),p=ko(f,n,r),g=rI({alt:"media",token:d});return p+g})[0]}function uI(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class ha{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t){if(!t)throw ax()}function cx(t,e){function n(r,s){const i=dI(t,s,e);return rs(i!==null),i}return n}function r$(t,e){function n(r,s){const i=dI(t,s,e);return rs(i!==null),n$(i,s,t.host,t._protocol)}return n}function qc(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=bU():s=xU():n.getStatus()===402?s=yU(t.bucket):n.getStatus()===403?s=wU(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function dx(t){const e=qc(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=vU(t.path)),i.serverResponse=s.serverResponse,i}return n}function s$(t,e,n){const r=e.fullServerUrl(),s=ko(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ha(s,i,cx(t,n),o);return l.errorHandler=dx(e),l}function i$(t,e,n){const r=e.fullServerUrl(),s=ko(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ha(s,i,r$(t,n),o);return l.errorHandler=dx(e),l}function a$(t,e){const n=e.fullServerUrl(),r=ko(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,d){}const l=new ha(r,s,o,i);return l.successCodes=[200,204],l.errorHandler=dx(e),l}function o$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=o$(null,e)),r}function fI(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let v="";for(let E=0;E<2;E++)v=v+Math.random().toString().slice(2);return v}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=hI(e,r,s),u=uI(d,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=Yr.getBlob(h,r,f);if(p===null)throw tI();const g={name:d.fullPath},y=ko(i,t.host,t._protocol),b="POST",m=t.maxUploadRetryTime,x=new ha(y,b,cx(t,n),m);return x.urlParams=g,x.headers=o,x.body=p.uploadData(),x.errorHandler=qc(e),x}class Yu{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function ux(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{rs(!1)}return rs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function l$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=hI(e,r,s),l={name:o.fullPath},c=ko(i,t.host,t._protocol),d="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=uI(o,n),f=t.maxUploadRetryTime;function p(y){ux(y);let b;try{b=y.getResponseHeader("X-Goog-Upload-URL")}catch{rs(!1)}return rs(vf(b)),b}const g=new ha(c,d,p,f);return g.urlParams=l,g.headers=u,g.body=h,g.errorHandler=qc(e),g}function c$(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(d){const u=ux(d,["active","final"]);let h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rs(!1)}h||rs(!1);const f=Number(h);return rs(!isNaN(f)),new Yu(f,r.size(),u==="final")}const o="POST",l=t.maxUploadRetryTime,c=new ha(n,o,i,l);return c.headers=s,c.errorHandler=qc(e),c}const k0=256*1024;function d$(t,e,n,r,s,i,o,l){const c=new Yu(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw NU();const d=c.total-c.current;let u=d;s>0&&(u=Math.min(u,s));const h=c.current,f=h+u;let p="";u===0?p="finalize":d===u?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},y=r.slice(h,f);if(y===null)throw tI();function b(E,S){const j=ux(E,["active","final"]),I=c.current+u,w=r.size();let _;return j==="final"?_=cx(e,i)(E,S):_=null,new Yu(I,w,j==="final",_)}const m="POST",x=e.maxUploadRetryTime,v=new ha(n,m,b,x);return v.headers=g,v.body=y.uploadData(),v.progressCallback=l||null,v.errorHandler=qc(t),v}const bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _p(t){switch(t){case"running":case"pausing":case"canceling":return bn.RUNNING;case"paused":return bn.PAUSED;case"success":return bn.SUCCESS;case"canceled":return bn.CANCELED;case"error":return bn.ERROR;default:return bn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u$=class{constructor(e,n,r){if(RU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class h${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ri.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ri.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ri.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Ko("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ko("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ko("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ko("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ko("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class f$ extends h${initXhr(){this.xhr_.responseType="text"}}function Es(){return new f$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=lx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Qe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(sI(s.status,[]))if(i)s=ZT();else{this.sleepTime=Math.max(this.sleepTime*2,gU),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Qe.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=l$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=c$(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Es,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=k0*this._chunkMultiplier,n=new Yu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=d$(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,Es,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){k0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=s$(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=fI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=eI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_p(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new u$(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_p(this._state)){case bn.SUCCESS:ya(this._resolve.bind(null,this.snapshot))();break;case bn.CANCELED:case bn.ERROR:const n=this._reject;ya(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_p(this._state)){case bn.RUNNING:case bn.PAUSED:e.next&&ya(e.next.bind(e,this.snapshot))();break;case bn.SUCCESS:e.complete&&ya(e.complete.bind(e))();break;case bn.CANCELED:case bn.ERROR:e.error&&ya(e.error.bind(e,this._error))();break;default:e.error&&ya(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ki(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cI(this._location.path)}get storage(){return this._service}get parent(){const e=QU(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new Ki(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw IU(e)}}function m$(t,e,n){t._throwIfRoot("uploadBytes");const r=fI(t.storage,t._location,lx(),new Yr(e,!0),n);return t.storage.makeRequestWithTokens(r,Es).then(s=>({metadata:s,ref:t}))}function g$(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new p$(t,new Yr(e),n)}function v$(t){t._throwIfRoot("getDownloadURL");const e=i$(t.storage,t._location,lx());return t.storage.makeRequestWithTokens(e,Es).then(n=>{if(n===null)throw SU();return n})}function y$(t){t._throwIfRoot("deleteObject");const e=a$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Es)}function x$(t,e){const n=XU(t._location.path,e),r=new Dn(t._location.bucket,n);return new Ki(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){return/^[A-Za-z]+:\/\//.test(t)}function w$(t,e){return new Ki(t,e)}function pI(t,e){if(t instanceof hx){const n=t;if(n._bucket==null)throw EU();const r=new Ki(n,n._bucket);return e!=null?pI(r,e):r}else return e!==void 0?x$(t,e):t}function _$(t,e){if(e&&b$(e)){if(t instanceof hx)return w$(t,e);throw jg("To use ref(service, url), the first argument must be a Storage instance.")}else return pI(t,e)}function R0(t,e){const n=e==null?void 0:e[JT];return n==null?null:Dn.makeFromBucketSpec(n,t)}function j$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:QN(s,t.app.options.projectId))}class hx{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=XT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pU,this._maxUploadRetryTime=mU,this._requests=new Set,s!=null?this._bucket=Dn.makeFromBucketSpec(s,this._host):this._bucket=R0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=R0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ki(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new CU(nI());{const o=UU(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const D0="@firebase/storage",O0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="storage";function $r(t,e,n){return t=He(t),m$(t,e,n)}function gI(t,e,n){return t=He(t),g$(t,e,n)}function Br(t){return t=He(t),v$(t)}function yr(t){return t=He(t),y$(t)}function Ce(t,e){return t=He(t),_$(t,e)}function E$(t=Dh(),e){t=He(t);const r=li(t,mI).getImmediate({identifier:e}),s=GN("storage");return s&&N$(r,...s),r}function N$(t,e,n,r={}){j$(t,e,n,r)}function S$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new hx(n,r,s,e,ia)}function T$(){pr(new er(mI,S$,"PUBLIC").setMultipleInstances(!0)),In(D0,O0,""),In(D0,O0,"esm2017")}T$();function fx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function vI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I$=vI,yI=new sa("auth","Firebase",vI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Rh("@firebase/auth");function C$(t,...e){Qu.logLevel<=Ne.WARN&&Qu.warn(`Auth (${ia}): ${t}`,...e)}function Yd(t,...e){Qu.logLevel<=Ne.ERROR&&Qu.error(`Auth (${ia}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw px(t,...e)}function Rr(t,...e){return px(t,...e)}function xI(t,e,n){const r=Object.assign(Object.assign({},I$()),{[e]:n});return new sa("auth","Firebase",r).create(e,{appName:t.name})}function A$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nr(t,"argument-error"),xI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function px(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yI.create(t,...e)}function ce(t,e,...n){if(!t)throw px(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yd(e),new Error(e)}function us(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P$(){return L0()==="http:"||L0()==="https:"}function L0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P$()||XN()||"connection"in navigator)?navigator.onLine:!0}function R$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=yD()||bD()}get(){return k$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=new Wc(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zr(t,e,n,r,s={}){return wI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Cc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),bI.fetch()(_I(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function wI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D$),e);try{const s=new M$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Sd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Sd(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xI(t,u,d);nr(t,u)}}catch(s){if(s instanceof rr)throw s;nr(t,"network-request-failed",{message:String(s)})}}async function Gc(t,e,n,r,s={}){const i=await zr(t,e,n,r,s);return"mfaPendingCredential"in i&&nr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function _I(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?mx(t.config,s):`${t.config.apiScheme}://${s}`}function L$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),O$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}function M0(t){return t!==void 0&&t.enterprise!==void 0}class V${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function F$(t,e){return zr(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e){return zr(t,"POST","/v1/accounts:delete",e)}async function $$(t,e){return zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B$(t,e=!1){const n=He(t),r=await n.getIdToken(e),s=gx(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Pl(jp(s.auth_time)),issuedAtTime:Pl(jp(s.iat)),expirationTime:Pl(jp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jp(t){return Number(t)*1e3}function gx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const s=qN(n);return s?JSON.parse(s):(Yd("Failed to decode base64 JWT payload"),null)}catch(s){return Yd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function z$(t){const e=gx(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&H$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await bo(t,$$(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?K$(i.providerUserInfo):[],l=G$(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new jI(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function W$(t){const e=He(t);await Xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function K$(t){return t.map(e=>{var{providerId:n}=e,r=fx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y$(t,e){const n=await wI(t,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=_I(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",bI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q$(t,e){return zr(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Y$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new pc;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=fx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await bo(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B$(this,e)}reload(){return W$(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await bo(this,U$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,d,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:j,stsTokenManager:I}=n;ce(v&&I,e,"internal-error");const w=pc.fromJSON(this.name,I);ce(typeof v=="string",e,"internal-error"),ys(h,e.name),ys(f,e.name),ce(typeof E=="boolean",e,"internal-error"),ce(typeof S=="boolean",e,"internal-error"),ys(p,e.name),ys(g,e.name),ys(y,e.name),ys(b,e.name),ys(m,e.name),ys(x,e.name);const _=new Di({uid:v,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:w,createdAt:m,lastLoginAt:x});return j&&Array.isArray(j)&&(_.providerData=j.map(N=>Object.assign({},N))),b&&(_._redirectEventId=b),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new pc;s.updateFromServerResponse(n);const i=new Di({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Xu(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;function ts(t){us(t instanceof Function,"Expected a class definition");let e=V0.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EI.type="NONE";const F0=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ka(ts(F0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ts(F0);const o=Qd(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const u=await d._get(o);if(u){const h=Di._fromJSON(e,u);d!==i&&(l=h),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ka(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ka(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CI(e))return"Blackberry";if(AI(e))return"Webos";if(vx(e))return"Safari";if((e.includes("chrome/")||SI(e))&&!e.includes("edge/"))return"Chrome";if(II(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NI(t=bt()){return/firefox\//i.test(t)}function vx(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SI(t=bt()){return/crios\//i.test(t)}function TI(t=bt()){return/iemobile/i.test(t)}function II(t=bt()){return/android/i.test(t)}function CI(t=bt()){return/blackberry/i.test(t)}function AI(t=bt()){return/webos/i.test(t)}function yf(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X$(t=bt()){var e;return yf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function J$(){return wD()&&document.documentMode===10}function PI(t=bt()){return yf(t)||II(t)||AI(t)||CI(t)||/windows phone/i.test(t)||TI(t)}function Z$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e=[]){let n;switch(t){case"Browser":n=U0(bt());break;case"Worker":n=`${U0(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e={}){return zr(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=6;class r4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:n4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new e4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?He(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t4(this),n=new r4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gs(t){return He(t)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ID(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i4(t){xf=t}function RI(t){return xf.loadJS(t)}function a4(){return xf.recaptchaEnterpriseScript}function o4(){return xf.gapiScript}function l4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const c4="recaptcha-enterprise",d4="NO_RECAPTCHA";class u4{constructor(e){this.type=c4,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{F$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new V$(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;M0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(d4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&M0(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=a4();c.length!==0&&(c+=l),RI(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function B0(t,e,n,r=!1){const s=new u4(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ju(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await B0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await B0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e){const n=li(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if($i(i,e??{}))return s;nr(s,"already-initialized")}return n.initialize({options:e})}function f4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function p4(t,e,n){const r=gs(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=DI(e),{host:o,port:l}=m4(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||g4()}function DI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m4(t){const e=DI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:z0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:z0(o)}}}function z0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function v4(t,e){return zr(t,"POST","/v1/accounts:update",e)}async function y4(t,e){return zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){return Gc(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}async function OI(t,e){return zr(t,"POST","/v1/accounts:sendOobCode",ms(t,e))}async function b4(t,e){return OI(t,e)}async function w4(t,e){return OI(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e){return Gc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function j4(t,e){return Gc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends yx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new mc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ju(e,n,"signInWithPassword",x4);case"emailLink":return _4(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ju(e,r,"signUpPassword",y4);case"emailLink":return j4(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e){return Gc(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="http://localhost";class Yi extends yx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=fx(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Yi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ya(e,n)}buildRequest(){const e={requestUri:E4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S4(t){const e=al(ol(t)).link,n=e?al(ol(e)).deep_link_id:null,r=al(ol(t)).deep_link_id;return(r?al(ol(r)).link:null)||r||n||e||t}class xx{constructor(e){var n,r,s,i,o,l;const c=al(ol(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=N4((s=c.mode)!==null&&s!==void 0?s:null);ce(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=S4(e);try{return new xx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xx.parseLink(n);return ce(r,"argument-error"),mc._fromEmailAndCode(e,r.code,r.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends bx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Kc{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Kc{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Kc{constructor(){super("twitter.com")}static credential(e,n){return Yi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){return Gc(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Di._fromIdTokenResponse(e,r,s),o=H0(r);return new Qi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=H0(r);return new Qi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function H0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends rr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zu(e,n,r,s)}}function LI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(t,i,e,r):i})}async function I4(t,e,n=!1){const r=await bo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await bo(t,LI(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=gx(i.idToken);ce(o,r,"internal-error");const{sub:l}=o;return ce(t.uid===l,r,"user-mismatch"),Qi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t,e,n=!1){const r="signIn",s=await LI(t,r,e),i=await Qi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function A4(t,e){return MI(gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e,n){var r;ce(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ce(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ce(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ce(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function P4(t,e,n){const r=gs(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&VI(r,s,n),await Ju(r,s,"getOobCode",w4)}async function q0(t,e,n){const r=gs(t),o=await Ju(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&FI(t),c}),l=await Qi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function k4(t,e,n){return A4(He(t),Ro.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FI(t),r})}async function R4(t,e){const n=He(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&VI(n.auth,s,e);const{email:i}=await b4(n.auth,s);i!==t.email&&await t.reload()}function D4(t,e){return O4(He(t),null,e)}async function O4(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await bo(t,v4(r,i));await t._updateTokensIfNecessary(o,!0)}function L4(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function M4(t,e,n){return He(t).beforeAuthStateChanged(e,n)}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){const t=bt();return vx(t)||yf(t)}const F4=1e3,U4=10;class $I extends UI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=V4()&&Z$(),this.fallbackToPolling=PI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);J$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,U4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},F4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$I.type="LOCAL";const $4=$I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends UI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BI.type="SESSION";const zI=BI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await B4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=wx("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function H4(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function q4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function G4(){return HI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebaseLocalStorageDb",K4=1,th="firebaseLocalStorage",WI="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(t,e){return t.transaction([th],e?"readwrite":"readonly").objectStore(th)}function Y4(){const t=indexedDB.deleteDatabase(qI);return new Yc(t).toPromise()}function Ng(){const t=indexedDB.open(qI,K4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(th,{keyPath:WI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(th)?e(r):(r.close(),await Y4(),e(await Ng()))})})}async function W0(t,e,n){const r=wf(t,!0).put({[WI]:e,value:n});return new Yc(r).toPromise()}async function Q4(t,e){const n=wf(t,!1).get(e),r=await new Yc(n).toPromise();return r===void 0?null:r.value}function G0(t,e){const n=wf(t,!0).delete(e);return new Yc(n).toPromise()}const X4=800,J4=3;class GI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>J4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(G4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q4(),!this.activeServiceWorker)return;this.sender=new z4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await W0(e,eh,"1"),await G0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Q4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wf(s,!1).getAll();return new Yc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GI.type="LOCAL";const Z4=GI;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e){return e?ts(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends yx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e3(t){return MI(t.auth,new _x(t),t.bypassAuthState)}function t3(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),C4(n,new _x(t),t.bypassAuthState)}async function n3(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),I4(n,new _x(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e3;case"linkViaPopup":case"linkViaRedirect":return n3;case"reauthViaPopup":case"reauthViaRedirect":return t3;default:nr(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Wc(2e3,1e4);async function s3(t,e,n){const r=gs(t);A$(t,e,bx);const s=KI(r,n);return new Ci(r,"signInViaPopup",e,s).executeNotNull()}class Ci extends YI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ci.currentPopupAction&&Ci.currentPopupAction.cancel(),Ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=wx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r3.get())};e()}}Ci.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="pendingRedirect",Xd=new Map;class a3 extends YI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const r=await o3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o3(t,e){const n=d3(e),r=c3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function l3(t,e){Xd.set(t._key(),e)}function c3(t){return ts(t._redirectPersistence)}function d3(t){return Qd(i3,t.config.apiKey,t.name)}async function u3(t,e,n=!1){const r=gs(t),s=KI(r,e),o=await new a3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=10*60*1e3;class f3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h3&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v3=/^https?/;async function y3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m3(t);for(const n of e)try{if(x3(n))return}catch{}nr(t,"unauthorized-domain")}function x3(t){const e=Eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!v3.test(n))return!1;if(g3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new Wc(3e4,6e4);function Y0(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w3(t){return new Promise((e,n)=>{var r,s,i;function o(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(Rr(t,"network-request-failed"))},timeout:b3.get()})}if(!((s=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Dr().gapi)===null||i===void 0)&&i.load)o();else{const l=l4("iframefcb");return Dr()[l]=()=>{gapi.load?o():n(Rr(t,"network-request-failed"))},RI(`${o4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Jd=null,e})}let Jd=null;function _3(t){return Jd=Jd||w3(t),Jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Wc(5e3,15e3),E3="__/auth/iframe",N3="emulator/auth/iframe",S3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I3(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mx(e,N3):`https://${t.config.authDomain}/${E3}`,r={apiKey:e.apiKey,appName:t.name,v:ia},s=T3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cc(r).slice(1)}`}async function C3(t){const e=await _3(t),n=Dr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:I3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),l=Dr().setTimeout(()=>{i(o)},j3.get());function c(){Dr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P3=500,k3=600,R3="_blank",D3="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O3(t,e,n,r=P3,s=k3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},A3),{width:r.toString(),height:s.toString(),top:i,left:o}),d=bt().toLowerCase();n&&(l=SI(d)?R3:n),NI(d)&&(e=e||D3,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(X$(d)&&l!=="_self")return L3(e||"",l),new Q0(null);const h=window.open(e||"",l,u);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new Q0(h)}function L3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="__/auth/handler",V3="emulator/auth/handler",F3=encodeURIComponent("fac");async function X0(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ia,eventId:s};if(e instanceof bx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Kc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${F3}=${encodeURIComponent(c)}`:"";return`${U3(t)}?${Cc(l).slice(1)}${d}`}function U3({config:t}){return t.emulator?mx(t,V3):`https://${t.authDomain}/${M3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class $3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zI,this._completeRedirectFn=u3,this._overrideRedirectResult=l3}async _openPopup(e,n,r,s){var i;us((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await X0(e,n,r,Eg(),s);return O3(e,o,wx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await X0(e,n,r,Eg(),s);return H4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(us(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await C3(e),r=new f3(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ep,{type:Ep},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ep];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PI()||vx()||yf()}}const B3=$3;var J0="@firebase/auth",Z0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q3(t){pr(new er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kI(t)},d=new s4(r,s,i,c);return f4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pr(new er("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new z3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),In(J0,Z0,H3(t)),In(J0,Z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=5*60,G3=YN("authIdTokenMaxAge")||W3;let e_=null;const K3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G3)return;const s=n==null?void 0:n.token;e_!==s&&(e_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Y3(t=Dh()){const e=li(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h4(t,{popupRedirectResolver:B3,persistence:[Z4,$4,zI]}),r=YN("authTokenSyncURL");if(r){const i=K3(r);M4(n,i,()=>i(n.currentUser)),L4(n,o=>i(o))}const s=WN("auth");return s&&p4(n,`http://${s}`),n}function Q3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}i4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Q3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q3("Browser");const X3={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},jx=nS(X3),Ae=E$(jx);dU(jx);const W=AV(jx),Jt=Y3(),J3=new Qr;function cr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ni(t){return!!t&&!!t[et]}function hs(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===oB}(t)||Array.isArray(t)||!!t[o_]||!!(!((e=t.constructor)===null||e===void 0)&&e[o_])||Ex(t)||Nx(t))}function Xi(t,e,n){n===void 0&&(n=!1),Do(t)===0?(n?Object.keys:Xa)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Do(t){var e=t[et];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ex(t)?2:Nx(t)?3:0}function Qa(t,e){return Do(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Z3(t,e){return Do(t)===2?t.get(e):t[e]}function XI(t,e,n){var r=Do(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function JI(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Ex(t){return iB&&t instanceof Map}function Nx(t){return aB&&t instanceof Set}function yi(t){return t.o||t.t}function Sx(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=eC(t);delete e[et];for(var n=Xa(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function Tx(t,e){return e===void 0&&(e=!1),Ix(t)||ni(t)||!hs(t)||(Do(t)>1&&(t.set=t.add=t.clear=t.delete=eB),Object.freeze(t),e&&Xi(t,function(n,r){return Tx(r,!0)},!0)),t}function eB(){cr(2)}function Ix(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Or(t){var e=Cg[t];return e||cr(18,t),e}function tB(t,e){Cg[t]||(Cg[t]=e)}function Sg(){return gc}function Np(t,e){e&&(Or("Patches"),t.u=[],t.s=[],t.v=e)}function nh(t){Tg(t),t.p.forEach(nB),t.p=null}function Tg(t){t===gc&&(gc=t.l)}function t_(t){return gc={p:[],l:gc,h:t,m:!0,_:0}}function nB(t){var e=t[et];e.i===0||e.i===1?e.j():e.g=!0}function Sp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Or("ES5").S(e,t,r),r?(n[et].P&&(nh(e),cr(4)),hs(t)&&(t=rh(e,t),e.l||sh(e,t)),e.u&&Or("Patches").M(n[et].t,t,e.u,e.s)):t=rh(e,n,[]),nh(e),e.u&&e.v(e.u,e.s),t!==ZI?t:void 0}function rh(t,e,n){if(Ix(e))return e;var r=e[et];if(!r)return Xi(e,function(l,c){return n_(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return sh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=Sx(r.k):r.o,i=s,o=!1;r.i===3&&(i=new Set(s),s.clear(),o=!0),Xi(i,function(l,c){return n_(t,r,s,l,c,n,o)}),sh(t,s,!1),n&&t.u&&Or("Patches").N(r,n,t.u,t.s)}return r.o}function n_(t,e,n,r,s,i,o){if(ni(s)){var l=rh(t,s,i&&e&&e.i!==3&&!Qa(e.R,r)?i.concat(r):void 0);if(XI(n,r,l),!ni(l))return;t.m=!1}else o&&n.add(s);if(hs(s)&&!Ix(s)){if(!t.h.D&&t._<1)return;rh(t,s),e&&e.A.l||sh(t,s)}}function sh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Tx(e,n)}function Tp(t,e){var n=t[et];return(n?yi(n):t)[e]}function r_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Is(t){t.P||(t.P=!0,t.l&&Is(t.l))}function Ip(t){t.o||(t.o=Sx(t.t))}function Ig(t,e,n){var r=Ex(e)?Or("MapSet").F(e,n):Nx(e)?Or("MapSet").T(e,n):t.O?function(s,i){var o=Array.isArray(s),l={i:o?1:0,A:i?i.A:Sg(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},c=l,d=vc;o&&(c=[l],d=fl);var u=Proxy.revocable(c,d),h=u.revoke,f=u.proxy;return l.k=f,l.j=h,f}(e,n):Or("ES5").J(e,n);return(n?n.A:Sg()).p.push(r),r}function rB(t){return ni(t)||cr(22,t),function e(n){if(!hs(n))return n;var r,s=n[et],i=Do(n);if(s){if(!s.P&&(s.i<4||!Or("ES5").K(s)))return s.t;s.I=!0,r=s_(n,i),s.I=!1}else r=s_(n,i);return Xi(r,function(o,l){s&&Z3(s.t,o)===l||XI(r,o,e(l))}),i===3?new Set(r):r}(t)}function s_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Sx(t)}function sB(){function t(i,o){var l=s[i];return l?l.enumerable=o:s[i]=l={configurable:!0,enumerable:o,get:function(){var c=this[et];return vc.get(c,i)},set:function(c){var d=this[et];vc.set(d,i,c)}},l}function e(i){for(var o=i.length-1;o>=0;o--){var l=i[o][et];if(!l.P)switch(l.i){case 5:r(l)&&Is(l);break;case 4:n(l)&&Is(l)}}}function n(i){for(var o=i.t,l=i.k,c=Xa(l),d=c.length-1;d>=0;d--){var u=c[d];if(u!==et){var h=o[u];if(h===void 0&&!Qa(o,u))return!0;var f=l[u],p=f&&f[et];if(p?p.t!==h:!JI(f,h))return!0}}var g=!!o[et];return c.length!==Xa(o).length+(g?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(o,o.length-1);if(l&&!l.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var s={};tB("ES5",{J:function(i,o){var l=Array.isArray(i),c=function(u,h){if(u){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=eC(h);delete g[et];for(var y=Xa(g),b=0;b<y.length;b++){var m=y[b];g[m]=t(m,u||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,i),d={i:l?5:4,A:o?o.A:Sg(),P:!1,I:!1,R:{},l:o,t:i,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,et,{value:d,writable:!0}),c},S:function(i,o,l){l?ni(o)&&o[et].A===i&&e(i.p):(i.u&&function c(d){if(d&&typeof d=="object"){var u=d[et];if(u){var h=u.t,f=u.k,p=u.R,g=u.i;if(g===4)Xi(f,function(v){v!==et&&(h[v]!==void 0||Qa(h,v)?p[v]||c(f[v]):(p[v]=!0,Is(u)))}),Xi(h,function(v){f[v]!==void 0||Qa(f,v)||(p[v]=!1,Is(u))});else if(g===5){if(r(u)&&(Is(u),p.length=!0),f.length<h.length)for(var y=f.length;y<h.length;y++)p[y]=!1;else for(var b=h.length;b<f.length;b++)p[b]=!0;for(var m=Math.min(f.length,h.length),x=0;x<m;x++)f.hasOwnProperty(x)||(p[x]=!0),p[x]===void 0&&c(f[x])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var i_,gc,Cx=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",iB=typeof Map<"u",aB=typeof Set<"u",a_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ZI=Cx?Symbol.for("immer-nothing"):((i_={})["immer-nothing"]=!0,i_),o_=Cx?Symbol.for("immer-draftable"):"__$immer_draftable",et=Cx?Symbol.for("immer-state"):"__$immer_state",oB=""+Object.prototype.constructor,Xa=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,eC=Object.getOwnPropertyDescriptors||function(t){var e={};return Xa(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Cg={},vc={get:function(t,e){if(e===et)return t;var n=yi(t);if(!Qa(n,e))return function(s,i,o){var l,c=r_(i,o);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!hs(r)?r:r===Tp(t.t,e)?(Ip(t),t.o[e]=Ig(t.A.h,r,t)):r},has:function(t,e){return e in yi(t)},ownKeys:function(t){return Reflect.ownKeys(yi(t))},set:function(t,e,n){var r=r_(yi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=Tp(yi(t),e),i=s==null?void 0:s[et];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(JI(n,s)&&(n!==void 0||Qa(t.t,e)))return!0;Ip(t),Is(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Tp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Ip(t),Is(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=yi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){cr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){cr(12)}},fl={};Xi(vc,function(t,e){fl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),fl.deleteProperty=function(t,e){return fl.set.call(this,t,e,void 0)},fl.set=function(t,e,n){return vc.set.call(this,t[0],e,n,t[0])};var lB=function(){function t(n){var r=this;this.O=a_,this.D=!0,this.produce=function(s,i,o){if(typeof s=="function"&&typeof i!="function"){var l=i;i=s;var c=r;return function(y){var b=this;y===void 0&&(y=l);for(var m=arguments.length,x=Array(m>1?m-1:0),v=1;v<m;v++)x[v-1]=arguments[v];return c.produce(y,function(E){var S;return(S=i).call.apply(S,[b,E].concat(x))})}}var d;if(typeof i!="function"&&cr(6),o!==void 0&&typeof o!="function"&&cr(7),hs(s)){var u=t_(r),h=Ig(r,s,void 0),f=!0;try{d=i(h),f=!1}finally{f?nh(u):Tg(u)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(y){return Np(u,o),Sp(y,u)},function(y){throw nh(u),y}):(Np(u,o),Sp(d,u))}if(!s||typeof s!="object"){if((d=i(s))===void 0&&(d=s),d===ZI&&(d=void 0),r.D&&Tx(d,!0),o){var p=[],g=[];Or("Patches").M(s,d,p,g),o(p,g)}return d}cr(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(d){for(var u=arguments.length,h=Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return r.produceWithPatches(d,function(p){return s.apply(void 0,[p].concat(h))})};var o,l,c=r.produce(s,i,function(d,u){o=d,l=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(d){return[d,o,l]}):[c,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){hs(n)||cr(8),ni(n)&&(n=rB(n));var r=t_(this),s=Ig(this,n,void 0);return s[et].C=!0,Tg(r),s},e.finishDraft=function(n,r){var s=n&&n[et],i=s.A;return Np(i,r),Sp(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!a_&&cr(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var o=Or("Patches").$;return ni(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},t}(),Un=new lB,tC=Un.produce;Un.produceWithPatches.bind(Un);Un.setAutoFreeze.bind(Un);Un.setUseProxies.bind(Un);Un.applyPatches.bind(Un);Un.createDraft.bind(Un);Un.finishDraft.bind(Un);function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function cB(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dB(t){var e=cB(t,"string");return yc(e)=="symbol"?e:String(e)}function uB(t,e,n){return e=dB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function c_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(n),!0).forEach(function(r){uB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var d_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Cp=function(){return Math.random().toString(36).substring(7).split("").join(".")},ih={INIT:"@@redux/INIT"+Cp(),REPLACE:"@@redux/REPLACE"+Cp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Cp()}};function hB(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ax(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kt(1));return n(Ax)(t,e)}if(typeof t!="function")throw new Error(Kt(2));var s=t,i=e,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(Kt(3));return i}function h(y){if(typeof y!="function")throw new Error(Kt(4));if(c)throw new Error(Kt(5));var b=!0;return d(),l.push(y),function(){if(b){if(c)throw new Error(Kt(6));b=!1,d();var x=l.indexOf(y);l.splice(x,1),o=null}}}function f(y){if(!hB(y))throw new Error(Kt(7));if(typeof y.type>"u")throw new Error(Kt(8));if(c)throw new Error(Kt(9));try{c=!0,i=s(i,y)}finally{c=!1}for(var b=o=l,m=0;m<b.length;m++){var x=b[m];x()}return y}function p(y){if(typeof y!="function")throw new Error(Kt(10));s=y,f({type:ih.REPLACE})}function g(){var y,b=h;return y={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Kt(11));function v(){x.next&&x.next(u())}v();var E=b(v);return{unsubscribe:E}}},y[d_]=function(){return this},y}return f({type:ih.INIT}),r={dispatch:f,subscribe:h,getState:u,replaceReducer:p},r[d_]=g,r}function fB(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:ih.INIT});if(typeof r>"u")throw new Error(Kt(12));if(typeof n(void 0,{type:ih.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kt(13))})}function nC(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),o;try{fB(n)}catch(l){o=l}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var u=!1,h={},f=0;f<i.length;f++){var p=i[f],g=n[p],y=c[p],b=g(y,d);if(typeof b>"u")throw d&&d.type,new Error(Kt(14));h[p]=b,u=u||b!==y}return u=u||i.length!==Object.keys(c).length,u?h:c}}function ah(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function pB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(Kt(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(o)});return i=ah.apply(void 0,l)(s.dispatch),c_(c_({},s),{},{dispatch:i})}}}function rC(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(o){return function(l){return typeof l=="function"?l(s,i,t):o(l)}}};return e}var sC=rC();sC.withExtraArgument=rC;const Ag=sC;var iC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mB=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(u){d=[6,u],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},wo=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},gB=Object.defineProperty,vB=Object.defineProperties,yB=Object.getOwnPropertyDescriptors,u_=Object.getOwnPropertySymbols,xB=Object.prototype.hasOwnProperty,bB=Object.prototype.propertyIsEnumerable,h_=function(t,e,n){return e in t?gB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ks=function(t,e){for(var n in e||(e={}))xB.call(e,n)&&h_(t,n,e[n]);if(u_)for(var r=0,s=u_(e);r<s.length;r++){var n=s[r];bB.call(e,n)&&h_(t,n,e[n])}return t},Ap=function(t,e){return vB(t,yB(e))},wB=function(t,e,n){return new Promise(function(r,s){var i=function(c){try{l(n.next(c))}catch(d){s(d)}},o=function(c){try{l(n.throw(c))}catch(d){s(d)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(i,o)};l((n=n.apply(t,e)).next())})},_B=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ah:ah.apply(null,arguments)};function jB(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function Ys(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return Ks(Ks({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var EB=function(t){iC(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,wo([void 0],n[0].concat(this)))):new(e.bind.apply(e,wo([void 0],n.concat(this))))},e}(Array),NB=function(t){iC(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,wo([void 0],n[0].concat(this)))):new(e.bind.apply(e,wo([void 0],n.concat(this))))},e}(Array);function Pg(t){return hs(t)?tC(t,function(){}):t}function SB(t){return typeof t=="boolean"}function TB(){return function(e){return IB(e)}}function IB(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new EB;return n&&(SB(n)?r.push(Ag):r.push(Ag.withExtraArgument(n.extraArgument))),r}var CB=!0;function AB(t){var e=TB(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,o=i===void 0?e():i,l=n.devTools,c=l===void 0?!0:l,d=n.preloadedState,u=d===void 0?void 0:d,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof s=="function")p=s;else if(jB(s))p=nC(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var y=pB.apply(void 0,g),b=ah;c&&(b=_B(Ks({trace:!CB},typeof c=="object"&&c)));var m=new NB(y),x=m;Array.isArray(f)?x=wo([y],f):typeof f=="function"&&(x=f(m));var v=b.apply(void 0,x);return Ax(p,u,v)}function aC(t){var e={},n=[],r,s={addCase:function(i,o){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=o,s},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function PB(t){return typeof t=="function"}function kB(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?aC(e):[e,n,r],i=s[0],o=s[1],l=s[2],c;if(PB(t))c=function(){return Pg(t())};else{var d=Pg(t);c=function(){return d}}function u(h,f){h===void 0&&(h=c());var p=wo([i[f.type]],o.filter(function(g){var y=g.matcher;return y(f)}).map(function(g){var y=g.reducer;return y}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,y){if(y)if(ni(g)){var b=g,m=y(b,f);return m===void 0?g:m}else{if(hs(g))return tC(g,function(x){return y(x,f)});var m=y(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return u.getInitialState=c,u}function RB(t,e){return t+"/"+e}function Rt(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Pg(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},o={},l={};s.forEach(function(u){var h=r[u],f=RB(e,u),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,i[u]=p,o[f]=p,l[u]=g?Ys(f,g):Ys(f)});function c(){var u=typeof t.extraReducers=="function"?aC(t.extraReducers):[t.extraReducers],h=u[0],f=h===void 0?{}:h,p=u[1],g=p===void 0?[]:p,y=u[2],b=y===void 0?void 0:y,m=Ks(Ks({},f),o);return kB(n,function(x){for(var v in m)x.addCase(v,m[v]);for(var E=0,S=g;E<S.length;E++){var j=S[E];x.addMatcher(j.matcher,j.reducer)}b&&x.addDefaultCase(b)})}var d;return{name:e,reducer:function(u,h){return d||(d=c()),d(u,h)},actions:l,caseReducers:i,getInitialState:function(){return d||(d=c()),d.getInitialState()}}}var DB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OB=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=DB[Math.random()*64|0];return e},LB=["name","message","stack","code"],Pp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),f_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),MB=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=LB;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=Ys(e+"/fulfilled",function(d,u,h,f){return{payload:d,meta:Ap(Ks({},f||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),i=Ys(e+"/pending",function(d,u,h){return{payload:void 0,meta:Ap(Ks({},h||{}),{arg:u,requestId:d,requestStatus:"pending"})}}),o=Ys(e+"/rejected",function(d,u,h,f,p){return{payload:f,error:(r&&r.serializeError||MB)(d||"Rejected"),meta:Ap(Ks({},p||{}),{arg:h,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function d(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return d.prototype.abort=function(){},d}();function c(d){return function(u,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(d):OB(),g=new l,y;function b(x){y=x,g.abort()}var m=function(){return wB(this,null,function(){var x,v,E,S,j,I,w;return mB(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),S=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,d,{getState:h,extra:f}),FB(S)?[4,S]:[3,2];case 1:S=_.sent(),_.label=2;case 2:if(S===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return j=new Promise(function(N,P){return g.signal.addEventListener("abort",function(){return P({name:"AbortError",message:y||"Aborted"})})}),u(i(p,d,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:p,arg:d},{getState:h,extra:f}))),[4,Promise.race([j,Promise.resolve(n(d,{dispatch:u,getState:h,extra:f,requestId:p,signal:g.signal,abort:b,rejectWithValue:function(N,P){return new Pp(N,P)},fulfillWithValue:function(N,P){return new f_(N,P)}})).then(function(N){if(N instanceof Pp)throw N;return N instanceof f_?s(N.payload,p,d,N.meta):s(N,p,d)})])];case 3:return E=_.sent(),[3,5];case 4:return I=_.sent(),E=I instanceof Pp?o(null,p,d,I.payload,I.meta):o(I,p,d),[3,5];case 5:return w=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,w||u(E),[2,E]}})})}();return Object.assign(m,{abort:b,requestId:p,arg:d,unwrap:function(){return m.then(VB)}})}}return Object.assign(c,{pending:i,rejected:o,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function VB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function FB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Px="listenerMiddleware";Ys(Px+"/add");Ys(Px+"/removeAll");Ys(Px+"/remove");var p_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);sB();const m_={email:"",userType:"",isVarified:!1},oC=Rt({name:"UserAuth",initialState:m_,reducers:{getUserAuthSuccessAction:(t,e)=>({...t,email:e.payload.email,userType:e.payload.userType,isVarified:e.payload.isVarified}),getUserAuthLogoutAction:t=>({...t,initialState:m_})}}),{getUserAuthSuccessAction:UB,getUserAuthLogoutAction:g_}=oC.actions,v_={data:[]},lC=Rt({name:"News",initialState:v_,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=v_.data}}}),{getNewsSuccessAction:$B,getNewsFailedAction:SW}=lC.actions,y_={data:[]},cC=Rt({name:"Slider",initialState:y_,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=y_.data}}}),{getSliderSuccessAction:BB,getSliderFailedAction:TW}=cC.actions,x_={data:[]},dC=Rt({name:"Publications",initialState:x_,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=x_.data}}}),{getPublicationsSuccessAction:zB,getPublicationsFailedAction:IW}=dC.actions,b_={data:[]},uC=Rt({name:"Supervisors",initialState:b_,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=b_.data}}}),{getSupervisorsSuccessAction:HB,getSupervisorsFailedAction:CW}=uC.actions,w_={data:[]},hC=Rt({name:"Phd",initialState:w_,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=w_.data}}}),{getPhdSuccessAction:qB,getPhdFailedAction:AW}=hC.actions,__={data:[]},fC=Rt({name:"PHUG",initialState:__,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=__.data}}}),{getPHUGSuccessAction:WB,getPHUGFailedAction:PW}=fC.actions,j_={data:[]},pC=Rt({name:"VisitorsAndInterns",initialState:j_,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=j_.data}}}),{getVisitorsAndInternsSuccessAction:GB,getVisitorsAndInternsFailedAction:kW}=pC.actions,E_={data:[]},mC=Rt({name:"Datasets",initialState:E_,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=E_.data}}}),{getDatasetsSuccessAction:KB,getDatasetsFailedAction:RW}=mC.actions,N_={data:[]},gC=Rt({name:"ResearchArea",initialState:N_,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=N_.data}}}),{getResearchAreaSuccessAction:YB,getResearchAreaFailedAction:DW}=gC.actions,S_={data:[]},vC=Rt({name:"SubAreas",initialState:S_,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=S_.data}}}),{getSubAreasSuccessAction:QB,getSubAreasFailedAction:OW}=vC.actions,T_={data:[]},yC=Rt({name:"ProjectsItems",initialState:T_,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=T_.data}}}),{getProjectsItemsSuccessAction:XB,getProjectsItemsFailedAction:LW}=yC.actions,I_={data:[]},xC=Rt({name:"ProjectsMain",initialState:I_,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=I_.data}}}),{getProjectsMainSuccessAction:JB,getProjectsMainFailedAction:MW}=xC.actions,C_={data:[]},bC=Rt({name:"Gallery",initialState:C_,reducers:{getGallerySuccessAction:(t,e)=>{t.data=e.payload},getGalleryFailedAction:t=>{t.data=C_.data}}}),{getGallerySuccessAction:ZB,getGalleryFailedAction:VW}=bC.actions,A_={data:[]},wC=Rt({name:"Datasets",initialState:A_,reducers:{getAlertsSuccessAction:(t,e)=>{t.data=e.payload},getAlertsFailedAction:t=>{t.data=A_.data}}}),{getAlertsSuccessAction:_C,getAlertsFailedAction:FW}=wC.actions,P_={data:[]},jC=Rt({name:"ProjectsImages",initialState:P_,reducers:{getProjectsImagesSuccessAction:(t,e)=>{t.data=e.payload},getProjectsImagesFailedAction:t=>{t.data=P_.data}}}),{getProjectsImagesSuccessAction:ez,getProjectsImagesFailedAction:UW}=jC.actions,k_={data:null},EC=Rt({name:"SiteSettings",initialState:k_,reducers:{getSiteSettingsSuccessAction:(t,e)=>({...t,data:e.payload}),getSiteSettingsErrorAction:t=>({...t,initialState:k_})}}),{getSiteSettingsSuccessAction:tz,getSiteSettingsErrorAction:nz}=EC.actions,R_={data:[]},NC=Rt({name:"ResearchTopics",initialState:R_,reducers:{getResearchTopicsSuccessAction:(t,e)=>{t.data=e.payload},getResearchTopicsFailedAction:t=>{t.data=R_.data}}}),{getResearchTopicsSuccessAction:rz,getResearchTopicsFailedAction:$W}=NC.actions,sz=nC({getsettings:EC.reducer,getauth:oC.reducer,getnews:lC.reducer,getslider:cC.reducer,getpublications:dC.reducer,getsupervisors:uC.reducer,getphdStudents:hC.reducer,getpgugStudents:fC.reducer,getvisitorsandinterns:pC.reducer,getdatasets:mC.reducer,getresearcharea:gC.reducer,getsubareas:vC.reducer,getprojectitems:yC.reducer,getprojectsmain:xC.reducer,getgallery:bC.reducer,getalerts:wC.reducer,getprojectsimages:jC.reducer,getResearchTopics:NC.reducer});var kx="persist:",SC="persist/FLUSH",Rx="persist/REHYDRATE",TC="persist/PAUSE",IC="persist/PERSIST",CC="persist/PURGE",AC="persist/REGISTER",iz=-1;function Zd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zd=function(n){return typeof n}:Zd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zd(t)}function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(n,!0).forEach(function(r){oz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lz(t,e,n,r){r.debug;var s=az({},n);return t&&Zd(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function cz(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:kx).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(S){return S}:typeof t.serialize=="function"?l=t.serialize:l=dz;var c=t.writeFailHandler||null,d={},u={},h=[],f=null,p=null,g=function(S){Object.keys(S).forEach(function(j){m(j)&&d[j]!==S[j]&&h.indexOf(j)===-1&&h.push(j)}),Object.keys(d).forEach(function(j){S[j]===void 0&&m(j)&&h.indexOf(j)===-1&&d[j]!==void 0&&h.push(j)}),f===null&&(f=setInterval(y,s)),d=S};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var E=h.shift(),S=r.reduce(function(j,I){return I.in(j,E,d)},d[E]);if(S!==void 0)try{u[E]=l(S)}catch(j){console.error("redux-persist/createPersistoid: error serializing state",j)}else delete u[E];h.length===0&&b()}function b(){Object.keys(u).forEach(function(E){d[E]===void 0&&delete u[E]}),p=o.setItem(i,l(u)).catch(x)}function m(E){return!(n&&n.indexOf(E)===-1&&E!=="_persist"||e&&e.indexOf(E)!==-1)}function x(E){c&&c(E)}var v=function(){for(;h.length!==0;)y();return p||Promise.resolve()};return{update:g,flush:v}}function dz(t){return JSON.stringify(t)}function uz(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:kx).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(o){return o}:typeof t.deserialize=="function"?s=t.deserialize:s=hz,r.getItem(n).then(function(i){if(i)try{var o={},l=s(i);return Object.keys(l).forEach(function(c){o[c]=e.reduceRight(function(d,u){return u.out(d,c,l)},s(l[c]))}),o}catch(c){throw c}else return})}function hz(t){return JSON.parse(t)}function fz(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:kx).concat(t.key);return e.removeItem(n,pz)}function pz(t){}function O_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(n,!0).forEach(function(r){mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gz(t,e){if(t==null)return{};var n=vz(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var yz=5e3;function xz(t,e){var n=t.version!==void 0?t.version:iz;t.debug;var r=t.stateReconciler===void 0?lz:t.stateReconciler,s=t.getStoredState||uz,i=t.timeout!==void 0?t.timeout:yz,o=null,l=!1,c=!0,d=function(h){return h._persist.rehydrated&&o&&!c&&o.update(h),h};return function(u,h){var f=u||{},p=f._persist,g=gz(f,["_persist"]),y=g;if(h.type===IC){var b=!1,m=function(w,_){b||(h.rehydrate(t.key,w,_),b=!0)};if(i&&setTimeout(function(){!b&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,o||(o=cz(t)),p)return Hr({},e(y,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(I){var w=t.migrate||function(_,N){return Promise.resolve(_)};w(I,n).then(function(_){m(_)},function(_){m(void 0,_)})},function(I){m(void 0,I)}),Hr({},e(y,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===CC)return l=!0,h.result(fz(t)),Hr({},e(y,h),{_persist:p});if(h.type===SC)return h.result(o&&o.flush()),Hr({},e(y,h),{_persist:p});if(h.type===TC)c=!0;else if(h.type===Rx){if(l)return Hr({},y,{_persist:Hr({},p,{rehydrated:!0})});if(h.key===t.key){var x=e(y,h),v=h.payload,E=r!==!1&&v!==void 0?r(v,u,x,t):x,S=Hr({},E,{_persist:Hr({},p,{rehydrated:!0})});return d(S)}}}if(!p)return e(u,h);var j=e(y,h);return j===y?u:d(Hr({},j,{_persist:p}))}}function L_(t){return _z(t)||wz(t)||bz()}function bz(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function wz(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function _z(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(n,!0).forEach(function(r){jz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var PC={registry:[],bootstrapped:!1},Ez=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PC,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case AC:return kg({},e,{registry:[].concat(L_(e.registry),[n.key])});case Rx:var r=e.registry.indexOf(n.key),s=L_(e.registry);return s.splice(r,1),kg({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function Nz(t,e,n){var r=n||!1,s=Ax(Ez,PC,e&&e.enhancer?e.enhancer:void 0),i=function(d){s.dispatch({type:AC,key:d})},o=function(d,u,h){var f={type:Rx,payload:u,err:h,key:d};t.dispatch(f),s.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=kg({},s,{purge:function(){var d=[];return t.dispatch({type:CC,result:function(h){d.push(h)}}),Promise.all(d)},flush:function(){var d=[];return t.dispatch({type:SC,result:function(h){d.push(h)}}),Promise.all(d)},pause:function(){t.dispatch({type:TC})},persist:function(){t.dispatch({type:IC,register:i,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var kC={},Dx={},Ox={};Object.defineProperty(Ox,"__esModule",{value:!0});function Td(){}const Sz={getItem:Td,setItem:Td,removeItem:Td,keys:[],getAllKeys:Td};function Tz(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function Iz(t){const e=`${t}Storage`;return Tz(e)?self[e]:Sz}Ox.default=Iz;var Cz=Dl&&Dl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dx,"__esModule",{value:!0});const Az=Cz(Ox);function Pz(t){const e=(0,Az.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(s=>{s(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}Dx.default=Pz;var kz=Dl&&Dl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kC,"__esModule",{value:!0});const Rz=kz(Dx),Dz=(0,Rz.default)("session");var Oz=kC.default=Dz;const Lz={key:"root",storage:Oz},Mz=xz(Lz,sz),rt=AB({reducer:Mz,middleware:[Ag]}),Vz=Nz(rt),Oo=async()=>{try{const t=re(W,"publications"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),rt.dispatch(zB(n))}catch(t){console.error("Error fetching Publications:",t)}};async function Fz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=xe(W,"publications",t);await rn(e),alert("Publications deleted successfully!"),location.reload()}catch{alert("Error deleting Publications!")}}}var RC={exports:{}},DC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=T;function Uz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $z=typeof Object.is=="function"?Object.is:Uz,Bz=Qc.useSyncExternalStore,zz=Qc.useRef,Hz=Qc.useEffect,qz=Qc.useMemo,Wz=Qc.useDebugValue;DC.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=zz(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=qz(function(){function c(p){if(!d){if(d=!0,u=p,p=r(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return h=g}return h=p}if(g=h,$z(u,p))return g;var y=r(p);return s!==void 0&&s(g,y)?g:(u=p,h=y)}var d=!1,u,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=Bz(t,i[0],i[1]);return Hz(function(){o.hasValue=!0,o.value=l},[l]),Wz(l),l};RC.exports=DC;var Gz=RC.exports,On="default"in Qp?Re:Qp,V_=Symbol.for("react-redux-context"),F_=typeof globalThis<"u"?globalThis:{};function Kz(){if(!On.createContext)return{};const t=F_[V_]??(F_[V_]=new Map);let e=t.get(On.createContext);return e||(e=On.createContext(null),t.set(On.createContext,e)),e}var ri=Kz(),Yz=()=>{throw new Error("uSES not initialized!")};function Lx(t=ri){return function(){return On.useContext(t)}}var OC=Lx(),LC=Yz,Qz=t=>{LC=t},Xz=(t,e)=>t===e;function Jz(t=ri){const e=t===ri?OC:Lx(t),n=(r,s={})=>{const{equalityFn:i=Xz,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:d,stabilityCheck:u,identityFunctionCheck:h}=e();On.useRef(!0);const f=On.useCallback({[r.name](g){return r(g)}}[r.name],[r,u,o.stabilityCheck]),p=LC(c.addNestedSub,l.getState,d||l.getState,f,i);return On.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var K=Jz();function Zz(t){t()}function e9(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Zz(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var U_={notify(){},get:()=>[]};function t9(t,e){let n,r=U_,s=0,i=!1;function o(y){u();const b=r.subscribe(y);let m=!1;return()=>{m||(m=!0,b(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=e9())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=U_)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,h())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var n9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r9=n9?On.useLayoutEffect:On.useEffect;function s9({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=On.useMemo(()=>{const d=t9(t);return{store:t,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=On.useMemo(()=>t.getState(),[t]);r9(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=e||ri;return On.createElement(c.Provider,{value:o},n)}var i9=s9;function MC(t=ri){const e=t===ri?OC:Lx(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var a9=MC();function o9(t=ri){const e=t===ri?a9:MC(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var l9=o9();Qz(Gz.useSyncExternalStoreWithSelector);const fs=async()=>{try{const t=re(W,"supervisors"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null,l=i.profileImage,c=l?await c9(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),rt.dispatch(HB(n))}catch(t){console.error("Error fetching Supervisors:",t)}},c9=async t=>{try{const e=Ce(Ae,`/peoples/supervisor_profile_images/${t}`);return await Br(e)}catch{return null}};async function d9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=xe(W,"supervisors",t),s=(await tr(e)).data().profileImage;if(await rn(e),s){const i=Ce(Ae,`/peoples/supervisor_profile_images/${s}`);await yr(i)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch{alert("Error deleting Supervisors!")}}}var VC={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Dl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,o={},l=0,c={parse:function(w,_){var N=(_=_||{}).dynamicTyping||!1;if(I(N)&&(_.dynamicTypingFunction=N,N={}),_.dynamicTyping=N,_.transform=!!I(_.transform)&&_.transform,_.worker&&c.WORKERS_SUPPORTED){var P=function(){if(!c.WORKERS_SUPPORTED)return!1;var R=(B=r.URL||r.webkitURL||null,L=n.toString(),c.BLOB_URL||(c.BLOB_URL=B.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))),V=new r.Worker(R),B,L;return V.onmessage=x,V.id=l++,o[V.id]=V}();return P.userStep=_.step,P.userChunk=_.chunk,P.userComplete=_.complete,P.userError=_.error,_.step=I(_.step),_.chunk=I(_.chunk),_.complete=I(_.complete),_.error=I(_.error),delete _.worker,void P.postMessage({input:w,config:_,workerId:P.id})}var C=null;return c.NODE_STREAM_INPUT,typeof w=="string"?(w=function(R){return R.charCodeAt(0)===65279?R.slice(1):R}(w),C=_.download?new h(_):new p(_)):w.readable===!0&&I(w.read)&&I(w.on)?C=new g(_):(r.File&&w instanceof File||w instanceof Object)&&(C=new f(_)),C.stream(w)},unparse:function(w,_){var N=!1,P=!0,C=",",R=`\r
`,V='"',B=V+V,L=!1,A=null,D=!1;(function(){if(typeof _=="object"){if(typeof _.delimiter!="string"||c.BAD_DELIMITERS.filter(function(O){return _.delimiter.indexOf(O)!==-1}).length||(C=_.delimiter),(typeof _.quotes=="boolean"||typeof _.quotes=="function"||Array.isArray(_.quotes))&&(N=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(L=_.skipEmptyLines),typeof _.newline=="string"&&(R=_.newline),typeof _.quoteChar=="string"&&(V=_.quoteChar),typeof _.header=="boolean"&&(P=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");A=_.columns}_.escapeChar!==void 0&&(B=_.escapeChar+V),(typeof _.escapeFormulae=="boolean"||_.escapeFormulae instanceof RegExp)&&(D=_.escapeFormulae instanceof RegExp?_.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var M=new RegExp(b(V),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return U(null,w,L);if(typeof w[0]=="object")return U(A||Object.keys(w[0]),w,L)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||A),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),U(w.fields||[],w.data||[],L);throw new Error("Unable to serialize unrecognized input");function U(O,F,Z){var se="";typeof O=="string"&&(O=JSON.parse(O)),typeof F=="string"&&(F=JSON.parse(F));var fe=Array.isArray(O)&&0<O.length,be=!Array.isArray(F[0]);if(fe&&P){for(var Ue=0;Ue<O.length;Ue++)0<Ue&&(se+=C),se+=z(O[Ue],Ue);0<F.length&&(se+=R)}for(var ie=0;ie<F.length;ie++){var ye=fe?O.length:F[ie].length,Pe=!1,Fe=fe?Object.keys(F[ie]).length===0:F[ie].length===0;if(Z&&!fe&&(Pe=Z==="greedy"?F[ie].join("").trim()==="":F[ie].length===1&&F[ie][0].length===0),Z==="greedy"&&fe){for(var q=[],le=0;le<ye;le++){var ve=be?O[le]:le;q.push(F[ie][ve])}Pe=q.join("").trim()===""}if(!Pe){for(var ae=0;ae<ye;ae++){0<ae&&!Fe&&(se+=C);var Se=fe&&be?O[ae]:ae;se+=z(F[ie][Se],ae)}ie<F.length-1&&(!Z||0<ye&&!Fe)&&(se+=R)}}return se}function z(O,F){if(O==null)return"";if(O.constructor===Date)return JSON.stringify(O).slice(1,25);var Z=!1;D&&typeof O=="string"&&D.test(O)&&(O="'"+O,Z=!0);var se=O.toString().replace(M,B);return(Z=Z||N===!0||typeof N=="function"&&N(O,F)||Array.isArray(N)&&N[F]||function(fe,be){for(var Ue=0;Ue<be.length;Ue++)if(-1<fe.indexOf(be[Ue]))return!0;return!1}(se,c.BAD_DELIMITERS)||-1<se.indexOf(C)||se.charAt(0)===" "||se.charAt(se.length-1)===" ")?V+se+V:se}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=y,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var d=r.jQuery;d.fn.parse=function(w){var _=w.config||{},N=[];return this.each(function(R){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)N.push({file:this.files[V],inputElem:this,instanceConfig:d.extend({},_)})}),P(),this;function P(){if(N.length!==0){var R,V,B,L,A=N[0];if(I(w.before)){var D=w.before(A.file,A.inputElem);if(typeof D=="object"){if(D.action==="abort")return R="AbortError",V=A.file,B=A.inputElem,L=D.reason,void(I(w.error)&&w.error({name:R},V,B,L));if(D.action==="skip")return void C();typeof D.config=="object"&&(A.instanceConfig=d.extend(A.instanceConfig,D.config))}else if(D==="skip")return void C()}var M=A.instanceConfig.complete;A.instanceConfig.complete=function(U){I(M)&&M(U,A.file,A.inputElem),C()},c.parse(A.file,A.instanceConfig)}else I(w.complete)&&w.complete()}function C(){N.splice(0,1),P()}}}function u(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var N=S(_);N.chunkSize=parseInt(N.chunkSize),_.step||_.chunk||(N.chunkSize=null),this._handle=new y(N),(this._handle.streamer=this)._config=N}).call(this,w),this.parseChunk=function(_,N){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var P=this._config.beforeFirstChunk(_);P!==void 0&&(_=P)}this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+_;this._partialLine="";var R=this._handle.parse(C,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var V=R.meta.cursor;this._finished||(this._partialLine=C.substring(V-this._baseIndex),this._baseIndex=V),R&&R.data&&(this._rowCount+=R.data.length);var B=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:R,workerId:c.WORKER_ID,finished:B});else if(I(this._config.chunk)&&!N){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);R=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!B||!I(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(_){I(this._config.error)?this._config.error(_):i&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:_,finished:!1})}}function h(w){var _;(w=w||{}).chunkSize||(w.chunkSize=c.RemoteChunkSize),u.call(this,w),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),s||(_.onload=j(this._chunkLoaded,this),_.onerror=j(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var P in N)_.setRequestHeader(P,N[P])}if(this._config.chunkSize){var C=this._start+this._config.chunkSize-1;_.setRequestHeader("Range","bytes="+this._start+"-"+C)}try{_.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}s&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:_.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(N){var P=N.getResponseHeader("Content-Range");return P===null?-1:parseInt(P.substring(P.lastIndexOf("/")+1))}(_),this.parseChunk(_.responseText)))},this._chunkError=function(N){var P=_.statusText||N;this._sendError(new Error(P))}}function f(w){var _,N;(w=w||{}).chunkSize||(w.chunkSize=c.LocalChunkSize),u.call(this,w);var P=typeof FileReader<"u";this.stream=function(C){this._input=C,N=C.slice||C.webkitSlice||C.mozSlice,P?((_=new FileReader).onload=j(this._chunkLoaded,this),_.onerror=j(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input;if(this._config.chunkSize){var R=Math.min(this._start+this._config.chunkSize,this._input.size);C=N.call(C,this._start,R)}var V=_.readAsText(C,this._config.encoding);P||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(_.error)}}function p(w){var _;u.call(this,w=w||{}),this.stream=function(N){return _=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,P=this._config.chunkSize;return P?(N=_.substring(0,P),_=_.substring(P)):(N=_,_=""),this._finished=!_,this.parseChunk(N)}}}function g(w){u.call(this,w=w||{});var _=[],N=!0,P=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):N=!0},this._streamData=j(function(C){try{_.push(typeof C=="string"?C:C.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(R){this._streamError(R)}},this),this._streamError=j(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=j(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(w){var _,N,P,C=Math.pow(2,53),R=-C,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,A=0,D=0,M=!1,U=!1,z=[],O={data:[],errors:[],meta:{}};if(I(w.step)){var F=w.step;w.step=function(ie){if(O=ie,fe())se();else{if(se(),O.data.length===0)return;A+=ie.data.length,w.preview&&A>w.preview?N.abort():(O.data=O.data[0],F(O,L))}}}function Z(ie){return w.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function se(){return O&&P&&(Ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),P=!1),w.skipEmptyLines&&(O.data=O.data.filter(function(ie){return!Z(ie)})),fe()&&function(){if(!O)return;function ie(Pe,Fe){I(w.transformHeader)&&(Pe=w.transformHeader(Pe,Fe)),z.push(Pe)}if(Array.isArray(O.data[0])){for(var ye=0;fe()&&ye<O.data.length;ye++)O.data[ye].forEach(ie);O.data.splice(0,1)}else O.data.forEach(ie)}(),function(){if(!O||!w.header&&!w.dynamicTyping&&!w.transform)return O;function ie(Pe,Fe){var q,le=w.header?{}:[];for(q=0;q<Pe.length;q++){var ve=q,ae=Pe[q];w.header&&(ve=q>=z.length?"__parsed_extra":z[q]),w.transform&&(ae=w.transform(ae,ve)),ae=be(ve,ae),ve==="__parsed_extra"?(le[ve]=le[ve]||[],le[ve].push(ae)):le[ve]=ae}return w.header&&(q>z.length?Ue("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+q,D+Fe):q<z.length&&Ue("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+q,D+Fe)),le}var ye=1;return!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(ie),ye=O.data.length):O.data=ie(O.data,0),w.header&&O.meta&&(O.meta.fields=z),D+=ye,O}()}function fe(){return w.header&&z.length===0}function be(ie,ye){return Pe=ie,w.dynamicTypingFunction&&w.dynamicTyping[Pe]===void 0&&(w.dynamicTyping[Pe]=w.dynamicTypingFunction(Pe)),(w.dynamicTyping[Pe]||w.dynamicTyping)===!0?ye==="true"||ye==="TRUE"||ye!=="false"&&ye!=="FALSE"&&(function(Fe){if(V.test(Fe)){var q=parseFloat(Fe);if(R<q&&q<C)return!0}return!1}(ye)?parseFloat(ye):B.test(ye)?new Date(ye):ye===""?null:ye):ye;var Pe}function Ue(ie,ye,Pe,Fe){var q={type:ie,code:ye,message:Pe};Fe!==void 0&&(q.row=Fe),O.errors.push(q)}this.parse=function(ie,ye,Pe){var Fe=w.quoteChar||'"';if(w.newline||(w.newline=function(ve,ae){ve=ve.substring(0,1048576);var Se=new RegExp(b(ae)+"([^]*?)"+b(ae),"gm"),Q=(ve=ve.replace(Se,"")).split("\r"),ke=ve.split(`
`),sn=1<ke.length&&ke[0].length<Q[0].length;if(Q.length===1||sn)return`
`;for(var an=0,$e=0;$e<Q.length;$e++)Q[$e][0]===`
`&&an++;return an>=Q.length/2?`\r
`:"\r"}(ie,Fe)),P=!1,w.delimiter)I(w.delimiter)&&(w.delimiter=w.delimiter(ie),O.meta.delimiter=w.delimiter);else{var q=function(ve,ae,Se,Q,ke){var sn,an,$e,st;ke=ke||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var xr=0;xr<ke.length;xr++){var Y=ke[xr],Le=0,Oe=0,wt=0;$e=void 0;for(var Ht=new m({comments:Q,delimiter:Y,newline:ae,preview:10}).parse(ve),gn=0;gn<Ht.data.length;gn++)if(Se&&Z(Ht.data[gn]))wt++;else{var vn=Ht.data[gn].length;Oe+=vn,$e!==void 0?0<vn&&(Le+=Math.abs(vn-$e),$e=vn):$e=vn}0<Ht.data.length&&(Oe/=Ht.data.length-wt),(an===void 0||Le<=an)&&(st===void 0||st<Oe)&&1.99<Oe&&(an=Le,sn=Y,st=Oe)}return{successful:!!(w.delimiter=sn),bestDelimiter:sn}}(ie,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);q.successful?w.delimiter=q.bestDelimiter:(P=!0,w.delimiter=c.DefaultDelimiter),O.meta.delimiter=w.delimiter}var le=S(w);return w.preview&&w.header&&le.preview++,_=ie,N=new m(le),O=N.parse(_,ye,Pe),se(),M?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,N.abort(),_=I(w.chunk)?"":_.substring(N.getCharIndex())},this.resume=function(){L.streamer._halted?(M=!1,L.streamer.parseChunk(_,!0)):setTimeout(L.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,N.abort(),O.meta.aborted=!0,I(w.complete)&&w.complete(O),_=""}}function b(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(w){var _,N=(w=w||{}).delimiter,P=w.newline,C=w.comments,R=w.step,V=w.preview,B=w.fastMode,L=_=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(L=w.escapeChar),(typeof N!="string"||-1<c.BAD_DELIMITERS.indexOf(N))&&(N=","),C===N)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var A=0,D=!1;this.parse=function(M,U,z){if(typeof M!="string")throw new Error("Input must be a string");var O=M.length,F=N.length,Z=P.length,se=C.length,fe=I(R),be=[],Ue=[],ie=[],ye=A=0;if(!M)return on();if(w.header&&!U){var Pe=M.split(P)[0].split(N),Fe=[],q={},le=!1;for(var ve in Pe){var ae=Pe[ve];I(w.transformHeader)&&(ae=w.transformHeader(ae,ve));var Se=ae,Q=q[ae]||0;for(0<Q&&(le=!0,Se=ae+"_"+Q),q[ae]=Q+1;Fe.includes(Se);)Se=Se+"_"+Q;Fe.push(Se)}if(le){var ke=M.split(P);ke[0]=Fe.join(N),M=ke.join(P)}}if(B||B!==!1&&M.indexOf(_)===-1){for(var sn=M.split(P),an=0;an<sn.length;an++){if(ie=sn[an],A+=ie.length,an!==sn.length-1)A+=P.length;else if(z)return on();if(!C||ie.substring(0,se)!==C){if(fe){if(be=[],wt(ie.split(N)),hi(),D)return on()}else wt(ie.split(N));if(V&&V<=an)return be=be.slice(0,V),on(!0)}}return on()}for(var $e=M.indexOf(N,A),st=M.indexOf(P,A),xr=new RegExp(b(L)+b(_),"g"),Y=M.indexOf(_,A);;)if(M[A]!==_)if(C&&ie.length===0&&M.substring(A,A+se)===C){if(st===-1)return on();A=st+Z,st=M.indexOf(P,A),$e=M.indexOf(N,A)}else if($e!==-1&&($e<st||st===-1))ie.push(M.substring(A,$e)),A=$e+F,$e=M.indexOf(N,A);else{if(st===-1)break;if(ie.push(M.substring(A,st)),vn(st+Z),fe&&(hi(),D))return on();if(V&&be.length>=V)return on(!0)}else for(Y=A,A++;;){if((Y=M.indexOf(_,Y+1))===-1)return z||Ue.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:A}),gn();if(Y===O-1)return gn(M.substring(A,Y).replace(xr,_));if(_!==L||M[Y+1]!==L){if(_===L||Y===0||M[Y-1]!==L){$e!==-1&&$e<Y+1&&($e=M.indexOf(N,Y+1)),st!==-1&&st<Y+1&&(st=M.indexOf(P,Y+1));var Le=Ht(st===-1?$e:Math.min($e,st));if(M.substr(Y+1+Le,F)===N){ie.push(M.substring(A,Y).replace(xr,_)),M[A=Y+1+Le+F]!==_&&(Y=M.indexOf(_,A)),$e=M.indexOf(N,A),st=M.indexOf(P,A);break}var Oe=Ht(st);if(M.substring(Y+1+Oe,Y+1+Oe+Z)===P){if(ie.push(M.substring(A,Y).replace(xr,_)),vn(Y+1+Oe+Z),$e=M.indexOf(N,A),Y=M.indexOf(_,A),fe&&(hi(),D))return on();if(V&&be.length>=V)return on(!0);break}Ue.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:A}),Y++}}else Y++}return gn();function wt(ln){be.push(ln),ye=A}function Ht(ln){var Lo=0;if(ln!==-1){var Sf=M.substring(Y+1,ln);Sf&&Sf.trim()===""&&(Lo=Sf.length)}return Lo}function gn(ln){return z||(ln===void 0&&(ln=M.substring(A)),ie.push(ln),A=O,wt(ie),fe&&hi()),on()}function vn(ln){A=ln,wt(ie),ie=[],st=M.indexOf(P,A)}function on(ln){return{data:be,errors:Ue,meta:{delimiter:N,linebreak:P,aborted:D,truncated:!!ln,cursor:ye+(U||0)}}}function hi(){R(on()),be=[],Ue=[]}},this.abort=function(){D=!0},this.getCharIndex=function(){return A}}function x(w){var _=w.data,N=o[_.workerId],P=!1;if(_.error)N.userError(_.error,_.file);else if(_.results&&_.results.data){var C={abort:function(){P=!0,v(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(I(N.userStep)){for(var R=0;R<_.results.data.length&&(N.userStep({data:_.results.data[R],errors:_.results.errors,meta:_.results.meta},C),!P);R++);delete _.results}else I(N.userChunk)&&(N.userChunk(_.results,C,_.file),delete _.results)}_.finished&&!P&&v(_.workerId,_.results)}function v(w,_){var N=o[w];I(N.userComplete)&&N.userComplete(_),N.terminate(),delete o[w]}function E(){throw new Error("Not implemented.")}function S(w){if(typeof w!="object"||w===null)return w;var _=Array.isArray(w)?[]:{};for(var N in w)_[N]=S(w[N]);return _}function j(w,_){return function(){w.apply(_,arguments)}}function I(w){return typeof w=="function"}return i&&(r.onmessage=function(w){var _=w.data;if(c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0});else if(r.File&&_.input instanceof File||_.input instanceof Object){var N=c.parse(_.input,_.config);N&&r.postMessage({workerId:c.WORKER_ID,results:N,finished:!0})}}),(h.prototype=Object.create(u.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(VC);var u9=VC.exports;const FC=_o(u9);function UC(t,e,n){const r=t+e,s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(s);i.setAttribute("href",o),i.setAttribute("download",`${n}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const h9=`Type of Article,Authors,Paper Title,Publisher,Publication Year,Name of Journal,Volume,DOI Link,Impact Factor,No. of Pages,ISBN
`,f9=`Conference,"Kulkarni A, Phutke SS, Vipparthi SK, Murala S",C2AIR: Consolidated Compact Aerial Image Haze Removal,IEEE Transactions on Cognitive and Developmental Systems,2020,Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision,4,304-402,7,300,5
`;let Id;const p9=new Uint8Array(16);function m9(){if(!Id&&(Id=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Id))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Id(p9)}const Dt=[];for(let t=0;t<256;++t)Dt.push((t+256).toString(16).slice(1));function g9(t,e=0){return Dt[t[e+0]]+Dt[t[e+1]]+Dt[t[e+2]]+Dt[t[e+3]]+"-"+Dt[t[e+4]]+Dt[t[e+5]]+"-"+Dt[t[e+6]]+Dt[t[e+7]]+"-"+Dt[t[e+8]]+Dt[t[e+9]]+"-"+Dt[t[e+10]]+Dt[t[e+11]]+Dt[t[e+12]]+Dt[t[e+13]]+Dt[t[e+14]]+Dt[t[e+15]]}const v9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$_={randomUUID:v9};function Mx(t,e,n){if($_.randomUUID&&!e&&!t)return $_.randomUUID();t=t||{};const r=t.random||(t.rng||m9)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return g9(r)}const k=(t,e)=>{const n=rt.getState().getalerts.data;rt.dispatch(_C([...n,{id:Mx(),type:t,content:e}]))},_f=({entry:t,id:e})=>a.jsxs("div",{children:[a.jsxs("p",{children:[t==null?void 0:t.author,", ",a.jsxs("strong",{children:['"',t==null?void 0:t.title,',"']})," in"," ",t==null?void 0:t.booktitle,(t==null?void 0:t.journal)&&`, ${t==null?void 0:t.journal}`,(t==null?void 0:t.volume)&&`, vol. ${t==null?void 0:t.volume}`,(t==null?void 0:t.number)&&`, no. ${t==null?void 0:t.number}`,(t==null?void 0:t.pages)&&`, pp. ${t==null?void 0:t.pages}`,(t==null?void 0:t.year)&&`, ${t==null?void 0:t.year}`,t.doi&&a.jsxs(a.Fragment,{children:[","," ",a.jsxs("a",{href:`https://doi.org/${t.doi}`,target:"_blank",rel:"noopener noreferrer",children:["doi: ",t.doi]})]})]}),a.jsxs("p",{children:["Keywords: ","{ "+(t==null?void 0:t.keywords)+" }",", Abstract:"," ",a.jsx("a",{className:"text-shade2 my-0 py-0","data-bs-toggle":"collapse",href:"#collapseExample"+e,role:"button","aria-expanded":"false","aria-controls":"collapseExample"+e,children:"Click"})]}),a.jsx("p",{className:"collapse collapsed my-0",id:"collapseExample"+e,children:t==null?void 0:t.abstract})]}),fa=async()=>{try{const t=re(W,"phdStudents"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await x9(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),rt.dispatch(qB(n))}catch(t){console.error("Error fetching phd:",t)}};async function y9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=xe(W,"phdStudents",t);await rn(e),alert("phd item and image deleted successfully!"),location.reload()}catch{alert("Error deleting phd!")}}}const x9=async t=>{try{const e=Ce(Ae,`/peoples/phd_profile_images/${t}`);return await Br(e)}catch{return null}},kp=["January","February","March","April","May","June","July","August","September","October","November","December"],b9=()=>{const t=K(A=>A.getpublications.data),e=K(A=>A.getauth),n=K(A=>A.getsupervisors.data),r=K(A=>A.getphdStudents.data),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(""),[g,y]=T.useState(""),[b,m]=T.useState(""),[x,v]=T.useState(""),[E,S]=T.useState(""),[j,I]=T.useState(""),[w,_]=T.useState(""),[N,P]=T.useState(""),[C,R]=T.useState([e==null?void 0:e.email]),[V,B]=T.useState(!1);T.useEffect(()=>{Oo(),fs(),fa()},[]);const L=A=>{if(A.preventDefault(),!s||!o||!c||!u||!g||!b||!x||!E||!j||!w){k("danger","Please fill all required fields!");return}B(!0),Ye(re(W,"publications"),{type:o,author:b,title:s,year:u,volume:E,journal:c,pages:x,abstract:N||"",doi:g||"",month:f||"",isbn:w||"",users:C}).then(()=>{k("success","Paper has been saved! You can view it in the admin panel."),B(!1),window.location.reload()}).catch(()=>{k("danger","Error adding Paper! Please try again later."),B(!1)})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"List of Publications"}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal_",children:"+ Add (By BibTeX)"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add (By Manual)"}),a.jsxs("button",{className:"btn btn-shade1 btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((A,D)=>{var M,U,z,O;if(!(!((U=(M=A==null?void 0:A.data)==null?void 0:M.users)!=null&&U.includes(e.email))&&!e.userType.includes("ADMIN")))return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(_f,{entry:A==null?void 0:A.data,id:A==null?void 0:A._id})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(z=e==null?void 0:e.userType)!=null&&z.includes("ADMIN")||(O=A==null?void 0:A.data)!=null&&O.users.some(F=>F==e.email)?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-primary",to:A==null?void 0:A._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>Fz(A._id),children:"Delete"})})]}):"NA"})]})})]},D)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"alert alert-warning rounded-0",children:["Manual addition of Research Paper is not recommended, please use the ",a.jsx("strong",{children:"BibTeX"})," format for adding of Paper."]}),a.jsxs("div",{className:"alert alert-info rounded-0",children:["If you want to add all fields of Research Paper, Try with"," ",a.jsx("strong",{children:"BibTeX"})," format."]}),a.jsxs("form",{onSubmit:L,noValidate:!0,children:[a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:s,onChange:A=>i(A.target.value),required:!0,disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{disabled:!e.userType.includes("ADMIN")||V,name:"userEmail",className:"form-control",onChange:A=>{const D=A.target.value;if(!(!C||D==""))if(D==="other"){let M=prompt("Please enter supervisor Email (ie. user@gmail.com):");M&&R([...C,M])}else C.includes(D)?alert("User with this name already existed."):R([...C,D])},children:[a.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((A,D)=>{var M,U,z;return a.jsxs("option",{value:(M=A==null?void 0:A.data)==null?void 0:M.email,children:[(U=A==null?void 0:A.data)==null?void 0:U.name,"-",(z=A==null?void 0:A.data)==null?void 0:z.email]},D)}),r==null?void 0:r.map((A,D)=>{var M,U,z,O,F,Z;return a.jsxs("option",{value:(U=(M=A==null?void 0:A.data)==null?void 0:M.email)==null?void 0:U.stringValue,children:[(O=(z=A==null?void 0:A.data)==null?void 0:z.name)==null?void 0:O.stringValue,",",(Z=(F=A==null?void 0:A.data)==null?void 0:F.email)==null?void 0:Z.stringValue,", PHD Student"]},D)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:C==null?void 0:C.map((A,D)=>a.jsxs("span",{className:"badge bg-success",children:[A," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(e!=null&&e.userType.includes("ADMIN"))||V||(e==null?void 0:e.email)===A){k("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const M=C.filter(U=>U!==A);R(M)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},D))})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Paper",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"paperType",value:o,onChange:A=>l(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select type---"}),a.jsx("option",{value:"Conference",children:"Conference"}),a.jsx("option",{value:"Patent",children:"Patent"}),a.jsx("option",{value:"Journal",children:"Journal"}),a.jsx("option",{value:"Book",children:"Book"}),a.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),a.jsx("option",{value:"Publications",children:"Publications"})]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021  47th Annual Conference of the IEEE Industrial Electronics Society",value:c,onChange:A=>d(A.target.value),required:!0,disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between mb-2",children:[a.jsxs("div",{className:"col-md-4 pe-2",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:u,onChange:A=>h(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select year---"}),[...Array(40)].map((A,D)=>a.jsx("option",{value:2008+D,children:1990+D},D))]})]}),a.jsxs("div",{className:"col-md-4 pe-2",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Month",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:f,onChange:A=>p(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select year---"}),kp==null?void 0:kp.map((A,D)=>a.jsx("option",{value:A,children:A},D))]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link"}),a.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:g,onChange:A=>y(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Names of the Authors(Comma Separated)",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:A=>m(A.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:V})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Pages"}),a.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:x,onChange:A=>v(A.target.value),disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume"}),a.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:E,onChange:A=>S(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),a.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:j,onChange:A=>I(A.target.value),disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),a.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:w,onChange:A=>_(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Abstract"}),a.jsx("textarea",{rows:10,onChange:A=>P(A.target.value),value:N,className:"form-control",placeholder:"Research Abstract..",disabled:V})]}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:V,children:V?"Please Wait...":"Submit"})]})]})]})})}),a.jsx(_9,{getphd:r,getauth:e,getsupervisors:n,userEmail:e==null?void 0:e.email}),a.jsx(w9,{getsupervisors:n,userType:e==null?void 0:e.userType,getauth:e,getphd:r})]})},w9=({getsupervisors:t,getauth:e,getphd:n})=>{const[r,s]=T.useState(!1),[i,o]=T.useState([e==null?void 0:e.email]),[l,c]=T.useState(""),d=async()=>{var u;if(!i){k("danger","Please select users!");return}if(!l){k("danger","Please input BiBtex text!");return}try{s(!0);const h=/(?<variable>\w+)\s*=\s*{(.*?)(?:}|",|\d{4}\s*-\s*\d{4},)/g,f=l.matchAll(h),p={};for(const v of f)if(v.groups){const{variable:E}=v.groups,S=(u=v[2])==null?void 0:u.trim();p[E]=S}const g=/@\s*(\w+)\s*{/g,y=l.matchAll(g),b=[];for(const v of y){const E=v[1].toLowerCase();b.push(E)}if(!b[0]){k("danger","Invalid BibTeX format!"),s(!1);return}const m=jt(re(W,"publications"),Gn("title","==",p.title));if(!(await _e(m)).empty){k("warning","A publication with the same title already exists."),s(!1);return}await Ye(re(W,"publications"),{type:b[0]||"",author:p.author||"",booktitle:p.booktitle||"",title:p.title||"",year:parseInt(p.year)||0,volume:p.volume||"",number:p.number||"",pages:p.pages||"",abstract:p.abstract||"",keywords:p.keywords||"",doi:p.doi||"",issn:p.issn||"",month:p.month||"",journal:p.journal||"",editor:p.editor||"",edition:p.edition||"",series:p.series||"",address:p.address||"",isbn:p.isbn||"",institution:p.institution||"",school:p.school||"",organization:p.organization||"",howpublished:p.howpublished||"",users:i}).then(()=>{k("success","Research Paper has been saved"),s(!1),window.location.reload()}).catch(()=>{k("danger","Error adding Research Paper! Please try again later."),s(!1)})}catch{k("danger","Invalid BibTeX format!")}s(!1)};return a.jsx("div",{className:"modal fade",id:"exampleModal_",tabIndex:-1,"aria-labelledby":"exampleModalLabel_","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:"exampleModalLabel_",children:["Cite by ",a.jsx("cite",{children:'"BibTeX"'})]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsx("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:a.jsxs("div",{className:"col-md-12 alert alert-primary rounded-0",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{disabled:!e.userType.includes("ADMIN")||r,name:"userEmail",className:"form-control",onChange:u=>{const h=u.target.value;if(!(!i||h==""))if(h==="other"){let f=prompt("Please enter supervisor Email (ie. user@gmail.com):");f&&o([...i,f])}else i.includes(h)?alert("User with this name already existed."):o([...i,h])},children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((u,h)=>{var f,p,g;return a.jsxs("option",{value:(f=u==null?void 0:u.data)==null?void 0:f.email,children:[(p=u==null?void 0:u.data)==null?void 0:p.name,"-",(g=u==null?void 0:u.data)==null?void 0:g.email]},h)}),n==null?void 0:n.map((u,h)=>{var f,p,g,y,b,m;return a.jsxs("option",{value:(p=(f=u==null?void 0:u.data)==null?void 0:f.email)==null?void 0:p.stringValue,children:[(y=(g=u==null?void 0:u.data)==null?void 0:g.name)==null?void 0:y.stringValue,",",(m=(b=u==null?void 0:u.data)==null?void 0:b.email)==null?void 0:m.stringValue,", PHD Student"]},h)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:i==null?void 0:i.map((u,h)=>a.jsxs("span",{className:"badge bg-success",children:[u," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(e!=null&&e.userType.includes("ADMIN"))||r||(e==null?void 0:e.email)===u){k("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const f=i.filter(p=>p!==u);o(f)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},h))})]})}),a.jsxs("div",{className:"col-md-12 alert alert-warning rounded-0",children:[a.jsxs("div",{className:"",children:[" ",a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsxs("p",{children:["Please follow these steps to cite a publication with"," ",a.jsx("strong",{children:"BibTeX"}),":"]}),a.jsxs("ol",{children:[a.jsxs("li",{children:["Copy a ",a.jsx("strong",{children:"BibTeX"})," from a source website ie. IEEE."]}),a.jsxs("li",{children:["You can paste both with and without"," ",a.jsx("strong",{children:"Citation & Abstract"}),"."]}),a.jsx("li",{children:"Paste your BibTeX into the black colour box below."}),a.jsx("li",{children:'Click on the "Submit" button, and wait while processing.'})]}),a.jsx("hr",{})]}),a.jsx("div",{className:"w-100 mt-2 overflow-auto",children:a.jsx("textarea",{disabled:r,onChange:u=>c(u.target.value),rows:10,className:"form-control bg-dark text-warning rounded-1 placeholder-warning",placeholder:"Paste here.."})})]}),a.jsx("button",{className:"btn btn-dark p-3 w-100",onClick:d,disabled:r,children:r?"Please Wait...":"Submit"})]})]})})})},_9=({getsupervisors:t,userEmail:e,getauth:n,getphd:r})=>{const s=T.useRef(null),[i,o]=T.useState(!1),[l,c]=T.useState([e]),[d,u]=T.useState([]),h=g=>{var b;const y=(b=g.target.files)==null?void 0:b[0];y&&FC.parse(y,{complete:m=>{const x=m.data.filter(v=>Object.values(v).some(E=>E!==""));u(x)},header:!0})},f=async g=>{try{return!(await _e(jt(re(W,"publications"),Gn("paperTitle","==",g)))).empty}catch{return!1}},p=async g=>{if(g.preventDefault(),!l.length){k("danger","Error! Please select supervisors.");return}if(!d.length){k("danger","ERROR! Invalid CSV File Selected.");return}o(!0);const y=d.map(async b=>{const m=Object.values(b);if(!await f(m[2]))return Ye(re(W,"publications"),{paperTitle:m[2],paperType:m[0],publisher:m[3],publicationDate:m[4],link:m[7],author:m[1],journalName:m[5],pages:m[9],volume:m[6],impact:m[8],isbn:m[10],users:l})});await Promise.all(y),k("success","Publications have been saved!"),o(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Publications"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*(these publications will be shown for selected users)"})]}),a.jsxs("select",{disabled:!n.userType.includes("ADMIN")||i,name:"userEmail",className:"form-control",onChange:g=>{const y=g.target.value;if(!(!l||y==""))if(y==="other"){let b=prompt("Please enter supervisor Email (ie. user@gmail.com):");b&&c([...l,b])}else l.includes(y)?alert("User with this name already existed."):c([...l,y])},children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((g,y)=>{var b,m,x;return a.jsxs("option",{value:(b=g==null?void 0:g.data)==null?void 0:b.email,children:[(m=g==null?void 0:g.data)==null?void 0:m.name,"-",(x=g==null?void 0:g.data)==null?void 0:x.email]},y)}),r==null?void 0:r.map((g,y)=>{var b,m,x,v,E,S;return a.jsxs("option",{value:(m=(b=g==null?void 0:g.data)==null?void 0:b.email)==null?void 0:m.stringValue,children:[(v=(x=g==null?void 0:g.data)==null?void 0:x.name)==null?void 0:v.stringValue,",",(S=(E=g==null?void 0:g.data)==null?void 0:E.email)==null?void 0:S.stringValue,", PHD Student"]},y)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:l==null?void 0:l.map((g,y)=>a.jsxs("span",{className:"badge bg-success",children:[g," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(n!=null&&n.userType.includes("ADMIN"))||i||(n==null?void 0:n.email)===g){k("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const b=l.filter(m=>m!==g);c(b)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},y))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>UC(h9,f9,"sample_publications_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{ref:s,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:h})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:d.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(d[0]).map(g=>a.jsx("th",{children:g},g))})}),a.jsx("tbody",{children:d.map((g,y)=>a.jsx("tr",{children:Object.values(g).map((b,m)=>a.jsx("td",{children:b},m))},y))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:i,onClick:p,children:i?"Please Wait...":"Submit"})]})]})})})},Vx=async()=>{try{const t=re(W,"news"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.description.stringValue,c=i.timestamp.stringValue,d=i.title.stringValue;n.push({_id:o,title:d,datetime1:c,description:l})});await Promise.all(r),rt.dispatch($B(n))}catch(t){console.error("Error fetching news:",t)}};async function j9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=xe(W,"news",t);await rn(e),alert("News item and image deleted successfully!"),location.reload()}catch{alert("Error deleting News!")}}}async function E9(t,e){try{const n=xe(W,"news",t),i={...(await tr(n)).data(),...e};await zV(n,i,{merge:!0}),alert("News item edited successfully.")}catch{alert("Error editing news!")}}const B_=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:s,setTitle:i,submitHandler:o,_id:l})=>a.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog ",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>i(c.target.value),disabled:t,value:e})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),a.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",onChange:c=>s(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:o,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),N9=()=>{const t=K(h=>h.getnews).data,[e,n]=T.useState(),[r,s]=T.useState(),[i,o]=T.useState(),[l,c]=T.useState(!1);T.useEffect(()=>{Vx()},[]);const d=()=>{if(!e||!r||!i){k("danger","Please fill all required fields.");return}c(!0),Ye(re(W,"news"),{title:r,timestamp:i,description:e}).then(()=>{k("success","News has been saved! You can view it in the admin panel."),s(""),n(""),c(!1),window.location.reload()}).catch(h=>{k("danger","Error! While adding a News, Check you internet connnection and Try Again later."),console.error("Error saving image data:",h),c(!1)})},u=h=>{o(h.datetime1),s(h.title)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Latest News"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{children:h.title}),a.jsx("td",{children:S9(h==null?void 0:h.datetime1)}),a.jsx("td",{children:h.description}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>j9(h._id),children:"Delete"})}),a.jsxs("li",{children:[a.jsx("button",{className:"dropdown-item text-primary",onClick:()=>u(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),a.jsx(B_,{_id:`EditNewsModal${h._id}`,submitHandler:()=>E9(h._id,{title:r,datetime:i}),datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})]})]})})]},f))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"News Not Found!"})})})]})]}),a.jsx(B_,{_id:"AddNewsModal",submitHandler:d,datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})},S9=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},T9=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),s=async i=>{if(i.preventDefault(),t!==n||t===""||n===""){k("warning","Passwords do not match");return}const o=Jt.currentUser;if(!o){location.href="/CVPR_LAB/#/";return}o?D4(o,n).then(()=>{k("success","Password updated successfully"),location.href="/CVPR_LAB/#/dashboard"}).catch(l=>{k("danger","Error while changing the password, Message: "+I9(l.code).toUpperCase())}):k("danger","No user is currently signed in."),r(""),e("")};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{children:"Change Password"})}),a.jsx("hr",{}),a.jsxs("form",{className:"card g-3 p-3 gap-3 my-3 rounded-1 ",onSubmit:s,noValidate:!0,children:[a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),a.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:i=>e(i.target.value),required:!0}),a.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:i=>r(i.target.value),required:!0})]}),a.jsx("div",{className:"",children:a.jsx("button",{type:"submit",className:"btn btn-primary text-uppercase w-full w-100 p-3",children:"Submit"})})]})]})})};function I9(t){const e=t.indexOf("/");return e!==-1?t.substring(e+1):""}/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){P9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function C9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zC(r.key),r)}}function A9(t,e,n){return e&&H_(t.prototype,e),n&&H_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P9(t,e,n){return e=zC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BC(t){return k9(t)||R9(t)||D9(t)||O9()}function k9(t){if(Array.isArray(t))return Dg(t)}function R9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D9(t,e){if(t){if(typeof t=="string")return Dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dg(t,e)}}function Dg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zC(t){var e=L9(t,"string");return typeof e=="symbol"?e:String(e)}var jf=typeof window<"u"&&typeof window.document<"u",Fr=jf?window:{},Fx=jf&&Fr.document.documentElement?"ontouchstart"in Fr.document.documentElement:!1,Ux=jf?"PointerEvent"in Fr:!1,Je="cropper",$x="all",HC="crop",qC="move",WC="zoom",fi="e",pi="w",xa="s",xs="n",Yo="ne",Qo="nw",Xo="se",Jo="sw",Og="".concat(Je,"-crop"),q_="".concat(Je,"-disabled"),wn="".concat(Je,"-hidden"),W_="".concat(Je,"-hide"),M9="".concat(Je,"-invisible"),oh="".concat(Je,"-modal"),Lg="".concat(Je,"-move"),xc="".concat(Je,"Action"),Cd="".concat(Je,"Preview"),Bx="crop",GC="move",KC="none",Mg="crop",Vg="cropend",Fg="cropmove",Ug="cropstart",G_="dblclick",V9=Fx?"touchstart":"mousedown",F9=Fx?"touchmove":"mousemove",U9=Fx?"touchend touchcancel":"mouseup",K_=Ux?"pointerdown":V9,Y_=Ux?"pointermove":F9,Q_=Ux?"pointerup pointercancel":U9,X_="ready",J_="resize",Z_="wheel",$g="zoom",ej="image/jpeg",$9=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,B9=/^data:/,z9=/^data:image\/jpeg;base64,/,H9=/^img|canvas$/i,YC=200,QC=100,tj={viewMode:0,dragMode:Bx,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:YC,minContainerHeight:QC,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},q9='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',W9=Number.isNaN||Fr.isNaN;function we(t){return typeof t=="number"&&!W9(t)}var nj=function(e){return e>0&&e<1/0};function Rp(t){return typeof t>"u"}function Ji(t){return Rg(t)==="object"&&t!==null}var G9=Object.prototype.hasOwnProperty;function Ma(t){if(!Ji(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&G9.call(n,"isPrototypeOf")}catch{return!1}}function xn(t){return typeof t=="function"}var K9=Array.prototype.slice;function XC(t){return Array.from?Array.from(t):K9.call(t)}function yt(t,e){return t&&xn(e)&&(Array.isArray(t)||we(t.length)?XC(t).forEach(function(n,r){e.call(t,n,r,t)}):Ji(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var tt=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Ji(e)&&r.length>0&&r.forEach(function(i){Ji(i)&&Object.keys(i).forEach(function(o){e[o]=i[o]})}),e},Y9=/\.\d*(?:0|9){12}\d*$/;function Ja(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Y9.test(t)?Math.round(t*e)/e:t}var Q9=/^width|height|left|top|marginLeft|marginTop$/;function Rs(t,e){var n=t.style;yt(e,function(r,s){Q9.test(s)&&we(r)&&(r="".concat(r,"px")),n[s]=r})}function X9(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function St(t,e){if(e){if(we(t.length)){yt(t,function(r){St(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Lr(t,e){if(e){if(we(t.length)){yt(t,function(n){Lr(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Va(t,e,n){if(e){if(we(t.length)){yt(t,function(r){Va(r,e,n)});return}n?St(t,e):Lr(t,e)}}var J9=/([a-z\d])([A-Z])/g;function zx(t){return t.replace(J9,"$1-$2").toLowerCase()}function Bg(t,e){return Ji(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(zx(e)))}function bc(t,e,n){Ji(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(zx(e)),n)}function Z9(t,e){if(Ji(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(zx(e)))}var JC=/\s\s*/,ZC=function(){var t=!1;if(jf){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Fr.addEventListener("test",n,r),Fr.removeEventListener("test",n,r)}return t}();function ir(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(JC).forEach(function(i){if(!ZC){var o=t.listeners;o&&o[i]&&o[i][n]&&(s=o[i][n],delete o[i][n],Object.keys(o[i]).length===0&&delete o[i],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Hn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(JC).forEach(function(i){if(r.once&&!ZC){var o=t.listeners,l=o===void 0?{}:o;s=function(){delete l[i][n],t.removeEventListener(i,s,r);for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];n.apply(t,u)},l[i]||(l[i]={}),l[i][n]&&t.removeEventListener(i,l[i][n],r),l[i][n]=s,t.listeners=l}t.addEventListener(i,s,r)})}function Za(t,e,n){var r;return xn(Event)&&xn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function eA(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Dp=Fr.location,e5=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function rj(t){var e=t.match(e5);return e!==null&&(e[1]!==Dp.protocol||e[2]!==Dp.hostname||e[3]!==Dp.port)}function sj(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function kl(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,o=[];we(s)&&s!==0&&o.push("translateX(".concat(s,"px)")),we(i)&&i!==0&&o.push("translateY(".concat(i,"px)")),we(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),we(n)&&n!==1&&o.push("scaleX(".concat(n,")")),we(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function t5(t){var e=$C({},t),n=0;return yt(t,function(r,s){delete e[s],yt(e,function(i){var o=Math.abs(r.startX-i.startX),l=Math.abs(r.startY-i.startY),c=Math.abs(r.endX-i.endX),d=Math.abs(r.endY-i.endY),u=Math.sqrt(o*o+l*l),h=Math.sqrt(c*c+d*d),f=(h-u)/u;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Ad(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:$C({startX:n,startY:r},s)}function n5(t){var e=0,n=0,r=0;return yt(t,function(s){var i=s.startX,o=s.startY;e+=i,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function Ds(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=nj(r),o=nj(n);if(i&&o){var l=n*e;s==="contain"&&l>r||s==="cover"&&l<r?n=r/e:r=n*e}else i?n=r/e:o&&(r=n*e);return{width:r,height:n}}function r5(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),o=Math.cos(s),l=e*o+n*i,c=e*i+n*o;return r>90?{width:c,height:l}:{width:l,height:c}}function s5(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,o=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,d=e.scaleX,u=d===void 0?1:d,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,y=n.naturalHeight,b=r.fillColor,m=b===void 0?"transparent":b,x=r.imageSmoothingEnabled,v=x===void 0?!0:x,E=r.imageSmoothingQuality,S=E===void 0?"low":E,j=r.maxWidth,I=j===void 0?1/0:j,w=r.maxHeight,_=w===void 0?1/0:w,N=r.minWidth,P=N===void 0?0:N,C=r.minHeight,R=C===void 0?0:C,V=document.createElement("canvas"),B=V.getContext("2d"),L=Ds({aspectRatio:p,width:I,height:_}),A=Ds({aspectRatio:p,width:P,height:R},"cover"),D=Math.min(L.width,Math.max(A.width,g)),M=Math.min(L.height,Math.max(A.height,y)),U=Ds({aspectRatio:s,width:I,height:_}),z=Ds({aspectRatio:s,width:P,height:R},"cover"),O=Math.min(U.width,Math.max(z.width,i)),F=Math.min(U.height,Math.max(z.height,o)),Z=[-O/2,-F/2,O,F];return V.width=Ja(D),V.height=Ja(M),B.fillStyle=m,B.fillRect(0,0,D,M),B.save(),B.translate(D/2,M/2),B.rotate(c*Math.PI/180),B.scale(u,f),B.imageSmoothingEnabled=v,B.imageSmoothingQuality=S,B.drawImage.apply(B,[t].concat(BC(Z.map(function(se){return Math.floor(Ja(se))})))),B.restore(),V}var tA=String.fromCharCode;function i5(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=tA(t.getUint8(s));return r}var a5=/^data:.*,/;function o5(t){var e=t.replace(a5,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return yt(s,function(i,o){s[o]=n.charCodeAt(o)}),r}function l5(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(tA.apply(null,XC(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function c5(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,l=2;l+1<o;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break}l+=1}if(s){var c=s+4,d=s+10;if(i5(e,c,4)==="Exif"){var u=e.getUint16(d);if(r=u===18761,(r||u===19789)&&e.getUint16(d+2,r)===42){var h=e.getUint32(d+4,r);h>=8&&(i=d+h)}}}if(i){var f=e.getUint16(i,r),p,g;for(g=0;g<f;g+=1)if(p=i+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function d5(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var u5={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),o=Number(n.minContainerHeight);St(s,wn),Lr(e,wn);var l={width:Math.max(r.offsetWidth,i>=0?i:YC),height:Math.max(r.offsetHeight,o>=0?o:QC)};this.containerData=l,Rs(s,{width:l.width,height:l.height}),St(e,wn),Lr(s,wn)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,o=s?n.naturalWidth:n.naturalHeight,l=i/o,c=e.width,d=e.height;e.height*l>e.width?r===3?c=e.height*l:d=e.width/l:r===3?d=e.width/l:c=e.height*l;var u={aspectRatio:l,naturalWidth:i,naturalHeight:o,width:c,height:d};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=tt({},u)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=r.viewMode,c=i.aspectRatio,d=this.cropped&&o;if(e){var u=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(u=Math.max(u,s.width),h=Math.max(h,s.height),l===3&&(h*c>u?u=h*c:h=u/c)):l>0&&(u?u=Math.max(u,d?o.width:0):h?h=Math.max(h,d?o.height:0):d&&(u=o.width,h=o.height,h*c>u?u=h*c:h=u/c));var f=Ds({aspectRatio:c,width:u,height:h});u=f.width,h=f.height,i.minWidth=u,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(l>(d?0:1)){var p=s.width-i.width,g=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,g),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,g),d&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,l===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,g),i.maxTop=Math.max(0,g))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=r5({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),o=i.width,l=i.height,c=r.width*(o/r.naturalWidth),d=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(d-r.height)/2,r.width=c,r.height=d,r.aspectRatio=o/l,r.naturalWidth=o,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Rs(this.canvas,tt({width:r.width,height:r.height},kl({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);tt(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),Rs(this.image,tt({width:r.width,height:r.height},kl(tt({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=tt({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var d=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,h=l?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,f=l?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;d=Math.min(d,s.width),u=Math.min(u,s.height),c&&(d&&u?u*c>d?u=d/c:d=u*c:d?u=d/c:u&&(d=u*c),f*c>h?f=h/c:h=f*c),o.minWidth=Math.min(d,h),o.minHeight=Math.min(u,f),o.maxWidth=h,o.maxHeight=f}n&&(l?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(s.width,i.left+i.width)-o.width,o.maxTop=Math.min(s.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=s.width-o.width,o.maxTop=s.height-o.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&bc(this.face,xc,r.width>=n.width&&r.height>=n.height?qC:$x),Rs(this.cropBox,tt({width:r.width,height:r.height},kl({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Za(this.element,Mg,this.getData())}},h5={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=s,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,yt(l,function(c){var d=document.createElement("img");bc(c,Cd,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(d.crossOrigin=n),d.src=s,d.alt=i,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){yt(this.previews,function(e){var n=Bg(e,Cd);Rs(e,{width:n.width,height:n.height}),e.innerHTML=n.html,Z9(e,Cd)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,o=e.width,l=e.height,c=r.left-n.left-e.left,d=r.top-n.top-e.top;!this.cropped||this.disabled||(Rs(this.viewBoxImage,tt({width:o,height:l},kl(tt({translateX:-c,translateY:-d},e)))),yt(this.previews,function(u){var h=Bg(u,Cd),f=h.width,p=h.height,g=f,y=p,b=1;s&&(b=f/s,y=i*b),i&&y>p&&(b=p/i,g=s*b,y=p),Rs(u,{width:g,height:y}),Rs(u.getElementsByTagName("img")[0],tt({width:o*b,height:l*b},kl(tt({translateX:-c*b,translateY:-d*b},e))))}))}},f5={bind:function(){var e=this.element,n=this.options,r=this.cropper;xn(n.cropstart)&&Hn(e,Ug,n.cropstart),xn(n.cropmove)&&Hn(e,Fg,n.cropmove),xn(n.cropend)&&Hn(e,Vg,n.cropend),xn(n.crop)&&Hn(e,Mg,n.crop),xn(n.zoom)&&Hn(e,$g,n.zoom),Hn(r,K_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Hn(r,Z_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Hn(r,G_,this.onDblclick=this.dblclick.bind(this)),Hn(e.ownerDocument,Y_,this.onCropMove=this.cropMove.bind(this)),Hn(e.ownerDocument,Q_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Hn(window,J_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;xn(n.cropstart)&&ir(e,Ug,n.cropstart),xn(n.cropmove)&&ir(e,Fg,n.cropmove),xn(n.cropend)&&ir(e,Vg,n.cropend),xn(n.crop)&&ir(e,Mg,n.crop),xn(n.zoom)&&ir(e,$g,n.zoom),ir(r,K_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&ir(r,Z_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ir(r,G_,this.onDblclick),ir(e.ownerDocument,Y_,this.onCropMove),ir(e.ownerDocument,Q_,this.onCropEnd),n.responsive&&ir(window,J_,this.onResize)}},p5={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,o=Math.abs(s-1)>Math.abs(i-1)?s:i;if(o!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(yt(l,function(d,u){l[u]=d*o})),this.setCropBoxData(yt(c,function(d,u){c[u]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===KC||this.setDragMode(X9(this.dragBox,Og)?GC:Bx)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(we(n)&&n!==1||we(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,o;e.changedTouches?yt(e.changedTouches,function(l){i[l.identifier]=Ad(l)}):i[e.pointerId||0]=Ad(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?o=WC:o=Bg(e.target,xc),$9.test(o)&&Za(this.element,Ug,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===HC&&(this.cropping=!0,St(this.dragBox,oh)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),Za(this.element,Fg,{originalEvent:e,action:n})!==!1&&(e.changedTouches?yt(e.changedTouches,function(s){tt(r[s.identifier]||{},Ad(s,!0))}):tt(r[e.pointerId||0]||{},Ad(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?yt(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Va(this.dragBox,oh,this.cropped&&this.options.modal)),Za(this.element,Vg,{originalEvent:e,action:n}))}}},m5={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,o=this.pointers,l=this.action,c=n.aspectRatio,d=i.left,u=i.top,h=i.width,f=i.height,p=d+h,g=u+f,y=0,b=0,m=s.width,x=s.height,v=!0,E;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(y=i.minLeft,b=i.minTop,m=y+Math.min(s.width,r.width,r.left+r.width),x=b+Math.min(s.height,r.height,r.top+r.height));var S=o[Object.keys(o)[0]],j={x:S.endX-S.startX,y:S.endY-S.startY},I=function(_){switch(_){case fi:p+j.x>m&&(j.x=m-p);break;case pi:d+j.x<y&&(j.x=y-d);break;case xs:u+j.y<b&&(j.y=b-u);break;case xa:g+j.y>x&&(j.y=x-g);break}};switch(l){case $x:d+=j.x,u+=j.y;break;case fi:if(j.x>=0&&(p>=m||c&&(u<=b||g>=x))){v=!1;break}I(fi),h+=j.x,h<0&&(l=pi,h=-h,d-=h),c&&(f=h/c,u+=(i.height-f)/2);break;case xs:if(j.y<=0&&(u<=b||c&&(d<=y||p>=m))){v=!1;break}I(xs),f-=j.y,u+=j.y,f<0&&(l=xa,f=-f,u-=f),c&&(h=f*c,d+=(i.width-h)/2);break;case pi:if(j.x<=0&&(d<=y||c&&(u<=b||g>=x))){v=!1;break}I(pi),h-=j.x,d+=j.x,h<0&&(l=fi,h=-h,d-=h),c&&(f=h/c,u+=(i.height-f)/2);break;case xa:if(j.y>=0&&(g>=x||c&&(d<=y||p>=m))){v=!1;break}I(xa),f+=j.y,f<0&&(l=xs,f=-f,u-=f),c&&(h=f*c,d+=(i.width-h)/2);break;case Yo:if(c){if(j.y<=0&&(u<=b||p>=m)){v=!1;break}I(xs),f-=j.y,u+=j.y,h=f*c}else I(xs),I(fi),j.x>=0?p<m?h+=j.x:j.y<=0&&u<=b&&(v=!1):h+=j.x,j.y<=0?u>b&&(f-=j.y,u+=j.y):(f-=j.y,u+=j.y);h<0&&f<0?(l=Jo,f=-f,h=-h,u-=f,d-=h):h<0?(l=Qo,h=-h,d-=h):f<0&&(l=Xo,f=-f,u-=f);break;case Qo:if(c){if(j.y<=0&&(u<=b||d<=y)){v=!1;break}I(xs),f-=j.y,u+=j.y,h=f*c,d+=i.width-h}else I(xs),I(pi),j.x<=0?d>y?(h-=j.x,d+=j.x):j.y<=0&&u<=b&&(v=!1):(h-=j.x,d+=j.x),j.y<=0?u>b&&(f-=j.y,u+=j.y):(f-=j.y,u+=j.y);h<0&&f<0?(l=Xo,f=-f,h=-h,u-=f,d-=h):h<0?(l=Yo,h=-h,d-=h):f<0&&(l=Jo,f=-f,u-=f);break;case Jo:if(c){if(j.x<=0&&(d<=y||g>=x)){v=!1;break}I(pi),h-=j.x,d+=j.x,f=h/c}else I(xa),I(pi),j.x<=0?d>y?(h-=j.x,d+=j.x):j.y>=0&&g>=x&&(v=!1):(h-=j.x,d+=j.x),j.y>=0?g<x&&(f+=j.y):f+=j.y;h<0&&f<0?(l=Yo,f=-f,h=-h,u-=f,d-=h):h<0?(l=Xo,h=-h,d-=h):f<0&&(l=Qo,f=-f,u-=f);break;case Xo:if(c){if(j.x>=0&&(p>=m||g>=x)){v=!1;break}I(fi),h+=j.x,f=h/c}else I(xa),I(fi),j.x>=0?p<m?h+=j.x:j.y>=0&&g>=x&&(v=!1):h+=j.x,j.y>=0?g<x&&(f+=j.y):f+=j.y;h<0&&f<0?(l=Qo,f=-f,h=-h,u-=f,d-=h):h<0?(l=Jo,h=-h,d-=h):f<0&&(l=Yo,f=-f,u-=f);break;case qC:this.move(j.x,j.y),v=!1;break;case WC:this.zoom(t5(o),e),v=!1;break;case HC:if(!j.x||!j.y){v=!1;break}E=eA(this.cropper),d=S.startX-E.left,u=S.startY-E.top,h=i.minWidth,f=i.minHeight,j.x>0?l=j.y>0?Xo:Yo:j.x<0&&(d-=h,l=j.y>0?Jo:Qo),j.y<0&&(u-=f),this.cropped||(Lr(this.cropBox,wn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}v&&(i.width=h,i.height=f,i.left=d,i.top=u,this.action=l,this.renderCropBox()),yt(o,function(w){w.startX=w.endX,w.startY=w.endY})}},g5={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&St(this.dragBox,oh),Lr(this.cropBox,wn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=tt({},this.initialImageData),this.canvasData=tt({},this.initialCanvasData),this.cropBoxData=tt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(tt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Lr(this.dragBox,oh),St(this.cropBox,wn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,yt(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Lr(this.cropper,q_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,St(this.cropper,q_)),this},destroy:function(){var e=this.element;return e[Je]?(e[Je]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(Rp(e)?e:s+Number(e),Rp(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(we(e)&&(r.left=e,s=!0),we(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,o=i.width,l=i.height,c=i.naturalWidth,d=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var u=c*e,h=d*e;if(Za(this.element,$g,{ratio:e,oldRatio:o/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=eA(this.cropper),g=f&&Object.keys(f).length?n5(f):{pageX:r.pageX,pageY:r.pageY};i.left-=(u-o)*((g.pageX-p.left-i.left)/o),i.top-=(h-l)*((g.pageY-p.top-i.top)/l)}else Ma(n)&&we(n.x)&&we(n.y)?(i.left-=(u-o)*((n.x-i.left)/o),i.top-=(h-l)*((n.y-i.top)/l)):(i.left-=(u-o)/2,i.top-=(h-l)/2);i.width=u,i.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),we(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,we(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(we(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(we(e)&&(r.scaleX=e,s=!0),we(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var l=r.width/r.naturalWidth;if(yt(o,function(u,h){o[h]=u/l}),e){var c=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&Ma(e)){var o=!1;n.rotatable&&we(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),n.scalable&&(we(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),we(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;we(e.x)&&(i.left=e.x*l+s.left),we(e.y)&&(i.top=e.y*l+s.top),we(e.width)&&(i.width=e.width*l),we(e.height)&&(i.height=e.height*l),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?tt({},this.containerData):{}},getImageData:function(){return this.sized?tt({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&yt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Ma(e)&&(we(e.left)&&(n.left=e.left),we(e.top)&&(n.top=e.top),we(e.width)?(n.width=e.width,n.height=e.width/r):we(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&Ma(e)&&(we(e.left)&&(n.left=e.left),we(e.top)&&(n.top=e.top),we(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),we(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=s5(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,o=s.y,l=s.width,c=s.height,d=r.width/Math.floor(n.naturalWidth);d!==1&&(i*=d,o*=d,l*=d,c*=d);var u=l/c,h=Ds({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Ds({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Ds({aspectRatio:u,width:e.width||(d!==1?r.width:l),height:e.height||(d!==1?r.height:c)}),g=p.width,y=p.height;g=Math.min(h.width,Math.max(f.width,g)),y=Math.min(h.height,Math.max(f.height,y));var b=document.createElement("canvas"),m=b.getContext("2d");b.width=Ja(g),b.height=Ja(y),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,y);var x=e.imageSmoothingEnabled,v=x===void 0?!0:x,E=e.imageSmoothingQuality;m.imageSmoothingEnabled=v,E&&(m.imageSmoothingQuality=E);var S=r.width,j=r.height,I=i,w=o,_,N,P,C,R,V;I<=-l||I>S?(I=0,_=0,P=0,R=0):I<=0?(P=-I,I=0,_=Math.min(S,l+I),R=_):I<=S&&(P=0,_=Math.min(l,S-I),R=_),_<=0||w<=-c||w>j?(w=0,N=0,C=0,V=0):w<=0?(C=-w,w=0,N=Math.min(j,c+w),V=N):w<=j&&(C=0,N=Math.min(c,j-w),V=N);var B=[I,w,_,N];if(R>0&&V>0){var L=g/l;B.push(P*L,C*L,R*L,V*L)}return m.drawImage.apply(m,[r].concat(BC(B.map(function(A){return Math.floor(Ja(A))})))),b},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!Rp(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===Bx,o=n.movable&&e===GC;e=i||o?e:KC,n.dragMode=e,bc(r,xc,e),Va(r,Og,i),Va(r,Lg,o),n.cropBoxMovable||(bc(s,xc,e),Va(s,Og,i),Va(s,Lg,o))}return this}},v5=Fr.Cropper,nA=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(C9(this,t),!e||!H9.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=tt({},tj,Ma(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return A9(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[Je]){if(n[Je]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(B9.test(n)){z9.test(n)?this.read(o5(n)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==ej&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&rj(n)&&s.crossOrigin&&(n=sj(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=s.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=c5(n),o=0,l=1,c=1;if(i>1){this.url=l5(n,ej);var d=d5(i);o=d.rotate,l=d.scaleX,c=d.scaleY}r.rotatable&&(s.rotate=o),r.scalable&&(s.scaleX=l,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&rj(r)&&(s||(s="anonymous"),i=sj(r)),this.crossOrigin=s,this.crossOriginUrl=i;var o=document.createElement("img");s&&(o.crossOrigin=s),o.src=i||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),St(o,W_),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Fr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Fr.navigator.userAgent),i=function(d,u){tt(n.imageData,{naturalWidth:d,naturalHeight:u,aspectRatio:d/u}),n.initialImageData=tt({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),s||l.removeChild(o)},o.src=r.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,o=document.createElement("div");o.innerHTML=q9;var l=o.querySelector(".".concat(Je,"-container")),c=l.querySelector(".".concat(Je,"-canvas")),d=l.querySelector(".".concat(Je,"-drag-box")),u=l.querySelector(".".concat(Je,"-crop-box")),h=u.querySelector(".".concat(Je,"-face"));this.container=i,this.cropper=l,this.canvas=c,this.dragBox=d,this.cropBox=u,this.viewBox=l.querySelector(".".concat(Je,"-view-box")),this.face=h,c.appendChild(s),St(n,wn),i.insertBefore(l,n.nextSibling),Lr(s,W_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,St(u,wn),r.guides||St(u.getElementsByClassName("".concat(Je,"-dashed")),wn),r.center||St(u.getElementsByClassName("".concat(Je,"-center")),wn),r.background&&St(l,"".concat(Je,"-bg")),r.highlight||St(h,M9),r.cropBoxMovable&&(St(h,Lg),bc(h,xc,$x)),r.cropBoxResizable||(St(u.getElementsByClassName("".concat(Je,"-line")),wn),St(u.getElementsByClassName("".concat(Je,"-point")),wn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),xn(r.ready)&&Hn(n,X_,r.ready,{once:!0}),Za(n,X_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Lr(this.element,wn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=v5,t}},{key:"setDefaults",value:function(n){tt(tj,Ma(n)&&n)}}]),t}();tt(nA.prototype,u5,h5,f5,p5,m5,g5);var bi=function(){return bi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},bi.apply(this,arguments)};function Op(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var y5=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],x5={opacity:0,maxWidth:"100%"},rA=Re.forwardRef(function(t,e){var n=Op(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,o=n.style,l=n.className,c=n.crossOrigin,d=n.scaleX,u=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,y=g===void 0?"picture":g,b=n.ready,m=n.onInitialized,x=Op(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),v={scaleY:u,scaleX:d,enable:h,zoomTo:f,rotateTo:p},E=function(){for(var j=[],I=0;I<arguments.length;I++)j[I]=arguments[I];var w=T.useRef(null);return Re.useEffect(function(){j.forEach(function(_){_&&(typeof _=="function"?_(w.current):_.current=w.current)})},[j]),w}(e,T.useRef(null));T.useEffect(function(){var j;!((j=E.current)===null||j===void 0)&&j.cropper&&typeof f=="number"&&E.current.cropper.zoomTo(f)},[n.zoomTo]),T.useEffect(function(){var j;!((j=E.current)===null||j===void 0)&&j.cropper&&i!==void 0&&E.current.cropper.reset().clear().replace(i)},[i]),T.useEffect(function(){if(E.current!==null){var j=new nA(E.current,bi(bi({dragMode:s},x),{ready:function(I){I.currentTarget!==null&&function(w,_){_===void 0&&(_={});var N=_.enable,P=N===void 0||N,C=_.scaleX,R=C===void 0?1:C,V=_.scaleY,B=V===void 0?1:V,L=_.zoomTo,A=L===void 0?0:L,D=_.rotateTo;P?w.enable():w.disable(),w.scaleX(R),w.scaleY(B),D!==void 0&&w.rotateTo(D),A>0&&w.zoomTo(A)}(I.currentTarget.cropper,v),b&&b(I)}}));m&&m(j)}return function(){var I,w;(w=(I=E.current)===null||I===void 0?void 0:I.cropper)===null||w===void 0||w.destroy()}},[E]);var S=function(j){return y5.reduce(function(I,w){var _=I,N=w;return _[N],Op(_,[typeof N=="symbol"?N:N+""])},j)}(bi(bi({},x),{crossOrigin:c,src:i,alt:y}));return Re.createElement("div",{style:o,className:l},Re.createElement("img",bi({},S,{style:x5,ref:E})))});const sA=async()=>{try{const t=re(W,"slider_images"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i.title.stringValue,d=l?await b5(l):null;n.push({_id:o,title:c,bannerURL:d})});await Promise.all(r),rt.dispatch(BB(n))}catch(t){console.error("Error fetching Slider:",t)}},b5=async t=>{try{const e=Ce(Ae,`slider_images/${t}`);return await Br(e)}catch{return null}};async function w5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=xe(W,"slider_images",t),s=(await tr(e)).data().banner;if(await rn(e),s){const i=Ce(Ae,`slider_images/${s}`);await yr(i)}alert("Slider item and image deleted successfully!"),location.reload()}catch{alert("Error deleting Slider!")}}}const _5=()=>{const t=K(p=>p.getslider).data,[e,n]=T.useState(),[r,s]=T.useState(""),[i,o]=T.useState(!1),[l,c]=T.useState("");T.useEffect(()=>{sA()},[]);const d=T.useRef(null),u=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(d&&d.current){const p=d.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){k("danger","Please select an image and provide a title!");return}o(!0);const p=Ce(Ae,`slider_images/${r}`),g=await fetch(l).then(b=>b.blob()),y=new FileReader;y.readAsDataURL(g),y.onloadend=async()=>{$r(p,g).then(async()=>{await Ye(re(W,"slider_images"),{title:r,bannerURL:r}),k("success","Slider Image has been saved!"),s(""),n(null),o(!1),window.location.reload()}).catch(()=>{k("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later."),o(!1)})}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Slider Images"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>w5(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:i,value:r})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:u,disabled:i}),a.jsx("div",{className:"my-2",children:a.jsx(rA,{src:e,ref:d,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},iA=async()=>{try{const t=re(W,"pgusStudents"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),rt.dispatch(WB(n))}catch(t){console.error("Error fetching pgug:",t)}};async function j5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=xe(W,"pgusStudents",t);await rn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch{alert("Error deleting pgug!")}}}const aA=async()=>{try{const t=re(W,"visitorsAndInterns"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),rt.dispatch(GB(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function E5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=xe(W,"visitorsAndInterns",t);await rn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch{alert("Error deleting Visitor/Intern!")}}}const N5=()=>{const t=K(c=>c.getauth),e=K(c=>c.getphdStudents.data),n=K(c=>c.getpgugStudents.data),r=K(c=>c.getvisitorsandinterns.data),[s,i]=T.useState(1),[o,l]=T.useState("");return T.useEffect(()=>{fa(),iA(),aA()},[]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Peoples"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100",children:a.jsxs(a.Fragment,{children:[a.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>i(1),children:"Ph.D. Scholars"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(2),children:"Post Graduate students"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(3),children:"Alumni PhD"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(4),children:"Alumni Masters and Bachelors"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(5),children:"Interns and Visitors"})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[(s===1||s===3)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),s!==5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(s===2||s===4)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),s!==5&&a.jsxs(a.Fragment,{children:[" ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:s===3||s===1?"Research Interests":"Currently Working At"})]}),s===5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[(s===1||s===3)&&(e==null?void 0:e.map(c=>{var b,m,x,v,E,S,j,I,w,_,N,P,C;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,researchInterests:g,supervisor:y}=c==null?void 0:c.data;return s===1&&(h!=null&&h.booleanValue)||s===3&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[a.jsx("a",{href:c==null?void 0:c.profileImage,target:"_blank",children:a.jsx("img",{src:c==null?void 0:c.profileImage,alt:"Profile Image",style:{width:"80px"}})}),a.jsx("strong",{className:"text-shade2 text-nowrap",children:((m=(b=y==null?void 0:y.mapValue)==null?void 0:b.fields)==null?void 0:m.email)===t.email&&"(Your Scholar)"})]}),a.jsxs("td",{children:[d==null?void 0:d.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsxs("td",{children:[a.jsxs("strong",{className:"text-shade2",children:["1. Email:"," "]}),a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:a.jsx("div",{children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("strong",{className:"text-shade2",children:"2. Supervisor"}),a.jsxs("div",{children:[(E=(v=(x=y==null?void 0:y.mapValue)==null?void 0:x.fields)==null?void 0:v.name)==null?void 0:E.stringValue,","," ",(I=(j=(S=y==null?void 0:y.mapValue)==null?void 0:S.fields)==null?void 0:j.email)==null?void 0:I.stringValue]})]}),a.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:a.jsx("ol",{children:(_=(w=g==null?void 0:g.arrayValue)==null?void 0:w.values)==null?void 0:_.map((R,V)=>a.jsx("li",{children:R.stringValue},V))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[" ",a.jsx("li",{children:a.jsx(te,{className:"dropdown-item",to:"/phd/"+(c==null?void 0:c._id),target:"_blank",children:"Profile"})}),((C=(P=(N=y==null?void 0:y.mapValue)==null?void 0:N.fields)==null?void 0:P.email)==null?void 0:C.stringValue)===t.email&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>y9(c._id),children:"Delete"})})]})]})})]},c._id)})),(s===2||s===4)&&(n==null?void 0:n.map(c=>{const{name:d,batch:u,isAlumni:h,email:f,mobile:p,degree:g,currentlyWorkingAt:y}=c==null?void 0:c.data;return s===2&&(h!=null&&h.booleanValue)||s===4&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[d==null?void 0:d.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("td",{children:a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("td",{children:(g==null?void 0:g.stringValue)||"N/A"}),a.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:y==null?void 0:y.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>j5(c._id),children:"Delete"})}):"NA"})]})})]},c._id)})),s===5&&(r==null?void 0:r.map(c=>{const{name:d,collegeName:u}=c==null?void 0:c.data;return a.jsxs("tr",{children:[a.jsx("td",{children:d==null?void 0:d.stringValue}),a.jsx("td",{children:u==null?void 0:u.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>E5(c._id),children:"Delete"})}):"NA"})]})})]},c._id)}))]})]}),!r.length&&s===5&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})}),!e.length&&(s===1||s===3)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})}),!n.length&&(s===2||s===4)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),a.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:c=>l(c.target.value),children:[a.jsx("option",{value:"",children:"--select designation--"}),a.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),a.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),a.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),a.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),a.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2",children:[(o==="Ph.D. Scholars"||o==="Alumni Ph.D.")&&a.jsx(S5,{}),(o==="Post Graduate students"||o==="Alumni Masters and Bachelors")&&a.jsx(T5,{}),o==="Visitors and Interns"&&a.jsx(I5,{})]})]})})]})})})]})},S5=()=>{var S,j,I,w;const t=K(_=>_.getsupervisors.data),e=K(_=>_.getauth),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState({name:e.userType==="SUPERVISOR"?(j=(S=t.filter(_=>{var N;return((N=_==null?void 0:_.data)==null?void 0:N.email)===(e==null?void 0:e.email)})[0])==null?void 0:S.data)==null?void 0:j.name:"",email:e.userType==="SUPERVISOR"?(w=(I=t.filter(_=>{var N;return((N=_==null?void 0:_.data)==null?void 0:N.email)===(e==null?void 0:e.email)})[0])==null?void 0:I.data)==null?void 0:w.email:""}),[f,p]=T.useState(""),[g,y]=T.useState(!1),[b,m]=T.useState(!1),[x,v]=T.useState(),E=async _=>{if(_.preventDefault(),!n||!s||!o||!c||!f){k("danger","Error! Please fill all required fields.");return}if(!x){k("danger","Please upload an Image!");return}m(!0);const N=Ce(Ae,`/peoples/phd_profile_images/${n}_${x.name}`);await $r(N,x).then(async()=>{Ye(re(W,"phdStudents"),{name:n,email:s,mobile:o,batch:c,supervisor:u,researchInterests:f.split(",").map(P=>P.trim()),isAlumni:g,profileImage:n+"_"+x.name}).then(async()=>{await Ye(re(W,"users"),{email:s,userType:"PHD"}),k("success","Data Saved Successfully!"),r(""),i(""),l(""),d(""),p(""),y(!1),m(!1),window.location.reload()}).catch(()=>{k("danger","Failed to save Data!"),m(!1)})})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:E,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:_=>r(_.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",onChange:_=>i(_.target.value),placeholder:"ie. user@gmail.com"})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",children:["Supervisor",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:_=>{var N,P;h({name:_.target.value,email:(P=(N=t.filter(C=>{var R;return((R=C==null?void 0:C.data)==null?void 0:R.name)==_.target.value})[0])==null?void 0:N.data)==null?void 0:P.email})},disabled:b||e.userType==="SUPERVISOR",children:[a.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((_,N)=>{var P,C,R,V;return a.jsxs("option",{value:(P=_==null?void 0:_.data)==null?void 0:P.name,selected:e.email==((C=_==null?void 0:_.data)==null?void 0:C.email),children:[(R=_==null?void 0:_.data)==null?void 0:R.name,"-",(V=_==null?void 0:_.data)==null?void 0:V.email]},N)})]})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:_=>l(_.target.value),placeholder:"ie. 10 digits mobile number"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:_=>{var P;const N=(P=_.target.files)==null?void 0:P[0];v(N)},disabled:b})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:_=>d(_.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:_=>p(_.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-shade2 me-2",id:"alumni",onChange:_=>y(_.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-shade2",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:b,children:b?"Submitting...":"Submit"})})]})})},T5=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(!1),[g,y]=T.useState(!1),b=m=>{if(m.preventDefault(),!t||!n||!s||!o||!c||!u){k("danger","Please fill all the required fields.");return}y(!0),Ye(re(W,"pgusStudents"),{degree:t,name:n,email:s,mobile:o,batch:c,currentlyWorkingAt:u,isAlumni:f}).then(()=>{k("success","Data Saved!"),e(""),r(""),i(""),l(""),d(""),h(""),p(!1),y(!1),location.reload()}).catch(()=>{k("danger","Error while Saving Data!"),y(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:b,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),a.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[a.jsx("option",{value:"",children:"--select--"}),a.jsx("option",{value:"B.Tech",children:"B.Tech"}),a.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>i(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>d(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Currently Working At"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-shade2 me-2",id:"alumni",onChange:m=>p(m.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-shade2",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},I5=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=l=>{if(l.preventDefault(),!t||!n){k("danger","Please fill all the required details.");return}i(!0),Ye(re(W,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{k("success","Data Saved!"),e(""),r(""),i(!1),location.reload()}).catch(()=>{k("danger","Failed to save data."),i(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:o,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"College Name"}),a.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:s,children:s?"Submitting...":"Submit"})})]})})},C5=["Professor","Associate Professor","Assistant Professor","Adjunct Professor","Visiting Professor","Emeritus Professor","Research Professor"],Lp={name:"",email:"",designation:"",phone:"",researchInterests:"",introduction:"",teaching:"",accomplishments:"",professional_affiliation:"",links:[]},A5=()=>{var g;const t=K(y=>y.getauth),e=K(y=>y.getsupervisors.data),[n,r]=T.useState(!1),[s,i]=T.useState(),[o,l]=T.useState(Lp),[c,d]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{fs()},[]);const u=y=>{const{name:b,value:m}=y.target;l(x=>({...x,[b]:m}))},h=async()=>{const{name:y,email:b,designation:m}=o;if(!y||!b||!m){k("danger","Designation, Email and Name are required fields.");return}if(r(!0),!s)Ye(re(W,"supervisors"),{...o,startDate:new Date,endDate:"NA"}).then(async()=>{await Ye(re(W,"users"),{email:b,userType:"SUPERVISOR"}),k("success","Supervisor details has been saved successfully!"),l(Lp),i(void 0),r(!1),window.location.reload()}).catch(()=>{k("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)});else{const x=Ce(Ae,`/peoples/supervisor_profile_images/${y}_${s.name}`);await $r(x,s).then(async()=>{k("success","Profile image uploaded successfully"),Ye(re(W,"supervisors"),{...o,startDate:new Date,endDate:"NA",profileImage:y+s.name}).then(async()=>{await Ye(re(W,"users"),{email:b,userType:"SUPERVISOR"}),k("success","Supervisor details along with profile image have been saved successfully!"),l(Lp),i(void 0),r(!1),window.location.reload()}).catch(()=>{k("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}).catch(()=>{k("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}},f=t==null?void 0:t.userType.includes("SUPERVISOR"),p=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:!p&&f?"Your Profile":"Supervisors"}),p&&a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",children:[a.jsxs("table",{className:"table table-bordered table-hover w-100",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:e==null?void 0:e.map((y,b)=>{const{name:m,designation:x,email:v,phone:E,researchInterests:S,introduction:j,links:I,teaching:w,accomplishments:_,professional_affiliation:N}=y==null?void 0:y.data;if(!(!p&&f&&(t==null?void 0:t.email)!=v))return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{children:[a.jsx("td",{children:y!=null&&y.profileImage?a.jsx("a",{href:y==null?void 0:y.profileImage,target:"_blank",children:a.jsx("img",{src:y==null?void 0:y.profileImage,alt:`${m}'s profile`,style:{width:"50px",height:"auto"}})}):"Not Uploaded"}),a.jsxs("td",{children:[f&&t.email===v&&a.jsxs(a.Fragment,{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Your Profile"}),a.jsx("hr",{})]}),a.jsx("h6",{className:"fw-bold text-primary",children:m}),a.jsxs("small",{className:"fw-bold text-shade2",children:["(",x,")"]})]}),a.jsxs("td",{children:["Email:"," ",a.jsx("a",{href:"mailto:"+v,target:"_blank",children:v}),a.jsx("hr",{}),"Mobile: ",E]}),a.jsxs("td",{children:[a.jsx("strong",{children:"Research Interests: "}),S]}),a.jsx("td",{children:a.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:j})}),a.jsx("td",{children:a.jsx("ol",{children:I==null?void 0:I.map((P,C)=>a.jsx("li",{children:a.jsx(te,{to:P==null?void 0:P.linkURL,target:"_blank",className:"btn-link bnt-sm p-0",children:P==null?void 0:P.linkName})},C))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${b}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${b}`,children:[(t.email===v||p)&&a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-primary",to:y==null?void 0:y._id,children:"Edit"})}),p&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>d9(y._id),children:"Delete"})})]})]})})]},y._id),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Techings: "})]}),a.jsx("td",{colSpan:5,children:w})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Accomplishments: "})]}),a.jsx("td",{colSpan:5,children:_})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Professional Affiliation: "})]}),a.jsx("td",{colSpan:5,children:N})]})]})})})]}),!e.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"fw-bold text-primary",children:"Personal Information:"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Designation(",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsxs("select",{name:"designation",className:"form-control",value:o.designation,onChange:u,id:"designation",children:[a.jsx("option",{value:"",children:"--select designation--"}),C5.map((y,b)=>a.jsx("option",{value:y,children:y},b))]})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:o.name,onChange:u})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:o.email,onChange:u})]})]}),a.jsx("div",{className:"alert alert-primary p-2 rounded-0 mb-3",role:"alert",children:"Name and Email fields are required, Supervisor can also edit other things later."}),a.jsx("div",{className:"text-end",children:a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})}),a.jsx("h4",{className:"fw-bold text-primary",children:"Other Details (User can fill later):"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:o.phone,onChange:u,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:y=>{var m;const b=(m=y.target.files)==null?void 0:m[0];i(b)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:o.researchInterests,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:o.teaching||"",onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:o.accomplishments,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:o.professional_affiliation,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:o.introduction,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:y=>d({linkName:y.target.value,linkURL:c.linkURL}),value:c.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:y=>d({linkName:c.linkName,linkURL:y.target.value}),value:c.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!c.linkName||!c.linkURL){k("danger","Link Name and URL are required fields.");return}if(o.links.includes(c)){k("danger","This link already exists.");return}l({...o,links:[...o.links,c]}),d({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(g=o==null?void 0:o.links)==null?void 0:g.map((y,b)=>a.jsxs("tr",{children:[a.jsx("th",{children:b+1}),a.jsx("th",{children:y==null?void 0:y.linkName}),a.jsx("th",{children:a.jsx("a",{href:y==null?void 0:y.linkURL,target:"_blank",children:y==null?void 0:y.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&l({...o,links:o==null?void 0:o.links.filter(m=>m.linkName!==(y==null?void 0:y.linkName))})},children:"Remove"})})]}))})]}),!(o!=null&&o.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},pa=async()=>{try{const t=re(W,"datasets"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=(i==null?void 0:i.images.arrayValue.values)||[];let d=[];const u=c.map(async f=>{const p=await P5(f.stringValue)||"";d.push({name:f==null?void 0:f.stringValue,url:p})});await Promise.all(u);const h=i==null?void 0:i.description.stringValue;n.push({_id:o,title:l,description:h,images:d})});await Promise.all(r),rt.dispatch(KB(n))}catch(t){console.error("Error fetching Datasets:",t)}},P5=async t=>{try{const e=Ce(Ae,`dataset_images/${t}`);return await Br(e)}catch{return null}};async function k5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=xe(W,"datasets",t),s=(await tr(e)).data().images;await rn(e);const i=s.map(async o=>{const l=Ce(Ae,`dataset_images/${o}`);await yr(l)});await Promise.all(i),alert("Datasets item and images deleted successfully!"),location.reload()}catch{alert("Error deleting Datasets!")}}}async function R5(t,e){if(confirm("Are you sure want to delete this item?")){if(t===null||!e||e==null){alert("Invalid Parameters");return}try{const n=Ce(Ae,`dataset_images/${e}`);await yr(n);const r=xe(W,"datasets",t),s=await tr(r);if(s.exists()){const l=(s.data().images||[]).filter(c=>c!=e);await ot(r,{images:l}),k("success","Datasets item and images deleted successfully!")}else k("danger","Something went wrong!");location.reload()}catch{alert("Error deleting Datasets!")}}}const D5=()=>{const t=K(c=>c.getdatasets).data,[e,n]=T.useState(""),[r,s]=T.useState(""),[i,o]=T.useState(!1);T.useEffect(()=>{pa()},[]);const l=async()=>{if(!e||!r){k("warning","Please provide the required fields!");return}o(!0);try{await Ye(re(W,"datasets"),{title:e,description:r,images:[]}),k("success","Datasets has been saved!"),k("info","You can add datasets images later!")}catch{k("danger","Error while saving the dataset, Try again!")}n(""),o(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Datasets"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"alert alert-warning fw-bold rounded-0",children:"It is common for all, If you delete one dataset, it will deleted from all."}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((c,d)=>a.jsxs("tr",{children:[a.jsx("td",{children:d+1}),a.jsx("td",{children:c==null?void 0:c.title}),a.jsxs("td",{children:[" ",a.jsx("div",{className:"overflow-auto p-2",children:c==null?void 0:c.description})]}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx(te,{to:c==null?void 0:c._id,className:"dropdown-item text-success",children:"Add Images"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>k5(c._id),children:"Delete"})})]})]})})]},d))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>n(c.target.value),disabled:i,value:e||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:c=>s(c.target.value),disabled:i,value:r||""})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:l,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Xc=async()=>{try{const t=re(W,"ResearchArea"),e=await _e(t),n=[],r=e.docs.map(async s=>{var u,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=((h=(u=i==null?void 0:i.subareas)==null?void 0:u.arrayValue)==null?void 0:h.values)||[],d=l?await O5(l):null;n.push({_id:o,title:l,subareas:c,bannerURL:d})});await Promise.all(r),rt.dispatch(YB(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},O5=async t=>{try{const e=Ce(Ae,`research_areas_images/${t}`);return await Br(e)}catch{return null}};async function L5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=xe(W,"ResearchArea",t),s=(await tr(e)).data().banner;if(await rn(e),s){const i=Ce(Ae,`research_areas_images/${s}`);await yr(i)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch{alert("Error deleting ResearchArea!")}}}const Ef=async()=>{try{const t=re(W,"research_subitems"),e=await _e(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.description.stringValue,c=i==null?void 0:i.researchArea,d=(f=(h=i==null?void 0:i.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,u=(p=i==null?void 0:i.title)==null?void 0:p.stringValue;n.push({_id:o,title:u,description:l,researchArea:c,projects:d})});await Promise.all(r),rt.dispatch(QB(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function M5(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=xe(W,"research_subitems",t);await rn(n);const r=xe(W,"ResearchArea",e);await ot(r,{subareas:IT(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const V5=()=>{const t=K(d=>{var u;return(u=d.getresearcharea)==null?void 0:u.data}),[e,n]=T.useState(null),[r,s]=T.useState(""),[i,o]=T.useState(!1);T.useEffect(()=>{Xc(),Ef()},[]);const l=d=>{if(d.target.files&&d.target.files.length>0){const u=new FileReader;u.onload=()=>{n(u.result)},u.readAsDataURL(d.target.files[0])}},c=async()=>{if(!e||!r){k("danger","Please select an image and provide a title!");return}o(!0);const d=Ce(Ae,`research_areas_images/${r}`),u=await fetch(e).then(h=>h.blob());try{await $r(d,u),await Ye(re(W,"ResearchArea"),{title:r,subareas:[]}),k("success","Research area has been saved!"),k("info","Info! You can add sub-areas later."),s(""),n(null),o(!1),location.reload()}catch{k("danger","Error! While uploading image, Please check your internet connection and try again."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Research Area"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-shade2",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, it will be show in main website page to."}),a.jsx("li",{children:"You can modify any Research area for example you can add more details of the Research Area by adding Sub Areas."})]})]}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((d,u)=>a.jsxs("tr",{children:[a.jsx("td",{children:u+1}),a.jsx("td",{children:d==null?void 0:d.title}),a.jsx("td",{children:a.jsx(te,{to:d._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:d==null?void 0:d.bannerURL,children:a.jsx("img",{className:"rounded-2",src:d.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>L5(d._id),children:"Delete"})})})]})})]},u))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:d=>s(d.target.value),disabled:i,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]}),a.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:a.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),a.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},ma=async()=>{try{const t=re(W,"projects_items"),e=await _e(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(h=i==null?void 0:i.title)==null?void 0:h.stringValue,c=(f=i==null?void 0:i.pptLink)==null?void 0:f.stringValue,d=(p=i==null?void 0:i.pdfLink)==null?void 0:p.stringValue,u=l?await F5(l):null;n.push({_id:o,title:l,bannerURL:u,pdfLink:d,pptLink:c})});await Promise.all(r),rt.dispatch(XB(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},F5=async t=>{try{const e=Ce(Ae,`project_items_images/${t}`);return await Br(e)}catch{return null}};async function U5(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=xe(W,"projects_items",t),s=(await tr(e)).data().banner;if(await rn(e),s){const c=Ce(Ae,`projects_items_images/${s}`);await yr(c)}const i=re(W,"research_subitems"),l=(await _e(i)).docs.map(async c=>{const d=c.ref;await ot(d,{projects:IT(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch{alert("Error deleting ProjectsItems!")}}}const $5=()=>{const{id:t}=Ur();T.useEffect(()=>{Ef(),Xc(),ma()},[]);const n=K(b=>{var m;return(m=b.getresearcharea)==null?void 0:m.data}).find(b=>b._id===t);if(!n){window.history.back();return}const r=K(b=>b.getsubareas).data,s=(n==null?void 0:n.subareas)||[],i=r==null?void 0:r.filter(b=>s.some(m=>m.stringValue===(b==null?void 0:b._id))),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState([]),g=K(b=>{var m;return(m=b.getprojectitems)==null?void 0:m.data}),y=async()=>{if(!o){k("danger","Please select an image and provide a title!");return}h(!0);try{const m=(await Ye(re(W,"research_subitems"),{title:o,researcharea:n._id,description:c,projects:f})).id;await ot(xe(W,"ResearchArea",n._id),{subareas:WV(m)}),k("success","Subitem has been saved!"),l(""),d(""),p([]),h(!1),window.location.reload()}catch{k("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later.")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-shade2",children:n==null?void 0:n.title}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100 my-2",children:a.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:i==null?void 0:i.map((b,m)=>{var x;return a.jsxs("tr",{children:[a.jsx("td",{children:m+1}),a.jsx("td",{children:b==null?void 0:b.title}),a.jsx("td",{children:b==null?void 0:b.description}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(x=b==null?void 0:b.projects)==null?void 0:x.map((v,E)=>{const S=g==null?void 0:g.find(j=>(j==null?void 0:j._id)==(v==null?void 0:v.stringValue));return a.jsxs("div",{children:[E+1,". ",S==null?void 0:S.title," (",a.jsx(te,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>M5(b._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!i.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:b=>l(b.target.value),disabled:u,value:o})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:b=>d(b.target.value),disabled:u,placeholder:"describe in some words.."})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),a.jsxs("select",{name:"project",className:"form-control",onChange:b=>{const m=b.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[a.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((b,m)=>a.jsx("option",{value:b==null?void 0:b._id,children:b==null?void 0:b.title},m))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:f==null?void 0:f.map((b,m)=>{const x=g==null?void 0:g.find(v=>(v==null?void 0:v._id)==b);return a.jsxs("tr",{children:[a.jsx("th",{children:m+1}),a.jsx("th",{children:x==null?void 0:x.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(v=>v!==b))},children:"Remove"})})]})})})]}),!f.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:y,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},B5=()=>{const t=K(p=>{var g;return(g=p.getprojectitems)==null?void 0:g.data}),[e,n]=T.useState(null),[r,s]=T.useState(""),[i,o]=T.useState(""),[l,c]=T.useState(""),[d,u]=T.useState(!1);T.useEffect(()=>{ma()},[]);const h=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},f=async()=>{if(!e||!r){k("danger","Please select an image and provide a title!");return}u(!0);const p=Ce(Ae,`project_items_images/${r}`),g=await fetch(e).then(y=>y.blob());try{await $r(p,g),await Ye(re(W,"projects_items"),{title:r,pptLink:i,pdfLink:l}),k("success","Project has been saved!"),s(""),c(""),o(""),n(null),u(!1),location.reload()}catch{k("danger","Error uploading image, Try Again!"),s(""),c(""),o(""),n(null),u(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-shade2",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, you can use these in Research Projects and Datasets."}),a.jsx("li",{children:"Please do not delete any, if it is already associated with any Research Project and Dataset."})]})]}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p==null?void 0:p.title}),a.jsx("td",{children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx(te,{to:p==null?void 0:p.pdfLink,target:"_blank",children:"PDF Link"})}),a.jsx("li",{children:a.jsx(te,{to:p==null?void 0:p.pptLink,target:"_blank",children:"PPT Link"})})]})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:p==null?void 0:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>U5(p._id),children:"Delete"})})})]})})]},g))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:d,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>o(p.target.value),disabled:d,value:i||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>c(p.target.value),disabled:d,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:d})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Jc=async()=>{try{const t=re(W,"projects_main"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,...i})});await Promise.all(r),rt.dispatch(JB(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function z5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=xe(W,"projects_main",t);await rn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch{alert("Error deleting ProjectsMain!")}}}const H5=`Type of Project(Sponsored/Consultancy),Project Title,Funding Agency,Funding Amount in Inr.,JRF/PHD Scholars,Project Description(100 to 400 words),Names of the PI (comma separated),Names of the Co-PI (comma separated)
`,q5=`Consultancy,"Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",SERB-CRG,4500000,Kuldeep Marotirao Biradar,"The proposed system removes the onus of detecting aberrance situations from the manual operator; and rather, places it on the video surveillance system. The present technologies are fails to recognize aberration in video sequences. These aberrances occur over a small-time window. Thus, recognizing with its timeframe from a big visual data is really challenging task. Hence, our focus is on problems, where we are given a set of nominal training videos samples. Based on these samples need to determine whether or not a test video contains an aberration and what instant it occurs. Similarly, we aim to significantly reduce the time and human effort by automating the task and improving the accuracy by recognizing aberrances with its timestamp. Further, exploit the aberrance activity of the object by modeling the rich motion patterns in selected region, effectively capturing the underlying intrinsic structure they form in the video. Implementation of this system can be beneficial for intelligent agencies, banks, departmental stores, traffic monitoring on highway, airport terminal check-in, sports, medical field, and robotics etc.",Dr. Santosh Kumar Vipparthi,NA
`,ij={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},W5=()=>{var y,b,m,x;const t=K(v=>v.getauth),[e,n]=T.useState(!1),r=K(v=>v.getsupervisors.data),s=K(v=>{var E;return(E=v.getprojectitems)==null?void 0:E.data}),i=K(v=>{var E;return(E=v.getdatasets)==null?void 0:E.data}),o=K(v=>{var E;return(E=v.getprojectsmain)==null?void 0:E.data}),[l,c]=T.useState(t!=null&&t.userType.includes("SUPERVISOR")?[t==null?void 0:t.email]:[]),[d,u]=T.useState(ij);T.useEffect(()=>{pa(),ma(),Jc()},[]);const h=v=>{const{id:E,value:S}=v.target;u(j=>({...j,[E]:S}))},f=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!l){k("danger","Please fill out all fields.");return}n(!0);try{await Ye(re(W,"projects_main"),{...d,users:l}),k("success","Project has been saved!"),u(ij),n(!1),window.location.reload()}catch{k("danger","Error! Failed to save project, Try again.")}},p=t==null?void 0:t.userType.includes("SUPERVISOR"),g=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("div",{className:"d-flex gap-2",children:(p||g)&&a.jsxs(a.Fragment,{children:[" ",a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),a.jsxs("button",{className:"btn btn-shade1 btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:o==null?void 0:o.map((v,E)=>{var j,I,w,_,N,P,C,R,V,B,L,A,D,M,U;const S=(I=(j=v==null?void 0:v.users)==null?void 0:j.arrayValue)==null?void 0:I.values.some(z=>(z==null?void 0:z.stringValue)==t.email);return a.jsxs("tr",{children:[a.jsx("td",{children:E+1}),a.jsx("td",{className:"fw-bold text-shade2",children:a.jsx("span",{children:(w=v==null?void 0:v.title)==null?void 0:w.stringValue})}),a.jsxs("td",{children:[a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"PIs:"})," ",a.jsx("p",{children:(_=v==null?void 0:v.pis)==null?void 0:_.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Co-PIs:"})," ",a.jsx("p",{children:(N=v==null?void 0:v.copis)==null?void 0:N.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Funding Agency:"})," ",a.jsx("p",{children:(P=v==null?void 0:v.funding_agency)==null?void 0:P.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Total Fund(Inr):"})," ",a.jsxs("p",{children:["Rs. ",(C=v==null?void 0:v.total_fund)==null?void 0:C.stringValue]})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Ph.D./JRF Students:"})," ",a.jsx("p",{children:(R=v==null?void 0:v.jrf_phd_scholar)==null?void 0:R.stringValue})]})]}),a.jsx("td",{children:a.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(V=v==null?void 0:v.description)==null?void 0:V.stringValue})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(A=(L=(B=v==null?void 0:v.related_datasets)==null?void 0:B.arrayValue)==null?void 0:L.values)==null?void 0:A.map((z,O)=>{const F=i==null?void 0:i.find(Z=>(Z==null?void 0:Z._id)==(z==null?void 0:z.stringValue));return a.jsxs("div",{children:[O+1,". ",F==null?void 0:F.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(F==null?void 0:F._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(F==null?void 0:F._id)+"Modal",tabIndex:-1,"aria-labelledby":(F==null?void 0:F._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(F==null?void 0:F._id)+"ModalLabel",children:F==null?void 0:F.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:F==null?void 0:F.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+E,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:F==null?void 0:F.images.map((Z,se)=>a.jsx("div",{className:`carousel-item ${se===0&&"active"}`,children:a.jsx("img",{src:Z==null?void 0:Z.url,className:"d-block w-100",alt:"This is image"})},se))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+E,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+E,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(U=(M=(D=v==null?void 0:v.related_projectitems)==null?void 0:D.arrayValue)==null?void 0:M.values)==null?void 0:U.map((z,O)=>{const F=s==null?void 0:s.find(Z=>(Z==null?void 0:Z._id)==(z==null?void 0:z.stringValue));return a.jsxs("div",{children:[O+1,". ",F==null?void 0:F.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(F==null?void 0:F._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(F==null?void 0:F._id)+"Modal",tabIndex:-1,"aria-labelledby":(F==null?void 0:F._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(F==null?void 0:F._id)+"ModalLabel",children:[F==null?void 0:F.title,"("," ",a.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:F==null?void 0:F.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(te,{to:F==null?void 0:F.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:F==null?void 0:F.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:S&&p?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-dark",to:"video/"+(v==null?void 0:v._id),children:"Upload Video"})})," ",a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-success",to:"images/"+(v==null?void 0:v._id),children:"Add Images"})})," ",a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-primary",to:v==null?void 0:v._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>z5(v._id),children:"Delete"})})]}):"NA"})]})})]},E)})})]}),!o.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:v=>{const E=v.target.value;!l||E===""||(l.includes(E)?alert("User with this name already existed."):c([...l,E]))},disabled:!g&&p,children:[a.jsx("option",{value:"",children:"--select user--"}),r==null?void 0:r.map((v,E)=>{var S,j,I,w;return a.jsxs("option",{value:(S=v==null?void 0:v.data)==null?void 0:S.email,selected:!g&&p&&((j=v==null?void 0:v.data)==null?void 0:j.email)===(t==null?void 0:t.email),children:[(I=v==null?void 0:v.data)==null?void 0:I.name,"-",(w=v==null?void 0:v.data)==null?void 0:w.email]},E)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:l==null?void 0:l.map((v,E)=>a.jsxs("span",{className:"badge bg-success",children:[v," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!g&&p)&&confirm("Are you sure want to remove?")){const S=l.filter(j=>j!==v);c(S)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},E))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:h,value:d.title,disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:h,value:d.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:h,value:d.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:d.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:d.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:h,value:d.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:h,value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:h,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:v=>{const E=v.target.value;E!==""&&(d.related_datasets.includes(E)||u(S=>({...S,related_datasets:[...S.related_datasets,E]})))},value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),i==null?void 0:i.map((v,E)=>a.jsx("option",{value:v==null?void 0:v._id,children:v==null?void 0:v.title},E))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(y=d.related_datasets)==null?void 0:y.map((v,E)=>{const S=i==null?void 0:i.find(j=>(j==null?void 0:j._id)==v);return a.jsxs("tr",{children:[a.jsx("th",{children:E+1}),a.jsx("th",{children:S==null?void 0:S.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(j=>{var I;return{...j,related_datasets:(I=d==null?void 0:d.related_datasets)==null?void 0:I.filter(w=>w!==v)}})},children:"Remove"})})]})})})]}),!((b=d.related_datasets)!=null&&b.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:v=>{const E=v.target.value;E!==""&&(d.related_projectitems.includes(E)||u(S=>({...S,related_projectitems:[...S.related_projectitems,E]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((v,E)=>a.jsx("option",{value:v==null?void 0:v._id,children:v==null?void 0:v.title},E))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(m=d.related_projectitems)==null?void 0:m.map((v,E)=>{const S=s==null?void 0:s.find(j=>(j==null?void 0:j._id)==v);return a.jsxs("tr",{children:[a.jsx("th",{children:E+1}),a.jsx("th",{children:S==null?void 0:S.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(j=>{var I;return{...j,related_projectitems:(I=d==null?void 0:d.related_projectitems)==null?void 0:I.filter(w=>w!==v)}})},children:"Remove"})})]})})})]}),!((x=d.related_projectitems)!=null&&x.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]}),a.jsxs("div",{className:"alert alert-warning rounded-0 my-3",children:[a.jsx("strong",{children:"Note:"})," You can upload ",a.jsx("i",{children:"Images"})," related to project later."]}),a.jsx("button",{type:"button",className:"btn btn-shade1 w-100 p-3",onClick:f,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})}),a.jsx(G5,{getsupervisors:r,isAdmin:g,isSupervisor:p,getauth:t})]})},G5=({getsupervisors:t,isAdmin:e,isSupervisor:n,getauth:r})=>{const[s,i]=T.useState(!1),[o,l]=T.useState(r!=null&&r.userType.includes("SUPERVISOR")?[r==null?void 0:r.email]:[]),[c,d]=T.useState([]),u=p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];g&&FC.parse(g,{complete:b=>{const m=b.data.filter(x=>Object.values(x).some(v=>v!==""));d(m)},header:!0})},h=async p=>{try{return!(await _e(jt(re(W,"projects_main"),Gn("title","==",p)))).empty}catch{return!1}},f=async p=>{if(p.preventDefault(),!o.length){k("danger","Please select supervisors!");return}if(!c.length){k("danger","Invalid CSV File Selected.");return}i(!0);const g=c.map(async y=>{const b=Object.values(y);if(!await h(b[2]))return Ye(re(W,"projects_main"),{title:b[1],description:b[5],funding_agency:b[2],pis:b[6],copis:b[7],jrf_phd_scholar:b[4],related_datasets:[],related_projectitems:[],total_fund:b[3],type:b[0],users:o})});await Promise.all(g),k("success","Projects have been saved!"),k("info","Note: You can upload Images related to project later."),i(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Projects"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:p=>{const g=p.target.value;!o||g===""||(o.includes(g)?alert("User with this name already existed."):l([...o,g]))},disabled:!e&&n,children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((p,g)=>{var y,b,m,x;return a.jsxs("option",{value:(y=p==null?void 0:p.data)==null?void 0:y.email,selected:!e&&n&&r.email===((b=p==null?void 0:p.data)==null?void 0:b.email),children:[(m=p==null?void 0:p.data)==null?void 0:m.name,"-",(x=p==null?void 0:p.data)==null?void 0:x.email]},g)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:o==null?void 0:o.map((p,g)=>a.jsxs("span",{className:"badge bg-success",children:[p," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!e&&n)&&confirm("Are you sure want to remove?")){const y=o.filter(b=>b!==p);l(y)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},g))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>UC(H5,q5,"sample_projects_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:u})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:c.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(c[0]).map(p=>a.jsx("th",{children:p},p))})}),a.jsx("tbody",{children:c.map((p,g)=>a.jsx("tr",{children:Object.values(p).map((y,b)=>a.jsx("td",{children:y},b))},g))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:s,onClick:f,children:s?"Please Wait...":"Submit"})]})]})})})};var oA={exports:{}},K5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Y5=K5,Q5=Y5;function lA(){}function cA(){}cA.resetWarningCache=lA;var X5=function(){function t(r,s,i,o,l,c){if(c!==Q5){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cA,resetWarningCache:lA};return n.PropTypes=n,n};oA.exports=X5();var J5=oA.exports;const Xe=_o(J5);function Z5(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var dA=T,e6=Z5(dA);function aj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var n6=!!(typeof window<"u"&&window.document&&window.document.createElement);function r6(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=t(o.map(function(u){return u.props})),d.canUseDOM?e(l):n&&(l=n(l))}var d=function(u){t6(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,o=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),c()},f.render=function(){return e6.createElement(i,this.props)},h}(dA.PureComponent);return aj(d,"displayName","SideEffect("+r(i)+")"),aj(d,"canUseDOM",n6),d}}var s6=r6;const i6=_o(s6);var a6=typeof Element<"u",o6=typeof Map=="function",l6=typeof Set=="function",c6=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function eu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!eu(t[r],e[r]))return!1;return!0}var i;if(o6&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!eu(r.value[1],e.get(r.value[0])))return!1;return!0}if(l6&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(c6&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(a6&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!eu(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var d6=function(e,n){try{return eu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const u6=_o(d6);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var oj=Object.getOwnPropertySymbols,h6=Object.prototype.hasOwnProperty,f6=Object.prototype.propertyIsEnumerable;function p6(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function m6(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var g6=m6()?Object.assign:function(t,e){for(var n,r=p6(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)h6.call(n,o)&&(r[o]=n[o]);if(oj){s=oj(n);for(var l=0;l<s.length;l++)f6.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const v6=_o(g6);var Oi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},pe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(pe).map(function(t){return pe[t]});var Ze={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},lh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},wc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},y6=Object.keys(lh).reduce(function(t,e){return t[lh[e]]=e,t},{}),x6=[pe.NOSCRIPT,pe.SCRIPT,pe.STYLE],dr="data-react-helmet",b6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w6=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_6=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),yn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j6=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},lj=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},E6=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},zg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},N6=function(e){var n=eo(e,pe.TITLE),r=eo(e,wc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=eo(e,wc.DEFAULT_TITLE);return n||s||void 0},S6=function(e){return eo(e,wc.ON_CHANGE_CLIENT_STATE)||function(){}},Mp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return yn({},r,s)},{})},T6=function(e,n){return n.filter(function(r){return typeof r[pe.BASE]<"u"}).map(function(r){return r[pe.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Zo=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&P6("Helmet: "+e+' should be of type "Array". Instead found type "'+b6(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(f){for(var p=void 0,g=Object.keys(f),y=0;y<g.length;y++){var b=g[y],m=b.toLowerCase();n.indexOf(m)!==-1&&!(p===Ze.REL&&f[p].toLowerCase()==="canonical")&&!(m===Ze.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(b)!==-1&&(b===Ze.INNER_HTML||b===Ze.CSS_TEXT||b===Ze.ITEM_PROP)&&(p=b)}if(!p||!f[p])return!1;var x=f[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][x]?!1:(l[p][x]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=v6({},s[u],l[u]);s[u]=h}return i},[]).reverse()},eo=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},I6=function(e){return{baseTag:T6([Ze.HREF,Ze.TARGET],e),bodyAttributes:Mp(Oi.BODY,e),defer:eo(e,wc.DEFER),encode:eo(e,wc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Mp(Oi.HTML,e),linkTags:Zo(pe.LINK,[Ze.REL,Ze.HREF],e),metaTags:Zo(pe.META,[Ze.NAME,Ze.CHARSET,Ze.HTTPEQUIV,Ze.PROPERTY,Ze.ITEM_PROP],e),noscriptTags:Zo(pe.NOSCRIPT,[Ze.INNER_HTML],e),onChangeClientState:S6(e),scriptTags:Zo(pe.SCRIPT,[Ze.SRC,Ze.INNER_HTML],e),styleTags:Zo(pe.STYLE,[Ze.CSS_TEXT],e),title:N6(e),titleAttributes:Mp(Oi.TITLE,e)}},Hg=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Hg(e)},0)}}(),cj=function(e){return clearTimeout(e)},C6=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Hg:global.requestAnimationFrame||Hg,A6=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||cj:global.cancelAnimationFrame||cj,P6=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},el=null,k6=function(e){el&&A6(el),e.defer?el=C6(function(){dj(e,function(){el=null})}):(dj(e),el=null)},dj=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,d=e.onChangeClientState,u=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;qg(pe.BODY,s),qg(pe.HTML,i),R6(f,p);var g={baseTag:ba(pe.BASE,r),linkTags:ba(pe.LINK,o),metaTags:ba(pe.META,l),noscriptTags:ba(pe.NOSCRIPT,c),scriptTags:ba(pe.SCRIPT,u),styleTags:ba(pe.STYLE,h)},y={},b={};Object.keys(g).forEach(function(m){var x=g[m],v=x.newTags,E=x.oldTags;v.length&&(y[m]=v),E.length&&(b[m]=g[m].oldTags)}),n&&n(),d(e,y,b)},uA=function(e){return Array.isArray(e)?e.join(""):e},R6=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=uA(e)),qg(pe.TITLE,n)},qg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(dr),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var d=l[c],u=n[d]||"";r.getAttribute(d)!==u&&r.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);i.length===o.length?r.removeAttribute(dr):r.getAttribute(dr)!==l.join(",")&&r.setAttribute(dr,l.join(","))}},ba=function(e,n){var r=document.head||document.querySelector(pe.HEAD),s=r.querySelectorAll(e+"["+dr+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(e);for(var u in c)if(c.hasOwnProperty(u))if(u===Ze.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===Ze.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(dr,"true"),i.some(function(f,p){return l=p,d.isEqualNode(f)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:o}},hA=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},D6=function(e,n,r,s){var i=hA(r),o=uA(n);return i?"<"+e+" "+dr+'="true" '+i+">"+zg(o,s)+"</"+e+">":"<"+e+" "+dr+'="true">'+zg(o,s)+"</"+e+">"},O6=function(e,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(d){return!(d===Ze.INNER_HTML||d===Ze.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+zg(i[u],r)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=x6.indexOf(e)===-1;return s+"<"+e+" "+dr+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},fA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[lh[s]||s]=e[s],r},n)},L6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[y6[s]||s]=e[s],r},n)},M6=function(e,n,r){var s,i=(s={key:n},s[dr]=!0,s),o=fA(r,i);return[Re.createElement(pe.TITLE,o,n)]},V6=function(e,n){return n.map(function(r,s){var i,o=(i={key:s},i[dr]=!0,i);return Object.keys(r).forEach(function(l){var c=lh[l]||l;if(c===Ze.INNER_HTML||c===Ze.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=r[l]}),Re.createElement(e,o)})},qr=function(e,n,r){switch(e){case pe.TITLE:return{toComponent:function(){return M6(e,n.title,n.titleAttributes)},toString:function(){return D6(e,n.title,n.titleAttributes,r)}};case Oi.BODY:case Oi.HTML:return{toComponent:function(){return fA(n)},toString:function(){return hA(n)}};default:return{toComponent:function(){return V6(e,n)},toString:function(){return O6(e,n,r)}}}},pA=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,d=e.scriptTags,u=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:qr(pe.BASE,n,s),bodyAttributes:qr(Oi.BODY,r,s),htmlAttributes:qr(Oi.HTML,i,s),link:qr(pe.LINK,o,s),meta:qr(pe.META,l,s),noscript:qr(pe.NOSCRIPT,c,s),script:qr(pe.SCRIPT,d,s),style:qr(pe.STYLE,u,s),title:qr(pe.TITLE,{title:f,titleAttributes:p},s)}},F6=function(e){var n,r;return r=n=function(s){j6(i,s);function i(){return w6(this,i),E6(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!u6(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case pe.SCRIPT:case pe.NOSCRIPT:return{innerHTML:c};case pe.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return yn({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[yn({},h,this.mapNestedChildrenToProps(d,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(u.type){case pe.TITLE:return yn({},h,(c={},c[u.type]=p,c.titleAttributes=yn({},f),c));case pe.BODY:return yn({},h,{bodyAttributes:yn({},f)});case pe.HTML:return yn({},h,{htmlAttributes:yn({},f)})}return yn({},h,(d={},d[u.type]=yn({},f),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=yn({},c);return Object.keys(l).forEach(function(u){var h;d=yn({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return Re.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=lj(f,["children"]),y=L6(g);switch(d.warnOnInvalidChildren(h,p),h.type){case pe.LINK:case pe.META:case pe.NOSCRIPT:case pe.SCRIPT:case pe.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:y,nestedChildren:p});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:y,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=lj(l,["children"]),u=yn({},d);return c&&(u=this.mapChildrenToProps(c,u)),Re.createElement(e,u)},_6(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Re.Component),n.propTypes={base:Xe.object,bodyAttributes:Xe.object,children:Xe.oneOfType([Xe.arrayOf(Xe.node),Xe.node]),defaultTitle:Xe.string,defer:Xe.bool,encodeSpecialCharacters:Xe.bool,htmlAttributes:Xe.object,link:Xe.arrayOf(Xe.object),meta:Xe.arrayOf(Xe.object),noscript:Xe.arrayOf(Xe.object),onChangeClientState:Xe.func,script:Xe.arrayOf(Xe.object),style:Xe.arrayOf(Xe.object),title:Xe.string,titleAttributes:Xe.object,titleTemplate:Xe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=pA({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},U6=function(){return null},$6=i6(I6,k6,pA)(U6),zt=F6($6);zt.renderStatic=zt.rewind;const B6=()=>{var u;const[t,e]=T.useState(!1);T.useEffect(()=>{(async()=>{e(!0),await Oo(),await fs(),e(!1)})()},[]);const{id:n}=Ur(),s=K(h=>h.getpublications.data).filter(h=>h._id==n)[0],[i,o]=T.useState(s==null?void 0:s.data),l=(u=s==null?void 0:s.data)==null?void 0:u.users,c=h=>{h.preventDefault(),o({...i,[h.target.name]:h.target.value})},d=h=>{if(h.preventDefault(),!i||!l){k("danger","Please fill all required fields!");return}e(!0);const f=xe(W,"publications",s==null?void 0:s._id);ot(f,{...i}).then(()=>{k("success","Publication has been updated!"),e(!1),window.location.href="/CVPR_LAB/#/dashboard/publications"}).catch(()=>{k("danger","Error updating publication, Try again."),e(!1)})};if(!s){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Publication"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>window.location.href="/CVPR_LAB/#/dashboard/publications",children:"Back to Publications"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs("form",{onSubmit:d,noValidate:!0,children:[a.jsx("div",{className:"",children:z6.map((h,f)=>h.type==="textarea"?a.jsxs(a.Fragment,{children:[" ",a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:h.text}),a.jsx("textarea",{className:"form-control",name:h.name,rows:10,value:i[h.name],onChange:c,disabled:t||(h==null?void 0:h.disabled)},f)]})," "]}):a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:h.text}),a.jsx("input",{className:"form-control",type:h.type,name:h.name,onChange:c,value:i[h.name],disabled:t||(h==null?void 0:h.disabled)},f)]}))}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",children:"Submit"})]})})]})})},z6=[{text:"Title of Paper",name:"title",type:"text",disabled:!0},{text:"Author(s)",name:"author",type:"text"},{text:"Year",name:"year",type:"number"},{text:"Journal",name:"journal",type:"text"},{text:"Volume",name:"volume",type:"text"},{text:"Number",name:"number",type:"text"},{text:"Pages",name:"pages",type:"text"},{text:"Abstract",name:"abstract",type:"textarea"},{text:"Keywords",name:"keywords",type:"textarea"},{text:"DOI",name:"doi",type:"text",disabled:!0},{text:"ISSN",name:"issn",type:"text"},{text:"Month",name:"month",type:"text"}],H6=()=>{var p,g,y,b,m,x,v,E,S,j,I;const{id:t}=Ur(),e=K(w=>w.getsupervisors.data),n=e==null?void 0:e.filter(w=>(w==null?void 0:w._id)==t)[0],[r,s]=T.useState(!1),[i,o]=T.useState(),[l,c]=T.useState({name:(p=n==null?void 0:n.data)==null?void 0:p.name,email:(g=n==null?void 0:n.data)==null?void 0:g.email,phone:(y=n==null?void 0:n.data)==null?void 0:y.phone,researchInterests:(b=n==null?void 0:n.data)==null?void 0:b.researchInterests,introduction:(m=n==null?void 0:n.data)==null?void 0:m.introduction,accomplishments:(x=n==null?void 0:n.data)==null?void 0:x.accomplishments,designation:(v=n==null?void 0:n.data)==null?void 0:v.designation,professional_affiliation:(E=n==null?void 0:n.data)==null?void 0:E.professional_affiliation,teaching:(S=n==null?void 0:n.data)==null?void 0:S.teaching,links:(j=n==null?void 0:n.data)==null?void 0:j.links}),[d,u]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{fs()},[]);const h=w=>{const{name:_,value:N}=w.target;c(P=>({...P,[_]:N}))},f=async()=>{var M,U;const{name:w,email:_,phone:N,researchInterests:P,introduction:C,accomplishments:R,designation:V,links:B,professional_affiliation:L,teaching:A}=l;if(!w||!_||!N||!P||!C||!R||!V||!B||!L||!A){k("danger","Error! Please fill all required fields.");return}s(!0);const D=xe(W,"supervisors",n==null?void 0:n._id);if(i){if(n&&n.data&&n.data.profileImage){const O=Ce(Ae,`/peoples/supervisor_profile_images/${(U=(M=n==null?void 0:n.data)==null?void 0:M.profileImage)==null?void 0:U.stringValue}`);try{await yr(O)}catch{}}const z=Ce(Ae,`/peoples/supervisor_profile_images/${w}_${i.name}`);try{await $r(z,i),k("info","Profile image uploaded successfully");const O=`${w}_${i.name}`;await ot(D,{...l,profileImage:O}),k("success","Supervisor details updated with profile image successfully."),window.location.href="/CVPR_LAB/#/dashboard"}catch{k("warning","Error! while uploading profile image, check your internet connection and try again."),s(!1);return}}else try{await ot(D,{...l}),k("success","Supervisor details updated successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{k("danger","Error updating supervisor details."),s(!1);return}s(!1)};if(!n){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Supervisor"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),a.jsx("hr",{}),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"col-sm-12 mb-3",children:a.jsxs("div",{className:"col-sm-2",children:[" ",a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("span",{className:"text-shade2",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("span",{className:"text-shade2",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:h})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",a.jsx("span",{className:"text-shade2",children:"aspect ratio 3:4 only"}),")"]}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:w=>{var N;const _=(N=w.target.files)==null?void 0:N[0];o(_)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",a.jsx("span",{className:"text-shade2",children:"Use comma separated for multiple"}),")"]}),a.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:h,rows:4})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:l.teaching||"",onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:l.accomplishments,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:l.professional_affiliation,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:w=>u({linkName:w.target.value,linkURL:d.linkURL}),value:d.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:w=>u({linkName:d.linkName,linkURL:w.target.value}),value:d.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!d.linkName||!d.linkURL){k("danger","Link Name and URL are required fields.");return}if(l.links.includes(d)){k("danger","This link already exists.");return}c({...l,links:[...l.links,d]}),u({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(I=l==null?void 0:l.links)==null?void 0:I.map((w,_)=>a.jsxs("tr",{children:[a.jsx("th",{children:_+1}),a.jsx("th",{children:w==null?void 0:w.linkName}),a.jsx("th",{children:a.jsx("a",{href:w==null?void 0:w.linkURL,target:"_blank",children:w==null?void 0:w.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&c({...l,links:l==null?void 0:l.links.filter(N=>N.linkName!==(w==null?void 0:w.linkName))})},children:"Remove"})})]}))})]}),!(l!=null&&l.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]}),a.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},q6={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},W6=()=>{var m,x,v,E,S,j,I,w,_,N,P,C,R,V,B,L,A,D,M,U,z;const{id:t}=Ur(),[e,n]=T.useState(!1),r=K(O=>{var F;return(F=O.getprojectitems)==null?void 0:F.data}),s=K(O=>{var F;return(F=O.getdatasets)==null?void 0:F.data}),i=K(O=>O.getsupervisors.data),o=K(O=>{var F;return(F=O.getprojectsmain)==null?void 0:F.data}),l=o==null?void 0:o.filter(O=>(O==null?void 0:O._id)==t)[0],c=[];(v=(x=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:x.values)==null||v.map(O=>{c==null||c.push(O.stringValue)});const d=[];(j=(S=(E=l==null?void 0:l.related_projectitems)==null?void 0:E.arrayValue)==null?void 0:S.values)==null||j.map(O=>{d==null||d.push(O.stringValue)});const[u,h]=T.useState({title:(I=l==null?void 0:l.title)==null?void 0:I.stringValue,description:(w=l==null?void 0:l.description)==null?void 0:w.stringValue,funding_agency:(_=l==null?void 0:l.description)==null?void 0:_.stringValue,pis:(N=l==null?void 0:l.pis)==null?void 0:N.stringValue,copis:(P=l==null?void 0:l.copis)==null?void 0:P.stringValue,jrf_phd_scholar:(C=l==null?void 0:l.jrf_phd_scholar)==null?void 0:C.stringValue,related_datasets:c,related_projectitems:d,total_fund:(R=l==null?void 0:l.total_fund)==null?void 0:R.stringValue,type:(V=l==null?void 0:l.type)==null?void 0:V.stringValue}),f=[];(A=(L=(B=l==null?void 0:l.users)==null?void 0:B.arrayValue)==null?void 0:L.values)==null||A.map(O=>{f==null||f.push(O.stringValue)});const[p,g]=T.useState(f);T.useEffect(()=>{pa(),ma(),Jc()},[]);const y=O=>{const{id:F,value:Z}=O.target;h(se=>({...se,[F]:Z}))},b=async()=>{if(!u.title||!u.description||!u.type||!u.copis||!u.total_fund||!u.funding_agency||!u.pis||!u.jrf_phd_scholar||!p){k("danger","Please fill out all fields.");return}n(!0);try{const O=xe(W,"projects_main",l==null?void 0:l._id);await ot(O,{...u,users:p}),k("success","Project has been saved!"),h(q6),n(!1),window.location.href="/CVPR_LAB/#/dashboard/projects"}catch{k("danger","Error! while editing the Project, Try again.")}};if(!l){history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:O=>{const F=O.target.value;!p||F===""||(p.includes(F)?alert("User with this name already existed."):g([...p,F]))},children:[a.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((O,F)=>{var Z,se,fe;return a.jsxs("option",{value:(Z=O==null?void 0:O.data)==null?void 0:Z.email,children:[(se=O==null?void 0:O.data)==null?void 0:se.name,"-",(fe=O==null?void 0:O.data)==null?void 0:fe.email]},F)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((O,F)=>a.jsxs("span",{className:"badge bg-success",children:[O," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const Z=p.filter(se=>se!==O);g(Z)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},F))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:y,value:u.title,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:y,value:u.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:y,value:u.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:y,value:u.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:y,value:u.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:y,value:u.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:y,value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:y,value:u.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:O=>{const F=O.target.value;F!==""&&(u.related_datasets.includes(F)||h(Z=>({...Z,related_datasets:[...Z.related_datasets,F]})))},value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((O,F)=>a.jsx("option",{value:O==null?void 0:O._id,children:O==null?void 0:O.title},F))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(D=u.related_datasets)==null?void 0:D.map((O,F)=>{const Z=s==null?void 0:s.find(se=>(se==null?void 0:se._id)==O);return a.jsxs("tr",{children:[a.jsx("th",{children:F+1}),a.jsx("th",{children:Z==null?void 0:Z.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(se=>{var fe;return{...se,related_datasets:(fe=u==null?void 0:u.related_datasets)==null?void 0:fe.filter(be=>be!==O)}})},children:"Remove"})})]})})})]}),!((M=u.related_datasets)!=null&&M.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:O=>{const F=O.target.value;F!==""&&(u.related_projectitems.includes(F)||h(Z=>({...Z,related_projectitems:[...Z.related_projectitems,F]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((O,F)=>a.jsx("option",{value:O==null?void 0:O._id,children:O==null?void 0:O.title},F))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(U=u.related_projectitems)==null?void 0:U.map((O,F)=>{const Z=r==null?void 0:r.find(se=>(se==null?void 0:se._id)==O);return a.jsxs("tr",{children:[a.jsx("th",{children:F+1}),a.jsx("th",{children:Z==null?void 0:Z.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(se=>{var fe;return{...se,related_projectitems:(fe=u==null?void 0:u.related_projectitems)==null?void 0:fe.filter(be=>be!==O)}})},children:"Remove"})})]})})})]}),!((z=u.related_projectitems)!=null&&z.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsx("div",{className:"p-3 mt-4  col-sm-12",children:a.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:b,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})},Hx=async()=>{try{const t=re(W,"gallery_images"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.id.stringValue,c=i.timestamp.timestampValue,d=l?await G6(l):null;n.push({_id:o,datetime:c,bannerURL:d})});await Promise.all(r),rt.dispatch(ZB(n))}catch(t){console.error("Error fetching Gallery:",t)}},G6=async t=>{try{const e=Ce(Ae,`gallery_images/${t}`);return await Br(e)}catch{return null}};async function mA(t,e){if(!e){if(!confirm("Are you sure want to delete this item?"))return;if(t===null){alert("Invalid Gallery ID");return}}if(t!==null)try{const n=xe(W,"gallery_images",t),i=(await tr(n)).data().banner;if(await rn(n),i){const o=Ce(Ae,`gallery_images/${i}`);await yr(o)}e||(alert("Gallery item and image deleted successfully!"),location.reload())}catch{e||k("danger","Error deleting Gallery!")}}async function K6(t){for(let e=0;e<t.length;e++)await mA(t[e],!0);alert("Gallery Images deleted successfully!"),location.reload()}function qx(t){const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e.toLocaleString("en-US",n)}function Y6(t){const e=new Date(t),n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<60?`${r} min ago`:s<24?`${s} hours ago`:`${i} days ago`}function Q6(t){const e=new Date,n=new Date(t),r=Math.floor((e-n)/1e3);let s=Math.floor(r/31536e3);return s>=1?s+" year"+(s>1?"s":"")+" ago":(s=Math.floor(r/2592e3),s>=1?s+" month"+(s>1?"s":"")+" ago":(s=Math.floor(r/86400),s>=1?s+" day"+(s>1?"s":"")+" ago":(s=Math.floor(r/3600),s>=1?s+" hour"+(s>1?"s":"")+" ago":(s=Math.floor(r/60),s>=1?s+" minute"+(s>1?"s":"")+" ago":Math.floor(r)+" second"+(r>1?"s":"")+" ago"))))}const X6=()=>{const t=K(h=>h.getgallery).data,[e,n]=T.useState([]),[r,s]=T.useState(!1),[i,o]=T.useState({selectedAll:!1,selectedChecks:[]}),[l,c]=T.useState(0);T.useEffect(()=>{Hx()},[]);const d=h=>{const f=h.target.files;if(f){if(f.length>10){k("danger","Number of Images must be less than or equal to 10"),h.target.value="";return}const p=Array.from(f),g=[];p.forEach(y=>{const b=new FileReader;b.onload=()=>{typeof b.result=="string"&&g.push(b.result),g.length===p.length&&n(g)},b.readAsDataURL(y)})}},u=async()=>{if(!e.length){k("danger","Please select the images!");return}s(!0);try{const h=e.map(async f=>{const p=Mx(),g=Ce(Ae,`gallery_images/${p}`),y=await fetch(f).then(m=>m.blob()),b=gI(g,y);return new Promise((m,x)=>{b.on("state_changed",v=>{const E=(v.bytesTransferred/v.totalBytes*100).toFixed(2);c(Number(E))},v=>{k("danger","Error uploading image! Try again."),x(v)},async()=>{await Ye(re(W,"gallery_images"),{id:p,timestamp:new Date(Date.now())}),m()})})});await Promise.all(h),k("success","Images has been saved!")}catch(h){k("danger","Error uploading images!"),console.error("Error uploading images:",h)}c(0),n([]),s(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Gallery Images"}),a.jsxs("div",{children:[i.selectedChecks.length!==0&&a.jsx("button",{className:"btn btn-shade1",onClick:async()=>{confirm("Are you sure want to delete!")&&(s(!0),await K6(i.selectedChecks),k("success","Images has been deleted!"))},disabled:r,children:r?"Please Wait..":"Delete Selected("+i.selectedChecks.length+")"}),a.jsx("button",{className:"btn btn-dark rounded-0 ms-2","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("input",{type:"checkbox",className:"form-check-input me-2",name:"select_image",id:"select_image",onChange:h=>o({selectedAll:h.target.checked,selectedChecks:h.target.checked?J6(t):[]}),checked:i.selectedAll})," ",a.jsx("span",{children:"Select All "})]})}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Timestamp"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>{const p=i.selectedChecks.includes(h==null?void 0:h._id.toString());return a.jsxs("tr",{children:[a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx("input",{type:"checkbox",className:"form-check-input me-2",onChange:g=>{g.target.checked?o({selectedAll:!1,selectedChecks:[...i.selectedChecks,h==null?void 0:h._id]}):o({selectedAll:!1,selectedChecks:i.selectedChecks.filter(y=>y!=(h==null?void 0:h._id))})},checked:p})}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx(te,{target:"_blank",to:h.bannerURL,style:{width:"200px",overflow:"auto"},children:a.jsx("img",{className:"rounded-2",src:h.bannerURL,alt:"",width:"300px"})})}),a.jsxs("td",{style:{width:"10px"},className:p?"bg-secondary1":"",children:[Y6(h.datetime)," on"," ",qx(h.datetime)]}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:async()=>{await mA(h._id,!1),k("success","Image has been deleted!")},children:"Delete"})})})]})})]},f)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Gellary Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l,"%"]})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Select Images"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:r,multiple:!0})]}),a.jsxs("div",{className:"alert alert-warning",role:"alert",children:["You can only upload"," ",a.jsx("strong",{className:"fw-bold text-shade2",children:"10 Images at a time"}),"!"]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:u,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"}),a.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[a.jsxs("h4",{className:"my-2 text-shade2",children:["Preview (",e.length," selected)"]}),a.jsx("button",{className:"btn btn-sm btn-shade1",style:{height:"fit-content"},onClick:()=>n([]),children:"Remove All"})]}),a.jsx("div",{className:"my-4 d-flex justify-content-center align-items-start flex-wrap gap-2",children:e&&e.map((h,f)=>a.jsx("img",{src:h,alt:`Image ${f}`,style:{width:"300px",height:"auto",cursor:"pointer"},className:"rounded-1 shadow-lg"},f))})]})]})})})]})},J6=t=>{let e=[];return t==null||t.map(n=>{e.push(n==null?void 0:n._id)}),e},Wx=async()=>{try{const t=re(W,"project_main_images"),e=await _e(t),n=[],r=e.docs.map(async s=>{var u,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(u=i==null?void 0:i.title)==null?void 0:u.stringValue,c=(h=i==null?void 0:i.project)==null?void 0:h.stringValue,d=l?await Z6(c,l):null;n.push({_id:o,title:l,bannerURL:d,project:c})});await Promise.all(r),rt.dispatch(ez(n))}catch(t){console.error("Error fetching ProjectsImages:",t)}},Z6=async(t,e)=>{try{const n=Ce(Ae,`project_main_images/${t+e}`);return await Br(n)}catch{return null}};async function eH(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid Projects Items ID");return}try{const e=xe(W,"project_main_images",t),s=(await tr(e)).data().banner;if(await rn(e),s){const i=Ce(Ae,`project_main_images/${s}`);await yr(i)}alert("ProjectsImages item and image deleted successfully!"),location.reload()}catch{alert("Error deleting ProjectsImages!")}}}const tH=()=>{var p,g,y,b,m,x,v;const{id:t}=Ur(),e=K(E=>{var S;return(S=E.getprojectsmain)==null?void 0:S.data}),n=K(E=>{var S;return(S=E.getprojectsimages)==null?void 0:S.data}),r=e.find(E=>E._id===t),s=n.filter(E=>(E==null?void 0:E.project)===t);if(!r){history.back();return}const[i,o]=T.useState(null),[l,c]=T.useState(""),[d,u]=T.useState(!1);T.useEffect(()=>{Wx()},[]);const h=E=>{if(E.target.files&&E.target.files.length>0){const S=new FileReader;S.onload=()=>{o(S.result)},S.readAsDataURL(E.target.files[0])}},f=async()=>{if(!i||!l){k("danger","Please select an image and provide a title!");return}u(!0);const E=Ce(Ae,`project_main_images/${t+l}`),S=await fetch(i).then(j=>j.blob());try{await $r(E,S),await Ye(re(W,"project_main_images"),{title:l,project:t}),k("success","Image with title has been saved!"),c(""),o(null),u(!1),location.reload()}catch{k("danger","Error uploading image, Try Again!"),c(""),o(null),u(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:(p=r==null?void 0:r.title)==null?void 0:p.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsx("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add Image"}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(g=r==null?void 0:r.funding_agency)==null?void 0:g.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(y=r==null?void 0:r.total_fund)==null?void 0:y.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(b=r==null?void 0:r.pis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(m=r==null?void 0:r.copis)==null?void 0:m.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(x=r==null?void 0:r.jrf_phd_scholar)==null?void 0:x.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-shade2",children:"Introduction "})}),a.jsx("br",{}),(v=r==null?void 0:r.description)==null?void 0:v.stringValue]})})]})})})}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:s==null?void 0:s.map((E,S)=>a.jsxs("tr",{children:[a.jsx("td",{children:S+1}),a.jsx("td",{children:E==null?void 0:E.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:E==null?void 0:E.bannerURL,children:a.jsx("img",{className:"rounded-2",src:E==null?void 0:E.bannerURL,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>eH(E._id),children:"Delete"})})})]})})]},S))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub project_"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:E=>c(E.target.value),disabled:d,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:d})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},gA=async()=>{try{Jt.onAuthStateChanged(async t=>{if(t){const e=jt(re(W,"users"),Gn("email","==",t.email)),n=await _e(e);if(n.empty)rt.dispatch(g_());else{const s=n.docs[0].data(),{email:i,userType:o}=s,l=t==null?void 0:t.emailVerified;rt.dispatch(UB({email:i,userType:o,isVarified:l}))}}})}catch(t){console.error("Error in getUserAuth:",t),rt.dispatch(g_())}},nH=()=>{var E,S;const t=K(j=>j.getauth),e=K(j=>j.getsupervisors.data),n=K(j=>j.getphdStudents.data),[r,s]=T.useState(!1),[i,o]=T.useState(!1),[l,c]=T.useState([]),[d,u]=T.useState([]),[h,f]=T.useState({email:"",name:""}),p=async()=>{o(!0);const j=await _e(re(W,"users"));let I=[];j.forEach(async w=>{var N;const _=w.data();if((N=_==null?void 0:_.userType)!=null&&N.includes("ADMIN")){const P=_.userType;I.push({email:_.email,userType:P})}}),c(I),o(!1)},g=async()=>{o(!0),u([]);const j=await _e(re(W,"users_requests"));let I=[];j.forEach(async w=>{const _=w.data(),N=_.userType;I.push({email:_.email,userType:N})}),u(I),o(!1)};T.useEffect(()=>{var j;gA(),fa(),fs(),p(),(j=t==null?void 0:t.userType)!=null&&j.includes("ADMIN")&&g()},[]);const y=async()=>{s(!0);try{(await _e(jt(re(W,"users_requests"),Gn("email","==",t==null?void 0:t.email),Gn("userType","==",t==null?void 0:t.userType)))).empty?(await Ye(re(W,"users_requests"),{email:t==null?void 0:t.email,userType:t==null?void 0:t.userType}),k("success","Your request has been sent successfully. Please wait for the admin's approval.")):k("warning","A request with the same email and user type already exists. Please wait for the admin's approval.")}catch(j){console.error("Error while adding admin request:",j),k("danger","Error while adding admin request!")}s(!1)},b=async j=>{s(!0);try{const I=await _e(jt(re(W,"users_requests"),Gn("email","==",j)));if(I.empty)k("danger","No requests found with the provided email");else{const w=I.docs.map(async _=>{await rn(_.ref)});await Promise.all(w),k("success","Requests deleted successfully"),window.location.reload()}}catch{k("danger","Error deleting requests!")}s(!1)},m=async j=>{s(!0);try{const I=jt(re(W,"users"),Gn("email","==",j)),w=await _e(I),_=w.docs[0].data();if(!_.userType||!_.userType.includes("ADMIN")){const N=_.userType?_.userType+",ADMIN":"ADMIN";await ot(xe(W,"users",w.docs[0].id),{userType:N}),k("success","Admin rights given successfully."),await b(j),window.location.reload()}else k("warning","The selected user is already an admin.")}catch{k("danger","Error while approving admin request!")}s(!1)},x=async()=>{s(!0);try{const j=jt(re(W,"users"),Gn("email","==",h.email)),I=await _e(j),w=I.docs[0].data();if(!w.userType||!w.userType.includes("ADMIN")){const _=w.userType?w.userType+",ADMIN":"ADMIN";await ot(xe(W,"users",I.docs[0].id),{userType:_}),k("success","Admin rights given successfully."),window.location.reload()}else k("warning","The selected user is already an admin.")}catch(j){console.error("Error in changing admin rights:",j),k("danger","Error in changing admin rights")}s(!1)},v=async j=>{s(!0);try{const I=await _e(jt(re(W,"users"),Gn("email","==",j))),w=[];I.forEach(_=>{const N=_.data();if(N.userType.includes("ADMIN")){const P=N.userType.replace("ADMIN","").replace(",","");w.push(ot(xe(W,"users",_.id),{userType:P}))}}),await Promise.all(w),k("success","Admin rights removed successfully from this user."),window.location.reload()}catch{k("danger","Error, while removing admin rights. Try again later.")}s(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Current Site Admins"}),(E=t==null?void 0:t.userType)!=null&&E.includes("ADMIN")?a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0 d-flex justify-content-center align-items-center me-1",disabled:!0,children:"Remove Admin Rights"}),a.jsxs("button",{className:"btn btn-dark btn-sm rounded-0 d-flex justify-content-center align-items-center","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:[a.jsx("i",{className:"bx bxs-edit me-1"})," Change Site Admin"]})]}):a.jsx("button",{className:"btn btn-primary btn-sm rounded-0 d-flex justify-content-center align-items-center",onClick:y,disabled:r,children:r?"Sending Request...":"Request Admin Rights"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:l.map((j,I)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-shade2",children:j.email}),a.jsx("th",{className:"fw-bold text-success",children:j.userType.split(",").map(w=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:w},w))}),a.jsxs("th",{children:[" ",(t==null?void 0:t.email)!==j.email&&t.userType.includes("ADMIN")?a.jsx("button",{className:"btn btn-outline-danger ms-2 btn-sm",onClick:()=>{confirm("Are you sure to delete this user?")&&v(j.email)},disabled:r,children:"Delete"}):a.jsx("button",{className:"btn btn-primary ms-2 btn-sm",disabled:!0,children:"Not Available"})]})]},I))}),!l.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"No Data"})})})]})]})}),((S=t==null?void 0:t.userType)==null?void 0:S.includes("ADMIN"))&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Admin Requests"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:d.map((j,I)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-shade2",children:j.email}),a.jsx("th",{className:"fw-bold text-success",children:j.userType.split(",").map(w=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:w},w))}),a.jsxs("th",{children:[a.jsx("button",{className:"btn btn-shade1 btn-sm",onClick:()=>b(j.email),disabled:r,children:"Reject"}),a.jsx("button",{className:" ms-2 btn btn-outline-primary btn-sm",onClick:()=>m(j.email),disabled:r,children:"Approve"})]})]},I))}),!d.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"No Requests"})})})]})]})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Change Site Admin"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select User (",a.jsx("strong",{className:"text-shade2",children:"*It can be supervisor as well as PHD Student."}),")",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:j=>{var w,_,N,P,C;let I=(_=(w=e.filter(R=>{var V;return((V=R==null?void 0:R.data)==null?void 0:V.name)===j.target.value})[0])==null?void 0:w.data)==null?void 0:_.email;I||(I=(C=(P=(N=n.filter(R=>{var V,B;return((B=(V=R==null?void 0:R.data)==null?void 0:V.name)==null?void 0:B.stringValue)===j.target.value})[0])==null?void 0:N.data)==null?void 0:P.email)==null?void 0:C.stringValue),f({name:j.target.value,email:I})},disabled:r,children:[a.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((j,I)=>{var w,_,N;return a.jsxs("option",{value:(w=j==null?void 0:j.data)==null?void 0:w.name,children:[(_=j==null?void 0:j.data)==null?void 0:_.name,",",(N=j==null?void 0:j.data)==null?void 0:N.email,", Supervisor"]},I)}),n==null?void 0:n.map((j,I)=>{var w,_,N,P,C,R;return a.jsxs("option",{value:(_=(w=j==null?void 0:j.data)==null?void 0:w.name)==null?void 0:_.stringValue,children:[(P=(N=j==null?void 0:j.data)==null?void 0:N.name)==null?void 0:P.stringValue,",",(R=(C=j==null?void 0:j.data)==null?void 0:C.email)==null?void 0:R.stringValue,", PHD Student"]},I)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:h.name?a.jsxs("table",{className:"table table-bordered table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("th",{children:h.name}),a.jsx("th",{children:h.email}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>f({email:"",name:""}),disabled:r,children:"Remove"})})]})})]}):a.jsx("div",{className:"w-100 h5 text-shade2 text-center my-3",children:"No User Selected"})})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:r,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:x,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},vA=[{to:"supervisors",text:"Supervisors"},{to:"settings",text:"Site Settings"},{to:"site-admin",text:"Site Admin"},{to:"cv",text:"Upload CV"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"datasets",text:"Datasets"},{to:"news",text:"News"},{to:"slider-images",text:"Slider Images"},{to:"gallary-images",text:"Gallery Images"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"change-password",text:"Change Password"}],Vp=[{to:"",text:"Home"},...vA],Fp=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},...vA],Up=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"cv",text:"Upload CV"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"datasets",text:"Datasets"},{to:"change-password",text:"Change Password"}],$p=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"cv",text:"Upload CV"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"research-topics",text:"Research Topics"},{to:"change-password",text:"Change Password"}],rH=()=>{var d,u;const{id:t}=Ur(),n=K(h=>h.getdatasets).data.find(h=>h._id===t);if(!n){history.back();return}const[r,s]=T.useState(null),[i,o]=T.useState(!1);T.useEffect(()=>{pa()},[]);const l=h=>{if(h.target.files&&h.target.files.length>0){const f=new FileReader;f.onload=()=>{s(f.result)},f.readAsDataURL(h.target.files[0])}},c=async()=>{if(!r){k("danger","Please select an image.");return}o(!0);const h=t+"_"+Mx(),f=Ce(Ae,`dataset_images/${h}`),p=await fetch(r).then(g=>g.blob());try{await $r(f,p);const g=xe(W,"datasets",t||""),y=await tr(g);if(y.exists()){const x=[...y.data().images||[],h];await ot(g,{images:x}),k("success","Document successfully updated with new image!")}else k("danger","Something went wrong!");s(null),o(!1),location.reload()}catch{k("danger","Error uploading image, Try Again!"),s(null),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:n==null?void 0:n.title})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3 w-100 justify-justify-content-start",children:[a.jsx("button",{className:"btn btn-info","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Upload Image"}),a.jsx("button",{className:"btn btn-shade1",onClick:()=>history.back(),children:"Back to Datasets"})]}),a.jsx("h4",{className:"fw-bold",children:"1. Dataset Details"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto my-4 card p-3 rounded-0",children:n==null?void 0:n.description}),a.jsx("h4",{className:"fw-bold",children:"2. Dataset Images"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsxs("tbody",{children:[(d=n==null?void 0:n.images)==null?void 0:d.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:h==null?void 0:h.url,children:a.jsx("img",{className:"rounded-2",src:h==null?void 0:h.url,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>R5(n._id,h==null?void 0:h.name),children:"Delete"})})})]})})]},f)),!((u=n==null?void 0:n.images)!=null&&u.length)&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"fw-bold h3 text-success p-5 text-center",children:"No Data"})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Upload Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},sH=()=>{var y,b,m,x,v,E,S,j,I,w,_,N,P,C,R,V,B,L,A,D,M,U,z,O,F,Z,se,fe,be,Ue,ie,ye,Pe,Fe,q,le,ve,ae,Se,Q,ke,sn,an,$e,st,xr;const t=K(Y=>Y.getauth),e=(y=K(Y=>Y.getphdStudents))==null?void 0:y.data,n=e==null?void 0:e.filter(Y=>{var Le,Oe;return((Oe=(Le=Y==null?void 0:Y.data)==null?void 0:Le.email)==null?void 0:Oe.stringValue)===(t==null?void 0:t.email)})[0];let r="";(x=(m=(b=n==null?void 0:n.data)==null?void 0:b.researchInterests)==null?void 0:m.arrayValue)==null||x.values.map(Y=>{r=r+(r===""?"":",")+(Y==null?void 0:Y.stringValue)});let s=[];(S=(E=(v=n==null?void 0:n.data)==null?void 0:v.links)==null?void 0:E.arrayValue)==null||S.values.map(Y=>{var Le,Oe,wt,Ht,gn,vn;s.push({linkName:(wt=(Oe=(Le=Y==null?void 0:Y.mapValue)==null?void 0:Le.fields)==null?void 0:Oe.linkName)==null?void 0:wt.stringValue,linkURL:(vn=(gn=(Ht=Y==null?void 0:Y.mapValue)==null?void 0:Ht.fields)==null?void 0:gn.linkURL)==null?void 0:vn.stringValue})});const[i,o]=T.useState(!1),[l,c]=T.useState(),[d,u]=T.useState({name:(I=(j=n==null?void 0:n.data)==null?void 0:j.name)==null?void 0:I.stringValue,email:(_=(w=n==null?void 0:n.data)==null?void 0:w.email)==null?void 0:_.stringValue,phone:(P=(N=n==null?void 0:n.data)==null?void 0:N.mobile)==null?void 0:P.stringValue,researchInterests:r,introduction:(R=(C=n==null?void 0:n.data)==null?void 0:C.introduction)==null?void 0:R.stringValue,links:s||[],personal_email:((B=(V=n==null?void 0:n.data)==null?void 0:V.personal_email)==null?void 0:B.stringValue)||""}),[h,f]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{(async()=>{var Le,Oe,wt,Ht,gn,vn,on,hi,ln,Lo;await fa(),u({name:(Oe=(Le=n==null?void 0:n.data)==null?void 0:Le.name)==null?void 0:Oe.stringValue,email:(Ht=(wt=n==null?void 0:n.data)==null?void 0:wt.email)==null?void 0:Ht.stringValue,phone:(vn=(gn=n==null?void 0:n.data)==null?void 0:gn.mobile)==null?void 0:vn.stringValue,researchInterests:r,introduction:(hi=(on=n==null?void 0:n.data)==null?void 0:on.introduction)==null?void 0:hi.stringValue,links:s||[],personal_email:((Lo=(ln=n==null?void 0:n.data)==null?void 0:ln.personal_email)==null?void 0:Lo.stringValue)||""})})()},[]);const p=Y=>{const{name:Le,value:Oe}=Y.target;u(wt=>({...wt,[Le]:Oe}))},g=async()=>{o(!0);const Y=xe(W,"phdStudents",n==null?void 0:n._id);if(l){const Le=Ce(Ae,`/peoples/phd_profile_images/${d.name}_${l.name}`);await $r(Le,l).then(async()=>{k("success","Profile image uploaded successfully");try{const Oe=await tr(Y);if(Oe.exists()){const wt={...Oe.data(),...d,researchInterests:d.researchInterests.split(",").map(Ht=>Ht.trim()),profileImage:d.name+"_"+l.name};await ot(Y,wt),k("success","Document successfully updated!")}else k("danger","No such document exists!");u({name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:""}),c(void 0),o(!1),window.location.reload()}catch{k("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),o(!1)}}).catch(()=>{k("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),o(!1)})}else try{const Le=await tr(Y);if(Le.exists()){const Oe={...Le.data(),...d,researchInterests:d.researchInterests.split(",").map(wt=>wt.trim())};await ot(Y,Oe),k("success","Document successfully updated!")}else k("danger","No such document exists!");u({name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:""}),c(void 0),o(!1),window.location.reload()}catch{k("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Profile"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"Edit Profile"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:n==null?void 0:n.profileImage,target:"_blank",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsx("td",{colSpan:7,children:(A=(L=n==null?void 0:n.data)==null?void 0:L.isAlumni)!=null&&A.booleanValue?a.jsx("div",{className:"fw-bold text-shade2",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-shade2",children:"Ongoing Student"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Name"})}),a.jsx("td",{children:(M=(D=n==null?void 0:n.data)==null?void 0:D.name)==null?void 0:M.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-shade2",children:"Email"})}),a.jsx("td",{children:(z=(U=n==null?void 0:n.data)==null?void 0:U.email)==null?void 0:z.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Batch"})]}),a.jsx("td",{children:((F=(O=n==null?void 0:n.data)==null?void 0:O.batch)==null?void 0:F.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(Ue=(be=(fe=(se=(Z=n==null?void 0:n.data)==null?void 0:Z.supervisor)==null?void 0:se.mapValue)==null?void 0:fe.fields)==null?void 0:be.name)==null?void 0:Ue.stringValue,", ",a.jsx("strong",{children:"Email: "}),(q=(Fe=(Pe=(ye=(ie=n==null?void 0:n.data)==null?void 0:ie.supervisor)==null?void 0:ye.mapValue)==null?void 0:Pe.fields)==null?void 0:Fe.email)==null?void 0:q.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((ve=(le=n==null?void 0:n.data)==null?void 0:le.mobile)==null?void 0:ve.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((Se=(ae=n==null?void 0:n.data)==null?void 0:ae.personal_email)==null?void 0:Se.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(an=(sn=(ke=(Q=n==null?void 0:n.data)==null?void 0:Q.researchInterests)==null?void 0:ke.arrayValue)==null?void 0:sn.values)==null?void 0:an.map((Y,Le)=>a.jsx(te,{to:"https://www.google.com/search?q="+(Y==null?void 0:Y.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:Y==null?void 0:Y.stringValue},Le)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(st=($e=n==null?void 0:n.data)==null?void 0:$e.introduction)==null?void 0:st.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Links"})}),a.jsx("td",{colSpan:7,children:s.map(Y=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(Y==null?void 0:Y.linkURL,"_blank"),children:Y==null?void 0:Y.linkName}))})]})]})})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Edit Profile"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name"," ",a.jsx("strong",{className:"text-shade2",children:"*(You can't change name)"})]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:d.name,onChange:p,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email"," ",a.jsx("strong",{className:"text-shade2",children:"*(You can't change email)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:d.email,onChange:p,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Personal Email",a.jsx("strong",{className:"text-shade2",children:"*(Optional)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"personal_email",value:d.personal_email,onChange:p,disabled:i})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:d.phone,onChange:p,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:Y=>{var Oe;const Le=(Oe=Y.target.files)==null?void 0:Oe[0];c(Le)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:d.researchInterests,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:d.introduction,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:Y=>f({linkName:Y.target.value,linkURL:h.linkURL}),value:h.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:Y=>f({linkName:h.linkName,linkURL:Y.target.value}),value:h.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!h.linkName||!h.linkURL){k("danger","Link Name and URL are required fields.");return}if(d.links.includes(h)){k("danger","This link already exists.");return}u({...d,links:[...d.links,h]}),f({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(xr=d==null?void 0:d.links)==null?void 0:xr.map((Y,Le)=>a.jsxs("tr",{children:[a.jsx("th",{children:Le+1}),a.jsx("th",{children:Y==null?void 0:Y.linkName}),a.jsx("th",{children:a.jsx("a",{href:Y==null?void 0:Y.linkURL,target:"_blank",children:Y==null?void 0:Y.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u({...d,links:d==null?void 0:d.links.filter(Oe=>Oe.linkName!==(Y==null?void 0:Y.linkName))})},children:"Remove"})})]}))})]}),!(d!=null&&d.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:g,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},uj="/CVPR_LAB/assets/pdf-0ZyWgAAD.png",Nf=async t=>{if(!t){k("danger","Invalid parameters!");return}try{const e=Ce(Ae,`users_resume/${t}`);return await Br(e)}catch{return null}},Gx=async t=>{if(!t){k("danger","Invalid parameters!");return}try{const e=Ce(Ae,`project_videos/video_${t}`);return await Br(e)}catch{return null}};function yA(t){navigator.clipboard.writeText(t).then(function(){k("success","Text copied to clipboard successfully")}).catch(function(){k("danger","Could not copy text: "+t)})}const Bp=1,iH=()=>{const t=K(h=>h.getauth),[e,n]=T.useState(!1),[r,s]=T.useState(null),[i,o]=T.useState("");T.useEffect(()=>{(async()=>{n(!0);const f=await Nf(t==null?void 0:t.email);if(!f||f===null){n(!1);return}o(f),n(!1)})()},[]);const l=h=>{const f=h.target.files&&h.target.files[0];f&&(f.size/1048576>Bp?(k("danger","File size must be less than "+Bp+"Mb"),s(null)):s(f))},c=()=>{if(r){const h=URL.createObjectURL(r),f=window.open(h,"_blank","width=500,height=600");f&&f.focus()}else k("danger","No File Selected")},d=async()=>{if(!r){k("danger","Please select a file.");return}n(!0);try{if(!(t!=null&&t.email)){k("danger","Invalid Parameters.");return}const h=Ce(Ae,"users_resume/"+(t==null?void 0:t.email)),f=new FileReader,p=await new Promise((b,m)=>{f.onload=x=>{var v;((v=x.target)==null?void 0:v.result)instanceof ArrayBuffer?b(x.target.result):m(new Error("Failed to read file"))},f.readAsArrayBuffer(r)}),g=new Uint8Array(p);await $r(h,g,{contentType:"application/pdf"}),k("success","Upload Successful!")}catch{k("danger","Error, while uploading the CV, Please try again later.")}s(null),n(!1),window.location.reload()},u=async()=>{if(confirm("Are you sure want to delete?")){n(!0);try{const h=Ce(Ae,"users_resume/"+(t==null?void 0:t.email));await yr(h),k("success","CV Deleted Successfully!"),window.location.reload()}catch{k("danger","Error while deleting the cv. Please try again later.")}n(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Resume"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Upload CV"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"col-sm-12 card py-4 d-flex flex-nowrap flex-row hover_bg",children:[!i&&!e&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"No CV Uploaded"})}),e&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"Please wait.."})}),i&&!e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{width:"fit-content"},children:a.jsx("img",{src:uj,alt:"PDF Icons",style:{width:"200px"},srcSet:uj})}),a.jsxs("div",{style:{width:"fit-content"},className:"mx-3",children:[a.jsx("button",{className:"btn btn-link mx-0 px-0",onClick:()=>{const h=window.open(i,"_blank","width=550,height=700");h&&h.focus()},disabled:e,children:a.jsx("h3",{children:"Resume.pdf"})}),a.jsxs("p",{className:"text-muted",children:["Current Version("," ",a.jsx("a",{href:i,target:"_blank",style:{textDecoration:"none"},children:"View"})," ",")"]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm me-2",onClick:()=>yA(i),children:"Copy Link"})," ",a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:u,children:"Delete"})]})]})]})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Upload Your CV"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"alert-primary alert card p-3 rounded-0 ",children:[a.jsx("label",{htmlFor:"file_upload",children:"Select PDF file"}),a.jsxs("div",{className:"input-group mb-2 d-flex justify-content-between align-items-center",children:[a.jsx("input",{type:"file",name:"file_upload",accept:"application/pdf",id:"file_upload",multiple:!1,className:"form-control p-3 border-1 border-danger",onChange:l}),a.jsx("div",{className:"input-group-postpend",children:a.jsx("button",{className:"btn btn-shade1 p-3",style:{width:"100px"},disabled:e||!r,onClick:()=>c(),children:"Open"})})]})]}),a.jsxs("div",{className:"alert alert-info rounded-0",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to select a PDF file:"}),a.jsxs("ol",{children:[a.jsx("li",{children:'Click on the "Select PDF file" button.'}),a.jsx("li",{children:"Choose the PDF file you want to upload from your computer."}),a.jsx("li",{children:'Click "Open" to confirm your selection.'})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: PDF (.pdf)"}),a.jsxs("p",{className:"mb-0",children:["Maximum file size: ",Bp,"MB"]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:e,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},hj="/CVPR_LAB/assets/video-SNzMg2sE.png",zp=10,aH=()=>{var y,b,m,x,v,E,S,j,I,w,_,N,P,C,R;const{id:t}=Ur(),e=K(V=>{var B;return(B=V.getprojectsmain)==null?void 0:B.data}),n=e.find(V=>V._id===t);if(!n||!e){history.back();return}const[r,s]=T.useState(!1),[i,o]=T.useState(null),[l,c]=T.useState(0),[d,u]=T.useState("");T.useEffect(()=>{const V=async()=>{s(!0);const B=await Gx(t);if(!B||B===null){s(!1);return}u(B),s(!1)};Jc(),V()},[]);const h=V=>{const B=V.target.files&&V.target.files[0];if(B){const L=B.size/1048576;L>zp?(k("danger","Video File size must be less than "+zp+"Mb, Select File Size:"+L.toFixed(0)+"MB"),o(null)):o(B)}},f=async()=>{if(!i){k("danger","Please select a valid video file!");return}s(!0);try{const V={contentType:"video/mp4"},B="video_"+t,L=Ce(Ae,`project_videos/${B}`),D=gI(L,i,V);await new Promise((M,U)=>{D.on("state_changed",z=>{const O=(z.bytesTransferred/z.totalBytes*100).toFixed(2);c(Number(O))},z=>{k("danger","Error uploading video! Try again."),s(!1),U(z)},async()=>{const z=xe(W,"projects_main",n==null?void 0:n._id);await ot(z,{video:{timestamp:qV(),name:B}}),k("success","Video has been uploaded!"),s(!1),M(),location.reload()})})}catch{k("danger","Error uploading the video, Try Again!"),s(!1)}o(null)},p=async()=>{if(confirm("Are you sure want to delete?")){s(!0);try{const V=Ce(Ae,"project_videos/video_"+t);await yr(V);const B=xe(W,"projects_main",t);await ot(B,{video:{timestamp:null,name:null}}),k("success","Deleted Successfully!"),window.location.reload()}catch{k("danger","Error while deleting. Please try again later.")}s(!1)}},g=()=>{if(i){const V=URL.createObjectURL(i),B=window.open(V,"_blank","width=500,height=600");B&&B.focus()}else k("danger","No File Selected")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:(y=n==null?void 0:n.title)==null?void 0:y.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsxs("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:[a.jsx("i",{className:"bx bx-upload me-1"}),"Upload Video"]}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(b=n==null?void 0:n.funding_agency)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(m=n==null?void 0:n.total_fund)==null?void 0:m.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(x=n==null?void 0:n.pis)==null?void 0:x.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(v=n==null?void 0:n.copis)==null?void 0:v.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(E=n==null?void 0:n.jrf_phd_scholar)==null?void 0:E.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-shade2",children:"Introduction "})}),a.jsx("br",{}),(S=n==null?void 0:n.description)==null?void 0:S.stringValue]})})]})})})}),a.jsxs("div",{className:"col-sm-12 card py-4 d-flex flex-nowrap flex-row hover_bg",children:[!d&&!r&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"No Video Uploaded"})}),r&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"Please wait.."})}),d&&!r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"ps-3",style:{width:"fit-content"},children:a.jsx("img",{src:hj,alt:"PDF Icons",style:{width:"200px"},srcSet:hj})}),a.jsxs("div",{style:{width:"fit-content"},className:"mx-3",children:[a.jsx("button",{className:"btn btn-link mx-0 px-0",onClick:()=>{const V=window.open(d,"_blank","width=550,height=700");V&&V.focus()},disabled:r,children:a.jsxs("h3",{children:["Video_",t,".mp4"]})}),a.jsxs("p",{className:"text-muted",children:["Current Version(",a.jsx("a",{href:d,target:"_blank",style:{textDecoration:"none"},children:"View"})," ",")",a.jsx("br",{})," ",a.jsxs("small",{children:["Uploaded On:"," ",a.jsx("strong",{className:"text-shade2",children:Q6((_=(w=(I=(j=n==null?void 0:n.video)==null?void 0:j.mapValue)==null?void 0:I.fields)==null?void 0:w.timestamp)==null?void 0:_.timestampValue)})," ","(",(R=(C=(P=(N=n==null?void 0:n.video)==null?void 0:N.mapValue)==null?void 0:P.fields)==null?void 0:C.timestamp)==null?void 0:R.timestampValue,")"]})]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm me-2",onClick:()=>yA(d),children:"Copy Link"})," ",a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:p,disabled:r,children:"Delete"})]})]})]})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:"addSliderModalLabel",children:[a.jsx("i",{className:"bx bx-upload me-1"})," Upload Video"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"alert-primary alert card p-3 rounded-0 ",children:[a.jsx("label",{htmlFor:"file_upload",children:"Select Video file"}),a.jsxs("div",{className:"input-group mb-2 d-flex justify-content-between align-items-center",children:[a.jsx("input",{type:"file",name:"file_upload",accept:"video/mp4",id:"file_upload",multiple:!1,className:"form-control p-3 border-1 border-danger",onChange:h}),a.jsx("div",{className:"input-group-postpend",children:a.jsx("button",{className:"btn btn-shade1 p-3",style:{width:"100px"},disabled:r||!i,onClick:()=>g(),children:"Open"})})]})]}),r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l," %"]})}),a.jsxs("div",{className:"alert alert-info rounded-0",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to select a Video file:"}),a.jsxs("ol",{children:[a.jsx("li",{children:'Click on the "Select Video file" button.'}),a.jsx("li",{children:"Choose the Video file you want to upload from your computer."}),a.jsx("li",{children:'Click "Open" to confirm your selection.'})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: Video (.mp4)"}),a.jsxs("p",{className:"mb-0",children:["Maximum file size: ",zp,"MB"]})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},oH=()=>{const t=FN(),e=K(n=>n.getauth);return T.useEffect(()=>{e.userType.includes("ADMIN")||t("/dashboard")},[]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{children:"Website Settings"})}),a.jsx("hr",{}),a.jsx("div",{className:"alert alert-warning rounded-0 fw-bold",children:"Changes here will be directly shown to the website, do not change the settings if not required."}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Setting"})," "]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Website Name"}),a.jsx("td",{children:a.jsx(lH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"About"}),a.jsx("td",{children:a.jsx(cH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Address"}),a.jsx("td",{children:a.jsx(dH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Logo"}),a.jsx("td",{children:a.jsx(uH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Themes"}),a.jsx("td",{children:a.jsx(hH,{})})]})]})]})})]}),a.jsx(fH,{})]})},lH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.name),l=async()=>{if(i===""){k("warning","Website Name can not be empty!");return}n(!0),s(!0);try{const c=jt(re(W,"website_settings"),ti(1)),u=(await _e(c)).docs[0];if(u){const h=xe(W,"website_settings",u.id);await ot(h,{name:i}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("input",{className:"form-control form-control",type:"text",name:"website_name",id:"website_name",value:i,onChange:c=>o(c.target.value),disabled:e||!r}),!r&&a.jsx("button",{className:"btn btn-primary",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},cH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.about),l=async()=>{if(i===""){k("warning","Website About can not be empty!");return}n(!0),s(!0);try{const c=jt(re(W,"website_settings"),ti(1)),u=(await _e(c)).docs[0];if(u){const h=xe(W,"website_settings",u.id);await ot(h,{about:i}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("textarea",{className:"form-control form-control",name:"website_about",id:"website_about",rows:5,value:i,onChange:c=>o(c.target.value),disabled:e||!r,placeholder:"about the website..."}),!r&&a.jsx("button",{className:"btn btn-primary h-100",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success h-100",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},dH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.address),l=async()=>{if(i===""){k("warning","Website Address can not be empty!");return}n(!0),s(!0);try{const c=jt(re(W,"website_settings"),ti(1)),u=(await _e(c)).docs[0];if(u){const h=xe(W,"website_settings",u.id);await ot(h,{address:i}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("textarea",{className:"form-control form-control",name:"website_address",id:"website_address",rows:5,value:i,onChange:c=>o(c.target.value),disabled:e||!r,placeholder:"ie. Room Number : 3rd Floor,EE Department"}),!r&&a.jsx("button",{className:"btn btn-primary h-100",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success h-100",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},uH=()=>{const t=K(p=>p.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(),[l,c]=T.useState(""),d=T.useRef(null),u=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{o(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(d&&d.current){const p=d.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l){k("danger","Please select an image!");return}n(!0);try{const p=jt(re(W,"website_settings"),ti(1)),y=(await _e(p)).docs[0];if(y){const b=xe(W,"website_settings",y.id);await ot(b,{logo:l}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 d-flex flex-nowrap",children:[(t==null?void 0:t.logo)&&a.jsx("img",{className:"card p-3 rounded-0",src:t==null?void 0:t.logo,alt:"website_logo",srcSet:t==null?void 0:t.logo,style:{height:"100px"}}),!r&&a.jsx("button",{className:"btn btn-primary h-100 ms-2",onClick:()=>s(!0),children:"Edit"})]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[r&&a.jsxs("div",{className:"",children:[a.jsx("input",{className:"form-control form-control",name:"website_logo",id:"website_logo",type:"file",onChange:u,accept:"image/*",disabled:e||!r,style:{width:"fit-content"}}),a.jsx("div",{className:"",children:a.jsx(rA,{src:i,ref:d,guides:!0,crop:h})})]}),r&&a.jsx("button",{className:"btn btn-success h-100 ms-2",onClick:f,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100 ms-2 ",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})]})},hH=()=>{const t=K(i=>i.getsettings.data),[e,n]=T.useState(!1),r=async i=>{if(i===""){k("warning","Invalid Action!");return}n(!0);try{let o=[...t.themes.filter(h=>h.name!==i)];o=o.map(h=>({...h,current:!1}));let l=t.themes.find(h=>h.name===i);if(!l){k("danger","Invalid Action!");return}o.push({name:l.name,colors:l.colors,default:l.default,current:!0});const c=jt(re(W,"website_settings"),ti(1)),u=(await _e(c)).docs[0];if(u){const h=xe(W,"website_settings",u.id);await ot(h,{themes:o}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),window.location.reload()},s=async i=>{if(i===""){k("warning","Invalid Action!");return}n(!0);try{let o=[...t.themes.filter(u=>u.name!==i)];const l=jt(re(W,"website_settings"),ti(1)),d=(await _e(l)).docs[0];if(d){const u=xe(W,"website_settings",d.id);await ot(u,{themes:o}),k("success","Deleted successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-wrap m-1",children:[a.jsx("div",{className:"w-100 text-end mb-3",children:a.jsx("button",{className:"btn btn-shade1","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Create Theme"})}),a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Theme Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Colors (Primary, Secondary, Shade 1, Shade 2)"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.themes.map((i,o)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold",children:[i==null?void 0:i.name,i.default?" (Default Theme)":" (Custom Theme)"]}),a.jsxs("td",{children:[a.jsx("input",{title:"Primary Color",className:"me-1 p-0 border-0 w0",name:"saved_theme_"+i.colors.primary,type:"color",value:i.colors.primary,readOnly:!0}),a.jsx("input",{title:"Secondary Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.secondary,type:"color",value:i.colors.secondary,readOnly:!0}),a.jsx("input",{title:"Shade 1 Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.shade1,type:"color",value:i.colors.shade1,readOnly:!0}),a.jsx("input",{title:"Shade 2 Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.shade2,type:"color",value:i.colors.shade2,readOnly:!0})]}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-nowrap",children:i.current?a.jsx("button",{className:"btn btn-sm btn-primary me-2",disabled:!0,children:"Applied"}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>r(i.name),disabled:e,children:"Apply"})," ",!i.default&&a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>s(i.name),disabled:e,children:"Delete"})]})})})]},o))})]}),a.jsx("div",{className:"alert alert-info w-100 rounded-0 fw-bold p-1",children:"You can only delete custom themes, you can not delete default themes."})]})},fH=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState({name:"",colors:{primary:"",secondary:"",shade1:"",shade2:""}}),s=async()=>{if(n.name===""){k("warning","Theme Name can not be empty!");return}if(n.colors.primary===""||n.colors.secondary===""||n.colors.shade1===""||n.colors.shade2===""){k("warning","Theme Colors can not be empty!");return}e(!0);try{const i=jt(re(W,"website_settings"),ti(1)),l=(await _e(i)).docs[0];if(l){const c=xe(W,"website_settings",l.id),d=l.data();if(d.themes.filter(h=>h.name===n.name)[0]){k("danger","Theme with same name already existed");return}await ot(c,{themes:[...d.themes,{name:n.name,colors:n.colors,default:!1,current:!1}]}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}e(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Create Custom Theme"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"title",className:"form-label",children:["Theme Name"," ",a.jsx("strong",{className:"text-shade2",children:"*(required)"})]}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",disabled:t,onChange:i=>r({name:i.target.value,colors:n.colors})})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"date",className:"form-label",children:["Select Colours"," ",a.jsx("strong",{className:"text-shade2",children:"*(required)"})]}),a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Colour Type"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paste Color Code"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Select Value"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsxs("td",{children:["Primary Color"," ",a.jsx("strong",{style:{color:n.colors.primary},children:"(dark in general for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.primary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:i.target.value,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",disabled:t,value:n.colors.primary,onChange:i=>r({name:n.name,colors:{primary:i.target.value,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Secondary Color"," ",a.jsx("strong",{style:{color:n.colors.secondary},children:"(light in general for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.secondary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:i.target.value,shade1:n.colors.shade1,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",value:n.colors.secondary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:i.target.value,shade1:n.colors.shade1,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Shade 1"," ",a.jsx("strong",{style:{color:n.colors.shade1},children:"(can be any colour, dark for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.shade1,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:i.target.value,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",disabled:t,value:n.colors.shade1,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:i.target.value,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Shade 2"," ",a.jsx("strong",{style:{color:n.colors.shade2},children:"(can be any colour, dark for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.shade2,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:i.target.value}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",value:n.colors.shade2,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:i.target.value}})})]})]})]})]})]}),a.jsxs("div",{className:"alert alert-info rounded-0 p-2",children:["You can prefer this"," ",a.jsx("a",{href:"https://colorhunt.co/",target:"_blank",children:"colorhunt.co"})," ","for the color scheme. If you want to use your own colors."]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:t,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:s,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"+ Add"})]})]})})})},xA=async()=>{try{const t=re(W,"research_topics"),e=await _e(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null;n.push({_id:o,...i})});await Promise.all(r),rt.dispatch(rz(n))}catch(t){console.error("Error fetching ResearchTopics:",t)}};async function pH(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchTopics ID");return}try{const e=xe(W,"research_topics",t);await rn(e),alert("ResearchTopics item and image deleted successfully!"),location.reload()}catch{alert("Error deleting ResearchTopics!")}}}const mH=()=>{const t=K(h=>h.getauth),n=K(h=>h.getResearchTopics.data).filter(h=>(h==null?void 0:h.userID)==(t==null?void 0:t.email)),[r,s]=T.useState(!1),[i,o]=T.useState([]),[l,c]=T.useState({title:"",description:""});T.useEffect(()=>{xA()},[]);const d=async()=>{if(!l.title||!l.title){k("danger","Title and Description are required fields.");return}if(!i){k("danger","Select maximum 5 images.");return}s(!0),Ye(re(W,"research_topics"),{title:l==null?void 0:l.title,userID:t==null?void 0:t.email,description:l==null?void 0:l.description,images:i}).then(()=>{k("success","Research Topic has been added."),c({description:"",title:""}),o([]),s(!1),window.location.reload()}).catch(()=>{k("danger","Error! While adding a Topic, Check you internet connnection and Try Again later."),s(!1)})},u=h=>{const f=h.target.files,p=["image/jpeg","image/png","image/jpg","image/gif"],g=500*1024,y=5;if(!f||f.length===0){k("danger","No files selected.");return}if(f.length>y){k("danger","Maximum 5 images are allowed.");return}const b=[];for(let m=0;m<f.length;m++){const x=f[m];if(!p.includes(x.type)){k("danger",`File ${x.name} is not a valid image format (JPEG, JPG, PNG or GIF).`);continue}if(x.size>g){k("danger",`File ${x.name} exceeds the maximum file size of 500kb.`);continue}const v=new FileReader;v.readAsDataURL(x),v.onload=()=>{const E=v.result;b.push(E),b.length===f.length&&o(S=>[...S,...b])}}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Research Topics"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Research Topic"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Images"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:n&&(n==null?void 0:n.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{children:h==null?void 0:h.title}),a.jsx("td",{children:a.jsx("div",{style:{height:"200px",overflow:"auto"},children:h==null?void 0:h.description})}),a.jsx("td",{children:a.jsxs("div",{id:"carouselExampleControls"+f,className:"carousel slide","data-bs-ride":"carousel",style:{width:"400px",overflow:"auto"},children:[a.jsxs("div",{className:"carousel-inner",children:[a.jsx("div",{className:"carousel-item active",children:a.jsx("img",{src:h.images[0],alt:"",className:"mb-2",style:{height:"200px"}})}),a.jsx("div",{className:"carousel-item",children:a.jsx("img",{src:h.images[1],alt:"",className:"mb-2",style:{height:"300px"}})}),a.jsx("div",{className:"carousel-item",children:a.jsx("img",{src:h.images[2],alt:"",className:"mb-2",style:{height:"300px"}})}),a.jsx("div",{className:"carousel-item",children:a.jsx("img",{src:h.images[3],alt:"",className:"mb-2",style:{height:"300px"}})})]}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+f,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+f,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>pH(h._id),children:"Delete"})})})]})})]},f)))})]}),!n.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Data Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Research Topic"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"card p-3",children:[a.jsxs("div",{className:"alert alert-info rounded-0 mb-3",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to add a Research Topic:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Research Topic Title and Decription is required."}),a.jsx("li",{children:"Upload an images for the topic."}),a.jsxs("li",{children:["Click on the ",a.jsx("strong",{children:'"Choose File"'})," button."]}),a.jsx("li",{children:"Choose the images file you want to upload from your computer."}),a.jsx("li",{children:"You can only upload 5 images for each topic."})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: Image File (.jpg, .jpeg, .png)"}),a.jsx("p",{className:"mb-0",children:"Maximum file size: 500KB"})]}),a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title ",a.jsx("strong",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control mb-3",placeholder:"Example: Deep Learning in Healthcare...",name:"topic_title",value:(l==null?void 0:l.title)||"",onChange:h=>c({description:l==null?void 0:l.description,title:h.target.value})}),a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Description"," ",a.jsx("strong",{className:"text-shade2",children:"*(100 to 200 words)"})]}),a.jsx("textarea",{className:"form-control mb-3",placeholder:"Type here...",name:"topic_description",rows:10,value:(l==null?void 0:l.description)||"",onChange:h=>c({title:l.title,description:h.target.value})}),a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Images ",a.jsx("strong",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"file",className:"form-control mb-3",name:"topic_images",multiple:!0,onChange:u,accept:"image/png, image/jpeg, image/jpg, image/gif"})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"}),i.length>0&&a.jsxs("div",{className:"container px-3 mt-3 col-sm-12 d-flex flex-wrap gap-3 justify-content-between",children:[a.jsx("h2",{children:"Selected Images"}),a.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>o([]),children:"Remove All"})]}),a.jsx("div",{className:"container w-100 d-flex flex-wrap gap-3",children:i&&(i==null?void 0:i.map((h,f)=>a.jsx("img",{className:"w-100",src:h,alt:"Selected Images"},f)))})]})]})})})]})},gH=()=>{const t=K(l=>l.getauth),[e,n]=T.useState(0),[r,s]=T.useState(!1);T.useEffect(()=>{const l=Jt.onAuthStateChanged(async c=>{if(!c)try{await Jt.signOut(),window.location.href="/"}catch{console.error("Error logging out.")}});return()=>l()},[]),T.useEffect(()=>{gA()},[]);const i=async()=>{if(confirm("Are you sure want to logout?"))try{await Jt.signOut(),window.close()}catch{console.error("Error logging out.")}},o=async()=>{s(!0);try{const l=Jt==null?void 0:Jt.currentUser;l?(await R4(l),k("success","Email has been sent, kindly check your inbox or spam!"),s(!1)):(k("danger","No authenticated user found!"),s(!1))}catch{k("danger","Error sending email verification!"),s(!1)}window.location.reload()};if(!(t!=null&&t.email)&&!(t!=null&&t.userType))return a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:a.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t!=null&&t.email)return a.jsxs(a.Fragment,{children:[!(t!=null&&t.isVarified)&&a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh",position:"fixed",top:0,left:0,zIndex:999,backgroundColor:"#000000c8"},children:a.jsxs("div",{className:"alert alert-danger fw-bold hover_",children:[a.jsx("h4",{className:"fw-bold text-shade2",children:"Warning"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Your account has not yet been verified."}),a.jsx("li",{children:"You cannot perform actions until your account is verified."}),a.jsxs("li",{children:["To send a verification email, click on the following link:"," ",a.jsx("button",{className:"btn btn-link text-shade2 fw-bold px-1 py-0",onClick:o,disabled:r,children:r?"Sending...":"Click here"})]}),a.jsxs("li",{children:["If you wish to close the window, click the following link:"," ",a.jsx("button",{className:"btn btn-link text-shade2 fw-bold px-1 py-0",onClick:i,children:"Close Window"})]})]})]})}),a.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("h4",{children:["Welcome, ",t==null?void 0:t.email,"(",a.jsx("strong",{className:"text-shade2",children:t==null?void 0:t.userType}),")"]})})}),a.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("div",{className:"list-group",children:[(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(Vp==null?void 0:Vp.map((l,c)=>a.jsx(te,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(Fp==null?void 0:Fp.map((l,c)=>a.jsx(te,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&($p==null?void 0:$p.map((l,c)=>a.jsx(te,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(Up==null?void 0:Up.map((l,c)=>a.jsx(te,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),a.jsxs(te,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:[a.jsx("i",{className:"bx bxs-home-alt-2 me-1"})," Website Home"]}),a.jsxs(te,{to:"#",onClick:i,className:"d-flex align-items-center list-group-item list-group-item-action text-shade2",children:[a.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),a.jsx(zt,{children:a.jsx("title",{children:"Dashboard "})}),(t==null?void 0:t.isVarified)&&a.jsxs(Kv,{children:[a.jsx(me,{element:a.jsx("h1",{children:"Not Found"}),path:"*"}),a.jsx(me,{element:a.jsx("div",{className:"w-100 p-3 card mx-3",children:a.jsx("h1",{className:"fw-bold text-shade2",children:"Welcome"})}),path:"/"}),a.jsx(me,{element:a.jsx(A5,{}),path:"/supervisors"}),a.jsx(me,{element:a.jsx(oH,{}),path:"/settings"}),a.jsx(me,{element:a.jsx(H6,{}),path:"/supervisors/:id"}),a.jsx(me,{element:a.jsx(b9,{}),path:"/publications"}),a.jsx(me,{element:a.jsx(B6,{}),path:"/publications/:id"}),a.jsx(me,{element:a.jsx(N5,{}),path:"/peoples"}),a.jsx(me,{element:a.jsx(iH,{}),path:"/cv"}),a.jsx(me,{element:a.jsx(V5,{}),path:"/research"}),a.jsx(me,{element:a.jsx($5,{}),path:"/research/:id"}),a.jsx(me,{element:a.jsx(B5,{}),path:"/projects-items"}),a.jsx(me,{element:a.jsx(W5,{}),path:"/projects"}),a.jsx(me,{element:a.jsx(W6,{}),path:"/projects/:id"}),a.jsx(me,{element:a.jsx(tH,{}),path:"/projects/images/:id"}),a.jsx(me,{element:a.jsx(aH,{}),path:"/projects/video/:id"}),a.jsx(me,{element:a.jsx(D5,{}),path:"/datasets"}),a.jsx(me,{element:a.jsx(rH,{}),path:"/datasets/:id"}),a.jsx(me,{element:a.jsx(N9,{}),path:"/news"}),a.jsx(me,{element:a.jsx(T9,{}),path:"/change-password"}),a.jsx(me,{element:a.jsx(_5,{}),path:"/slider-images"}),a.jsx(me,{element:a.jsx(X6,{}),path:"/gallary-images"}),a.jsx(me,{element:a.jsx(nH,{}),path:"/site-admin"}),a.jsx(me,{element:a.jsx(sH,{}),path:"/profile-phd"}),a.jsx(me,{element:a.jsx(mH,{}),path:"/research-topics"})]})]})]})},Kx=()=>{const t=K(e=>e.getsettings.data);return a.jsx(a.Fragment,{children:a.jsxs("div",{role:"navigation",children:[a.jsx("div",{className:"p-3",children:a.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[a.jsx("div",{className:"col-lg-1 col-md-1 text-center",children:a.jsx("div",{className:"",children:a.jsx("img",{className:"img-fluid",src:t==null?void 0:t.logo,alt:"LOGO",style:{height:"50px",width:"auto"}})})}),a.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:a.jsx("div",{className:"mt-2",children:t==null?void 0:t.address})})]})}),a.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:a.jsx("nav",{className:"navbar navbar-expand-md",children:a.jsxs("div",{className:"container-fluid",children:[a.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[a.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),a.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:a.jsxs("ul",{className:"navbar-nav mx-auto ",children:[a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"Peoples"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2 active","aria-current":"page",to:"/gallery",children:"Gallery"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})})};function fj(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Yx(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:fj(e[n])&&fj(t[n])&&Object.keys(e[n]).length>0&&Yx(t[n],e[n])})}const bA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ss(){const t=typeof document<"u"?document:{};return Yx(t,bA),t}const vH={document:bA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function zn(){const t=typeof window<"u"?window:{};return Yx(t,vH),t}function yH(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function xH(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Wg(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function ch(){return Date.now()}function bH(t){const e=zn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function wH(t,e){e===void 0&&(e="x");const n=zn();let r,s,i;const o=bH(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Pd(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function _H(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Pn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!_H(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Pd(t[l])&&Pd(r[l])?r[l].__swiper__?t[l]=r[l]:Pn(t[l],r[l]):!Pd(t[l])&&Pd(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:Pn(t[l],r[l])):t[l]=r[l])}}}return t}function kd(t,e,n){t.style.setProperty(e,n)}function wA(t){let{swiper:e,targetPosition:n,side:r}=t;const s=zn(),i=-e.translate;let o=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const d=n>i?"next":"prev",u=(f,p)=>d==="next"&&f>=p||d==="prev"&&f<=p,h=()=>{l=new Date().getTime(),o===null&&(o=l);const f=Math.max(Math.min((l-o)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=i+p*(n-i);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(h)};h()}function Tr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function dh(t){try{console.warn(t);return}catch{}}function uh(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:yH(e)),n}function jH(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function EH(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Os(t,e){return zn().getComputedStyle(t,null).getPropertyValue(e)}function hh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function _A(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Gg(t,e,n){const r=zn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function It(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Hp;function NH(){const t=zn(),e=ss();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function jA(){return Hp||(Hp=NH()),Hp}let qp;function SH(t){let{userAgent:e}=t===void 0?{}:t;const n=jA(),r=zn(),s=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&y.indexOf(`${l}x${c}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),d&&!p&&(o.os="android",o.android=!0),(u||f||h)&&(o.os="ios",o.ios=!0),o}function EA(t){return t===void 0&&(t={}),qp||(qp=SH(t)),qp}let Wp;function TH(){const t=zn(),e=EA();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=c<16||c===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function IH(){return Wp||(Wp=TH()),Wp}function CH(t){let{swiper:e,on:n,emit:r}=t;const s=zn();let i=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(h=>{o=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,y=p;h.forEach(b=>{let{contentBoxSize:m,contentRect:x,target:v}=b;v&&v!==e.el||(g=x?x.width:(m[0]||m).inlineSize,y=x?x.height:(m[0]||m).blockSize)}),(g!==f||y!==p)&&l()})}),i.observe(e.el))},d=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",u)}),n("destroy",()=>{d(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",u)})}function AH(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],o=zn(),l=function(u,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const y=function(){s("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});p.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=_A(e.hostEl);for(let h=0;h<u.length;h+=1)l(u[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var PH={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),t}};function kH(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Os(r,"padding-left")||0,10)-parseInt(Os(r,"padding-right")||0,10),n=n-parseInt(Os(r,"padding-top")||0,10)-parseInt(Os(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function RH(){const t=this;function e(N,P){return parseFloat(N.getPropertyValue(t.getDirectionLabel(P))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,u=Tr(s,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:u.length;let f=[];const p=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let b=n.slidesOffsetAfter;typeof b=="function"&&(b=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,x=t.slidesGrid.length;let v=n.spaceBetween,E=-y,S=0,j=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v,u.forEach(N=>{o?N.style.marginLeft="":N.style.marginRight="",N.style.marginBottom="",N.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(kd(r,"--swiper-centered-offset-before",""),kd(r,"--swiper-centered-offset-after",""));const I=n.grid&&n.grid.rows>1&&t.grid;I?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let w;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(N=>typeof n.breakpoints[N].slidesPerView<"u").length>0;for(let N=0;N<h;N+=1){w=0;let P;if(u[N]&&(P=u[N]),I&&t.grid.updateSlide(N,P,u),!(u[N]&&Os(P,"display")==="none")){if(n.slidesPerView==="auto"){_&&(u[N].style[t.getDirectionLabel("width")]="");const C=getComputedStyle(P),R=P.style.transform,V=P.style.webkitTransform;if(R&&(P.style.transform="none"),V&&(P.style.webkitTransform="none"),n.roundLengths)w=t.isHorizontal()?Gg(P,"width",!0):Gg(P,"height",!0);else{const B=e(C,"width"),L=e(C,"padding-left"),A=e(C,"padding-right"),D=e(C,"margin-left"),M=e(C,"margin-right"),U=C.getPropertyValue("box-sizing");if(U&&U==="border-box")w=B+D+M;else{const{clientWidth:z,offsetWidth:O}=P;w=B+L+A+D+M+(O-z)}}R&&(P.style.transform=R),V&&(P.style.webkitTransform=V),n.roundLengths&&(w=Math.floor(w))}else w=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),u[N]&&(u[N].style[t.getDirectionLabel("width")]=`${w}px`);u[N]&&(u[N].swiperSlideSize=w),g.push(w),n.centeredSlides?(E=E+w/2+S/2+v,S===0&&N!==0&&(E=E-i/2-v),N===0&&(E=E-i/2-v),Math.abs(E)<1/1e3&&(E=0),n.roundLengths&&(E=Math.floor(E)),j%n.slidesPerGroup===0&&f.push(E),p.push(E)):(n.roundLengths&&(E=Math.floor(E)),(j-Math.min(t.params.slidesPerGroupSkip,j))%t.params.slidesPerGroup===0&&f.push(E),p.push(E),E=E+w+v),t.virtualSize+=w+v,S=w,j+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+b,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+v}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),I&&t.grid.updateWrapperSize(w,f),!n.centeredSlides){const N=[];for(let P=0;P<f.length;P+=1){let C=f[P];n.roundLengths&&(C=Math.floor(C)),f[P]<=t.virtualSize-i&&N.push(C)}f=N,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(c&&n.loop){const N=g[0]+v;if(n.slidesPerGroup>1){const P=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),C=N*n.slidesPerGroup;for(let R=0;R<P;R+=1)f.push(f[f.length-1]+C)}for(let P=0;P<t.virtual.slidesBefore+t.virtual.slidesAfter;P+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+N),p.push(p[p.length-1]+N),t.virtualSize+=N}if(f.length===0&&(f=[0]),v!==0){const N=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((P,C)=>!n.cssMode||n.loop?!0:C!==u.length-1).forEach(P=>{P.style[N]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let N=0;g.forEach(C=>{N+=C+(v||0)}),N-=v;const P=N-i;f=f.map(C=>C<=0?-y:C>P?P+b:C)}if(n.centerInsufficientSlides){let N=0;if(g.forEach(P=>{N+=P+(v||0)}),N-=v,N<i){const P=(i-N)/2;f.forEach((C,R)=>{f[R]=C-P}),p.forEach((C,R)=>{p[R]=C+P})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){kd(r,"--swiper-centered-offset-before",`${-f[0]}px`),kd(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const N=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(C=>C+N),t.slidesGrid=t.slidesGrid.map(C=>C+P)}if(h!==d&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const N=`${n.containerModifierClass}backface-hidden`,P=t.el.classList.contains(N);h<=n.maxBackfaceHiddenSlides?P||t.el.classList.add(N):P&&t.el.classList.remove(N)}}function DH(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function OH(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function LH(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const d=r[c];let u=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),f=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),p=-(o-u),g=p+e.slidesSizesGrid[c],y=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),y&&r[c].classList.add(n.slideFullyVisibleClass),d.progress=s?-h:h,d.originalProgress=s?-f:f}}function MH(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=e;const c=i,d=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=u||s<=0,o=h||s>=1,u&&(s=0),h&&(s=1)}if(n.loop){const u=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=f?l=(y-f)/g:l=(y+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(c&&!i||d&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function VH(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=h=>Tr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,d,u;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else o?(c=e.filter(h=>h.column===s)[0],u=e.filter(h=>h.column===s+1)[0],d=e.filter(h=>h.column===s-1)[0]):c=e[s];c&&(c.classList.add(n.slideActiveClass),o?(u&&u.classList.add(n.slideNextClass),d&&d.classList.add(n.slidePrevClass)):(u=EH(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),u&&u.classList.add(n.slideNextClass),d=jH(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const tu=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Gp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Kg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,l=[o-e];l.push(...Array.from({length:e}).map((c,d)=>o+r+d)),t.slides.forEach((c,d)=>{l.includes(c.column)&&Gp(t,d)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const l=(o%n+n)%n;(l<s||l>i)&&Gp(t,l)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&Gp(t,o)};function FH(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function UH(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:l}=e;let c=t,d;const u=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=FH(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,c);d=p+Math.floor((c-p)/s.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===i&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(c);else if(h){const p=e.slides.filter(y=>y.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/s.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:f,previousIndex:i,activeIndex:c}),e.initialized&&Kg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function $H(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,o=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var BH={updateSize:kH,updateSlides:RH,updateAutoHeight:DH,updateSlidesOffset:OH,updateSlidesProgress:LH,updateProgress:MH,updateSlidesClasses:VH,updateActiveIndex:UH,updateClickedSlide:$H};function zH(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=wH(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function HH(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let l=0,c=0;const d=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let u;const h=n.maxTranslate()-n.minTranslate();h===0?u=0:u=(t-n.minTranslate())/h,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function qH(){return-this.snapGrid[0]}function WH(){return-this.snapGrid[this.snapGrid.length-1]}function GH(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const c=i.minTranslate(),d=i.maxTranslate();let u;if(r&&t>c?u=c:r&&t<d?u=d:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return wA({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var KH={getTranslate:zH,setTranslate:HH,minTranslate:qH,maxTranslate:WH,translateTo:GH};function YH(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function NA(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:o}=e;let l=r;if(l||(i>o?l="next":i<o?l="prev":l="reset"),e.emit(`transition${s}`),n&&i!==o){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function QH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),NA({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function XH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),NA({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var JH={setTransition:YH,transitionStart:QH,transitionEnd:XH};function ZH(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=i;if(i.animating&&l.preventInteractionOnTransition||!g&&!r&&!s||i.destroyed)return!1;const y=Math.min(i.params.slidesPerGroupSkip,o);let b=y+Math.floor((o-y)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const m=-c[b];if(l.normalizeSlideIndex)for(let v=0;v<d.length;v+=1){const E=-Math.floor(m*100),S=Math.floor(d[v]*100),j=Math.floor(d[v+1]*100);typeof d[v+1]<"u"?E>=S&&E<j-(j-S)/2?o=v:E>=S&&E<j&&(o=v+1):E>=S&&(o=v)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(f?m>i.translate&&m>i.minTranslate():m<i.translate&&m<i.minTranslate())||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let x;if(o>h?x="next":o<h?x="prev":x="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(m),x!=="reset"&&(i.transitionStart(n,x),i.transitionEnd(n,x)),!1;if(l.cssMode){const v=i.isHorizontal(),E=f?m:-m;if(e===0){const S=i.virtual&&i.params.virtual.enabled;S&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),S&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[v?"scrollLeft":"scrollTop"]=E})):p[v?"scrollLeft":"scrollTop"]=E,S&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return wA({swiper:i,targetPosition:E,side:v?"left":"top"}),!0;p.scrollTo({[v?"left":"top"]:E,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,x),e===0?i.transitionEnd(n,x):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(E){!i||i.destroyed||E.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,x))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function eq(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const f=o*s.params.grid.rows;l=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=s.getSlideIndexByData(o);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let h=c-l<u;if(d&&(h=h||l<Math.ceil(u/2)),h){const f=d?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=o*s.params.grid.rows;o=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function tq(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,d=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!d&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function nq(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;const u=r.virtual&&s.virtual.enabled;if(s.loop){if(d&&!u&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=i.map(m=>f(m));let y=i[g.indexOf(p)-1];if(typeof y>"u"&&s.cssMode){let m;i.forEach((x,v)=>{p>=x&&(m=v)}),typeof m<"u"&&(y=i[m>0?m-1:m])}let b=0;if(typeof y<"u"&&(b=o.indexOf(y),b<0&&(b=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(b=b-r.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(b,t,e,n)}),!0;return r.slideTo(b,t,e,n)}function rq(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function sq(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const d=s.snapGrid[l],u=s.snapGrid[l+1];c-d>(u-d)*r&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[l-1],u=s.snapGrid[l];c-d<=(u-d)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function iq(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(Tr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Wg(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(Tr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Wg(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var aq={slideTo:ZH,slideToLoop:eq,slideNext:tq,slidePrev:nq,slideReset:rq,slideToClosest:sq,slideToClickedSlide:iq};function oq(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{Tr(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(i?n.grid.rows:1),l=e.slides.length%o!==0,c=i&&e.slides.length%n.grid.rows!==0,d=u=>{for(let h=0;h<u;h+=1){const f=e.isElement?uh("swiper-slide",[n.slideBlankClass]):uh("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;d(u),e.recalcSlides(),e.updateSlides()}else dh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;d(u),e.recalcSlides(),e.updateSlides()}else dh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function lq(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:o,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:u,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=u,c.allowSlideNext=h,c.emit("loopFix");return}let y=p.slidesPerView;y==="auto"?y=c.slidesPerViewDynamic():(y=Math.ceil(parseFloat(p.slidesPerView,10)),g&&y%2===0&&(y=y+1));const b=p.slidesPerGroupAuto?y:p.slidesPerGroup;let m=b;m%b!==0&&(m+=b-m%b),m+=p.loopAdditionalSlides,c.loopedSlides=m;const x=c.grid&&p.grid&&p.grid.rows>1;d.length<y+m?dh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&p.grid.fill==="row"&&dh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const v=[],E=[];let S=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.filter(R=>R.classList.contains(p.slideActiveClass))[0]):S=i;const j=r==="next"||!r,I=r==="prev"||!r;let w=0,_=0;const N=x?Math.ceil(d.length/p.grid.rows):d.length,C=(x?d[i].column:i)+(g&&typeof s>"u"?-y/2+.5:0);if(C<m){w=Math.max(m-C,b);for(let R=0;R<m-C;R+=1){const V=R-Math.floor(R/N)*N;if(x){const B=N-V-1;for(let L=d.length-1;L>=0;L-=1)d[L].column===B&&v.push(L)}else v.push(N-V-1)}}else if(C+y>N-m){_=Math.max(C-(N-m*2),b);for(let R=0;R<_;R+=1){const V=R-Math.floor(R/N)*N;x?d.forEach((B,L)=>{B.column===V&&E.push(L)}):E.push(V)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),I&&v.forEach(R=>{d[R].swiperLoopMoveDOM=!0,f.prepend(d[R]),d[R].swiperLoopMoveDOM=!1}),j&&E.forEach(R=>{d[R].swiperLoopMoveDOM=!0,f.append(d[R]),d[R].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():x&&(v.length>0&&I||E.length>0&&j)&&c.slides.forEach((R,V)=>{c.grid.updateSlide(V,R,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(v.length>0&&I){if(typeof e>"u"){const R=c.slidesGrid[S],B=c.slidesGrid[S+w]-R;l?c.setTranslate(c.translate-B):(c.slideTo(S+w,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-B,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-B))}else if(s){const R=x?v.length/p.grid.rows:v.length;c.slideTo(c.activeIndex+R,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(E.length>0&&j)if(typeof e>"u"){const R=c.slidesGrid[S],B=c.slidesGrid[S-_]-R;l?c.setTranslate(c.translate-B):(c.slideTo(S-_,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-B,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-B))}else{const R=x?E.length/p.grid.rows:E.length;c.slideTo(c.activeIndex-R,0,!1,!0)}}if(c.allowSlidePrev=u,c.allowSlideNext=h,c.controller&&c.controller.control&&!o){const R={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(V=>{!V.destroyed&&V.params.loop&&V.loopFix({...R,slideTo:V.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...R,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function cq(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var dq={loopCreate:oq,loopFix:lq,loopDestroy:cq};function uq(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function hq(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var fq={setGrabCursor:uq,unsetGrabCursor:hq};function pq(t,e){e===void 0&&(e=this);function n(r){if(!r||r===ss()||r===zn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function pj(t,e,n){const r=zn(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function mq(t){const e=this,n=ss();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){pj(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&u&&(c=u[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?pq(h,c):c.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,g=o.currentY;if(!pj(e,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=g,s.touchStartTime=ch(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let y=!0;c.matches(s.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const b=y&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function gq(t){const e=ss(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].filter(j=>j.identifier===r.touchId)[0],!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const u=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=ch());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let j;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(j=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?j>s.touchAngle:90-j>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,y=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),i.diff=g,g*=s.touchRatio,o&&(g=-g,y=-y);const b=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const m=n.params.loop&&!s.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let v;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&m&&x&&Math.abs(g)>=1){Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let E=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),g>0?(m&&x&&!v&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(E=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**S))):g<0&&(m&&x&&!v&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(E=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**S))),E&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function vq(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(S=>S.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:d,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=ch(),f=h-n.touchStartTime;if(e.allowClick){const S=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(S&&S[0]||r.target,S),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=ch(),Wg(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let y=0,b=e.slidesSizesGrid[0];for(let S=0;S<d.length;S+=S<o.slidesPerGroupSkip?1:o.slidesPerGroup){const j=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[S+j]<"u"?(g||p>=d[S]&&p<d[S+j])&&(y=S,b=d[S+j]-d[S]):(g||p>=d[S])&&(y=S,b=d[d.length-1]-d[d.length-2])}let m=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const v=(p-d[y])/b,E=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?m:y+E):e.slideTo(y)),e.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?e.slideTo(y+E):x!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?e.slideTo(x):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+E):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:y+E),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:y))}}function mj(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function yq(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function xq(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function bq(t){const e=this;tu(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function wq(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const SA=(t,e)=>{const n=ss(),{params:r,el:s,wrapperEl:i,device:o}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",mj,!0):t[d]("observerUpdate",mj,!0),s[c]("load",t.onLoad,{capture:!0})};function _q(){const t=this,{params:e}=t;t.onTouchStart=mq.bind(t),t.onTouchMove=gq.bind(t),t.onTouchEnd=vq.bind(t),t.onDocumentTouchStart=wq.bind(t),e.cssMode&&(t.onScroll=xq.bind(t)),t.onClick=yq.bind(t),t.onLoad=bq.bind(t),SA(t,"on")}function jq(){SA(this,"off")}var Eq={attachEvents:_q,detachEvents:jq};const gj=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Nq(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const c=(o in i?i[o]:void 0)||t.originalParams,d=gj(t,r),u=gj(t,c),h=r.enabled;d&&!u?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&u&&(s.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const x=r[m]&&r[m].enabled,v=c[m]&&c[m].enabled;x&&!v&&t[m].disable(),!x&&v&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),Pn(t.params,c);const y=t.params.enabled,b=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!y?t.disable():!h&&y&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&b?(t.loopCreate(e),t.updateSlides()):g&&!b&&t.loopDestroy()),t.emit("breakpoint",c)}function Sq(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=zn(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:d}=o[l];e==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var Tq={setBreakpoint:Nq,getBreakpoint:Sq};function Iq(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function Cq(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=Iq(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function Aq(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var Pq={addClasses:Cq,removeClasses:Aq};function kq(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Rq={checkOverflow:kq},Yg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Dq(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Pn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Pn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Pn(e,r)}}const Kp={eventsEmitter:PH,update:BH,translate:KH,transition:JH,slide:aq,loop:dq,grabCursor:fq,events:Eq,breakpoints:Tq,checkOverflow:Rq,classes:Pq},Yp={};let Qx=class Wr{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Pn({},n),e&&!n.el&&(n.el=e);const o=ss();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(h=>{const f=Pn({},n,{el:h});u.push(new Wr(f))}),u}const l=this;l.__swiper__=!0,l.support=jA(),l.device=EA({userAgent:n.userAgent}),l.browser=IH(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(u=>{u({params:n,swiper:l,extendParams:Dq(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Pn({},Yg,c);return l.params=Pn({},d,Yp,n),l.originalParams=Pn({},l.params),l.passedParams=Pn({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=Tr(n,`.${r.slideClass}, swiper-slide`),i=hh(s[0]);return hh(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Tr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:d}=r;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[d]?Math.ceil(i[d].swiperSlideSize):0,f;for(let p=d+1;p<i.length;p+=1)i[p]&&!f&&(h+=Math.ceil(i[p].swiperSlideSize),u+=1,h>c&&(f=!0));for(let p=d-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>c&&(f=!0))}else if(e==="current")for(let h=d+1;h<i.length;h+=1)(n?o[h]+l[h]-o[d]<c:o[h]-o[d]<c)&&(u+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&tu(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Tr(r,s())[0];return!o&&n.params.createElements&&(o=uh("div",n.params.wrapperClass),r.append(o),Tr(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Os(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Os(r,"direction")==="rtl"),wrongRTL:Os(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?tu(n,i):i.addEventListener("load",o=>{tu(n,o.target)})}),Kg(n),n.initialized=!0,Kg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,xH(r)),r.destroyed=!0),null}static extendDefaults(e){Pn(Yp,e)}static get extendedDefaults(){return Yp}static get defaults(){return Yg}static installModule(e){Wr.prototype.__modules__||(Wr.prototype.__modules__=[]);const n=Wr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Wr.installModule(n)),Wr):(Wr.installModule(e),Wr)}};Object.keys(Kp).forEach(t=>{Object.keys(Kp[t]).forEach(e=>{Qx.prototype[e]=Kp[t][e]})});Qx.use([CH,AH]);const TA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Zi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function to(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Zi(e[r])&&Zi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:to(t[r],e[r]):t[r]=e[r]})}function IA(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function CA(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function AA(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function PA(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Oq(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Lq(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:l,paginationEl:c}=t;const d=s.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:u,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:y}=e;let b,m,x,v,E,S,j,I;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(b=!0),s.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(m=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(x=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(v=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(E=!0);const w=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),u[_].prevEl=void 0,u[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),u[_].el=void 0,e[_].el=void 0))};s.includes("loop")&&e.isElement&&(u.loop&&!r.loop?S=!0:!u.loop&&r.loop?j=!0:I=!0),d.forEach(_=>{if(Zi(u[_])&&Zi(r[_]))Object.assign(u[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&w(_);else{const N=r[_];(N===!0||N===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?N===!1&&w(_):u[_]=r[_]}}),d.includes("controller")&&!m&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),s.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):s.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),s.includes("children")&&n&&u.loop&&(I=!0),b&&y.init()&&y.update(!0),m&&(e.controller.control=u.controller.control),x&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(u.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),E&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(S||I)&&e.loopDestroy(),(j||I)&&e.loopCreate(),e.update()}function Mq(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};to(n,Yg),n._emitClasses=!0,n.init=!1;const i={},o=TA.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?Zi(t[c])?(n[c]={},s[c]={},to(n[c],t[c]),to(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function Vq(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:l}=t;IA(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),CA(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),AA(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function Fq(t,e,n,r,s){const i=[];if(!e)return i;const o=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),d=n.map(s);c.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return TA.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Zi(t[c])&&Zi(e[c])){const d=Object.keys(t[c]),u=Object.keys(e[c]);d.length!==u.length?o(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),u.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),i}const Uq=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function kA(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function RA(t){const e=[];return Re.Children.toArray(t).forEach(n=>{kA(n)?e.push(n):n.props&&n.props.children&&RA(n.props.children).forEach(r=>e.push(r))}),e}function $q(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Re.Children.toArray(t).forEach(r=>{if(kA(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=RA(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Bq(t,e,n){if(!n)return null;const r=u=>{let h=u;return u<0?h=e.length+u:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let u=l;u<c;u+=1)u>=i&&u<=o&&d.push(e[r(u)]);return d.map((u,h)=>Re.cloneElement(u,{swiper:t,style:s,key:`slide-${h}`}))}function Rl(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const vj=T.createContext(null),zq=T.createContext(null),DA=T.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...l}=t===void 0?{}:t,c=!1;const[d,u]=T.useState("swiper"),[h,f]=T.useState(null),[p,g]=T.useState(!1),y=T.useRef(!1),b=T.useRef(null),m=T.useRef(null),x=T.useRef(null),v=T.useRef(null),E=T.useRef(null),S=T.useRef(null),j=T.useRef(null),I=T.useRef(null),{params:w,passedParams:_,rest:N,events:P}=Mq(l),{slides:C,slots:R}=$q(i),V=()=>{g(!p)};Object.assign(w.on,{_containerClasses(M,U){u(U)}});const B=()=>{Object.assign(w.on,P),c=!0;const M={...w};if(delete M.wrapperClass,m.current=new Qx(M),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=C;const U={cache:!1,slides:C,renderExternal:f,renderExternalUpdate:!1};to(m.current.params.virtual,U),to(m.current.originalParams.virtual,U)}};b.current||B(),m.current&&m.current.on("_beforeBreakpoint",V);const L=()=>{c||!P||!m.current||Object.keys(P).forEach(M=>{m.current.on(M,P[M])})},A=()=>{!P||!m.current||Object.keys(P).forEach(M=>{m.current.off(M,P[M])})};T.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",V)}),T.useEffect(()=>{!y.current&&m.current&&(m.current.emitSlidesClasses(),y.current=!0)}),Rl(()=>{if(e&&(e.current=b.current),!!b.current)return m.current.destroyed&&B(),Vq({el:b.current,nextEl:E.current,prevEl:S.current,paginationEl:j.current,scrollbarEl:I.current,swiper:m.current},w),o&&!m.current.destroyed&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Rl(()=>{L();const M=Fq(_,x.current,C,v.current,U=>U.key);return x.current=_,v.current=C,M.length&&m.current&&!m.current.destroyed&&Lq({swiper:m.current,slides:C,passedParams:_,changedParams:M,nextEl:E.current,prevEl:S.current,scrollbarEl:I.current,paginationEl:j.current}),()=>{A()}}),Rl(()=>{Uq(m.current)},[h]);function D(){return w.virtual?Bq(m.current,C,h):C.map((M,U)=>Re.cloneElement(M,{swiper:m.current,swiperSlideIndex:U}))}return Re.createElement(r,fh({ref:b,className:PA(`${d}${n?` ${n}`:""}`)},N),Re.createElement(zq.Provider,{value:m.current},R["container-start"],Re.createElement(s,{className:Oq(w.wrapperClass)},R["wrapper-start"],D(),R["wrapper-end"]),IA(w)&&Re.createElement(Re.Fragment,null,Re.createElement("div",{ref:S,className:"swiper-button-prev"}),Re.createElement("div",{ref:E,className:"swiper-button-next"})),AA(w)&&Re.createElement("div",{ref:I,className:"swiper-scrollbar"}),CA(w)&&Re.createElement("div",{ref:j,className:"swiper-pagination"}),R["container-end"]))});DA.displayName="Swiper";const OA=T.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:d,...u}=t===void 0?{}:t;const h=T.useRef(null),[f,p]=T.useState("swiper-slide"),[g,y]=T.useState(!1);function b(E,S,j){S===h.current&&p(j)}Rl(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",b),()=>{i&&i.off("_slideClass",b)}}}),Rl(()=>{i&&h.current&&!i.destroyed&&p(i.getSlideClasses(h.current))},[i]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},x=()=>typeof r=="function"?r(m):r,v=()=>{y(!0)};return Re.createElement(n,fh({ref:h,className:PA(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:v},u),o&&Re.createElement(vj.Provider,{value:m},Re.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),l&&!g&&Re.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Re.createElement(vj.Provider,{value:m},x(),l&&!g&&Re.createElement("div",{className:"swiper-lazy-preloader"})))});OA.displayName="SwiperSlide";function LA(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=Tr(t.el,`.${r[s]}`)[0];i||(i=uh("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function Hq(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y.length>1&&e.el.querySelectorAll(g).length===1&&(y=e.el.querySelector(g))),g&&!y?g:y)}function o(g,y){const b=e.params.navigation;g=It(g),g.forEach(m=>{m&&(m.classList[y?"add":"remove"](...b.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=y),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](b.lockClass))})}function l(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function d(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=LA(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=i(g.nextEl),b=i(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:b}),y=It(y),b=It(b);const m=(x,v)=>{x&&x.addEventListener("click",v==="next"?d:c),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};y.forEach(x=>m(x,"next")),b.forEach(x=>m(x,"prev"))}function h(){let{nextEl:g,prevEl:y}=e.navigation;g=It(g),y=It(y);const b=(m,x)=>{m.removeEventListener("click",x==="next"?d:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>b(m,"next")),y.forEach(m=>b(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(u(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=It(g),y=It(y),e.enabled){l();return}[...g,...y].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:b,prevEl:m}=e.navigation;b=It(b),m=It(m);const x=y.target;if(e.params.navigation.hideOnClick&&!m.includes(x)&&!b.includes(x)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let v;b.length?v=b[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(v=m[0].classList.contains(e.params.navigation.hiddenClass)),s(v===!0?"navigationShow":"navigationHide"),[...b,...m].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:u,destroy:h})}function tl(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function qq(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(m,x){const{bulletActiveClass:v}=e.params.pagination;m&&(m=m[`${x==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${v}-${x}`),m=m[`${x==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${v}-${x}-${x}`)))}function u(m){const x=m.target.closest(tl(e.params.pagination.bulletClass));if(!x)return;m.preventDefault();const v=hh(x)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===v)return;e.slideToLoop(v)}else e.slideTo(v)}function h(){const m=e.rtl,x=e.params.pagination;if(c())return;let v=e.pagination.el;v=It(v);let E,S;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,E=e.activeIndex||0),x.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const w=e.pagination.bullets;let _,N,P;if(x.dynamicBullets&&(o=Gg(w[0],e.isHorizontal()?"width":"height",!0),v.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${o*(x.dynamicMainBullets+4)}px`}),x.dynamicMainBullets>1&&S!==void 0&&(l+=E-(S||0),l>x.dynamicMainBullets-1?l=x.dynamicMainBullets-1:l<0&&(l=0)),_=Math.max(E-l,0),N=_+(Math.min(w.length,x.dynamicMainBullets)-1),P=(N+_)/2),w.forEach(C=>{const R=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(V=>`${x.bulletActiveClass}${V}`)].map(V=>typeof V=="string"&&V.includes(" ")?V.split(" "):V).flat();C.classList.remove(...R)}),v.length>1)w.forEach(C=>{const R=hh(C);R===E?C.classList.add(...x.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),x.dynamicBullets&&(R>=_&&R<=N&&C.classList.add(...`${x.bulletActiveClass}-main`.split(" ")),R===_&&d(C,"prev"),R===N&&d(C,"next"))});else{const C=w[E];if(C&&C.classList.add(...x.bulletActiveClass.split(" ")),e.isElement&&w.forEach((R,V)=>{R.setAttribute("part",V===E?"bullet-active":"bullet")}),x.dynamicBullets){const R=w[_],V=w[N];for(let B=_;B<=N;B+=1)w[B]&&w[B].classList.add(...`${x.bulletActiveClass}-main`.split(" "));d(R,"prev"),d(V,"next")}}if(x.dynamicBullets){const C=Math.min(w.length,x.dynamicMainBullets+4),R=(o*C-o)/2-P*o,V=m?"right":"left";w.forEach(B=>{B.style[e.isHorizontal()?V:"top"]=`${R}px`})}}v.forEach((w,_)=>{if(x.type==="fraction"&&(w.querySelectorAll(tl(x.currentClass)).forEach(N=>{N.textContent=x.formatFractionCurrent(E+1)}),w.querySelectorAll(tl(x.totalClass)).forEach(N=>{N.textContent=x.formatFractionTotal(I)})),x.type==="progressbar"){let N;x.progressbarOpposite?N=e.isHorizontal()?"vertical":"horizontal":N=e.isHorizontal()?"horizontal":"vertical";const P=(E+1)/I;let C=1,R=1;N==="horizontal"?C=P:R=P,w.querySelectorAll(tl(x.progressbarFillClass)).forEach(V=>{V.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${R})`,V.style.transitionDuration=`${e.params.speed}ms`})}x.type==="custom"&&x.renderCustom?(w.innerHTML=x.renderCustom(e,E+1,I),_===0&&s("paginationRender",w)):(_===0&&s("paginationRender",w),s("paginationUpdate",w)),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](x.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let v=e.pagination.el;v=It(v);let E="";if(m.type==="bullets"){let S=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>x&&(S=x);for(let j=0;j<S;j+=1)m.renderBullet?E+=m.renderBullet.call(e,j,m.bulletClass):E+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?E=m.renderFraction.call(e,m.currentClass,m.totalClass):E=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?E=m.renderProgressbar.call(e,m.progressbarFillClass):E=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],v.forEach(S=>{m.type!=="custom"&&(S.innerHTML=E||""),m.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(tl(m.bulletClass)))}),m.type!=="custom"&&s("paginationRender",v[0])}function p(){e.params.pagination=LA(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let x;typeof m.el=="string"&&e.isElement&&(x=e.el.querySelector(m.el)),!x&&typeof m.el=="string"&&(x=[...document.querySelectorAll(m.el)]),x||(x=m.el),!(!x||x.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(x)&&x.length>1&&(x=[...e.el.querySelectorAll(m.el)],x.length>1&&(x=x.filter(v=>_A(v,".swiper")[0]===e.el)[0])),Array.isArray(x)&&x.length===1&&(x=x[0]),Object.assign(e.pagination,{el:x}),x=It(x),x.forEach(v=>{m.type==="bullets"&&m.clickable&&v.classList.add(...(m.clickableClass||"").split(" ")),v.classList.add(m.modifierClass+m.type),v.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(v.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&v.classList.add(m.progressbarOppositeClass),m.clickable&&v.addEventListener("click",u),e.enabled||v.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let x=e.pagination.el;x&&(x=It(x),x.forEach(v=>{v.classList.remove(m.hiddenClass),v.classList.remove(m.modifierClass+m.type),v.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(v.classList.remove(...(m.clickableClass||"").split(" ")),v.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(v=>v.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:x}=e.pagination;x=It(x),x.forEach(v=>{v.classList.remove(m.horizontalClass,m.verticalClass),v.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=It(m),m.forEach(x=>x.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,x)=>{const v=x.target,E=It(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!v.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&v===e.navigation.nextEl||e.navigation.prevEl&&v===e.navigation.prevEl))return;const S=E[0].classList.contains(e.params.pagination.hiddenClass);s(S===!0?"paginationShow":"paginationHide"),E.forEach(j=>j.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=It(m),m.forEach(x=>x.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=It(m),m.forEach(x=>x.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:y,disable:b,render:f,update:h,init:p,destroy:g})}function Wq(t){let{swiper:e,extendParams:n,on:r,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,u,h=new Date().getTime(),f,p,g,y,b,m,x;function v(D){!e||e.destroyed||!e.wrapperEl||D.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",v),!x&&N())}const E=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(d=u,f=!1);const D=e.autoplay.paused?u:h+d-new Date().getTime();e.autoplay.timeLeft=D,s("autoplayTimeLeft",D,D/c),l=requestAnimationFrame(()=>{E()})},S=()=>{let D;return e.virtual&&e.params.virtual.enabled?D=e.slides.filter(U=>U.classList.contains("swiper-slide-active"))[0]:D=e.slides[e.activeIndex],D?parseInt(D.getAttribute("data-swiper-autoplay"),10):void 0},j=D=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),E();let M=typeof D>"u"?e.params.autoplay.delay:D;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const U=S();!Number.isNaN(U)&&U>0&&typeof D>"u"&&(M=U,c=U,d=U),u=M;const z=e.params.speed,O=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(z,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,z,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(z,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,z,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{j()})))};return M>0?(clearTimeout(o),o=setTimeout(()=>{O()},M)):requestAnimationFrame(()=>{O()}),M},I=()=>{h=new Date().getTime(),e.autoplay.running=!0,j(),s("autoplayStart")},w=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),s("autoplayStop")},_=(D,M)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),D||(m=!0);const U=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",v):N()};if(e.autoplay.paused=!0,M){b&&(u=e.params.autoplay.delay),b=!1,U();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),U())},N=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,j(u)):j(),e.autoplay.paused=!1,s("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const D=ss();D.visibilityState==="hidden"&&(m=!0,_(!0)),D.visibilityState==="visible"&&N()},C=D=>{D.pointerType==="mouse"&&(m=!0,x=!0,!(e.animating||e.autoplay.paused)&&_(!0))},R=D=>{D.pointerType==="mouse"&&(x=!1,e.autoplay.paused&&N())},V=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",R))},B=()=>{e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",R)},L=()=>{ss().addEventListener("visibilitychange",P)},A=()=>{ss().removeEventListener("visibilitychange",P)};r("init",()=>{e.params.autoplay.enabled&&(V(),L(),I())}),r("destroy",()=>{B(),A(),e.autoplay.running&&w()}),r("_freeModeStaticRelease",()=>{(g||m)&&N()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?w():_(!0,!0)}),r("beforeTransitionStart",(D,M,U)=>{e.destroyed||!e.autoplay.running||(U||!e.params.autoplay.disableOnInteraction?_(!0,!0):w())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){w();return}p=!0,g=!1,m=!1,y=setTimeout(()=>{m=!0,g=!0,_(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&N(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(b=!0)}),Object.assign(e.autoplay,{start:I,stop:w,pause:_,resume:N})}const Gq=()=>{const t=K(e=>e.getslider).data;return a.jsx(a.Fragment,{children:a.jsx("div",{className:"border_bottom_strip",children:a.jsx(DA,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[Wq,qq,Hq],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>a.jsxs(OA,{children:[a.jsx("img",{src:e.bannerURL,alt:e.title}),a.jsx("p",{children:e.title})]},n))})})})},Kq=()=>{const t=K(l=>l.getsettings.data),e=K(l=>{var c;return(c=l.getresearcharea)==null?void 0:c.data}),[n,r]=T.useState(0),s=K(l=>l.getgallery.data);T.useEffect(()=>{Hx(),Xc()},[]);const i=()=>{const l=(n-1+s.length)%s.length;r(l)},o=()=>{const l=(n+1)%s.length;r(l)};return a.jsx("div",{className:"col-sm-12 py-3 px-4  my-3 mb-5",children:a.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[a.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 px-0 py-0",children:a.jsxs("div",{id:"carouselExampleCaptions",className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-indicators",children:s.map((l,c)=>a.jsx("button",{type:"button",title:l==null?void 0:l.title,"data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":c,className:c===n?"active":"","aria-current":c===n?"true":"false","aria-label":`Slide ${c+1}`},c))}),a.jsx("div",{className:"carousel-inner rounded-2 hover_bg",children:s.map((l,c)=>a.jsx("div",{className:c===n?"carousel-item active":"carousel-item",children:a.jsx("div",{style:{height:"400px",width:"100%"},className:"overflow-hidden",children:a.jsx("img",{src:l==null?void 0:l.bannerURL,className:"d-block w-100",alt:"banner image",height:"100%",width:"auto"})})},c))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",onClick:i,style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",onClick:o,style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsxs("div",{className:"col-md-6 col-sm-12",children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Our Objective"}),a.jsx("hr",{}),a.jsxs("p",{children:[t==null?void 0:t.about,". Currently, we are dealing with:-"]}),a.jsx("ol",{children:e==null?void 0:e.map((l,c)=>a.jsx("li",{children:l==null?void 0:l.title},c))}),a.jsx(te,{to:"research-areas",className:"btn btn-shade2",style:{textDecoration:"none"},children:"More"})]})]})})},MA=({ref_:t})=>{const e=K(s=>s.getpublications.data),[n,r]=T.useState(!1);return T.useEffect(()=>{t||(async()=>{r(!0),await Oo(),r(!1)})()},[]),n?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[a.jsxs("h1",{className:"fw-bold text-shade2 w-100 my-4",children:[t&&"Latest"," Publications"]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",style:{height:t?"370px":"fit-content"},children:a.jsx("ol",{className:`px-0 ${t&&"marquee_scroll"}`,style:{height:"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((s,i)=>a.jsx("li",{className:"card rounded-2 mb-2 p-2",children:a.jsx(_f,{entry:s==null?void 0:s.data,id:s==null?void 0:s._id})},i))})}),t&&a.jsx("div",{className:"w-100 my-3",children:a.jsx(te,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&a.jsx(zt,{children:a.jsx("title",{children:"Publications "})})]})},Yq=()=>{const t=K(s=>s.getsettings.data),e=K(s=>s.getnews.data),[n,r]=T.useState(!0);return T.useEffect(()=>{(async()=>{r(!0),await sA(),await Vx(),await Oo(),r(!1)})()},[]),n?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:t==null?void 0:t.name}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Gq,{}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column px-4 mt-4",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx(MA,{ref_:!0})}),a.jsx("div",{className:"col-sm-4",children:a.jsxs("div",{className:"border d-flex flex-column mt-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"py-2  px-4 bg-shade2 text-white",children:"Updates"})}),a.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:a.jsx("div",{className:"marquee_scroll ",children:a.jsx("div",{className:"text-secondary",children:a.jsx("ul",{style:{listStyle:"none"},children:e==null?void 0:e.map((s,i)=>{if(!(i>5))return a.jsxs("li",{children:[a.jsxs("strong",{className:"text-shade2 me-1",children:[i+1,"."]}),a.jsx("strong",{className:"text-shade2",children:qx(s==null?void 0:s.datetime1)}),"-",s==null?void 0:s.title,"-",s==null?void 0:s.description]},i)})})})})}),a.jsx("div",{children:a.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:a.jsx(te,{to:"news",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),a.jsx(Kq,{})]})},Xx=()=>{var n;const t=K(r=>r.getsettings.data),e=r=>{r.preventDefault();const s=t.themes.filter(i=>i.name===r.target.value)[0];s&&(document.documentElement.style.setProperty("--primary-dark",s.colors.primary),document.documentElement.style.setProperty("--secondary-dark",s.colors.secondary),document.documentElement.style.setProperty("--light-dark",s.colors.shade1),document.documentElement.style.setProperty("--secondary-light",s.colors.shade2),document.documentElement.style.setProperty("--primary-light",s.colors.shade2))};return a.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:a.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:a.jsxs("div",{className:"container py-4 p-3",children:[a.jsxs("div",{className:"row gy-4 gx-5",children:[a.jsxs("div",{className:"col-lg-4 col-md-6",children:[a.jsx("h5",{className:"h1 text-white",children:t==null?void 0:t.name}),a.jsx("p",{className:"small text-light",children:t==null?void 0:t.about})," ",a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx(te,{to:"contact",style:{textDecoration:"none"},className:"text-white",children:a.jsx("button",{className:"btn btn-shade2 ",children:"Contact"})}),a.jsx("select",{className:"btn btn-shade2 ms-1 text-start p-2",style:{outline:0,boxShadow:"none",border:0},onChange:e,children:(n=t==null?void 0:t.themes)==null?void 0:n.map((r,s)=>a.jsx("option",{value:r.name,children:r==null?void 0:r.name},s))})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Research"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(te,{to:"publications",className:"link_footer",children:"Publications"})}),a.jsx("li",{children:a.jsx(te,{to:"projects",className:"link_footer",children:"Projects"})}),a.jsx("li",{children:a.jsx(te,{to:"datasets",className:"link_footer",children:"Datasets"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"Supervisor"})}),a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"Ph.D."})}),a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"PG and UG"})}),a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"Interns and Visitors"})}),a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"Alumni Students"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(te,{to:"contact",className:"link_footer",children:"About"})}),a.jsx("li",{children:a.jsx(te,{className:"link_footer",to:"/login",target:"_blank",children:"Login"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Address"}),a.jsx("p",{className:"text-white",children:t==null?void 0:t.address})]})]}),a.jsx("hr",{className:"text-white"}),a.jsxs("p",{className:"small text-light w-100 text-center",children:[" Copyrights. All rights reserved."," ",a.jsx(te,{to:"#",className:"text-shade2 fw-bold",children:t==null?void 0:t.name})]})]})})})},Qq=()=>{const[t,e]=T.useState(!0),n=K(l=>l.getsupervisors.data),r=K(l=>l.getphdStudents.data),s=K(l=>l.getpgugStudents.data),i=K(l=>l.getvisitorsandinterns.data),o=async l=>{try{const c=await Nf(l),d=window.open(c,"_blank","width=550,height=700");d&&d.focus()}catch{k("warning","CV not found!")}};return T.useEffect(()=>{(async()=>{e(!0),await fs(),await fa(),await iA(),await aA(),e(!1)})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:"Peoples "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Supervisor",a.jsx("hr",{})]}),n==null?void 0:n.map((l,c)=>{var d,u,h,f,p,g,y,b,m,x,v,E,S,j,I;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark",children:(d=l==null?void 0:l.data)==null?void 0:d.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-shade2",children:(u=l==null?void 0:l.data)==null?void 0:u.designation})," ","| ",a.jsx("strong",{children:(h=l==null?void 0:l.data)==null?void 0:h.email})," |"," ",a.jsxs("strong",{children:["+91-",(f=l==null?void 0:l.data)==null?void 0:f.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("button",{className:"btn btn-shade1 my-2 btn-sm",onClick:()=>window.open("#/profile/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("button",{className:"btn btn-shade1 my-2 btn-sm ms-2",onClick:()=>{var w;return o((w=l==null?void 0:l.data)==null?void 0:w.email)},children:"Resume"}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-shade1 dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(g=(p=l==null?void 0:l.data)==null?void 0:p.links)==null?void 0:g.map(w=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:w!=null&&w.linkURL?w==null?void 0:w.linkURL:"#",target:"_blank",children:[w==null?void 0:w.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(y=l==null?void 0:l.data)==null?void 0:y.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(m=(b=l==null?void 0:l.data)==null?void 0:b.researchInterests)==null?void 0:m.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(v=(x=l==null?void 0:l.data)==null?void 0:x.teaching)==null?void 0:v.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(S=(E=l==null?void 0:l.data)==null?void 0:E.accomplishments)==null?void 0:S.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(I=(j=l==null?void 0:l.data)==null?void 0:j.professional_affiliation)==null?void 0:I.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]})]})})]},c)}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((l,c)=>{var b,m,x,v;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,supervisor:g}=l==null?void 0:l.data,y=(b=n.filter(E=>{var S,j,I,w,_;return((j=(S=E==null?void 0:E.data)==null?void 0:S.email)==null?void 0:j.stringValue)===((_=(w=(I=g==null?void 0:g.mapValue)==null?void 0:I.fields)==null?void 0:w.email)==null?void 0:_.stringValue)})[0])==null?void 0:b._id;return h!=null&&h.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:d==null?void 0:d.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(f==null?void 0:f.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",p==null?void 0:p.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 my-2 btn-sm",onClick:()=>window.open("#/phd/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+y,target:"_blank",children:[(v=(x=(m=g==null?void 0:g.mapValue)==null?void 0:m.fields)==null?void 0:x.name)==null?void 0:v.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]})]},c)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((l,c)=>{var b,m,x,v;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,supervisor:g}=l==null?void 0:l.data,y=(b=n.filter(E=>{var S,j,I,w,_;return((j=(S=E==null?void 0:E.data)==null?void 0:S.email)==null?void 0:j.stringValue)===((_=(w=(I=g==null?void 0:g.mapValue)==null?void 0:I.fields)==null?void 0:w.email)==null?void 0:_.stringValue)})[0])==null?void 0:b._id;return h!=null&&h.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("strong",{className:"mt-2",children:[a.jsx("h3",{children:d==null?void 0:d.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(f==null?void 0:f.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",p==null?void 0:p.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+y,target:"_blank",children:[(v=(x=(m=g==null?void 0:g.mapValue)==null?void 0:m.fields)==null?void 0:x.name)==null?void 0:v.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]},c):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(l=>{const{name:c,batch:d,isAlumni:u,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return u.booleanValue?null:a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsxs("small",{children:[" ",(h==null?void 0:h.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",f==null?void 0:f.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[p==null?void 0:p.stringValue," student From"," ",(d==null?void 0:d.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:g==null?void 0:g.stringValue}),a.jsx("br",{})]})},l==null?void 0:l._id)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["PG and UG Alumnis",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(l=>{const{name:c,batch:d,isAlumni:u,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return u.booleanValue?a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsxs("small",{children:[" ",(h==null?void 0:h.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",f==null?void 0:f.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[p==null?void 0:p.stringValue," student From"," ",(d==null?void 0:d.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:g==null?void 0:g.stringValue}),a.jsx("br",{})]})},l==null?void 0:l._id):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Vistors and Inters",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(l=>{const{name:c,collegeName:d}=l==null?void 0:l.data;return a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h4",{children:c==null?void 0:c.stringValue}),a.jsx("hr",{}),a.jsx("p",{className:"fw-bold text-dark",children:d==null?void 0:d.stringValue})]})},l==null?void 0:l._id)})})]})]})},Xq=()=>{const t=K(r=>{var s;return(s=r.getdatasets)==null?void 0:s.data}),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await pa(),n(!1)})()},[]),e?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:"Datasets "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Datasets",a.jsx("hr",{})]}),t==null?void 0:t.map((r,s)=>a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[s+1,". "]}),r==null?void 0:r.title]}),a.jsx("p",{children:r==null?void 0:r.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+s,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:r.images.map((i,o)=>a.jsx("div",{className:`carousel-item ${o===0&&"active"}`,children:a.jsx("img",{src:i==null?void 0:i.url,className:"d-block w-100",alt:"This is image"})},o))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]},s))]})]})},Jq=()=>{const[t,e]=T.useState(!0),n=K(s=>{var i;return(i=s.getresearcharea)==null?void 0:i.data}),r=K(s=>s.getsubareas).data;return T.useEffect(()=>{(async()=>{e(!0),await Xc(),await Ef(),e(!1)})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:"Research Areas "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Research Areas",a.jsx("hr",{})]}),n==null?void 0:n.map((s,i)=>{const o=(s==null?void 0:s.subareas)||[],l=r==null?void 0:r.filter(c=>o.some(d=>d.stringValue===(c==null?void 0:c._id)));return(i+1)%2!==0?a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),a.jsxs("div",{className:"col-sm-8=6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,d)=>a.jsx("li",{children:c==null?void 0:c.title},d))}),(l==null?void 0:l.length)!==0&&a.jsx(te,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-shade1 btn-sm",children:"See More"})})]})]})]},i):a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,d)=>a.jsx("li",{children:c==null?void 0:c.title},d))}),(l==null?void 0:l.length)!==0&&a.jsx(te,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-shade1 btn-sm",children:"See More"})})]})]}),a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},i)})]})]})},Zq=()=>{const[t,e]=T.useState(!0),{id:n}=Ur(),r=K(d=>{var u;return(u=d.getresearcharea)==null?void 0:u.data}),s=K(d=>d.getsubareas).data,i=K(d=>{var u;return(u=d.getprojectitems)==null?void 0:u.data}),o=r.find(d=>d._id===n);o||(window.location.href="/CVPR_LAB/#/dashboard/research-areas");const l=(o==null?void 0:o.subareas)||[],c=s==null?void 0:s.filter(d=>l.some(u=>u.stringValue===(d==null?void 0:d._id)));return T.useEffect(()=>{(async()=>{e(!0),await Xc(),await Ef(),await ma(),e(!1)})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:o==null?void 0:o.title})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsx("div",{className:"col-sm-12 text-start w-100",children:a.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[a.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:[o==null?void 0:o.title,a.jsx("hr",{})]}),a.jsx("div",{className:"col-sm-12",children:a.jsx("div",{className:"card p-3",children:a.jsx("img",{src:o==null?void 0:o.bannerURL,alt:"Banner URL"})})}),a.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((d,u)=>{var h;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("h1",{children:[a.jsxs("strong",{className:"fw-bold text-shade2",children:[u+1,". "]}),d==null?void 0:d.title]}),a.jsx("hr",{}),a.jsx("p",{children:d==null?void 0:d.description}),a.jsx("h3",{className:"fw-bold text-shade2 mb-3",children:"Related Projects"}),a.jsx("div",{className:"col-sm-12",children:(h=d==null?void 0:d.projects)==null?void 0:h.map((f,p)=>{const g=i==null?void 0:i.find(y=>(y==null?void 0:y._id)==(f==null?void 0:f.stringValue));return a.jsxs("div",{className:"card p-2 mb-4",children:[a.jsxs("h6",{children:[" ",a.jsxs("strong",{className:"fw-bold text-shade2",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",a.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(te,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},u)})})]})]})},eW=()=>{const t=K(e=>e.getsettings.data);return a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:"Contact "})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-shade2 text-center text-lg-start",children:["Contact Us",a.jsx("hr",{})]}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"300px",style:{border:"none"},allowFullScreen:!0})}),a.jsxs("div",{className:"col-sm-4",id:"contact2",children:[a.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("hr",{className:"text-left w-50"}),a.jsx("h4",{className:"pt-2",children:"Address"}),a.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),t==null?void 0:t.address]})]})]})]})},tW=()=>{const[t,e]=T.useState(!0),n=K(o=>{var l;return(l=o.getprojectitems)==null?void 0:l.data}),r=K(o=>{var l;return(l=o.getdatasets)==null?void 0:l.data}),s=K(o=>{var l;return(l=o.getprojectsimages)==null?void 0:l.data}),i=K(o=>{var l;return(l=o.getprojectsmain)==null?void 0:l.data});return T.useEffect(()=>{(async()=>{e(!0),Jc(),e(!1),Wx(),ma(),pa()})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:"Projects "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Research Projects",a.jsx("hr",{})]}),i==null?void 0:i.map((o,l)=>{var c,d,u,h,f,p,g,y,b,m,x,v,E,S,j,I,w,_;return a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[l+1,". "]}),(c=o==null?void 0:o.title)==null?void 0:c.stringValue]}),a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Project Video"]})}),a.jsx("td",{children:(f=(h=(u=(d=o==null?void 0:o.video)==null?void 0:d.mapValue)==null?void 0:u.fields)==null?void 0:h.timestamp)!=null&&f.timestampValue?a.jsxs("button",{className:"btn btn-success d-flex align-items-center",onClick:async()=>{try{const N=await Gx(o==null?void 0:o._id),P=window.open(N,"_blank","width=550,height=700");P&&P.focus()}catch{k("warning","Video Not Found!")}},children:[a.jsx("i",{className:"bx bx-video me-1"})," Watch Now"]}):"Not Available"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Funding Agency"]})}),a.jsx("td",{children:(p=o==null?void 0:o.funding_agency)==null?void 0:p.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(g=o==null?void 0:o.total_fund)==null?void 0:g.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Project Investigators"]})}),a.jsx("td",{children:(y=o==null?void 0:o.pis)==null?void 0:y.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(b=o==null?void 0:o.copis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"6. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(m=o==null?void 0:o.jrf_phd_scholar)==null?void 0:m.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-shade2 mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"",children:(x=o==null?void 0:o.description)==null?void 0:x.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(v=s==null?void 0:s.filter(N=>(N==null?void 0:N.project)==(o==null?void 0:o._id)))==null?void 0:v.map((N,P)=>a.jsxs("div",{className:P===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:N==null?void 0:N.bannerURL,className:"d-block w-100",alt:"banner image"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:N==null?void 0:N.title})})]},P))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(j=(S=(E=o==null?void 0:o.related_datasets)==null?void 0:E.arrayValue)==null?void 0:S.values)==null?void 0:j.map((N,P)=>{const C=r==null?void 0:r.find(R=>(R==null?void 0:R._id)==(N==null?void 0:N.stringValue));return a.jsxs("div",{children:[P+1,". ",C==null?void 0:C.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(C==null?void 0:C._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(C==null?void 0:C._id)+"Modal",tabIndex:-1,"aria-labelledby":(C==null?void 0:C._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(C==null?void 0:C._id)+"ModalLabel",children:C==null?void 0:C.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:C==null?void 0:C.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:C==null?void 0:C.images.map((R,V)=>a.jsx("div",{className:`carousel-item ${V===0&&"active"}`,children:a.jsx("img",{src:R==null?void 0:R.url,className:"d-block w-100",alt:"This is image"})},V))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},P)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(_=(w=(I=o==null?void 0:o.related_projectitems)==null?void 0:I.arrayValue)==null?void 0:w.values)==null?void 0:_.map((N,P)=>{const C=n==null?void 0:n.find(R=>(R==null?void 0:R._id)==(N==null?void 0:N.stringValue));return a.jsxs("div",{children:[P+1,". ",C==null?void 0:C.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(C==null?void 0:C._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(C==null?void 0:C._id)+"Modal",tabIndex:-1,"aria-labelledby":(C==null?void 0:C._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(C==null?void 0:C._id)+"ModalLabel",children:[C==null?void 0:C.title,"("," ",a.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:C==null?void 0:C.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(te,{to:C==null?void 0:C.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:C==null?void 0:C.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},P)})})]})]})]})]},l)})]})]})},nW=()=>{const t=K(r=>r.getnews.data),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await Vx(),n(!1)})()},[]),a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:"News "})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-shade2 text-center text-lg-start",children:["Latest News",a.jsx("hr",{})]}),a.jsx("div",{className:"",children:a.jsxs("table",{className:"table table-bordered table-hover table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Timestamp"})]})}),a.jsxs("tbody",{children:[e&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:a.jsx("h2",{className:"fw-bold text-center my-5 text-shade2",children:"Loading..."})})}),!e&&t.length>0&&(t==null?void 0:t.map((r,s)=>{if(!(s>5))return a.jsxs("tr",{children:[a.jsx("td",{children:s+1}),a.jsx("td",{className:"fw-bold text-shade2",children:r==null?void 0:r.title}),a.jsx("td",{children:r==null?void 0:r.description}),a.jsx("td",{children:qx(r==null?void 0:r.datetime1)})]},s)})),t.length<1&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:a.jsx("h2",{className:"fw-bold text-center my-5 text-shade2",children:"No Data"})})})]})]})})]})]})},rW=()=>{const[t,e]=T.useState(!0),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=K(l=>l.getgallery.data);return T.useEffect(()=>{(async()=>{e(!0),await Hx(),e(!1)})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:"Gallery "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Image Gallery",a.jsx("hr",{})]}),a.jsx("div",{className:"row1 row",children:sW(o,Number(o.length)/4).map((l,c)=>a.jsx("div",{className:"column1 column",children:l.map((d,u)=>a.jsx("img",{className:"shadow-lg rounded-3",src:d==null?void 0:d.bannerURL,style:{width:"100%"},onClick:()=>{r(d==null?void 0:d.bannerURL),i(!0)}},u))},c))})]}),s&&a.jsxs("div",{className:"full_screen_image",children:[a.jsx("img",{src:n,alt:"full screen image"}),a.jsx("button",{onClick:()=>{i(!1),r("")},className:"btn btn-shade1",children:"Close"})]})]})},sW=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},iW=()=>a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:"Welcome "})}),a.jsx(Kx,{}),a.jsxs(Kv,{children:[a.jsx(me,{path:"/",element:a.jsx(Yq,{})}),a.jsx(me,{path:"/peoples",element:a.jsx(Qq,{})}),a.jsx(me,{path:"/news",element:a.jsx(nW,{})}),a.jsx(me,{path:"/gallery",element:a.jsx(rW,{})}),a.jsx(me,{path:"/datasets",element:a.jsx(Xq,{})}),a.jsx(me,{path:"/projects",element:a.jsx(tW,{})}),a.jsx(me,{path:"/research-areas",element:a.jsx(Jq,{})}),a.jsx(me,{path:"/research-areas/:id",element:a.jsx(Zq,{})}),a.jsx(me,{path:"/publications",element:a.jsx(MA,{ref_:!1})}),a.jsx(me,{path:"/contact",element:a.jsx(eW,{})})]}),a.jsx(Xx,{})]}),aW=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(!1);T.useEffect(()=>{const h=Jt.onAuthStateChanged(f=>{f&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>h()},[]);const c=async h=>{if(h.preventDefault(),!t||!s){k("warning","Email and Password fields are required!");return}l(!0);try{await k4(Jt,t,s),await fs(),window.location.reload()}catch{k("danger","Invalid Email or Password!")}l(!1)},d=async()=>{l(!0),Jt.languageCode="it",s3(Jt,J3).then(async()=>{await fs(),window.location.reload()}).catch(h=>{(h==null?void 0:h.code)==="auth/admin-restricted-operation"?k("danger","User does not existed!"):k("danger","Invalid Email or Password!")}).finally(()=>{l(!1)})},u=async()=>{if(!n){k("warning","Email should not be empty!");return}l(!0),await P4(Jt,n).then(()=>{k("success","Password reset email sent!"),window.close()}).catch(()=>{k("danger","Error sending password reset email. Please try again later.")}),l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Login"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:h=>e(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:h=>i(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[a.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forgot Password?"}),a.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",children:a.jsxs("div",{className:"modal-content rounded-0",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forgot Password"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:h=>r(h.target.value),placeholder:"ie. user@gmail.com"})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-dark",onClick:u,disabled:o,children:o?"Please Wait..":"Send Mail"})]})]})})})]}),a.jsx("button",{onClick:c,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Submit"})]}),a.jsx("hr",{}),a.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2 border-1 border-secondary",onClick:d,disabled:o,children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(te,{to:"/register",children:"New Supervisor or PHD Student?"})]})]}),a.jsx(zt,{children:a.jsx("title",{children:"Login "})})]})},oW=()=>{const{pathname:t}=Ic();return T.useEffect(()=>{window.scrollTo(0,0)},[t]),null},lW=()=>{var b,m,x,v,E,S,j,I,w,_,N,P,C,R,V,B;const{id:t}=Ur(),[e,n]=T.useState(!0),s=K(L=>L.getsupervisors.data).filter(L=>L._id==t)[0],o=K(L=>L.getpublications.data).filter(L=>{var D;const A=(D=L==null?void 0:L.data)==null?void 0:D.users;return A&&A.length>0?A.some(M=>{var U;return M===((U=s==null?void 0:s.data)==null?void 0:U.email)}):!1}),l=K(L=>{var A;return(A=L.getprojectsimages)==null?void 0:A.data}),c=K(L=>{var A;return(A=L.getprojectitems)==null?void 0:A.data}),d=K(L=>{var A;return(A=L.getdatasets)==null?void 0:A.data}),h=K(L=>{var A;return(A=L.getprojectsmain)==null?void 0:A.data}).filter(L=>{var D,M;const A=(M=(D=L==null?void 0:L.users)==null?void 0:D.arrayValue)==null?void 0:M.values;return A&&A.length>0?A.some(U=>{var z;return U.stringValue===((z=s==null?void 0:s.data)==null?void 0:z.email)}):!1}),p=K(L=>L.getphdStudents.data).filter(L=>{var A;return L.data.supervisor.mapValue.fields.email.stringValue===((A=s==null?void 0:s.data)==null?void 0:A.email)}),[g,y]=T.useState("");return T.useEffect(()=>{(async()=>{n(!0),await fs(),await Oo(),await Jc(),await fa(),n(!1),await pa(),await ma(),await Wx(),await(async()=>{var M;const D=await Nf((M=s==null?void 0:s.data)==null?void 0:M.email);y(D)})()})()},[]),e?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:(b=s==null?void 0:s.data)==null?void 0:b.name})}),a.jsx(Kx,{}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark ms-2",children:(m=s==null?void 0:s.data)==null?void 0:m.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-shade2 ms-2",children:(x=s==null?void 0:s.data)==null?void 0:x.designation})," ","| ",a.jsx("strong",{children:(v=s==null?void 0:s.data)==null?void 0:v.email})," |"," ",a.jsxs("strong",{children:["+91-",(E=s==null?void 0:s.data)==null?void 0:E.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[g!==null&&g!==""&&a.jsx("button",{className:"btn btn-shade1 my-2 btn-sm ms-2",onClick:()=>window.open(g,"_blank"),children:"Resume"}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-shade1 dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(j=(S=s==null?void 0:s.data)==null?void 0:S.links)==null?void 0:j.map(L=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:L!=null&&L.linkURL?L==null?void 0:L.linkURL:"#",target:"_blank",children:[L==null?void 0:L.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(I=s==null?void 0:s.data)==null?void 0:I.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(_=(w=s==null?void 0:s.data)==null?void 0:w.researchInterests)==null?void 0:_.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(P=(N=s==null?void 0:s.data)==null?void 0:N.teaching)==null?void 0:P.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(R=(C=s==null?void 0:s.data)==null?void 0:C.accomplishments)==null?void 0:R.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(B=(V=s==null?void 0:s.data)==null?void 0:V.professional_affiliation)==null?void 0:B.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]})]})})]}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Papers"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ol",{style:{height:"fit-content",overflow:"hidden"},children:o==null?void 0:o.map((L,A)=>{const{users:D}=L==null?void 0:L.data;if(D.filter(U=>{var z;return U===((z=s==null?void 0:s.data)==null?void 0:z.email)})[0])return a.jsx("li",{className:"mb-2",children:a.jsx(_f,{entry:L==null?void 0:L.data,id:L==null?void 0:L._id})},A)})})})]})}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),a.jsx("hr",{}),a.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:h==null?void 0:h.map((L,A)=>{var D,M,U,z,O,F,Z,se,fe,be,Ue,ie,ye,Pe,Fe,q,le,ve;return a.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[a.jsx("h1",{className:"accordion-header",id:"heading"+A,children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+A,"aria-expanded":"true","aria-controls":"collapse"+A,children:a.jsxs("h5",{children:[a.jsxs("strong",{className:"text-shade2",children:[A+1,". "]}),(D=L==null?void 0:L.title)==null?void 0:D.stringValue]})})}),a.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:a.jsx("div",{id:"collapse"+A,className:"accordion-collapse collapse","aria-labelledby":"heading"+A,"data-bs-parent":"#accordionExample",children:a.jsx("div",{className:"accordion-body",children:a.jsx("div",{className:"col-sm-12 mb-3 overflow-auto",children:a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-column flex-lg-column gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["1."," "]}),"Project Video"]})}),a.jsx("td",{children:(O=(z=(U=(M=L==null?void 0:L.video)==null?void 0:M.mapValue)==null?void 0:U.fields)==null?void 0:z.timestamp)!=null&&O.timestampValue?a.jsxs("button",{className:"btn btn-success d-flex align-items-center",onClick:async()=>{try{const ae=await Gx(L==null?void 0:L._id),Se=window.open(ae,"_blank","width=550,height=700");Se&&Se.focus()}catch{k("warning","Video Not Found!")}},children:[a.jsx("i",{className:"bx bx-video me-1"})," ","Watch Now"]}):"Not Available"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["2."," "]}),"Funding Agency"]})}),a.jsx("td",{children:(F=L==null?void 0:L.funding_agency)==null?void 0:F.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["3."," "]}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(Z=L==null?void 0:L.total_fund)==null?void 0:Z.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["4."," "]}),"Project Investigators"]})}),a.jsx("td",{children:(se=L==null?void 0:L.pis)==null?void 0:se.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["5."," "]}),"Co-Project Investigators"]})}),a.jsx("td",{children:(fe=L==null?void 0:L.copis)==null?void 0:fe.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["6."," "]}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(be=L==null?void 0:L.jrf_phd_scholar)==null?void 0:be.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-12 col-md-12  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-shade2 mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"w-100 overflow-auto",children:(Ue=L==null?void 0:L.description)==null?void 0:Ue.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+A,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(ie=l==null?void 0:l.filter(ae=>(ae==null?void 0:ae.project)==(L==null?void 0:L._id)))==null?void 0:ie.map((ae,Se)=>a.jsxs("div",{className:Se===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:ae==null?void 0:ae.bannerURL,className:"d-block w-100",alt:"banner image",height:"400px"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:ae==null?void 0:ae.title})})]},Se))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(Fe=(Pe=(ye=L==null?void 0:L.related_datasets)==null?void 0:ye.arrayValue)==null?void 0:Pe.values)==null?void 0:Fe.map((ae,Se)=>{const Q=d==null?void 0:d.find(ke=>(ke==null?void 0:ke._id)==(ae==null?void 0:ae.stringValue));return a.jsxs("div",{children:[Se+1,". ",Q==null?void 0:Q.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(Q==null?void 0:Q._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(Q==null?void 0:Q._id)+"Modal",tabIndex:-1,"aria-labelledby":(Q==null?void 0:Q._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(Q==null?void 0:Q._id)+"ModalLabel",children:Q==null?void 0:Q.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:Q==null?void 0:Q.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+A,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:Q==null?void 0:Q.images.map((ke,sn)=>a.jsx("div",{className:`carousel-item ${sn===0&&"active"}`,children:a.jsx("img",{src:ke==null?void 0:ke.url,className:"d-block w-100",alt:"This is image"})},sn))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+A,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+A,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},Se)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(ve=(le=(q=L==null?void 0:L.related_projectitems)==null?void 0:q.arrayValue)==null?void 0:le.values)==null?void 0:ve.map((ae,Se)=>{const Q=c==null?void 0:c.find(ke=>(ke==null?void 0:ke._id)==(ae==null?void 0:ae.stringValue));return a.jsxs("div",{children:[Se+1,". ",Q==null?void 0:Q.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(Q==null?void 0:Q._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(Q==null?void 0:Q._id)+"Modal",tabIndex:-1,"aria-labelledby":(Q==null?void 0:Q._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(Q==null?void 0:Q._id)+"ModalLabel",children:[Q==null?void 0:Q.title,"("," ",a.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:Q==null?void 0:Q.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(te,{to:Q==null?void 0:Q.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:Q==null?void 0:Q.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},Se)})})]})]})]})},"item_"+A)})})})]},A)})})]})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((L,A)=>{const{name:D,batch:M,isAlumni:U,email:z,mobile:O}=L==null?void 0:L.data;return U!=null&&U.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:L==null?void 0:L.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:D==null?void 0:D.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(z==null?void 0:z.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(M==null?void 0:M.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",O==null?void 0:O.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+L._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},A)})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((L,A)=>{const{name:D,batch:M,isAlumni:U,email:z,mobile:O}=L==null?void 0:L.data;return U!=null&&U.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:L==null?void 0:L.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("strong",{className:"mt-2 d-inline",children:[a.jsx("h3",{children:D==null?void 0:D.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(z==null?void 0:z.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(M==null?void 0:M.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",O==null?void 0:O.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+L._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},A):null})})]}),a.jsx(Xx,{})]})},cW=({content:t,id:e,type:n})=>{const r=l9(),s=K(i=>i.getalerts.data);return a.jsx(a.Fragment,{children:a.jsxs("div",{className:`alert-anm alert alert-${n} rounded-0 my-1 d-flex flex-nowrap`,role:"alert",children:[a.jsx("h6",{children:t}),a.jsx("button",{type:"button",className:"btn-close ms-2",onClick:()=>{r(_C(s.filter(i=>i.id!=e)))}})]})})},dW=["ADMIN","SUPERVISOR","PHD"],uW=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(!1),[c,d]=T.useState(null),[u,h]=T.useState(!1);T.useEffect(()=>{const g=Jt.onAuthStateChanged(y=>{y&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>g()},[]);const f=async g=>{if(g.preventDefault(),!t||!c){k("warning","Email and User Type fields are required!"),l(!1);return}l(!0);let y;if(c==="SUPERVISOR"?y=jt(re(W,"supervisors"),Gn("email","==",t)):c==="PHD"&&(y=jt(re(W,"phdStudents"),Gn("email","==",t))),!(await _e(y)).empty){h(!0),k("success","User with this email is existed, Choose your password and proceed!"),l(!1);return}k("danger","User with this email does not existed, contact your admin!"),l(!1)},p=async g=>{if(g.preventDefault(),!c){k("warning","User Type field is required!");return}if(!t||!n||!s){k("warning","Email, Password and Confirm Pasword fields are required!");return}if(n!==s){k("warning","Password and Confirm Password does not match!");return}if(n.length<6){k("warning","Password must be atleast 6 charactors long!");return}if(l(!0),c==="SUPERVISOR")try{await q0(Jt,t,n),await Ye(re(W,"users"),{email:t,userType:"SUPERVISOR"}),window.location.href="/CVPR_LAB/#/dashboard"}catch{k("danger","Error while creating account, try again!")}else if(c==="PHD")try{await q0(Jt,t,n),await Ye(re(W,"users"),{email:t,userType:"PHD"}),window.location.href="/CVPR_LAB/#/dashboard"}catch(y){if(y.code=="auth/email-already-in-use"){k("success","Account already created, Login with your email and password!"),window.location.href="#/login";return}k("danger","Error while creating account, try again!")}l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100 my-5",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-12 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Activate Your Account"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"User Type"}),a.jsxs("select",{name:"userType",id:"userType",className:"form-control",onChange:g=>d(g.target.value),disabled:o||u,children:[a.jsx("option",{value:"",children:"--select user type--"}),dW.map((g,y)=>{if(g!=="ADMIN")return a.jsx("option",{value:g,children:g},y)})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:g=>e(g.target.value),disabled:o||u})]}),u?a.jsx("div",{className:"alert alert-success p-1 rounded-0 mb-0",children:a.jsx("ul",{children:a.jsx("li",{children:"User Existed, choose your password and proceed to login!"})})}):a.jsx("div",{className:"alert alert-warning p-1 rounded-0 mb-0",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Utilize the email address provided to the administrator."}),a.jsx("li",{children:"If an email address has not been provided, kindly furnish it to the administrator prior to activating your account."}),a.jsx("li",{children:"The email address must be affiliated with the institute, e.g., test@iitrpr.ac.in."})]})}),u?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:g=>r(g.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword2",onChange:g=>i(g.target.value),disabled:o})]}),a.jsx("div",{className:"alert alert-warning p-1 rounded-0 ",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Password and Confirm password must be same."}),a.jsx("li",{children:"Password must be atleast 6 charactors long."})]})}),a.jsx("button",{onClick:p,className:"btn btn-success w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Proceed"})]}):a.jsx("button",{onClick:f,className:"btn btn-dark w-100 p-2 text-uppercase mt-3",disabled:o,children:o?"Please Wait..":"Check the user availablity"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(te,{to:"/login",children:"Already have an account?"})]})]}),a.jsx(zt,{children:a.jsx("title",{children:"Register "})})]})},hW=()=>{var h,f,p,g,y,b,m,x,v,E,S,j,I,w,_,N,P,C,R,V,B,L,A,D,M,U,z,O,F,Z,se,fe,be,Ue,ie,ye,Pe,Fe;const{id:t}=Ur(),[e,n]=T.useState(!0),s=K(q=>q.getphdStudents.data).filter(q=>q._id==t)[0];let i="";(p=(f=(h=s==null?void 0:s.data)==null?void 0:h.researchInterests)==null?void 0:f.arrayValue)==null||p.values.map(q=>{i=i+(i===""?"":",")+(q==null?void 0:q.stringValue)});let o=[];(b=(y=(g=s==null?void 0:s.data)==null?void 0:g.links)==null?void 0:y.arrayValue)==null||b.values.map(q=>{var le,ve,ae,Se,Q,ke;o.push({linkName:(ae=(ve=(le=q==null?void 0:q.mapValue)==null?void 0:le.fields)==null?void 0:ve.linkName)==null?void 0:ae.stringValue,linkURL:(ke=(Q=(Se=q==null?void 0:q.mapValue)==null?void 0:Se.fields)==null?void 0:Q.linkURL)==null?void 0:ke.stringValue})});const c=K(q=>q.getpublications.data).filter(q=>{var ve;const le=(ve=q==null?void 0:q.data)==null?void 0:ve.users;return le&&le.length>0?le.some(ae=>{var Se,Q;return ae===((Q=(Se=s==null?void 0:s.data)==null?void 0:Se.email)==null?void 0:Q.stringValue)}):!1}),u=K(q=>q.getResearchTopics.data).filter(q=>{var le,ve;return(q==null?void 0:q.userID)==((ve=(le=s==null?void 0:s.data)==null?void 0:le.email)==null?void 0:ve.stringValue)});return T.useEffect(()=>{(async()=>{n(!0),await fa(),await Oo(),await xA(),n(!1)})()},[]),e?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(zt,{children:a.jsx("title",{children:(x=(m=s==null?void 0:s.data)==null?void 0:m.name)==null?void 0:x.stringValue})}),a.jsx(Kx,{}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Ph.D. Student",a.jsx("hr",{})]}),a.jsxs("div",{className:"overflow-auto mt-3",children:[a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:s==null?void 0:s.profileImage,target:"_blank",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsxs("td",{colSpan:7,children:[a.jsx("h2",{className:"fw-bold text-shade2",children:(E=(v=s==null?void 0:s.data)==null?void 0:v.name)==null?void 0:E.stringValue}),(j=(S=s==null?void 0:s.data)==null?void 0:S.isAlumni)!=null&&j.booleanValue?a.jsx("div",{className:"fw-bold text-secondary",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-secondary",children:"Ongoing Student"}),a.jsx("button",{className:"btn btn-shade1 my-3 btn-sm",onClick:async()=>{var le,ve;const q=await Nf((ve=(le=s==null?void 0:s.data)==null?void 0:le.email)==null?void 0:ve.stringValue);if(!q){k("warning","Resume not uploaded!");return}window.open(q,"_blank")},children:"Resume"})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Name"})}),a.jsx("td",{children:(w=(I=s==null?void 0:s.data)==null?void 0:I.name)==null?void 0:w.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-shade2",children:"Email"})}),a.jsx("td",{children:(N=(_=s==null?void 0:s.data)==null?void 0:_.email)==null?void 0:N.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Batch"})]}),a.jsx("td",{children:((C=(P=s==null?void 0:s.data)==null?void 0:P.batch)==null?void 0:C.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(A=(L=(B=(V=(R=s==null?void 0:s.data)==null?void 0:R.supervisor)==null?void 0:V.mapValue)==null?void 0:B.fields)==null?void 0:L.name)==null?void 0:A.stringValue,", ",a.jsx("strong",{children:"Email: "}),(O=(z=(U=(M=(D=s==null?void 0:s.data)==null?void 0:D.supervisor)==null?void 0:M.mapValue)==null?void 0:U.fields)==null?void 0:z.email)==null?void 0:O.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((Z=(F=s==null?void 0:s.data)==null?void 0:F.mobile)==null?void 0:Z.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((fe=(se=s==null?void 0:s.data)==null?void 0:se.personal_email)==null?void 0:fe.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(ye=(ie=(Ue=(be=s==null?void 0:s.data)==null?void 0:be.researchInterests)==null?void 0:Ue.arrayValue)==null?void 0:ie.values)==null?void 0:ye.map((q,le)=>a.jsx(te,{to:"https://www.google.com/search?q="+(q==null?void 0:q.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:q==null?void 0:q.stringValue},le)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(Fe=(Pe=s==null?void 0:s.data)==null?void 0:Pe.introduction)==null?void 0:Fe.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Links"})}),a.jsx("td",{colSpan:7,children:o.map(q=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(q==null?void 0:q.linkURL,"_blank"),children:q==null?void 0:q.linkName}))})]})]})}),a.jsx("div",{className:"card p-3 mb-4 rounded-0",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Papers"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ol",{style:{height:"fit-content",overflow:"hidden"},children:c==null?void 0:c.map((q,le)=>{const{users:ve}=q==null?void 0:q.data;if(ve.filter(Se=>{var Q,ke;return Se===((ke=(Q=s==null?void 0:s.data)==null?void 0:Q.email)==null?void 0:ke.stringValue)})[0])return a.jsx("li",{className:"mb-2",children:a.jsx(_f,{entry:q==null?void 0:q.data,id:q==null?void 0:q._id})},le)})})})]})}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Topics"}),a.jsx("hr",{}),a.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:u==null?void 0:u.map((q,le)=>a.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[a.jsx("h1",{className:"accordion-header",id:"heading"+le,children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+le,"aria-expanded":"true","aria-controls":"collapse"+le,children:a.jsxs("h5",{children:[a.jsxs("strong",{className:"text-shade2",children:[le+1,"."," "]}),q==null?void 0:q.title]})})}),a.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:a.jsx("div",{id:"collapse"+le,className:"accordion-collapse collapse","aria-labelledby":"heading"+le,"data-bs-parent":"#accordionExample",children:a.jsx("div",{className:"accordion-body",children:a.jsxs("div",{className:"col-sm-12 mb-3 overflow-auto",children:[a.jsx("div",{className:"col-sm-12",children:a.jsx("p",{children:q==null?void 0:q.description})}),a.jsx("div",{className:"col-sm-12",children:a.jsxs("div",{id:"carouselExampleControls"+le,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-inner",children:[a.jsx("div",{className:"carousel-item active",children:a.jsx("img",{src:q.images[0],alt:"",className:"mb-2",style:{width:"100%",height:"400px"}})}),a.jsx("div",{className:"carousel-item",children:a.jsx("img",{src:q.images[1],alt:"",className:"mb-2",style:{width:"100%",height:"400px"}})}),a.jsx("div",{className:"carousel-item",children:a.jsx("img",{src:q.images[2],alt:"",className:"mb-2",style:{width:"100%",height:"400px"}})}),a.jsx("div",{className:"carousel-item",children:a.jsx("img",{src:q.images[3],alt:"",className:"mb-2",style:{width:"100%",height:"400px"}})})]}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+le,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+le,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]},"item_"+le)})})})]},le))})]})})]})]}),a.jsx(Xx,{})]})},fW=async()=>{try{const t=jt(re(W,"website_settings"),ti(1)),n=(await _e(t)).docs[0];if(n){const r=n.data(),s=r.themes.filter(i=>i.current===!0)[0];document.documentElement.style.setProperty("--primary-dark",s.colors.primary),document.documentElement.style.setProperty("--secondary-dark",s.colors.secondary),document.documentElement.style.setProperty("--light-dark",s.colors.shade1),document.documentElement.style.setProperty("--secondary-light",s.colors.shade2),document.documentElement.style.setProperty("--primary-light",s.colors.shade2),window.VITE_APP_TITLE=r.name,rt.dispatch(tz(r))}}catch{rt.dispatch(nz()),k("danger","Error Occurred while Saving the changes.")}},pW=({background:t,height:e,width:n,fillColor:r})=>{const s=T.useRef(null),i=T.useRef({x:0,y:0}),o=[],l=40,c=l/2,d=0;return T.useEffect(()=>{const u=s.current,h=u==null?void 0:u.getContext("2d"),f=window.devicePixelRatio||1;let p=u==null?void 0:u.getBoundingClientRect();const g=S=>{i.current.x=S.pageX*f,i.current.y=S.pageY*f},y=()=>{h.canvas.width=window.innerWidth*f,h.canvas.height=window.innerHeight*f,p=u==null?void 0:u.getBoundingClientRect()};window.addEventListener("mousemove",g),window.addEventListener("resize",y),y();function b(){for(let S=-1;++S<l;){const j=Math.floor((p.width-d*2)/(l-1)*S+d)*f;for(let I=-1;++I<c;){const w=Math.floor((p.height-d*2)/(c-1)*I+d)*f;o.push({x:j,y:w,ox:j,oy:w,size:0,angle:0})}}}function m(){if(h){h.clearRect(0,0,h.canvas.width,h.canvas.height),h.fillStyle=getComputedStyle(document.documentElement).getPropertyValue(r);for(let S=0;S<o.length;S++){const j=o[S],I=x(j);h.beginPath(),h.moveTo(j.x,j.y),h.lineTo(j.x+I.x,j.y+I.y),h.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue(r),h.lineWidth=1*f,h.stroke(),h.closePath()}for(let S=0;S<o.length;S++){const j=o[S],I=x(j);h.circle(j.x+I.x,j.y+I.y,j.size*f),h.fill()}}}function x(S){const j=E(S,i.current);return S.size=(200-j)/20,S.size=S.size<1?1:S.size,S.angle=v(S,i.current),{x:(j>20?20:j)*Math.cos(S.angle*Math.PI/180),y:(j>20?20:j)*Math.sin(S.angle*Math.PI/180)}}function v(S,j){const I=j.x-S.x,w=j.y-S.y;return Math.atan2(w,I)/Math.PI*180}function E(S,j){const I=S.x-j.x,w=S.y-j.y;return Math.sqrt(I*I+w*w)}return CanvasRenderingContext2D.prototype.circle=function(S,j,I){this.beginPath(),this.arc(S,j,I,0,2*Math.PI,!1),this.closePath()},window.requestAnimFrame=window.requestAnimationFrame||function(S){window.setTimeout(S,1e3/60)},function S(){m(),requestAnimationFrame(S)}(),b(),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("resize",y)}},[]),a.jsx("canvas",{ref:s,style:{background:`var(${t})`,width:n,height:e}})},mW=()=>{const t=K(e=>e.getsettings.data);return a.jsxs("div",{className:"d-flex justify-content-center align-items-center w-100 flex-wrap loader_bg",style:{height:"100vh",position:"relative",overflow:"hidden"},children:[a.jsx("div",{className:"position-absolute opacity-25",children:a.jsx(pW,{background:"--primary-dark",height:"100vh",width:"100vw",fillColor:"--secondary-light"})}),a.jsx("div",{className:"wrapper d-flex justify-content-center align-items-center w-100 flex-wrap",style:{position:"absolute",top:"0%",height:"100vh"},children:a.jsx("h1",{children:t!=null&&t.name?t==null?void 0:t.name:"Please Wait.."})})]})};function gW(){const t=K(r=>r.getalerts.data),[e,n]=T.useState(!0);return T.useEffect(()=>{const r=async()=>{await fW(),n(!1)};return window.addEventListener("load",r),()=>{window.removeEventListener("load",r)}},[]),e?a.jsx(mW,{}):a.jsxs(a.Fragment,{children:[a.jsx(oW,{}),t.length>0&&a.jsx("div",{className:"w-100 d-flex align-items-center justify-content-center flex-wrap flex-column gap-0",style:{position:"fixed",top:0,left:0,overflow:"hidden",height:"100vh",backgroundColor:"#00000046",zIndex:9999},children:t==null?void 0:t.map((r,s)=>a.jsx(cW,{content:r==null?void 0:r.content,id:r==null?void 0:r.id,type:r==null?void 0:r.type},s))}),a.jsxs(Kv,{children:[a.jsx(me,{path:"/dashboard/*",element:a.jsx(gH,{})}),a.jsx(me,{path:"/profile/:id",element:a.jsx(lW,{})}),a.jsx(me,{path:"/phd/:id",element:a.jsx(hW,{})}),a.jsx(me,{path:"/*",element:a.jsx(iW,{})}),a.jsx(me,{path:"/login",element:a.jsx(aW,{})}),a.jsx(me,{path:"/register",element:a.jsx(uW,{})})]})]})}function nu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(n){return typeof n}:nu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nu(t)}function vW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yW(t,e,n){return e&&yj(t.prototype,e),n&&yj(t,n),t}function xW(t,e){return e&&(nu(e)==="object"||typeof e=="function")?e:ru(t)}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function ru(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xg(t,e)}function Xg(t,e){return Xg=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Xg(t,e)}function su(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VA=function(t){bW(e,t);function e(){var n,r;vW(this,e);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=xW(this,(n=Qg(e)).call.apply(n,[this].concat(i))),su(ru(r),"state",{bootstrapped:!1}),su(ru(r),"_unsubscribe",void 0),su(ru(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),d=c.bootstrapped;d&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return yW(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);su(VA,"defaultProps",{children:null,loading:null});Xp.createRoot(document.getElementById("root")).render(a.jsx(Re.StrictMode,{children:a.jsx(i9,{store:rt,children:a.jsx(VA,{loading:null,persistor:Vz,children:a.jsx(aD,{children:a.jsx(gW,{})})})})}));
