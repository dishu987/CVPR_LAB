function OA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yj={exports:{}},fh={},xj={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=Symbol.for("react.element"),LA=Symbol.for("react.portal"),MA=Symbol.for("react.fragment"),VA=Symbol.for("react.strict_mode"),FA=Symbol.for("react.profiler"),UA=Symbol.for("react.provider"),$A=Symbol.for("react.context"),BA=Symbol.for("react.forward_ref"),zA=Symbol.for("react.suspense"),HA=Symbol.for("react.memo"),WA=Symbol.for("react.lazy"),Jx=Symbol.iterator;function qA(t){return t===null||typeof t!="object"?null:(t=Jx&&t[Jx]||t["@@iterator"],typeof t=="function"?t:null)}var bj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wj=Object.assign,_j={};function _o(t,e,n){this.props=t,this.context=e,this.refs=_j,this.updater=n||bj}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jj(){}jj.prototype=_o.prototype;function Xg(t,e,n){this.props=t,this.context=e,this.refs=_j,this.updater=n||bj}var Jg=Xg.prototype=new jj;Jg.constructor=Xg;wj(Jg,_o.prototype);Jg.isPureReactComponent=!0;var Zx=Array.isArray,Ej=Object.prototype.hasOwnProperty,Zg={current:null},Sj={key:!0,ref:!0,__self:!0,__source:!0};function Nj(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ej.call(e,r)&&!Sj.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:bc,type:t,key:i,ref:o,props:s,_owner:Zg.current}}function GA(t,e){return{$$typeof:bc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===bc}function KA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eb=/\/+/g;function Nf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KA(""+t.key):e.toString(36)}function kd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bc:case LA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Nf(o,0):r,Zx(s)?(n="",t!=null&&(n=t.replace(eb,"$&/")+"/"),kd(s,e,n,"",function(d){return d})):s!=null&&(ev(s)&&(s=GA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eb,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Zx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Nf(i,l);o+=kd(i,e,n,c,s)}else if(c=qA(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Nf(i,l++),o+=kd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jc(t,e,n){if(t==null)return t;var r=[],s=0;return kd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function YA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Rd={transition:null},QA={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:Zg};je.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=_o;je.Fragment=MA;je.Profiler=FA;je.PureComponent=Xg;je.StrictMode=VA;je.Suspense=zA;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wj({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Zg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Ej.call(e,c)&&!Sj.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:bc,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:$A,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UA,_context:t},t.Consumer=t};je.createElement=Nj;je.createFactory=function(t){var e=Nj.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:BA,render:t}};je.isValidElement=ev;je.lazy=function(t){return{$$typeof:WA,_payload:{_status:-1,_result:t},_init:YA}};je.memo=function(t,e){return{$$typeof:HA,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return dn.current.useCallback(t,e)};je.useContext=function(t){return dn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};je.useEffect=function(t,e){return dn.current.useEffect(t,e)};je.useId=function(){return dn.current.useId()};je.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return dn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};je.useRef=function(t){return dn.current.useRef(t)};je.useState=function(t){return dn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return dn.current.useTransition()};je.version="18.2.0";xj.exports=je;var T=xj.exports;const ke=wo(T),Yp=OA({__proto__:null,default:ke},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA=T,JA=Symbol.for("react.element"),ZA=Symbol.for("react.fragment"),eP=Object.prototype.hasOwnProperty,tP=XA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nP={key:!0,ref:!0,__self:!0,__source:!0};function Tj(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)eP.call(e,r)&&!nP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:JA,type:t,key:i,ref:o,props:s,_owner:tP.current}}fh.Fragment=ZA;fh.jsx=Tj;fh.jsxs=Tj;yj.exports=fh;var a=yj.exports,Qp={},Ij={exports:{}},Mn={},Cj={exports:{}},Aj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var U=D.length;D.push(M);e:for(;0<U;){var z=U-1>>>1,O=D[z];if(0<s(O,M))D[z]=M,D[U]=O,U=z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],U=D.pop();if(U!==M){D[0]=U;e:for(var z=0,O=D.length,F=O>>>1;z<F;){var J=2*(z+1)-1,se=D[J],he=J+1,xe=D[he];if(0>s(se,U))he<O&&0>s(xe,se)?(D[z]=xe,D[he]=U,z=he):(D[z]=se,D[J]=U,z=J);else if(he<O&&0>s(xe,U))D[z]=xe,D[he]=U,z=he;else break e}}return M}function s(D,M){var U=D.sortIndex-M.sortIndex;return U!==0?U:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var M=n(d);M!==null;){if(M.callback===null)r(d);else if(M.startTime<=D)r(d),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(d)}}function j(D){if(y=!1,v(D),!g)if(n(c)!==null)g=!0,L(N);else{var M=n(d);M!==null&&A(j,M.startTime-D)}}function N(D,M){g=!1,y&&(y=!1,m(w),w=-1),p=!0;var U=f;try{for(v(M),h=n(c);h!==null&&(!(h.expirationTime>M)||D&&!P());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var O=z(h.expirationTime<=M);M=t.unstable_now(),typeof O=="function"?h.callback=O:h===n(c)&&r(c),v(M)}else r(c);h=n(c)}if(h!==null)var F=!0;else{var J=n(d);J!==null&&A(j,J.startTime-M),F=!1}return F}finally{h=null,f=U,p=!1}}var E=!1,I=null,w=-1,_=5,S=-1;function P(){return!(t.unstable_now()-S<_)}function C(){if(I!==null){var D=t.unstable_now();S=D;var M=!0;try{M=I(!0,D)}finally{M?R():(E=!1,I=null)}}else E=!1}var R;if(typeof x=="function")R=function(){x(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=C,R=function(){B.postMessage(null)}}else R=function(){b(C,0)};function L(D){I=D,E||(E=!0,R())}function A(D,M){w=b(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(N))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var U=f;f=M;try{return D()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=f;f=D;try{return M()}finally{f=U}},t.unstable_scheduleCallback=function(D,M,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,D){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=U+O,D={id:u++,callback:M,priorityLevel:D,startTime:U,expirationTime:O,sortIndex:-1},U>z?(D.sortIndex=U,e(d,D),n(c)===null&&D===n(d)&&(y?(m(w),w=-1):y=!0,A(j,U-z))):(D.sortIndex=O,e(c,D),g||p||(g=!0,L(N))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var M=f;return function(){var U=f;f=M;try{return D.apply(this,arguments)}finally{f=U}}}})(Aj);Cj.exports=Aj;var rP=Cj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj=T,Dn=rP;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kj=new Set,Rl={};function Zi(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(Rl[t]=e,t=0;t<e.length;t++)kj.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xp=Object.prototype.hasOwnProperty,sP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tb={},nb={};function iP(t){return Xp.call(nb,t)?!0:Xp.call(tb,t)?!1:sP.test(t)?nb[t]=!0:(tb[t]=!0,!1)}function aP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oP(t,e,n,r){if(e===null||typeof e>"u"||aP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var tv=/[\-:]([a-z])/g;function nv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tv,nv);Ut[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tv,nv);Ut[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tv,nv);Ut[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function rv(t,e,n,r){var s=Ut.hasOwnProperty(e)?Ut[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oP(e,n,s,r)&&(n=null),r||s===null?iP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=Pj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),ja=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),sv=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Rj=Symbol.for("react.provider"),Dj=Symbol.for("react.context"),iv=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),av=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),Oj=Symbol.for("react.offscreen"),rb=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=rb&&t[rb]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Tf;function el(t){if(Tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tf=e&&e[1]||""}return`
`+Tf+t}var If=!1;function Cf(t,e){if(!t||If)return"";If=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{If=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function lP(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=Cf(t.type,!1),t;case 11:return t=Cf(t.type.render,!1),t;case 1:return t=Cf(t.type,!0),t;default:return""}}function tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case ja:return"Portal";case Jp:return"Profiler";case sv:return"StrictMode";case Zp:return"Suspense";case em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Dj:return(t.displayName||"Context")+".Consumer";case Rj:return(t._context.displayName||"Context")+".Provider";case iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case av:return e=t.displayName||null,e!==null?e:tm(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return tm(t(e))}catch{}}return null}function cP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(e);case 8:return e===sv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dP(t){var e=Lj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ed(t){t._valueTracker||(t._valueTracker=dP(t))}function Mj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vj(t,e){e=e.checked,e!=null&&rv(t,"checked",e,!1)}function rm(t,e){Vj(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&sm(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ib(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sm(t,e,n){(e!=="number"||su(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Va(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ab(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(tl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function Fj(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ob(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Uj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function am(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Uj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var td,$j=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(td=td||document.createElement("div"),td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uP=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(t){uP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hl[e]=hl[t]})});function Bj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hl.hasOwnProperty(t)&&hl[t]?(""+e).trim():e+"px"}function zj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Bj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hP=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(t,e){if(e){if(hP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=null;function ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dm=null,Fa=null,Ua=null;function lb(t){if(t=jc(t)){if(typeof dm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=yh(e),dm(t.stateNode,t.type,e))}}function Hj(t){Fa?Ua?Ua.push(t):Ua=[t]:Fa=t}function Wj(){if(Fa){var t=Fa,e=Ua;if(Ua=Fa=null,lb(t),e)for(t=0;t<e.length;t++)lb(e[t])}}function qj(t,e){return t(e)}function Gj(){}var Af=!1;function Kj(t,e,n){if(Af)return t(e,n);Af=!0;try{return qj(t,e,n)}finally{Af=!1,(Fa!==null||Ua!==null)&&(Gj(),Wj())}}function Ol(t,e){var n=t.stateNode;if(n===null)return null;var r=yh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var um=!1;if(is)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){um=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{um=!1}function fP(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var fl=!1,iu=null,au=!1,hm=null,pP={onError:function(t){fl=!0,iu=t}};function mP(t,e,n,r,s,i,o,l,c){fl=!1,iu=null,fP.apply(pP,arguments)}function gP(t,e,n,r,s,i,o,l,c){if(mP.apply(this,arguments),fl){if(fl){var d=iu;fl=!1,iu=null}else throw Error(q(198));au||(au=!0,hm=d)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yj(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cb(t){if(ea(t)!==t)throw Error(q(188))}function vP(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cb(s),t;if(i===r)return cb(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function Qj(t){return t=vP(t),t!==null?Xj(t):null}function Xj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xj(t);if(e!==null)return e;t=t.sibling}return null}var Jj=Dn.unstable_scheduleCallback,db=Dn.unstable_cancelCallback,yP=Dn.unstable_shouldYield,xP=Dn.unstable_requestPaint,ft=Dn.unstable_now,bP=Dn.unstable_getCurrentPriorityLevel,lv=Dn.unstable_ImmediatePriority,Zj=Dn.unstable_UserBlockingPriority,ou=Dn.unstable_NormalPriority,wP=Dn.unstable_LowPriority,eE=Dn.unstable_IdlePriority,ph=null,Ir=null;function _P(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:SP,jP=Math.log,EP=Math.LN2;function SP(t){return t>>>=0,t===0?32:31-(jP(t)/EP|0)|0}var nd=64,rd=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=nl(l):(i&=o,i!==0&&(r=nl(i)))}else o=n&~s,o!==0?r=nl(o):i!==0&&(r=nl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),s=1<<n,r|=t[n],e&=~s;return r}function NP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ur(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=NP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tE(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function Pf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function IP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function cv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var De=0;function nE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rE,dv,sE,iE,aE,pm=!1,sd=[],Ls=null,Ms=null,Vs=null,Ll=new Map,Ml=new Map,_s=[],CP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ub(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Ll.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function Mo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=jc(e),e!==null&&dv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function AP(t,e,n,r,s){switch(e){case"focusin":return Ls=Mo(Ls,t,e,n,r,s),!0;case"dragenter":return Ms=Mo(Ms,t,e,n,r,s),!0;case"mouseover":return Vs=Mo(Vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ll.set(i,Mo(Ll.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ml.set(i,Mo(Ml.get(i)||null,t,e,n,r,s)),!0}return!1}function oE(t){var e=bi(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=Yj(n),e!==null){t.blockedOn=e,aE(t.priority,function(){sE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cm=r,n.target.dispatchEvent(r),cm=null}else return e=jc(n),e!==null&&dv(e),t.blockedOn=n,!1;e.shift()}return!0}function hb(t,e,n){Dd(t)&&n.delete(e)}function PP(){pm=!1,Ls!==null&&Dd(Ls)&&(Ls=null),Ms!==null&&Dd(Ms)&&(Ms=null),Vs!==null&&Dd(Vs)&&(Vs=null),Ll.forEach(hb),Ml.forEach(hb)}function Vo(t,e){t.blockedOn===e&&(t.blockedOn=null,pm||(pm=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,PP)))}function Vl(t){function e(s){return Vo(s,t)}if(0<sd.length){Vo(sd[0],t);for(var n=1;n<sd.length;n++){var r=sd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ls!==null&&Vo(Ls,t),Ms!==null&&Vo(Ms,t),Vs!==null&&Vo(Vs,t),Ll.forEach(e),Ml.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)oE(n),n.blockedOn===null&&_s.shift()}var $a=ps.ReactCurrentBatchConfig,cu=!0;function kP(t,e,n,r){var s=De,i=$a.transition;$a.transition=null;try{De=1,uv(t,e,n,r)}finally{De=s,$a.transition=i}}function RP(t,e,n,r){var s=De,i=$a.transition;$a.transition=null;try{De=4,uv(t,e,n,r)}finally{De=s,$a.transition=i}}function uv(t,e,n,r){if(cu){var s=mm(t,e,n,r);if(s===null)$f(t,e,r,du,n),ub(t,r);else if(AP(s,t,e,n,r))r.stopPropagation();else if(ub(t,r),e&4&&-1<CP.indexOf(t)){for(;s!==null;){var i=jc(s);if(i!==null&&rE(i),i=mm(t,e,n,r),i===null&&$f(t,e,r,du,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $f(t,e,r,null,n)}}var du=null;function mm(t,e,n,r){if(du=null,t=ov(r),t=bi(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yj(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return du=t,null}function lE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bP()){case lv:return 1;case Zj:return 4;case ou:case wP:return 16;case eE:return 536870912;default:return 16}default:return 16}}var Cs=null,hv=null,Od=null;function cE(){if(Od)return Od;var t,e=hv,n=e.length,r,s="value"in Cs?Cs.value:Cs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Od=s.slice(t,1<r?1-r:void 0)}function Ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function id(){return!0}function fb(){return!1}function Vn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?id:fb,this.isPropagationStopped=fb,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=id)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=id)},persist:function(){},isPersistent:id}),e}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=Vn(jo),_c=lt({},jo,{view:0,detail:0}),DP=Vn(_c),kf,Rf,Fo,mh=lt({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(kf=t.screenX-Fo.screenX,Rf=t.screenY-Fo.screenY):Rf=kf=0,Fo=t),kf)},movementY:function(t){return"movementY"in t?t.movementY:Rf}}),pb=Vn(mh),OP=lt({},mh,{dataTransfer:0}),LP=Vn(OP),MP=lt({},_c,{relatedTarget:0}),Df=Vn(MP),VP=lt({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),FP=Vn(VP),UP=lt({},jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$P=Vn(UP),BP=lt({},jo,{data:0}),mb=Vn(BP),zP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WP[t])?!!e[t]:!1}function pv(){return qP}var GP=lt({},_c,{key:function(t){if(t.key){var e=zP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pv,charCode:function(t){return t.type==="keypress"?Ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KP=Vn(GP),YP=lt({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=Vn(YP),QP=lt({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pv}),XP=Vn(QP),JP=lt({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZP=Vn(JP),ek=lt({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tk=Vn(ek),nk=[9,13,27,32],mv=is&&"CompositionEvent"in window,pl=null;is&&"documentMode"in document&&(pl=document.documentMode);var rk=is&&"TextEvent"in window&&!pl,dE=is&&(!mv||pl&&8<pl&&11>=pl),vb=" ",yb=!1;function uE(t,e){switch(t){case"keyup":return nk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function sk(t,e){switch(t){case"compositionend":return hE(e);case"keypress":return e.which!==32?null:(yb=!0,vb);case"textInput":return t=e.data,t===vb&&yb?null:t;default:return null}}function ik(t,e){if(Sa)return t==="compositionend"||!mv&&uE(t,e)?(t=cE(),Od=hv=Cs=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dE&&e.locale!=="ko"?null:e.data;default:return null}}var ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ak[t.type]:e==="textarea"}function fE(t,e,n,r){Hj(r),e=uu(e,"onChange"),0<e.length&&(n=new fv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ml=null,Fl=null;function ok(t){EE(t,0)}function gh(t){var e=Ia(t);if(Mj(e))return t}function lk(t,e){if(t==="change")return e}var pE=!1;if(is){var Of;if(is){var Lf="oninput"in document;if(!Lf){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),Lf=typeof bb.oninput=="function"}Of=Lf}else Of=!1;pE=Of&&(!document.documentMode||9<document.documentMode)}function wb(){ml&&(ml.detachEvent("onpropertychange",mE),Fl=ml=null)}function mE(t){if(t.propertyName==="value"&&gh(Fl)){var e=[];fE(e,Fl,t,ov(t)),Kj(ok,e)}}function ck(t,e,n){t==="focusin"?(wb(),ml=e,Fl=n,ml.attachEvent("onpropertychange",mE)):t==="focusout"&&wb()}function dk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(Fl)}function uk(t,e){if(t==="click")return gh(e)}function hk(t,e){if(t==="input"||t==="change")return gh(e)}function fk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:fk;function Ul(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xp.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function _b(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jb(t,e){var n=_b(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_b(n)}}function gE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vE(){for(var t=window,e=su();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=su(t.document)}return e}function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pk(t){var e=vE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gE(n.ownerDocument.documentElement,n)){if(r!==null&&gv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=jb(n,i);var o=jb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mk=is&&"documentMode"in document&&11>=document.documentMode,Na=null,gm=null,gl=null,vm=!1;function Eb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vm||Na==null||Na!==su(r)||(r=Na,"selectionStart"in r&&gv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gl&&Ul(gl,r)||(gl=r,r=uu(gm,"onSelect"),0<r.length&&(e=new fv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function ad(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ta={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},Mf={},yE={};is&&(yE=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function vh(t){if(Mf[t])return Mf[t];if(!Ta[t])return t;var e=Ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yE)return Mf[t]=e[n];return t}var xE=vh("animationend"),bE=vh("animationiteration"),wE=vh("animationstart"),_E=vh("transitionend"),jE=new Map,Sb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){jE.set(t,e),Zi(e,[t])}for(var Vf=0;Vf<Sb.length;Vf++){var Ff=Sb[Vf],gk=Ff.toLowerCase(),vk=Ff[0].toUpperCase()+Ff.slice(1);si(gk,"on"+vk)}si(xE,"onAnimationEnd");si(bE,"onAnimationIteration");si(wE,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(_E,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function Nb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gP(r,e,void 0,t),t.currentTarget=null}function EE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Nb(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Nb(s,l,d),i=c}}}if(au)throw t=hm,au=!1,hm=null,t}function We(t,e){var n=e[_m];n===void 0&&(n=e[_m]=new Set);var r=t+"__bubble";n.has(r)||(SE(e,t,2,!1),n.add(r))}function Uf(t,e,n){var r=0;e&&(r|=4),SE(n,t,r,e)}var od="_reactListening"+Math.random().toString(36).slice(2);function $l(t){if(!t[od]){t[od]=!0,kj.forEach(function(n){n!=="selectionchange"&&(yk.has(n)||Uf(n,!1,t),Uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[od]||(e[od]=!0,Uf("selectionchange",!1,e))}}function SE(t,e,n,r){switch(lE(e)){case 1:var s=kP;break;case 4:s=RP;break;default:s=uv}n=s.bind(null,e,n,t),s=void 0,!um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $f(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=bi(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Kj(function(){var d=i,u=ov(n),h=[];e:{var f=jE.get(t);if(f!==void 0){var p=fv,g=t;switch(t){case"keypress":if(Ld(n)===0)break e;case"keydown":case"keyup":p=KP;break;case"focusin":g="focus",p=Df;break;case"focusout":g="blur",p=Df;break;case"beforeblur":case"afterblur":p=Df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XP;break;case xE:case bE:case wE:p=FP;break;case _E:p=ZP;break;case"scroll":p=DP;break;case"wheel":p=tk;break;case"copy":case"cut":case"paste":p=$P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gb}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var x=d,v;x!==null;){v=x;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,m!==null&&(j=Ol(x,m),j!=null&&y.push(Bl(x,j,v)))),b)break;x=x.return}0<y.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==cm&&(g=n.relatedTarget||n.fromElement)&&(bi(g)||g[as]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?bi(g):null,g!==null&&(b=ea(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(y=pb,j="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=gb,j="onPointerLeave",m="onPointerEnter",x="pointer"),b=p==null?f:Ia(p),v=g==null?f:Ia(g),f=new y(j,x+"leave",p,n,u),f.target=b,f.relatedTarget=v,j=null,bi(u)===d&&(y=new y(m,x+"enter",g,n,u),y.target=v,y.relatedTarget=b,j=y),b=j,p&&g)t:{for(y=p,m=g,x=0,v=y;v;v=ma(v))x++;for(v=0,j=m;j;j=ma(j))v++;for(;0<x-v;)y=ma(y),x--;for(;0<v-x;)m=ma(m),v--;for(;x--;){if(y===m||m!==null&&y===m.alternate)break t;y=ma(y),m=ma(m)}y=null}else y=null;p!==null&&Tb(h,f,p,y,!1),g!==null&&b!==null&&Tb(h,b,g,y,!0)}}e:{if(f=d?Ia(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=lk;else if(xb(f))if(pE)N=hk;else{N=dk;var E=ck}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=uk);if(N&&(N=N(t,d))){fE(h,N,n,u);break e}E&&E(t,f,d),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&sm(f,"number",f.value)}switch(E=d?Ia(d):window,t){case"focusin":(xb(E)||E.contentEditable==="true")&&(Na=E,gm=d,gl=null);break;case"focusout":gl=gm=Na=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,Eb(h,n,u);break;case"selectionchange":if(mk)break;case"keydown":case"keyup":Eb(h,n,u)}var I;if(mv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Sa?uE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(dE&&n.locale!=="ko"&&(Sa||w!=="onCompositionStart"?w==="onCompositionEnd"&&Sa&&(I=cE()):(Cs=u,hv="value"in Cs?Cs.value:Cs.textContent,Sa=!0)),E=uu(d,w),0<E.length&&(w=new mb(w,t,null,n,u),h.push({event:w,listeners:E}),I?w.data=I:(I=hE(n),I!==null&&(w.data=I)))),(I=rk?sk(t,n):ik(t,n))&&(d=uu(d,"onBeforeInput"),0<d.length&&(u=new mb("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=I))}EE(h,e)})}function Bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ol(t,n),i!=null&&r.unshift(Bl(t,i,s)),i=Ol(t,e),i!=null&&r.push(Bl(t,i,s))),t=t.return}return r}function ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Ol(n,i),c!=null&&o.unshift(Bl(n,c,l))):s||(c=Ol(n,i),c!=null&&o.push(Bl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xk=/\r\n?/g,bk=/\u0000|\uFFFD/g;function Ib(t){return(typeof t=="string"?t:""+t).replace(xk,`
`).replace(bk,"")}function ld(t,e,n){if(e=Ib(e),Ib(t)!==e&&n)throw Error(q(425))}function hu(){}var ym=null,xm=null;function bm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,wk=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,_k=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(t){return Cb.resolve(null).then(t).catch(jk)}:wm;function jk(t){setTimeout(function(){throw t})}function Bf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Vl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vl(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),_r="__reactFiber$"+Eo,zl="__reactProps$"+Eo,as="__reactContainer$"+Eo,_m="__reactEvents$"+Eo,Ek="__reactListeners$"+Eo,Sk="__reactHandles$"+Eo;function bi(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ab(t);t!==null;){if(n=t[_r])return n;t=Ab(t)}return e}t=n,n=t.parentNode}return null}function jc(t){return t=t[_r]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function yh(t){return t[zl]||null}var jm=[],Ca=-1;function ii(t){return{current:t}}function Ke(t){0>Ca||(t.current=jm[Ca],jm[Ca]=null,Ca--)}function $e(t,e){Ca++,jm[Ca]=t.current,t.current=e}var Xs={},en=ii(Xs),bn=ii(!1),Oi=Xs;function no(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wn(t){return t=t.childContextTypes,t!=null}function fu(){Ke(bn),Ke(en)}function Pb(t,e,n){if(en.current!==Xs)throw Error(q(168));$e(en,e),$e(bn,n)}function NE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,cP(t)||"Unknown",s));return lt({},n,r)}function pu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,Oi=en.current,$e(en,t),$e(bn,bn.current),!0}function kb(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=NE(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Ke(bn),Ke(en),$e(en,t)):Ke(bn),$e(bn,n)}var Kr=null,xh=!1,zf=!1;function TE(t){Kr===null?Kr=[t]:Kr.push(t)}function Nk(t){xh=!0,TE(t)}function ai(){if(!zf&&Kr!==null){zf=!0;var t=0,e=De;try{var n=Kr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kr=null,xh=!1}catch(s){throw Kr!==null&&(Kr=Kr.slice(t+1)),Jj(lv,ai),s}finally{De=e,zf=!1}}return null}var Aa=[],Pa=0,mu=null,gu=0,zn=[],Hn=0,Li=null,Xr=1,Jr="";function pi(t,e){Aa[Pa++]=gu,Aa[Pa++]=mu,mu=t,gu=e}function IE(t,e,n){zn[Hn++]=Xr,zn[Hn++]=Jr,zn[Hn++]=Li,Li=t;var r=Xr;t=Jr;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-ur(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function vv(t){t.return!==null&&(pi(t,1),IE(t,1,0))}function yv(t){for(;t===mu;)mu=Aa[--Pa],Aa[Pa]=null,gu=Aa[--Pa],Aa[Pa]=null;for(;t===Li;)Li=zn[--Hn],zn[Hn]=null,Jr=zn[--Hn],zn[Hn]=null,Xr=zn[--Hn],zn[Hn]=null}var kn=null,In=null,tt=!1,lr=null;function CE(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,In=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Li!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,In=null,!0):!1;default:return!1}}function Em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sm(t){if(tt){var e=In;if(e){var n=e;if(!Rb(t,e)){if(Em(t))throw Error(q(418));e=Fs(n.nextSibling);var r=kn;e&&Rb(t,e)?CE(r,n):(t.flags=t.flags&-4097|2,tt=!1,kn=t)}}else{if(Em(t))throw Error(q(418));t.flags=t.flags&-4097|2,tt=!1,kn=t}}}function Db(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function cd(t){if(t!==kn)return!1;if(!tt)return Db(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bm(t.type,t.memoizedProps)),e&&(e=In)){if(Em(t))throw AE(),Error(q(418));for(;e;)CE(t,e),e=Fs(e.nextSibling)}if(Db(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=kn?Fs(t.stateNode.nextSibling):null;return!0}function AE(){for(var t=In;t;)t=Fs(t.nextSibling)}function ro(){In=kn=null,tt=!1}function xv(t){lr===null?lr=[t]:lr.push(t)}var Tk=ps.ReactCurrentBatchConfig;function ar(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var vu=ii(null),yu=null,ka=null,bv=null;function wv(){bv=ka=yu=null}function _v(t){var e=vu.current;Ke(vu),t._currentValue=e}function Nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ba(t,e){yu=t,bv=ka=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(bv!==t)if(t={context:t,memoizedValue:e,next:null},ka===null){if(yu===null)throw Error(q(308));ka=t,yu.dependencies={lanes:0,firstContext:t}}else ka=ka.next=t;return e}var wi=null;function jv(t){wi===null?wi=[t]:wi.push(t)}function PE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jv(e)):(n.next=s.next,s.next=n),e.interleaved=n,os(t,r)}function os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function Ev(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,os(t,n)}return s=r.interleaved,s===null?(e.next=e,jv(r)):(e.next=s.next,s.next=e),r.interleaved=e,os(t,n)}function Md(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cv(t,n)}}function Ob(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xu(t,e,n,r){var s=t.updateQueue;ws=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=lt({},h,f);break e;case 2:ws=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vi|=o,t.lanes=o,t.memoizedState=h}}function Lb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var RE=new Pj.Component().refs;function Tm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bh={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),s=Bs(t),i=ns(r,s);i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(hr(e,t,s,r),Md(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),s=Bs(t),i=ns(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(hr(e,t,s,r),Md(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Bs(t),s=ns(n,r);s.tag=2,e!=null&&(s.callback=e),e=Us(t,s,r),e!==null&&(hr(e,t,r,n),Md(e,t,r))}};function Mb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ul(n,r)||!Ul(s,i):!0}function DE(t,e,n){var r=!1,s=Xs,i=e.contextType;return typeof i=="object"&&i!==null?i=Qn(i):(s=wn(e)?Oi:en.current,r=e.contextTypes,i=(r=r!=null)?no(t,s):Xs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bh.enqueueReplaceState(e,e.state,null)}function Im(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=RE,Ev(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qn(i):(i=wn(e)?Oi:en.current,s.context=no(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bh.enqueueReplaceState(s,s.state,null),xu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;l===RE&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function dd(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fb(t){var e=t._init;return e(t._payload)}function OE(t){function e(m,x){if(t){var v=m.deletions;v===null?(m.deletions=[x],m.flags|=16):v.push(x)}}function n(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function s(m,x){return m=zs(m,x),m.index=0,m.sibling=null,m}function i(m,x,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<x?(m.flags|=2,x):v):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,x,v,j){return x===null||x.tag!==6?(x=Qf(v,m.mode,j),x.return=m,x):(x=s(x,v),x.return=m,x)}function c(m,x,v,j){var N=v.type;return N===Ea?u(m,x,v.props.children,j,v.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bs&&Fb(N)===x.type)?(j=s(x,v.props),j.ref=Uo(m,x,v),j.return=m,j):(j=zd(v.type,v.key,v.props,null,m.mode,j),j.ref=Uo(m,x,v),j.return=m,j)}function d(m,x,v,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Xf(v,m.mode,j),x.return=m,x):(x=s(x,v.children||[]),x.return=m,x)}function u(m,x,v,j,N){return x===null||x.tag!==7?(x=Ai(v,m.mode,j,N),x.return=m,x):(x=s(x,v),x.return=m,x)}function h(m,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Qf(""+x,m.mode,v),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zc:return v=zd(x.type,x.key,x.props,null,m.mode,v),v.ref=Uo(m,null,x),v.return=m,v;case ja:return x=Xf(x,m.mode,v),x.return=m,x;case bs:var j=x._init;return h(m,j(x._payload),v)}if(tl(x)||Oo(x))return x=Ai(x,m.mode,v,null),x.return=m,x;dd(m,x)}return null}function f(m,x,v,j){var N=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(m,x,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zc:return v.key===N?c(m,x,v,j):null;case ja:return v.key===N?d(m,x,v,j):null;case bs:return N=v._init,f(m,x,N(v._payload),j)}if(tl(v)||Oo(v))return N!==null?null:u(m,x,v,j,null);dd(m,v)}return null}function p(m,x,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(v)||null,l(x,m,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zc:return m=m.get(j.key===null?v:j.key)||null,c(x,m,j,N);case ja:return m=m.get(j.key===null?v:j.key)||null,d(x,m,j,N);case bs:var E=j._init;return p(m,x,v,E(j._payload),N)}if(tl(j)||Oo(j))return m=m.get(v)||null,u(x,m,j,N,null);dd(x,j)}return null}function g(m,x,v,j){for(var N=null,E=null,I=x,w=x=0,_=null;I!==null&&w<v.length;w++){I.index>w?(_=I,I=null):_=I.sibling;var S=f(m,I,v[w],j);if(S===null){I===null&&(I=_);break}t&&I&&S.alternate===null&&e(m,I),x=i(S,x,w),E===null?N=S:E.sibling=S,E=S,I=_}if(w===v.length)return n(m,I),tt&&pi(m,w),N;if(I===null){for(;w<v.length;w++)I=h(m,v[w],j),I!==null&&(x=i(I,x,w),E===null?N=I:E.sibling=I,E=I);return tt&&pi(m,w),N}for(I=r(m,I);w<v.length;w++)_=p(I,m,w,v[w],j),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?w:_.key),x=i(_,x,w),E===null?N=_:E.sibling=_,E=_);return t&&I.forEach(function(P){return e(m,P)}),tt&&pi(m,w),N}function y(m,x,v,j){var N=Oo(v);if(typeof N!="function")throw Error(q(150));if(v=N.call(v),v==null)throw Error(q(151));for(var E=N=null,I=x,w=x=0,_=null,S=v.next();I!==null&&!S.done;w++,S=v.next()){I.index>w?(_=I,I=null):_=I.sibling;var P=f(m,I,S.value,j);if(P===null){I===null&&(I=_);break}t&&I&&P.alternate===null&&e(m,I),x=i(P,x,w),E===null?N=P:E.sibling=P,E=P,I=_}if(S.done)return n(m,I),tt&&pi(m,w),N;if(I===null){for(;!S.done;w++,S=v.next())S=h(m,S.value,j),S!==null&&(x=i(S,x,w),E===null?N=S:E.sibling=S,E=S);return tt&&pi(m,w),N}for(I=r(m,I);!S.done;w++,S=v.next())S=p(I,m,w,S.value,j),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?w:S.key),x=i(S,x,w),E===null?N=S:E.sibling=S,E=S);return t&&I.forEach(function(C){return e(m,C)}),tt&&pi(m,w),N}function b(m,x,v,j){if(typeof v=="object"&&v!==null&&v.type===Ea&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zc:e:{for(var N=v.key,E=x;E!==null;){if(E.key===N){if(N=v.type,N===Ea){if(E.tag===7){n(m,E.sibling),x=s(E,v.props.children),x.return=m,m=x;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bs&&Fb(N)===E.type){n(m,E.sibling),x=s(E,v.props),x.ref=Uo(m,E,v),x.return=m,m=x;break e}n(m,E);break}else e(m,E);E=E.sibling}v.type===Ea?(x=Ai(v.props.children,m.mode,j,v.key),x.return=m,m=x):(j=zd(v.type,v.key,v.props,null,m.mode,j),j.ref=Uo(m,x,v),j.return=m,m=j)}return o(m);case ja:e:{for(E=v.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(m,x.sibling),x=s(x,v.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else e(m,x);x=x.sibling}x=Xf(v,m.mode,j),x.return=m,m=x}return o(m);case bs:return E=v._init,b(m,x,E(v._payload),j)}if(tl(v))return g(m,x,v,j);if(Oo(v))return y(m,x,v,j);dd(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(m,x.sibling),x=s(x,v),x.return=m,m=x):(n(m,x),x=Qf(v,m.mode,j),x.return=m,m=x),o(m)):n(m,x)}return b}var so=OE(!0),LE=OE(!1),Ec={},Cr=ii(Ec),Hl=ii(Ec),Wl=ii(Ec);function _i(t){if(t===Ec)throw Error(q(174));return t}function Sv(t,e){switch($e(Wl,e),$e(Hl,t),$e(Cr,Ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:am(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=am(e,t)}Ke(Cr),$e(Cr,e)}function io(){Ke(Cr),Ke(Hl),Ke(Wl)}function ME(t){_i(Wl.current);var e=_i(Cr.current),n=am(e,t.type);e!==n&&($e(Hl,t),$e(Cr,n))}function Nv(t){Hl.current===t&&(Ke(Cr),Ke(Hl))}var st=ii(0);function bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hf=[];function Tv(){for(var t=0;t<Hf.length;t++)Hf[t]._workInProgressVersionPrimary=null;Hf.length=0}var Vd=ps.ReactCurrentDispatcher,Wf=ps.ReactCurrentBatchConfig,Mi=0,it=null,wt=null,It=null,wu=!1,vl=!1,ql=0,Ik=0;function Ht(){throw Error(q(321))}function Iv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function Cv(t,e,n,r,s,i){if(Mi=i,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vd.current=t===null||t.memoizedState===null?kk:Rk,t=n(r,s),vl){i=0;do{if(vl=!1,ql=0,25<=i)throw Error(q(301));i+=1,It=wt=null,e.updateQueue=null,Vd.current=Dk,t=n(r,s)}while(vl)}if(Vd.current=_u,e=wt!==null&&wt.next!==null,Mi=0,It=wt=it=null,wu=!1,e)throw Error(q(300));return t}function Av(){var t=ql!==0;return ql=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?it.memoizedState=It=t:It=It.next=t,It}function Xn(){if(wt===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=It===null?it.memoizedState:It.next;if(e!==null)It=e,wt=t;else{if(t===null)throw Error(q(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},It===null?it.memoizedState=It=t:It=It.next=t}return It}function Gl(t,e){return typeof e=="function"?e(t):e}function qf(t){var e=Xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Mi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,it.lanes|=u,Vi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,fr(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,it.lanes|=i,Vi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=Xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(xn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function VE(){}function FE(t,e){var n=it,r=Xn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,xn=!0),r=r.queue,Pv(BE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Kl(9,$E.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(q(349));Mi&30||UE(n,e,s)}return s}function UE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $E(t,e,n,r){e.value=n,e.getSnapshot=r,zE(e)&&HE(t)}function BE(t,e,n){return n(function(){zE(e)&&HE(t)})}function zE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function HE(t){var e=os(t,1);e!==null&&hr(e,t,1,-1)}function Ub(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:t},e.queue=t,t=t.dispatch=Pk.bind(null,it,t),[e.memoizedState,t]}function Kl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WE(){return Xn().memoizedState}function Fd(t,e,n,r){var s=wr();it.flags|=t,s.memoizedState=Kl(1|e,n,void 0,r===void 0?null:r)}function wh(t,e,n,r){var s=Xn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&Iv(r,o.deps)){s.memoizedState=Kl(e,n,i,r);return}}it.flags|=t,s.memoizedState=Kl(1|e,n,i,r)}function $b(t,e){return Fd(8390656,8,t,e)}function Pv(t,e){return wh(2048,8,t,e)}function qE(t,e){return wh(4,2,t,e)}function GE(t,e){return wh(4,4,t,e)}function KE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YE(t,e,n){return n=n!=null?n.concat([t]):null,wh(4,4,KE.bind(null,e,t),n)}function kv(){}function QE(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XE(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JE(t,e,n){return Mi&21?(fr(n,e)||(n=tE(),it.lanes|=n,Vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function Ck(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Wf.transition;Wf.transition={};try{t(!1),e()}finally{De=n,Wf.transition=r}}function ZE(){return Xn().memoizedState}function Ak(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eS(t))tS(e,n);else if(n=PE(t,e,n,r),n!==null){var s=ln();hr(n,t,r,s),nS(n,e,r)}}function Pk(t,e,n){var r=Bs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eS(t))tS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,fr(l,o)){var c=e.interleaved;c===null?(s.next=s,jv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=PE(t,e,s,r),n!==null&&(s=ln(),hr(n,t,r,s),nS(n,e,r))}}function eS(t){var e=t.alternate;return t===it||e!==null&&e===it}function tS(t,e){vl=wu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cv(t,n)}}var _u={readContext:Qn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},kk={readContext:Qn,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:$b,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fd(4194308,4,KE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fd(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ak.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:Ub,useDebugValue:kv,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=Ub(!1),e=t[0];return t=Ck.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,s=wr();if(tt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Ct===null)throw Error(q(349));Mi&30||UE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$b(BE.bind(null,r,i,t),[t]),r.flags|=2048,Kl(9,$E.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wr(),e=Ct.identifierPrefix;if(tt){var n=Jr,r=Xr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ik++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Rk={readContext:Qn,useCallback:QE,useContext:Qn,useEffect:Pv,useImperativeHandle:YE,useInsertionEffect:qE,useLayoutEffect:GE,useMemo:XE,useReducer:qf,useRef:WE,useState:function(){return qf(Gl)},useDebugValue:kv,useDeferredValue:function(t){var e=Xn();return JE(e,wt.memoizedState,t)},useTransition:function(){var t=qf(Gl)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:VE,useSyncExternalStore:FE,useId:ZE,unstable_isNewReconciler:!1},Dk={readContext:Qn,useCallback:QE,useContext:Qn,useEffect:Pv,useImperativeHandle:YE,useInsertionEffect:qE,useLayoutEffect:GE,useMemo:XE,useReducer:Gf,useRef:WE,useState:function(){return Gf(Gl)},useDebugValue:kv,useDeferredValue:function(t){var e=Xn();return wt===null?e.memoizedState=t:JE(e,wt.memoizedState,t)},useTransition:function(){var t=Gf(Gl)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:VE,useSyncExternalStore:FE,useId:ZE,unstable_isNewReconciler:!1};function ao(t,e){try{var n="",r=e;do n+=lP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ok=typeof WeakMap=="function"?WeakMap:Map;function rS(t,e,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eu||(Eu=!0,Fm=r),Cm(t,e)},n}function sS(t,e,n){n=ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Cm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cm(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ok;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Yk.bind(null,t,e,n),e.then(t,t))}function zb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ns(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var Lk=ps.ReactCurrentOwner,xn=!1;function an(t,e,n,r){e.child=t===null?LE(e,null,n,r):so(e,t.child,n,r)}function Wb(t,e,n,r,s){n=n.render;var i=e.ref;return Ba(e,s),r=Cv(t,e,n,r,i,s),n=Av(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(tt&&n&&vv(e),e.flags|=1,an(t,e,r,s),e.child)}function qb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Uv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iS(t,e,i,r,s)):(t=zd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(o,r)&&t.ref===e.ref)return ls(t,e,s)}return e.flags|=1,t=zs(i,r),t.ref=e.ref,t.return=e,e.child=t}function iS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ul(i,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,ls(t,e,s)}return Am(t,e,n,r,s)}function aS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Da,Nn),Nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(Da,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Da,Nn),Nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,$e(Da,Nn),Nn|=r;return an(t,e,s,n),e.child}function oS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Am(t,e,n,r,s){var i=wn(n)?Oi:en.current;return i=no(e,i),Ba(e,s),n=Cv(t,e,n,r,i,s),r=Av(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(tt&&r&&vv(e),e.flags|=1,an(t,e,n,s),e.child)}function Gb(t,e,n,r,s){if(wn(n)){var i=!0;pu(e)}else i=!1;if(Ba(e,s),e.stateNode===null)Ud(t,e),DE(e,n,r),Im(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Qn(d):(d=wn(n)?Oi:en.current,d=no(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Vb(e,o,r,d),ws=!1;var f=e.memoizedState;o.state=f,xu(e,r,o,s),c=e.memoizedState,l!==r||f!==c||bn.current||ws?(typeof u=="function"&&(Tm(e,n,u,r),c=e.memoizedState),(l=ws||Mb(e,n,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:ar(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Qn(c):(c=wn(n)?Oi:en.current,c=no(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Vb(e,o,r,c),ws=!1,f=e.memoizedState,o.state=f,xu(e,r,o,s);var g=e.memoizedState;l!==h||f!==g||bn.current||ws?(typeof p=="function"&&(Tm(e,n,p,r),g=e.memoizedState),(d=ws||Mb(e,n,d,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Pm(t,e,n,r,i,s)}function Pm(t,e,n,r,s,i){oS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&kb(e,n,!1),ls(t,e,i);r=e.stateNode,Lk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=so(e,t.child,null,i),e.child=so(e,null,l,i)):an(t,e,l,i),e.memoizedState=r.state,s&&kb(e,n,!0),e.child}function lS(t){var e=t.stateNode;e.pendingContext?Pb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pb(t,e.context,!1),Sv(t,e.containerInfo)}function Kb(t,e,n,r,s){return ro(),xv(s),e.flags|=256,an(t,e,n,r),e.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function cS(t,e,n){var r=e.pendingProps,s=st.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),$e(st,s&1),t===null)return Sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Eh(o,r,0,null),t=Ai(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rm(n),e.memoizedState=km,t):Rv(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Mk(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=zs(l,i):(i=Ai(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Rm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=km,r}return i=t.child,t=i.sibling,r=zs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rv(t,e){return e=Eh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ud(t,e,n,r){return r!==null&&xv(r),so(e,t.child,null,n),t=Rv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Mk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kf(Error(q(422))),ud(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Eh({mode:"visible",children:r.children},s,0,null),i=Ai(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&so(e,t.child,null,o),e.child.memoizedState=Rm(o),e.memoizedState=km,i);if(!(e.mode&1))return ud(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=Kf(i,r,void 0),ud(t,e,o,r)}if(l=(o&t.childLanes)!==0,xn||l){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,os(t,s),hr(r,t,s,-1))}return Fv(),r=Kf(Error(q(421))),ud(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Qk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=Fs(s.nextSibling),kn=e,tt=!0,lr=null,t!==null&&(zn[Hn++]=Xr,zn[Hn++]=Jr,zn[Hn++]=Li,Xr=t.id,Jr=t.overflow,Li=e),e=Rv(e,r.children),e.flags|=4096,e)}function Yb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nm(t.return,e,n)}function Yf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(an(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yb(t,n,e);else if(t.tag===19)Yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(st,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&bu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yf(e,!0,n,null,i);break;case"together":Yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vk(t,e,n){switch(e.tag){case 3:lS(e),ro();break;case 5:ME(e);break;case 1:wn(e.type)&&pu(e);break;case 4:Sv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;$e(vu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?cS(t,e,n):($e(st,st.current&1),t=ls(t,e,n),t!==null?t.sibling:null);$e(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,aS(t,e,n)}return ls(t,e,n)}var uS,Dm,hS,fS;uS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dm=function(){};hS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_i(Cr.current);var i=null;switch(n){case"input":s=nm(t,s),r=nm(t,r),i=[];break;case"select":s=lt({},s,{value:void 0}),r=lt({},r,{value:void 0}),i=[];break;case"textarea":s=im(t,s),r=im(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hu)}om(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&We("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};fS=function(t,e,n,r){n!==r&&(e.flags|=4)};function $o(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Fk(t,e,n){var r=e.pendingProps;switch(yv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return wn(e.type)&&fu(),Wt(e),null;case 3:return r=e.stateNode,io(),Ke(bn),Ke(en),Tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Bm(lr),lr=null))),Dm(t,e),Wt(e),null;case 5:Nv(e);var s=_i(Wl.current);if(n=e.type,t!==null&&e.stateNode!=null)hS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Wt(e),null}if(t=_i(Cr.current),cd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_r]=e,r[zl]=i,t=(e.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(s=0;s<rl.length;s++)We(rl[s],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":sb(r,i),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},We("invalid",r);break;case"textarea":ab(r,i),We("invalid",r)}om(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ld(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ld(r.textContent,l,t),s=["children",""+l]):Rl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&We("scroll",r)}switch(n){case"input":ed(r),ib(r,i,!0);break;case"textarea":ed(r),ob(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Uj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[zl]=r,uS(t,e,!1,!1),e.stateNode=t;e:{switch(o=lm(n,r),n){case"dialog":We("cancel",t),We("close",t),s=r;break;case"iframe":case"object":case"embed":We("load",t),s=r;break;case"video":case"audio":for(s=0;s<rl.length;s++)We(rl[s],t);s=r;break;case"source":We("error",t),s=r;break;case"img":case"image":case"link":We("error",t),We("load",t),s=r;break;case"details":We("toggle",t),s=r;break;case"input":sb(t,r),s=nm(t,r),We("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=lt({},r,{value:void 0}),We("invalid",t);break;case"textarea":ab(t,r),s=im(t,r),We("invalid",t);break;default:s=r}om(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?zj(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$j(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Dl(t,c):typeof c=="number"&&Dl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&We("scroll",t):c!=null&&rv(t,i,c,o))}switch(n){case"input":ed(t),ib(t,r,!1);break;case"textarea":ed(t),ob(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Va(t,!!r.multiple,i,!1):r.defaultValue!=null&&Va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)fS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=_i(Wl.current),_i(Cr.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(i=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:ld(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ld(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Wt(e),null;case 13:if(Ke(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&In!==null&&e.mode&1&&!(e.flags&128))AE(),ro(),e.flags|=98560,i=!1;else if(i=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[_r]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else lr!==null&&(Bm(lr),lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?jt===0&&(jt=3):Fv())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return io(),Dm(t,e),t===null&&$l(e.stateNode.containerInfo),Wt(e),null;case 10:return _v(e.type._context),Wt(e),null;case 17:return wn(e.type)&&fu(),Wt(e),null;case 19:if(Ke(st),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)$o(i,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bu(t),o!==null){for(e.flags|=128,$o(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(st,st.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>oo&&(e.flags|=128,r=!0,$o(i,!1),e.lanes=4194304)}else{if(!r)if(t=bu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$o(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Wt(e),null}else 2*ft()-i.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,$o(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=st.current,$e(st,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return Vv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Uk(t,e){switch(yv(e),e.tag){case 1:return wn(e.type)&&fu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return io(),Ke(bn),Ke(en),Tv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nv(e),null;case 13:if(Ke(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(st),null;case 4:return io(),null;case 10:return _v(e.type._context),null;case 22:case 23:return Vv(),null;case 24:return null;default:return null}}var hd=!1,Yt=!1,$k=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ra(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function Om(t,e,n){try{n()}catch(r){ut(t,e,r)}}var Qb=!1;function Bk(t,e){if(ym=cu,t=vE(),gv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++d===s&&(l=o),f===i&&++u===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xm={focusedElem:t,selectionRange:n},cu=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ar(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){ut(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return g=Qb,Qb=!1,g}function yl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Om(e,n,i)}s=s.next}while(s!==r)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pS(t){var e=t.alternate;e!==null&&(t.alternate=null,pS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[zl],delete e[_m],delete e[Ek],delete e[Sk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mS(t){return t.tag===5||t.tag===3||t.tag===4}function Xb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hu));else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}var Rt=null,or=!1;function vs(t,e,n){for(n=n.child;n!==null;)gS(t,e,n),n=n.sibling}function gS(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:Yt||Ra(n,e);case 6:var r=Rt,s=or;Rt=null,vs(t,e,n),Rt=r,or=s,Rt!==null&&(or?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(or?(t=Rt,n=n.stateNode,t.nodeType===8?Bf(t.parentNode,n):t.nodeType===1&&Bf(t,n),Vl(t)):Bf(Rt,n.stateNode));break;case 4:r=Rt,s=or,Rt=n.stateNode.containerInfo,or=!0,vs(t,e,n),Rt=r,or=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Om(n,e,o),s=s.next}while(s!==r)}vs(t,e,n);break;case 1:if(!Yt&&(Ra(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ut(n,e,l)}vs(t,e,n);break;case 21:vs(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,vs(t,e,n),Yt=r):vs(t,e,n);break;default:vs(t,e,n)}}function Jb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $k),e.forEach(function(r){var s=Xk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Rt=l.stateNode,or=!1;break e;case 3:Rt=l.stateNode.containerInfo,or=!0;break e;case 4:Rt=l.stateNode.containerInfo,or=!0;break e}l=l.return}if(Rt===null)throw Error(q(160));gS(i,o,s),Rt=null,or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ut(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vS(e,t),e=e.sibling}function vS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),br(t),r&4){try{yl(3,t,t.return),_h(3,t)}catch(y){ut(t,t.return,y)}try{yl(5,t,t.return)}catch(y){ut(t,t.return,y)}}break;case 1:sr(e,t),br(t),r&512&&n!==null&&Ra(n,n.return);break;case 5:if(sr(e,t),br(t),r&512&&n!==null&&Ra(n,n.return),t.flags&32){var s=t.stateNode;try{Dl(s,"")}catch(y){ut(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Vj(s,i),lm(l,o);var d=lm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?zj(s,h):u==="dangerouslySetInnerHTML"?$j(s,h):u==="children"?Dl(s,h):rv(s,u,h,d)}switch(l){case"input":rm(s,i);break;case"textarea":Fj(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Va(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Va(s,!!i.multiple,i.defaultValue,!0):Va(s,!!i.multiple,i.multiple?[]:"",!1))}s[zl]=i}catch(y){ut(t,t.return,y)}}break;case 6:if(sr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ut(t,t.return,y)}}break;case 3:if(sr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vl(e.containerInfo)}catch(y){ut(t,t.return,y)}break;case 4:sr(e,t),br(t);break;case 13:sr(e,t),br(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lv=ft())),r&4&&Jb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(d=Yt)||u,sr(e,t),Yt=d):sr(e,t),br(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(h=ne=u;ne!==null;){switch(f=ne,p=f.child,f.tag){case 0:case 11:case 14:case 15:yl(4,f,f.return);break;case 1:Ra(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ut(r,n,y)}}break;case 5:Ra(f,f.return);break;case 22:if(f.memoizedState!==null){ew(h);continue}}p!==null?(p.return=f,ne=p):ew(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Bj("display",o))}catch(y){ut(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){ut(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sr(e,t),br(t),r&4&&Jb(t);break;case 21:break;default:sr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mS(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Dl(s,""),r.flags&=-33);var i=Xb(t);Vm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Xb(t);Mm(t,l,o);break;default:throw Error(q(161))}}catch(c){ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zk(t,e,n){ne=t,yS(t)}function yS(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hd;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=hd;var d=Yt;if(hd=o,(Yt=c)&&!d)for(ne=s;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?tw(s):c!==null?(c.return=o,ne=c):tw(s);for(;i!==null;)ne=i,yS(i),i=i.sibling;ne=s,hd=l,Yt=d}Zb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):Zb(t)}}function Zb(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||_h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Lb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lb(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Vl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Yt||e.flags&512&&Lm(e)}catch(f){ut(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function ew(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function tw(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(c){ut(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ut(e,s,c)}}var i=e.return;try{Lm(e)}catch(c){ut(e,i,c)}break;case 5:var o=e.return;try{Lm(e)}catch(c){ut(e,o,c)}}}catch(c){ut(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var Hk=Math.ceil,ju=ps.ReactCurrentDispatcher,Dv=ps.ReactCurrentOwner,Kn=ps.ReactCurrentBatchConfig,Ie=0,Ct=null,gt=null,Mt=0,Nn=0,Da=ii(0),jt=0,Yl=null,Vi=0,jh=0,Ov=0,xl=null,vn=null,Lv=0,oo=1/0,Gr=null,Eu=!1,Fm=null,$s=null,fd=!1,As=null,Su=0,bl=0,Um=null,$d=-1,Bd=0;function ln(){return Ie&6?ft():$d!==-1?$d:$d=ft()}function Bs(t){return t.mode&1?Ie&2&&Mt!==0?Mt&-Mt:Tk.transition!==null?(Bd===0&&(Bd=tE()),Bd):(t=De,t!==0||(t=window.event,t=t===void 0?16:lE(t.type)),t):1}function hr(t,e,n,r){if(50<bl)throw bl=0,Um=null,Error(q(185));wc(t,n,r),(!(Ie&2)||t!==Ct)&&(t===Ct&&(!(Ie&2)&&(jh|=n),jt===4&&js(t,Mt)),_n(t,r),n===1&&Ie===0&&!(e.mode&1)&&(oo=ft()+500,xh&&ai()))}function _n(t,e){var n=t.callbackNode;TP(t,e);var r=lu(t,t===Ct?Mt:0);if(r===0)n!==null&&db(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&db(n),e===1)t.tag===0?Nk(nw.bind(null,t)):TE(nw.bind(null,t)),_k(function(){!(Ie&6)&&ai()}),n=null;else{switch(nE(r)){case 1:n=lv;break;case 4:n=Zj;break;case 16:n=ou;break;case 536870912:n=eE;break;default:n=ou}n=NS(n,xS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xS(t,e){if($d=-1,Bd=0,Ie&6)throw Error(q(327));var n=t.callbackNode;if(za()&&t.callbackNode!==n)return null;var r=lu(t,t===Ct?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nu(t,r);else{e=r;var s=Ie;Ie|=2;var i=wS();(Ct!==t||Mt!==e)&&(Gr=null,oo=ft()+500,Ci(t,e));do try{Gk();break}catch(l){bS(t,l)}while(!0);wv(),ju.current=i,Ie=s,gt!==null?e=0:(Ct=null,Mt=0,e=jt)}if(e!==0){if(e===2&&(s=fm(t),s!==0&&(r=s,e=$m(t,s))),e===1)throw n=Yl,Ci(t,0),js(t,r),_n(t,ft()),n;if(e===6)js(t,r);else{if(s=t.current.alternate,!(r&30)&&!Wk(s)&&(e=Nu(t,r),e===2&&(i=fm(t),i!==0&&(r=i,e=$m(t,i))),e===1))throw n=Yl,Ci(t,0),js(t,r),_n(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:mi(t,vn,Gr);break;case 3:if(js(t,r),(r&130023424)===r&&(e=Lv+500-ft(),10<e)){if(lu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wm(mi.bind(null,t,vn,Gr),e);break}mi(t,vn,Gr);break;case 4:if(js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hk(r/1960))-r,10<r){t.timeoutHandle=wm(mi.bind(null,t,vn,Gr),r);break}mi(t,vn,Gr);break;case 5:mi(t,vn,Gr);break;default:throw Error(q(329))}}}return _n(t,ft()),t.callbackNode===n?xS.bind(null,t):null}function $m(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=Nu(t,e),t!==2&&(e=vn,vn=n,e!==null&&Bm(e)),t}function Bm(t){vn===null?vn=t:vn.push.apply(vn,t)}function Wk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e){for(e&=~Ov,e&=~jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function nw(t){if(Ie&6)throw Error(q(327));za();var e=lu(t,0);if(!(e&1))return _n(t,ft()),null;var n=Nu(t,e);if(t.tag!==0&&n===2){var r=fm(t);r!==0&&(e=r,n=$m(t,r))}if(n===1)throw n=Yl,Ci(t,0),js(t,e),_n(t,ft()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mi(t,vn,Gr),_n(t,ft()),null}function Mv(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(oo=ft()+500,xh&&ai())}}function Fi(t){As!==null&&As.tag===0&&!(Ie&6)&&za();var e=Ie;Ie|=1;var n=Kn.transition,r=De;try{if(Kn.transition=null,De=1,t)return t()}finally{De=r,Kn.transition=n,Ie=e,!(Ie&6)&&ai()}}function Vv(){Nn=Da.current,Ke(Da)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wk(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(yv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fu();break;case 3:io(),Ke(bn),Ke(en),Tv();break;case 5:Nv(r);break;case 4:io();break;case 13:Ke(st);break;case 19:Ke(st);break;case 10:_v(r.type._context);break;case 22:case 23:Vv()}n=n.return}if(Ct=t,gt=t=zs(t.current,null),Mt=Nn=e,jt=0,Yl=null,Ov=jh=Vi=0,vn=xl=null,wi!==null){for(e=0;e<wi.length;e++)if(n=wi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wi=null}return t}function bS(t,e){do{var n=gt;try{if(wv(),Vd.current=_u,wu){for(var r=it.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wu=!1}if(Mi=0,It=wt=it=null,vl=!1,ql=0,Dv.current=null,n===null||n.return===null){jt=1,Yl=e,gt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=zb(o);if(p!==null){p.flags&=-257,Hb(p,o,l,i,e),p.mode&1&&Bb(i,d,e),e=p,c=d;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){Bb(i,d,e),Fv();break e}c=Error(q(426))}}else if(tt&&l.mode&1){var b=zb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hb(b,o,l,i,e),xv(ao(c,l));break e}}i=c=ao(c,l),jt!==4&&(jt=2),xl===null?xl=[i]:xl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=rS(i,c,e);Ob(i,m);break e;case 1:l=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($s===null||!$s.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=sS(i,l,e);Ob(i,j);break e}}i=i.return}while(i!==null)}jS(n)}catch(N){e=N,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function wS(){var t=ju.current;return ju.current=_u,t===null?_u:t}function Fv(){(jt===0||jt===3||jt===2)&&(jt=4),Ct===null||!(Vi&268435455)&&!(jh&268435455)||js(Ct,Mt)}function Nu(t,e){var n=Ie;Ie|=2;var r=wS();(Ct!==t||Mt!==e)&&(Gr=null,Ci(t,e));do try{qk();break}catch(s){bS(t,s)}while(!0);if(wv(),Ie=n,ju.current=r,gt!==null)throw Error(q(261));return Ct=null,Mt=0,jt}function qk(){for(;gt!==null;)_S(gt)}function Gk(){for(;gt!==null&&!yP();)_S(gt)}function _S(t){var e=SS(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?jS(t):gt=e,Dv.current=null}function jS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Uk(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,gt=null;return}}else if(n=Fk(n,e,Nn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);jt===0&&(jt=5)}function mi(t,e,n){var r=De,s=Kn.transition;try{Kn.transition=null,De=1,Kk(t,e,n,r)}finally{Kn.transition=s,De=r}return null}function Kk(t,e,n,r){do za();while(As!==null);if(Ie&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(IP(t,i),t===Ct&&(gt=Ct=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,NS(ou,function(){return za(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var o=De;De=1;var l=Ie;Ie|=4,Dv.current=null,Bk(t,n),vS(n,t),pk(xm),cu=!!ym,xm=ym=null,t.current=n,zk(n),xP(),Ie=l,De=o,Kn.transition=i}else t.current=n;if(fd&&(fd=!1,As=t,Su=s),i=t.pendingLanes,i===0&&($s=null),_P(n.stateNode),_n(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Eu)throw Eu=!1,t=Fm,Fm=null,t;return Su&1&&t.tag!==0&&za(),i=t.pendingLanes,i&1?t===Um?bl++:(bl=0,Um=t):bl=0,ai(),null}function za(){if(As!==null){var t=nE(Su),e=Kn.transition,n=De;try{if(Kn.transition=null,De=16>t?16:t,As===null)var r=!1;else{if(t=As,As=null,Su=0,Ie&6)throw Error(q(331));var s=Ie;for(Ie|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ne=d;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:yl(8,u,i)}var h=u.child;if(h!==null)h.return=u,ne=h;else for(;ne!==null;){u=ne;var f=u.sibling,p=u.return;if(pS(u),u===d){ne=null;break}if(f!==null){f.return=p,ne=f;break}ne=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ne=m;break e}ne=i.return}}var x=t.current;for(ne=x;ne!==null;){o=ne;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ne=v;else e:for(o=x;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_h(9,l)}}catch(N){ut(l,l.return,N)}if(l===o){ne=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ne=j;break e}ne=l.return}}if(Ie=s,ai(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(ph,t)}catch{}r=!0}return r}finally{De=n,Kn.transition=e}}return!1}function rw(t,e,n){e=ao(n,e),e=rS(t,e,1),t=Us(t,e,1),e=ln(),t!==null&&(wc(t,1,e),_n(t,e))}function ut(t,e,n){if(t.tag===3)rw(t,t,n);else for(;e!==null;){if(e.tag===3){rw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=ao(n,t),t=sS(e,t,1),e=Us(e,t,1),t=ln(),e!==null&&(wc(e,1,t),_n(e,t));break}}e=e.return}}function Yk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Mt&n)===n&&(jt===4||jt===3&&(Mt&130023424)===Mt&&500>ft()-Lv?Ci(t,0):Ov|=n),_n(t,e)}function ES(t,e){e===0&&(t.mode&1?(e=rd,rd<<=1,!(rd&130023424)&&(rd=4194304)):e=1);var n=ln();t=os(t,e),t!==null&&(wc(t,e,n),_n(t,n))}function Qk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ES(t,n)}function Xk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),ES(t,n)}var SS;SS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,Vk(t,e,n);xn=!!(t.flags&131072)}else xn=!1,tt&&e.flags&1048576&&IE(e,gu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ud(t,e),t=e.pendingProps;var s=no(e,en.current);Ba(e,n),s=Cv(null,e,r,t,s,n);var i=Av();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(i=!0,pu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ev(e),s.updater=bh,e.stateNode=s,s._reactInternals=e,Im(e,r,t,n),e=Pm(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&vv(e),an(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ud(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Zk(r),t=ar(r,t),s){case 0:e=Am(null,e,r,t,n);break e;case 1:e=Gb(null,e,r,t,n);break e;case 11:e=Wb(null,e,r,t,n);break e;case 14:e=qb(null,e,r,ar(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Am(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Gb(t,e,r,s,n);case 3:e:{if(lS(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,kE(t,e),xu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ao(Error(q(423)),e),e=Kb(t,e,r,n,s);break e}else if(r!==s){s=ao(Error(q(424)),e),e=Kb(t,e,r,n,s);break e}else for(In=Fs(e.stateNode.containerInfo.firstChild),kn=e,tt=!0,lr=null,n=LE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===s){e=ls(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return ME(e),t===null&&Sm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,bm(r,s)?o=null:i!==null&&bm(r,i)&&(e.flags|=32),oS(t,e),an(t,e,o,n),e.child;case 6:return t===null&&Sm(e),null;case 13:return cS(t,e,n);case 4:return Sv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=so(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Wb(t,e,r,s,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,$e(vu,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!bn.current){e=ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ns(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Nm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}an(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ba(e,n),s=Qn(s),r=r(s),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,s=ar(r,e.pendingProps),s=ar(r.type,s),qb(t,e,r,s,n);case 15:return iS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Ud(t,e),e.tag=1,wn(r)?(t=!0,pu(e)):t=!1,Ba(e,n),DE(e,r,s),Im(e,r,s,n),Pm(null,e,r,!0,t,n);case 19:return dS(t,e,n);case 22:return aS(t,e,n)}throw Error(q(156,e.tag))};function NS(t,e){return Jj(t,e)}function Jk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new Jk(t,e,n,r)}function Uv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zk(t){if(typeof t=="function")return Uv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iv)return 11;if(t===av)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Uv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ea:return Ai(n.children,s,i,e);case sv:o=8,s|=8;break;case Jp:return t=Gn(12,n,e,s|2),t.elementType=Jp,t.lanes=i,t;case Zp:return t=Gn(13,n,e,s),t.elementType=Zp,t.lanes=i,t;case em:return t=Gn(19,n,e,s),t.elementType=em,t.lanes=i,t;case Oj:return Eh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rj:o=10;break e;case Dj:o=9;break e;case iv:o=11;break e;case av:o=14;break e;case bs:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ai(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Eh(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=Oj,t.lanes=n,t.stateNode={isHidden:!1},t}function Qf(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Xf(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pf(0),this.expirationTimes=Pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $v(t,e,n,r,s,i,o,l,c){return t=new eR(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Gn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ev(i),t}function tR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TS(t){if(!t)return Xs;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(wn(n))return NE(t,n,e)}return e}function IS(t,e,n,r,s,i,o,l,c){return t=$v(n,r,!0,t,s,i,o,l,c),t.context=TS(null),n=t.current,r=ln(),s=Bs(n),i=ns(r,s),i.callback=e??null,Us(n,i,s),t.current.lanes=s,wc(t,s,r),_n(t,r),t}function Sh(t,e,n,r){var s=e.current,i=ln(),o=Bs(s);return n=TS(n),e.context===null?e.context=n:e.pendingContext=n,e=ns(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(s,e,o),t!==null&&(hr(t,s,o,i),Md(t,s,o)),o}function Tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bv(t,e){sw(t,e),(t=t.alternate)&&sw(t,e)}function nR(){return null}var CS=typeof reportError=="function"?reportError:function(t){console.error(t)};function zv(t){this._internalRoot=t}Nh.prototype.render=zv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Sh(t,e,null,null)};Nh.prototype.unmount=zv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){Sh(null,t,null,null)}),e[as]=null}};function Nh(t){this._internalRoot=t}Nh.prototype.unstable_scheduleHydration=function(t){if(t){var e=iE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&oE(t)}};function Hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iw(){}function rR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Tu(o);i.call(d)}}var o=IS(e,r,t,0,null,!1,!1,"",iw);return t._reactRootContainer=o,t[as]=o.current,$l(t.nodeType===8?t.parentNode:t),Fi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Tu(c);l.call(d)}}var c=$v(t,0,!1,null,null,!1,!1,"",iw);return t._reactRootContainer=c,t[as]=c.current,$l(t.nodeType===8?t.parentNode:t),Fi(function(){Sh(e,c,n,r)}),c}function Ih(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Tu(o);l.call(c)}}Sh(e,o,t,s)}else o=rR(n,e,t,s,r);return Tu(o)}rE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(cv(e,n|1),_n(e,ft()),!(Ie&6)&&(oo=ft()+500,ai()))}break;case 13:Fi(function(){var r=os(t,1);if(r!==null){var s=ln();hr(r,t,1,s)}}),Bv(t,1)}};dv=function(t){if(t.tag===13){var e=os(t,134217728);if(e!==null){var n=ln();hr(e,t,134217728,n)}Bv(t,134217728)}};sE=function(t){if(t.tag===13){var e=Bs(t),n=os(t,e);if(n!==null){var r=ln();hr(n,t,e,r)}Bv(t,e)}};iE=function(){return De};aE=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};dm=function(t,e,n){switch(e){case"input":if(rm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yh(r);if(!s)throw Error(q(90));Mj(r),rm(r,s)}}}break;case"textarea":Fj(t,n);break;case"select":e=n.value,e!=null&&Va(t,!!n.multiple,e,!1)}};qj=Mv;Gj=Fi;var sR={usingClientEntryPoint:!1,Events:[jc,Ia,yh,Hj,Wj,Mv]},Bo={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iR={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qj(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||nR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{ph=pd.inject(iR),Ir=pd}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hv(e))throw Error(q(200));return tR(t,e,null,n)};Mn.createRoot=function(t,e){if(!Hv(t))throw Error(q(299));var n=!1,r="",s=CS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$v(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,$l(t.nodeType===8?t.parentNode:t),new zv(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Qj(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return Fi(t)};Mn.hydrate=function(t,e,n){if(!Th(e))throw Error(q(200));return Ih(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!Hv(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=CS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IS(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,$l(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Nh(e)};Mn.render=function(t,e,n){if(!Th(e))throw Error(q(200));return Ih(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!Th(t))throw Error(q(40));return t._reactRootContainer?(Fi(function(){Ih(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};Mn.unstable_batchedUpdates=Mv;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Th(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Ih(t,e,n,!1,r)};Mn.version="18.2.0-next-9e3b772b8-20220608";function AS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AS)}catch(t){console.error(t)}}AS(),Ij.exports=Mn;var aR=Ij.exports,aw=aR;Qp.createRoot=aw.createRoot,Qp.hydrateRoot=aw.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(this,arguments)}var Ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ps||(Ps={}));const ow="popstate";function oR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:c=""}=ta(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),zm("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:Iu(i))}function r(s,i){Ch(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return cR(e,n,r,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ch(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lR(){return Math.random().toString(36).substr(2,8)}function lw(t,e){return{usr:t.state,key:t.key,idx:e}}function zm(t,e,n,r){return n===void 0&&(n=null),Ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:n,key:e&&e.key||r||lR()})}function Iu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Ps.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Ql({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Ps.Pop;let b=u(),m=b==null?null:b-d;d=b,c&&c({action:l,location:y.location,delta:m})}function f(b,m){l=Ps.Push;let x=zm(y.location,b,m);n&&n(x,b),d=u()+1;let v=lw(x,d),j=y.createHref(x);try{o.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function p(b,m){l=Ps.Replace;let x=zm(y.location,b,m);n&&n(x,b),d=u();let v=lw(x,d),j=y.createHref(x);o.replaceState(v,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function g(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Iu(b);return xt(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let y={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ow,h),c=b,()=>{s.removeEventListener(ow,h),c=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}var cw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cw||(cw={}));function dR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ta(e):e,s=Wv(r.pathname||"/",n);if(s==null)return null;let i=PS(t);uR(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=bR(i[l],jR(s));return o}function PS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Hs([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),PS(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:yR(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of kS(i.path))s(i,o,c)}),e}function kS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=kS(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function uR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hR=/^:[\w-]+$/,fR=3,pR=2,mR=1,gR=10,vR=-2,dw=t=>t==="*";function yR(t,e){let n=t.split("/"),r=n.length;return n.some(dw)&&(r+=vR),e&&(r+=pR),n.filter(s=>!dw(s)).reduce((s,i)=>s+(hR.test(i)?fR:i===""?mR:gR),r)}function xR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bR(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",u=wR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!u)return null;Object.assign(r,u.params);let h=l.route;i.push({params:r,pathname:Hs([s,u.pathname]),pathnameBase:IR(Hs([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Hs([s,u.pathnameBase]))}return i}function wR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_R(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[f]=void 0:d[f]=ER(g||"",f),d},{}),pathname:i,pathnameBase:o,pattern:t}}function _R(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ch(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function jR(t){try{return decodeURI(t)}catch(e){return Ch(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ER(t,e){try{return decodeURIComponent(t)}catch(n){return Ch(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Wv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ta(t):t;return{pathname:n?n.startsWith("/")?n:NR(n,e):e,search:CR(r),hash:AR(s)}}function NR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RS(t,e){let n=TR(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function DS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ta(t):(s=Ql({},t),xt(!s.pathname||!s.pathname.includes("?"),Jf("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),Jf("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),Jf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=SR(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),IR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OS=["post","put","patch","delete"];new Set(OS);const kR=["get",...OS];new Set(kR);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}const qv=T.createContext(null),RR=T.createContext(null),na=T.createContext(null),Ah=T.createContext(null),oi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),LS=T.createContext(null);function DR(t,e){let{relative:n}=e===void 0?{}:e;Sc()||xt(!1);let{basename:r,navigator:s}=T.useContext(na),{hash:i,pathname:o,search:l}=VS(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Hs([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Sc(){return T.useContext(Ah)!=null}function Nc(){return Sc()||xt(!1),T.useContext(Ah).location}function MS(t){T.useContext(na).static||T.useLayoutEffect(t)}function OR(){let{isDataRoute:t}=T.useContext(oi);return t?KR():LR()}function LR(){Sc()||xt(!1);let t=T.useContext(qv),{basename:e,future:n,navigator:r}=T.useContext(na),{matches:s}=T.useContext(oi),{pathname:i}=Nc(),o=JSON.stringify(RS(s,n.v7_relativeSplatPath)),l=T.useRef(!1);return MS(()=>{l.current=!0}),T.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=DS(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hs([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function Ur(){let{matches:t}=T.useContext(oi),e=t[t.length-1];return e?e.params:{}}function VS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(na),{matches:s}=T.useContext(oi),{pathname:i}=Nc(),o=JSON.stringify(RS(s,r.v7_relativeSplatPath));return T.useMemo(()=>DS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function MR(t,e){return VR(t,e)}function VR(t,e,n,r){Sc()||xt(!1);let{navigator:s}=T.useContext(na),{matches:i}=T.useContext(oi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Nc(),u;if(e){var h;let b=typeof e=="string"?ta(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||xt(!1),u=b}else u=d;let f=u.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=dR(t,{pathname:p}),y=zR(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Hs([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Hs([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?T.createElement(Ah.Provider,{value:{location:Xl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ps.Pop}},y):y}function FR(){let t=GR(),e=PR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const UR=T.createElement(FR,null);class $R extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(oi.Provider,{value:this.props.routeContext},T.createElement(LS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BR(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(qv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(oi.Provider,{value:e},r)}function zR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));u>=0||xt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,y=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||UR,c&&(d<0&&f===0?(YR("route-fallback",!1),g=!0,b=null):d===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),x=()=>{let v;return p?v=y:g?v=b:h.route.Component?v=T.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,T.createElement(BR,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement($R,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var FS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FS||{}),Cu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cu||{});function HR(t){let e=T.useContext(qv);return e||xt(!1),e}function WR(t){let e=T.useContext(RR);return e||xt(!1),e}function qR(t){let e=T.useContext(oi);return e||xt(!1),e}function US(t){let e=qR(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function GR(){var t;let e=T.useContext(LS),n=WR(Cu.UseRouteError),r=US(Cu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KR(){let{router:t}=HR(FS.UseNavigateStable),e=US(Cu.UseNavigateStable),n=T.useRef(!1);return MS(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xl({fromRouteId:e},i)))},[t,e])}const uw={};function YR(t,e,n){!e&&!uw[t]&&(uw[t]=!0)}function ge(t){xt(!1)}function QR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ps.Pop,navigator:i,static:o=!1,future:l}=t;Sc()&&xt(!1);let c=e.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:o,future:Xl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ta(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,y=T.useMemo(()=>{let b=Wv(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:s}},[c,u,h,f,p,g,s]);return y==null?null:T.createElement(na.Provider,{value:d},T.createElement(Ah.Provider,{children:n,value:y}))}function Gv(t){let{children:e,location:n}=t;return MR(Hm(e),n)}new Promise(()=>{});function Hm(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,Hm(r.props.children,i));return}r.type!==ge&&xt(!1),!r.props.index||!r.props.children||xt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wm.apply(this,arguments)}function XR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function JR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZR(t,e){return t.button===0&&(!e||e==="_self")&&!JR(t)}const eD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tD="6";try{window.__reactRouterVersion=tD}catch{}const nD="startTransition",hw=Yp[nD];function rD(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=oR({window:s,v5Compat:!0}));let o=i.current,[l,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=T.useCallback(h=>{d&&hw?hw(()=>c(h)):c(h)},[c,d]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(QR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const sD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,unstable_viewTransition:h}=e,f=XR(e,eD),{basename:p}=T.useContext(na),g,y=!1;if(typeof d=="string"&&iD.test(d)&&(g=d,sD))try{let v=new URL(window.location.href),j=d.startsWith("//")?new URL(v.protocol+d):new URL(d),N=Wv(j.pathname,p);j.origin===v.origin&&N!=null?d=N+j.search+j.hash:y=!0}catch{}let b=DR(d,{relative:s}),m=aD(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,unstable_viewTransition:h});function x(v){r&&r(v),v.defaultPrevented||m(v)}return T.createElement("a",Wm({},f,{href:g||b,onClick:y||i?r:x,ref:n,target:c}))});var fw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var pw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pw||(pw={}));function aD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=OR(),d=Nc(),u=VS(t,{relative:o});return T.useCallback(h=>{if(ZR(h,n)){h.preventDefault();let f=r!==void 0?r:Iu(d)===Iu(u);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[d,c,u,r,s,n,t,i,o,l])}var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},oD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},BS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||h==null)throw new lD;const f=i<<2|l>>4;if(r.push(f),d!==64){const p=l<<4&240|d>>2;if(r.push(p),h!==64){const g=d<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cD=function(t){const e=$S(t);return BS.encodeByteArray(e,!0)},Au=function(t){return cD(t).replace(/\./g,"")},zS=function(t){try{return BS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=()=>dD().__FIREBASE_DEFAULTS__,hD=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},Ph=()=>{try{return uD()||hD()||fD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HS=t=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WS=t=>{const e=HS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qS=()=>{var t;return(t=Ph())===null||t===void 0?void 0:t.config},GS=t=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Au(JSON.stringify(n)),Au(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function gD(){var t;const e=(t=Ph())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yD(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xD(){return!gD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kv(){try{return typeof indexedDB=="object"}catch{return!1}}function QS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function bD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wD,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ra.prototype.create)}}class ra{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_D(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new tr(s,l,r)}}function _D(t,e){return t.replace(jD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jD=/\{\$([^}]+)}/g;function ED(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ui(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(gw(i)&&gw(o)){if(!Ui(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SD(t,e){const n=new ND(t,e);return n.subscribe.bind(n)}class ND{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zf),s.error===void 0&&(s.error=Zf),s.complete===void 0&&(s.complete=Zf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1e3,CD=2,AD=4*60*60*1e3,PD=.5;function vw(t,e=ID,n=CD){const r=e*Math.pow(n,t),s=Math.round(PD*r*(Math.random()-.5)*2);return Math.min(AD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class Jn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DD(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RD(t){return t===gi?void 0:t}function DD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const LD={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},MD=Se.INFO,VD={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},FD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kh{constructor(e){this.name=e,this._logLevel=MD,this._logHandler=FD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const UD=(t,e)=>e.some(n=>t instanceof n);let yw,xw;function $D(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BD(){return xw||(xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,qm=new WeakMap,JS=new WeakMap,ep=new WeakMap,Yv=new WeakMap;function zD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ws(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),Yv.set(e,t),e}function HD(t){if(qm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});qm.set(t,e)}let Gm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WD(t){Gm=t(Gm)}function qD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tp(this),e,...n);return JS.set(r,e.sort?e.sort():[e]),Ws(r)}:BD().includes(t)?function(...e){return t.apply(tp(this),e),Ws(XS.get(this))}:function(...e){return Ws(t.apply(tp(this),e))}}function GD(t){return typeof t=="function"?qD(t):(t instanceof IDBTransaction&&HD(t),UD(t,$D())?new Proxy(t,Gm):t)}function Ws(t){if(t instanceof IDBRequest)return zD(t);if(ep.has(t))return ep.get(t);const e=GD(t);return e!==t&&(ep.set(t,e),Yv.set(e,t)),e}const tp=t=>Yv.get(t);function ZS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Ws(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ws(o.result),c.oldVersion,c.newVersion,Ws(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const KD=["get","getKey","getAll","getAllKeys","count"],YD=["put","add","delete","clear"],np=new Map;function bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=YD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||KD.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return np.set(e,i),i}WD(t=>({...t,get:(e,n,r)=>bw(e,n)||t.get(e,n,r),has:(e,n)=>!!bw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",ww="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new kh("@firebase/app"),JD="@firebase/app-compat",ZD="@firebase/analytics-compat",eO="@firebase/analytics",tO="@firebase/app-check-compat",nO="@firebase/app-check",rO="@firebase/auth",sO="@firebase/auth-compat",iO="@firebase/database",aO="@firebase/database-compat",oO="@firebase/functions",lO="@firebase/functions-compat",cO="@firebase/installations",dO="@firebase/installations-compat",uO="@firebase/messaging",hO="@firebase/messaging-compat",fO="@firebase/performance",pO="@firebase/performance-compat",mO="@firebase/remote-config",gO="@firebase/remote-config-compat",vO="@firebase/storage",yO="@firebase/storage-compat",xO="@firebase/firestore",bO="@firebase/firestore-compat",wO="firebase",_O="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",jO={[Km]:"fire-core",[JD]:"fire-core-compat",[eO]:"fire-analytics",[ZD]:"fire-analytics-compat",[nO]:"fire-app-check",[tO]:"fire-app-check-compat",[rO]:"fire-auth",[sO]:"fire-auth-compat",[iO]:"fire-rtdb",[aO]:"fire-rtdb-compat",[oO]:"fire-fn",[lO]:"fire-fn-compat",[cO]:"fire-iid",[dO]:"fire-iid-compat",[uO]:"fire-fcm",[hO]:"fire-fcm-compat",[fO]:"fire-perf",[pO]:"fire-perf-compat",[mO]:"fire-rc",[gO]:"fire-rc-compat",[vO]:"fire-gcs",[yO]:"fire-gcs-compat",[xO]:"fire-fst",[bO]:"fire-fst-compat","fire-js":"fire-js",[wO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Map,Qm=new Map;function EO(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){const e=t.name;if(Qm.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,t);for(const n of Pu.values())EO(n,t);return!0}function li(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qs=new ra("app","Firebase",SO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=_O;function eN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw qs.create("bad-app-name",{appName:String(s)});if(n||(n=qS()),!n)throw qs.create("no-options");const i=Pu.get(s);if(i){if(Ui(n,i.options)&&Ui(r,i.config))return i;throw qs.create("duplicate-app",{appName:s})}const o=new OD(s);for(const c of Qm.values())o.addComponent(c);const l=new NO(n,r,o);return Pu.set(s,l),l}function Rh(t=Ym){const e=Pu.get(t);if(!e&&t===Ym&&qS())return eN();if(!e)throw qs.create("no-app",{appName:t});return e}function jn(t,e,n){var r;let s=(r=jO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(l.join(" "));return}pr(new Jn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firebase-heartbeat-database",IO=1,Jl="firebase-heartbeat-store";let rp=null;function tN(){return rp||(rp=ZS(TO,IO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),rp}async function CO(t){try{const n=(await tN()).transaction(Jl),r=await n.objectStore(Jl).get(nN(t));return await n.done,r}catch(e){if(e instanceof tr)$i.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function _w(t,e){try{const r=(await tN()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,nN(t)),await r.done}catch(n){if(n instanceof tr)$i.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(r.message)}}}function nN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=1024,PO=30*24*60*60*1e3;class kO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=PO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jw(),{heartbeatsToSend:r,unsentEntries:s}=RO(this._heartbeatsCache.heartbeats),i=Au(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function jw(){return new Date().toISOString().substring(0,10)}function RO(t,e=AO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ew(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ew(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kv()?QS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ew(t){return Au(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){pr(new Jn("platform-logger",e=>new QD(e),"PRIVATE")),pr(new Jn("heartbeat",e=>new kO(e),"PRIVATE")),jn(Km,ww,t),jn(Km,ww,"esm2017"),jn("fire-js","")}OO("");var LO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,Qv=Qv||{},de=LO||self;function Dh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ic(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MO(t){return Object.prototype.hasOwnProperty.call(t,sp)&&t[sp]||(t[sp]=++VO)}var sp="closure_uid_"+(1e9*Math.random()>>>0),VO=0;function FO(t,e,n){return t.call.apply(t.bind,arguments)}function UO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jt=FO:Jt=UO,Jt.apply(null,arguments)}function md(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[s].apply(r,o)}}function ci(){this.s=this.s,this.o=this.o}var $O=0;ci.prototype.s=!1;ci.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$O!=0)&&MO(this)};ci.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Xv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Sw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Dh(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var BO=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};de.addEventListener("test",n,e),de.removeEventListener("test",n,e)}catch{}return t}();function Zl(t){return/^[\s\xa0]*$/.test(t)}function Oh(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function jr(t){return Oh().indexOf(t)!=-1}function Jv(t){return Jv[" "](t),t}Jv[" "]=function(){};function zO(t,e){var n=OL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var HO=jr("Opera"),lo=jr("Trident")||jr("MSIE"),sN=jr("Edge"),Xm=sN||lo,iN=jr("Gecko")&&!(Oh().toLowerCase().indexOf("webkit")!=-1&&!jr("Edge"))&&!(jr("Trident")||jr("MSIE"))&&!jr("Edge"),WO=Oh().toLowerCase().indexOf("webkit")!=-1&&!jr("Edge");function aN(){var t=de.document;return t?t.documentMode:void 0}var Jm;e:{var ip="",ap=function(){var t=Oh();if(iN)return/rv:([^\);]+)(\)|;)/.exec(t);if(sN)return/Edge\/([\d\.]+)/.exec(t);if(lo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(WO)return/WebKit\/(\S+)/.exec(t);if(HO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ap&&(ip=ap?ap[1]:""),lo){var op=aN();if(op!=null&&op>parseFloat(ip)){Jm=String(op);break e}}Jm=ip}var Zm;if(de.document&&lo){var Nw=aN();Zm=Nw||parseInt(Jm,10)||void 0}else Zm=void 0;var qO=Zm;function ec(t,e){if(Zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iN){e:{try{Jv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ec.$.h.call(this)}}Pt(ec,Zt);var GO={2:"touch",3:"pen",4:"mouse"};ec.prototype.h=function(){ec.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),KO=0;function YO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++KO,this.fa=this.ia=!1}function Lh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Zv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function QO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function oN(t){const e={};for(const n in t)e[n]=t[n];return e}const Tw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lN(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Tw.length;i++)n=Tw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mh(t){this.src=t,this.g={},this.h=0}Mh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=tg(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new YO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function eg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=rN(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Lh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function tg(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var ey="closure_lm_"+(1e6*Math.random()|0),lp={};function cN(t,e,n,r,s){if(r&&r.once)return uN(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)cN(t,e[i],n,r,s);return null}return n=ry(n),t&&t[Cc]?t.O(e,n,Ic(r)?!!r.capture:!!r,s):dN(t,e,n,!1,r,s)}function dN(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Ic(s)?!!s.capture:!!s,l=ny(t);if(l||(t[ey]=l=new Mh(t)),n=l.add(e,n,r,o,i),n.proxy)return n;if(r=XO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(fN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XO(){function t(n){return e.call(t.src,t.listener,n)}const e=JO;return t}function uN(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)uN(t,e[i],n,r,s);return null}return n=ry(n),t&&t[Cc]?t.P(e,n,Ic(r)?!!r.capture:!!r,s):dN(t,e,n,!0,r,s)}function hN(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)hN(t,e[i],n,r,s);else r=Ic(r)?!!r.capture:!!r,n=ry(n),t&&t[Cc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=tg(i,n,r,s),-1<n&&(Lh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=ny(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tg(e,n,r,s)),(n=-1<t?e[t]:null)&&ty(n))}function ty(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cc])eg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ny(e))?(eg(n,t),n.h==0&&(n.src=null,e[ey]=null)):Lh(t)}}}function fN(t){return t in lp?lp[t]:lp[t]="on"+t}function JO(t,e){if(t.fa)t=!0;else{e=new ec(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ty(t),t=n.call(r,e)}return t}function ny(t){return t=t[ey],t instanceof Mh?t:null}var cp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ry(t){return typeof t=="function"?t:(t[cp]||(t[cp]=function(e){return t.handleEvent(e)}),t[cp])}function At(){ci.call(this),this.i=new Mh(this),this.S=this,this.J=null}Pt(At,ci);At.prototype[Cc]=!0;At.prototype.removeEventListener=function(t,e,n,r){hN(this,t,e,n,r)};function Vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Zt(e,t);else if(e instanceof Zt)e.target=e.target||t;else{var s=e;e=new Zt(r,t),lN(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=gd(o,r,!0,e)&&s}if(o=e.g=t,s=gd(o,r,!0,e)&&s,s=gd(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=gd(o,r,!1,e)&&s}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lh(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function gd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&eg(t.i,o),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var sy=de.JSON.stringify;class ZO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function eL(){var t=iy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class tL{constructor(){this.h=this.g=null}add(e,n){const r=pN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var pN=new ZO(()=>new nL,t=>t.reset());class nL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function sL(t){de.setTimeout(()=>{throw t},0)}let tc,nc=!1,iy=new tL,mN=()=>{const t=de.Promise.resolve(void 0);tc=()=>{t.then(iL)}};var iL=()=>{for(var t;t=eL();){try{t.h.call(t.g)}catch(n){sL(n)}var e=pN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nc=!1};function Vh(t,e){At.call(this),this.h=t||1,this.g=e||de,this.j=Jt(this.qb,this),this.l=Date.now()}Pt(Vh,At);X=Vh.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(ay(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ay(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){Vh.$.N.call(this),ay(this),delete this.g};function oy(t,e,n){if(typeof t=="function")n&&(t=Jt(t,n));else if(t&&typeof t.handleEvent=="function")t=Jt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function gN(t){t.g=oy(()=>{t.g=null,t.i&&(t.i=!1,gN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class aL extends ci{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gN(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rc(t){ci.call(this),this.h=t,this.g={}}Pt(rc,ci);var Iw=[];function vN(t,e,n,r){Array.isArray(n)||(n&&(Iw[0]=n.toString()),n=Iw);for(var s=0;s<n.length;s++){var i=cN(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function yN(t){Zv(t.g,function(e,n){this.g.hasOwnProperty(n)&&ty(e)},t),t.g={}}rc.prototype.N=function(){rc.$.N.call(this),yN(this)};rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fh(){this.g=!0}Fh.prototype.Ea=function(){this.g=!1};function oL(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",l=i.split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(1<d.length){var u=d[0];d=d[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+d+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function lL(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dL(t,n)+(r?" "+r:"")})}function cL(t,e){t.info(function(){return"TIMEOUT: "+e})}Fh.prototype.info=function(){};function dL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return sy(n)}catch{return e}}var ia={},Cw=null;function Uh(){return Cw=Cw||new At}ia.Ta="serverreachability";function xN(t){Zt.call(this,ia.Ta,t)}Pt(xN,Zt);function sc(t){const e=Uh();Vt(e,new xN(e))}ia.STAT_EVENT="statevent";function bN(t,e){Zt.call(this,ia.STAT_EVENT,t),this.stat=e}Pt(bN,Zt);function on(t){const e=Uh();Vt(e,new bN(e,t))}ia.Ua="timingevent";function wN(t,e){Zt.call(this,ia.Ua,t),this.size=e}Pt(wN,Zt);function Ac(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var $h={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_N={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ly(){}ly.prototype.h=null;function Aw(t){return t.h||(t.h=t.i())}function jN(){}var Pc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cy(){Zt.call(this,"d")}Pt(cy,Zt);function dy(){Zt.call(this,"c")}Pt(dy,Zt);var ng;function Bh(){}Pt(Bh,ly);Bh.prototype.g=function(){return new XMLHttpRequest};Bh.prototype.i=function(){return{}};ng=new Bh;function kc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new rc(this),this.P=uL,t=Xm?125:void 0,this.V=new Vh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EN}function EN(){this.i=null,this.g="",this.h=!1}var uL=45e3,SN={},rg={};X=kc.prototype;X.setTimeout=function(t){this.P=t};function sg(t,e,n){t.L=1,t.A=Hh(cs(e)),t.u=n,t.S=!0,NN(t,null)}function NN(t,e){t.G=Date.now(),Rc(t),t.B=cs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),DN(n.i,"t",r),t.o=0,n=t.l.J,t.h=new EN,t.g=t1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new aL(Jt(t.Pa,t,t.g),t.O)),vN(t.U,t.g,"readystatechange",t.nb),e=t.I?oN(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),sc(),oL(t.j,t.v,t.B,t.m,t.W,t.u)}X.nb=function(t){t=t.target;const e=this.M;e&&Er(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const u=Er(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Xm||this.g&&(this.h.h||this.g.ja()||Dw(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?sc(3):sc(2)),zh(this);var n=this.g.da();this.ca=n;t:if(TN(this)){var r=Dw(this.g);t="";var s=r.length,i=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),wl(this);var o="";break t}this.h.i=new de.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,lL(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zl(l)){var d=l;break t}}d=null}if(n=d)Oa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ig(this,n);else{this.i=!1,this.s=3,on(12),ji(this),wl(this);break e}}this.S?(IN(this,u,o),Xm&&this.i&&u==3&&(vN(this.U,this.V,"tick",this.mb),this.V.start())):(Oa(this.j,this.m,o,null),ig(this,o)),u==4&&ji(this),this.i&&!this.J&&(u==4?XN(this.l,this):(this.i=!1,Rc(this)))}else kL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),ji(this),wl(this)}}}catch{}finally{}};function TN(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function IN(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=hL(t,n),s==rg){e==4&&(t.s=4,on(14),r=!1),Oa(t.j,t.m,null,"[Incomplete Response]");break}else if(s==SN){t.s=4,on(15),Oa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Oa(t.j,t.m,s,null),ig(t,s);TN(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gy(e),e.M=!0,on(11))):(Oa(t.j,t.m,n,"[Invalid Chunked Response]"),ji(t),wl(t))}X.mb=function(){if(this.g){var t=Er(this.g),e=this.g.ja();this.o<e.length&&(zh(this),IN(this,t,e),this.i&&t!=4&&Rc(this))}};function hL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?rg:(n=Number(e.substring(n,r)),isNaN(n)?SN:(r+=1,r+n>e.length?rg:(e=e.slice(r,r+n),t.o=r+n,e)))}X.cancel=function(){this.J=!0,ji(this)};function Rc(t){t.Y=Date.now()+t.P,CN(t,t.P)}function CN(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ac(Jt(t.lb,t),e)}function zh(t){t.C&&(de.clearTimeout(t.C),t.C=null)}X.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(cL(this.j,this.B),this.L!=2&&(sc(),on(17)),ji(this),this.s=2,wl(this)):CN(this,this.Y-t)};function wl(t){t.l.H==0||t.J||XN(t.l,t)}function ji(t){zh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ay(t.V),yN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ig(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ag(n.i,t))){if(!t.K&&ag(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Du(n),Kh(n);else break e;my(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ac(Jt(n.ib,n),6e3));if(1>=MN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ei(n,11)}else if((t.K||n.g==t)&&Du(n),!Zl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let d=s[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const u=d[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=d[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=d[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(uy(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,qe(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=e1(r,r.J?r.pa:null,r.Y),o.K){VN(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&(zh(l),Rc(l)),r.g=o}else YN(r);0<n.j.length&&Yh(n)}else d[0]!="stop"&&d[0]!="close"||Ei(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Ei(n,7):py(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}sc(4)}catch{}}function fL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Dh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function pL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function AN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Dh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=pL(t),r=fL(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var PN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Pi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Pi){this.h=t.h,ku(this,t.j),this.s=t.s,this.g=t.g,Ru(this,t.m),this.l=t.l;var e=t.i,n=new ic;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Pw(this,n),this.o=t.o}else t&&(e=String(t).match(PN))?(this.h=!1,ku(this,e[1]||"",!0),this.s=al(e[2]||""),this.g=al(e[3]||"",!0),Ru(this,e[4]),this.l=al(e[5]||"",!0),Pw(this,e[6]||"",!0),this.o=al(e[7]||"")):(this.h=!1,this.i=new ic(null,this.h))}Pi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ol(e,kw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ol(e,kw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ol(n,n.charAt(0)=="/"?yL:vL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ol(n,bL)),t.join("")};function cs(t){return new Pi(t)}function ku(t,e,n){t.j=n?al(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ru(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pw(t,e,n){e instanceof ic?(t.i=e,wL(t.i,t.h)):(n||(e=ol(e,xL)),t.i=new ic(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function Hh(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function al(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ol(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,gL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var kw=/[#\/\?@]/g,vL=/[#\?:]/g,yL=/[#\?]/g,xL=/[#\?@]/g,bL=/#/g;function ic(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function di(t){t.g||(t.g=new Map,t.h=0,t.i&&mL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=ic.prototype;X.add=function(t,e){di(this),this.i=null,t=So(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function kN(t,e){di(t),e=So(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function RN(t,e){return di(t),e=So(t,e),t.g.has(e)}X.forEach=function(t,e){di(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};X.ta=function(){di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};X.Z=function(t){di(this);let e=[];if(typeof t=="string")RN(this,t)&&(e=e.concat(this.g.get(So(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return di(this),this.i=null,t=So(this,t),RN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function DN(t,e,n){kN(t,e),0<n.length&&(t.i=null,t.g.set(So(t,e),Xv(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function So(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wL(t,e){e&&!t.j&&(di(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(kN(this,r),DN(this,s,n))},t)),t.j=e}var _L=class{constructor(t,e){this.g=t,this.map=e}};function ON(t){this.l=t||jL,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jL=10;function LN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function MN(t){return t.h?1:t.g?t.g.size:0}function ag(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uy(t,e){t.g?t.g.add(e):t.h=e}function VN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ON.prototype.cancel=function(){if(this.i=FN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function FN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Xv(t.i)}var EL=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function SL(){this.g=new EL}function NL(t,e,n){const r=n||"";try{AN(t,function(s,i){let o=s;Ic(s)&&(o=sy(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function TL(t,e){const n=new Fh;if(de.Image){const r=new Image;r.onload=md(vd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=md(vd,n,r,"TestLoadImage: error",!1,e),r.onabort=md(vd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=md(vd,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vd(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Wh(t){this.l=t.ec||null,this.j=t.ob||!1}Pt(Wh,ly);Wh.prototype.g=function(){return new qh(this.l,this.j)};Wh.prototype.i=function(t){return function(){return t}}({});function qh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(qh,At);var hy=0;X=qh.prototype;X.open=function(t,e){if(this.readyState!=hy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ac(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dc(this)),this.readyState=hy};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ac(this)),this.g&&(this.readyState=3,ac(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function UN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Dc(this):ac(this),this.readyState==3&&UN(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,Dc(this))};X.Ya=function(t){this.g&&(this.response=t,Dc(this))};X.ka=function(){this.g&&Dc(this)};function Dc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ac(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ac(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var IL=de.JSON.parse;function ht(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$N,this.L=this.M=!1}Pt(ht,At);var $N="",CL=/^https?$/i,AL=["POST","PUT"];X=ht.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ng.g(),this.C=this.u?Aw(this.u):Aw(ng),this.g.onreadystatechange=Jt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Rw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=de.FormData&&t instanceof de.FormData,!(0<=rN(AL,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HN(this),0<this.B&&((this.L=PL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.ua,this)):this.A=oy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Rw(this,i)}};function PL(t){return lo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof Qv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function Rw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,BN(t),Gh(t)}function BN(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Gh(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gh(this,!0)),ht.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?zN(this):this.kb())};X.kb=function(){zN(this)};function zN(t){if(t.h&&typeof Qv<"u"&&(!t.C[1]||Er(t)!=4||t.da()!=2)){if(t.v&&Er(t)==4)oy(t.La,0,t);else if(Vt(t,"readystatechange"),Er(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(PN)[1]||null;!s&&de.self&&de.self.location&&(s=de.self.location.protocol.slice(0,-1)),r=!CL.test(s?s.toLowerCase():"")}n=r}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var i=2<Er(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",BN(t)}}finally{Gh(t)}}}}function Gh(t,e){if(t.g){HN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function HN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function Er(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),IL(e)}};function Dw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $N:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kL(t){const e={};t=(t.g&&2<=Er(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Zl(t[r]))continue;var n=rL(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}QO(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function WN(t){let e="";return Zv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function fy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=WN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function zo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qN(t){this.Ga=0,this.j=[],this.l=new Fh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zo("baseRetryDelayMs",5e3,t),this.hb=zo("retryDelaySeedMs",1e4,t),this.eb=zo("forwardChannelMaxRetries",2,t),this.xa=zo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ON(t&&t.concurrentRequestLimit),this.Ja=new SL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=qN.prototype;X.ra=8;X.H=1;function py(t){if(GN(t),t.H==3){var e=t.W++,n=cs(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Oc(t,n),e=new kc(t,t.l,e),e.L=2,e.A=Hh(cs(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.A,n=!0),n||(e.g=t1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Rc(e)}ZN(t)}function Kh(t){t.g&&(gy(t),t.g.cancel(),t.g=null)}function GN(t){Kh(t),t.u&&(de.clearTimeout(t.u),t.u=null),Du(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function Yh(t){if(!LN(t.i)&&!t.m){t.m=!0;var e=t.Na;tc||mN(),nc||(tc(),nc=!0),iy.add(e,t),t.C=0}}function RL(t,e){return MN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ac(Jt(t.Na,t,e),JN(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new kc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=oN(i),lN(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KN(this,s,e),n=cs(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),Oc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(WN(i)))+"&"+e:this.o&&fy(n,this.o,i)),uy(this.i,s),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),s.aa=!0,sg(s,n,null)):sg(s,n,e),this.H=2}}else this.H==3&&(t?Ow(this,t):this.j.length==0||LN(this.i)||Ow(this))};function Ow(t,e){var n;e?n=e.m:n=t.W++;const r=cs(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),Oc(t,r),t.o&&t.s&&fy(r,t.o,t.s),n=new kc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uy(t.i,n),sg(n,r,e)}function Oc(t,e){t.na&&Zv(t.na,function(n,r){qe(e,r,n)}),t.h&&AN({},function(n,r){qe(e,r,n)})}function KN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let d=s[c].g;const u=s[c].map;if(d-=i,0>d)i=Math.max(0,s[c].g-100),l=!1;else try{NL(u,o,"req"+d+"_")}catch{r&&r(u)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function YN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;tc||mN(),nc||(tc(),nc=!0),iy.add(e,t),t.A=0}}function my(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ac(Jt(t.Ma,t),JN(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,QN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ac(Jt(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Kh(this),QN(this))};function gy(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function QN(t){t.g=new kc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=cs(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Oc(t,e),t.o&&t.s&&fy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Hh(cs(e)),n.u=null,n.S=!0,NN(n,t)}X.ib=function(){this.v!=null&&(this.v=null,Kh(this),my(this),on(19))};function Du(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function XN(t,e){var n=null;if(t.g==e){Du(t),gy(t),t.g=null;var r=2}else if(ag(t.i,e))n=e.F,VN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Uh(),Vt(r,new wN(r,n)),Yh(t)}else YN(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&RL(t,e)||r==2&&my(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ei(t,5);break;case 4:Ei(t,10);break;case 3:Ei(t,6);break;default:Ei(t,2)}}}function JN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ei(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Jt(t.pb,t);n||(n=new Pi("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||ku(n,"https"),Hh(n)),TL(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),ZN(t),GN(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function ZN(t){if(t.H=0,t.ma=[],t.h){const e=FN(t.i);(e.length!=0||t.j.length!=0)&&(Sw(t.ma,e),Sw(t.ma,t.j),t.i.i.length=0,Xv(t.j),t.j.length=0),t.h.ya()}}function e1(t,e,n){var r=n instanceof Pi?cs(n):new Pi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ru(r,r.m);else{var s=de.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Pi(null);r&&ku(i,r),e&&(i.g=e),s&&Ru(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),Oc(t,r),r}function t1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ht(new Wh({ob:n})):new ht(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function n1(){}X=n1.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function Ou(){if(lo&&!(10<=Number(qO)))throw Error("Environmental error: no available transport.")}Ou.prototype.g=function(t,e){return new On(t,e)};function On(t,e){At.call(this),this.g=new qN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Zl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new No(this)}Pt(On,At);On.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=e1(t,null,t.Y),Yh(t)};On.prototype.close=function(){py(this.g)};On.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sy(t),t=n);e.j.push(new _L(e.fb++,t)),e.H==3&&Yh(e)};On.prototype.N=function(){this.g.h=null,delete this.j,py(this.g),delete this.g,On.$.N.call(this)};function r1(t){cy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pt(r1,cy);function s1(){dy.call(this),this.status=1}Pt(s1,dy);function No(t){this.g=t}Pt(No,n1);No.prototype.Ba=function(){Vt(this.g,"a")};No.prototype.Aa=function(t){Vt(this.g,new r1(t))};No.prototype.za=function(t){Vt(this.g,new s1)};No.prototype.ya=function(){Vt(this.g,"b")};function DL(){this.blockSize=-1}function mr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pt(mr,DL);mr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}mr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)dp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){dp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){dp(this,r),s=0;break}}this.h=s,this.i+=e};mr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var OL={};function vy(t){return-128<=t&&128>t?zO(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function Sr(t){if(isNaN(t)||!isFinite(t))return Ha;if(0>t)return Ot(Sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=og;return new Oe(e,0)}function i1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(i1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(e,8)),r=Ha,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Sr(Math.pow(e,i)),r=r.R(i).add(Sr(o))):(r=r.R(n),r=r.add(Sr(o)))}return r}var og=4294967296,Ha=vy(0),lg=vy(1),Lw=vy(16777216);X=Oe.prototype;X.ea=function(){if(qn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:og+r)*e,e*=og}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Zr(this))return"0";if(qn(this))return"-"+Ot(this).toString(t);for(var e=Sr(Math.pow(t,6)),n=this,r="";;){var s=Mu(n,e).g;n=Lu(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Zr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Zr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qn(t){return t.h==-1}X.X=function(t){return t=Lu(this,t),qn(t)?-1:Zr(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(lg)}X.abs=function(){return qn(this)?Ot(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function Lu(t,e){return t.add(Ot(e))}X.R=function(t){if(Zr(this)||Zr(t))return Ha;if(qn(this))return qn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(qn(t))return Ot(this.R(Ot(t)));if(0>this.X(Lw)&&0>t.X(Lw))return Sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,yd(n,2*r+2*s),n[2*r+2*s+1]+=i*c,yd(n,2*r+2*s+1),n[2*r+2*s+1]+=o*l,yd(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,yd(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function yd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ho(t,e){this.g=t,this.h=e}function Mu(t,e){if(Zr(e))throw Error("division by zero");if(Zr(t))return new Ho(Ha,Ha);if(qn(t))return e=Mu(Ot(t),e),new Ho(Ot(e.g),Ot(e.h));if(qn(e))return e=Mu(t,Ot(e)),new Ho(Ot(e.g),e.h);if(30<t.g.length){if(qn(t)||qn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lg,r=e;0>=r.X(t);)n=Mw(n),r=Mw(r);var s=ga(n,1),i=ga(r,1);for(r=ga(r,2),n=ga(n,2);!Zr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=ga(r,1),n=ga(n,1)}return e=Lu(t,s.R(e)),new Ho(s,e)}for(s=Ha;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Sr(n),o=i.R(e);qn(o)||0<o.X(t);)n-=r,i=Sr(n),o=i.R(e);Zr(i)&&(i=lg),s=s.add(i),t=Lu(t,o)}return new Ho(s,t)}X.gb=function(t){return Mu(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function Mw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function ga(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Oe(s,t.h)}Ou.prototype.createWebChannel=Ou.prototype.g;On.prototype.send=On.prototype.u;On.prototype.open=On.prototype.m;On.prototype.close=On.prototype.close;$h.NO_ERROR=0;$h.TIMEOUT=8;$h.HTTP_ERROR=6;_N.COMPLETE="complete";jN.EventType=Pc;Pc.OPEN="a";Pc.CLOSE="b";Pc.ERROR="c";Pc.MESSAGE="d";At.prototype.listen=At.prototype.O;ht.prototype.listenOnce=ht.prototype.P;ht.prototype.getLastError=ht.prototype.Sa;ht.prototype.getLastErrorCode=ht.prototype.Ia;ht.prototype.getStatus=ht.prototype.da;ht.prototype.getResponseJson=ht.prototype.Wa;ht.prototype.getResponseText=ht.prototype.ja;ht.prototype.send=ht.prototype.ha;ht.prototype.setWithCredentials=ht.prototype.Oa;mr.prototype.digest=mr.prototype.l;mr.prototype.reset=mr.prototype.reset;mr.prototype.update=mr.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=Sr;Oe.fromString=i1;var LL=function(){return new Ou},ML=function(){return Uh()},up=$h,VL=_N,FL=ia,Vw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xd=jN,UL=ht,$L=mr,Wa=Oe;const Fw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new kh("@firebase/firestore");function Wo(){return Bi.logLevel}function Q(t,...e){if(Bi.logLevel<=Se.DEBUG){const n=e.map(yy);Bi.debug(`Firestore (${To}): ${t}`,...n)}}function Mr(t,...e){if(Bi.logLevel<=Se.ERROR){const n=e.map(yy);Bi.error(`Firestore (${To}): ${t}`,...n)}}function co(t,...e){if(Bi.logLevel<=Se.WARN){const n=e.map(yy);Bi.warn(`Firestore (${To}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function Be(t,e){t||ce()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class zL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HL{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ar,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ar)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new a1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Kt(e)}}class WL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new GL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=YL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function uo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Et(0,0))}static max(){return new ue(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends oc{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const QL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends oc{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return QL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Z($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Z($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ge.fromString(e))}static fromName(e){return new oe(Ge.fromString(e).popFirst(5))}static empty(){return new oe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ge(e.slice()))}}function XL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new Js(s,oe.empty(),e)}function JL(t){return new Js(t.readTime,t.key,-1)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(ue.min(),oe.empty(),-1)}static max(){return new Js(ue.max(),oe.empty(),-1)}}function ZL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==eM)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(u=>{o[d]=u,++l,l===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ar,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new _l(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=by(r.target.error);this.V.reject(new _l(e,s))}}static open(e,n,r,s){try{return new xy(n,e.transaction(s,r))}catch(i){throw new _l(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new rM(n)}}class Si{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Si.S(bt())===12.2&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),yi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Kv())return!1;if(Si.C())return!0;const e=bt(),n=Si.S(e),r=0<n&&n<10,s=Si.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new _l(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new Z($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Z($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new _l(e,o))},s.onupgradeneeded=i=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=xy.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),H.reject(d))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class nM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return yi(this.k.delete())}}class _l extends Z{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Mc(t){return t.name==="IndexedDbTransactionError"}class rM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yi(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),yi(this.store.add(e))}get(e){return yi(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),yi(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),yi(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new H((o,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(l,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new H((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new H((r,s)=>{n.onerror=i=>{const o=by(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new H((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new nM(l),d=n(l.primaryKey,l.value,c);if(d instanceof H){const u=d.catch(h=>(c.done(),H.reject(h)));r.push(u)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>H.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function yi(t){return new H((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=by(r.target.error);n(s)}})}let Uw=!1;function by(t){const e=Si.S(bt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Uw||(Uw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}wy._e=-1;function Qh(t){return t==null}function Vu(t){return t===0&&1/t==-1/0}function sM(t){return typeof t=="number"&&Number.isInteger(t)&&!Vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=s??Dt.EMPTY,this.right=i??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bw(this.data.getIterator())}getIteratorFrom(e){return new Bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class Bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ft(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new c1("Invalid base64 string: "+i):i}}(e);return new tn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const iM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(Be(!!t),typeof t=="string"){let e=0;const n=iM.exec(t);if(Be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jy(t){const e=t.mapValue.fields.__previous_value__;return _y(e)?jy(e):e}function lc(t){const e=Zs(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,s,i,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class cc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_y(t)?4:oM(t)?9007199254740991:10:ce()}function Vr(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lc(t).isEqual(lc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zs(s.timestampValue),l=Zs(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zi(s.bytesValue).isEqual(zi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return mt(s.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return mt(s.integerValue)===mt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=mt(s.doubleValue),l=mt(i.doubleValue);return o===l?Vu(o)===Vu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if($w(o)!==$w(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Vr(o[c],l[c])))return!1;return!0}(t,e);default:return ce()}}function dc(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function ho(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=mt(i.integerValue||i.doubleValue),c=mt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return zw(t.timestampValue,e.timestampValue);case 4:return zw(lc(t),lc(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const l=zi(i),c=zi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=Re(l[d],c[d]);if(u!==0)return u}return Re(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Re(mt(i.latitude),mt(o.latitude));return l!==0?l:Re(mt(i.longitude),mt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],c=o.values||[];for(let d=0;d<l.length&&d<c.length;++d){const u=ho(l[d],c[d]);if(u)return u}return Re(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===wd.mapValue&&o===wd.mapValue)return 0;if(i===wd.mapValue)return 1;if(o===wd.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=Re(c[h],u[h]);if(f!==0)return f;const p=ho(l[c[h]],d[u[h]]);if(p!==0)return p}return Re(c.length,u.length)}(t.mapValue,e.mapValue);default:throw ce()}}function zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Zs(t),r=Zs(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function fo(t){return cg(t)}function cg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=cg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${cg(n.fields[o])}`;return s+"}"}(t.mapValue):ce()}function Hw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dg(t){return!!t&&"integerValue"in t}function Ey(t){return!!t&&"arrayValue"in t}function Ww(t){return!!t&&"nullValue"in t}function qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hd(t){return!!t&&"mapValue"in t}function jl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=Lt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=jl(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){aa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new yn(jl(this.value))}}function d1(t){const e=[];return aa(t.fields,(n,r)=>{const s=new Lt([n]);if(Hd(r)){const i=d1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Qt(e,0,ue.min(),ue.min(),ue.min(),yn.empty(),0)}static newFoundDocument(e,n,r,s){return new Qt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new Qt(e,2,n,ue.min(),ue.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,ue.min(),ue.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.position=e,this.inclusive=n}}function Gw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=ho(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function lM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{}class vt extends u1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dM(e,n,r):n==="array-contains"?new fM(e,r):n==="in"?new pM(e,r):n==="not-in"?new mM(e,r):n==="array-contains-any"?new gM(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uM(e,r):new hM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends u1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new gr(e,n)}matches(e){return h1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function h1(t){return t.op==="and"}function f1(t){return cM(t)&&h1(t)}function cM(t){for(const e of t.filters)if(e instanceof gr)return!1;return!0}function ug(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(f1(t))return t.filters.map(e=>ug(e)).join(",");{const e=t.filters.map(n=>ug(n)).join(",");return`${t.op}(${e})`}}function p1(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(t,e):t instanceof gr?function(r,s){return s instanceof gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&p1(o,s.filters[l]),!0):!1}(t,e):void ce()}function m1(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(m1).join(" ,")+"}"}(t):"Filter"}class dM extends vt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class uM extends vt{constructor(e,n){super(e,"in",n),this.keys=g1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hM extends vt{constructor(e,n){super(e,"not-in",n),this.keys=g1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class fM extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ey(n)&&dc(n.arrayValue,this.value)}}class pM extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class mM extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dc(this.value.arrayValue,n)}}class gM extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ce=null}}function Yw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new vM(t,e,n,r,s,i,o)}function Sy(t){const e=me(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ug(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fo(r)).join(",")),e.ce=n}return e.ce}function Ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kw(t.startAt,e.startAt)&&Kw(t.endAt,e.endAt)}function hg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function yM(t,e,n,r,s,i,o,l){return new Vc(t,e,n,r,s,i,o,l)}function Ty(t){return new Vc(t)}function Qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v1(t){return t.collectionGroup!==null}function El(t){const e=me(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ft(Lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Uu(i,r))}),n.has(Lt.keyField().canonicalString())||e.le.push(new Uu(Lt.keyField(),r))}return e.le}function Pr(t){const e=me(t);return e.he||(e.he=xM(e,El(t))),e.he}function xM(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Uu(s.field,i)});const n=t.endAt?new Fu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fu(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fg(t,e){const n=t.filters.concat([e]);return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $u(t,e,n){return new Vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xh(t,e){return Ny(Pr(t),Pr(e))&&t.limitType===e.limitType}function y1(t){return`${Sy(Pr(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>m1(s)).join(", ")}]`),Qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fo(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function Jh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of El(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=Gw(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,El(r),s)||r.endAt&&!function(o,l,c){const d=Gw(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,El(r),s))}(t,e)}function bM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x1(t){return(e,n)=>{let r=!1;for(const s of El(t)){const i=wM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function wM(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?ho(c,d):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new ct(oe.comparator);function ds(){return _M}const b1=new ct(oe.comparator);function ll(...t){let e=b1;for(const n of t)e=e.insert(n.key,n);return e}function w1(t){let e=b1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return Sl()}function _1(){return Sl()}function Sl(){return new Io(t=>t.toString(),(t,e)=>t.isEqual(e))}const jM=new ct(oe.comparator),EM=new Ft(oe.comparator);function we(...t){let e=EM;for(const n of t)e=e.add(n);return e}const SM=new Ft(Re);function NM(){return SM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(e)?"-0":e}}function E1(t){return{integerValue:""+t}}function TM(t,e){return sM(e)?E1(e):j1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function IM(t,e,n){return t instanceof uc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_y(i)&&(i=jy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof po?N1(t,e):t instanceof mo?T1(t,e):function(s,i){const o=S1(s,i),l=Xw(o)+Xw(s.Ie);return dg(o)&&dg(s.Ie)?E1(l):j1(s.serializer,l)}(t,e)}function CM(t,e,n){return t instanceof po?N1(t,e):t instanceof mo?T1(t,e):n}function S1(t,e){return t instanceof Bu?function(r){return dg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class uc extends Zh{}class po extends Zh{constructor(e){super(),this.elements=e}}function N1(t,e){const n=I1(e);for(const r of t.elements)n.some(s=>Vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class mo extends Zh{constructor(e){super(),this.elements=e}}function T1(t,e){let n=I1(e);for(const r of t.elements)n=n.filter(s=>!Vr(s,r));return{arrayValue:{values:n}}}class Bu extends Zh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Xw(t){return mt(t.integerValue||t.doubleValue)}function I1(t){return Ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.field=e,this.transform=n}}function AM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof po&&s instanceof po||r instanceof mo&&s instanceof mo?uo(r.elements,s.elements,Vr):r instanceof Bu&&s instanceof Bu?Vr(r.Ie,s.Ie):r instanceof uc&&s instanceof uc}(t.transform,e.transform)}class PM{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ef{}function C1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cy(t.key,Yn.none()):new Fc(t.key,t.data,Yn.none());{const n=t.data,r=yn.empty();let s=new Ft(Lt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ui(t.key,r,new Cn(s.toArray()),Yn.none())}}function kM(t,e,n){t instanceof Fc?function(s,i,o){const l=s.value.clone(),c=Zw(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(s,i,o){if(!Wd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Zw(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(A1(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nl(t,e,n,r){return t instanceof Fc?function(i,o,l,c){if(!Wd(i.precondition,o))return l;const d=i.value.clone(),u=e0(i.fieldTransforms,c,o);return d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(i,o,l,c){if(!Wd(i.precondition,o))return l;const d=e0(i.fieldTransforms,c,o),u=o.data;return u.setAll(A1(i)),u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return Wd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function RM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=S1(r.transform,s||null);i!=null&&(n===null&&(n=yn.empty()),n.set(r.field,i))}return n||null}function Jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uo(r,s,(i,o)=>AM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fc extends ef{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ui extends ef{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function A1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Zw(t,e,n){const r=new Map;Be(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,CM(o,l,n[s]))}return r}function e0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,IM(i,o,e))}return r}class Cy extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DM extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&kM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=C1(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,r)=>Jw(n,r))&&uo(this.baseMutations,e.baseMutations,(n,r)=>Jw(n,r))}}class Ay{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Be(e.mutations.length===r.length);let s=function(){return jM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ay(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Te;function VM(t){switch(t){default:return ce();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function P1(t){if(t===void 0)return Mr("GRPC error has no .code"),$.UNKNOWN;switch(t){case pt.OK:return $.OK;case pt.CANCELLED:return $.CANCELLED;case pt.UNKNOWN:return $.UNKNOWN;case pt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case pt.INTERNAL:return $.INTERNAL;case pt.UNAVAILABLE:return $.UNAVAILABLE;case pt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case pt.NOT_FOUND:return $.NOT_FOUND;case pt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case pt.ABORTED:return $.ABORTED;case pt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case pt.DATA_LOSS:return $.DATA_LOSS;default:return ce()}}(Te=pt||(pt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new Wa([4294967295,4294967295],0);function t0(t){const e=FM().encode(t),n=new $L;return n.update(e),new Uint8Array(n.digest())}function n0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Wa([n,r],0),new Wa([s,i],0)]}class Py{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(r<0)throw new cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wa.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Wa.fromNumber(r)));return s.compare(UM)===1&&(s=new Wa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=t0(e),[r,s]=n0(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Py(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=t0(e),[r,s]=n0(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tf(ue.min(),s,new ct(Re),ds(),we())}}class Uc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class k1{constructor(e,n){this.targetId=e,this.fe=n}}class R1{constructor(e,n,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class r0{constructor(){this.ge=0,this.pe=i0(),this.ye=tn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce()}}),new Uc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=i0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Be(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class $M{constructor(e){this.Le=e,this.ke=new Map,this.qe=ds(),this.Qe=s0(),this.Ke=new ct(Re)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(hg(i))if(r===0){const o=new oe(i.path);this.We(n,o,Qt.newNoDocument(o,ue.min()))}else Be(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=zi(r).toUint8Array()}catch(c){if(c instanceof c1)return co("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Py(o,s,i)}catch(c){return co(c instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&hg(l.target)){const c=new oe(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Qt.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=we();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Ye(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new tf(e,n,this.Ke,this.qe,r);return this.qe=ds(),this.Qe=s0(),this.Ke=new ct(Re),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new r0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ft(Re),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new r0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function s0(){return new ct(oe.comparator)}function i0(){return new ct(oe.comparator)}const BM={asc:"ASCENDING",desc:"DESCENDING"},zM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HM={and:"AND",or:"OR"};class WM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||Qh(e)?e:{value:e}}function zu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qM(t,e){return zu(t,e.toTimestamp())}function kr(t){return Be(!!t),ue.fromTimestamp(function(n){const r=Zs(n);return new Et(r.seconds,r.nanos)}(t))}function ky(t,e){return mg(t,e).canonicalString()}function mg(t,e){const n=function(s){return new Ge(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O1(t){const e=Ge.fromString(t);return Be(U1(e)),e}function gg(t,e){return ky(t.databaseId,e.path)}function hp(t,e){const n=O1(e);if(n.get(1)!==t.databaseId.projectId)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(M1(n))}function L1(t,e){return ky(t.databaseId,e)}function GM(t){const e=O1(t);return e.length===4?Ge.emptyPath():M1(e)}function vg(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M1(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function a0(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function KM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,u){return d.useProto3Json?(Be(u===void 0||typeof u=="string"),tn.fromBase64String(u||"")):(Be(u===void 0||u instanceof Uint8Array),tn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const u=d.code===void 0?$.UNKNOWN:P1(d.code);return new Z(u,d.message||"")}(o);n=new R1(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=hp(t,r.document.name),i=kr(r.document.updateTime),o=r.document.createTime?kr(r.document.createTime):ue.min(),l=new yn({mapValue:{fields:r.document.fields}}),c=Qt.newFoundDocument(s,i,o,l),d=r.targetIds||[],u=r.removedTargetIds||[];n=new qd(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=hp(t,r.document),i=r.readTime?kr(r.readTime):ue.min(),o=Qt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new qd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=hp(t,r.document),i=r.removedTargetIds||[];n=new qd([],i,s,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new MM(s,i),l=r.targetId;n=new k1(l,o)}}return n}function YM(t,e){let n;if(e instanceof Fc)n={update:a0(t,e.key,e.value)};else if(e instanceof Cy)n={delete:gg(t,e.key)};else if(e instanceof ui)n={update:a0(t,e.key,e.data),updateMask:s2(e.fieldMask)};else{if(!(e instanceof DM))return ce();n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof uc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof po)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof mo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bu)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:qM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function QM(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?kr(s.updateTime):kr(i);return o.isEqual(ue.min())&&(o=kr(i)),new PM(o,s.transformResults||[])}(n,e))):[]}function XM(t,e){return{documents:[L1(t,e.path)]}}function JM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L1(t,s);const i=function(d){if(d.length!==0)return F1(gr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(u=>function(f){return{field:wa(f.field),direction:t2(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=pg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ut:n,parent:s}}function ZM(t){let e=GM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=V1(h);return f instanceof gr&&f1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Uu(_a(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Qh(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Fu(p,f)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const f=!h.before,p=h.values||[];return new Fu(p,f)}(n.endAt)),yM(e,s,o,i,l,"F",c,d)}function e2(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_a(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_a(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_a(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_a(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(_a(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>V1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function t2(t){return BM[t]}function n2(t){return zM[t]}function r2(t){return HM[t]}function wa(t){return{fieldPath:t.canonicalString()}}function _a(t){return Lt.fromServerFormat(t.fieldPath)}function F1(t){return t instanceof vt?function(n){if(n.op==="=="){if(qw(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NAN"}};if(Ww(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qw(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NAN"}};if(Ww(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(n.field),op:n2(n.op),value:n.value}}}(t):t instanceof gr?function(n){const r=n.getFilters().map(s=>F1(s));return r.length===1?r[0]:{compositeFilter:{op:r2(n.op),filters:r}}}(t):ce()}function s2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r,s,i=ue.min(),o=ue.min(),l=tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.ct=e}}function a2(t){const e=ZM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$u(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this._n=new l2}addToCollectionParentIndex(e,n){return this._n.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Js.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class l2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ft(Ge.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ft(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new go(0)}static Bn(){return new go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.changes=new Io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nl(r.mutation,s,Cn.empty(),Et.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Ni();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ll();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ds();const o=Sl(),l=function(){return Sl()}();return n.forEach((c,d)=>{const u=r.get(d.key);s.has(d.key)&&(u===void 0||u.mutation instanceof ui)?i=i.insert(d.key,d):u!==void 0?(o.set(d.key,u.mutation.getFieldMask()),Nl(u.mutation,d,u.mutation.getFieldMask(),Et.now())):o.set(d.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,u)=>o.set(d,u)),n.forEach((d,u)=>{var h;return l.set(d,new d2(u,(h=o.get(d))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Sl();let s=new ct((o,l)=>o-l),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let u=r.get(c)||Cn.empty();u=l.applyToLocalView(d,u),r.set(c,u);const h=(s.get(l.batchId)||we()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,h=_1();u.forEach(f=>{if(!i.has(f)){const p=C1(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Ni());let l=-1,c=i;return o.next(d=>H.forEach(d,(u,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,we())).next(u=>({batchId:l,changes:w1(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=ll();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ll();return this.indexManager.getCollectionParents(e,i).next(l=>H.forEach(l,c=>{const d=function(h,f){return new Vc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const u=d.getKey();o.get(u)===null&&(o=o.insert(u,Qt.newInvalidDocument(u)))});let l=ll();return o.forEach((c,d)=>{const u=i.get(c);u!==void 0&&Nl(u.mutation,d,Cn.empty(),Et.now()),Jh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:a2(s.bundledQuery),readTime:kr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.overlays=new ct(oe.comparator),this.hr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ni();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Ni(),i=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ct((d,u)=>d-u);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let u=i.get(d.largestBatchId);u===null&&(u=Ni(),i=i.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=Ni(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>l.set(d,u)),!(l.size()>=s)););return H.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LM(n,r));let i=this.hr.get(n);i===void 0&&(i=we(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.Pr=new Ft(Nt.Ir),this.Tr=new Ft(Nt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Nt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new oe(new Ge([])),r=new Nt(n,e),s=new Nt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new oe(new Ge([])),r=new Nt(n,e),s=new Nt(n,e+1);let i=we();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Nt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ft(Nt.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OM(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.wr=this.wr.add(new Nt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),s=new Nt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const l=this.Sr(o.pr);i.push(l)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Re);return n.forEach(s=>{const i=new Nt(s,0),o=new Nt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],l=>{r=r.add(l.pr)})}),H.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Nt(new oe(i),0);let l=new Ft(Re);return this.wr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.pr)),!0)},o),H.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return H.forEach(n.mutations,s=>{const i=new Nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Nt(n,0),s=this.wr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.vr=e,this.docs=function(){return new ct(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Qt.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ds();const o=n.path,l=new oe(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||ZL(JL(u),r)<=0||(s.has(u.key)||Jh(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce()}Fr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g2(this)}getSize(e){return H.resolve(this.size)}}class g2 extends c2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.persistence=e,this.Mr=new Io(n=>Sy(n),Ny),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ry,this.targetCount=0,this.Br=go.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),H.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new go(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.qn(n),H.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.Lr={},this.overlays={},this.kr=new wy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new v2(this),this.indexManager=new o2,this.remoteDocumentCache=function(s){return new m2(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new i2(n),this.$r=new h2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new p2(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new x2(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return H.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class x2 extends tM{constructor(e){super(),this.currentSequenceNumber=e}}class Dy{constructor(e){this.persistence=e,this.zr=new Ry,this.jr=null}static Hr(e){return new Dy(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,r=>{const s=oe.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Oy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return xD()?8:Si.v(bt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new b2;return this.Ji(e,n,o).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Wo()<=Se.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(Wo()<=Se.DEBUG&&Q("QueryEngine","Query:",ba(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Wo()<=Se.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):H.resolve())}ji(e,n){if(Qw(n))return H.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$u(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Zi(n,l);return this.Xi(n,d,o,c.readTime)?this.ji(e,$u(n,null,"F")):this.es(e,d,n,c)}))})))}Hi(e,n,r,s){return Qw(n)||s.isEqual(ue.min())?H.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?H.resolve(null):(Wo()<=Se.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ba(n)),this.es(e,o,n,XL(s,-1)).next(l=>l))})}Zi(e,n){let r=new Ft(x1(e));return n.forEach((s,i)=>{Jh(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Wo()<=Se.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ba(n)),this.zi.getDocumentsMatchingQuery(e,n,Js.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new ct(Re),this.rs=new Io(i=>Sy(i),Ny),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function j2(t,e,n,r){return new _2(t,e,n,r)}async function $1(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=we();for(const d of s){o.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of i){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(d=>({us:d,removedBatchIds:o,addedBatchIds:l}))})})}function E2(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,d,u){const h=d.batch,f=h.keys();let p=H.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(c,g)).next(y=>{const b=d.docVersions.get(g);Be(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,d),y.isValidDocument()&&(y.setReadTime(d.commitVersion),u.addEntry(y)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=we();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function B1(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function S2(t,e){const n=me(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(tn.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(y,b,m){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,u)&&l.push(n.Qr.updateTargetData(i,p))});let c=ds(),d=we();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push(N2(i,o,e.documentUpdates).next(u=>{c=u.cs,d=u.ls})),!r.isEqual(ue.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return H.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.ns=s,i))}function N2(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ds();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{cs:o,ls:s}})}function T2(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function I2(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new ks(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function yg(t,e,n){const r=me(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Mc(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function o0(t,e,n){const r=me(t);let s=ue.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,u){const h=me(c),f=h.rs.get(u);return f!==void 0?H.resolve(h.ns.get(f)):h.Qr.getTargetData(d,u)}(r,o,Pr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:we())).next(l=>(C2(r,bM(e),l),{documents:l,hs:i})))}function C2(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class l0{constructor(){this.activeTargetIds=NM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A2{constructor(){this.no=new l0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new l0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function fp(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class D2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const l=fp(),c=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,i,o),this.Co(n,c,d,s).then(u=>(Q("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw co("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",c,"request:",s),u})}vo(n,r,s,i,o,l){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=k2[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=fp();return new Promise((o,l)=>{const c=new UL;c.setWithCredentials(!0),c.listenOnce(VL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case up.NO_ERROR:const u=c.getResponseJson();Q(qt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case up.TIMEOUT:Q(qt,`RPC '${e}' ${i} timed out`),l(new Z($.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:const h=c.getStatus();if(Q(qt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(b){const m=b.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(m)>=0?m:$.UNKNOWN}(p.status);l(new Z(g,p.message))}else l(new Z($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Z($.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Q(qt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Q(qt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Fo(e,n,r){const s=fp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LL(),l=ML(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");Q(qt,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,p=!1;const g=new R2({lo:b=>{p?Q(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(Q(qt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Q(qt,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},ho:()=>h.close()}),y=(b,m,x)=>{b.listen(m,v=>{try{x(v)}catch(j){setTimeout(()=>{throw j},0)}})};return y(h,xd.EventType.OPEN,()=>{p||Q(qt,`RPC '${e}' stream ${s} transport opened.`)}),y(h,xd.EventType.CLOSE,()=>{p||(p=!0,Q(qt,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),y(h,xd.EventType.ERROR,b=>{p||(p=!0,co(qt,`RPC '${e}' stream ${s} transport errored:`,b),g.Vo(new Z($.UNAVAILABLE,"The operation could not be completed")))}),y(h,xd.EventType.MESSAGE,b=>{var m;if(!p){const x=b.data[0];Be(!!x);const v=x,j=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(j){Q(qt,`RPC '${e}' stream ${s} received error:`,j);const N=j.status;let E=function(_){const S=pt[_];if(S!==void 0)return P1(S)}(N),I=j.message;E===void 0&&(E=$.INTERNAL,I="Unknown error status: "+N+" with message "+j.message),p=!0,g.Vo(new Z(E,I)),h.close()}else Q(qt,`RPC '${e}' stream ${s} received:`,x),g.mo(x)}}),y(l,FL.STAT_EVENT,b=>{b.stat===Vw.PROXY?Q(qt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Vw.NOPROXY&&Q(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){return new WM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r,s,i,o,l,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new z1(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new Z($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O2 extends H1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=KM(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?kr(o.readTime):ue.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=vg(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=hg(c)?{documents:XM(i,c)}:{query:JM(i,c).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=D1(i,o.resumeToken);const d=pg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(ue.min())>0){l.readTime=zu(i,o.snapshotVersion.toTimestamp());const d=pg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=e2(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=vg(this.serializer),n.removeTarget=e,this.t_(n)}}class L2 extends H1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=QM(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.T_(r,n)}return Be(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=vg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,mg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z($.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,mg(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z($.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class V2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Mr(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{oa(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=me(c);d.v_.add(4),await $c(d),d.x_.set("Unknown"),d.v_.delete(4),await rf(d)}(this))})}),this.x_=new V2(r,s)}}async function rf(t){if(oa(t))for(const e of t.F_)await e(!0)}async function $c(t){for(const e of t.F_)await e(!1)}function W1(t,e){const n=me(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Vy(n)?My(n):Co(n).Jo()&&Ly(n,e))}function q1(t,e){const n=me(t),r=Co(n);n.C_.delete(e),r.Jo()&&G1(n,e),n.C_.size===0&&(r.Jo()?r.Xo():oa(n)&&n.x_.set("Unknown"))}function Ly(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(t).c_(e)}function G1(t,e){t.O_.Oe(e),Co(t).l_(e)}function My(t){t.O_=new $M({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Co(t).start(),t.x_.p_()}function Vy(t){return oa(t)&&!Co(t).Ho()&&t.C_.size>0}function oa(t){return me(t).v_.size===0}function K1(t){t.O_=void 0}async function U2(t){t.C_.forEach((e,n)=>{Ly(t,e)})}async function $2(t,e){K1(t),Vy(t)?(t.x_.S_(e),My(t)):t.x_.set("Unknown")}async function B2(t,e,n){if(t.x_.set("Online"),e instanceof R1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hu(t,r)}else if(e instanceof qd?t.O_.$e(e):e instanceof k1?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ue.min()))try{const r=await B1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.O_.it(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.C_.get(d);u&&i.C_.set(d,u.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const u=i.C_.get(c);if(!u)return;i.C_.set(c,u.withResumeToken(tn.EMPTY_BYTE_STRING,u.snapshotVersion)),G1(i,c);const h=new ks(u.target,c,d,u.sequenceNumber);Ly(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Hu(t,r)}}async function Hu(t,e,n){if(!Mc(e))throw e;t.v_.add(1),await $c(t),t.x_.set("Offline"),n||(n=()=>B1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await rf(t)})}function Y1(t,e){return e().catch(n=>Hu(t,n,e))}async function sf(t){const e=me(t),n=ei(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;z2(e);)try{const s=await T2(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,H2(e,s)}catch(s){await Hu(e,s)}Q1(e)&&X1(e)}function z2(t){return oa(t)&&t.D_.length<10}function H2(t,e){t.D_.push(e);const n=ei(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Q1(t){return oa(t)&&!ei(t).Ho()&&t.D_.length>0}function X1(t){ei(t).start()}async function W2(t){ei(t).d_()}async function q2(t){const e=ei(t);for(const n of t.D_)e.I_(n.mutations)}async function G2(t,e,n){const r=t.D_.shift(),s=Ay.from(r,e,n);await Y1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await sf(t)}async function K2(t,e){e&&ei(t).P_&&await async function(r,s){if(function(o){return VM(o)&&o!==$.ABORTED}(s.code)){const i=r.D_.shift();ei(r).Zo(),await Y1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await sf(r)}}(t,e),Q1(t)&&X1(t)}async function d0(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=oa(n);n.v_.add(3),await $c(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await rf(n)}async function Y2(t,e){const n=me(t);e?(n.v_.delete(2),await rf(n)):e||(n.v_.add(2),await $c(n),n.x_.set("Unknown"))}function Co(t){return t.N_||(t.N_=function(n,r,s){const i=me(n);return i.R_(),new O2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:U2.bind(null,t),To:$2.bind(null,t),u_:B2.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Vy(t)?My(t):t.x_.set("Unknown")):(await t.N_.stop(),K1(t))})),t.N_}function ei(t){return t.B_||(t.B_=function(n,r,s){const i=me(n);return i.R_(),new L2(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:W2.bind(null,t),To:K2.bind(null,t),E_:q2.bind(null,t),T_:G2.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await sf(t)):(await t.B_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Fy(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),Mc(t))return new Z($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=ll(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new qa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.L_=new ct(oe.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ce():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vo{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new vo(e,n,qa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.q_=void 0,this.Q_=[]}}class X2{constructor(){this.queries=new Io(e=>y1(e),Xh),this.onlineState="Unknown",this.K_=new Set}}async function J1(t,e){const n=me(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Q2),s)try{i.q_=await n.onListen(r)}catch(o){const l=Uy(o,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&$y(n)}async function Z1(t,e){const n=me(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function J2(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Q_)l.W_(s)&&(r=!0);o.q_=s}}r&&$y(n)}function Z2(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function $y(t){t.K_.forEach(e=>{e.next()})}class eT{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.key=e}}class nT{constructor(e){this.key=e}}class eV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=we(),this.mutatedKeys=we(),this.ua=x1(e),this.ca=new qa(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new u0,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=Jh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),b=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.ua(p,c)>0||d&&this.ua(p,d)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(c||d)&&(l=!0)),b&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:l,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,h)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return y(p)-y(g)}(u.type,h.type)||this.ua(u.doc,h.doc)),this.Ta(r),s=s!=null&&s;const l=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,d=c!==this._a;return this._a=c,o.length!==0||d?{snapshot:new vo(this.query,e.ca,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new u0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=we(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new nT(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new tT(r))}),n}Ra(e){this.oa=e.hs,this.aa=we();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return vo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class tV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nV{constructor(e){this.key=e,this.ma=!1}}class rV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Io(l=>y1(l),Xh),this.pa=new Map,this.ya=new Set,this.wa=new ct(oe.comparator),this.Sa=new Map,this.ba=new Ry,this.Da={},this.Ca=new Map,this.va=go.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function sV(t,e){const n=pV(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await I2(n.localStore,Pr(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await iV(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&W1(n.remoteStore,o)}return s}async function iV(t,e,n,r,s){t.Ma=(h,f,p)=>async function(y,b,m,x){let v=b.view.ha(m);v.Xi&&(v=await o0(y.localStore,b.query,!1).then(({documents:I})=>b.view.ha(I,v)));const j=x&&x.targetChanges.get(b.targetId),N=x&&x.targetMismatches.get(b.targetId)!=null,E=b.view.applyChanges(v,y.isPrimaryClient,j,N);return f0(y,b.targetId,E.da),E.snapshot}(t,h,f,p);const i=await o0(t.localStore,e,!0),o=new eV(e,i.hs),l=o.ha(i.documents),c=Uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);f0(t,n,d.da);const u=new tV(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),d.snapshot}async function aV(t,e){const n=me(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!Xh(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await yg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),q1(n.remoteStore,r.targetId),xg(n,r.targetId)}).catch(Lc)):(xg(n,r.targetId),await yg(n.localStore,r.targetId,!0))}async function oV(t,e,n){const r=mV(t);try{const s=await function(o,l){const c=me(o),d=Et.now(),u=l.reduce((p,g)=>p.add(g.key),we());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ds(),y=we();return c.os.getEntries(p,u).next(b=>{g=b,g.forEach((m,x)=>{x.isValidDocument()||(y=y.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(b=>{h=b;const m=[];for(const x of l){const v=RM(x,h.get(x.key).overlayedDocument);v!=null&&m.push(new ui(x.key,v,d1(v.value.mapValue),Yn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,m,l)}).next(b=>{f=b;const m=b.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(p,b.batchId,m)})}).then(()=>({batchId:f.batchId,changes:w1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Da[o.currentUser.toKey()];d||(d=new ct(Re)),d=d.insert(l,c),o.Da[o.currentUser.toKey()]=d}(r,s.batchId,n),await Bc(r,s.changes),await sf(r.remoteStore)}catch(s){const i=Uy(s,"Failed to persist write");n.reject(i)}}async function rT(t,e){const n=me(t);try{const r=await S2(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?Be(o.ma):s.removedDocuments.size>0&&(Be(o.ma),o.ma=!1))}),await Bc(n,r,e)}catch(r){await Lc(r)}}function h0(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const l=o.view.U_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=me(o);c.onlineState=l;let d=!1;c.queries.forEach((u,h)=>{for(const f of h.Q_)f.U_(l)&&(d=!0)}),d&&$y(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lV(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let o=new ct(oe.comparator);o=o.insert(i,Qt.newNoDocument(i,ue.min()));const l=we().add(i),c=new tf(ue.min(),new Map,new ct(Re),o,l);await rT(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),By(r)}else await yg(r.localStore,e,!1).then(()=>xg(r,e,n)).catch(Lc)}async function cV(t,e){const n=me(t),r=e.batch.batchId;try{const s=await E2(n.localStore,e);iT(n,r,null),sT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,s)}catch(s){await Lc(s)}}async function dV(t,e,n){const r=me(t);try{const s=await function(o,l){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next(h=>(Be(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})}(r.localStore,e);iT(r,e,n),sT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bc(r,s)}catch(s){await Lc(s)}}function sT(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function iT(t,e,n){const r=me(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||aT(t,r)})}function aT(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(q1(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),By(t))}function f0(t,e,n){for(const r of n)r instanceof tT?(t.ba.addReference(r.key,e),uV(t,r)):r instanceof nT?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||aT(t,r.key)):ce()}function uV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ya.add(r),By(t))}function By(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new oe(Ge.fromString(e)),r=t.va.next();t.Sa.set(r,new nV(n)),t.wa=t.wa.insert(n,r),W1(t.remoteStore,new ks(Pr(Ty(n.path)),r,"TargetPurposeLimboResolution",wy._e))}}async function Bc(t,e,n){const r=me(t),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){s.push(d);const u=Oy.Ki(c.targetId,d);i.push(u)}}))}),await Promise.all(o),r.fa.u_(s),await async function(c,d){const u=me(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(d,f=>H.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>H.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Mc(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of d){const f=h.targetId;if(!h.fromCache){const p=u.ns.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(f,y)}}}(r.localStore,i))}async function hV(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await $1(n.localStore,e);n.currentUser=e,function(i,o){i.Ca.forEach(l=>{l.forEach(c=>{c.reject(new Z($.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bc(n,r.us)}}function fV(t,e){const n=me(t),r=n.Sa.get(e);if(r&&r.ma)return we().add(r.key);{let s=we();const i=n.pa.get(e);if(!i)return s;for(const o of i){const l=n.ga.get(o);s=s.unionWith(l.view.la)}return s}}function pV(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lV.bind(null,e),e.fa.u_=J2.bind(null,e.eventManager),e.fa.xa=Z2.bind(null,e.eventManager),e}function mV(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dV.bind(null,e),e}class p0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return j2(this.persistence,new w2,e.initialUser,this.serializer)}createPersistence(e){return new y2(Dy.Hr,this.serializer)}createSharedClientState(e){return new A2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hV.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X2}()}createDatastore(e){const n=nf(e.databaseInfo.databaseId),r=function(i){return new D2(i)}(e.databaseInfo);return function(i,o,l,c){return new M2(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new F2(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>h0(this.syncEngine,n,0),function(){return c0.D()?new c0:new P2}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,u){const h=new rV(s,i,o,l,c,d);return u&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=me(r);Q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await $c(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=o1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function m0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xV(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>d0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>d0(e.remoteStore,s)),t._onlineComponents=e}function yV(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function xV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yV(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await mp(t,new p0)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await mp(t,new p0);return t._offlineComponents}async function lT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await m0(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await m0(t,new gV))),t._onlineComponents}function bV(t){return lT(t).then(e=>e.syncEngine)}async function cT(t){const e=await lT(t),n=e.eventManager;return n.onListen=sV.bind(null,e.syncEngine),n.onUnlisten=aV.bind(null,e.syncEngine),n}function wV(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new oT({next:f=>{o.enqueueAndForget(()=>Z1(i,h));const p=f.docs.has(l);!p&&f.fromCache?d.reject(new Z($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?d.reject(new Z($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),h=new eT(Ty(l.path),u,{includeMetadataChanges:!0,Z_:!0});return J1(i,h)}(await cT(t),t.asyncQueue,e,n,r)),r.promise}function _V(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new oT({next:f=>{o.enqueueAndForget(()=>Z1(i,h)),f.fromCache&&c.source==="server"?d.reject(new Z($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),h=new eT(l,u,{includeMetadataChanges:!0,Z_:!0});return J1(i,h)}(await cT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e,n){if(!n)throw new Z($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jV(t,e,n,r){if(e===!0&&r===!0)throw new Z($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v0(t){if(!oe.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y0(t){if(oe.isDocumentKey(t))throw new Z($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(t);throw new Z($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function EV(t,e){if(e<=0)throw new Z($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BL;switch(r.type){case"firstParty":return new qL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=g0.get(n);r&&(Q("ComponentProvider","Removing Datastore"),g0.delete(n),r.terminate())}(this),Promise.resolve()}}function SV(t,e,n,r={}){var s;const i=(t=vr(t,of))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Kt.MOCK_USER;else{l=KS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Z($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Kt(d)}t._authCredentials=new zL(new a1(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Gs extends la{constructor(e,n,r){super(e,n,Ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new oe(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function re(t,e,...n){if(t=ze(t),uT("collection","path",e),t instanceof of){const r=Ge.fromString(e,...n);return y0(r),new Gs(t,null,r)}{if(!(t instanceof cn||t instanceof Gs))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return y0(r),new Gs(t.firestore,null,r)}}function _e(t,e,...n){if(t=ze(t),arguments.length===1&&(e=o1.newId()),uT("doc","path",e),t instanceof of){const r=Ge.fromString(e,...n);return v0(r),new cn(t,null,new oe(r))}{if(!(t instanceof cn||t instanceof Gs))throw new Z($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return v0(r),new cn(t.firestore,t instanceof Gs?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new z1(this,"async_queue_retry"),this._u=()=>{const n=pp();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=pp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ar;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Mc(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Mr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=Fy.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&ce()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class ca extends of{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new NV}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hT(this),this._firestoreClient.terminate()}}function TV(t,e){const n=typeof t=="object"?t:Rh(),r=typeof t=="string"?t:e||"(default)",s=li(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=WS("firestore");i&&SV(s,...i)}return s}function zy(t){return t._firestoreClient||hT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hT(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,u){return new aM(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,dT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new vV(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(tn.fromBase64String(e))}catch(n){throw new Z($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=/^__.*__$/;class CV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(e,this.data,n,this.fieldTransforms)}}class fT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class cf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new cf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.mu(e),s}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.Eu(),s}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Wu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(pT(this.du)&&IV.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class AV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nf(e)}Su(e,n,r,s=!1){return new cf({du:e,methodName:n,wu:r,path:Lt.emptyPath(),Vu:!1,yu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function df(t){const e=t._freezeSettings(),n=nf(t._databaseId);return new AV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mT(t,e,n,r,s,i={}){const o=t.Su(i.merge||i.mergeFields?2:0,e,n,s);Ky("Data must be an object, but it was:",o,r);const l=vT(r,o);let c,d;if(i.merge)c=new Cn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=bg(e,h,n);if(!o.contains(f))throw new Z($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xT(u,f)||u.push(f)}c=new Cn(u),d=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=o.fieldTransforms;return new CV(new yn(l),c,d)}class uf extends Ao{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function gT(t,e,n){return new cf({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wy extends Ao{_toFieldTransform(e){return new Iy(e.path,new uc)}isEqual(e){return e instanceof Wy}}class qy extends Ao{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=gT(this,e,!0),r=this.bu.map(i=>da(i,n)),s=new po(r);return new Iy(e.path,s)}isEqual(e){return e instanceof qy&&Ui(this.bu,e.bu)}}class Gy extends Ao{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=gT(this,e,!0),r=this.bu.map(i=>da(i,n)),s=new mo(r);return new Iy(e.path,s)}isEqual(e){return e instanceof Gy&&Ui(this.bu,e.bu)}}function PV(t,e,n,r){const s=t.Su(1,e,n);Ky("Data must be an object, but it was:",s,r);const i=[],o=yn.empty();aa(r,(c,d)=>{const u=Yy(e,c,n);d=ze(d);const h=s.fu(u);if(d instanceof uf)i.push(u);else{const f=da(d,h);f!=null&&(i.push(u),o.set(u,f))}});const l=new Cn(i);return new fT(o,l,s.fieldTransforms)}function kV(t,e,n,r,s,i){const o=t.Su(1,e,n),l=[bg(e,r,n)],c=[s];if(i.length%2!=0)throw new Z($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(bg(e,i[f])),c.push(i[f+1]);const d=[],u=yn.empty();for(let f=l.length-1;f>=0;--f)if(!xT(d,l[f])){const p=l[f];let g=c[f];g=ze(g);const y=o.fu(p);if(g instanceof uf)d.push(p);else{const b=da(g,y);b!=null&&(d.push(p),u.set(p,b))}}const h=new Cn(d);return new fT(u,h,o.fieldTransforms)}function RV(t,e,n,r=!1){return da(n,t.Su(r?4:3,e))}function da(t,e){if(yT(t=ze(t)))return Ky("Unsupported field value:",e,t),vT(t,e);if(t instanceof Ao)return function(r,s){if(!pT(s.du))throw s.pu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.pu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=da(l,s.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Et.fromDate(r);return{timestampValue:zu(s.serializer,i)}}if(r instanceof Et){const i=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zu(s.serializer,i)}}if(r instanceof Hy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:D1(s.serializer,r._byteString)};if(r instanceof cn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ky(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.pu(`Unsupported field value: ${af(r)}`)}(t,e)}function vT(t,e){const n={};return l1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,(r,s)=>{const i=da(s,e.Ru(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function yT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof Hy||t instanceof yo||t instanceof cn||t instanceof Ao)}function Ky(t,e,n){if(!yT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=af(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function bg(t,e,n){if((e=ze(e))instanceof lf)return e._internalPath;if(typeof e=="string")return Yy(t,e);throw Wu("Field path arguments must be of type string or ",t,!1,void 0,n)}const DV=new RegExp("[~\\*/\\[\\]]");function Yy(t,e,n){if(e.search(DV)>=0)throw Wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lf(...e.split("."))._internalPath}catch{throw Wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Z($.INVALID_ARGUMENT,l+t+c)}function xT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OV extends bT{data(){return super.data()}}function Qy(t,e){return typeof e=="string"?Yy(t,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class wT extends Xy{}function _t(t,e,...n){let r=[];e instanceof Xy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Jy).length,l=i.filter(c=>c instanceof hf).length;if(o>1||o>0&&l>0)throw new Z($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class hf extends wT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hf(e,n,r)}_apply(e){const n=this._parse(e);return _T(e._query,n),new la(e.firestore,e.converter,fg(e._query,n))}_parse(e){const n=df(e.firestore);return function(i,o,l,c,d,u,h){let f;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Z($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){w0(h,u);const p=[];for(const g of h)p.push(b0(c,i,g));f={arrayValue:{values:p}}}else f=b0(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||w0(h,u),f=RV(l,o,h,u==="in"||u==="not-in");return vt.create(d,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Wn(t,e,n){const r=e,s=Qy("where",t);return hf._create(s,r,n)}class Jy extends Xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)_T(o,c),o=fg(o,c)}(e._query,n),new la(e.firestore,e.converter,fg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zy extends wT{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Zy(e,n,r)}_apply(e){return new la(e.firestore,e.converter,$u(e._query,this._limit,this._limitType))}}function ti(t){return EV("limit",t),Zy._create("limit",t,"F")}function b0(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new Z($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v1(e)&&n.indexOf("/")!==-1)throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!oe.isDocumentKey(r))throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hw(t,new oe(r))}if(n instanceof cn)return Hw(t,n._key);throw new Z($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function w0(t,e){if(!Array.isArray(t)||t.length===0)throw new Z($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _T(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MV{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return aa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Hy(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Be(U1(r));const s=new cc(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Mr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ET extends bT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gd extends ET{data(e={}){return super.data(e)}}class VV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gd(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Gd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new dl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Gd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new dl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,u=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:FV(l.type),doc:c,oldIndex:d,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){t=vr(t,cn);const e=vr(t.firestore,ca);return wV(zy(e),t._key).then(n=>$V(e,t,n))}class ST extends MV{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Ne(t){t=vr(t,la);const e=vr(t.firestore,ca),n=zy(e),r=new ST(e);return LV(t._query),_V(n,t._query).then(s=>new VV(e,r,t,s))}function UV(t,e,n){t=vr(t,cn);const r=vr(t.firestore,ca),s=jT(t.converter,e,n);return ff(r,[mT(df(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yn.none())])}function at(t,e,n,...r){t=vr(t,cn);const s=vr(t.firestore,ca),i=df(s);let o;return o=typeof(e=ze(e))=="string"||e instanceof lf?kV(i,"updateDoc",t._key,e,n,r):PV(i,"updateDoc",t._key,e),ff(s,[o.toMutation(t._key,Yn.exists(!0))])}function hn(t){return ff(vr(t.firestore,ca),[new Cy(t._key,Yn.none())])}function nt(t,e){const n=vr(t.firestore,ca),r=_e(t),s=jT(t.converter,e);return ff(n,[mT(df(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function ff(t,e){return function(r,s){const i=new Ar;return r.asyncQueue.enqueueAndForget(async()=>oV(await bV(r),s,i)),i.promise}(zy(t),e)}function $V(t,e,n){const r=n.docs.get(e._key),s=new ST(t);return new ET(t,s,e._key,r,new dl(n.hasPendingWrites,n.fromCache),e.converter)}function BV(){return new Wy("serverTimestamp")}function zV(...t){return new qy("arrayUnion",t)}function NT(...t){return new Gy("arrayRemove",t)}(function(e,n=!0){(function(s){To=s})(sa),pr(new Jn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ca(new HL(r.getProvider("auth-internal")),new KL(r.getProvider("app-check-internal")),function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Z($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(d.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),jn(Fw,"4.4.2",e),jn(Fw,"4.4.2","esm2017")})();var HV="firebase",WV="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(HV,WV,"app");const TT="@firebase/installations",ex="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=1e4,CT=`w:${ex}`,AT="FIS_v2",qV="https://firebaseinstallations.googleapis.com/v1",GV=60*60*1e3,KV="installations",YV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new ra(KV,YV,QV);function PT(t){return t instanceof tr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT({projectId:t}){return`${qV}/projects/${t}/installations`}function RT(t){return{token:t.token,requestStatus:2,expiresIn:JV(t.expiresIn),creationTime:Date.now()}}async function DT(t,e){const r=(await e.json()).error;return Wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function OT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function XV(t,{refreshToken:e}){const n=OT(t);return n.append("Authorization",ZV(e)),n}async function LT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function JV(t){return Number(t.replace("s","000"))}function ZV(t){return`${AT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=kT(t),s=OT(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:AT,appId:t.appId,sdkVersion:CT},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await LT(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:RT(d.authToken)}}else throw await DT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=/^[cdef][\w-]{21}$/,wg="";function rF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=sF(t);return nF.test(n)?n:wg}catch{return wg}}function sF(t){return tF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;function FT(t,e){const n=pf(t);UT(n,e),iF(n,e)}function UT(t,e){const n=VT.get(t);if(n)for(const r of n)r(e)}function iF(t,e){const n=aF();n&&n.postMessage({key:t,fid:e}),oF()}let Ti=null;function aF(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=t=>{UT(t.data.key,t.data.fid)}),Ti}function oF(){VT.size===0&&Ti&&(Ti.close(),Ti=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="firebase-installations-database",cF=1,qi="firebase-installations-store";let gp=null;function tx(){return gp||(gp=ZS(lF,cF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qi)}}})),gp}async function qu(t,e){const n=pf(t),s=(await tx()).transaction(qi,"readwrite"),i=s.objectStore(qi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&FT(t,e.fid),e}async function $T(t){const e=pf(t),r=(await tx()).transaction(qi,"readwrite");await r.objectStore(qi).delete(e),await r.done}async function mf(t,e){const n=pf(t),s=(await tx()).transaction(qi,"readwrite"),i=s.objectStore(qi),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&FT(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(t){let e;const n=await mf(t.appConfig,r=>{const s=dF(r),i=uF(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===wg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function dF(t){const e=t||{fid:rF(),registrationStatus:0};return BT(e)}function uF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=hF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:fF(t)}:{installationEntry:e}}async function hF(t,e){try{const n=await eF(t,e);return qu(t.appConfig,n)}catch(n){throw PT(n)&&n.customData.serverCode===409?await $T(t.appConfig):await qu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function fF(t){let e=await _0(t.appConfig);for(;e.registrationStatus===1;)await MT(100),e=await _0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await nx(t);return r||n}return e}function _0(t){return mf(t,e=>{if(!e)throw Wi.create("installation-not-found");return BT(e)})}function BT(t){return pF(t)?{fid:t.fid,registrationStatus:0}:t}function pF(t){return t.registrationStatus===1&&t.registrationTime+IT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF({appConfig:t,heartbeatServiceProvider:e},n){const r=gF(t,n),s=XV(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:CT,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await LT(()=>fetch(r,l));if(c.ok){const d=await c.json();return RT(d)}else throw await DT("Generate Auth Token",c)}function gF(t,{fid:e}){return`${kT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t,e=!1){let n;const r=await mf(t.appConfig,i=>{if(!zT(i))throw Wi.create("not-registered");const o=i.authToken;if(!e&&xF(o))return i;if(o.requestStatus===1)return n=vF(t,e),i;{if(!navigator.onLine)throw Wi.create("app-offline");const l=wF(i);return n=yF(t,l),l}});return n?await n:r.authToken}async function vF(t,e){let n=await j0(t.appConfig);for(;n.authToken.requestStatus===1;)await MT(100),n=await j0(t.appConfig);const r=n.authToken;return r.requestStatus===0?rx(t,e):r}function j0(t){return mf(t,e=>{if(!zT(e))throw Wi.create("not-registered");const n=e.authToken;return _F(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function yF(t,e){try{const n=await mF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await qu(t.appConfig,r),n}catch(n){if(PT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $T(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await qu(t.appConfig,r)}throw n}}function zT(t){return t!==void 0&&t.registrationStatus===2}function xF(t){return t.requestStatus===2&&!bF(t)}function bF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+GV}function wF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _F(t){return t.requestStatus===1&&t.requestTime+IT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t){const e=t,{installationEntry:n,registrationPromise:r}=await nx(e);return r?r.catch(console.error):rx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EF(t,e=!1){const n=t;return await SF(n),(await rx(n,e)).token}async function SF(t){const{registrationPromise:e}=await nx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){if(!t||!t.options)throw vp("App Configuration");if(!t.name)throw vp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function vp(t){return Wi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="installations",TF="installations-internal",IF=t=>{const e=t.getProvider("app").getImmediate(),n=NF(e),r=li(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},CF=t=>{const e=t.getProvider("app").getImmediate(),n=li(e,HT).getImmediate();return{getId:()=>jF(n),getToken:s=>EF(n,s)}};function AF(){pr(new Jn(HT,IF,"PUBLIC")),pr(new Jn(TF,CF,"PRIVATE"))}AF();jn(TT,ex);jn(TT,ex,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="analytics",PF="firebase_id",kF="origin",RF=60*1e3,DF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new kh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rn=new ra("analytics","Analytics",OF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){if(!t.startsWith(sx)){const e=Rn.create("invalid-gtag-resource",{gtagURL:t});return En.warn(e.message),""}return t}function WT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function MF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function VF(t,e){const n=MF("firebase-js-sdk-policy",{createScriptURL:LF}),r=document.createElement("script"),s=`${sx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function FF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function UF(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await WT(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){En.error(l)}t("config",s,i)}async function $F(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await WT(n);for(const c of o){const d=l.find(h=>h.measurementId===c),u=d&&e[d.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){En.error(i)}}function BF(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await $F(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await UF(t,e,n,r,l,c)}else if(i==="consent"){const[l]=o;t("consent","update",l)}else if(i==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){En.error(l)}}return s}function zF(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=BF(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function HF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(sx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=30,qF=1e3;class GF{constructor(e={},n=qF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qT=new GF;function KF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function YF(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:KF(r)},i=DF.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function QF(t,e=qT,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Rn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new ZF;return setTimeout(async()=>{l.abort()},n!==void 0?n:RF),GT({appId:r,apiKey:s,measurementId:i},o,l,e)}async function GT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=qT){var i;const{appId:o,measurementId:l}=t;try{await XF(r,e)}catch(c){if(l)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await YF(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!JF(d)){if(s.deleteThrottleMetadata(o),l)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw c}const u=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?vw(n,s.intervalMillis,WF):vw(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),En.debug(`Calling attemptFetch again in ${u} millis`),GT(t,h,r,s)}}function XF(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function JF(t){if(!(t instanceof tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ZF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function eU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(){if(Kv())try{await QS()}catch(t){return En.warn(Rn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return En.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function nU(t,e,n,r,s,i,o){var l;const c=QF(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>En.error(p)),e.push(c);const d=tU().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([c,d]);HF(i)||VF(i,u.measurementId),s("js",new Date);const f=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return f[kF]="firebase",f.update=!0,h!=null&&(f[PF]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.app=e}_delete(){return delete Tl[this.app.options.appId],Promise.resolve()}}let Tl={},E0=[];const S0={};let yp="dataLayer",sU="gtag",N0,KT,T0=!1;function iU(){const t=[];if(YS()&&t.push("This is a browser extension environment."),bD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});En.warn(n.message)}}function aU(t,e,n){iU();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rn.create("no-api-key");if(Tl[r]!=null)throw Rn.create("already-exists",{id:r});if(!T0){FF(yp);const{wrappedGtag:i,gtagCore:o}=zF(Tl,E0,S0,yp,sU);KT=i,N0=o,T0=!0}return Tl[r]=nU(t,E0,S0,e,N0,yp,n),new rU(t)}function oU(t=Rh()){t=ze(t);const e=li(t,Gu);return e.isInitialized()?e.getImmediate():lU(t)}function lU(t,e={}){const n=li(t,Gu);if(n.isInitialized()){const s=n.getImmediate();if(Ui(e,n.getOptions()))return s;throw Rn.create("already-initialized")}return n.initialize({options:e})}function cU(t,e,n,r){t=ze(t),eU(KT,Tl[t.app.options.appId],e,n,r).catch(s=>En.error(s))}const I0="@firebase/analytics",C0="0.10.1";function dU(){pr(new Jn(Gu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return aU(r,s,n)},"PUBLIC")),pr(new Jn("analytics-internal",t,"PRIVATE")),jn(I0,C0),jn(I0,C0,"esm2017");function t(e){try{const n=e.getProvider(Gu).getImmediate();return{logEvent:(r,s,i)=>cU(n,r,s,i)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}}}dU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebasestorage.googleapis.com",QT="storageBucket",uU=2*60*1e3,hU=10*60*1e3,fU=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends tr{constructor(e,n,r=0){super(xp(e),`Firebase Storage: ${n} (${xp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ye;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ye||(Ye={}));function xp(t){return"storage/"+t}function ix(){const t="An unknown error occurred, please check the error payload for server response.";return new dt(Ye.UNKNOWN,t)}function pU(t){return new dt(Ye.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function mU(t){return new dt(Ye.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(Ye.UNAUTHENTICATED,t)}function vU(){return new dt(Ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yU(t){return new dt(Ye.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function XT(){return new dt(Ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JT(){return new dt(Ye.CANCELED,"User canceled the upload/download.")}function xU(t){return new dt(Ye.INVALID_URL,"Invalid URL '"+t+"'.")}function bU(t){return new dt(Ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wU(){return new dt(Ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QT+"' property when initializing the app?")}function ZT(){return new dt(Ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _U(){return new dt(Ye.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function jU(){return new dt(Ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function EU(t){return new dt(Ye.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _g(t){return new dt(Ye.INVALID_ARGUMENT,t)}function eI(){return new dt(Ye.APP_DELETED,"The Firebase app was deleted.")}function SU(t){return new dt(Ye.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Il(t,e){return new dt(Ye.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qo(t){throw new dt(Ye.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=An.makeFromUrl(e,n)}catch{return new An(e,"")}if(r.path==="")return r;throw bU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},y=n===YT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",m=new RegExp(`^https?://${y}/${s}/${b}`,"i"),v=[{regex:l,indices:c,postModify:i},{regex:p,indices:g,postModify:d},{regex:m,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<v.length;j++){const N=v[j],E=N.regex.exec(e);if(E){const I=E[N.indices.bucket];let w=E[N.indices.path];w||(w=""),r=new An(I,w),N.postModify(r);break}}if(r==null)throw xU(e);return r}}class NU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function u(...b){d||(d=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(p,c())},b)}function f(){i&&clearTimeout(i)}function p(b,...m){if(d){f();return}if(b){f(),u.call(null,b,...m);return}if(c()||o){f(),u.call(null,b,...m);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,h(v)}let g=!1;function y(b){g||(g=!0,f(),!d&&(s!==null?(b||(l=2),clearTimeout(s),h(0)):b||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function IU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){return t!==void 0}function AU(t){return typeof t=="function"}function PU(t){return typeof t=="object"&&!Array.isArray(t)}function gf(t){return typeof t=="string"||t instanceof String}function A0(t){return ax()&&t instanceof Blob}function ax(){return typeof Blob<"u"}function P0(t,e,n,r){if(r<e)throw _g(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _g(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ki||(ki={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n,r,s,i,o,l,c,d,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new jd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===ki.NO_ERROR,c=i.getStatus();if(!l||nI(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===ki.ABORT;r(!1,new jd(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new jd(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());CU(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=ix();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?eI():JT();o(c)}else{const c=XT();o(c)}};this.canceled_?n(!1,new jd(!1,null,!0)):this.backoffId_=TU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function LU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function MU(t,e,n,r,s,i,o=!0){const l=tI(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return OU(d,e),RU(d,n),DU(d,i),LU(d,r),new kU(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FU(...t){const e=VU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ax())return new Blob(t);throw new dt(Ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){if(typeof atob>"u")throw EU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bp{constructor(e,n){this.data=e,this.contentType=n||null}}function BU(t,e){switch(t){case Nr.RAW:return new bp(rI(e));case Nr.BASE64:case Nr.BASE64URL:return new bp(sI(t,e));case Nr.DATA_URL:return new bp(HU(e),WU(e))}throw ix()}function rI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function zU(t){let e;try{e=decodeURIComponent(t)}catch{throw Il(Nr.DATA_URL,"Malformed data URL.")}return rI(e)}function sI(t,e){switch(t){case Nr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Il(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Il(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$U(e)}catch(s){throw s.message.includes("polyfill")?s:Il(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class iI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Il(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=qU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function HU(t){const e=new iI(t);return e.base64?sI(Nr.BASE64,e.rest):zU(e.rest)}function WU(t){return new iI(t).contentType}function qU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){let r=0,s="";A0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(A0(this.data_)){const r=this.data_,s=UU(r,e,n);return s===null?null:new Yr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Yr(r,!0)}}static getBlob(...e){if(ax()){const n=e.map(r=>r instanceof Yr?r.data_:r);return new Yr(FU.apply(null,n))}else{const n=e.map(o=>gf(o)?BU(Nr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Yr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t){let e;try{e=JSON.parse(t)}catch{return null}return PU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e){return e}class sn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||YU}}let Ed=null;function QU(t){return!gf(t)||t.length<2?t:oI(t)}function ox(){if(Ed)return Ed;const t=[];t.push(new sn("bucket")),t.push(new sn("generation")),t.push(new sn("metageneration")),t.push(new sn("name","fullPath",!0));function e(i,o){return QU(o)}const n=new sn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new sn("size");return s.xform=r,t.push(s),t.push(new sn("timeCreated")),t.push(new sn("updated")),t.push(new sn("md5Hash",null,!0)),t.push(new sn("cacheControl",null,!0)),t.push(new sn("contentDisposition",null,!0)),t.push(new sn("contentEncoding",null,!0)),t.push(new sn("contentLanguage",null,!0)),t.push(new sn("contentType",null,!0)),t.push(new sn("metadata","customMetadata",!0)),Ed=t,Ed}function XU(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new An(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function JU(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return XU(r,t),r}function lI(t,e,n){const r=aI(e);return r===null?null:JU(t,r,n)}function ZU(t,e,n,r){const s=aI(e);if(s===null||!gf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),p=Po(f,n,r),g=tI({alt:"media",token:d});return p+g})[0]}function cI(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class ua{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t){if(!t)throw ix()}function lx(t,e){function n(r,s){const i=lI(t,s,e);return rs(i!==null),i}return n}function e$(t,e){function n(r,s){const i=lI(t,s,e);return rs(i!==null),ZU(i,s,t.host,t._protocol)}return n}function zc(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=vU():s=gU():n.getStatus()===402?s=mU(t.bucket):n.getStatus()===403?s=yU(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function cx(t){const e=zc(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=pU(t.path)),i.serverResponse=s.serverResponse,i}return n}function t$(t,e,n){const r=e.fullServerUrl(),s=Po(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ua(s,i,lx(t,n),o);return l.errorHandler=cx(e),l}function n$(t,e,n){const r=e.fullServerUrl(),s=Po(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ua(s,i,e$(t,n),o);return l.errorHandler=cx(e),l}function r$(t,e){const n=e.fullServerUrl(),r=Po(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,d){}const l=new ua(r,s,o,i);return l.successCodes=[200,204],l.errorHandler=cx(e),l}function s$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=s$(null,e)),r}function uI(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let v="";for(let j=0;j<2;j++)v=v+Math.random().toString().slice(2);return v}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=dI(e,r,s),u=cI(d,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=Yr.getBlob(h,r,f);if(p===null)throw ZT();const g={name:d.fullPath},y=Po(i,t.host,t._protocol),b="POST",m=t.maxUploadRetryTime,x=new ua(y,b,lx(t,n),m);return x.urlParams=g,x.headers=o,x.body=p.uploadData(),x.errorHandler=zc(e),x}class Ku{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function dx(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{rs(!1)}return rs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function i$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=dI(e,r,s),l={name:o.fullPath},c=Po(i,t.host,t._protocol),d="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=cI(o,n),f=t.maxUploadRetryTime;function p(y){dx(y);let b;try{b=y.getResponseHeader("X-Goog-Upload-URL")}catch{rs(!1)}return rs(gf(b)),b}const g=new ua(c,d,p,f);return g.urlParams=l,g.headers=u,g.body=h,g.errorHandler=zc(e),g}function a$(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(d){const u=dx(d,["active","final"]);let h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rs(!1)}h||rs(!1);const f=Number(h);return rs(!isNaN(f)),new Ku(f,r.size(),u==="final")}const o="POST",l=t.maxUploadRetryTime,c=new ua(n,o,i,l);return c.headers=s,c.errorHandler=zc(e),c}const k0=256*1024;function o$(t,e,n,r,s,i,o,l){const c=new Ku(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw _U();const d=c.total-c.current;let u=d;s>0&&(u=Math.min(u,s));const h=c.current,f=h+u;let p="";u===0?p="finalize":d===u?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},y=r.slice(h,f);if(y===null)throw ZT();function b(j,N){const E=dx(j,["active","final"]),I=c.current+u,w=r.size();let _;return E==="final"?_=lx(e,i)(j,N):_=null,new Ku(I,w,E==="final",_)}const m="POST",x=e.maxUploadRetryTime,v=new ua(n,m,b,x);return v.headers=g,v.body=y.uploadData(),v.progressCallback=l||null,v.errorHandler=zc(t),v}const mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wp(t){switch(t){case"running":case"pausing":case"canceling":return mn.RUNNING;case"paused":return mn.PAUSED;case"success":return mn.SUCCESS;case"canceled":return mn.CANCELED;case"error":return mn.ERROR;default:return mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l$=class{constructor(e,n,r){if(AU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class c${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ki.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ki.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ki.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw qo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class d$ extends c${initXhr(){this.xhr_.responseType="text"}}function Es(){return new d$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=ox(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ye.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(nI(s.status,[]))if(i)s=XT();else{this.sleepTime=Math.max(this.sleepTime*2,fU),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ye.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=i$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=a$(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Es,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=k0*this._chunkMultiplier,n=new Ku(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=o$(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,Es,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){k0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=t$(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=uI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=JT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=wp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new l$(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(wp(this._state)){case mn.SUCCESS:va(this._resolve.bind(null,this.snapshot))();break;case mn.CANCELED:case mn.ERROR:const n=this._reject;va(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(wp(this._state)){case mn.RUNNING:case mn.PAUSED:e.next&&va(e.next.bind(e,this.snapshot))();break;case mn.SUCCESS:e.complete&&va(e.complete.bind(e))();break;case mn.CANCELED:case mn.ERROR:e.error&&va(e.error.bind(e,this._error))();break;default:e.error&&va(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gi(e,n)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oI(this._location.path)}get storage(){return this._service}get parent(){const e=GU(this._location.path);if(e===null)return null;const n=new An(this._location.bucket,e);return new Gi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SU(e)}}function h$(t,e,n){t._throwIfRoot("uploadBytes");const r=uI(t.storage,t._location,ox(),new Yr(e,!0),n);return t.storage.makeRequestWithTokens(r,Es).then(s=>({metadata:s,ref:t}))}function f$(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new u$(t,new Yr(e),n)}function p$(t){t._throwIfRoot("getDownloadURL");const e=n$(t.storage,t._location,ox());return t.storage.makeRequestWithTokens(e,Es).then(n=>{if(n===null)throw jU();return n})}function m$(t){t._throwIfRoot("deleteObject");const e=r$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Es)}function g$(t,e){const n=KU(t._location.path,e),r=new An(t._location.bucket,n);return new Gi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){return/^[A-Za-z]+:\/\//.test(t)}function y$(t,e){return new Gi(t,e)}function hI(t,e){if(t instanceof ux){const n=t;if(n._bucket==null)throw wU();const r=new Gi(n,n._bucket);return e!=null?hI(r,e):r}else return e!==void 0?g$(t,e):t}function x$(t,e){if(e&&v$(e)){if(t instanceof ux)return y$(t,e);throw _g("To use ref(service, url), the first argument must be a Storage instance.")}else return hI(t,e)}function R0(t,e){const n=e==null?void 0:e[QT];return n==null?null:An.makeFromBucketSpec(n,t)}function b$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:KS(s,t.app.options.projectId))}class ux{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=YT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uU,this._maxUploadRetryTime=hU,this._requests=new Set,s!=null?this._bucket=An.makeFromBucketSpec(s,this._host):this._bucket=R0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=R0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new NU(eI());{const o=MU(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const D0="@firebase/storage",O0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="storage";function $r(t,e,n){return t=ze(t),h$(t,e,n)}function pI(t,e,n){return t=ze(t),f$(t,e,n)}function Br(t){return t=ze(t),p$(t)}function yr(t){return t=ze(t),m$(t)}function Ce(t,e){return t=ze(t),x$(t,e)}function w$(t=Rh(),e){t=ze(t);const r=li(t,fI).getImmediate({identifier:e}),s=WS("storage");return s&&_$(r,...s),r}function _$(t,e,n,r={}){b$(t,e,n,r)}function j$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ux(n,r,s,e,sa)}function E$(){pr(new Jn(fI,j$,"PUBLIC").setMultipleInstances(!0)),jn(D0,O0,""),jn(D0,O0,"esm2017")}E$();function hx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function mI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S$=mI,gI=new ra("auth","Firebase",mI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new kh("@firebase/auth");function N$(t,...e){Yu.logLevel<=Se.WARN&&Yu.warn(`Auth (${sa}): ${t}`,...e)}function Kd(t,...e){Yu.logLevel<=Se.ERROR&&Yu.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw fx(t,...e)}function Rr(t,...e){return fx(t,...e)}function vI(t,e,n){const r=Object.assign(Object.assign({},S$()),{[e]:n});return new ra("auth","Firebase",r).create(e,{appName:t.name})}function T$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(t,"argument-error"),vI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gI.create(t,...e)}function le(t,e,...n){if(!t)throw fx(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kd(e),new Error(e)}function us(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function I$(){return L0()==="http:"||L0()==="https:"}function L0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I$()||YS()||"connection"in navigator)?navigator.onLine:!0}function A$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,us(n>e,"Short delay should be less than long delay!"),this.isMobile=mD()||vD()}get(){return C$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=new Hc(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zr(t,e,n,r,s={}){return xI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Tc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),yI.fetch()(bI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function xI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},P$),e);try{const s=new D$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Sd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Sd(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw vI(t,u,d);er(t,u)}}catch(s){if(s instanceof tr)throw s;er(t,"network-request-failed",{message:String(s)})}}async function Wc(t,e,n,r,s={}){const i=await zr(t,e,n,r,s);return"mfaPendingCredential"in i&&er(t,"multi-factor-auth-required",{_serverResponse:i}),i}function bI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?px(t.config,s):`${t.config.apiScheme}://${s}`}function R$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),k$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}function M0(t){return t!==void 0&&t.enterprise!==void 0}class O${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function L$(t,e){return zr(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(t,e){return zr(t,"POST","/v1/accounts:delete",e)}async function V$(t,e){return zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F$(t,e=!1){const n=ze(t),r=await n.getIdToken(e),s=mx(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Cl(_p(s.auth_time)),issuedAtTime:Cl(_p(s.iat)),expirationTime:Cl(_p(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function _p(t){return Number(t)*1e3}function mx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const s=zS(n);return s?JSON.parse(s):(Kd("Failed to decode base64 JWT payload"),null)}catch(s){return Kd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function U$(t){const e=mx(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&$$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await xo(t,V$(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?W$(i.providerUserInfo):[],l=H$(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new wI(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function z$(t){const e=ze(t);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function W$(t){return t.map(e=>{var{providerId:n}=e,r=hx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e){const n=await xI(t,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=bI(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",yI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G$(t,e){return zr(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await q$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new hc;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hc,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=hx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F$(this,e)}reload(){return z$(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xo(this,M$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,d,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:j,isAnonymous:N,providerData:E,stsTokenManager:I}=n;le(v&&I,e,"internal-error");const w=hc.fromJSON(this.name,I);le(typeof v=="string",e,"internal-error"),ys(h,e.name),ys(f,e.name),le(typeof j=="boolean",e,"internal-error"),le(typeof N=="boolean",e,"internal-error"),ys(p,e.name),ys(g,e.name),ys(y,e.name),ys(b,e.name),ys(m,e.name),ys(x,e.name);const _=new Ri({uid:v,auth:e,email:f,emailVerified:j,displayName:h,isAnonymous:N,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:w,createdAt:m,lastLoginAt:x});return E&&Array.isArray(E)&&(_.providerData=E.map(S=>Object.assign({},S))),b&&(_._redirectEventId=b),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new hc;s.updateFromServerResponse(n);const i=new Ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qu(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;function ts(t){us(t instanceof Function,"Expected a class definition");let e=V0.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_I.type="NONE";const F0=_I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Yd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Yd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ga(ts(F0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ts(F0);const o=Yd(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const u=await d._get(o);if(u){const h=Ri._fromJSON(e,u);d!==i&&(l=h),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ga(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ga(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TI(e))return"Blackberry";if(II(e))return"Webos";if(gx(e))return"Safari";if((e.includes("chrome/")||EI(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jI(t=bt()){return/firefox\//i.test(t)}function gx(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EI(t=bt()){return/crios\//i.test(t)}function SI(t=bt()){return/iemobile/i.test(t)}function NI(t=bt()){return/android/i.test(t)}function TI(t=bt()){return/blackberry/i.test(t)}function II(t=bt()){return/webos/i.test(t)}function vf(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K$(t=bt()){var e;return vf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y$(){return yD()&&document.documentMode===10}function CI(t=bt()){return vf(t)||NI(t)||II(t)||TI(t)||/windows phone/i.test(t)||SI(t)}function Q$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e=[]){let n;switch(t){case"Browser":n=U0(bt());break;case"Worker":n=`${U0(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J$(t,e={}){return zr(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=6;class e4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Z$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new X$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ze(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J$(this),n=new e4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ra("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&N$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gs(t){return ze(t)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=SD(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n4(t){yf=t}function PI(t){return yf.loadJS(t)}function r4(){return yf.recaptchaEnterpriseScript}function s4(){return yf.gapiScript}function i4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const a4="recaptcha-enterprise",o4="NO_RECAPTCHA";class l4{constructor(e){this.type=a4,this.auth=gs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{L$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new O$(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;M0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(o4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&M0(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=r4();c.length!==0&&(c+=l),PI(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function B0(t,e,n,r=!1){const s=new l4(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xu(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await B0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await B0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t,e){const n=li(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ui(i,e??{}))return s;er(s,"already-initialized")}return n.initialize({options:e})}function d4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u4(t,e,n){const r=gs(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=kI(e),{host:o,port:l}=h4(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||f4()}function kI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h4(t){const e=kI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:z0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:z0(o)}}}function z0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function p4(t,e){return zr(t,"POST","/v1/accounts:update",e)}async function m4(t,e){return zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(t,e){return Wc(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}async function RI(t,e){return zr(t,"POST","/v1/accounts:sendOobCode",ms(t,e))}async function v4(t,e){return RI(t,e)}async function y4(t,e){return RI(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){return Wc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function b4(t,e){return Wc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends vx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xu(e,n,"signInWithPassword",g4);case"emailLink":return x4(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xu(e,r,"signUpPassword",m4);case"emailLink":return b4(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e){return Wc(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="http://localhost";class Ki extends vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=hx(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ki(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ka(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:w4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j4(t){const e=sl(il(t)).link,n=e?sl(il(e)).deep_link_id:null,r=sl(il(t)).deep_link_id;return(r?sl(il(r)).link:null)||r||n||e||t}class yx{constructor(e){var n,r,s,i,o,l;const c=sl(il(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=_4((s=c.mode)!==null&&s!==void 0?s:null);le(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=j4(e);try{return new yx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yx.parseLink(n);return le(r,"argument-error"),fc._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends xx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends qc{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ki._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends qc{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends qc{constructor(){super("twitter.com")}static credential(e,n){return Ki._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){return Wc(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ri._fromIdTokenResponse(e,r,s),o=H0(r);return new Yi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=H0(r);return new Yi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function H0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends tr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ju(e,n,r,s)}}function DI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(t,i,e,r):i})}async function S4(t,e,n=!1){const r=await xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await xo(t,DI(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=mx(i.idToken);le(o,r,"internal-error");const{sub:l}=o;return le(t.uid===l,r,"user-mismatch"),Yi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&er(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e,n=!1){const r="signIn",s=await DI(t,r,e),i=await Yi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function T4(t,e){return OI(gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e,n){var r;le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t){const e=gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function I4(t,e,n){const r=gs(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&LI(r,s,n),await Xu(r,s,"getOobCode",y4)}async function W0(t,e,n){const r=gs(t),o=await Xu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&MI(t),c}),l=await Yi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function C4(t,e,n){return T4(ze(t),ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&MI(t),r})}async function A4(t,e){const n=ze(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&LI(n.auth,s,e);const{email:i}=await v4(n.auth,s);i!==t.email&&await t.reload()}function P4(t,e){return k4(ze(t),null,e)}async function k4(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await xo(t,p4(r,i));await t._updateTokensIfNecessary(o,!0)}function R4(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function D4(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}const Zu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){const t=bt();return gx(t)||vf(t)}const L4=1e3,M4=10;class FI extends VI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=O4()&&Q$(),this.fallbackToPolling=CI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Y$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,M4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},L4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FI.type="LOCAL";const V4=FI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends VI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UI.type="SESSION";const $I=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await F4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=bx("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function $4(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function B4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H4(){return BI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebaseLocalStorageDb",W4=1,eh="firebaseLocalStorage",HI="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function q4(){const t=indexedDB.deleteDatabase(zI);return new Gc(t).toPromise()}function Eg(){const t=indexedDB.open(zI,W4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eh,{keyPath:HI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eh)?e(r):(r.close(),await q4(),e(await Eg()))})})}async function q0(t,e,n){const r=bf(t,!0).put({[HI]:e,value:n});return new Gc(r).toPromise()}async function G4(t,e){const n=bf(t,!1).get(e),r=await new Gc(n).toPromise();return r===void 0?null:r.value}function G0(t,e){const n=bf(t,!0).delete(e);return new Gc(n).toPromise()}const K4=800,Y4=3;class WI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Y4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xf._getInstance(H4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await B4(),!this.activeServiceWorker)return;this.sender=new U4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await q0(e,Zu,"1"),await G0(e,Zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=bf(s,!1).getAll();return new Gc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WI.type="LOCAL";const Q4=WI;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e){return e?ts(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X4(t){return OI(t.auth,new wx(t),t.bypassAuthState)}function J4(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),N4(n,new wx(t),t.bypassAuthState)}async function Z4(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),S4(n,new wx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X4;case"linkViaPopup":case"linkViaRedirect":return Z4;case"reauthViaPopup":case"reauthViaRedirect":return J4;default:er(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new Hc(2e3,1e4);async function t3(t,e,n){const r=gs(t);T$(t,e,xx);const s=qI(r,n);return new Ii(r,"signInViaPopup",e,s).executeNotNull()}class Ii extends GI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ii.currentPopupAction&&Ii.currentPopupAction.cancel(),Ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=bx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e3.get())};e()}}Ii.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="pendingRedirect",Qd=new Map;class r3 extends GI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const r=await s3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s3(t,e){const n=o3(e),r=a3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function i3(t,e){Qd.set(t._key(),e)}function a3(t){return ts(t._redirectPersistence)}function o3(t){return Yd(n3,t.config.apiKey,t.name)}async function l3(t,e,n=!1){const r=gs(t),s=qI(r,e),o=await new r3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=10*60*1e3;class d3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c3&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e={}){return zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p3=/^https?/;async function m3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h3(t);for(const n of e)try{if(g3(n))return}catch{}er(t,"unauthorized-domain")}function g3(t){const e=jg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!p3.test(n))return!1;if(f3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new Hc(3e4,6e4);function Y0(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y3(t){return new Promise((e,n)=>{var r,s,i;function o(){Y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y0(),n(Rr(t,"network-request-failed"))},timeout:v3.get()})}if(!((s=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Dr().gapi)===null||i===void 0)&&i.load)o();else{const l=i4("iframefcb");return Dr()[l]=()=>{gapi.load?o():n(Rr(t,"network-request-failed"))},PI(`${s4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function x3(t){return Xd=Xd||y3(t),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new Hc(5e3,15e3),w3="__/auth/iframe",_3="emulator/auth/iframe",j3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S3(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?px(e,_3):`https://${t.config.authDomain}/${w3}`,r={apiKey:e.apiKey,appName:t.name,v:sa},s=E3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Tc(r).slice(1)}`}async function N3(t){const e=await x3(t),n=Dr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:S3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Rr(t,"network-request-failed"),l=Dr().setTimeout(()=>{i(o)},b3.get());function c(){Dr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I3=500,C3=600,A3="_blank",P3="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k3(t,e,n,r=I3,s=C3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},T3),{width:r.toString(),height:s.toString(),top:i,left:o}),d=bt().toLowerCase();n&&(l=EI(d)?A3:n),jI(d)&&(e=e||P3,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(K$(d)&&l!=="_self")return R3(e||"",l),new Q0(null);const h=window.open(e||"",l,u);le(h,t,"popup-blocked");try{h.focus()}catch{}return new Q0(h)}function R3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="__/auth/handler",O3="emulator/auth/handler",L3=encodeURIComponent("fac");async function X0(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sa,eventId:s};if(e instanceof xx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ED(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof qc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${L3}=${encodeURIComponent(c)}`:"";return`${M3(t)}?${Tc(l).slice(1)}${d}`}function M3({config:t}){return t.emulator?px(t,O3):`https://${t.authDomain}/${D3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class V3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$I,this._completeRedirectFn=l3,this._overrideRedirectResult=i3}async _openPopup(e,n,r,s){var i;us((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await X0(e,n,r,jg(),s);return k3(e,o,bx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await X0(e,n,r,jg(),s);return $4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(us(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await N3(e),r=new d3(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jp,{type:jp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[jp];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CI()||gx()||vf()}}const F3=V3;var J0="@firebase/auth",Z0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B3(t){pr(new Jn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AI(t)},d=new t4(r,s,i,c);return d4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pr(new Jn("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new U3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(J0,Z0,$3(t)),jn(J0,Z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=5*60,H3=GS("authIdTokenMaxAge")||z3;let e_=null;const W3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H3)return;const s=n==null?void 0:n.token;e_!==s&&(e_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function q3(t=Rh()){const e=li(t,"auth");if(e.isInitialized())return e.getImmediate();const n=c4(t,{popupRedirectResolver:F3,persistence:[Q4,V4,$I]}),r=GS("authTokenSyncURL");if(r){const i=W3(r);D4(n,i,()=>i(n.currentUser)),R4(n,o=>i(o))}const s=HS("auth");return s&&u4(n,`http://${s}`),n}function G3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}n4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",G3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B3("Browser");const K3={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},_x=eN(K3),Ae=w$(_x);oU(_x);const W=TV(_x),Xt=q3(),Y3=new Qr;function cr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ni(t){return!!t&&!!t[Ze]}function hs(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===sB}(t)||Array.isArray(t)||!!t[o_]||!!(!((e=t.constructor)===null||e===void 0)&&e[o_])||jx(t)||Ex(t))}function Qi(t,e,n){n===void 0&&(n=!1),Ro(t)===0?(n?Object.keys:Qa)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Ro(t){var e=t[Ze];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:jx(t)?2:Ex(t)?3:0}function Ya(t,e){return Ro(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Q3(t,e){return Ro(t)===2?t.get(e):t[e]}function YI(t,e,n){var r=Ro(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function QI(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function jx(t){return nB&&t instanceof Map}function Ex(t){return rB&&t instanceof Set}function vi(t){return t.o||t.t}function Sx(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=JI(t);delete e[Ze];for(var n=Qa(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function Nx(t,e){return e===void 0&&(e=!1),Tx(t)||ni(t)||!hs(t)||(Ro(t)>1&&(t.set=t.add=t.clear=t.delete=X3),Object.freeze(t),e&&Qi(t,function(n,r){return Nx(r,!0)},!0)),t}function X3(){cr(2)}function Tx(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Or(t){var e=Ig[t];return e||cr(18,t),e}function J3(t,e){Ig[t]||(Ig[t]=e)}function Sg(){return pc}function Ep(t,e){e&&(Or("Patches"),t.u=[],t.s=[],t.v=e)}function th(t){Ng(t),t.p.forEach(Z3),t.p=null}function Ng(t){t===pc&&(pc=t.l)}function t_(t){return pc={p:[],l:pc,h:t,m:!0,_:0}}function Z3(t){var e=t[Ze];e.i===0||e.i===1?e.j():e.g=!0}function Sp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Or("ES5").S(e,t,r),r?(n[Ze].P&&(th(e),cr(4)),hs(t)&&(t=nh(e,t),e.l||rh(e,t)),e.u&&Or("Patches").M(n[Ze].t,t,e.u,e.s)):t=nh(e,n,[]),th(e),e.u&&e.v(e.u,e.s),t!==XI?t:void 0}function nh(t,e,n){if(Tx(e))return e;var r=e[Ze];if(!r)return Qi(e,function(l,c){return n_(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return rh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=Sx(r.k):r.o,i=s,o=!1;r.i===3&&(i=new Set(s),s.clear(),o=!0),Qi(i,function(l,c){return n_(t,r,s,l,c,n,o)}),rh(t,s,!1),n&&t.u&&Or("Patches").N(r,n,t.u,t.s)}return r.o}function n_(t,e,n,r,s,i,o){if(ni(s)){var l=nh(t,s,i&&e&&e.i!==3&&!Ya(e.R,r)?i.concat(r):void 0);if(YI(n,r,l),!ni(l))return;t.m=!1}else o&&n.add(s);if(hs(s)&&!Tx(s)){if(!t.h.D&&t._<1)return;nh(t,s),e&&e.A.l||rh(t,s)}}function rh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Nx(e,n)}function Np(t,e){var n=t[Ze];return(n?vi(n):t)[e]}function r_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Is(t){t.P||(t.P=!0,t.l&&Is(t.l))}function Tp(t){t.o||(t.o=Sx(t.t))}function Tg(t,e,n){var r=jx(e)?Or("MapSet").F(e,n):Ex(e)?Or("MapSet").T(e,n):t.O?function(s,i){var o=Array.isArray(s),l={i:o?1:0,A:i?i.A:Sg(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},c=l,d=mc;o&&(c=[l],d=ul);var u=Proxy.revocable(c,d),h=u.revoke,f=u.proxy;return l.k=f,l.j=h,f}(e,n):Or("ES5").J(e,n);return(n?n.A:Sg()).p.push(r),r}function eB(t){return ni(t)||cr(22,t),function e(n){if(!hs(n))return n;var r,s=n[Ze],i=Ro(n);if(s){if(!s.P&&(s.i<4||!Or("ES5").K(s)))return s.t;s.I=!0,r=s_(n,i),s.I=!1}else r=s_(n,i);return Qi(r,function(o,l){s&&Q3(s.t,o)===l||YI(r,o,e(l))}),i===3?new Set(r):r}(t)}function s_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Sx(t)}function tB(){function t(i,o){var l=s[i];return l?l.enumerable=o:s[i]=l={configurable:!0,enumerable:o,get:function(){var c=this[Ze];return mc.get(c,i)},set:function(c){var d=this[Ze];mc.set(d,i,c)}},l}function e(i){for(var o=i.length-1;o>=0;o--){var l=i[o][Ze];if(!l.P)switch(l.i){case 5:r(l)&&Is(l);break;case 4:n(l)&&Is(l)}}}function n(i){for(var o=i.t,l=i.k,c=Qa(l),d=c.length-1;d>=0;d--){var u=c[d];if(u!==Ze){var h=o[u];if(h===void 0&&!Ya(o,u))return!0;var f=l[u],p=f&&f[Ze];if(p?p.t!==h:!QI(f,h))return!0}}var g=!!o[Ze];return c.length!==Qa(o).length+(g?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(o,o.length-1);if(l&&!l.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var s={};J3("ES5",{J:function(i,o){var l=Array.isArray(i),c=function(u,h){if(u){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=JI(h);delete g[Ze];for(var y=Qa(g),b=0;b<y.length;b++){var m=y[b];g[m]=t(m,u||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,i),d={i:l?5:4,A:o?o.A:Sg(),P:!1,I:!1,R:{},l:o,t:i,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Ze,{value:d,writable:!0}),c},S:function(i,o,l){l?ni(o)&&o[Ze].A===i&&e(i.p):(i.u&&function c(d){if(d&&typeof d=="object"){var u=d[Ze];if(u){var h=u.t,f=u.k,p=u.R,g=u.i;if(g===4)Qi(f,function(v){v!==Ze&&(h[v]!==void 0||Ya(h,v)?p[v]||c(f[v]):(p[v]=!0,Is(u)))}),Qi(h,function(v){f[v]!==void 0||Ya(f,v)||(p[v]=!1,Is(u))});else if(g===5){if(r(u)&&(Is(u),p.length=!0),f.length<h.length)for(var y=f.length;y<h.length;y++)p[y]=!1;else for(var b=h.length;b<f.length;b++)p[b]=!0;for(var m=Math.min(f.length,h.length),x=0;x<m;x++)f.hasOwnProperty(x)||(p[x]=!0),p[x]===void 0&&c(f[x])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var i_,pc,Ix=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",nB=typeof Map<"u",rB=typeof Set<"u",a_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",XI=Ix?Symbol.for("immer-nothing"):((i_={})["immer-nothing"]=!0,i_),o_=Ix?Symbol.for("immer-draftable"):"__$immer_draftable",Ze=Ix?Symbol.for("immer-state"):"__$immer_state",sB=""+Object.prototype.constructor,Qa=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,JI=Object.getOwnPropertyDescriptors||function(t){var e={};return Qa(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Ig={},mc={get:function(t,e){if(e===Ze)return t;var n=vi(t);if(!Ya(n,e))return function(s,i,o){var l,c=r_(i,o);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!hs(r)?r:r===Np(t.t,e)?(Tp(t),t.o[e]=Tg(t.A.h,r,t)):r},has:function(t,e){return e in vi(t)},ownKeys:function(t){return Reflect.ownKeys(vi(t))},set:function(t,e,n){var r=r_(vi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=Np(vi(t),e),i=s==null?void 0:s[Ze];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(QI(n,s)&&(n!==void 0||Ya(t.t,e)))return!0;Tp(t),Is(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Np(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Tp(t),Is(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=vi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){cr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){cr(12)}},ul={};Qi(mc,function(t,e){ul[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ul.deleteProperty=function(t,e){return ul.set.call(this,t,e,void 0)},ul.set=function(t,e,n){return mc.set.call(this,t[0],e,n,t[0])};var iB=function(){function t(n){var r=this;this.O=a_,this.D=!0,this.produce=function(s,i,o){if(typeof s=="function"&&typeof i!="function"){var l=i;i=s;var c=r;return function(y){var b=this;y===void 0&&(y=l);for(var m=arguments.length,x=Array(m>1?m-1:0),v=1;v<m;v++)x[v-1]=arguments[v];return c.produce(y,function(j){var N;return(N=i).call.apply(N,[b,j].concat(x))})}}var d;if(typeof i!="function"&&cr(6),o!==void 0&&typeof o!="function"&&cr(7),hs(s)){var u=t_(r),h=Tg(r,s,void 0),f=!0;try{d=i(h),f=!1}finally{f?th(u):Ng(u)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(y){return Ep(u,o),Sp(y,u)},function(y){throw th(u),y}):(Ep(u,o),Sp(d,u))}if(!s||typeof s!="object"){if((d=i(s))===void 0&&(d=s),d===XI&&(d=void 0),r.D&&Nx(d,!0),o){var p=[],g=[];Or("Patches").M(s,d,p,g),o(p,g)}return d}cr(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(d){for(var u=arguments.length,h=Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return r.produceWithPatches(d,function(p){return s.apply(void 0,[p].concat(h))})};var o,l,c=r.produce(s,i,function(d,u){o=d,l=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(d){return[d,o,l]}):[c,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){hs(n)||cr(8),ni(n)&&(n=eB(n));var r=t_(this),s=Tg(this,n,void 0);return s[Ze].C=!0,Ng(r),s},e.finishDraft=function(n,r){var s=n&&n[Ze],i=s.A;return Ep(i,r),Sp(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!a_&&cr(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var o=Or("Patches").$;return ni(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},t}(),Ln=new iB,ZI=Ln.produce;Ln.produceWithPatches.bind(Ln);Ln.setAutoFreeze.bind(Ln);Ln.setUseProxies.bind(Ln);Ln.applyPatches.bind(Ln);Ln.createDraft.bind(Ln);Ln.finishDraft.bind(Ln);function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function aB(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oB(t){var e=aB(t,"string");return gc(e)=="symbol"?e:String(e)}function lB(t,e,n){return e=oB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function c_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(n),!0).forEach(function(r){lB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var d_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ip=function(){return Math.random().toString(36).substring(7).split("").join(".")},sh={INIT:"@@redux/INIT"+Ip(),REPLACE:"@@redux/REPLACE"+Ip(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ip()}};function cB(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Cx(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gt(1));return n(Cx)(t,e)}if(typeof t!="function")throw new Error(Gt(2));var s=t,i=e,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(Gt(3));return i}function h(y){if(typeof y!="function")throw new Error(Gt(4));if(c)throw new Error(Gt(5));var b=!0;return d(),l.push(y),function(){if(b){if(c)throw new Error(Gt(6));b=!1,d();var x=l.indexOf(y);l.splice(x,1),o=null}}}function f(y){if(!cB(y))throw new Error(Gt(7));if(typeof y.type>"u")throw new Error(Gt(8));if(c)throw new Error(Gt(9));try{c=!0,i=s(i,y)}finally{c=!1}for(var b=o=l,m=0;m<b.length;m++){var x=b[m];x()}return y}function p(y){if(typeof y!="function")throw new Error(Gt(10));s=y,f({type:sh.REPLACE})}function g(){var y,b=h;return y={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Gt(11));function v(){x.next&&x.next(u())}v();var j=b(v);return{unsubscribe:j}}},y[d_]=function(){return this},y}return f({type:sh.INIT}),r={dispatch:f,subscribe:h,getState:u,replaceReducer:p},r[d_]=g,r}function dB(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:sh.INIT});if(typeof r>"u")throw new Error(Gt(12));if(typeof n(void 0,{type:sh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gt(13))})}function eC(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),o;try{dB(n)}catch(l){o=l}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var u=!1,h={},f=0;f<i.length;f++){var p=i[f],g=n[p],y=c[p],b=g(y,d);if(typeof b>"u")throw d&&d.type,new Error(Gt(14));h[p]=b,u=u||b!==y}return u=u||i.length!==Object.keys(c).length,u?h:c}}function ih(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function uB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(Gt(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(o)});return i=ih.apply(void 0,l)(s.dispatch),c_(c_({},s),{},{dispatch:i})}}}function tC(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(o){return function(l){return typeof l=="function"?l(s,i,t):o(l)}}};return e}var nC=tC();nC.withExtraArgument=tC;const Cg=nC;var rC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hB=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(u){d=[6,u],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},bo=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},fB=Object.defineProperty,pB=Object.defineProperties,mB=Object.getOwnPropertyDescriptors,u_=Object.getOwnPropertySymbols,gB=Object.prototype.hasOwnProperty,vB=Object.prototype.propertyIsEnumerable,h_=function(t,e,n){return e in t?fB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ks=function(t,e){for(var n in e||(e={}))gB.call(e,n)&&h_(t,n,e[n]);if(u_)for(var r=0,s=u_(e);r<s.length;r++){var n=s[r];vB.call(e,n)&&h_(t,n,e[n])}return t},Cp=function(t,e){return pB(t,mB(e))},yB=function(t,e,n){return new Promise(function(r,s){var i=function(c){try{l(n.next(c))}catch(d){s(d)}},o=function(c){try{l(n.throw(c))}catch(d){s(d)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(i,o)};l((n=n.apply(t,e)).next())})},xB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ih:ih.apply(null,arguments)};function bB(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function Ys(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return Ks(Ks({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var wB=function(t){rC(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,bo([void 0],n[0].concat(this)))):new(e.bind.apply(e,bo([void 0],n.concat(this))))},e}(Array),_B=function(t){rC(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,bo([void 0],n[0].concat(this)))):new(e.bind.apply(e,bo([void 0],n.concat(this))))},e}(Array);function Ag(t){return hs(t)?ZI(t,function(){}):t}function jB(t){return typeof t=="boolean"}function EB(){return function(e){return SB(e)}}function SB(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new wB;return n&&(jB(n)?r.push(Cg):r.push(Cg.withExtraArgument(n.extraArgument))),r}var NB=!0;function TB(t){var e=EB(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,o=i===void 0?e():i,l=n.devTools,c=l===void 0?!0:l,d=n.preloadedState,u=d===void 0?void 0:d,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof s=="function")p=s;else if(bB(s))p=eC(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var y=uB.apply(void 0,g),b=ih;c&&(b=xB(Ks({trace:!NB},typeof c=="object"&&c)));var m=new _B(y),x=m;Array.isArray(f)?x=bo([y],f):typeof f=="function"&&(x=f(m));var v=b.apply(void 0,x);return Cx(p,u,v)}function sC(t){var e={},n=[],r,s={addCase:function(i,o){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=o,s},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function IB(t){return typeof t=="function"}function CB(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?sC(e):[e,n,r],i=s[0],o=s[1],l=s[2],c;if(IB(t))c=function(){return Ag(t())};else{var d=Ag(t);c=function(){return d}}function u(h,f){h===void 0&&(h=c());var p=bo([i[f.type]],o.filter(function(g){var y=g.matcher;return y(f)}).map(function(g){var y=g.reducer;return y}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,y){if(y)if(ni(g)){var b=g,m=y(b,f);return m===void 0?g:m}else{if(hs(g))return ZI(g,function(x){return y(x,f)});var m=y(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return u.getInitialState=c,u}function AB(t,e){return t+"/"+e}function Bt(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Ag(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},o={},l={};s.forEach(function(u){var h=r[u],f=AB(e,u),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,i[u]=p,o[f]=p,l[u]=g?Ys(f,g):Ys(f)});function c(){var u=typeof t.extraReducers=="function"?sC(t.extraReducers):[t.extraReducers],h=u[0],f=h===void 0?{}:h,p=u[1],g=p===void 0?[]:p,y=u[2],b=y===void 0?void 0:y,m=Ks(Ks({},f),o);return CB(n,function(x){for(var v in m)x.addCase(v,m[v]);for(var j=0,N=g;j<N.length;j++){var E=N[j];x.addMatcher(E.matcher,E.reducer)}b&&x.addDefaultCase(b)})}var d;return{name:e,reducer:function(u,h){return d||(d=c()),d(u,h)},actions:l,caseReducers:i,getInitialState:function(){return d||(d=c()),d.getInitialState()}}}var PB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kB=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=PB[Math.random()*64|0];return e},RB=["name","message","stack","code"],Ap=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),f_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),DB=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=RB;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=Ys(e+"/fulfilled",function(d,u,h,f){return{payload:d,meta:Cp(Ks({},f||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),i=Ys(e+"/pending",function(d,u,h){return{payload:void 0,meta:Cp(Ks({},h||{}),{arg:u,requestId:d,requestStatus:"pending"})}}),o=Ys(e+"/rejected",function(d,u,h,f,p){return{payload:f,error:(r&&r.serializeError||DB)(d||"Rejected"),meta:Cp(Ks({},p||{}),{arg:h,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function d(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return d.prototype.abort=function(){},d}();function c(d){return function(u,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(d):kB(),g=new l,y;function b(x){y=x,g.abort()}var m=function(){return yB(this,null,function(){var x,v,j,N,E,I,w;return hB(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),N=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,d,{getState:h,extra:f}),LB(N)?[4,N]:[3,2];case 1:N=_.sent(),_.label=2;case 2:if(N===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(S,P){return g.signal.addEventListener("abort",function(){return P({name:"AbortError",message:y||"Aborted"})})}),u(i(p,d,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:p,arg:d},{getState:h,extra:f}))),[4,Promise.race([E,Promise.resolve(n(d,{dispatch:u,getState:h,extra:f,requestId:p,signal:g.signal,abort:b,rejectWithValue:function(S,P){return new Ap(S,P)},fulfillWithValue:function(S,P){return new f_(S,P)}})).then(function(S){if(S instanceof Ap)throw S;return S instanceof f_?s(S.payload,p,d,S.meta):s(S,p,d)})])];case 3:return j=_.sent(),[3,5];case 4:return I=_.sent(),j=I instanceof Ap?o(null,p,d,I.payload,I.meta):o(I,p,d),[3,5];case 5:return w=r&&!r.dispatchConditionRejection&&o.match(j)&&j.meta.condition,w||u(j),[2,j]}})})}();return Object.assign(m,{abort:b,requestId:p,arg:d,unwrap:function(){return m.then(OB)}})}}return Object.assign(c,{pending:i,rejected:o,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function OB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function LB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ax="listenerMiddleware";Ys(Ax+"/add");Ys(Ax+"/removeAll");Ys(Ax+"/remove");var p_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);tB();const m_={email:"",userType:"",isVarified:!1},iC=Bt({name:"UserAuth",initialState:m_,reducers:{getUserAuthSuccessAction:(t,e)=>({...t,email:e.payload.email,userType:e.payload.userType,isVarified:e.payload.isVarified}),getUserAuthLogoutAction:t=>({...t,initialState:m_})}}),{getUserAuthSuccessAction:MB,getUserAuthLogoutAction:g_}=iC.actions,v_={data:[]},aC=Bt({name:"News",initialState:v_,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=v_.data}}}),{getNewsSuccessAction:VB,getNewsFailedAction:yq}=aC.actions,y_={data:[]},oC=Bt({name:"Slider",initialState:y_,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=y_.data}}}),{getSliderSuccessAction:FB,getSliderFailedAction:xq}=oC.actions,x_={data:[]},lC=Bt({name:"Publications",initialState:x_,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=x_.data}}}),{getPublicationsSuccessAction:UB,getPublicationsFailedAction:bq}=lC.actions,b_={data:[]},cC=Bt({name:"Supervisors",initialState:b_,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=b_.data}}}),{getSupervisorsSuccessAction:$B,getSupervisorsFailedAction:wq}=cC.actions,w_={data:[]},dC=Bt({name:"Phd",initialState:w_,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=w_.data}}}),{getPhdSuccessAction:BB,getPhdFailedAction:_q}=dC.actions,__={data:[]},uC=Bt({name:"PHUG",initialState:__,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=__.data}}}),{getPHUGSuccessAction:zB,getPHUGFailedAction:jq}=uC.actions,j_={data:[]},hC=Bt({name:"VisitorsAndInterns",initialState:j_,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=j_.data}}}),{getVisitorsAndInternsSuccessAction:HB,getVisitorsAndInternsFailedAction:Eq}=hC.actions,E_={data:[]},fC=Bt({name:"Datasets",initialState:E_,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=E_.data}}}),{getDatasetsSuccessAction:WB,getDatasetsFailedAction:Sq}=fC.actions,S_={data:[]},pC=Bt({name:"ResearchArea",initialState:S_,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=S_.data}}}),{getResearchAreaSuccessAction:qB,getResearchAreaFailedAction:Nq}=pC.actions,N_={data:[]},mC=Bt({name:"SubAreas",initialState:N_,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=N_.data}}}),{getSubAreasSuccessAction:GB,getSubAreasFailedAction:Tq}=mC.actions,T_={data:[]},gC=Bt({name:"ProjectsItems",initialState:T_,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=T_.data}}}),{getProjectsItemsSuccessAction:KB,getProjectsItemsFailedAction:Iq}=gC.actions,I_={data:[]},vC=Bt({name:"ProjectsMain",initialState:I_,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=I_.data}}}),{getProjectsMainSuccessAction:YB,getProjectsMainFailedAction:Cq}=vC.actions,C_={data:[]},yC=Bt({name:"Gallery",initialState:C_,reducers:{getGallerySuccessAction:(t,e)=>{t.data=e.payload},getGalleryFailedAction:t=>{t.data=C_.data}}}),{getGallerySuccessAction:QB,getGalleryFailedAction:Aq}=yC.actions,A_={data:[]},xC=Bt({name:"Datasets",initialState:A_,reducers:{getAlertsSuccessAction:(t,e)=>{t.data=e.payload},getAlertsFailedAction:t=>{t.data=A_.data}}}),{getAlertsSuccessAction:bC,getAlertsFailedAction:Pq}=xC.actions,P_={data:[]},wC=Bt({name:"ProjectsImages",initialState:P_,reducers:{getProjectsImagesSuccessAction:(t,e)=>{t.data=e.payload},getProjectsImagesFailedAction:t=>{t.data=P_.data}}}),{getProjectsImagesSuccessAction:XB,getProjectsImagesFailedAction:kq}=wC.actions,k_={data:null},_C=Bt({name:"SiteSettings",initialState:k_,reducers:{getSiteSettingsSuccessAction:(t,e)=>({...t,data:e.payload}),getSiteSettingsErrorAction:t=>({...t,initialState:k_})}}),{getSiteSettingsSuccessAction:JB,getSiteSettingsErrorAction:ZB}=_C.actions,ez=eC({getsettings:_C.reducer,getauth:iC.reducer,getnews:aC.reducer,getslider:oC.reducer,getpublications:lC.reducer,getsupervisors:cC.reducer,getphdStudents:dC.reducer,getpgugStudents:uC.reducer,getvisitorsandinterns:hC.reducer,getdatasets:fC.reducer,getresearcharea:pC.reducer,getsubareas:mC.reducer,getprojectitems:gC.reducer,getprojectsmain:vC.reducer,getgallery:yC.reducer,getalerts:xC.reducer,getprojectsimages:wC.reducer});var Px="persist:",jC="persist/FLUSH",kx="persist/REHYDRATE",EC="persist/PAUSE",SC="persist/PERSIST",NC="persist/PURGE",TC="persist/REGISTER",tz=-1;function Jd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jd=function(n){return typeof n}:Jd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jd(t)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(n,!0).forEach(function(r){rz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sz(t,e,n,r){r.debug;var s=nz({},n);return t&&Jd(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function iz(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:Px).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(N){return N}:typeof t.serialize=="function"?l=t.serialize:l=az;var c=t.writeFailHandler||null,d={},u={},h=[],f=null,p=null,g=function(N){Object.keys(N).forEach(function(E){m(E)&&d[E]!==N[E]&&h.indexOf(E)===-1&&h.push(E)}),Object.keys(d).forEach(function(E){N[E]===void 0&&m(E)&&h.indexOf(E)===-1&&d[E]!==void 0&&h.push(E)}),f===null&&(f=setInterval(y,s)),d=N};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var j=h.shift(),N=r.reduce(function(E,I){return I.in(E,j,d)},d[j]);if(N!==void 0)try{u[j]=l(N)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete u[j];h.length===0&&b()}function b(){Object.keys(u).forEach(function(j){d[j]===void 0&&delete u[j]}),p=o.setItem(i,l(u)).catch(x)}function m(j){return!(n&&n.indexOf(j)===-1&&j!=="_persist"||e&&e.indexOf(j)!==-1)}function x(j){c&&c(j)}var v=function(){for(;h.length!==0;)y();return p||Promise.resolve()};return{update:g,flush:v}}function az(t){return JSON.stringify(t)}function oz(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Px).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(o){return o}:typeof t.deserialize=="function"?s=t.deserialize:s=lz,r.getItem(n).then(function(i){if(i)try{var o={},l=s(i);return Object.keys(l).forEach(function(c){o[c]=e.reduceRight(function(d,u){return u.out(d,c,l)},s(l[c]))}),o}catch(c){throw c}else return})}function lz(t){return JSON.parse(t)}function cz(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Px).concat(t.key);return e.removeItem(n,dz)}function dz(t){}function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(n,!0).forEach(function(r){uz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hz(t,e){if(t==null)return{};var n=fz(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var pz=5e3;function mz(t,e){var n=t.version!==void 0?t.version:tz;t.debug;var r=t.stateReconciler===void 0?sz:t.stateReconciler,s=t.getStoredState||oz,i=t.timeout!==void 0?t.timeout:pz,o=null,l=!1,c=!0,d=function(h){return h._persist.rehydrated&&o&&!c&&o.update(h),h};return function(u,h){var f=u||{},p=f._persist,g=hz(f,["_persist"]),y=g;if(h.type===SC){var b=!1,m=function(w,_){b||(h.rehydrate(t.key,w,_),b=!0)};if(i&&setTimeout(function(){!b&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,o||(o=iz(t)),p)return Hr({},e(y,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(I){var w=t.migrate||function(_,S){return Promise.resolve(_)};w(I,n).then(function(_){m(_)},function(_){m(void 0,_)})},function(I){m(void 0,I)}),Hr({},e(y,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===NC)return l=!0,h.result(cz(t)),Hr({},e(y,h),{_persist:p});if(h.type===jC)return h.result(o&&o.flush()),Hr({},e(y,h),{_persist:p});if(h.type===EC)c=!0;else if(h.type===kx){if(l)return Hr({},y,{_persist:Hr({},p,{rehydrated:!0})});if(h.key===t.key){var x=e(y,h),v=h.payload,j=r!==!1&&v!==void 0?r(v,u,x,t):x,N=Hr({},j,{_persist:Hr({},p,{rehydrated:!0})});return d(N)}}}if(!p)return e(u,h);var E=e(y,h);return E===y?u:d(Hr({},E,{_persist:p}))}}function O_(t){return yz(t)||vz(t)||gz()}function gz(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function vz(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function yz(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function L_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L_(n,!0).forEach(function(r){xz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IC={registry:[],bootstrapped:!1},bz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:IC,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case TC:return Pg({},e,{registry:[].concat(O_(e.registry),[n.key])});case kx:var r=e.registry.indexOf(n.key),s=O_(e.registry);return s.splice(r,1),Pg({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function wz(t,e,n){var r=n||!1,s=Cx(bz,IC,e&&e.enhancer?e.enhancer:void 0),i=function(d){s.dispatch({type:TC,key:d})},o=function(d,u,h){var f={type:kx,payload:u,err:h,key:d};t.dispatch(f),s.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=Pg({},s,{purge:function(){var d=[];return t.dispatch({type:NC,result:function(h){d.push(h)}}),Promise.all(d)},flush:function(){var d=[];return t.dispatch({type:jC,result:function(h){d.push(h)}}),Promise.all(d)},pause:function(){t.dispatch({type:EC})},persist:function(){t.dispatch({type:SC,register:i,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var CC={},Rx={},Dx={};Object.defineProperty(Dx,"__esModule",{value:!0});function Nd(){}const _z={getItem:Nd,setItem:Nd,removeItem:Nd,keys:[],getAllKeys:Nd};function jz(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function Ez(t){const e=`${t}Storage`;return jz(e)?self[e]:_z}Dx.default=Ez;var Sz=kl&&kl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rx,"__esModule",{value:!0});const Nz=Sz(Dx);function Tz(t){const e=(0,Nz.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(s=>{s(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}Rx.default=Tz;var Iz=kl&&kl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(CC,"__esModule",{value:!0});const Cz=Iz(Rx),Az=(0,Cz.default)("session");var Pz=CC.default=Az;const kz={key:"root",storage:Pz},Rz=mz(kz,ez),ot=TB({reducer:Rz,middleware:[Cg]}),Dz=wz(ot),Do=async()=>{try{const t=re(W,"publications"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ot.dispatch(UB(n))}catch(t){console.error("Error fetching Publications:",t)}};async function Oz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=_e(W,"publications",t);await hn(e),alert("Publications deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Publications!")}}}var AC={exports:{}},PC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=T;function Lz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mz=typeof Object.is=="function"?Object.is:Lz,Vz=Kc.useSyncExternalStore,Fz=Kc.useRef,Uz=Kc.useEffect,$z=Kc.useMemo,Bz=Kc.useDebugValue;PC.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Fz(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$z(function(){function c(p){if(!d){if(d=!0,u=p,p=r(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return h=g}return h=p}if(g=h,Mz(u,p))return g;var y=r(p);return s!==void 0&&s(g,y)?g:(u=p,h=y)}var d=!1,u,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=Vz(t,i[0],i[1]);return Uz(function(){o.hasValue=!0,o.value=l},[l]),Bz(l),l};AC.exports=PC;var zz=AC.exports,Pn="default"in Yp?ke:Yp,M_=Symbol.for("react-redux-context"),V_=typeof globalThis<"u"?globalThis:{};function Hz(){if(!Pn.createContext)return{};const t=V_[M_]??(V_[M_]=new Map);let e=t.get(Pn.createContext);return e||(e=Pn.createContext(null),t.set(Pn.createContext,e)),e}var ri=Hz(),Wz=()=>{throw new Error("uSES not initialized!")};function Ox(t=ri){return function(){return Pn.useContext(t)}}var kC=Ox(),RC=Wz,qz=t=>{RC=t},Gz=(t,e)=>t===e;function Kz(t=ri){const e=t===ri?kC:Ox(t),n=(r,s={})=>{const{equalityFn:i=Gz,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:d,stabilityCheck:u,identityFunctionCheck:h}=e();Pn.useRef(!0);const f=Pn.useCallback({[r.name](g){return r(g)}}[r.name],[r,u,o.stabilityCheck]),p=RC(c.addNestedSub,l.getState,d||l.getState,f,i);return Pn.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var K=Kz();function Yz(t){t()}function Qz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Yz(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var F_={notify(){},get:()=>[]};function Xz(t,e){let n,r=F_,s=0,i=!1;function o(y){u();const b=r.subscribe(y);let m=!1;return()=>{m||(m=!0,b(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=Qz())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=F_)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,h())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var Jz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zz=Jz?Pn.useLayoutEffect:Pn.useEffect;function e9({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=Pn.useMemo(()=>{const d=Xz(t);return{store:t,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=Pn.useMemo(()=>t.getState(),[t]);Zz(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=e||ri;return Pn.createElement(c.Provider,{value:o},n)}var t9=e9;function DC(t=ri){const e=t===ri?kC:Ox(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var n9=DC();function r9(t=ri){const e=t===ri?n9:DC(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var s9=r9();qz(zz.useSyncExternalStoreWithSelector);const fs=async()=>{try{const t=re(W,"supervisors"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null,l=i.profileImage,c=l?await i9(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),ot.dispatch($B(n))}catch(t){console.error("Error fetching Supervisors:",t)}},i9=async t=>{try{const e=Ce(Ae,`/peoples/supervisor_profile_images/${t}`);return await Br(e)}catch{return null}};async function a9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=_e(W,"supervisors",t),s=(await Zn(e)).data().profileImage;if(await hn(e),s){const i=Ce(Ae,`/peoples/supervisor_profile_images/${s}`);await yr(i)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Supervisors!")}}}var OC={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(kl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,o={},l=0,c={parse:function(w,_){var S=(_=_||{}).dynamicTyping||!1;if(I(S)&&(_.dynamicTypingFunction=S,S={}),_.dynamicTyping=S,_.transform=!!I(_.transform)&&_.transform,_.worker&&c.WORKERS_SUPPORTED){var P=function(){if(!c.WORKERS_SUPPORTED)return!1;var R=(B=r.URL||r.webkitURL||null,L=n.toString(),c.BLOB_URL||(c.BLOB_URL=B.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))),V=new r.Worker(R),B,L;return V.onmessage=x,V.id=l++,o[V.id]=V}();return P.userStep=_.step,P.userChunk=_.chunk,P.userComplete=_.complete,P.userError=_.error,_.step=I(_.step),_.chunk=I(_.chunk),_.complete=I(_.complete),_.error=I(_.error),delete _.worker,void P.postMessage({input:w,config:_,workerId:P.id})}var C=null;return c.NODE_STREAM_INPUT,typeof w=="string"?(w=function(R){return R.charCodeAt(0)===65279?R.slice(1):R}(w),C=_.download?new h(_):new p(_)):w.readable===!0&&I(w.read)&&I(w.on)?C=new g(_):(r.File&&w instanceof File||w instanceof Object)&&(C=new f(_)),C.stream(w)},unparse:function(w,_){var S=!1,P=!0,C=",",R=`\r
`,V='"',B=V+V,L=!1,A=null,D=!1;(function(){if(typeof _=="object"){if(typeof _.delimiter!="string"||c.BAD_DELIMITERS.filter(function(O){return _.delimiter.indexOf(O)!==-1}).length||(C=_.delimiter),(typeof _.quotes=="boolean"||typeof _.quotes=="function"||Array.isArray(_.quotes))&&(S=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(L=_.skipEmptyLines),typeof _.newline=="string"&&(R=_.newline),typeof _.quoteChar=="string"&&(V=_.quoteChar),typeof _.header=="boolean"&&(P=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");A=_.columns}_.escapeChar!==void 0&&(B=_.escapeChar+V),(typeof _.escapeFormulae=="boolean"||_.escapeFormulae instanceof RegExp)&&(D=_.escapeFormulae instanceof RegExp?_.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var M=new RegExp(b(V),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return U(null,w,L);if(typeof w[0]=="object")return U(A||Object.keys(w[0]),w,L)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||A),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),U(w.fields||[],w.data||[],L);throw new Error("Unable to serialize unrecognized input");function U(O,F,J){var se="";typeof O=="string"&&(O=JSON.parse(O)),typeof F=="string"&&(F=JSON.parse(F));var he=Array.isArray(O)&&0<O.length,xe=!Array.isArray(F[0]);if(he&&P){for(var Me=0;Me<O.length;Me++)0<Me&&(se+=C),se+=z(O[Me],Me);0<F.length&&(se+=R)}for(var ie=0;ie<F.length;ie++){var ye=he?O.length:F[ie].length,Y=!1,ve=he?Object.keys(F[ie]).length===0:F[ie].length===0;if(J&&!he&&(Y=J==="greedy"?F[ie].join("").trim()==="":F[ie].length===1&&F[ie][0].length===0),J==="greedy"&&he){for(var fe=[],Le=0;Le<ye;Le++){var Ee=xe?O[Le]:Le;fe.push(F[ie][Ee])}Y=fe.join("").trim()===""}if(!Y){for(var ae=0;ae<ye;ae++){0<ae&&!ve&&(se+=C);var Pe=he&&xe?O[ae]:ae;se+=z(F[ie][Pe],ae)}ie<F.length-1&&(!J||0<ye&&!ve)&&(se+=R)}}return se}function z(O,F){if(O==null)return"";if(O.constructor===Date)return JSON.stringify(O).slice(1,25);var J=!1;D&&typeof O=="string"&&D.test(O)&&(O="'"+O,J=!0);var se=O.toString().replace(M,B);return(J=J||S===!0||typeof S=="function"&&S(O,F)||Array.isArray(S)&&S[F]||function(he,xe){for(var Me=0;Me<xe.length;Me++)if(-1<he.indexOf(xe[Me]))return!0;return!1}(se,c.BAD_DELIMITERS)||-1<se.indexOf(C)||se.charAt(0)===" "||se.charAt(se.length-1)===" ")?V+se+V:se}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=y,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var d=r.jQuery;d.fn.parse=function(w){var _=w.config||{},S=[];return this.each(function(R){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)S.push({file:this.files[V],inputElem:this,instanceConfig:d.extend({},_)})}),P(),this;function P(){if(S.length!==0){var R,V,B,L,A=S[0];if(I(w.before)){var D=w.before(A.file,A.inputElem);if(typeof D=="object"){if(D.action==="abort")return R="AbortError",V=A.file,B=A.inputElem,L=D.reason,void(I(w.error)&&w.error({name:R},V,B,L));if(D.action==="skip")return void C();typeof D.config=="object"&&(A.instanceConfig=d.extend(A.instanceConfig,D.config))}else if(D==="skip")return void C()}var M=A.instanceConfig.complete;A.instanceConfig.complete=function(U){I(M)&&M(U,A.file,A.inputElem),C()},c.parse(A.file,A.instanceConfig)}else I(w.complete)&&w.complete()}function C(){S.splice(0,1),P()}}}function u(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var S=N(_);S.chunkSize=parseInt(S.chunkSize),_.step||_.chunk||(S.chunkSize=null),this._handle=new y(S),(this._handle.streamer=this)._config=S}).call(this,w),this.parseChunk=function(_,S){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var P=this._config.beforeFirstChunk(_);P!==void 0&&(_=P)}this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+_;this._partialLine="";var R=this._handle.parse(C,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var V=R.meta.cursor;this._finished||(this._partialLine=C.substring(V-this._baseIndex),this._baseIndex=V),R&&R.data&&(this._rowCount+=R.data.length);var B=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:R,workerId:c.WORKER_ID,finished:B});else if(I(this._config.chunk)&&!S){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);R=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!B||!I(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(_){I(this._config.error)?this._config.error(_):i&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:_,finished:!1})}}function h(w){var _;(w=w||{}).chunkSize||(w.chunkSize=c.RemoteChunkSize),u.call(this,w),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),s||(_.onload=E(this._chunkLoaded,this),_.onerror=E(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var S=this._config.downloadRequestHeaders;for(var P in S)_.setRequestHeader(P,S[P])}if(this._config.chunkSize){var C=this._start+this._config.chunkSize-1;_.setRequestHeader("Range","bytes="+this._start+"-"+C)}try{_.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}s&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:_.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(S){var P=S.getResponseHeader("Content-Range");return P===null?-1:parseInt(P.substring(P.lastIndexOf("/")+1))}(_),this.parseChunk(_.responseText)))},this._chunkError=function(S){var P=_.statusText||S;this._sendError(new Error(P))}}function f(w){var _,S;(w=w||{}).chunkSize||(w.chunkSize=c.LocalChunkSize),u.call(this,w);var P=typeof FileReader<"u";this.stream=function(C){this._input=C,S=C.slice||C.webkitSlice||C.mozSlice,P?((_=new FileReader).onload=E(this._chunkLoaded,this),_.onerror=E(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input;if(this._config.chunkSize){var R=Math.min(this._start+this._config.chunkSize,this._input.size);C=S.call(C,this._start,R)}var V=_.readAsText(C,this._config.encoding);P||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(_.error)}}function p(w){var _;u.call(this,w=w||{}),this.stream=function(S){return _=S,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var S,P=this._config.chunkSize;return P?(S=_.substring(0,P),_=_.substring(P)):(S=_,_=""),this._finished=!_,this.parseChunk(S)}}}function g(w){u.call(this,w=w||{});var _=[],S=!0,P=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):S=!0},this._streamData=E(function(C){try{_.push(typeof C=="string"?C:C.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(R){this._streamError(R)}},this),this._streamError=E(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=E(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(w){var _,S,P,C=Math.pow(2,53),R=-C,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,A=0,D=0,M=!1,U=!1,z=[],O={data:[],errors:[],meta:{}};if(I(w.step)){var F=w.step;w.step=function(ie){if(O=ie,he())se();else{if(se(),O.data.length===0)return;A+=ie.data.length,w.preview&&A>w.preview?S.abort():(O.data=O.data[0],F(O,L))}}}function J(ie){return w.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function se(){return O&&P&&(Me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),P=!1),w.skipEmptyLines&&(O.data=O.data.filter(function(ie){return!J(ie)})),he()&&function(){if(!O)return;function ie(Y,ve){I(w.transformHeader)&&(Y=w.transformHeader(Y,ve)),z.push(Y)}if(Array.isArray(O.data[0])){for(var ye=0;he()&&ye<O.data.length;ye++)O.data[ye].forEach(ie);O.data.splice(0,1)}else O.data.forEach(ie)}(),function(){if(!O||!w.header&&!w.dynamicTyping&&!w.transform)return O;function ie(Y,ve){var fe,Le=w.header?{}:[];for(fe=0;fe<Y.length;fe++){var Ee=fe,ae=Y[fe];w.header&&(Ee=fe>=z.length?"__parsed_extra":z[fe]),w.transform&&(ae=w.transform(ae,Ee)),ae=xe(Ee,ae),Ee==="__parsed_extra"?(Le[Ee]=Le[Ee]||[],Le[Ee].push(ae)):Le[Ee]=ae}return w.header&&(fe>z.length?Me("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+fe,D+ve):fe<z.length&&Me("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+fe,D+ve)),Le}var ye=1;return!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(ie),ye=O.data.length):O.data=ie(O.data,0),w.header&&O.meta&&(O.meta.fields=z),D+=ye,O}()}function he(){return w.header&&z.length===0}function xe(ie,ye){return Y=ie,w.dynamicTypingFunction&&w.dynamicTyping[Y]===void 0&&(w.dynamicTyping[Y]=w.dynamicTypingFunction(Y)),(w.dynamicTyping[Y]||w.dynamicTyping)===!0?ye==="true"||ye==="TRUE"||ye!=="false"&&ye!=="FALSE"&&(function(ve){if(V.test(ve)){var fe=parseFloat(ve);if(R<fe&&fe<C)return!0}return!1}(ye)?parseFloat(ye):B.test(ye)?new Date(ye):ye===""?null:ye):ye;var Y}function Me(ie,ye,Y,ve){var fe={type:ie,code:ye,message:Y};ve!==void 0&&(fe.row=ve),O.errors.push(fe)}this.parse=function(ie,ye,Y){var ve=w.quoteChar||'"';if(w.newline||(w.newline=function(Ee,ae){Ee=Ee.substring(0,1048576);var Pe=new RegExp(b(ae)+"([^]*?)"+b(ae),"gm"),ee=(Ee=Ee.replace(Pe,"")).split("\r"),He=Ee.split(`
`),nn=1<He.length&&He[0].length<ee[0].length;if(ee.length===1||nn)return`
`;for(var rn=0,Fe=0;Fe<ee.length;Fe++)ee[Fe][0]===`
`&&rn++;return rn>=ee.length/2?`\r
`:"\r"}(ie,ve)),P=!1,w.delimiter)I(w.delimiter)&&(w.delimiter=w.delimiter(ie),O.meta.delimiter=w.delimiter);else{var fe=function(Ee,ae,Pe,ee,He){var nn,rn,Fe,rt;He=He||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var xr=0;xr<He.length;xr++){var G=He[xr],Ue=0,Ve=0,zt=0;Fe=void 0;for(var Sn=new m({comments:ee,delimiter:G,newline:ae,preview:10}).parse(Ee),nr=0;nr<Sn.data.length;nr++)if(Pe&&J(Sn.data[nr]))zt++;else{var rr=Sn.data[nr].length;Ve+=rr,Fe!==void 0?0<rr&&(Ue+=Math.abs(rr-Fe),Fe=rr):Fe=rr}0<Sn.data.length&&(Ve/=Sn.data.length-zt),(rn===void 0||Ue<=rn)&&(rt===void 0||rt<Ve)&&1.99<Ve&&(rn=Ue,nn=G,rt=Ve)}return{successful:!!(w.delimiter=nn),bestDelimiter:nn}}(ie,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);fe.successful?w.delimiter=fe.bestDelimiter:(P=!0,w.delimiter=c.DefaultDelimiter),O.meta.delimiter=w.delimiter}var Le=N(w);return w.preview&&w.header&&Le.preview++,_=ie,S=new m(Le),O=S.parse(_,ye,Y),se(),M?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,S.abort(),_=I(w.chunk)?"":_.substring(S.getCharIndex())},this.resume=function(){L.streamer._halted?(M=!1,L.streamer.parseChunk(_,!0)):setTimeout(L.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,S.abort(),O.meta.aborted=!0,I(w.complete)&&w.complete(O),_=""}}function b(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(w){var _,S=(w=w||{}).delimiter,P=w.newline,C=w.comments,R=w.step,V=w.preview,B=w.fastMode,L=_=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(L=w.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),C===S)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var A=0,D=!1;this.parse=function(M,U,z){if(typeof M!="string")throw new Error("Input must be a string");var O=M.length,F=S.length,J=P.length,se=C.length,he=I(R),xe=[],Me=[],ie=[],ye=A=0;if(!M)return Un();if(w.header&&!U){var Y=M.split(P)[0].split(S),ve=[],fe={},Le=!1;for(var Ee in Y){var ae=Y[Ee];I(w.transformHeader)&&(ae=w.transformHeader(ae,Ee));var Pe=ae,ee=fe[ae]||0;for(0<ee&&(Le=!0,Pe=ae+"_"+ee),fe[ae]=ee+1;ve.includes(Pe);)Pe=Pe+"_"+ee;ve.push(Pe)}if(Le){var He=M.split(P);He[0]=ve.join(S),M=He.join(P)}}if(B||B!==!1&&M.indexOf(_)===-1){for(var nn=M.split(P),rn=0;rn<nn.length;rn++){if(ie=nn[rn],A+=ie.length,rn!==nn.length-1)A+=P.length;else if(z)return Un();if(!C||ie.substring(0,se)!==C){if(he){if(xe=[],zt(ie.split(S)),Xc(),D)return Un()}else zt(ie.split(S));if(V&&V<=rn)return xe=xe.slice(0,V),Un(!0)}}return Un()}for(var Fe=M.indexOf(S,A),rt=M.indexOf(P,A),xr=new RegExp(b(L)+b(_),"g"),G=M.indexOf(_,A);;)if(M[A]!==_)if(C&&ie.length===0&&M.substring(A,A+se)===C){if(rt===-1)return Un();A=rt+J,rt=M.indexOf(P,A),Fe=M.indexOf(S,A)}else if(Fe!==-1&&(Fe<rt||rt===-1))ie.push(M.substring(A,Fe)),A=Fe+F,Fe=M.indexOf(S,A);else{if(rt===-1)break;if(ie.push(M.substring(A,rt)),rr(rt+J),he&&(Xc(),D))return Un();if(V&&xe.length>=V)return Un(!0)}else for(G=A,A++;;){if((G=M.indexOf(_,G+1))===-1)return z||Me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:A}),nr();if(G===O-1)return nr(M.substring(A,G).replace(xr,_));if(_!==L||M[G+1]!==L){if(_===L||G===0||M[G-1]!==L){Fe!==-1&&Fe<G+1&&(Fe=M.indexOf(S,G+1)),rt!==-1&&rt<G+1&&(rt=M.indexOf(P,G+1));var Ue=Sn(rt===-1?Fe:Math.min(Fe,rt));if(M.substr(G+1+Ue,F)===S){ie.push(M.substring(A,G).replace(xr,_)),M[A=G+1+Ue+F]!==_&&(G=M.indexOf(_,A)),Fe=M.indexOf(S,A),rt=M.indexOf(P,A);break}var Ve=Sn(rt);if(M.substring(G+1+Ve,G+1+Ve+J)===P){if(ie.push(M.substring(A,G).replace(xr,_)),rr(G+1+Ve+J),Fe=M.indexOf(S,A),G=M.indexOf(_,A),he&&(Xc(),D))return Un();if(V&&xe.length>=V)return Un(!0);break}Me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:A}),G++}}else G++}return nr();function zt($n){xe.push($n),ye=A}function Sn($n){var Xx=0;if($n!==-1){var Sf=M.substring(G+1,$n);Sf&&Sf.trim()===""&&(Xx=Sf.length)}return Xx}function nr($n){return z||($n===void 0&&($n=M.substring(A)),ie.push($n),A=O,zt(ie),he&&Xc()),Un()}function rr($n){A=$n,zt(ie),ie=[],rt=M.indexOf(P,A)}function Un($n){return{data:xe,errors:Me,meta:{delimiter:S,linebreak:P,aborted:D,truncated:!!$n,cursor:ye+(U||0)}}}function Xc(){R(Un()),xe=[],Me=[]}},this.abort=function(){D=!0},this.getCharIndex=function(){return A}}function x(w){var _=w.data,S=o[_.workerId],P=!1;if(_.error)S.userError(_.error,_.file);else if(_.results&&_.results.data){var C={abort:function(){P=!0,v(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(I(S.userStep)){for(var R=0;R<_.results.data.length&&(S.userStep({data:_.results.data[R],errors:_.results.errors,meta:_.results.meta},C),!P);R++);delete _.results}else I(S.userChunk)&&(S.userChunk(_.results,C,_.file),delete _.results)}_.finished&&!P&&v(_.workerId,_.results)}function v(w,_){var S=o[w];I(S.userComplete)&&S.userComplete(_),S.terminate(),delete o[w]}function j(){throw new Error("Not implemented.")}function N(w){if(typeof w!="object"||w===null)return w;var _=Array.isArray(w)?[]:{};for(var S in w)_[S]=N(w[S]);return _}function E(w,_){return function(){w.apply(_,arguments)}}function I(w){return typeof w=="function"}return i&&(r.onmessage=function(w){var _=w.data;if(c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0});else if(r.File&&_.input instanceof File||_.input instanceof Object){var S=c.parse(_.input,_.config);S&&r.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}}),(h.prototype=Object.create(u.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(OC);var o9=OC.exports;const LC=wo(o9);function MC(t,e,n){const r=t+e,s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(s);i.setAttribute("href",o),i.setAttribute("download",`${n}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const l9=`Type of Article,Authors,Paper Title,Publisher,Publication Year,Name of Journal,Volume,DOI Link,Impact Factor,No. of Pages,ISBN
`,c9=`Conference,"Kulkarni A, Phutke SS, Vipparthi SK, Murala S",C2AIR: Consolidated Compact Aerial Image Haze Removal,IEEE Transactions on Cognitive and Developmental Systems,2020,Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision,4,304-402,7,300,5
`;let Td;const d9=new Uint8Array(16);function u9(){if(!Td&&(Td=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Td))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Td(d9)}const kt=[];for(let t=0;t<256;++t)kt.push((t+256).toString(16).slice(1));function h9(t,e=0){return kt[t[e+0]]+kt[t[e+1]]+kt[t[e+2]]+kt[t[e+3]]+"-"+kt[t[e+4]]+kt[t[e+5]]+"-"+kt[t[e+6]]+kt[t[e+7]]+"-"+kt[t[e+8]]+kt[t[e+9]]+"-"+kt[t[e+10]]+kt[t[e+11]]+kt[t[e+12]]+kt[t[e+13]]+kt[t[e+14]]+kt[t[e+15]]}const f9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),U_={randomUUID:f9};function Lx(t,e,n){if(U_.randomUUID&&!e&&!t)return U_.randomUUID();t=t||{};const r=t.random||(t.rng||u9)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return h9(r)}const k=(t,e)=>{const n=ot.getState().getalerts.data;ot.dispatch(bC([...n,{id:Lx(),type:t,content:e}]))},wf=({entry:t,id:e})=>a.jsxs("div",{children:[a.jsxs("p",{children:[t==null?void 0:t.author,", ",a.jsxs("strong",{children:['"',t==null?void 0:t.title,',"']})," in"," ",t==null?void 0:t.booktitle,(t==null?void 0:t.journal)&&`, ${t==null?void 0:t.journal}`,(t==null?void 0:t.volume)&&`, vol. ${t==null?void 0:t.volume}`,(t==null?void 0:t.number)&&`, no. ${t==null?void 0:t.number}`,(t==null?void 0:t.pages)&&`, pp. ${t==null?void 0:t.pages}`,(t==null?void 0:t.year)&&`, ${t==null?void 0:t.year}`,t.doi&&a.jsxs(a.Fragment,{children:[","," ",a.jsxs("a",{href:`https://doi.org/${t.doi}`,target:"_blank",rel:"noopener noreferrer",children:["doi: ",t.doi]})]})]}),a.jsxs("p",{children:["Keywords: ","{ "+(t==null?void 0:t.keywords)+" }",", Abstract:"," ",a.jsx("a",{className:"text-shade2 my-0 py-0","data-bs-toggle":"collapse",href:"#collapseExample"+e,role:"button","aria-expanded":"false","aria-controls":"collapseExample"+e,children:"Click"})]}),a.jsx("p",{className:"collapse collapsed my-0",id:"collapseExample"+e,children:t==null?void 0:t.abstract})]}),ha=async()=>{try{const t=re(W,"phdStudents"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await m9(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),ot.dispatch(BB(n))}catch(t){console.error("Error fetching phd:",t)}};async function p9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=_e(W,"phdStudents",t);await hn(e),alert("phd item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting phd!")}}}const m9=async t=>{try{const e=Ce(Ae,`/peoples/phd_profile_images/${t}`);return await Br(e)}catch{return null}},Pp=["January","February","March","April","May","June","July","August","September","October","November","December"],g9=()=>{const t=K(A=>A.getpublications.data),e=K(A=>A.getauth),n=K(A=>A.getsupervisors.data),r=K(A=>A.getphdStudents.data),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(""),[g,y]=T.useState(""),[b,m]=T.useState(""),[x,v]=T.useState(""),[j,N]=T.useState(""),[E,I]=T.useState(""),[w,_]=T.useState(""),[S,P]=T.useState(""),[C,R]=T.useState([e==null?void 0:e.email]),[V,B]=T.useState(!1);T.useEffect(()=>{Do(),fs(),ha()},[]);const L=A=>{if(A.preventDefault(),!s||!o||!c||!u||!g||!b||!x||!j||!E||!w){k("danger","Please fill all required fields!");return}B(!0),nt(re(W,"publications"),{type:o,author:b,title:s,year:u,volume:j,journal:c,pages:x,abstract:S||"",doi:g||"",month:f||"",isbn:w||"",users:C}).then(()=>{k("success","Paper has been saved! You can view it in the admin panel."),B(!1),window.location.reload()}).catch(()=>{k("danger","Error adding Paper! Please try again later."),B(!1)})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"List of Publications"}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal_",children:"+ Add (By BibTeX)"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add (By Manual)"}),a.jsxs("button",{className:"btn btn-shade1 btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((A,D)=>{var M,U,z,O;if(!(!((U=(M=A==null?void 0:A.data)==null?void 0:M.users)!=null&&U.includes(e.email))&&!e.userType.includes("ADMIN")))return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(wf,{entry:A==null?void 0:A.data,id:A==null?void 0:A._id})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(z=e==null?void 0:e.userType)!=null&&z.includes("ADMIN")||(O=A==null?void 0:A.data)!=null&&O.users.some(F=>F==e.email)?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-primary",to:A==null?void 0:A._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>Oz(A._id),children:"Delete"})})]}):"NA"})]})})]},D)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"alert alert-warning rounded-0",children:["Manual addition of Research Paper is not recommended, please use the ",a.jsx("strong",{children:"BibTeX"})," format for adding of Paper."]}),a.jsxs("div",{className:"alert alert-info rounded-0",children:["If you want to add all fields of Research Paper, Try with"," ",a.jsx("strong",{children:"BibTeX"})," format."]}),a.jsxs("form",{onSubmit:L,noValidate:!0,children:[a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:s,onChange:A=>i(A.target.value),required:!0,disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{disabled:!e.userType.includes("ADMIN")||V,name:"userEmail",className:"form-control",onChange:A=>{const D=A.target.value;if(!(!C||D==""))if(D==="other"){let M=prompt("Please enter supervisor Email (ie. user@gmail.com):");M&&R([...C,M])}else C.includes(D)?alert("User with this name already existed."):R([...C,D])},children:[a.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((A,D)=>{var M,U,z;return a.jsxs("option",{value:(M=A==null?void 0:A.data)==null?void 0:M.email,children:[(U=A==null?void 0:A.data)==null?void 0:U.name,"-",(z=A==null?void 0:A.data)==null?void 0:z.email]},D)}),r==null?void 0:r.map((A,D)=>{var M,U,z,O,F,J;return a.jsxs("option",{value:(U=(M=A==null?void 0:A.data)==null?void 0:M.email)==null?void 0:U.stringValue,children:[(O=(z=A==null?void 0:A.data)==null?void 0:z.name)==null?void 0:O.stringValue,",",(J=(F=A==null?void 0:A.data)==null?void 0:F.email)==null?void 0:J.stringValue,", PHD Student"]},D)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:C==null?void 0:C.map((A,D)=>a.jsxs("span",{className:"badge bg-success",children:[A," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(e!=null&&e.userType.includes("ADMIN"))||V||(e==null?void 0:e.email)===A){k("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const M=C.filter(U=>U!==A);R(M)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},D))})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Paper",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"paperType",value:o,onChange:A=>l(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select type---"}),a.jsx("option",{value:"Conference",children:"Conference"}),a.jsx("option",{value:"Patent",children:"Patent"}),a.jsx("option",{value:"Journal",children:"Journal"}),a.jsx("option",{value:"Book",children:"Book"}),a.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),a.jsx("option",{value:"Publications",children:"Publications"})]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:c,onChange:A=>d(A.target.value),required:!0,disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between mb-2",children:[a.jsxs("div",{className:"col-md-4 pe-2",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:u,onChange:A=>h(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select year---"}),[...Array(40)].map((A,D)=>a.jsx("option",{value:2008+D,children:1990+D},D))]})]}),a.jsxs("div",{className:"col-md-4 pe-2",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Month",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:f,onChange:A=>p(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select year---"}),Pp==null?void 0:Pp.map((A,D)=>a.jsx("option",{value:A,children:A},D))]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link"}),a.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:g,onChange:A=>y(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Names of the Authors(Comma Separated)",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:A=>m(A.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:V})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Pages"}),a.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:x,onChange:A=>v(A.target.value),disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume"}),a.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:j,onChange:A=>N(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),a.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:E,onChange:A=>I(A.target.value),disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),a.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:w,onChange:A=>_(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Abstract"}),a.jsx("textarea",{rows:10,onChange:A=>P(A.target.value),value:S,className:"form-control",placeholder:"Research Abstract..",disabled:V})]}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:V,children:V?"Please Wait...":"Submit"})]})]})]})})}),a.jsx(y9,{getphd:r,getauth:e,getsupervisors:n,userEmail:e==null?void 0:e.email}),a.jsx(v9,{getsupervisors:n,userType:e==null?void 0:e.userType,getauth:e,getphd:r})]})},v9=({getsupervisors:t,getauth:e,getphd:n})=>{const[r,s]=T.useState(!1),[i,o]=T.useState([e==null?void 0:e.email]),[l,c]=T.useState(""),d=async()=>{var u;if(!i){k("danger","Please select users!");return}if(!l){k("danger","Please input BiBtex text!");return}try{s(!0);const h=/(?<variable>\w+)\s*=\s*{(.*?)(?:}|",|\d{4}\s*-\s*\d{4},)/g,f=l.matchAll(h),p={};for(const v of f)if(v.groups){const{variable:j}=v.groups,N=(u=v[2])==null?void 0:u.trim();p[j]=N}console.log(p);const g=/@\s*(\w+)\s*{/g,y=l.matchAll(g),b=[];for(const v of y){const j=v[1].toLowerCase();b.push(j)}if(!b[0]){k("danger","Invalid BibTeX format!"),s(!1);return}const m=_t(re(W,"publications"),Wn("title","==",p.title));if(!(await Ne(m)).empty){k("warning","A publication with the same title already exists."),s(!1);return}await nt(re(W,"publications"),{type:b[0]||"",author:p.author||"",booktitle:p.booktitle||"",title:p.title||"",year:parseInt(p.year)||0,volume:p.volume||"",number:p.number||"",pages:p.pages||"",abstract:p.abstract||"",keywords:p.keywords||"",doi:p.doi||"",issn:p.issn||"",month:p.month||"",journal:p.journal||"",editor:p.editor||"",edition:p.edition||"",series:p.series||"",address:p.address||"",isbn:p.isbn||"",institution:p.institution||"",school:p.school||"",organization:p.organization||"",howpublished:p.howpublished||"",users:i}).then(()=>{k("success","Research Paper has been saved"),s(!1),window.location.reload()}).catch(()=>{k("danger","Error adding Research Paper! Please try again later."),s(!1)})}catch{k("danger","Invalid BibTeX format!")}s(!1)};return a.jsx("div",{className:"modal fade",id:"exampleModal_",tabIndex:-1,"aria-labelledby":"exampleModalLabel_","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:"exampleModalLabel_",children:["Cite by ",a.jsx("cite",{children:'"BibTeX"'})]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsx("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:a.jsxs("div",{className:"col-md-12 alert alert-primary rounded-0",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{disabled:!e.userType.includes("ADMIN")||r,name:"userEmail",className:"form-control",onChange:u=>{const h=u.target.value;if(!(!i||h==""))if(h==="other"){let f=prompt("Please enter supervisor Email (ie. user@gmail.com):");f&&o([...i,f])}else i.includes(h)?alert("User with this name already existed."):o([...i,h])},children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((u,h)=>{var f,p,g;return a.jsxs("option",{value:(f=u==null?void 0:u.data)==null?void 0:f.email,children:[(p=u==null?void 0:u.data)==null?void 0:p.name,"-",(g=u==null?void 0:u.data)==null?void 0:g.email]},h)}),n==null?void 0:n.map((u,h)=>{var f,p,g,y,b,m;return a.jsxs("option",{value:(p=(f=u==null?void 0:u.data)==null?void 0:f.email)==null?void 0:p.stringValue,children:[(y=(g=u==null?void 0:u.data)==null?void 0:g.name)==null?void 0:y.stringValue,",",(m=(b=u==null?void 0:u.data)==null?void 0:b.email)==null?void 0:m.stringValue,", PHD Student"]},h)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:i==null?void 0:i.map((u,h)=>a.jsxs("span",{className:"badge bg-success",children:[u," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(e!=null&&e.userType.includes("ADMIN"))||r||(e==null?void 0:e.email)===u){k("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const f=i.filter(p=>p!==u);o(f)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},h))})]})}),a.jsxs("div",{className:"col-md-12 alert alert-warning rounded-0",children:[a.jsxs("div",{className:"",children:[" ",a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsxs("p",{children:["Please follow these steps to cite a publication with"," ",a.jsx("strong",{children:"BibTeX"}),":"]}),a.jsxs("ol",{children:[a.jsxs("li",{children:["Copy a ",a.jsx("strong",{children:"BibTeX"})," from a source website ie. IEEE."]}),a.jsxs("li",{children:["You can paste both with and without"," ",a.jsx("strong",{children:"Citation & Abstract"}),"."]}),a.jsx("li",{children:"Paste your BibTeX into the black colour box below."}),a.jsx("li",{children:'Click on the "Submit" button, and wait while processing.'})]}),a.jsx("hr",{})]}),a.jsx("div",{className:"w-100 mt-2 overflow-auto",children:a.jsx("textarea",{disabled:r,onChange:u=>c(u.target.value),rows:10,className:"form-control bg-dark text-warning rounded-1 placeholder-warning",placeholder:"Paste here.."})})]}),a.jsx("button",{className:"btn btn-dark p-3 w-100",onClick:d,disabled:r,children:r?"Please Wait...":"Submit"})]})]})})})},y9=({getsupervisors:t,userEmail:e,getauth:n,getphd:r})=>{const s=T.useRef(null),[i,o]=T.useState(!1),[l,c]=T.useState([e]),[d,u]=T.useState([]),h=g=>{var b;const y=(b=g.target.files)==null?void 0:b[0];y&&LC.parse(y,{complete:m=>{const x=m.data.filter(v=>Object.values(v).some(j=>j!==""));u(x)},header:!0})},f=async g=>{try{return!(await Ne(_t(re(W,"publications"),Wn("paperTitle","==",g)))).empty}catch{return!1}},p=async g=>{if(g.preventDefault(),!l.length){k("danger","Error! Please select supervisors.");return}if(!d.length){k("danger","ERROR! Invalid CSV File Selected.");return}o(!0);const y=d.map(async b=>{const m=Object.values(b);if(!await f(m[2]))return nt(re(W,"publications"),{paperTitle:m[2],paperType:m[0],publisher:m[3],publicationDate:m[4],link:m[7],author:m[1],journalName:m[5],pages:m[9],volume:m[6],impact:m[8],isbn:m[10],users:l})});await Promise.all(y),k("success","Publications have been saved!"),o(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Publications"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*(these publications will be shown for selected users)"})]}),a.jsxs("select",{disabled:!n.userType.includes("ADMIN")||i,name:"userEmail",className:"form-control",onChange:g=>{const y=g.target.value;if(!(!l||y==""))if(y==="other"){let b=prompt("Please enter supervisor Email (ie. user@gmail.com):");b&&c([...l,b])}else l.includes(y)?alert("User with this name already existed."):c([...l,y])},children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((g,y)=>{var b,m,x;return a.jsxs("option",{value:(b=g==null?void 0:g.data)==null?void 0:b.email,children:[(m=g==null?void 0:g.data)==null?void 0:m.name,"-",(x=g==null?void 0:g.data)==null?void 0:x.email]},y)}),r==null?void 0:r.map((g,y)=>{var b,m,x,v,j,N;return a.jsxs("option",{value:(m=(b=g==null?void 0:g.data)==null?void 0:b.email)==null?void 0:m.stringValue,children:[(v=(x=g==null?void 0:g.data)==null?void 0:x.name)==null?void 0:v.stringValue,",",(N=(j=g==null?void 0:g.data)==null?void 0:j.email)==null?void 0:N.stringValue,", PHD Student"]},y)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:l==null?void 0:l.map((g,y)=>a.jsxs("span",{className:"badge bg-success",children:[g," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(n!=null&&n.userType.includes("ADMIN"))||i||(n==null?void 0:n.email)===g){k("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const b=l.filter(m=>m!==g);c(b)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},y))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>MC(l9,c9,"sample_publications_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{ref:s,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:h})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:d.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(d[0]).map(g=>a.jsx("th",{children:g},g))})}),a.jsx("tbody",{children:d.map((g,y)=>a.jsx("tr",{children:Object.values(g).map((b,m)=>a.jsx("td",{children:b},m))},y))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:i,onClick:p,children:i?"Please Wait...":"Submit"})]})]})})})},Mx=async()=>{try{const t=re(W,"news"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.description.stringValue,c=i.timestamp.stringValue,d=i.title.stringValue;n.push({_id:o,title:d,datetime1:c,description:l})});await Promise.all(r),ot.dispatch(VB(n))}catch(t){console.error("Error fetching news:",t)}};async function x9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=_e(W,"news",t);await hn(e),alert("News item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting News!")}}}async function b9(t,e){try{const n=_e(W,"news",t),i={...(await Zn(n)).data(),...e};await UV(n,i,{merge:!0}),alert("News item edited successfully.")}catch(n){console.log(n),alert("Error editing news!")}}const $_=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:s,setTitle:i,submitHandler:o,_id:l})=>a.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog ",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>i(c.target.value),disabled:t,value:e})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),a.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",onChange:c=>s(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:o,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),w9=()=>{const t=K(h=>h.getnews).data,[e,n]=T.useState(),[r,s]=T.useState(),[i,o]=T.useState(),[l,c]=T.useState(!1);T.useEffect(()=>{Mx()},[]);const d=()=>{if(!e||!r||!i){k("danger","Please fill all required fields.");return}c(!0),nt(re(W,"news"),{title:r,timestamp:i,description:e}).then(()=>{k("success","News has been saved! You can view it in the admin panel."),s(""),n(""),c(!1),window.location.reload()}).catch(h=>{k("danger","Error! While adding a News, Check you internet connnection and Try Again later."),console.error("Error saving image data:",h),c(!1)})},u=h=>{o(h.datetime1),s(h.title)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Latest News"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{children:h.title}),a.jsx("td",{children:_9(h==null?void 0:h.datetime1)}),a.jsx("td",{children:h.description}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>x9(h._id),children:"Delete"})}),a.jsxs("li",{children:[a.jsx("button",{className:"dropdown-item text-primary",onClick:()=>u(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),a.jsx($_,{_id:`EditNewsModal${h._id}`,submitHandler:()=>b9(h._id,{title:r,datetime:i}),datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})]})]})})]},f))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"News Not Found!"})})})]})]}),a.jsx($_,{_id:"AddNewsModal",submitHandler:d,datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})},_9=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},j9=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),s=async i=>{if(i.preventDefault(),t!==n||t===""||n===""){k("warning","Passwords do not match");return}const o=Xt.currentUser;if(!o){location.href="/CVPR_LAB/#/";return}o?P4(o,n).then(()=>{k("success","Password updated successfully"),location.href="/CVPR_LAB/#/dashboard"}).catch(l=>{k("danger","Error while changing the password, Message: "+E9(l.code).toUpperCase())}):k("danger","No user is currently signed in."),r(""),e("")};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{children:"Change Password"})}),a.jsx("hr",{}),a.jsxs("form",{className:"card g-3 p-3 gap-3 my-3 rounded-1 ",onSubmit:s,noValidate:!0,children:[a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),a.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:i=>e(i.target.value),required:!0}),a.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:i=>r(i.target.value),required:!0})]}),a.jsx("div",{className:"",children:a.jsx("button",{type:"submit",className:"btn btn-primary text-uppercase w-full w-100 p-3",children:"Submit"})})]})]})})};function E9(t){const e=t.indexOf("/");return e!==-1?t.substring(e+1):""}/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function B_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(n),!0).forEach(function(r){T9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function S9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UC(r.key),r)}}function N9(t,e,n){return e&&z_(t.prototype,e),n&&z_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T9(t,e,n){return e=UC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FC(t){return I9(t)||C9(t)||A9(t)||P9()}function I9(t){if(Array.isArray(t))return Rg(t)}function C9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A9(t,e){if(t){if(typeof t=="string")return Rg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rg(t,e)}}function Rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UC(t){var e=k9(t,"string");return typeof e=="symbol"?e:String(e)}var _f=typeof window<"u"&&typeof window.document<"u",Fr=_f?window:{},Vx=_f&&Fr.document.documentElement?"ontouchstart"in Fr.document.documentElement:!1,Fx=_f?"PointerEvent"in Fr:!1,Xe="cropper",Ux="all",$C="crop",BC="move",zC="zoom",hi="e",fi="w",ya="s",xs="n",Go="ne",Ko="nw",Yo="se",Qo="sw",Dg="".concat(Xe,"-crop"),H_="".concat(Xe,"-disabled"),gn="".concat(Xe,"-hidden"),W_="".concat(Xe,"-hide"),R9="".concat(Xe,"-invisible"),ah="".concat(Xe,"-modal"),Og="".concat(Xe,"-move"),vc="".concat(Xe,"Action"),Id="".concat(Xe,"Preview"),$x="crop",HC="move",WC="none",Lg="crop",Mg="cropend",Vg="cropmove",Fg="cropstart",q_="dblclick",D9=Vx?"touchstart":"mousedown",O9=Vx?"touchmove":"mousemove",L9=Vx?"touchend touchcancel":"mouseup",G_=Fx?"pointerdown":D9,K_=Fx?"pointermove":O9,Y_=Fx?"pointerup pointercancel":L9,Q_="ready",X_="resize",J_="wheel",Ug="zoom",Z_="image/jpeg",M9=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,V9=/^data:/,F9=/^data:image\/jpeg;base64,/,U9=/^img|canvas$/i,qC=200,GC=100,ej={viewMode:0,dragMode:$x,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:qC,minContainerHeight:GC,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},$9='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',B9=Number.isNaN||Fr.isNaN;function be(t){return typeof t=="number"&&!B9(t)}var tj=function(e){return e>0&&e<1/0};function kp(t){return typeof t>"u"}function Xi(t){return kg(t)==="object"&&t!==null}var z9=Object.prototype.hasOwnProperty;function La(t){if(!Xi(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&z9.call(n,"isPrototypeOf")}catch{return!1}}function pn(t){return typeof t=="function"}var H9=Array.prototype.slice;function KC(t){return Array.from?Array.from(t):H9.call(t)}function yt(t,e){return t&&pn(e)&&(Array.isArray(t)||be(t.length)?KC(t).forEach(function(n,r){e.call(t,n,r,t)}):Xi(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var et=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Xi(e)&&r.length>0&&r.forEach(function(i){Xi(i)&&Object.keys(i).forEach(function(o){e[o]=i[o]})}),e},W9=/\.\d*(?:0|9){12}\d*$/;function Xa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return W9.test(t)?Math.round(t*e)/e:t}var q9=/^width|height|left|top|marginLeft|marginTop$/;function Rs(t,e){var n=t.style;yt(e,function(r,s){q9.test(s)&&be(r)&&(r="".concat(r,"px")),n[s]=r})}function G9(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function St(t,e){if(e){if(be(t.length)){yt(t,function(r){St(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Lr(t,e){if(e){if(be(t.length)){yt(t,function(n){Lr(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Ma(t,e,n){if(e){if(be(t.length)){yt(t,function(r){Ma(r,e,n)});return}n?St(t,e):Lr(t,e)}}var K9=/([a-z\d])([A-Z])/g;function Bx(t){return t.replace(K9,"$1-$2").toLowerCase()}function $g(t,e){return Xi(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Bx(e)))}function yc(t,e,n){Xi(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Bx(e)),n)}function Y9(t,e){if(Xi(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(Bx(e)))}var YC=/\s\s*/,QC=function(){var t=!1;if(_f){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Fr.addEventListener("test",n,r),Fr.removeEventListener("test",n,r)}return t}();function ir(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(YC).forEach(function(i){if(!QC){var o=t.listeners;o&&o[i]&&o[i][n]&&(s=o[i][n],delete o[i][n],Object.keys(o[i]).length===0&&delete o[i],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Bn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(YC).forEach(function(i){if(r.once&&!QC){var o=t.listeners,l=o===void 0?{}:o;s=function(){delete l[i][n],t.removeEventListener(i,s,r);for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];n.apply(t,u)},l[i]||(l[i]={}),l[i][n]&&t.removeEventListener(i,l[i][n],r),l[i][n]=s,t.listeners=l}t.addEventListener(i,s,r)})}function Ja(t,e,n){var r;return pn(Event)&&pn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function XC(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Rp=Fr.location,Q9=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function nj(t){var e=t.match(Q9);return e!==null&&(e[1]!==Rp.protocol||e[2]!==Rp.hostname||e[3]!==Rp.port)}function rj(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Al(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,o=[];be(s)&&s!==0&&o.push("translateX(".concat(s,"px)")),be(i)&&i!==0&&o.push("translateY(".concat(i,"px)")),be(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),be(n)&&n!==1&&o.push("scaleX(".concat(n,")")),be(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function X9(t){var e=VC({},t),n=0;return yt(t,function(r,s){delete e[s],yt(e,function(i){var o=Math.abs(r.startX-i.startX),l=Math.abs(r.startY-i.startY),c=Math.abs(r.endX-i.endX),d=Math.abs(r.endY-i.endY),u=Math.sqrt(o*o+l*l),h=Math.sqrt(c*c+d*d),f=(h-u)/u;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Cd(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:VC({startX:n,startY:r},s)}function J9(t){var e=0,n=0,r=0;return yt(t,function(s){var i=s.startX,o=s.startY;e+=i,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function Ds(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=tj(r),o=tj(n);if(i&&o){var l=n*e;s==="contain"&&l>r||s==="cover"&&l<r?n=r/e:r=n*e}else i?n=r/e:o&&(r=n*e);return{width:r,height:n}}function Z9(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),o=Math.cos(s),l=e*o+n*i,c=e*i+n*o;return r>90?{width:c,height:l}:{width:l,height:c}}function e5(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,o=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,d=e.scaleX,u=d===void 0?1:d,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,y=n.naturalHeight,b=r.fillColor,m=b===void 0?"transparent":b,x=r.imageSmoothingEnabled,v=x===void 0?!0:x,j=r.imageSmoothingQuality,N=j===void 0?"low":j,E=r.maxWidth,I=E===void 0?1/0:E,w=r.maxHeight,_=w===void 0?1/0:w,S=r.minWidth,P=S===void 0?0:S,C=r.minHeight,R=C===void 0?0:C,V=document.createElement("canvas"),B=V.getContext("2d"),L=Ds({aspectRatio:p,width:I,height:_}),A=Ds({aspectRatio:p,width:P,height:R},"cover"),D=Math.min(L.width,Math.max(A.width,g)),M=Math.min(L.height,Math.max(A.height,y)),U=Ds({aspectRatio:s,width:I,height:_}),z=Ds({aspectRatio:s,width:P,height:R},"cover"),O=Math.min(U.width,Math.max(z.width,i)),F=Math.min(U.height,Math.max(z.height,o)),J=[-O/2,-F/2,O,F];return V.width=Xa(D),V.height=Xa(M),B.fillStyle=m,B.fillRect(0,0,D,M),B.save(),B.translate(D/2,M/2),B.rotate(c*Math.PI/180),B.scale(u,f),B.imageSmoothingEnabled=v,B.imageSmoothingQuality=N,B.drawImage.apply(B,[t].concat(FC(J.map(function(se){return Math.floor(Xa(se))})))),B.restore(),V}var JC=String.fromCharCode;function t5(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=JC(t.getUint8(s));return r}var n5=/^data:.*,/;function r5(t){var e=t.replace(n5,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return yt(s,function(i,o){s[o]=n.charCodeAt(o)}),r}function s5(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(JC.apply(null,KC(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function i5(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,l=2;l+1<o;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break}l+=1}if(s){var c=s+4,d=s+10;if(t5(e,c,4)==="Exif"){var u=e.getUint16(d);if(r=u===18761,(r||u===19789)&&e.getUint16(d+2,r)===42){var h=e.getUint32(d+4,r);h>=8&&(i=d+h)}}}if(i){var f=e.getUint16(i,r),p,g;for(g=0;g<f;g+=1)if(p=i+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function a5(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var o5={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),o=Number(n.minContainerHeight);St(s,gn),Lr(e,gn);var l={width:Math.max(r.offsetWidth,i>=0?i:qC),height:Math.max(r.offsetHeight,o>=0?o:GC)};this.containerData=l,Rs(s,{width:l.width,height:l.height}),St(e,gn),Lr(s,gn)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,o=s?n.naturalWidth:n.naturalHeight,l=i/o,c=e.width,d=e.height;e.height*l>e.width?r===3?c=e.height*l:d=e.width/l:r===3?d=e.width/l:c=e.height*l;var u={aspectRatio:l,naturalWidth:i,naturalHeight:o,width:c,height:d};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=et({},u)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=r.viewMode,c=i.aspectRatio,d=this.cropped&&o;if(e){var u=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(u=Math.max(u,s.width),h=Math.max(h,s.height),l===3&&(h*c>u?u=h*c:h=u/c)):l>0&&(u?u=Math.max(u,d?o.width:0):h?h=Math.max(h,d?o.height:0):d&&(u=o.width,h=o.height,h*c>u?u=h*c:h=u/c));var f=Ds({aspectRatio:c,width:u,height:h});u=f.width,h=f.height,i.minWidth=u,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(l>(d?0:1)){var p=s.width-i.width,g=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,g),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,g),d&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,l===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,g),i.maxTop=Math.max(0,g))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=Z9({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),o=i.width,l=i.height,c=r.width*(o/r.naturalWidth),d=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(d-r.height)/2,r.width=c,r.height=d,r.aspectRatio=o/l,r.naturalWidth=o,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Rs(this.canvas,et({width:r.width,height:r.height},Al({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);et(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),Rs(this.image,et({width:r.width,height:r.height},Al(et({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=et({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var d=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,h=l?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,f=l?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;d=Math.min(d,s.width),u=Math.min(u,s.height),c&&(d&&u?u*c>d?u=d/c:d=u*c:d?u=d/c:u&&(d=u*c),f*c>h?f=h/c:h=f*c),o.minWidth=Math.min(d,h),o.minHeight=Math.min(u,f),o.maxWidth=h,o.maxHeight=f}n&&(l?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(s.width,i.left+i.width)-o.width,o.maxTop=Math.min(s.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=s.width-o.width,o.maxTop=s.height-o.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&yc(this.face,vc,r.width>=n.width&&r.height>=n.height?BC:Ux),Rs(this.cropBox,et({width:r.width,height:r.height},Al({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ja(this.element,Lg,this.getData())}},l5={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=s,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,yt(l,function(c){var d=document.createElement("img");yc(c,Id,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(d.crossOrigin=n),d.src=s,d.alt=i,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){yt(this.previews,function(e){var n=$g(e,Id);Rs(e,{width:n.width,height:n.height}),e.innerHTML=n.html,Y9(e,Id)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,o=e.width,l=e.height,c=r.left-n.left-e.left,d=r.top-n.top-e.top;!this.cropped||this.disabled||(Rs(this.viewBoxImage,et({width:o,height:l},Al(et({translateX:-c,translateY:-d},e)))),yt(this.previews,function(u){var h=$g(u,Id),f=h.width,p=h.height,g=f,y=p,b=1;s&&(b=f/s,y=i*b),i&&y>p&&(b=p/i,g=s*b,y=p),Rs(u,{width:g,height:y}),Rs(u.getElementsByTagName("img")[0],et({width:o*b,height:l*b},Al(et({translateX:-c*b,translateY:-d*b},e))))}))}},c5={bind:function(){var e=this.element,n=this.options,r=this.cropper;pn(n.cropstart)&&Bn(e,Fg,n.cropstart),pn(n.cropmove)&&Bn(e,Vg,n.cropmove),pn(n.cropend)&&Bn(e,Mg,n.cropend),pn(n.crop)&&Bn(e,Lg,n.crop),pn(n.zoom)&&Bn(e,Ug,n.zoom),Bn(r,G_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Bn(r,J_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Bn(r,q_,this.onDblclick=this.dblclick.bind(this)),Bn(e.ownerDocument,K_,this.onCropMove=this.cropMove.bind(this)),Bn(e.ownerDocument,Y_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Bn(window,X_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;pn(n.cropstart)&&ir(e,Fg,n.cropstart),pn(n.cropmove)&&ir(e,Vg,n.cropmove),pn(n.cropend)&&ir(e,Mg,n.cropend),pn(n.crop)&&ir(e,Lg,n.crop),pn(n.zoom)&&ir(e,Ug,n.zoom),ir(r,G_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&ir(r,J_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ir(r,q_,this.onDblclick),ir(e.ownerDocument,K_,this.onCropMove),ir(e.ownerDocument,Y_,this.onCropEnd),n.responsive&&ir(window,X_,this.onResize)}},d5={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,o=Math.abs(s-1)>Math.abs(i-1)?s:i;if(o!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(yt(l,function(d,u){l[u]=d*o})),this.setCropBoxData(yt(c,function(d,u){c[u]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===WC||this.setDragMode(G9(this.dragBox,Dg)?HC:$x)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(be(n)&&n!==1||be(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,o;e.changedTouches?yt(e.changedTouches,function(l){i[l.identifier]=Cd(l)}):i[e.pointerId||0]=Cd(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?o=zC:o=$g(e.target,vc),M9.test(o)&&Ja(this.element,Fg,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===$C&&(this.cropping=!0,St(this.dragBox,ah)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),Ja(this.element,Vg,{originalEvent:e,action:n})!==!1&&(e.changedTouches?yt(e.changedTouches,function(s){et(r[s.identifier]||{},Cd(s,!0))}):et(r[e.pointerId||0]||{},Cd(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?yt(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Ma(this.dragBox,ah,this.cropped&&this.options.modal)),Ja(this.element,Mg,{originalEvent:e,action:n}))}}},u5={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,o=this.pointers,l=this.action,c=n.aspectRatio,d=i.left,u=i.top,h=i.width,f=i.height,p=d+h,g=u+f,y=0,b=0,m=s.width,x=s.height,v=!0,j;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(y=i.minLeft,b=i.minTop,m=y+Math.min(s.width,r.width,r.left+r.width),x=b+Math.min(s.height,r.height,r.top+r.height));var N=o[Object.keys(o)[0]],E={x:N.endX-N.startX,y:N.endY-N.startY},I=function(_){switch(_){case hi:p+E.x>m&&(E.x=m-p);break;case fi:d+E.x<y&&(E.x=y-d);break;case xs:u+E.y<b&&(E.y=b-u);break;case ya:g+E.y>x&&(E.y=x-g);break}};switch(l){case Ux:d+=E.x,u+=E.y;break;case hi:if(E.x>=0&&(p>=m||c&&(u<=b||g>=x))){v=!1;break}I(hi),h+=E.x,h<0&&(l=fi,h=-h,d-=h),c&&(f=h/c,u+=(i.height-f)/2);break;case xs:if(E.y<=0&&(u<=b||c&&(d<=y||p>=m))){v=!1;break}I(xs),f-=E.y,u+=E.y,f<0&&(l=ya,f=-f,u-=f),c&&(h=f*c,d+=(i.width-h)/2);break;case fi:if(E.x<=0&&(d<=y||c&&(u<=b||g>=x))){v=!1;break}I(fi),h-=E.x,d+=E.x,h<0&&(l=hi,h=-h,d-=h),c&&(f=h/c,u+=(i.height-f)/2);break;case ya:if(E.y>=0&&(g>=x||c&&(d<=y||p>=m))){v=!1;break}I(ya),f+=E.y,f<0&&(l=xs,f=-f,u-=f),c&&(h=f*c,d+=(i.width-h)/2);break;case Go:if(c){if(E.y<=0&&(u<=b||p>=m)){v=!1;break}I(xs),f-=E.y,u+=E.y,h=f*c}else I(xs),I(hi),E.x>=0?p<m?h+=E.x:E.y<=0&&u<=b&&(v=!1):h+=E.x,E.y<=0?u>b&&(f-=E.y,u+=E.y):(f-=E.y,u+=E.y);h<0&&f<0?(l=Qo,f=-f,h=-h,u-=f,d-=h):h<0?(l=Ko,h=-h,d-=h):f<0&&(l=Yo,f=-f,u-=f);break;case Ko:if(c){if(E.y<=0&&(u<=b||d<=y)){v=!1;break}I(xs),f-=E.y,u+=E.y,h=f*c,d+=i.width-h}else I(xs),I(fi),E.x<=0?d>y?(h-=E.x,d+=E.x):E.y<=0&&u<=b&&(v=!1):(h-=E.x,d+=E.x),E.y<=0?u>b&&(f-=E.y,u+=E.y):(f-=E.y,u+=E.y);h<0&&f<0?(l=Yo,f=-f,h=-h,u-=f,d-=h):h<0?(l=Go,h=-h,d-=h):f<0&&(l=Qo,f=-f,u-=f);break;case Qo:if(c){if(E.x<=0&&(d<=y||g>=x)){v=!1;break}I(fi),h-=E.x,d+=E.x,f=h/c}else I(ya),I(fi),E.x<=0?d>y?(h-=E.x,d+=E.x):E.y>=0&&g>=x&&(v=!1):(h-=E.x,d+=E.x),E.y>=0?g<x&&(f+=E.y):f+=E.y;h<0&&f<0?(l=Go,f=-f,h=-h,u-=f,d-=h):h<0?(l=Yo,h=-h,d-=h):f<0&&(l=Ko,f=-f,u-=f);break;case Yo:if(c){if(E.x>=0&&(p>=m||g>=x)){v=!1;break}I(hi),h+=E.x,f=h/c}else I(ya),I(hi),E.x>=0?p<m?h+=E.x:E.y>=0&&g>=x&&(v=!1):h+=E.x,E.y>=0?g<x&&(f+=E.y):f+=E.y;h<0&&f<0?(l=Ko,f=-f,h=-h,u-=f,d-=h):h<0?(l=Qo,h=-h,d-=h):f<0&&(l=Go,f=-f,u-=f);break;case BC:this.move(E.x,E.y),v=!1;break;case zC:this.zoom(X9(o),e),v=!1;break;case $C:if(!E.x||!E.y){v=!1;break}j=XC(this.cropper),d=N.startX-j.left,u=N.startY-j.top,h=i.minWidth,f=i.minHeight,E.x>0?l=E.y>0?Yo:Go:E.x<0&&(d-=h,l=E.y>0?Qo:Ko),E.y<0&&(u-=f),this.cropped||(Lr(this.cropBox,gn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}v&&(i.width=h,i.height=f,i.left=d,i.top=u,this.action=l,this.renderCropBox()),yt(o,function(w){w.startX=w.endX,w.startY=w.endY})}},h5={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&St(this.dragBox,ah),Lr(this.cropBox,gn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=et({},this.initialImageData),this.canvasData=et({},this.initialCanvasData),this.cropBoxData=et({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(et(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Lr(this.dragBox,ah),St(this.cropBox,gn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,yt(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Lr(this.cropper,H_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,St(this.cropper,H_)),this},destroy:function(){var e=this.element;return e[Xe]?(e[Xe]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(kp(e)?e:s+Number(e),kp(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(be(e)&&(r.left=e,s=!0),be(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,o=i.width,l=i.height,c=i.naturalWidth,d=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var u=c*e,h=d*e;if(Ja(this.element,Ug,{ratio:e,oldRatio:o/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=XC(this.cropper),g=f&&Object.keys(f).length?J9(f):{pageX:r.pageX,pageY:r.pageY};i.left-=(u-o)*((g.pageX-p.left-i.left)/o),i.top-=(h-l)*((g.pageY-p.top-i.top)/l)}else La(n)&&be(n.x)&&be(n.y)?(i.left-=(u-o)*((n.x-i.left)/o),i.top-=(h-l)*((n.y-i.top)/l)):(i.left-=(u-o)/2,i.top-=(h-l)/2);i.width=u,i.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),be(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,be(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(be(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(be(e)&&(r.scaleX=e,s=!0),be(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var l=r.width/r.naturalWidth;if(yt(o,function(u,h){o[h]=u/l}),e){var c=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&La(e)){var o=!1;n.rotatable&&be(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),n.scalable&&(be(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),be(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;be(e.x)&&(i.left=e.x*l+s.left),be(e.y)&&(i.top=e.y*l+s.top),be(e.width)&&(i.width=e.width*l),be(e.height)&&(i.height=e.height*l),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?et({},this.containerData):{}},getImageData:function(){return this.sized?et({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&yt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&La(e)&&(be(e.left)&&(n.left=e.left),be(e.top)&&(n.top=e.top),be(e.width)?(n.width=e.width,n.height=e.width/r):be(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&La(e)&&(be(e.left)&&(n.left=e.left),be(e.top)&&(n.top=e.top),be(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),be(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=e5(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,o=s.y,l=s.width,c=s.height,d=r.width/Math.floor(n.naturalWidth);d!==1&&(i*=d,o*=d,l*=d,c*=d);var u=l/c,h=Ds({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Ds({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Ds({aspectRatio:u,width:e.width||(d!==1?r.width:l),height:e.height||(d!==1?r.height:c)}),g=p.width,y=p.height;g=Math.min(h.width,Math.max(f.width,g)),y=Math.min(h.height,Math.max(f.height,y));var b=document.createElement("canvas"),m=b.getContext("2d");b.width=Xa(g),b.height=Xa(y),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,y);var x=e.imageSmoothingEnabled,v=x===void 0?!0:x,j=e.imageSmoothingQuality;m.imageSmoothingEnabled=v,j&&(m.imageSmoothingQuality=j);var N=r.width,E=r.height,I=i,w=o,_,S,P,C,R,V;I<=-l||I>N?(I=0,_=0,P=0,R=0):I<=0?(P=-I,I=0,_=Math.min(N,l+I),R=_):I<=N&&(P=0,_=Math.min(l,N-I),R=_),_<=0||w<=-c||w>E?(w=0,S=0,C=0,V=0):w<=0?(C=-w,w=0,S=Math.min(E,c+w),V=S):w<=E&&(C=0,S=Math.min(c,E-w),V=S);var B=[I,w,_,S];if(R>0&&V>0){var L=g/l;B.push(P*L,C*L,R*L,V*L)}return m.drawImage.apply(m,[r].concat(FC(B.map(function(A){return Math.floor(Xa(A))})))),b},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!kp(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===$x,o=n.movable&&e===HC;e=i||o?e:WC,n.dragMode=e,yc(r,vc,e),Ma(r,Dg,i),Ma(r,Og,o),n.cropBoxMovable||(yc(s,vc,e),Ma(s,Dg,i),Ma(s,Og,o))}return this}},f5=Fr.Cropper,ZC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S9(this,t),!e||!U9.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=et({},ej,La(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return N9(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[Xe]){if(n[Xe]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(V9.test(n)){F9.test(n)?this.read(r5(n)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==Z_&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&nj(n)&&s.crossOrigin&&(n=rj(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=s.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=i5(n),o=0,l=1,c=1;if(i>1){this.url=s5(n,Z_);var d=a5(i);o=d.rotate,l=d.scaleX,c=d.scaleY}r.rotatable&&(s.rotate=o),r.scalable&&(s.scaleX=l,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&nj(r)&&(s||(s="anonymous"),i=rj(r)),this.crossOrigin=s,this.crossOriginUrl=i;var o=document.createElement("img");s&&(o.crossOrigin=s),o.src=i||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),St(o,W_),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Fr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Fr.navigator.userAgent),i=function(d,u){et(n.imageData,{naturalWidth:d,naturalHeight:u,aspectRatio:d/u}),n.initialImageData=et({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),s||l.removeChild(o)},o.src=r.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,o=document.createElement("div");o.innerHTML=$9;var l=o.querySelector(".".concat(Xe,"-container")),c=l.querySelector(".".concat(Xe,"-canvas")),d=l.querySelector(".".concat(Xe,"-drag-box")),u=l.querySelector(".".concat(Xe,"-crop-box")),h=u.querySelector(".".concat(Xe,"-face"));this.container=i,this.cropper=l,this.canvas=c,this.dragBox=d,this.cropBox=u,this.viewBox=l.querySelector(".".concat(Xe,"-view-box")),this.face=h,c.appendChild(s),St(n,gn),i.insertBefore(l,n.nextSibling),Lr(s,W_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,St(u,gn),r.guides||St(u.getElementsByClassName("".concat(Xe,"-dashed")),gn),r.center||St(u.getElementsByClassName("".concat(Xe,"-center")),gn),r.background&&St(l,"".concat(Xe,"-bg")),r.highlight||St(h,R9),r.cropBoxMovable&&(St(h,Og),yc(h,vc,Ux)),r.cropBoxResizable||(St(u.getElementsByClassName("".concat(Xe,"-line")),gn),St(u.getElementsByClassName("".concat(Xe,"-point")),gn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),pn(r.ready)&&Bn(n,Q_,r.ready,{once:!0}),Ja(n,Q_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Lr(this.element,gn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=f5,t}},{key:"setDefaults",value:function(n){et(ej,La(n)&&n)}}]),t}();et(ZC.prototype,o5,l5,c5,d5,u5,h5);var xi=function(){return xi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},xi.apply(this,arguments)};function Dp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var p5=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],m5={opacity:0,maxWidth:"100%"},eA=ke.forwardRef(function(t,e){var n=Dp(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,o=n.style,l=n.className,c=n.crossOrigin,d=n.scaleX,u=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,y=g===void 0?"picture":g,b=n.ready,m=n.onInitialized,x=Dp(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),v={scaleY:u,scaleX:d,enable:h,zoomTo:f,rotateTo:p},j=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];var w=T.useRef(null);return ke.useEffect(function(){E.forEach(function(_){_&&(typeof _=="function"?_(w.current):_.current=w.current)})},[E]),w}(e,T.useRef(null));T.useEffect(function(){var E;!((E=j.current)===null||E===void 0)&&E.cropper&&typeof f=="number"&&j.current.cropper.zoomTo(f)},[n.zoomTo]),T.useEffect(function(){var E;!((E=j.current)===null||E===void 0)&&E.cropper&&i!==void 0&&j.current.cropper.reset().clear().replace(i)},[i]),T.useEffect(function(){if(j.current!==null){var E=new ZC(j.current,xi(xi({dragMode:s},x),{ready:function(I){I.currentTarget!==null&&function(w,_){_===void 0&&(_={});var S=_.enable,P=S===void 0||S,C=_.scaleX,R=C===void 0?1:C,V=_.scaleY,B=V===void 0?1:V,L=_.zoomTo,A=L===void 0?0:L,D=_.rotateTo;P?w.enable():w.disable(),w.scaleX(R),w.scaleY(B),D!==void 0&&w.rotateTo(D),A>0&&w.zoomTo(A)}(I.currentTarget.cropper,v),b&&b(I)}}));m&&m(E)}return function(){var I,w;(w=(I=j.current)===null||I===void 0?void 0:I.cropper)===null||w===void 0||w.destroy()}},[j]);var N=function(E){return p5.reduce(function(I,w){var _=I,S=w;return _[S],Dp(_,[typeof S=="symbol"?S:S+""])},E)}(xi(xi({},x),{crossOrigin:c,src:i,alt:y}));return ke.createElement("div",{style:o,className:l},ke.createElement("img",xi({},N,{style:m5,ref:j})))});const tA=async()=>{try{const t=re(W,"slider_images"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i.title.stringValue,d=l?await g5(l):null;n.push({_id:o,title:c,bannerURL:d})});await Promise.all(r),ot.dispatch(FB(n))}catch(t){console.error("Error fetching Slider:",t)}},g5=async t=>{try{const e=Ce(Ae,`slider_images/${t}`);return await Br(e)}catch{return null}};async function v5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=_e(W,"slider_images",t),s=(await Zn(e)).data().banner;if(await hn(e),s){const i=Ce(Ae,`slider_images/${s}`);await yr(i)}alert("Slider item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Slider!")}}}const y5=()=>{const t=K(p=>p.getslider).data,[e,n]=T.useState(),[r,s]=T.useState(""),[i,o]=T.useState(!1),[l,c]=T.useState("");T.useEffect(()=>{tA()},[]);const d=T.useRef(null),u=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(d&&d.current){const p=d.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){k("danger","Please select an image and provide a title!");return}o(!0);const p=Ce(Ae,`slider_images/${r}`),g=await fetch(l).then(b=>b.blob()),y=new FileReader;y.readAsDataURL(g),y.onloadend=async()=>{$r(p,g).then(async()=>{await nt(re(W,"slider_images"),{title:r,bannerURL:r}),k("success","Slider Image has been saved!"),s(""),n(null),o(!1),window.location.reload()}).catch(()=>{k("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later."),o(!1)})}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Slider Images"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>v5(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:i,value:r})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:u,disabled:i}),a.jsx("div",{className:"my-2",children:a.jsx(eA,{src:e,ref:d,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},nA=async()=>{try{const t=re(W,"pgusStudents"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ot.dispatch(zB(n))}catch(t){console.error("Error fetching pgug:",t)}};async function x5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=_e(W,"pgusStudents",t);await hn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting pgug!")}}}const rA=async()=>{try{const t=re(W,"visitorsAndInterns"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ot.dispatch(HB(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function b5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=_e(W,"visitorsAndInterns",t);await hn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Visitor/Intern!")}}}const w5=()=>{const t=K(c=>c.getauth),e=K(c=>c.getphdStudents.data),n=K(c=>c.getpgugStudents.data),r=K(c=>c.getvisitorsandinterns.data),[s,i]=T.useState(1),[o,l]=T.useState("");return T.useEffect(()=>{ha(),nA(),rA()},[]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Peoples"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100",children:a.jsxs(a.Fragment,{children:[a.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>i(1),children:"Ph.D. Scholars"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(2),children:"Post Graduate students"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(3),children:"Alumni PhD"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(4),children:"Alumni Masters and Bachelors"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(5),children:"Interns and Visitors"})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[(s===1||s===3)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),s!==5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(s===2||s===4)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),s!==5&&a.jsxs(a.Fragment,{children:[" ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:s===3||s===1?"Research Interests":"Currently Working At"})]}),s===5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[(s===1||s===3)&&(e==null?void 0:e.map(c=>{var b,m,x,v,j,N,E,I,w,_,S,P,C;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,researchInterests:g,supervisor:y}=c==null?void 0:c.data;return s===1&&(h!=null&&h.booleanValue)||s===3&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[a.jsx("a",{href:c==null?void 0:c.profileImage,target:"_blank",children:a.jsx("img",{src:c==null?void 0:c.profileImage,alt:"Profile Image",style:{width:"80px"}})}),a.jsx("strong",{className:"text-shade2 text-nowrap",children:((m=(b=y==null?void 0:y.mapValue)==null?void 0:b.fields)==null?void 0:m.email)===t.email&&"(Your Scholar)"})]}),a.jsxs("td",{children:[d==null?void 0:d.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsxs("td",{children:[a.jsxs("strong",{className:"text-shade2",children:["1. Email:"," "]}),a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:a.jsx("div",{children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("strong",{className:"text-shade2",children:"2. Supervisor"}),a.jsxs("div",{children:[(j=(v=(x=y==null?void 0:y.mapValue)==null?void 0:x.fields)==null?void 0:v.name)==null?void 0:j.stringValue,","," ",(I=(E=(N=y==null?void 0:y.mapValue)==null?void 0:N.fields)==null?void 0:E.email)==null?void 0:I.stringValue]})]}),a.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:a.jsx("ol",{children:(_=(w=g==null?void 0:g.arrayValue)==null?void 0:w.values)==null?void 0:_.map((R,V)=>a.jsx("li",{children:R.stringValue},V))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[" ",a.jsx("li",{children:a.jsx(te,{className:"dropdown-item",to:"/phd/"+(c==null?void 0:c._id),target:"_blank",children:"Profile"})}),((C=(P=(S=y==null?void 0:y.mapValue)==null?void 0:S.fields)==null?void 0:P.email)==null?void 0:C.stringValue)===t.email&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>p9(c._id),children:"Delete"})})]})]})})]},c._id)})),(s===2||s===4)&&(n==null?void 0:n.map(c=>{const{name:d,batch:u,isAlumni:h,email:f,mobile:p,degree:g,currentlyWorkingAt:y}=c==null?void 0:c.data;return s===2&&(h!=null&&h.booleanValue)||s===4&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[d==null?void 0:d.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("td",{children:a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("td",{children:(g==null?void 0:g.stringValue)||"N/A"}),a.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:y==null?void 0:y.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>x5(c._id),children:"Delete"})}):"NA"})]})})]},c._id)})),s===5&&(r==null?void 0:r.map(c=>{const{name:d,collegeName:u}=c==null?void 0:c.data;return a.jsxs("tr",{children:[a.jsx("td",{children:d==null?void 0:d.stringValue}),a.jsx("td",{children:u==null?void 0:u.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>b5(c._id),children:"Delete"})}):"NA"})]})})]},c._id)}))]})]}),!r.length&&s===5&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})}),!e.length&&(s===1||s===3)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})}),!n.length&&(s===2||s===4)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),a.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:c=>l(c.target.value),children:[a.jsx("option",{value:"",children:"--select designation--"}),a.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),a.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),a.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),a.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),a.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2",children:[(o==="Ph.D. Scholars"||o==="Alumni Ph.D.")&&a.jsx(_5,{}),(o==="Post Graduate students"||o==="Alumni Masters and Bachelors")&&a.jsx(j5,{}),o==="Visitors and Interns"&&a.jsx(E5,{})]})]})})]})})})]})},_5=()=>{var N,E,I,w;const t=K(_=>_.getsupervisors.data),e=K(_=>_.getauth),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState({name:e.userType==="SUPERVISOR"?(E=(N=t.filter(_=>{var S;return((S=_==null?void 0:_.data)==null?void 0:S.email)===(e==null?void 0:e.email)})[0])==null?void 0:N.data)==null?void 0:E.name:"",email:e.userType==="SUPERVISOR"?(w=(I=t.filter(_=>{var S;return((S=_==null?void 0:_.data)==null?void 0:S.email)===(e==null?void 0:e.email)})[0])==null?void 0:I.data)==null?void 0:w.email:""}),[f,p]=T.useState(""),[g,y]=T.useState(!1),[b,m]=T.useState(!1),[x,v]=T.useState(),j=async _=>{if(_.preventDefault(),!n||!s||!o||!c||!f){k("danger","Error! Please fill all required fields.");return}if(!x){k("danger","Please upload an Image!");return}m(!0);const S=Ce(Ae,`/peoples/phd_profile_images/${n}_${x.name}`);await $r(S,x).then(async()=>{console.log("Profile image uploaded successfully"),nt(re(W,"phdStudents"),{name:n,email:s,mobile:o,batch:c,supervisor:u,researchInterests:f.split(",").map(P=>P.trim()),isAlumni:g,profileImage:n+"_"+x.name}).then(async()=>{await nt(re(W,"users"),{email:s,userType:"PHD"}),k("success","Data Saved Successfully!"),r(""),i(""),l(""),d(""),p(""),y(!1),m(!1),window.location.reload()}).catch(()=>{k("danger","Failed to save Data!"),m(!1)})})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:j,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:_=>r(_.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",onChange:_=>i(_.target.value),placeholder:"ie. user@gmail.com"})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",children:["Supervisor",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:_=>{var S,P;h({name:_.target.value,email:(P=(S=t.filter(C=>{var R;return((R=C==null?void 0:C.data)==null?void 0:R.name)==_.target.value})[0])==null?void 0:S.data)==null?void 0:P.email})},disabled:b||e.userType==="SUPERVISOR",children:[a.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((_,S)=>{var P,C,R,V;return a.jsxs("option",{value:(P=_==null?void 0:_.data)==null?void 0:P.name,selected:e.email==((C=_==null?void 0:_.data)==null?void 0:C.email),children:[(R=_==null?void 0:_.data)==null?void 0:R.name,"-",(V=_==null?void 0:_.data)==null?void 0:V.email]},S)})]})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:_=>l(_.target.value),placeholder:"ie. 10 digits mobile number"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:_=>{var P;const S=(P=_.target.files)==null?void 0:P[0];v(S)},disabled:b})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:_=>d(_.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:_=>p(_.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-shade2 me-2",id:"alumni",onChange:_=>y(_.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-shade2",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:b,children:b?"Submitting...":"Submit"})})]})})},j5=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(!1),[g,y]=T.useState(!1),b=m=>{if(m.preventDefault(),!t||!n||!s||!o||!c||!u){k("danger","Please fill all the required fields.");return}y(!0),nt(re(W,"pgusStudents"),{degree:t,name:n,email:s,mobile:o,batch:c,currentlyWorkingAt:u,isAlumni:f}).then(()=>{k("success","Data Saved!"),e(""),r(""),i(""),l(""),d(""),h(""),p(!1),y(!1),location.reload()}).catch(()=>{k("danger","Error while Saving Data!"),y(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:b,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),a.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[a.jsx("option",{value:"",children:"--select--"}),a.jsx("option",{value:"B.Tech",children:"B.Tech"}),a.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>i(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>d(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Currently Working At"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-shade2 me-2",id:"alumni",onChange:m=>p(m.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-shade2",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},E5=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=l=>{if(l.preventDefault(),!t||!n){k("danger","Please fill all the required details.");return}i(!0),nt(re(W,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{k("success","Data Saved!"),e(""),r(""),i(!1),location.reload()}).catch(()=>{k("danger","Failed to save data."),i(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:o,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"College Name"}),a.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:s,children:s?"Submitting...":"Submit"})})]})})},S5=["Professor","Associate Professor","Assistant Professor","Adjunct Professor","Visiting Professor","Emeritus Professor","Research Professor"],Op={name:"",email:"",designation:"",phone:"",researchInterests:"",introduction:"",teaching:"",accomplishments:"",professional_affiliation:"",links:[]},N5=()=>{var g;const t=K(y=>y.getauth),e=K(y=>y.getsupervisors.data),[n,r]=T.useState(!1),[s,i]=T.useState(),[o,l]=T.useState(Op),[c,d]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{fs()},[]);const u=y=>{const{name:b,value:m}=y.target;l(x=>({...x,[b]:m}))},h=async()=>{const{name:y,email:b,designation:m}=o;if(!y||!b||!m){k("danger","Designation, Email and Name are required fields.");return}if(r(!0),!s)nt(re(W,"supervisors"),{...o,startDate:new Date,endDate:"NA"}).then(async()=>{await nt(re(W,"users"),{email:b,userType:"SUPERVISOR"}),k("success","Supervisor details has been saved successfully!"),l(Op),i(void 0),r(!1),window.location.reload()}).catch(()=>{k("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)});else{const x=Ce(Ae,`/peoples/supervisor_profile_images/${y}_${s.name}`);await $r(x,s).then(async()=>{k("success","Profile image uploaded successfully"),nt(re(W,"supervisors"),{...o,startDate:new Date,endDate:"NA",profileImage:y+s.name}).then(async()=>{await nt(re(W,"users"),{email:b,userType:"SUPERVISOR"}),k("success","Supervisor details along with profile image have been saved successfully!"),l(Op),i(void 0),r(!1),window.location.reload()}).catch(()=>{k("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}).catch(()=>{k("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}},f=t==null?void 0:t.userType.includes("SUPERVISOR"),p=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:!p&&f?"Your Profile":"Supervisors"}),p&&a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",children:[a.jsxs("table",{className:"table table-bordered table-hover w-100",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:e==null?void 0:e.map((y,b)=>{const{name:m,designation:x,email:v,phone:j,researchInterests:N,introduction:E,links:I,teaching:w,accomplishments:_,professional_affiliation:S}=y==null?void 0:y.data;if(!(!p&&f&&(t==null?void 0:t.email)!=v))return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{children:[a.jsx("td",{children:y!=null&&y.profileImage?a.jsx("a",{href:y==null?void 0:y.profileImage,target:"_blank",children:a.jsx("img",{src:y==null?void 0:y.profileImage,alt:`${m}'s profile`,style:{width:"50px",height:"auto"}})}):"Not Uploaded"}),a.jsxs("td",{children:[f&&t.email===v&&a.jsxs(a.Fragment,{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Your Profile"}),a.jsx("hr",{})]}),a.jsx("h6",{className:"fw-bold text-primary",children:m}),a.jsxs("small",{className:"fw-bold text-shade2",children:["(",x,")"]})]}),a.jsxs("td",{children:["Email:"," ",a.jsx("a",{href:"mailto:"+v,target:"_blank",children:v}),a.jsx("hr",{}),"Mobile: ",j]}),a.jsxs("td",{children:[a.jsx("strong",{children:"Research Interests: "}),N]}),a.jsx("td",{children:a.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:E})}),a.jsx("td",{children:a.jsx("ol",{children:I==null?void 0:I.map((P,C)=>a.jsx("li",{children:a.jsx(te,{to:P==null?void 0:P.linkURL,target:"_blank",className:"btn-link bnt-sm p-0",children:P==null?void 0:P.linkName})},C))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${b}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${b}`,children:[(t.email===v||p)&&a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-primary",to:y==null?void 0:y._id,children:"Edit"})}),p&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>a9(y._id),children:"Delete"})})]})]})})]},y._id),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Techings: "})]}),a.jsx("td",{colSpan:5,children:w})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Accomplishments: "})]}),a.jsx("td",{colSpan:5,children:_})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Professional Affiliation: "})]}),a.jsx("td",{colSpan:5,children:S})]})]})})})]}),!e.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"fw-bold text-primary",children:"Personal Information:"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Designation(",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsxs("select",{name:"designation",className:"form-control",value:o.designation,onChange:u,id:"designation",children:[a.jsx("option",{value:"",children:"--select designation--"}),S5.map((y,b)=>a.jsx("option",{value:y,children:y},b))]})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:o.name,onChange:u})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:o.email,onChange:u})]})]}),a.jsx("div",{className:"alert alert-primary p-2 rounded-0 mb-3",role:"alert",children:"Name and Email fields are required, Supervisor can also edit other things later."}),a.jsx("div",{className:"text-end",children:a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})}),a.jsx("h4",{className:"fw-bold text-primary",children:"Other Details (User can fill later):"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:o.phone,onChange:u,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:y=>{var m;const b=(m=y.target.files)==null?void 0:m[0];i(b)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:o.researchInterests,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:o.teaching||"",onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:o.accomplishments,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:o.professional_affiliation,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:o.introduction,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:y=>d({linkName:y.target.value,linkURL:c.linkURL}),value:c.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:y=>d({linkName:c.linkName,linkURL:y.target.value}),value:c.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!c.linkName||!c.linkURL){k("danger","Link Name and URL are required fields.");return}if(o.links.includes(c)){k("danger","This link already exists.");return}l({...o,links:[...o.links,c]}),d({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(g=o==null?void 0:o.links)==null?void 0:g.map((y,b)=>a.jsxs("tr",{children:[a.jsx("th",{children:b+1}),a.jsx("th",{children:y==null?void 0:y.linkName}),a.jsx("th",{children:a.jsx("a",{href:y==null?void 0:y.linkURL,target:"_blank",children:y==null?void 0:y.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&l({...o,links:o==null?void 0:o.links.filter(m=>m.linkName!==(y==null?void 0:y.linkName))})},children:"Remove"})})]}))})]}),!(o!=null&&o.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},fa=async()=>{try{const t=re(W,"datasets"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=(i==null?void 0:i.images.arrayValue.values)||[];let d=[];const u=c.map(async f=>{const p=await T5(f.stringValue)||"";d.push({name:f==null?void 0:f.stringValue,url:p})});await Promise.all(u);const h=i==null?void 0:i.description.stringValue;n.push({_id:o,title:l,description:h,images:d})});await Promise.all(r),ot.dispatch(WB(n))}catch(t){console.error("Error fetching Datasets:",t)}},T5=async t=>{try{const e=Ce(Ae,`dataset_images/${t}`);return await Br(e)}catch{return null}};async function I5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=_e(W,"datasets",t),s=(await Zn(e)).data().images;await hn(e);const i=s.map(async o=>{const l=Ce(Ae,`dataset_images/${o}`);await yr(l),console.log("Deleted!")});await Promise.all(i),alert("Datasets item and images deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Datasets!")}}}async function C5(t,e){if(confirm("Are you sure want to delete this item?")){if(t===null||!e||e==null){alert("Invalid Parameters");return}try{const n=Ce(Ae,`dataset_images/${e}`);await yr(n);const r=_e(W,"datasets",t),s=await Zn(r);if(s.exists()){const l=(s.data().images||[]).filter(c=>c!=e);await at(r,{images:l}),k("success","Datasets item and images deleted successfully!")}else k("danger","Something went wrong!");location.reload()}catch(n){console.log(n),alert("Error deleting Datasets!")}}}const A5=()=>{const t=K(c=>c.getdatasets).data,[e,n]=T.useState(""),[r,s]=T.useState(""),[i,o]=T.useState(!1);T.useEffect(()=>{fa()},[]);const l=async()=>{if(!e||!r){k("warning","Please provide the required fields!");return}o(!0);try{await nt(re(W,"datasets"),{title:e,description:r,images:[]}),k("success","Datasets has been saved!"),k("info","You can add datasets images later!")}catch{k("danger","Error while saving the dataset, Try again!")}n(""),o(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Datasets"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"alert alert-warning fw-bold rounded-0",children:"It is common for all, If you delete one dataset, it will deleted from all."}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((c,d)=>a.jsxs("tr",{children:[a.jsx("td",{children:d+1}),a.jsx("td",{children:c==null?void 0:c.title}),a.jsxs("td",{children:[" ",a.jsx("div",{className:"overflow-auto p-2",children:c==null?void 0:c.description})]}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx(te,{to:c==null?void 0:c._id,className:"dropdown-item text-success",children:"Add Images"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>I5(c._id),children:"Delete"})})]})]})})]},d))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>n(c.target.value),disabled:i,value:e||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:c=>s(c.target.value),disabled:i,value:r||""})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:l,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Yc=async()=>{try{const t=re(W,"ResearchArea"),e=await Ne(t),n=[],r=e.docs.map(async s=>{var u,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=((h=(u=i==null?void 0:i.subareas)==null?void 0:u.arrayValue)==null?void 0:h.values)||[],d=l?await P5(l):null;n.push({_id:o,title:l,subareas:c,bannerURL:d})});await Promise.all(r),ot.dispatch(qB(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},P5=async t=>{try{const e=Ce(Ae,`research_areas_images/${t}`);return await Br(e)}catch{return null}};async function k5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=_e(W,"ResearchArea",t),s=(await Zn(e)).data().banner;if(await hn(e),s){const i=Ce(Ae,`research_areas_images/${s}`);await yr(i)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ResearchArea!")}}}const jf=async()=>{try{const t=re(W,"research_subitems"),e=await Ne(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.description.stringValue,c=i==null?void 0:i.researchArea,d=(f=(h=i==null?void 0:i.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,u=(p=i==null?void 0:i.title)==null?void 0:p.stringValue;n.push({_id:o,title:u,description:l,researchArea:c,projects:d})});await Promise.all(r),ot.dispatch(GB(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function R5(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=_e(W,"research_subitems",t);await hn(n);const r=_e(W,"ResearchArea",e);await at(r,{subareas:NT(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const D5=()=>{const t=K(d=>{var u;return(u=d.getresearcharea)==null?void 0:u.data}),[e,n]=T.useState(null),[r,s]=T.useState(""),[i,o]=T.useState(!1);T.useEffect(()=>{Yc(),jf()},[]);const l=d=>{if(d.target.files&&d.target.files.length>0){const u=new FileReader;u.onload=()=>{n(u.result)},u.readAsDataURL(d.target.files[0])}},c=async()=>{if(!e||!r){k("danger","Please select an image and provide a title!");return}o(!0);const d=Ce(Ae,`research_areas_images/${r}`),u=await fetch(e).then(h=>h.blob());try{await $r(d,u),await nt(re(W,"ResearchArea"),{title:r,subareas:[]}),k("success","Research area has been saved!"),k("info","Info! You can add sub-areas later."),s(""),n(null),o(!1),location.reload()}catch{k("danger","Error! While uploading image, Please check your internet connection and try again."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Research Area"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-shade2",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, it will be show in main website page to."}),a.jsx("li",{children:"You can modify any Research area for example you can add more details of the Research Area by adding Sub Areas."})]})]}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((d,u)=>a.jsxs("tr",{children:[a.jsx("td",{children:u+1}),a.jsx("td",{children:d==null?void 0:d.title}),a.jsx("td",{children:a.jsx(te,{to:d._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:d==null?void 0:d.bannerURL,children:a.jsx("img",{className:"rounded-2",src:d.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>k5(d._id),children:"Delete"})})})]})})]},u))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:d=>s(d.target.value),disabled:i,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]}),a.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:a.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),a.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},pa=async()=>{try{const t=re(W,"projects_items"),e=await Ne(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(h=i==null?void 0:i.title)==null?void 0:h.stringValue,c=(f=i==null?void 0:i.pptLink)==null?void 0:f.stringValue,d=(p=i==null?void 0:i.pdfLink)==null?void 0:p.stringValue,u=l?await O5(l):null;n.push({_id:o,title:l,bannerURL:u,pdfLink:d,pptLink:c})});await Promise.all(r),ot.dispatch(KB(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},O5=async t=>{try{const e=Ce(Ae,`project_items_images/${t}`);return await Br(e)}catch{return null}};async function L5(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=_e(W,"projects_items",t),s=(await Zn(e)).data().banner;if(await hn(e),s){const c=Ce(Ae,`projects_items_images/${s}`);await yr(c)}const i=re(W,"research_subitems"),l=(await Ne(i)).docs.map(async c=>{const d=c.ref;await at(d,{projects:NT(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsItems!")}}}const M5=()=>{const{id:t}=Ur();T.useEffect(()=>{jf(),Yc(),pa()},[]);const n=K(b=>{var m;return(m=b.getresearcharea)==null?void 0:m.data}).find(b=>b._id===t);if(!n){window.history.back();return}const r=K(b=>b.getsubareas).data,s=(n==null?void 0:n.subareas)||[],i=r==null?void 0:r.filter(b=>s.some(m=>m.stringValue===(b==null?void 0:b._id))),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState([]),g=K(b=>{var m;return(m=b.getprojectitems)==null?void 0:m.data}),y=async()=>{if(!o){k("danger","Please select an image and provide a title!");return}h(!0);try{const m=(await nt(re(W,"research_subitems"),{title:o,researcharea:n._id,description:c,projects:f})).id;await at(_e(W,"ResearchArea",n._id),{subareas:zV(m)}),k("success","Subitem has been saved!"),l(""),d(""),p([]),h(!1),window.location.reload()}catch{k("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later.")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-shade2",children:n==null?void 0:n.title}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100 my-2",children:a.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:i==null?void 0:i.map((b,m)=>{var x;return a.jsxs("tr",{children:[a.jsx("td",{children:m+1}),a.jsx("td",{children:b==null?void 0:b.title}),a.jsx("td",{children:b==null?void 0:b.description}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(x=b==null?void 0:b.projects)==null?void 0:x.map((v,j)=>{const N=g==null?void 0:g.find(E=>(E==null?void 0:E._id)==(v==null?void 0:v.stringValue));return a.jsxs("div",{children:[j+1,". ",N==null?void 0:N.title," (",a.jsx(te,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>R5(b._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!i.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:b=>l(b.target.value),disabled:u,value:o})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:b=>d(b.target.value),disabled:u,placeholder:"describe in some words.."})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),a.jsxs("select",{name:"project",className:"form-control",onChange:b=>{const m=b.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[a.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((b,m)=>a.jsx("option",{value:b==null?void 0:b._id,children:b==null?void 0:b.title},m))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:f==null?void 0:f.map((b,m)=>{const x=g==null?void 0:g.find(v=>(v==null?void 0:v._id)==b);return a.jsxs("tr",{children:[a.jsx("th",{children:m+1}),a.jsx("th",{children:x==null?void 0:x.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(v=>v!==b))},children:"Remove"})})]})})})]}),!f.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:y,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},V5=()=>{const t=K(p=>{var g;return(g=p.getprojectitems)==null?void 0:g.data}),[e,n]=T.useState(null),[r,s]=T.useState(""),[i,o]=T.useState(""),[l,c]=T.useState(""),[d,u]=T.useState(!1);T.useEffect(()=>{pa()},[]);const h=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},f=async()=>{if(!e||!r){k("danger","Please select an image and provide a title!");return}u(!0);const p=Ce(Ae,`project_items_images/${r}`),g=await fetch(e).then(y=>y.blob());try{await $r(p,g),await nt(re(W,"projects_items"),{title:r,pptLink:i,pdfLink:l}),k("success","Project has been saved!"),s(""),c(""),o(""),n(null),u(!1),location.reload()}catch{k("danger","Error uploading image, Try Again!"),s(""),c(""),o(""),n(null),u(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-shade2",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, you can use these in Research Projects and Datasets."}),a.jsx("li",{children:"Please do not delete any, if it is already associated with any Research Project and Dataset."})]})]}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p==null?void 0:p.title}),a.jsx("td",{children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx(te,{to:p==null?void 0:p.pdfLink,target:"_blank",children:"PDF Link"})}),a.jsx("li",{children:a.jsx(te,{to:p==null?void 0:p.pptLink,target:"_blank",children:"PPT Link"})})]})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:p==null?void 0:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>L5(p._id),children:"Delete"})})})]})})]},g))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:d,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>o(p.target.value),disabled:d,value:i||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>c(p.target.value),disabled:d,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:d})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Qc=async()=>{try{const t=re(W,"projects_main"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,...i})});await Promise.all(r),ot.dispatch(YB(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function F5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=_e(W,"projects_main",t);await hn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsMain!")}}}const U5=`Type of Project(Sponsored/Consultancy),Project Title,Funding Agency,Funding Amount in Inr.,JRF/PHD Scholars,Project Description(100 to 400 words),Names of the PI (comma separated),Names of the Co-PI (comma separated)
`,$5=`Consultancy,"Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",SERB-CRG,4500000,Kuldeep Marotirao Biradar,"The proposed system removes the onus of detecting aberrance situations from the manual operator; and rather, places it on the video surveillance system. The present technologies are fails to recognize aberration in video sequences. These aberrances occur over a small-time window. Thus, recognizing with its timeframe from a big visual data is really challenging task. Hence, our focus is on problems, where we are given a set of nominal training videos samples. Based on these samples need to determine whether or not a test video contains an aberration and what instant it occurs. Similarly, we aim to significantly reduce the time and human effort by automating the task and improving the accuracy by recognizing aberrances with its timestamp. Further, exploit the aberrance activity of the object by modeling the rich motion patterns in selected region, effectively capturing the underlying intrinsic structure they form in the video. Implementation of this system can be beneficial for intelligent agencies, banks, departmental stores, traffic monitoring on highway, airport terminal check-in, sports, medical field, and robotics etc.",Dr. Santosh Kumar Vipparthi,NA
`,sj={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},B5=()=>{var y,b,m,x;const t=K(v=>v.getauth),[e,n]=T.useState(!1),r=K(v=>v.getsupervisors.data),s=K(v=>{var j;return(j=v.getprojectitems)==null?void 0:j.data}),i=K(v=>{var j;return(j=v.getdatasets)==null?void 0:j.data}),o=K(v=>{var j;return(j=v.getprojectsmain)==null?void 0:j.data}),[l,c]=T.useState(t!=null&&t.userType.includes("SUPERVISOR")?[t==null?void 0:t.email]:[]),[d,u]=T.useState(sj);T.useEffect(()=>{fa(),pa(),Qc()},[]);const h=v=>{const{id:j,value:N}=v.target;u(E=>({...E,[j]:N}))},f=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!l){k("danger","Please fill out all fields.");return}n(!0);try{await nt(re(W,"projects_main"),{...d,users:l}),k("success","Project has been saved!"),u(sj),n(!1),window.location.reload()}catch{k("danger","Error! Failed to save project, Try again.")}},p=t==null?void 0:t.userType.includes("SUPERVISOR"),g=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("div",{className:"d-flex gap-2",children:(p||g)&&a.jsxs(a.Fragment,{children:[" ",a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),a.jsxs("button",{className:"btn btn-shade1 btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:o==null?void 0:o.map((v,j)=>{var E,I,w,_,S,P,C,R,V,B,L,A,D,M,U;const N=(I=(E=v==null?void 0:v.users)==null?void 0:E.arrayValue)==null?void 0:I.values.some(z=>(z==null?void 0:z.stringValue)==t.email);return a.jsxs("tr",{children:[a.jsx("td",{children:j+1}),a.jsx("td",{className:"fw-bold text-shade2",children:a.jsx("span",{children:(w=v==null?void 0:v.title)==null?void 0:w.stringValue})}),a.jsxs("td",{children:[a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"PIs:"})," ",a.jsx("p",{children:(_=v==null?void 0:v.pis)==null?void 0:_.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Co-PIs:"})," ",a.jsx("p",{children:(S=v==null?void 0:v.copis)==null?void 0:S.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Funding Agency:"})," ",a.jsx("p",{children:(P=v==null?void 0:v.funding_agency)==null?void 0:P.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Total Fund(Inr):"})," ",a.jsxs("p",{children:["Rs. ",(C=v==null?void 0:v.total_fund)==null?void 0:C.stringValue]})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Ph.D./JRF Students:"})," ",a.jsx("p",{children:(R=v==null?void 0:v.jrf_phd_scholar)==null?void 0:R.stringValue})]})]}),a.jsx("td",{children:a.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(V=v==null?void 0:v.description)==null?void 0:V.stringValue})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(A=(L=(B=v==null?void 0:v.related_datasets)==null?void 0:B.arrayValue)==null?void 0:L.values)==null?void 0:A.map((z,O)=>{const F=i==null?void 0:i.find(J=>(J==null?void 0:J._id)==(z==null?void 0:z.stringValue));return a.jsxs("div",{children:[O+1,". ",F==null?void 0:F.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(F==null?void 0:F._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(F==null?void 0:F._id)+"Modal",tabIndex:-1,"aria-labelledby":(F==null?void 0:F._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(F==null?void 0:F._id)+"ModalLabel",children:F==null?void 0:F.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:F==null?void 0:F.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+j,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:F==null?void 0:F.images.map((J,se)=>a.jsx("div",{className:`carousel-item ${se===0&&"active"}`,children:a.jsx("img",{src:J==null?void 0:J.url,className:"d-block w-100",alt:"This is image"})},se))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+j,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+j,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(U=(M=(D=v==null?void 0:v.related_projectitems)==null?void 0:D.arrayValue)==null?void 0:M.values)==null?void 0:U.map((z,O)=>{const F=s==null?void 0:s.find(J=>(J==null?void 0:J._id)==(z==null?void 0:z.stringValue));return a.jsxs("div",{children:[O+1,". ",F==null?void 0:F.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(F==null?void 0:F._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(F==null?void 0:F._id)+"Modal",tabIndex:-1,"aria-labelledby":(F==null?void 0:F._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(F==null?void 0:F._id)+"ModalLabel",children:[F==null?void 0:F.title,"("," ",a.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:F==null?void 0:F.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(te,{to:F==null?void 0:F.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:F==null?void 0:F.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:N&&p?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-dark",to:"video/"+(v==null?void 0:v._id),children:"Upload Video"})})," ",a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-success",to:"images/"+(v==null?void 0:v._id),children:"Add Images"})})," ",a.jsx("li",{children:a.jsx(te,{className:"dropdown-item text-primary",to:v==null?void 0:v._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>F5(v._id),children:"Delete"})})]}):"NA"})]})})]},j)})})]}),!o.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:v=>{const j=v.target.value;!l||j===""||(l.includes(j)?alert("User with this name already existed."):c([...l,j]))},disabled:!g&&p,children:[a.jsx("option",{value:"",children:"--select user--"}),r==null?void 0:r.map((v,j)=>{var N,E,I,w;return a.jsxs("option",{value:(N=v==null?void 0:v.data)==null?void 0:N.email,selected:!g&&p&&((E=v==null?void 0:v.data)==null?void 0:E.email)===(t==null?void 0:t.email),children:[(I=v==null?void 0:v.data)==null?void 0:I.name,"-",(w=v==null?void 0:v.data)==null?void 0:w.email]},j)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:l==null?void 0:l.map((v,j)=>a.jsxs("span",{className:"badge bg-success",children:[v," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!g&&p)&&confirm("Are you sure want to remove?")){const N=l.filter(E=>E!==v);c(N)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},j))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:h,value:d.title,disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:h,value:d.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:h,value:d.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:d.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:d.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:h,value:d.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:h,value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:h,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:v=>{const j=v.target.value;j!==""&&(d.related_datasets.includes(j)||u(N=>({...N,related_datasets:[...N.related_datasets,j]})))},value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),i==null?void 0:i.map((v,j)=>a.jsx("option",{value:v==null?void 0:v._id,children:v==null?void 0:v.title},j))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(y=d.related_datasets)==null?void 0:y.map((v,j)=>{const N=i==null?void 0:i.find(E=>(E==null?void 0:E._id)==v);return a.jsxs("tr",{children:[a.jsx("th",{children:j+1}),a.jsx("th",{children:N==null?void 0:N.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(E=>{var I;return{...E,related_datasets:(I=d==null?void 0:d.related_datasets)==null?void 0:I.filter(w=>w!==v)}})},children:"Remove"})})]})})})]}),!((b=d.related_datasets)!=null&&b.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:v=>{const j=v.target.value;j!==""&&(d.related_projectitems.includes(j)||u(N=>({...N,related_projectitems:[...N.related_projectitems,j]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((v,j)=>a.jsx("option",{value:v==null?void 0:v._id,children:v==null?void 0:v.title},j))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(m=d.related_projectitems)==null?void 0:m.map((v,j)=>{const N=s==null?void 0:s.find(E=>(E==null?void 0:E._id)==v);return a.jsxs("tr",{children:[a.jsx("th",{children:j+1}),a.jsx("th",{children:N==null?void 0:N.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(E=>{var I;return{...E,related_projectitems:(I=d==null?void 0:d.related_projectitems)==null?void 0:I.filter(w=>w!==v)}})},children:"Remove"})})]})})})]}),!((x=d.related_projectitems)!=null&&x.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]}),a.jsxs("div",{className:"alert alert-warning rounded-0 my-3",children:[a.jsx("strong",{children:"Note:"})," You can upload ",a.jsx("i",{children:"Images"})," related to project later."]}),a.jsx("button",{type:"button",className:"btn btn-shade1 w-100 p-3",onClick:f,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})}),a.jsx(z5,{getsupervisors:r,isAdmin:g,isSupervisor:p,getauth:t})]})},z5=({getsupervisors:t,isAdmin:e,isSupervisor:n,getauth:r})=>{const[s,i]=T.useState(!1),[o,l]=T.useState(r!=null&&r.userType.includes("SUPERVISOR")?[r==null?void 0:r.email]:[]),[c,d]=T.useState([]),u=p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];g&&LC.parse(g,{complete:b=>{const m=b.data.filter(x=>Object.values(x).some(v=>v!==""));d(m)},header:!0})},h=async p=>{try{return!(await Ne(_t(re(W,"projects_main"),Wn("title","==",p)))).empty}catch{return!1}},f=async p=>{if(p.preventDefault(),!o.length){k("danger","Please select supervisors!");return}if(!c.length){k("danger","Invalid CSV File Selected.");return}i(!0);const g=c.map(async y=>{const b=Object.values(y);if(!await h(b[2]))return nt(re(W,"projects_main"),{title:b[1],description:b[5],funding_agency:b[2],pis:b[6],copis:b[7],jrf_phd_scholar:b[4],related_datasets:[],related_projectitems:[],total_fund:b[3],type:b[0],users:o})});await Promise.all(g),k("success","Projects have been saved!"),k("info","Note: You can upload Images related to project later."),i(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Projects"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:p=>{const g=p.target.value;!o||g===""||(o.includes(g)?alert("User with this name already existed."):l([...o,g]))},disabled:!e&&n,children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((p,g)=>{var y,b,m,x;return a.jsxs("option",{value:(y=p==null?void 0:p.data)==null?void 0:y.email,selected:!e&&n&&r.email===((b=p==null?void 0:p.data)==null?void 0:b.email),children:[(m=p==null?void 0:p.data)==null?void 0:m.name,"-",(x=p==null?void 0:p.data)==null?void 0:x.email]},g)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:o==null?void 0:o.map((p,g)=>a.jsxs("span",{className:"badge bg-success",children:[p," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!e&&n)&&confirm("Are you sure want to remove?")){const y=o.filter(b=>b!==p);l(y)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},g))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>MC(U5,$5,"sample_projects_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:u})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:c.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(c[0]).map(p=>a.jsx("th",{children:p},p))})}),a.jsx("tbody",{children:c.map((p,g)=>a.jsx("tr",{children:Object.values(p).map((y,b)=>a.jsx("td",{children:y},b))},g))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:s,onClick:f,children:s?"Please Wait...":"Submit"})]})]})})})};var sA={exports:{}},H5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W5=H5,q5=W5;function iA(){}function aA(){}aA.resetWarningCache=iA;var G5=function(){function t(r,s,i,o,l,c){if(c!==q5){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aA,resetWarningCache:iA};return n.PropTypes=n,n};sA.exports=G5();var K5=sA.exports;const Qe=wo(K5);function Y5(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var oA=T,Q5=Y5(oA);function ij(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var J5=!!(typeof window<"u"&&window.document&&window.document.createElement);function Z5(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=t(o.map(function(u){return u.props})),d.canUseDOM?e(l):n&&(l=n(l))}var d=function(u){X5(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,o=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),c()},f.render=function(){return Q5.createElement(i,this.props)},h}(oA.PureComponent);return ij(d,"displayName","SideEffect("+r(i)+")"),ij(d,"canUseDOM",J5),d}}var e6=Z5;const t6=wo(e6);var n6=typeof Element<"u",r6=typeof Map=="function",s6=typeof Set=="function",i6=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Zd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Zd(t[r],e[r]))return!1;return!0}var i;if(r6&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Zd(r.value[1],e.get(r.value[0])))return!1;return!0}if(s6&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(i6&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(n6&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Zd(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var a6=function(e,n){try{return Zd(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const o6=wo(a6);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var aj=Object.getOwnPropertySymbols,l6=Object.prototype.hasOwnProperty,c6=Object.prototype.propertyIsEnumerable;function d6(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function u6(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var h6=u6()?Object.assign:function(t,e){for(var n,r=d6(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)l6.call(n,o)&&(r[o]=n[o]);if(aj){s=aj(n);for(var l=0;l<s.length;l++)c6.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const f6=wo(h6);var Di={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},pe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(pe).map(function(t){return pe[t]});var Je={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},oh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},xc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},p6=Object.keys(oh).reduce(function(t,e){return t[oh[e]]=e,t},{}),m6=[pe.NOSCRIPT,pe.SCRIPT,pe.STYLE],dr="data-react-helmet",g6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v6=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y6=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x6=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},oj=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},b6=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Bg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},w6=function(e){var n=Za(e,pe.TITLE),r=Za(e,xc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Za(e,xc.DEFAULT_TITLE);return n||s||void 0},_6=function(e){return Za(e,xc.ON_CHANGE_CLIENT_STATE)||function(){}},Lp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return fn({},r,s)},{})},j6=function(e,n){return n.filter(function(r){return typeof r[pe.BASE]<"u"}).map(function(r){return r[pe.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Xo=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&T6("Helmet: "+e+' should be of type "Array". Instead found type "'+g6(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(f){for(var p=void 0,g=Object.keys(f),y=0;y<g.length;y++){var b=g[y],m=b.toLowerCase();n.indexOf(m)!==-1&&!(p===Je.REL&&f[p].toLowerCase()==="canonical")&&!(m===Je.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(b)!==-1&&(b===Je.INNER_HTML||b===Je.CSS_TEXT||b===Je.ITEM_PROP)&&(p=b)}if(!p||!f[p])return!1;var x=f[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][x]?!1:(l[p][x]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=f6({},s[u],l[u]);s[u]=h}return i},[]).reverse()},Za=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},E6=function(e){return{baseTag:j6([Je.HREF,Je.TARGET],e),bodyAttributes:Lp(Di.BODY,e),defer:Za(e,xc.DEFER),encode:Za(e,xc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Lp(Di.HTML,e),linkTags:Xo(pe.LINK,[Je.REL,Je.HREF],e),metaTags:Xo(pe.META,[Je.NAME,Je.CHARSET,Je.HTTPEQUIV,Je.PROPERTY,Je.ITEM_PROP],e),noscriptTags:Xo(pe.NOSCRIPT,[Je.INNER_HTML],e),onChangeClientState:_6(e),scriptTags:Xo(pe.SCRIPT,[Je.SRC,Je.INNER_HTML],e),styleTags:Xo(pe.STYLE,[Je.CSS_TEXT],e),title:w6(e),titleAttributes:Lp(Di.TITLE,e)}},zg=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){zg(e)},0)}}(),lj=function(e){return clearTimeout(e)},S6=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||zg:global.requestAnimationFrame||zg,N6=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||lj:global.cancelAnimationFrame||lj,T6=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Jo=null,I6=function(e){Jo&&N6(Jo),e.defer?Jo=S6(function(){cj(e,function(){Jo=null})}):(cj(e),Jo=null)},cj=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,d=e.onChangeClientState,u=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;Hg(pe.BODY,s),Hg(pe.HTML,i),C6(f,p);var g={baseTag:xa(pe.BASE,r),linkTags:xa(pe.LINK,o),metaTags:xa(pe.META,l),noscriptTags:xa(pe.NOSCRIPT,c),scriptTags:xa(pe.SCRIPT,u),styleTags:xa(pe.STYLE,h)},y={},b={};Object.keys(g).forEach(function(m){var x=g[m],v=x.newTags,j=x.oldTags;v.length&&(y[m]=v),j.length&&(b[m]=g[m].oldTags)}),n&&n(),d(e,y,b)},lA=function(e){return Array.isArray(e)?e.join(""):e},C6=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=lA(e)),Hg(pe.TITLE,n)},Hg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(dr),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var d=l[c],u=n[d]||"";r.getAttribute(d)!==u&&r.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);i.length===o.length?r.removeAttribute(dr):r.getAttribute(dr)!==l.join(",")&&r.setAttribute(dr,l.join(","))}},xa=function(e,n){var r=document.head||document.querySelector(pe.HEAD),s=r.querySelectorAll(e+"["+dr+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(e);for(var u in c)if(c.hasOwnProperty(u))if(u===Je.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===Je.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(dr,"true"),i.some(function(f,p){return l=p,d.isEqualNode(f)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:o}},cA=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},A6=function(e,n,r,s){var i=cA(r),o=lA(n);return i?"<"+e+" "+dr+'="true" '+i+">"+Bg(o,s)+"</"+e+">":"<"+e+" "+dr+'="true">'+Bg(o,s)+"</"+e+">"},P6=function(e,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(d){return!(d===Je.INNER_HTML||d===Je.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+Bg(i[u],r)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=m6.indexOf(e)===-1;return s+"<"+e+" "+dr+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},dA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[oh[s]||s]=e[s],r},n)},k6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[p6[s]||s]=e[s],r},n)},R6=function(e,n,r){var s,i=(s={key:n},s[dr]=!0,s),o=dA(r,i);return[ke.createElement(pe.TITLE,o,n)]},D6=function(e,n){return n.map(function(r,s){var i,o=(i={key:s},i[dr]=!0,i);return Object.keys(r).forEach(function(l){var c=oh[l]||l;if(c===Je.INNER_HTML||c===Je.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=r[l]}),ke.createElement(e,o)})},Wr=function(e,n,r){switch(e){case pe.TITLE:return{toComponent:function(){return R6(e,n.title,n.titleAttributes)},toString:function(){return A6(e,n.title,n.titleAttributes,r)}};case Di.BODY:case Di.HTML:return{toComponent:function(){return dA(n)},toString:function(){return cA(n)}};default:return{toComponent:function(){return D6(e,n)},toString:function(){return P6(e,n,r)}}}},uA=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,d=e.scriptTags,u=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:Wr(pe.BASE,n,s),bodyAttributes:Wr(Di.BODY,r,s),htmlAttributes:Wr(Di.HTML,i,s),link:Wr(pe.LINK,o,s),meta:Wr(pe.META,l,s),noscript:Wr(pe.NOSCRIPT,c,s),script:Wr(pe.SCRIPT,d,s),style:Wr(pe.STYLE,u,s),title:Wr(pe.TITLE,{title:f,titleAttributes:p},s)}},O6=function(e){var n,r;return r=n=function(s){x6(i,s);function i(){return v6(this,i),b6(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!o6(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case pe.SCRIPT:case pe.NOSCRIPT:return{innerHTML:c};case pe.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return fn({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[fn({},h,this.mapNestedChildrenToProps(d,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(u.type){case pe.TITLE:return fn({},h,(c={},c[u.type]=p,c.titleAttributes=fn({},f),c));case pe.BODY:return fn({},h,{bodyAttributes:fn({},f)});case pe.HTML:return fn({},h,{htmlAttributes:fn({},f)})}return fn({},h,(d={},d[u.type]=fn({},f),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=fn({},c);return Object.keys(l).forEach(function(u){var h;d=fn({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return ke.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=oj(f,["children"]),y=k6(g);switch(d.warnOnInvalidChildren(h,p),h.type){case pe.LINK:case pe.META:case pe.NOSCRIPT:case pe.SCRIPT:case pe.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:y,nestedChildren:p});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:y,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=oj(l,["children"]),u=fn({},d);return c&&(u=this.mapChildrenToProps(c,u)),ke.createElement(e,u)},y6(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(ke.Component),n.propTypes={base:Qe.object,bodyAttributes:Qe.object,children:Qe.oneOfType([Qe.arrayOf(Qe.node),Qe.node]),defaultTitle:Qe.string,defer:Qe.bool,encodeSpecialCharacters:Qe.bool,htmlAttributes:Qe.object,link:Qe.arrayOf(Qe.object),meta:Qe.arrayOf(Qe.object),noscript:Qe.arrayOf(Qe.object),onChangeClientState:Qe.func,script:Qe.arrayOf(Qe.object),style:Qe.arrayOf(Qe.object),title:Qe.string,titleAttributes:Qe.object,titleTemplate:Qe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=uA({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},L6=function(){return null},M6=t6(E6,I6,uA)(L6),$t=O6(M6);$t.renderStatic=$t.rewind;const V6=()=>{var u;const[t,e]=T.useState(!1);T.useEffect(()=>{(async()=>{e(!0),await Do(),await fs(),e(!1)})()},[]);const{id:n}=Ur(),s=K(h=>h.getpublications.data).filter(h=>h._id==n)[0],[i,o]=T.useState(s==null?void 0:s.data),l=(u=s==null?void 0:s.data)==null?void 0:u.users,c=h=>{h.preventDefault(),o({...i,[h.target.name]:h.target.value})},d=h=>{if(h.preventDefault(),!i||!l){k("danger","Please fill all required fields!");return}e(!0);const f=_e(W,"publications",s==null?void 0:s._id);at(f,{...i}).then(()=>{k("success","Publication has been updated!"),e(!1),window.location.href="/CVPR_LAB/#/dashboard/publications"}).catch(()=>{k("danger","Error updating publication, Try again."),e(!1)})};if(!s){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Publication"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>window.location.href="/CVPR_LAB/#/dashboard/publications",children:"Back to Publications"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs("form",{onSubmit:d,noValidate:!0,children:[a.jsx("div",{className:"",children:F6.map((h,f)=>h.type==="textarea"?a.jsxs(a.Fragment,{children:[" ",a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:h.text}),a.jsx("textarea",{className:"form-control",name:h.name,rows:10,value:i[h.name],onChange:c,disabled:t||(h==null?void 0:h.disabled)},f)]})," "]}):a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:h.text}),a.jsx("input",{className:"form-control",type:h.type,name:h.name,onChange:c,value:i[h.name],disabled:t||(h==null?void 0:h.disabled)},f)]}))}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",children:"Submit"})]})})]})})},F6=[{text:"Title of Paper",name:"title",type:"text",disabled:!0},{text:"Author(s)",name:"author",type:"text"},{text:"Year",name:"year",type:"number"},{text:"Journal",name:"journal",type:"text"},{text:"Volume",name:"volume",type:"text"},{text:"Number",name:"number",type:"text"},{text:"Pages",name:"pages",type:"text"},{text:"Abstract",name:"abstract",type:"textarea"},{text:"Keywords",name:"keywords",type:"textarea"},{text:"DOI",name:"doi",type:"text",disabled:!0},{text:"ISSN",name:"issn",type:"text"},{text:"Month",name:"month",type:"text"}],U6=()=>{var p,g,y,b,m,x,v,j,N,E,I;const{id:t}=Ur(),e=K(w=>w.getsupervisors.data),n=e==null?void 0:e.filter(w=>(w==null?void 0:w._id)==t)[0],[r,s]=T.useState(!1),[i,o]=T.useState(),[l,c]=T.useState({name:(p=n==null?void 0:n.data)==null?void 0:p.name,email:(g=n==null?void 0:n.data)==null?void 0:g.email,phone:(y=n==null?void 0:n.data)==null?void 0:y.phone,researchInterests:(b=n==null?void 0:n.data)==null?void 0:b.researchInterests,introduction:(m=n==null?void 0:n.data)==null?void 0:m.introduction,accomplishments:(x=n==null?void 0:n.data)==null?void 0:x.accomplishments,designation:(v=n==null?void 0:n.data)==null?void 0:v.designation,professional_affiliation:(j=n==null?void 0:n.data)==null?void 0:j.professional_affiliation,teaching:(N=n==null?void 0:n.data)==null?void 0:N.teaching,links:(E=n==null?void 0:n.data)==null?void 0:E.links}),[d,u]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{fs()},[]);const h=w=>{const{name:_,value:S}=w.target;c(P=>({...P,[_]:S}))},f=async()=>{var M,U;const{name:w,email:_,phone:S,researchInterests:P,introduction:C,accomplishments:R,designation:V,links:B,professional_affiliation:L,teaching:A}=l;if(!w||!_||!S||!P||!C||!R||!V||!B||!L||!A){k("danger","Error! Please fill all required fields.");return}s(!0);const D=_e(W,"supervisors",n==null?void 0:n._id);if(i){if(n&&n.data&&n.data.profileImage){const O=Ce(Ae,`/peoples/supervisor_profile_images/${(U=(M=n==null?void 0:n.data)==null?void 0:M.profileImage)==null?void 0:U.stringValue}`);try{await yr(O)}catch{}}const z=Ce(Ae,`/peoples/supervisor_profile_images/${w}_${i.name}`);try{await $r(z,i),k("info","Profile image uploaded successfully");const O=`${w}_${i.name}`;await at(D,{...l,profileImage:O}),k("success","Supervisor details updated with profile image successfully."),window.location.href="/CVPR_LAB/#/dashboard"}catch{k("warning","Error! while uploading profile image, check your internet connection and try again."),s(!1);return}}else try{await at(D,{...l}),k("success","Supervisor details updated successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{k("danger","Error updating supervisor details."),s(!1);return}s(!1)};if(!n){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Supervisor"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),a.jsx("hr",{}),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"col-sm-12 mb-3",children:a.jsxs("div",{className:"col-sm-2",children:[" ",a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("span",{className:"text-shade2",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("span",{className:"text-shade2",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:h})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",a.jsx("span",{className:"text-shade2",children:"aspect ratio 3:4 only"}),")"]}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:w=>{var S;const _=(S=w.target.files)==null?void 0:S[0];o(_)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",a.jsx("span",{className:"text-shade2",children:"Use comma separated for multiple"}),")"]}),a.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:h,rows:4})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:l.teaching||"",onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:l.accomplishments,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:l.professional_affiliation,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:w=>u({linkName:w.target.value,linkURL:d.linkURL}),value:d.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:w=>u({linkName:d.linkName,linkURL:w.target.value}),value:d.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!d.linkName||!d.linkURL){k("danger","Link Name and URL are required fields.");return}if(l.links.includes(d)){k("danger","This link already exists.");return}c({...l,links:[...l.links,d]}),u({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(I=l==null?void 0:l.links)==null?void 0:I.map((w,_)=>a.jsxs("tr",{children:[a.jsx("th",{children:_+1}),a.jsx("th",{children:w==null?void 0:w.linkName}),a.jsx("th",{children:a.jsx("a",{href:w==null?void 0:w.linkURL,target:"_blank",children:w==null?void 0:w.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&c({...l,links:l==null?void 0:l.links.filter(S=>S.linkName!==(w==null?void 0:w.linkName))})},children:"Remove"})})]}))})]}),!(l!=null&&l.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]}),a.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},$6={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},B6=()=>{var m,x,v,j,N,E,I,w,_,S,P,C,R,V,B,L,A,D,M,U,z;const{id:t}=Ur(),[e,n]=T.useState(!1),r=K(O=>{var F;return(F=O.getprojectitems)==null?void 0:F.data}),s=K(O=>{var F;return(F=O.getdatasets)==null?void 0:F.data}),i=K(O=>O.getsupervisors.data),o=K(O=>{var F;return(F=O.getprojectsmain)==null?void 0:F.data}),l=o==null?void 0:o.filter(O=>(O==null?void 0:O._id)==t)[0],c=[];(v=(x=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:x.values)==null||v.map(O=>{c==null||c.push(O.stringValue)});const d=[];(E=(N=(j=l==null?void 0:l.related_projectitems)==null?void 0:j.arrayValue)==null?void 0:N.values)==null||E.map(O=>{d==null||d.push(O.stringValue)});const[u,h]=T.useState({title:(I=l==null?void 0:l.title)==null?void 0:I.stringValue,description:(w=l==null?void 0:l.description)==null?void 0:w.stringValue,funding_agency:(_=l==null?void 0:l.description)==null?void 0:_.stringValue,pis:(S=l==null?void 0:l.pis)==null?void 0:S.stringValue,copis:(P=l==null?void 0:l.copis)==null?void 0:P.stringValue,jrf_phd_scholar:(C=l==null?void 0:l.jrf_phd_scholar)==null?void 0:C.stringValue,related_datasets:c,related_projectitems:d,total_fund:(R=l==null?void 0:l.total_fund)==null?void 0:R.stringValue,type:(V=l==null?void 0:l.type)==null?void 0:V.stringValue}),f=[];(A=(L=(B=l==null?void 0:l.users)==null?void 0:B.arrayValue)==null?void 0:L.values)==null||A.map(O=>{f==null||f.push(O.stringValue)});const[p,g]=T.useState(f);T.useEffect(()=>{fa(),pa(),Qc()},[]);const y=O=>{const{id:F,value:J}=O.target;h(se=>({...se,[F]:J}))},b=async()=>{if(!u.title||!u.description||!u.type||!u.copis||!u.total_fund||!u.funding_agency||!u.pis||!u.jrf_phd_scholar||!p){k("danger","Please fill out all fields.");return}n(!0);try{const O=_e(W,"projects_main",l==null?void 0:l._id);await at(O,{...u,users:p}),k("success","Project has been saved!"),h($6),n(!1),window.location.href="/CVPR_LAB/#/dashboard/projects"}catch{k("danger","Error! while editing the Project, Try again.")}};if(!l){history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:O=>{const F=O.target.value;!p||F===""||(p.includes(F)?alert("User with this name already existed."):g([...p,F]))},children:[a.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((O,F)=>{var J,se,he;return a.jsxs("option",{value:(J=O==null?void 0:O.data)==null?void 0:J.email,children:[(se=O==null?void 0:O.data)==null?void 0:se.name,"-",(he=O==null?void 0:O.data)==null?void 0:he.email]},F)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((O,F)=>a.jsxs("span",{className:"badge bg-success",children:[O," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const J=p.filter(se=>se!==O);g(J)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},F))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:y,value:u.title,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:y,value:u.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:y,value:u.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:y,value:u.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:y,value:u.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:y,value:u.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:y,value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:y,value:u.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:O=>{const F=O.target.value;F!==""&&(u.related_datasets.includes(F)||h(J=>({...J,related_datasets:[...J.related_datasets,F]})))},value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((O,F)=>a.jsx("option",{value:O==null?void 0:O._id,children:O==null?void 0:O.title},F))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(D=u.related_datasets)==null?void 0:D.map((O,F)=>{const J=s==null?void 0:s.find(se=>(se==null?void 0:se._id)==O);return a.jsxs("tr",{children:[a.jsx("th",{children:F+1}),a.jsx("th",{children:J==null?void 0:J.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(se=>{var he;return{...se,related_datasets:(he=u==null?void 0:u.related_datasets)==null?void 0:he.filter(xe=>xe!==O)}})},children:"Remove"})})]})})})]}),!((M=u.related_datasets)!=null&&M.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:O=>{const F=O.target.value;F!==""&&(u.related_projectitems.includes(F)||h(J=>({...J,related_projectitems:[...J.related_projectitems,F]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((O,F)=>a.jsx("option",{value:O==null?void 0:O._id,children:O==null?void 0:O.title},F))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(U=u.related_projectitems)==null?void 0:U.map((O,F)=>{const J=r==null?void 0:r.find(se=>(se==null?void 0:se._id)==O);return a.jsxs("tr",{children:[a.jsx("th",{children:F+1}),a.jsx("th",{children:J==null?void 0:J.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(se=>{var he;return{...se,related_projectitems:(he=u==null?void 0:u.related_projectitems)==null?void 0:he.filter(xe=>xe!==O)}})},children:"Remove"})})]})})})]}),!((z=u.related_projectitems)!=null&&z.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsx("div",{className:"p-3 mt-4  col-sm-12",children:a.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:b,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})},zx=async()=>{try{const t=re(W,"gallery_images"),e=await Ne(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.id.stringValue;console.log(i);const c=i.timestamp.timestampValue,d=l?await z6(l):null;n.push({_id:o,datetime:c,bannerURL:d})});await Promise.all(r),ot.dispatch(QB(n))}catch(t){console.error("Error fetching Gallery:",t)}},z6=async t=>{try{const e=Ce(Ae,`gallery_images/${t}`);return await Br(e)}catch{return null}};async function hA(t,e){if(!e){if(!confirm("Are you sure want to delete this item?"))return;if(t===null){alert("Invalid Gallery ID");return}}if(t!==null)try{const n=_e(W,"gallery_images",t),i=(await Zn(n)).data().banner;if(await hn(n),i){const o=Ce(Ae,`gallery_images/${i}`);await yr(o)}e||(alert("Gallery item and image deleted successfully!"),location.reload())}catch(n){console.log(n),e||alert("Error deleting Gallery!")}}async function H6(t){for(let e=0;e<t.length;e++)await hA(t[e],!0);alert("Gallery Images deleted successfully!"),location.reload()}function Hx(t){const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e.toLocaleString("en-US",n)}function W6(t){const e=new Date(t),n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<60?`${r} min ago`:s<24?`${s} hours ago`:`${i} days ago`}function q6(t){const e=new Date,n=new Date(t),r=Math.floor((e-n)/1e3);let s=Math.floor(r/31536e3);return s>=1?s+" year"+(s>1?"s":"")+" ago":(s=Math.floor(r/2592e3),s>=1?s+" month"+(s>1?"s":"")+" ago":(s=Math.floor(r/86400),s>=1?s+" day"+(s>1?"s":"")+" ago":(s=Math.floor(r/3600),s>=1?s+" hour"+(s>1?"s":"")+" ago":(s=Math.floor(r/60),s>=1?s+" minute"+(s>1?"s":"")+" ago":Math.floor(r)+" second"+(r>1?"s":"")+" ago"))))}const G6=()=>{const t=K(h=>h.getgallery).data,[e,n]=T.useState([]),[r,s]=T.useState(!1),[i,o]=T.useState({selectedAll:!1,selectedChecks:[]}),[l,c]=T.useState(0);T.useEffect(()=>{zx()},[]);const d=h=>{const f=h.target.files;if(f){if(f.length>10){k("danger","Number of Images must be less than or equal to 10"),h.target.value="";return}const p=Array.from(f),g=[];p.forEach(y=>{const b=new FileReader;b.onload=()=>{typeof b.result=="string"&&g.push(b.result),g.length===p.length&&n(g)},b.readAsDataURL(y)})}},u=async()=>{if(!e.length){k("danger","Please select the images!");return}s(!0);try{const h=e.map(async f=>{const p=Lx(),g=Ce(Ae,`gallery_images/${p}`),y=await fetch(f).then(m=>m.blob()),b=pI(g,y);return new Promise((m,x)=>{b.on("state_changed",v=>{const j=(v.bytesTransferred/v.totalBytes*100).toFixed(2);c(Number(j))},v=>{k("danger","Error uploading image! Try again."),x(v)},async()=>{await nt(re(W,"gallery_images"),{id:p,timestamp:new Date(Date.now())}),m()})})});await Promise.all(h),k("success","Images has been saved!")}catch(h){k("danger","Error uploading images!"),console.error("Error uploading images:",h)}c(0),n([]),s(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Gallery Images"}),a.jsxs("div",{children:[i.selectedChecks.length!==0&&a.jsx("button",{className:"btn btn-shade1",onClick:async()=>{confirm("Are you sure want to delete!")&&(s(!0),await H6(i.selectedChecks),k("success","Images has been deleted!"))},disabled:r,children:r?"Please Wait..":"Delete Selected("+i.selectedChecks.length+")"}),a.jsx("button",{className:"btn btn-dark rounded-0 ms-2","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("input",{type:"checkbox",className:"form-check-input me-2",name:"select_image",id:"select_image",onChange:h=>o({selectedAll:h.target.checked,selectedChecks:h.target.checked?K6(t):[]}),checked:i.selectedAll})," ",a.jsx("span",{children:"Select All "})]})}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Timestamp"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>{const p=i.selectedChecks.includes(h==null?void 0:h._id.toString());return a.jsxs("tr",{children:[a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx("input",{type:"checkbox",className:"form-check-input me-2",onChange:g=>{g.target.checked?o({selectedAll:!1,selectedChecks:[...i.selectedChecks,h==null?void 0:h._id]}):o({selectedAll:!1,selectedChecks:i.selectedChecks.filter(y=>y!=(h==null?void 0:h._id))})},checked:p})}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx(te,{target:"_blank",to:h.bannerURL,style:{width:"200px",overflow:"auto"},children:a.jsx("img",{className:"rounded-2",src:h.bannerURL,alt:"",width:"300px"})})}),a.jsxs("td",{style:{width:"10px"},className:p?"bg-secondary1":"",children:[W6(h.datetime)," on"," ",Hx(h.datetime)]}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:async()=>{await hA(h._id,!1),k("success","Image has been deleted!")},children:"Delete"})})})]})})]},f)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Gellary Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l,"%"]})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Select Images"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:r,multiple:!0})]}),a.jsxs("div",{className:"alert alert-warning",role:"alert",children:["You can only upload"," ",a.jsx("strong",{className:"fw-bold text-shade2",children:"10 Images at a time"}),"!"]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:u,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"}),a.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[a.jsxs("h4",{className:"my-2 text-shade2",children:["Preview (",e.length," selected)"]}),a.jsx("button",{className:"btn btn-sm btn-shade1",style:{height:"fit-content"},onClick:()=>n([]),children:"Remove All"})]}),a.jsx("div",{className:"my-4 d-flex justify-content-center align-items-start flex-wrap gap-2",children:e&&e.map((h,f)=>a.jsx("img",{src:h,alt:`Image ${f}`,style:{width:"300px",height:"auto",cursor:"pointer"},className:"rounded-1 shadow-lg"},f))})]})]})})})]})},K6=t=>{let e=[];return t==null||t.map(n=>{e.push(n==null?void 0:n._id)}),e},Wx=async()=>{try{const t=re(W,"project_main_images"),e=await Ne(t),n=[],r=e.docs.map(async s=>{var u,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(u=i==null?void 0:i.title)==null?void 0:u.stringValue,c=(h=i==null?void 0:i.project)==null?void 0:h.stringValue,d=l?await Y6(c,l):null;n.push({_id:o,title:l,bannerURL:d,project:c})});await Promise.all(r),ot.dispatch(XB(n))}catch(t){console.error("Error fetching ProjectsImages:",t)}},Y6=async(t,e)=>{try{const n=Ce(Ae,`project_main_images/${t+e}`);return await Br(n)}catch{return null}};async function Q6(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid Projects Items ID");return}try{const e=_e(W,"project_main_images",t),s=(await Zn(e)).data().banner;if(await hn(e),s){const i=Ce(Ae,`project_main_images/${s}`);await yr(i)}alert("ProjectsImages item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsImages!")}}}const X6=()=>{var p,g,y,b,m,x,v;const{id:t}=Ur(),e=K(j=>{var N;return(N=j.getprojectsmain)==null?void 0:N.data}),n=K(j=>{var N;return(N=j.getprojectsimages)==null?void 0:N.data}),r=e.find(j=>j._id===t),s=n.filter(j=>(j==null?void 0:j.project)===t);if(!r){history.back();return}const[i,o]=T.useState(null),[l,c]=T.useState(""),[d,u]=T.useState(!1);T.useEffect(()=>{Wx()},[]);const h=j=>{if(j.target.files&&j.target.files.length>0){const N=new FileReader;N.onload=()=>{o(N.result)},N.readAsDataURL(j.target.files[0])}},f=async()=>{if(!i||!l){k("danger","Please select an image and provide a title!");return}u(!0);const j=Ce(Ae,`project_main_images/${t+l}`),N=await fetch(i).then(E=>E.blob());try{await $r(j,N),await nt(re(W,"project_main_images"),{title:l,project:t}),k("success","Image with title has been saved!"),c(""),o(null),u(!1),location.reload()}catch{k("danger","Error uploading image, Try Again!"),c(""),o(null),u(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:(p=r==null?void 0:r.title)==null?void 0:p.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsx("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add Image"}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(g=r==null?void 0:r.funding_agency)==null?void 0:g.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(y=r==null?void 0:r.total_fund)==null?void 0:y.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(b=r==null?void 0:r.pis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(m=r==null?void 0:r.copis)==null?void 0:m.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(x=r==null?void 0:r.jrf_phd_scholar)==null?void 0:x.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-shade2",children:"Introduction "})}),a.jsx("br",{}),(v=r==null?void 0:r.description)==null?void 0:v.stringValue]})})]})})})}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:s==null?void 0:s.map((j,N)=>a.jsxs("tr",{children:[a.jsx("td",{children:N+1}),a.jsx("td",{children:j==null?void 0:j.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:j==null?void 0:j.bannerURL,children:a.jsx("img",{className:"rounded-2",src:j==null?void 0:j.bannerURL,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>Q6(j._id),children:"Delete"})})})]})})]},N))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub project_"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:j=>c(j.target.value),disabled:d,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:d})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},fA=async()=>{console.log("Started!");try{Xt.onAuthStateChanged(async t=>{if(t){const e=_t(re(W,"users"),Wn("email","==",t.email)),n=await Ne(e);if(n.empty)console.log("failed!"),ot.dispatch(g_());else{const s=n.docs[0].data(),{email:i,userType:o}=s,l=t==null?void 0:t.emailVerified;console.log({email:i,userType:o,isVarified:l}),ot.dispatch(MB({email:i,userType:o,isVarified:l}))}}})}catch(t){console.error("Error in getUserAuth:",t),ot.dispatch(g_())}},J6=()=>{var j,N;const t=K(E=>E.getauth),e=K(E=>E.getsupervisors.data),n=K(E=>E.getphdStudents.data),[r,s]=T.useState(!1),[i,o]=T.useState(!1),[l,c]=T.useState([]),[d,u]=T.useState([]),[h,f]=T.useState({email:"",name:""}),p=async()=>{o(!0);const E=await Ne(re(W,"users"));let I=[];E.forEach(async w=>{var S;const _=w.data();if((S=_==null?void 0:_.userType)!=null&&S.includes("ADMIN")){const P=_.userType;console.log({email:_.email,userType:P}),I.push({email:_.email,userType:P})}}),c(I),o(!1)},g=async()=>{o(!0),u([]);const E=await Ne(re(W,"users_requests"));let I=[];E.forEach(async w=>{const _=w.data(),S=_.userType;I.push({email:_.email,userType:S})}),u(I),o(!1)};T.useEffect(()=>{var E;fA(),ha(),fs(),p(),(E=t==null?void 0:t.userType)!=null&&E.includes("ADMIN")&&g()},[]);const y=async()=>{s(!0);try{(await Ne(_t(re(W,"users_requests"),Wn("email","==",t==null?void 0:t.email),Wn("userType","==",t==null?void 0:t.userType)))).empty?(await nt(re(W,"users_requests"),{email:t==null?void 0:t.email,userType:t==null?void 0:t.userType}),k("success","Your request has been sent successfully. Please wait for the admin's approval.")):k("warning","A request with the same email and user type already exists. Please wait for the admin's approval.")}catch(E){console.error("Error while adding admin request:",E),k("danger","Error while adding admin request!")}s(!1)},b=async E=>{s(!0);try{const I=await Ne(_t(re(W,"users_requests"),Wn("email","==",E)));if(I.empty)k("danger","No requests found with the provided email");else{const w=I.docs.map(async _=>{await hn(_.ref)});await Promise.all(w),k("success","Requests deleted successfully"),window.location.reload()}}catch{k("danger","Error deleting requests!")}s(!1)},m=async E=>{s(!0);try{const I=_t(re(W,"users"),Wn("email","==",E)),w=await Ne(I),_=w.docs[0].data();if(!_.userType||!_.userType.includes("ADMIN")){const S=_.userType?_.userType+",ADMIN":"ADMIN";await at(_e(W,"users",w.docs[0].id),{userType:S}),k("success","Admin rights given successfully."),await b(E),window.location.reload()}else k("warning","The selected user is already an admin.")}catch{k("danger","Error while approving admin request!")}s(!1)},x=async()=>{s(!0);try{const E=_t(re(W,"users"),Wn("email","==",h.email)),I=await Ne(E),w=I.docs[0].data();if(!w.userType||!w.userType.includes("ADMIN")){const _=w.userType?w.userType+",ADMIN":"ADMIN";await at(_e(W,"users",I.docs[0].id),{userType:_}),k("success","Admin rights given successfully."),window.location.reload()}else k("warning","The selected user is already an admin.")}catch(E){console.error("Error in changing admin rights:",E),k("danger","Error in changing admin rights")}s(!1)},v=async E=>{s(!0);try{const I=await Ne(_t(re(W,"users"),Wn("email","==",E))),w=[];I.forEach(_=>{const S=_.data();if(S.userType.includes("ADMIN")){const P=S.userType.replace("ADMIN","").replace(",","");w.push(at(_e(W,"users",_.id),{userType:P}))}}),await Promise.all(w),k("success","Admin rights removed successfully from this user."),window.location.reload()}catch{k("danger","Error, while removing admin rights. Try again later.")}s(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Current Site Admins"}),(j=t==null?void 0:t.userType)!=null&&j.includes("ADMIN")?a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0 d-flex justify-content-center align-items-center me-1",disabled:!0,children:"Remove Admin Rights"}),a.jsxs("button",{className:"btn btn-dark btn-sm rounded-0 d-flex justify-content-center align-items-center","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:[a.jsx("i",{className:"bx bxs-edit me-1"})," Change Site Admin"]})]}):a.jsx("button",{className:"btn btn-primary btn-sm rounded-0 d-flex justify-content-center align-items-center",onClick:y,disabled:r,children:r?"Sending Request...":"Request Admin Rights"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:l.map((E,I)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-shade2",children:E.email}),a.jsx("th",{className:"fw-bold text-success",children:E.userType.split(",").map(w=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:w},w))}),a.jsxs("th",{children:[" ",(t==null?void 0:t.email)!==E.email&&t.userType.includes("ADMIN")?a.jsx("button",{className:"btn btn-outline-danger ms-2 btn-sm",onClick:()=>{confirm("Are you sure to delete this user?")&&v(E.email)},disabled:r,children:"Delete"}):a.jsx("button",{className:"btn btn-primary ms-2 btn-sm",disabled:!0,children:"Not Available"})]})]},I))}),!l.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"No Data"})})})]})]})}),((N=t==null?void 0:t.userType)==null?void 0:N.includes("ADMIN"))&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Admin Requests"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:d.map((E,I)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-shade2",children:E.email}),a.jsx("th",{className:"fw-bold text-success",children:E.userType.split(",").map(w=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:w},w))}),a.jsxs("th",{children:[a.jsx("button",{className:"btn btn-shade1 btn-sm",onClick:()=>b(E.email),disabled:r,children:"Reject"}),a.jsx("button",{className:" ms-2 btn btn-outline-primary btn-sm",onClick:()=>m(E.email),disabled:r,children:"Approve"})]})]},I))}),!d.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"No Requests"})})})]})]})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Change Site Admin"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select User (",a.jsx("strong",{className:"text-shade2",children:"*It can be supervisor as well as PHD Student."}),")",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:E=>{var w,_,S,P,C;let I=(_=(w=e.filter(R=>{var V;return((V=R==null?void 0:R.data)==null?void 0:V.name)===E.target.value})[0])==null?void 0:w.data)==null?void 0:_.email;I||(I=(C=(P=(S=n.filter(R=>{var V,B;return((B=(V=R==null?void 0:R.data)==null?void 0:V.name)==null?void 0:B.stringValue)===E.target.value})[0])==null?void 0:S.data)==null?void 0:P.email)==null?void 0:C.stringValue),f({name:E.target.value,email:I})},disabled:r,children:[a.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((E,I)=>{var w,_,S;return a.jsxs("option",{value:(w=E==null?void 0:E.data)==null?void 0:w.name,children:[(_=E==null?void 0:E.data)==null?void 0:_.name,",",(S=E==null?void 0:E.data)==null?void 0:S.email,", Supervisor"]},I)}),n==null?void 0:n.map((E,I)=>{var w,_,S,P,C,R;return a.jsxs("option",{value:(_=(w=E==null?void 0:E.data)==null?void 0:w.name)==null?void 0:_.stringValue,children:[(P=(S=E==null?void 0:E.data)==null?void 0:S.name)==null?void 0:P.stringValue,",",(R=(C=E==null?void 0:E.data)==null?void 0:C.email)==null?void 0:R.stringValue,", PHD Student"]},I)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:h.name?a.jsxs("table",{className:"table table-bordered table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("th",{children:h.name}),a.jsx("th",{children:h.email}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>f({email:"",name:""}),disabled:r,children:"Remove"})})]})})]}):a.jsx("div",{className:"w-100 h5 text-shade2 text-center my-3",children:"No User Selected"})})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:r,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:x,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},pA=[{to:"supervisors",text:"Supervisors"},{to:"settings",text:"Site Settings"},{to:"site-admin",text:"Site Admin"},{to:"cv",text:"Upload CV"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"datasets",text:"Datasets"},{to:"news",text:"News"},{to:"slider-images",text:"Slider Images"},{to:"gallary-images",text:"Gallery Images"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"change-password",text:"Change Password"}],Mp=[{to:"",text:"Home"},...pA],Vp=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},...pA],Fp=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"cv",text:"Upload CV"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"datasets",text:"Datasets"},{to:"change-password",text:"Change Password"}],Up=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"cv",text:"Upload CV"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"change-password",text:"Change Password"}],Z6=()=>{var d,u;const{id:t}=Ur(),n=K(h=>h.getdatasets).data.find(h=>h._id===t);if(!n){history.back();return}const[r,s]=T.useState(null),[i,o]=T.useState(!1);T.useEffect(()=>{fa()},[]);const l=h=>{if(h.target.files&&h.target.files.length>0){const f=new FileReader;f.onload=()=>{s(f.result)},f.readAsDataURL(h.target.files[0])}},c=async()=>{if(!r){k("danger","Please select an image.");return}o(!0);const h=t+"_"+Lx(),f=Ce(Ae,`dataset_images/${h}`),p=await fetch(r).then(g=>g.blob());try{await $r(f,p);const g=_e(W,"datasets",t||""),y=await Zn(g);if(y.exists()){const x=[...y.data().images||[],h];await at(g,{images:x}),k("success","Document successfully updated with new image!")}else k("danger","Something went wrong!");s(null),o(!1),location.reload()}catch{k("danger","Error uploading image, Try Again!"),s(null),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:n==null?void 0:n.title})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3 w-100 justify-justify-content-start",children:[a.jsx("button",{className:"btn btn-info","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Upload Image"}),a.jsx("button",{className:"btn btn-shade1",onClick:()=>history.back(),children:"Back to Datasets"})]}),a.jsx("h4",{className:"fw-bold",children:"1. Dataset Details"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto my-4 card p-3 rounded-0",children:n==null?void 0:n.description}),a.jsx("h4",{className:"fw-bold",children:"2. Dataset Images"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsxs("tbody",{children:[(d=n==null?void 0:n.images)==null?void 0:d.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(te,{target:"_blank",to:h==null?void 0:h.url,children:a.jsx("img",{className:"rounded-2",src:h==null?void 0:h.url,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>C5(n._id,h==null?void 0:h.name),children:"Delete"})})})]})})]},f)),!((u=n==null?void 0:n.images)!=null&&u.length)&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"fw-bold h3 text-success p-5 text-center",children:"No Data"})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Upload Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},eH=()=>{var y,b,m,x,v,j,N,E,I,w,_,S,P,C,R,V,B,L,A,D,M,U,z,O,F,J,se,he,xe,Me,ie,ye,Y,ve,fe,Le,Ee,ae,Pe,ee,He,nn,rn,Fe,rt,xr;const t=K(G=>G.getauth),e=(y=K(G=>G.getphdStudents))==null?void 0:y.data,n=e==null?void 0:e.filter(G=>{var Ue,Ve;return((Ve=(Ue=G==null?void 0:G.data)==null?void 0:Ue.email)==null?void 0:Ve.stringValue)===(t==null?void 0:t.email)})[0];let r="";(x=(m=(b=n==null?void 0:n.data)==null?void 0:b.researchInterests)==null?void 0:m.arrayValue)==null||x.values.map(G=>{r=r+(r===""?"":",")+(G==null?void 0:G.stringValue)});let s=[];(N=(j=(v=n==null?void 0:n.data)==null?void 0:v.links)==null?void 0:j.arrayValue)==null||N.values.map(G=>{var Ue,Ve,zt,Sn,nr,rr;s.push({linkName:(zt=(Ve=(Ue=G==null?void 0:G.mapValue)==null?void 0:Ue.fields)==null?void 0:Ve.linkName)==null?void 0:zt.stringValue,linkURL:(rr=(nr=(Sn=G==null?void 0:G.mapValue)==null?void 0:Sn.fields)==null?void 0:nr.linkURL)==null?void 0:rr.stringValue})});const[i,o]=T.useState(!1),[l,c]=T.useState(),[d,u]=T.useState({name:(I=(E=n==null?void 0:n.data)==null?void 0:E.name)==null?void 0:I.stringValue,email:(_=(w=n==null?void 0:n.data)==null?void 0:w.email)==null?void 0:_.stringValue,phone:(P=(S=n==null?void 0:n.data)==null?void 0:S.mobile)==null?void 0:P.stringValue,researchInterests:r,introduction:(R=(C=n==null?void 0:n.data)==null?void 0:C.introduction)==null?void 0:R.stringValue,links:s||[],personal_email:((B=(V=n==null?void 0:n.data)==null?void 0:V.personal_email)==null?void 0:B.stringValue)||""}),[h,f]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{ha()},[]);const p=G=>{const{name:Ue,value:Ve}=G.target;u(zt=>({...zt,[Ue]:Ve}))},g=async()=>{o(!0);const G=_e(W,"phdStudents",n==null?void 0:n._id);if(l){const Ue=Ce(Ae,`/peoples/phd_profile_images/${d.name}_${l.name}`);await $r(Ue,l).then(async()=>{k("success","Profile image uploaded successfully");try{const Ve=await Zn(G);if(Ve.exists()){const zt={...Ve.data(),...d,researchInterests:d.researchInterests.split(",").map(Sn=>Sn.trim()),profileImage:d.name+"_"+l.name};await at(G,zt),k("success","Document successfully updated!")}else console.log("No such document exists!");u({name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:""}),c(void 0),o(!1),window.location.reload()}catch{k("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),o(!1)}}).catch(()=>{k("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),o(!1)})}else try{const Ue=await Zn(G);if(Ue.exists()){const Ve={...Ue.data(),...d,researchInterests:d.researchInterests.split(",").map(zt=>zt.trim())};await at(G,Ve),console.log("Document successfully updated!")}else console.log("No such document exists!");u({name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:""}),c(void 0),o(!1),window.location.reload()}catch{k("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Profile"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"Edit Profile"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:n==null?void 0:n.profileImage,target:"_blank",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsx("td",{colSpan:7,children:(A=(L=n==null?void 0:n.data)==null?void 0:L.isAlumni)!=null&&A.booleanValue?a.jsx("div",{className:"fw-bold text-shade2",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-shade2",children:"Ongoing Student"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Name"})}),a.jsx("td",{children:(M=(D=n==null?void 0:n.data)==null?void 0:D.name)==null?void 0:M.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-shade2",children:"Email"})}),a.jsx("td",{children:(z=(U=n==null?void 0:n.data)==null?void 0:U.email)==null?void 0:z.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Batch"})]}),a.jsx("td",{children:((F=(O=n==null?void 0:n.data)==null?void 0:O.batch)==null?void 0:F.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(Me=(xe=(he=(se=(J=n==null?void 0:n.data)==null?void 0:J.supervisor)==null?void 0:se.mapValue)==null?void 0:he.fields)==null?void 0:xe.name)==null?void 0:Me.stringValue,", ",a.jsx("strong",{children:"Email: "}),(fe=(ve=(Y=(ye=(ie=n==null?void 0:n.data)==null?void 0:ie.supervisor)==null?void 0:ye.mapValue)==null?void 0:Y.fields)==null?void 0:ve.email)==null?void 0:fe.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((Ee=(Le=n==null?void 0:n.data)==null?void 0:Le.mobile)==null?void 0:Ee.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((Pe=(ae=n==null?void 0:n.data)==null?void 0:ae.personal_email)==null?void 0:Pe.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(rn=(nn=(He=(ee=n==null?void 0:n.data)==null?void 0:ee.researchInterests)==null?void 0:He.arrayValue)==null?void 0:nn.values)==null?void 0:rn.map((G,Ue)=>a.jsx(te,{to:"https://www.google.com/search?q="+(G==null?void 0:G.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:G==null?void 0:G.stringValue},Ue)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(rt=(Fe=n==null?void 0:n.data)==null?void 0:Fe.introduction)==null?void 0:rt.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Links"})}),a.jsx("td",{colSpan:7,children:s.map(G=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(G==null?void 0:G.linkURL,"_blank"),children:G==null?void 0:G.linkName}))})]})]})})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Edit Profile"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name"," ",a.jsx("strong",{className:"text-shade2",children:"*(You can't change name)"})]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:d.name,onChange:p,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email"," ",a.jsx("strong",{className:"text-shade2",children:"*(You can't change email)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:d.email,onChange:p,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Personal Email",a.jsx("strong",{className:"text-shade2",children:"*(Optional)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"personal_email",value:d.personal_email,onChange:p,disabled:i})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:d.phone,onChange:p,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:G=>{var Ve;const Ue=(Ve=G.target.files)==null?void 0:Ve[0];c(Ue)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:d.researchInterests,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:d.introduction,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:G=>f({linkName:G.target.value,linkURL:h.linkURL}),value:h.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:G=>f({linkName:h.linkName,linkURL:G.target.value}),value:h.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!h.linkName||!h.linkURL){k("danger","Link Name and URL are required fields.");return}if(d.links.includes(h)){k("danger","This link already exists.");return}u({...d,links:[...d.links,h]}),f({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(xr=d==null?void 0:d.links)==null?void 0:xr.map((G,Ue)=>a.jsxs("tr",{children:[a.jsx("th",{children:Ue+1}),a.jsx("th",{children:G==null?void 0:G.linkName}),a.jsx("th",{children:a.jsx("a",{href:G==null?void 0:G.linkURL,target:"_blank",children:G==null?void 0:G.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u({...d,links:d==null?void 0:d.links.filter(Ve=>Ve.linkName!==(G==null?void 0:G.linkName))})},children:"Remove"})})]}))})]}),!(d!=null&&d.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:g,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},dj="/CVPR_LAB/assets/pdf-0ZyWgAAD.png",Ef=async t=>{if(!t){k("danger","Invalid parameters!");return}try{const e=Ce(Ae,`users_resume/${t}`);return await Br(e)}catch{return null}},qx=async t=>{if(!t){k("danger","Invalid parameters!");return}console.log("getting..");try{const e=Ce(Ae,`project_videos/video_${t}`);return await Br(e)}catch{return null}};function mA(t){navigator.clipboard.writeText(t).then(function(){k("success","Text copied to clipboard successfully")}).catch(function(){k("danger","Could not copy text: "+t)})}const $p=1,tH=()=>{const t=K(h=>h.getauth),[e,n]=T.useState(!1),[r,s]=T.useState(null),[i,o]=T.useState("");T.useEffect(()=>{(async()=>{n(!0);const f=await Ef(t==null?void 0:t.email);if(!f||f===null){n(!1);return}o(f),n(!1)})()},[]);const l=h=>{const f=h.target.files&&h.target.files[0];f&&(f.size/1048576>$p?(k("danger","File size must be less than "+$p+"Mb"),s(null)):s(f))},c=()=>{if(r){const h=URL.createObjectURL(r),f=window.open(h,"_blank","width=500,height=600");f&&f.focus()}else k("danger","No File Selected")},d=async()=>{if(!r){k("danger","Please select a file.");return}n(!0);try{if(!(t!=null&&t.email)){k("danger","Invalid Parameters.");return}const h=Ce(Ae,"users_resume/"+(t==null?void 0:t.email)),f=new FileReader,p=await new Promise((b,m)=>{f.onload=x=>{var v;((v=x.target)==null?void 0:v.result)instanceof ArrayBuffer?b(x.target.result):m(new Error("Failed to read file"))},f.readAsArrayBuffer(r)}),g=new Uint8Array(p);await $r(h,g,{contentType:"application/pdf"}),k("success","Upload Successful!")}catch{k("danger","Error, while uploading the CV, Please try again later.")}s(null),n(!1),window.location.reload()},u=async()=>{if(confirm("Are you sure want to delete?")){n(!0);try{const h=Ce(Ae,"users_resume/"+(t==null?void 0:t.email));await yr(h),k("success","CV Deleted Successfully!"),window.location.reload()}catch{k("danger","Error while deleting the cv. Please try again later.")}n(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Resume"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Upload CV"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"col-sm-12 card py-4 d-flex flex-nowrap flex-row hover_bg",children:[!i&&!e&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"No CV Uploaded"})}),e&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"Please wait.."})}),i&&!e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{width:"fit-content"},children:a.jsx("img",{src:dj,alt:"PDF Icons",style:{width:"200px"},srcSet:dj})}),a.jsxs("div",{style:{width:"fit-content"},className:"mx-3",children:[a.jsx("button",{className:"btn btn-link mx-0 px-0",onClick:()=>{const h=window.open(i,"_blank","width=550,height=700");h&&h.focus()},disabled:e,children:a.jsx("h3",{children:"Resume.pdf"})}),a.jsxs("p",{className:"text-muted",children:["Current Version("," ",a.jsx("a",{href:i,target:"_blank",style:{textDecoration:"none"},children:"View"})," ",")"]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm me-2",onClick:()=>mA(i),children:"Copy Link"})," ",a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:u,children:"Delete"})]})]})]})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Upload Your CV"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"alert-primary alert card p-3 rounded-0 ",children:[a.jsx("label",{htmlFor:"file_upload",children:"Select PDF file"}),a.jsxs("div",{className:"input-group mb-2 d-flex justify-content-between align-items-center",children:[a.jsx("input",{type:"file",name:"file_upload",accept:"application/pdf",id:"file_upload",multiple:!1,className:"form-control p-3 border-1 border-danger",onChange:l}),a.jsx("div",{className:"input-group-postpend",children:a.jsx("button",{className:"btn btn-shade1 p-3",style:{width:"100px"},disabled:e||!r,onClick:()=>c(),children:"Open"})})]})]}),a.jsxs("div",{className:"alert alert-info rounded-0",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to select a PDF file:"}),a.jsxs("ol",{children:[a.jsx("li",{children:'Click on the "Select PDF file" button.'}),a.jsx("li",{children:"Choose the PDF file you want to upload from your computer."}),a.jsx("li",{children:'Click "Open" to confirm your selection.'})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: PDF (.pdf)"}),a.jsxs("p",{className:"mb-0",children:["Maximum file size: ",$p,"MB"]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:e,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},uj="/CVPR_LAB/assets/video-SNzMg2sE.png",Bp=10,nH=()=>{var y,b,m,x,v,j,N,E,I,w,_,S,P,C,R;const{id:t}=Ur(),e=K(V=>{var B;return(B=V.getprojectsmain)==null?void 0:B.data}),n=e.find(V=>V._id===t);if(!n||!e){history.back();return}const[r,s]=T.useState(!1),[i,o]=T.useState(null),[l,c]=T.useState(0),[d,u]=T.useState("");T.useEffect(()=>{const V=async()=>{s(!0);const B=await qx(t);if(!B||B===null){s(!1);return}u(B),s(!1)};Qc(),V()},[]);const h=V=>{const B=V.target.files&&V.target.files[0];if(B){const L=B.size/1048576;L>Bp?(k("danger","Video File size must be less than "+Bp+"Mb, Select File Size:"+L.toFixed(0)+"MB"),o(null)):o(B)}},f=async()=>{if(!i){k("danger","Please select a valid video file!");return}s(!0);try{const V={contentType:"video/mp4"},B="video_"+t,L=Ce(Ae,`project_videos/${B}`),D=pI(L,i,V);await new Promise((M,U)=>{D.on("state_changed",z=>{const O=(z.bytesTransferred/z.totalBytes*100).toFixed(2);c(Number(O))},z=>{k("danger","Error uploading video! Try again."),s(!1),U(z)},async()=>{const z=_e(W,"projects_main",n==null?void 0:n._id);await at(z,{video:{timestamp:BV(),name:B}}),k("success","Video has been uploaded!"),s(!1),M(),location.reload()})})}catch{k("danger","Error uploading the video, Try Again!"),s(!1)}o(null)},p=async()=>{if(confirm("Are you sure want to delete?")){s(!0);try{const V=Ce(Ae,"project_videos/video_"+t);await yr(V);const B=_e(W,"projects_main",t);await at(B,{video:{timestamp:null,name:null}}),k("success","Deleted Successfully!"),window.location.reload()}catch{k("danger","Error while deleting. Please try again later.")}s(!1)}},g=()=>{if(i){const V=URL.createObjectURL(i),B=window.open(V,"_blank","width=500,height=600");B&&B.focus()}else k("danger","No File Selected")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:(y=n==null?void 0:n.title)==null?void 0:y.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsxs("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:[a.jsx("i",{className:"bx bx-upload me-1"}),"Upload Video"]}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(b=n==null?void 0:n.funding_agency)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(m=n==null?void 0:n.total_fund)==null?void 0:m.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(x=n==null?void 0:n.pis)==null?void 0:x.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(v=n==null?void 0:n.copis)==null?void 0:v.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(j=n==null?void 0:n.jrf_phd_scholar)==null?void 0:j.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-shade2",children:"Introduction "})}),a.jsx("br",{}),(N=n==null?void 0:n.description)==null?void 0:N.stringValue]})})]})})})}),a.jsxs("div",{className:"col-sm-12 card py-4 d-flex flex-nowrap flex-row hover_bg",children:[!d&&!r&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"No Video Uploaded"})}),r&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"Please wait.."})}),d&&!r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"ps-3",style:{width:"fit-content"},children:a.jsx("img",{src:uj,alt:"PDF Icons",style:{width:"200px"},srcSet:uj})}),a.jsxs("div",{style:{width:"fit-content"},className:"mx-3",children:[a.jsx("button",{className:"btn btn-link mx-0 px-0",onClick:()=>{const V=window.open(d,"_blank","width=550,height=700");V&&V.focus()},disabled:r,children:a.jsxs("h3",{children:["Video_",t,".mp4"]})}),a.jsxs("p",{className:"text-muted",children:["Current Version(",a.jsx("a",{href:d,target:"_blank",style:{textDecoration:"none"},children:"View"})," ",")",a.jsx("br",{})," ",a.jsxs("small",{children:["Uploaded On:"," ",a.jsx("strong",{className:"text-shade2",children:q6((_=(w=(I=(E=n==null?void 0:n.video)==null?void 0:E.mapValue)==null?void 0:I.fields)==null?void 0:w.timestamp)==null?void 0:_.timestampValue)})," ","(",(R=(C=(P=(S=n==null?void 0:n.video)==null?void 0:S.mapValue)==null?void 0:P.fields)==null?void 0:C.timestamp)==null?void 0:R.timestampValue,")"]})]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm me-2",onClick:()=>mA(d),children:"Copy Link"})," ",a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:p,disabled:r,children:"Delete"})]})]})]})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:"addSliderModalLabel",children:[a.jsx("i",{className:"bx bx-upload me-1"})," Upload Video"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"alert-primary alert card p-3 rounded-0 ",children:[a.jsx("label",{htmlFor:"file_upload",children:"Select Video file"}),a.jsxs("div",{className:"input-group mb-2 d-flex justify-content-between align-items-center",children:[a.jsx("input",{type:"file",name:"file_upload",accept:"video/mp4",id:"file_upload",multiple:!1,className:"form-control p-3 border-1 border-danger",onChange:h}),a.jsx("div",{className:"input-group-postpend",children:a.jsx("button",{className:"btn btn-shade1 p-3",style:{width:"100px"},disabled:r||!i,onClick:()=>g(),children:"Open"})})]})]}),r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l," %"]})}),a.jsxs("div",{className:"alert alert-info rounded-0",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to select a Video file:"}),a.jsxs("ol",{children:[a.jsx("li",{children:'Click on the "Select Video file" button.'}),a.jsx("li",{children:"Choose the Video file you want to upload from your computer."}),a.jsx("li",{children:'Click "Open" to confirm your selection.'})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: Video (.mp4)"}),a.jsxs("p",{className:"mb-0",children:["Maximum file size: ",Bp,"MB"]})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},rH=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{children:"Website Settings"})}),a.jsx("hr",{}),a.jsx("div",{className:"alert alert-warning rounded-0 fw-bold",children:"Changes here will be directly shown to the website, do not change the settings if not required."}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Setting"})," "]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Website Name"}),a.jsx("td",{children:a.jsx(sH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"About"}),a.jsx("td",{children:a.jsx(iH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Address"}),a.jsx("td",{children:a.jsx(aH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Logo"}),a.jsx("td",{children:a.jsx(oH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Themes"}),a.jsx("td",{children:a.jsx(lH,{})})]})]})]})})]}),a.jsx(cH,{})]}),sH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.name),l=async()=>{if(i===""){k("warning","Website Name can not be empty!");return}n(!0),s(!0);try{const c=_t(re(W,"website_settings"),ti(1)),u=(await Ne(c)).docs[0];if(u){const h=_e(W,"website_settings",u.id);await at(h,{name:i}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("input",{className:"form-control form-control",type:"text",name:"website_name",id:"website_name",value:i,onChange:c=>o(c.target.value),disabled:e||!r}),!r&&a.jsx("button",{className:"btn btn-primary",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},iH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.about),l=async()=>{if(i===""){k("warning","Website About can not be empty!");return}n(!0),s(!0);try{const c=_t(re(W,"website_settings"),ti(1)),u=(await Ne(c)).docs[0];if(u){const h=_e(W,"website_settings",u.id);await at(h,{about:i}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("textarea",{className:"form-control form-control",name:"website_about",id:"website_about",rows:5,value:i,onChange:c=>o(c.target.value),disabled:e||!r,placeholder:"about the website..."}),!r&&a.jsx("button",{className:"btn btn-primary h-100",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success h-100",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},aH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.address),l=async()=>{if(i===""){k("warning","Website Address can not be empty!");return}n(!0),s(!0);try{const c=_t(re(W,"website_settings"),ti(1)),u=(await Ne(c)).docs[0];if(u){const h=_e(W,"website_settings",u.id);await at(h,{address:i}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("textarea",{className:"form-control form-control",name:"website_address",id:"website_address",rows:5,value:i,onChange:c=>o(c.target.value),disabled:e||!r,placeholder:"ie. Room Number : 3rd Floor,EE Department"}),!r&&a.jsx("button",{className:"btn btn-primary h-100",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success h-100",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},oH=()=>{const t=K(p=>p.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(),[l,c]=T.useState(""),d=T.useRef(null),u=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{o(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(d&&d.current){const p=d.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l){k("danger","Please select an image!");return}n(!0);try{const p=_t(re(W,"website_settings"),ti(1)),y=(await Ne(p)).docs[0];if(y){const b=_e(W,"website_settings",y.id);await at(b,{logo:l}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 d-flex flex-nowrap",children:[(t==null?void 0:t.logo)&&a.jsx("img",{className:"card p-3 rounded-0",src:t==null?void 0:t.logo,alt:"website_logo",srcSet:t==null?void 0:t.logo,style:{height:"100px"}}),!r&&a.jsx("button",{className:"btn btn-primary h-100 ms-2",onClick:()=>s(!0),children:"Edit"})]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[r&&a.jsxs("div",{className:"",children:[a.jsx("input",{className:"form-control form-control",name:"website_logo",id:"website_logo",type:"file",onChange:u,accept:"image/*",disabled:e||!r,style:{width:"fit-content"}}),a.jsx("div",{className:"",children:a.jsx(eA,{src:i,ref:d,guides:!0,crop:h})})]}),r&&a.jsx("button",{className:"btn btn-success h-100 ms-2",onClick:f,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100 ms-2 ",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})]})},lH=()=>{const t=K(i=>i.getsettings.data),[e,n]=T.useState(!1),r=async i=>{if(i===""){k("warning","Invalid Action!");return}n(!0);try{let o=[...t.themes.filter(h=>h.name!==i)];o=o.map(h=>({...h,current:!1}));let l=t.themes.find(h=>h.name===i);if(!l){k("danger","Invalid Action!");return}o.push({name:l.name,colors:l.colors,default:l.default,current:!0});const c=_t(re(W,"website_settings"),ti(1)),u=(await Ne(c)).docs[0];if(u){const h=_e(W,"website_settings",u.id);await at(h,{themes:o}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),window.location.reload()},s=async i=>{if(i===""){k("warning","Invalid Action!");return}n(!0);try{let o=[...t.themes.filter(u=>u.name!==i)];const l=_t(re(W,"website_settings"),ti(1)),d=(await Ne(l)).docs[0];if(d){const u=_e(W,"website_settings",d.id);await at(u,{themes:o}),k("success","Deleted successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}n(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-wrap m-1",children:[a.jsx("div",{className:"w-100 text-end mb-3",children:a.jsx("button",{className:"btn btn-shade1","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Create Theme"})}),a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Theme Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Colors (Primary, Secondary, Shade 1, Shade 2)"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.themes.map((i,o)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold",children:[i==null?void 0:i.name,i.default?" (Default Theme)":" (Custom Theme)"]}),a.jsxs("td",{children:[a.jsx("input",{title:"Primary Color",className:"me-1 p-0 border-0 w0",name:"saved_theme_"+i.colors.primary,type:"color",value:i.colors.primary,readOnly:!0}),a.jsx("input",{title:"Secondary Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.secondary,type:"color",value:i.colors.secondary,readOnly:!0}),a.jsx("input",{title:"Shade 1 Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.shade1,type:"color",value:i.colors.shade1,readOnly:!0}),a.jsx("input",{title:"Shade 2 Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.shade2,type:"color",value:i.colors.shade2,readOnly:!0})]}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-nowrap",children:i.current?a.jsx("button",{className:"btn btn-sm btn-primary me-2",disabled:!0,children:"Applied"}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>r(i.name),disabled:e,children:"Apply"})," ",!i.default&&a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>s(i.name),disabled:e,children:"Delete"})]})})})]},o))})]}),a.jsx("div",{className:"alert alert-info w-100 rounded-0 fw-bold p-1",children:"You can only delete custom themes, you can not delete default themes."})]})},cH=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState({name:"",colors:{primary:"",secondary:"",shade1:"",shade2:""}}),s=async()=>{if(n.name===""){k("warning","Theme Name can not be empty!");return}if(n.colors.primary===""||n.colors.secondary===""||n.colors.shade1===""||n.colors.shade2===""){k("warning","Theme Colors can not be empty!");return}e(!0);try{const i=_t(re(W,"website_settings"),ti(1)),l=(await Ne(i)).docs[0];if(l){const c=_e(W,"website_settings",l.id),d=l.data();if(d.themes.filter(h=>h.name===n.name)[0]){k("danger","Theme with same name already existed");return}await at(c,{themes:[...d.themes,{name:n.name,colors:n.colors,default:!1,current:!1}]}),k("success","Updated successfully.")}else k("danger","Invalid Action!")}catch{k("danger","Error Occurred while Saving the changes.")}e(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Create Custom Theme"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"title",className:"form-label",children:["Theme Name"," ",a.jsx("strong",{className:"text-shade2",children:"*(required)"})]}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",disabled:t,onChange:i=>r({name:i.target.value,colors:n.colors})})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"date",className:"form-label",children:["Select Colours"," ",a.jsx("strong",{className:"text-shade2",children:"*(required)"})]}),a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Colour Type"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paste Color Code"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Select Value"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsxs("td",{children:["Primary Color"," ",a.jsx("strong",{style:{color:n.colors.primary},children:"(dark in general for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.primary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:i.target.value,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",disabled:t,value:n.colors.primary,onChange:i=>r({name:n.name,colors:{primary:i.target.value,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Secondary Color"," ",a.jsx("strong",{style:{color:n.colors.secondary},children:"(light in general for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.secondary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:i.target.value,shade1:n.colors.shade1,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",value:n.colors.secondary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:i.target.value,shade1:n.colors.shade1,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Shade 1"," ",a.jsx("strong",{style:{color:n.colors.shade1},children:"(can be any colour, dark for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.shade1,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:i.target.value,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",disabled:t,value:n.colors.shade1,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:i.target.value,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Shade 2"," ",a.jsx("strong",{style:{color:n.colors.shade2},children:"(can be any colour, dark for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.shade2,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:i.target.value}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",value:n.colors.shade2,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:i.target.value}})})]})]})]})]})]}),a.jsxs("div",{className:"alert alert-info rounded-0 p-2",children:["You can prefer this"," ",a.jsx("a",{href:"https://colorhunt.co/",target:"_blank",children:"colorhunt.co"})," ","for the color scheme. If you want to use your own colors."]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:t,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:s,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"+ Add"})]})]})})})},dH=()=>{const t=K(l=>l.getauth),[e,n]=T.useState(0),[r,s]=T.useState(!1);T.useEffect(()=>{const l=Xt.onAuthStateChanged(async c=>{if(!c)try{await Xt.signOut(),window.location.href="/"}catch{console.error("Error logging out.")}});return()=>l()},[]),T.useEffect(()=>{fA()},[]);const i=async()=>{if(confirm("Are you sure want to logout?"))try{await Xt.signOut(),window.close()}catch{console.error("Error logging out.")}},o=async()=>{s(!0);try{const l=Xt==null?void 0:Xt.currentUser;l?(await A4(l),k("success","Email has been sent, kindly check your inbox or spam!"),s(!1)):(k("danger","No authenticated user found!"),s(!1))}catch{k("danger","Error sending email verification!"),s(!1)}window.location.reload()};if(!(t!=null&&t.email)&&!(t!=null&&t.userType))return a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:a.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t!=null&&t.email)return a.jsxs(a.Fragment,{children:[!(t!=null&&t.isVarified)&&a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh",position:"fixed",top:0,left:0,zIndex:999,backgroundColor:"#000000c8"},children:a.jsxs("div",{className:"alert alert-danger fw-bold hover_",children:[a.jsx("h4",{className:"fw-bold text-shade2",children:"Warning"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Your account has not yet been verified."}),a.jsx("li",{children:"You cannot perform actions until your account is verified."}),a.jsxs("li",{children:["To send a verification email, click on the following link:"," ",a.jsx("button",{className:"btn btn-link text-shade2 fw-bold px-1 py-0",onClick:o,disabled:r,children:r?"Sending...":"Click here"})]}),a.jsxs("li",{children:["If you wish to close the window, click the following link:"," ",a.jsx("button",{className:"btn btn-link text-shade2 fw-bold px-1 py-0",onClick:i,children:"Close Window"})]})]})]})}),a.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("h4",{children:["Welcome, ",t==null?void 0:t.email,"(",a.jsx("strong",{className:"text-shade2",children:t==null?void 0:t.userType}),")"]})})}),a.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("div",{className:"list-group",children:[(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(Mp==null?void 0:Mp.map((l,c)=>a.jsx(te,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(Vp==null?void 0:Vp.map((l,c)=>a.jsx(te,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(Up==null?void 0:Up.map((l,c)=>a.jsx(te,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(Fp==null?void 0:Fp.map((l,c)=>a.jsx(te,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),a.jsxs(te,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:[a.jsx("i",{className:"bx bxs-home-alt-2 me-1"})," Website Home"]}),a.jsxs(te,{to:"#",onClick:i,className:"d-flex align-items-center list-group-item list-group-item-action text-shade2",children:[a.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),a.jsx($t,{children:a.jsx("title",{children:"Dashboard "})}),(t==null?void 0:t.isVarified)&&a.jsxs(Gv,{children:[a.jsx(ge,{element:a.jsx("h1",{children:"Not Found"}),path:"*"}),a.jsx(ge,{element:a.jsx("div",{className:"w-100 p-3 card mx-3",children:a.jsx("h1",{className:"fw-bold text-shade2",children:"Welcome"})}),path:"/"}),a.jsx(ge,{element:a.jsx(N5,{}),path:"/supervisors"}),a.jsx(ge,{element:a.jsx(rH,{}),path:"/settings"}),a.jsx(ge,{element:a.jsx(U6,{}),path:"/supervisors/:id"}),a.jsx(ge,{element:a.jsx(g9,{}),path:"/publications"}),a.jsx(ge,{element:a.jsx(V6,{}),path:"/publications/:id"}),a.jsx(ge,{element:a.jsx(w5,{}),path:"/peoples"}),a.jsx(ge,{element:a.jsx(tH,{}),path:"/cv"}),a.jsx(ge,{element:a.jsx(D5,{}),path:"/research"}),a.jsx(ge,{element:a.jsx(M5,{}),path:"/research/:id"}),a.jsx(ge,{element:a.jsx(V5,{}),path:"/projects-items"}),a.jsx(ge,{element:a.jsx(B5,{}),path:"/projects"}),a.jsx(ge,{element:a.jsx(B6,{}),path:"/projects/:id"}),a.jsx(ge,{element:a.jsx(X6,{}),path:"/projects/images/:id"}),a.jsx(ge,{element:a.jsx(nH,{}),path:"/projects/video/:id"}),a.jsx(ge,{element:a.jsx(A5,{}),path:"/datasets"}),a.jsx(ge,{element:a.jsx(Z6,{}),path:"/datasets/:id"}),a.jsx(ge,{element:a.jsx(w9,{}),path:"/news"}),a.jsx(ge,{element:a.jsx(j9,{}),path:"/change-password"}),a.jsx(ge,{element:a.jsx(y5,{}),path:"/slider-images"}),a.jsx(ge,{element:a.jsx(G6,{}),path:"/gallary-images"}),a.jsx(ge,{element:a.jsx(J6,{}),path:"/site-admin"}),a.jsx(ge,{element:a.jsx(eH,{}),path:"/profile-phd"})]})]})]})},Gx=()=>{const t=K(e=>e.getsettings.data);return a.jsx(a.Fragment,{children:a.jsxs("div",{role:"navigation",children:[a.jsx("div",{className:"p-3",children:a.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[a.jsx("div",{className:"col-lg-1 col-md-1 text-center",children:a.jsx("div",{className:"",children:a.jsx("img",{className:"img-fluid",src:t==null?void 0:t.logo,alt:"LOGO",style:{height:"50px",width:"auto"}})})}),a.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:a.jsx("div",{className:"mt-2",children:t==null?void 0:t.address})})]})}),a.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:a.jsx("nav",{className:"navbar navbar-expand-md",children:a.jsxs("div",{className:"container-fluid",children:[a.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[a.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),a.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:a.jsxs("ul",{className:"navbar-nav mx-auto ",children:[a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"Peoples"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2 active","aria-current":"page",to:"/gallery",children:"Gallery"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),a.jsx("li",{className:"nav-item",children:a.jsx(te,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})})};function hj(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Kx(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:hj(e[n])&&hj(t[n])&&Object.keys(e[n]).length>0&&Kx(t[n],e[n])})}const gA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ss(){const t=typeof document<"u"?document:{};return Kx(t,gA),t}const uH={document:gA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Fn(){const t=typeof window<"u"?window:{};return Kx(t,uH),t}function hH(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function fH(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Wg(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function lh(){return Date.now()}function pH(t){const e=Fn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function mH(t,e){e===void 0&&(e="x");const n=Fn();let r,s,i;const o=pH(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Ad(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function gH(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Tn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!gH(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Ad(t[l])&&Ad(r[l])?r[l].__swiper__?t[l]=r[l]:Tn(t[l],r[l]):!Ad(t[l])&&Ad(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:Tn(t[l],r[l])):t[l]=r[l])}}}return t}function Pd(t,e,n){t.style.setProperty(e,n)}function vA(t){let{swiper:e,targetPosition:n,side:r}=t;const s=Fn(),i=-e.translate;let o=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const d=n>i?"next":"prev",u=(f,p)=>d==="next"&&f>=p||d==="prev"&&f<=p,h=()=>{l=new Date().getTime(),o===null&&(o=l);const f=Math.max(Math.min((l-o)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=i+p*(n-i);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(h)};h()}function Tr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function ch(t){try{console.warn(t);return}catch{}}function dh(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:hH(e)),n}function vH(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function yH(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Os(t,e){return Fn().getComputedStyle(t,null).getPropertyValue(e)}function uh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function yA(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function qg(t,e,n){const r=Fn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function Tt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let zp;function xH(){const t=Fn(),e=ss();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function xA(){return zp||(zp=xH()),zp}let Hp;function bH(t){let{userAgent:e}=t===void 0?{}:t;const n=xA(),r=Fn(),s=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&y.indexOf(`${l}x${c}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),d&&!p&&(o.os="android",o.android=!0),(u||f||h)&&(o.os="ios",o.ios=!0),o}function bA(t){return t===void 0&&(t={}),Hp||(Hp=bH(t)),Hp}let Wp;function wH(){const t=Fn(),e=bA();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=c<16||c===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function _H(){return Wp||(Wp=wH()),Wp}function jH(t){let{swiper:e,on:n,emit:r}=t;const s=Fn();let i=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(h=>{o=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,y=p;h.forEach(b=>{let{contentBoxSize:m,contentRect:x,target:v}=b;v&&v!==e.el||(g=x?x.width:(m[0]||m).inlineSize,y=x?x.height:(m[0]||m).blockSize)}),(g!==f||y!==p)&&l()})}),i.observe(e.el))},d=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",u)}),n("destroy",()=>{d(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",u)})}function EH(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],o=Fn(),l=function(u,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const y=function(){s("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});p.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=yA(e.hostEl);for(let h=0;h<u.length;h+=1)l(u[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var SH={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),t}};function NH(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Os(r,"padding-left")||0,10)-parseInt(Os(r,"padding-right")||0,10),n=n-parseInt(Os(r,"padding-top")||0,10)-parseInt(Os(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function TH(){const t=this;function e(S,P){return parseFloat(S.getPropertyValue(t.getDirectionLabel(P))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,u=Tr(s,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:u.length;let f=[];const p=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let b=n.slidesOffsetAfter;typeof b=="function"&&(b=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,x=t.slidesGrid.length;let v=n.spaceBetween,j=-y,N=0,E=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v,u.forEach(S=>{o?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Pd(r,"--swiper-centered-offset-before",""),Pd(r,"--swiper-centered-offset-after",""));const I=n.grid&&n.grid.rows>1&&t.grid;I?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let w;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<h;S+=1){w=0;let P;if(u[S]&&(P=u[S]),I&&t.grid.updateSlide(S,P,u),!(u[S]&&Os(P,"display")==="none")){if(n.slidesPerView==="auto"){_&&(u[S].style[t.getDirectionLabel("width")]="");const C=getComputedStyle(P),R=P.style.transform,V=P.style.webkitTransform;if(R&&(P.style.transform="none"),V&&(P.style.webkitTransform="none"),n.roundLengths)w=t.isHorizontal()?qg(P,"width",!0):qg(P,"height",!0);else{const B=e(C,"width"),L=e(C,"padding-left"),A=e(C,"padding-right"),D=e(C,"margin-left"),M=e(C,"margin-right"),U=C.getPropertyValue("box-sizing");if(U&&U==="border-box")w=B+D+M;else{const{clientWidth:z,offsetWidth:O}=P;w=B+L+A+D+M+(O-z)}}R&&(P.style.transform=R),V&&(P.style.webkitTransform=V),n.roundLengths&&(w=Math.floor(w))}else w=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),u[S]&&(u[S].style[t.getDirectionLabel("width")]=`${w}px`);u[S]&&(u[S].swiperSlideSize=w),g.push(w),n.centeredSlides?(j=j+w/2+N/2+v,N===0&&S!==0&&(j=j-i/2-v),S===0&&(j=j-i/2-v),Math.abs(j)<1/1e3&&(j=0),n.roundLengths&&(j=Math.floor(j)),E%n.slidesPerGroup===0&&f.push(j),p.push(j)):(n.roundLengths&&(j=Math.floor(j)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&f.push(j),p.push(j),j=j+w+v),t.virtualSize+=w+v,N=w,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+b,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+v}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),I&&t.grid.updateWrapperSize(w,f),!n.centeredSlides){const S=[];for(let P=0;P<f.length;P+=1){let C=f[P];n.roundLengths&&(C=Math.floor(C)),f[P]<=t.virtualSize-i&&S.push(C)}f=S,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(c&&n.loop){const S=g[0]+v;if(n.slidesPerGroup>1){const P=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),C=S*n.slidesPerGroup;for(let R=0;R<P;R+=1)f.push(f[f.length-1]+C)}for(let P=0;P<t.virtual.slidesBefore+t.virtual.slidesAfter;P+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+S),p.push(p[p.length-1]+S),t.virtualSize+=S}if(f.length===0&&(f=[0]),v!==0){const S=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((P,C)=>!n.cssMode||n.loop?!0:C!==u.length-1).forEach(P=>{P.style[S]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;g.forEach(C=>{S+=C+(v||0)}),S-=v;const P=S-i;f=f.map(C=>C<=0?-y:C>P?P+b:C)}if(n.centerInsufficientSlides){let S=0;if(g.forEach(P=>{S+=P+(v||0)}),S-=v,S<i){const P=(i-S)/2;f.forEach((C,R)=>{f[R]=C-P}),p.forEach((C,R)=>{p[R]=C+P})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Pd(r,"--swiper-centered-offset-before",`${-f[0]}px`),Pd(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const S=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(C=>C+S),t.slidesGrid=t.slidesGrid.map(C=>C+P)}if(h!==d&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,P=t.el.classList.contains(S);h<=n.maxBackfaceHiddenSlides?P||t.el.classList.add(S):P&&t.el.classList.remove(S)}}function IH(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function CH(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function AH(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const d=r[c];let u=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),f=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),p=-(o-u),g=p+e.slidesSizesGrid[c],y=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),y&&r[c].classList.add(n.slideFullyVisibleClass),d.progress=s?-h:h,d.originalProgress=s?-f:f}}function PH(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=e;const c=i,d=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=u||s<=0,o=h||s>=1,u&&(s=0),h&&(s=1)}if(n.loop){const u=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=f?l=(y-f)/g:l=(y+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(c&&!i||d&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function kH(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=h=>Tr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,d,u;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else o?(c=e.filter(h=>h.column===s)[0],u=e.filter(h=>h.column===s+1)[0],d=e.filter(h=>h.column===s-1)[0]):c=e[s];c&&(c.classList.add(n.slideActiveClass),o?(u&&u.classList.add(n.slideNextClass),d&&d.classList.add(n.slidePrevClass)):(u=yH(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),u&&u.classList.add(n.slideNextClass),d=vH(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const eu=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},qp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Gg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,l=[o-e];l.push(...Array.from({length:e}).map((c,d)=>o+r+d)),t.slides.forEach((c,d)=>{l.includes(c.column)&&qp(t,d)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const l=(o%n+n)%n;(l<s||l>i)&&qp(t,l)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&qp(t,o)};function RH(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function DH(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:l}=e;let c=t,d;const u=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=RH(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,c);d=p+Math.floor((c-p)/s.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===i&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(c);else if(h){const p=e.slides.filter(y=>y.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/s.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:f,previousIndex:i,activeIndex:c}),e.initialized&&Gg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function OH(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,o=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var LH={updateSize:NH,updateSlides:TH,updateAutoHeight:IH,updateSlidesOffset:CH,updateSlidesProgress:AH,updateProgress:PH,updateSlidesClasses:kH,updateActiveIndex:DH,updateClickedSlide:OH};function MH(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=mH(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function VH(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let l=0,c=0;const d=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let u;const h=n.maxTranslate()-n.minTranslate();h===0?u=0:u=(t-n.minTranslate())/h,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function FH(){return-this.snapGrid[0]}function UH(){return-this.snapGrid[this.snapGrid.length-1]}function $H(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const c=i.minTranslate(),d=i.maxTranslate();let u;if(r&&t>c?u=c:r&&t<d?u=d:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return vA({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var BH={getTranslate:MH,setTranslate:VH,minTranslate:FH,maxTranslate:UH,translateTo:$H};function zH(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function wA(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:o}=e;let l=r;if(l||(i>o?l="next":i<o?l="prev":l="reset"),e.emit(`transition${s}`),n&&i!==o){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function HH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),wA({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function WH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),wA({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var qH={setTransition:zH,transitionStart:HH,transitionEnd:WH};function GH(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=i;if(i.animating&&l.preventInteractionOnTransition||!g&&!r&&!s||i.destroyed)return!1;const y=Math.min(i.params.slidesPerGroupSkip,o);let b=y+Math.floor((o-y)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const m=-c[b];if(l.normalizeSlideIndex)for(let v=0;v<d.length;v+=1){const j=-Math.floor(m*100),N=Math.floor(d[v]*100),E=Math.floor(d[v+1]*100);typeof d[v+1]<"u"?j>=N&&j<E-(E-N)/2?o=v:j>=N&&j<E&&(o=v+1):j>=N&&(o=v)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(f?m>i.translate&&m>i.minTranslate():m<i.translate&&m<i.minTranslate())||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let x;if(o>h?x="next":o<h?x="prev":x="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(m),x!=="reset"&&(i.transitionStart(n,x),i.transitionEnd(n,x)),!1;if(l.cssMode){const v=i.isHorizontal(),j=f?m:-m;if(e===0){const N=i.virtual&&i.params.virtual.enabled;N&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),N&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[v?"scrollLeft":"scrollTop"]=j})):p[v?"scrollLeft":"scrollTop"]=j,N&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return vA({swiper:i,targetPosition:j,side:v?"left":"top"}),!0;p.scrollTo({[v?"left":"top"]:j,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,x),e===0?i.transitionEnd(n,x):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(j){!i||i.destroyed||j.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,x))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function KH(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const f=o*s.params.grid.rows;l=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=s.getSlideIndexByData(o);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let h=c-l<u;if(d&&(h=h||l<Math.ceil(u/2)),h){const f=d?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=o*s.params.grid.rows;o=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function YH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,d=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!d&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function QH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;const u=r.virtual&&s.virtual.enabled;if(s.loop){if(d&&!u&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=i.map(m=>f(m));let y=i[g.indexOf(p)-1];if(typeof y>"u"&&s.cssMode){let m;i.forEach((x,v)=>{p>=x&&(m=v)}),typeof m<"u"&&(y=i[m>0?m-1:m])}let b=0;if(typeof y<"u"&&(b=o.indexOf(y),b<0&&(b=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(b=b-r.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(b,t,e,n)}),!0;return r.slideTo(b,t,e,n)}function XH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function JH(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const d=s.snapGrid[l],u=s.snapGrid[l+1];c-d>(u-d)*r&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[l-1],u=s.snapGrid[l];c-d<=(u-d)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function ZH(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(Tr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Wg(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(Tr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Wg(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var eW={slideTo:GH,slideToLoop:KH,slideNext:YH,slidePrev:QH,slideReset:XH,slideToClosest:JH,slideToClickedSlide:ZH};function tW(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{Tr(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(i?n.grid.rows:1),l=e.slides.length%o!==0,c=i&&e.slides.length%n.grid.rows!==0,d=u=>{for(let h=0;h<u;h+=1){const f=e.isElement?dh("swiper-slide",[n.slideBlankClass]):dh("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;d(u),e.recalcSlides(),e.updateSlides()}else ch("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;d(u),e.recalcSlides(),e.updateSlides()}else ch("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function nW(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:o,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:u,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=u,c.allowSlideNext=h,c.emit("loopFix");return}let y=p.slidesPerView;y==="auto"?y=c.slidesPerViewDynamic():(y=Math.ceil(parseFloat(p.slidesPerView,10)),g&&y%2===0&&(y=y+1));const b=p.slidesPerGroupAuto?y:p.slidesPerGroup;let m=b;m%b!==0&&(m+=b-m%b),m+=p.loopAdditionalSlides,c.loopedSlides=m;const x=c.grid&&p.grid&&p.grid.rows>1;d.length<y+m?ch("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&p.grid.fill==="row"&&ch("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const v=[],j=[];let N=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.filter(R=>R.classList.contains(p.slideActiveClass))[0]):N=i;const E=r==="next"||!r,I=r==="prev"||!r;let w=0,_=0;const S=x?Math.ceil(d.length/p.grid.rows):d.length,C=(x?d[i].column:i)+(g&&typeof s>"u"?-y/2+.5:0);if(C<m){w=Math.max(m-C,b);for(let R=0;R<m-C;R+=1){const V=R-Math.floor(R/S)*S;if(x){const B=S-V-1;for(let L=d.length-1;L>=0;L-=1)d[L].column===B&&v.push(L)}else v.push(S-V-1)}}else if(C+y>S-m){_=Math.max(C-(S-m*2),b);for(let R=0;R<_;R+=1){const V=R-Math.floor(R/S)*S;x?d.forEach((B,L)=>{B.column===V&&j.push(L)}):j.push(V)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),I&&v.forEach(R=>{d[R].swiperLoopMoveDOM=!0,f.prepend(d[R]),d[R].swiperLoopMoveDOM=!1}),E&&j.forEach(R=>{d[R].swiperLoopMoveDOM=!0,f.append(d[R]),d[R].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():x&&(v.length>0&&I||j.length>0&&E)&&c.slides.forEach((R,V)=>{c.grid.updateSlide(V,R,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(v.length>0&&I){if(typeof e>"u"){const R=c.slidesGrid[N],B=c.slidesGrid[N+w]-R;l?c.setTranslate(c.translate-B):(c.slideTo(N+w,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-B,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-B))}else if(s){const R=x?v.length/p.grid.rows:v.length;c.slideTo(c.activeIndex+R,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(j.length>0&&E)if(typeof e>"u"){const R=c.slidesGrid[N],B=c.slidesGrid[N-_]-R;l?c.setTranslate(c.translate-B):(c.slideTo(N-_,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-B,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-B))}else{const R=x?j.length/p.grid.rows:j.length;c.slideTo(c.activeIndex-R,0,!1,!0)}}if(c.allowSlidePrev=u,c.allowSlideNext=h,c.controller&&c.controller.control&&!o){const R={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(V=>{!V.destroyed&&V.params.loop&&V.loopFix({...R,slideTo:V.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...R,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function rW(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var sW={loopCreate:tW,loopFix:nW,loopDestroy:rW};function iW(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function aW(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var oW={setGrabCursor:iW,unsetGrabCursor:aW};function lW(t,e){e===void 0&&(e=this);function n(r){if(!r||r===ss()||r===Fn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function fj(t,e,n){const r=Fn(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function cW(t){const e=this,n=ss();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){fj(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&u&&(c=u[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?lW(h,c):c.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,g=o.currentY;if(!fj(e,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=g,s.touchStartTime=lh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let y=!0;c.matches(s.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const b=y&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function dW(t){const e=ss(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].filter(E=>E.identifier===r.touchId)[0],!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const u=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=lh());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(E=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>s.touchAngle:90-E>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,y=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),i.diff=g,g*=s.touchRatio,o&&(g=-g,y=-y);const b=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const m=n.params.loop&&!s.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let v;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&m&&x&&Math.abs(g)>=1){Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let j=!0,N=s.resistanceRatio;if(s.touchReleaseOnEdges&&(N=0),g>0?(m&&x&&!v&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(j=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**N))):g<0&&(m&&x&&!v&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(j=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**N))),j&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function uW(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(N=>N.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:d,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=lh(),f=h-n.touchStartTime;if(e.allowClick){const N=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(N&&N[0]||r.target,N),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=lh(),Wg(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let y=0,b=e.slidesSizesGrid[0];for(let N=0;N<d.length;N+=N<o.slidesPerGroupSkip?1:o.slidesPerGroup){const E=N<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[N+E]<"u"?(g||p>=d[N]&&p<d[N+E])&&(y=N,b=d[N+E]-d[N]):(g||p>=d[N])&&(y=N,b=d[d.length-1]-d[d.length-2])}let m=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const v=(p-d[y])/b,j=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?m:y+j):e.slideTo(y)),e.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?e.slideTo(y+j):x!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?e.slideTo(x):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+j):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:y+j),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:y))}}function pj(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function hW(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function fW(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function pW(t){const e=this;eu(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function mW(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const _A=(t,e)=>{const n=ss(),{params:r,el:s,wrapperEl:i,device:o}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",pj,!0):t[d]("observerUpdate",pj,!0),s[c]("load",t.onLoad,{capture:!0})};function gW(){const t=this,{params:e}=t;t.onTouchStart=cW.bind(t),t.onTouchMove=dW.bind(t),t.onTouchEnd=uW.bind(t),t.onDocumentTouchStart=mW.bind(t),e.cssMode&&(t.onScroll=fW.bind(t)),t.onClick=hW.bind(t),t.onLoad=pW.bind(t),_A(t,"on")}function vW(){_A(this,"off")}var yW={attachEvents:gW,detachEvents:vW};const mj=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function xW(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const c=(o in i?i[o]:void 0)||t.originalParams,d=mj(t,r),u=mj(t,c),h=r.enabled;d&&!u?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&u&&(s.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const x=r[m]&&r[m].enabled,v=c[m]&&c[m].enabled;x&&!v&&t[m].disable(),!x&&v&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),Tn(t.params,c);const y=t.params.enabled,b=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!y?t.disable():!h&&y&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&b?(t.loopCreate(e),t.updateSlides()):g&&!b&&t.loopDestroy()),t.emit("breakpoint",c)}function bW(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=Fn(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:d}=o[l];e==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var wW={setBreakpoint:xW,getBreakpoint:bW};function _W(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function jW(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=_W(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function EW(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var SW={addClasses:jW,removeClasses:EW};function NW(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var TW={checkOverflow:NW},Kg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function IW(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Tn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Tn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Tn(e,r)}}const Gp={eventsEmitter:SH,update:LH,translate:BH,transition:qH,slide:eW,loop:sW,grabCursor:oW,events:yW,breakpoints:wW,checkOverflow:TW,classes:SW},Kp={};let Yx=class qr{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Tn({},n),e&&!n.el&&(n.el=e);const o=ss();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(h=>{const f=Tn({},n,{el:h});u.push(new qr(f))}),u}const l=this;l.__swiper__=!0,l.support=xA(),l.device=bA({userAgent:n.userAgent}),l.browser=_H(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(u=>{u({params:n,swiper:l,extendParams:IW(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Tn({},Kg,c);return l.params=Tn({},d,Kp,n),l.originalParams=Tn({},l.params),l.passedParams=Tn({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=Tr(n,`.${r.slideClass}, swiper-slide`),i=uh(s[0]);return uh(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Tr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:d}=r;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[d]?Math.ceil(i[d].swiperSlideSize):0,f;for(let p=d+1;p<i.length;p+=1)i[p]&&!f&&(h+=Math.ceil(i[p].swiperSlideSize),u+=1,h>c&&(f=!0));for(let p=d-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>c&&(f=!0))}else if(e==="current")for(let h=d+1;h<i.length;h+=1)(n?o[h]+l[h]-o[d]<c:o[h]-o[d]<c)&&(u+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&eu(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Tr(r,s())[0];return!o&&n.params.createElements&&(o=dh("div",n.params.wrapperClass),r.append(o),Tr(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Os(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Os(r,"direction")==="rtl"),wrongRTL:Os(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?eu(n,i):i.addEventListener("load",o=>{eu(n,o.target)})}),Gg(n),n.initialized=!0,Gg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,fH(r)),r.destroyed=!0),null}static extendDefaults(e){Tn(Kp,e)}static get extendedDefaults(){return Kp}static get defaults(){return Kg}static installModule(e){qr.prototype.__modules__||(qr.prototype.__modules__=[]);const n=qr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>qr.installModule(n)),qr):(qr.installModule(e),qr)}};Object.keys(Gp).forEach(t=>{Object.keys(Gp[t]).forEach(e=>{Yx.prototype[e]=Gp[t][e]})});Yx.use([jH,EH]);const jA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ji(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function eo(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ji(e[r])&&Ji(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:eo(t[r],e[r]):t[r]=e[r]})}function EA(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function SA(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function NA(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function TA(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function CW(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function AW(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:l,paginationEl:c}=t;const d=s.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:u,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:y}=e;let b,m,x,v,j,N,E,I;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(b=!0),s.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(m=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(x=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(v=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(j=!0);const w=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),u[_].prevEl=void 0,u[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),u[_].el=void 0,e[_].el=void 0))};s.includes("loop")&&e.isElement&&(u.loop&&!r.loop?N=!0:!u.loop&&r.loop?E=!0:I=!0),d.forEach(_=>{if(Ji(u[_])&&Ji(r[_]))Object.assign(u[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&w(_);else{const S=r[_];(S===!0||S===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?S===!1&&w(_):u[_]=r[_]}}),d.includes("controller")&&!m&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),s.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):s.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),s.includes("children")&&n&&u.loop&&(I=!0),b&&y.init()&&y.update(!0),m&&(e.controller.control=u.controller.control),x&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(u.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),j&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(N||I)&&e.loopDestroy(),(E||I)&&e.loopCreate(),e.update()}function PW(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};eo(n,Kg),n._emitClasses=!0,n.init=!1;const i={},o=jA.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?Ji(t[c])?(n[c]={},s[c]={},eo(n[c],t[c]),eo(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function kW(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:l}=t;EA(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),SA(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),NA(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function RW(t,e,n,r,s){const i=[];if(!e)return i;const o=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),d=n.map(s);c.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return jA.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Ji(t[c])&&Ji(e[c])){const d=Object.keys(t[c]),u=Object.keys(e[c]);d.length!==u.length?o(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),u.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),i}const DW=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}function IA(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function CA(t){const e=[];return ke.Children.toArray(t).forEach(n=>{IA(n)?e.push(n):n.props&&n.props.children&&CA(n.props.children).forEach(r=>e.push(r))}),e}function OW(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ke.Children.toArray(t).forEach(r=>{if(IA(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=CA(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function LW(t,e,n){if(!n)return null;const r=u=>{let h=u;return u<0?h=e.length+u:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let u=l;u<c;u+=1)u>=i&&u<=o&&d.push(e[r(u)]);return d.map((u,h)=>ke.cloneElement(u,{swiper:t,style:s,key:`slide-${h}`}))}function Pl(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const gj=T.createContext(null),MW=T.createContext(null),AA=T.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...l}=t===void 0?{}:t,c=!1;const[d,u]=T.useState("swiper"),[h,f]=T.useState(null),[p,g]=T.useState(!1),y=T.useRef(!1),b=T.useRef(null),m=T.useRef(null),x=T.useRef(null),v=T.useRef(null),j=T.useRef(null),N=T.useRef(null),E=T.useRef(null),I=T.useRef(null),{params:w,passedParams:_,rest:S,events:P}=PW(l),{slides:C,slots:R}=OW(i),V=()=>{g(!p)};Object.assign(w.on,{_containerClasses(M,U){u(U)}});const B=()=>{Object.assign(w.on,P),c=!0;const M={...w};if(delete M.wrapperClass,m.current=new Yx(M),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=C;const U={cache:!1,slides:C,renderExternal:f,renderExternalUpdate:!1};eo(m.current.params.virtual,U),eo(m.current.originalParams.virtual,U)}};b.current||B(),m.current&&m.current.on("_beforeBreakpoint",V);const L=()=>{c||!P||!m.current||Object.keys(P).forEach(M=>{m.current.on(M,P[M])})},A=()=>{!P||!m.current||Object.keys(P).forEach(M=>{m.current.off(M,P[M])})};T.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",V)}),T.useEffect(()=>{!y.current&&m.current&&(m.current.emitSlidesClasses(),y.current=!0)}),Pl(()=>{if(e&&(e.current=b.current),!!b.current)return m.current.destroyed&&B(),kW({el:b.current,nextEl:j.current,prevEl:N.current,paginationEl:E.current,scrollbarEl:I.current,swiper:m.current},w),o&&!m.current.destroyed&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Pl(()=>{L();const M=RW(_,x.current,C,v.current,U=>U.key);return x.current=_,v.current=C,M.length&&m.current&&!m.current.destroyed&&AW({swiper:m.current,slides:C,passedParams:_,changedParams:M,nextEl:j.current,prevEl:N.current,scrollbarEl:I.current,paginationEl:E.current}),()=>{A()}}),Pl(()=>{DW(m.current)},[h]);function D(){return w.virtual?LW(m.current,C,h):C.map((M,U)=>ke.cloneElement(M,{swiper:m.current,swiperSlideIndex:U}))}return ke.createElement(r,hh({ref:b,className:TA(`${d}${n?` ${n}`:""}`)},S),ke.createElement(MW.Provider,{value:m.current},R["container-start"],ke.createElement(s,{className:CW(w.wrapperClass)},R["wrapper-start"],D(),R["wrapper-end"]),EA(w)&&ke.createElement(ke.Fragment,null,ke.createElement("div",{ref:N,className:"swiper-button-prev"}),ke.createElement("div",{ref:j,className:"swiper-button-next"})),NA(w)&&ke.createElement("div",{ref:I,className:"swiper-scrollbar"}),SA(w)&&ke.createElement("div",{ref:E,className:"swiper-pagination"}),R["container-end"]))});AA.displayName="Swiper";const PA=T.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:d,...u}=t===void 0?{}:t;const h=T.useRef(null),[f,p]=T.useState("swiper-slide"),[g,y]=T.useState(!1);function b(j,N,E){N===h.current&&p(E)}Pl(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",b),()=>{i&&i.off("_slideClass",b)}}}),Pl(()=>{i&&h.current&&!i.destroyed&&p(i.getSlideClasses(h.current))},[i]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},x=()=>typeof r=="function"?r(m):r,v=()=>{y(!0)};return ke.createElement(n,hh({ref:h,className:TA(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:v},u),o&&ke.createElement(gj.Provider,{value:m},ke.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),l&&!g&&ke.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&ke.createElement(gj.Provider,{value:m},x(),l&&!g&&ke.createElement("div",{className:"swiper-lazy-preloader"})))});PA.displayName="SwiperSlide";function kA(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=Tr(t.el,`.${r[s]}`)[0];i||(i=dh("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function VW(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y.length>1&&e.el.querySelectorAll(g).length===1&&(y=e.el.querySelector(g))),g&&!y?g:y)}function o(g,y){const b=e.params.navigation;g=Tt(g),g.forEach(m=>{m&&(m.classList[y?"add":"remove"](...b.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=y),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](b.lockClass))})}function l(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function d(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=kA(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=i(g.nextEl),b=i(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:b}),y=Tt(y),b=Tt(b);const m=(x,v)=>{x&&x.addEventListener("click",v==="next"?d:c),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};y.forEach(x=>m(x,"next")),b.forEach(x=>m(x,"prev"))}function h(){let{nextEl:g,prevEl:y}=e.navigation;g=Tt(g),y=Tt(y);const b=(m,x)=>{m.removeEventListener("click",x==="next"?d:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>b(m,"next")),y.forEach(m=>b(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(u(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=Tt(g),y=Tt(y),e.enabled){l();return}[...g,...y].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:b,prevEl:m}=e.navigation;b=Tt(b),m=Tt(m);const x=y.target;if(e.params.navigation.hideOnClick&&!m.includes(x)&&!b.includes(x)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let v;b.length?v=b[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(v=m[0].classList.contains(e.params.navigation.hiddenClass)),s(v===!0?"navigationShow":"navigationHide"),[...b,...m].filter(j=>!!j).forEach(j=>j.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:u,destroy:h})}function Zo(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function FW(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(m,x){const{bulletActiveClass:v}=e.params.pagination;m&&(m=m[`${x==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${v}-${x}`),m=m[`${x==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${v}-${x}-${x}`)))}function u(m){const x=m.target.closest(Zo(e.params.pagination.bulletClass));if(!x)return;m.preventDefault();const v=uh(x)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===v)return;e.slideToLoop(v)}else e.slideTo(v)}function h(){const m=e.rtl,x=e.params.pagination;if(c())return;let v=e.pagination.el;v=Tt(v);let j,N;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(N=e.previousRealIndex||0,j=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(j=e.snapIndex,N=e.previousSnapIndex):(N=e.previousIndex||0,j=e.activeIndex||0),x.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const w=e.pagination.bullets;let _,S,P;if(x.dynamicBullets&&(o=qg(w[0],e.isHorizontal()?"width":"height",!0),v.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${o*(x.dynamicMainBullets+4)}px`}),x.dynamicMainBullets>1&&N!==void 0&&(l+=j-(N||0),l>x.dynamicMainBullets-1?l=x.dynamicMainBullets-1:l<0&&(l=0)),_=Math.max(j-l,0),S=_+(Math.min(w.length,x.dynamicMainBullets)-1),P=(S+_)/2),w.forEach(C=>{const R=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(V=>`${x.bulletActiveClass}${V}`)].map(V=>typeof V=="string"&&V.includes(" ")?V.split(" "):V).flat();C.classList.remove(...R)}),v.length>1)w.forEach(C=>{const R=uh(C);R===j?C.classList.add(...x.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),x.dynamicBullets&&(R>=_&&R<=S&&C.classList.add(...`${x.bulletActiveClass}-main`.split(" ")),R===_&&d(C,"prev"),R===S&&d(C,"next"))});else{const C=w[j];if(C&&C.classList.add(...x.bulletActiveClass.split(" ")),e.isElement&&w.forEach((R,V)=>{R.setAttribute("part",V===j?"bullet-active":"bullet")}),x.dynamicBullets){const R=w[_],V=w[S];for(let B=_;B<=S;B+=1)w[B]&&w[B].classList.add(...`${x.bulletActiveClass}-main`.split(" "));d(R,"prev"),d(V,"next")}}if(x.dynamicBullets){const C=Math.min(w.length,x.dynamicMainBullets+4),R=(o*C-o)/2-P*o,V=m?"right":"left";w.forEach(B=>{B.style[e.isHorizontal()?V:"top"]=`${R}px`})}}v.forEach((w,_)=>{if(x.type==="fraction"&&(w.querySelectorAll(Zo(x.currentClass)).forEach(S=>{S.textContent=x.formatFractionCurrent(j+1)}),w.querySelectorAll(Zo(x.totalClass)).forEach(S=>{S.textContent=x.formatFractionTotal(I)})),x.type==="progressbar"){let S;x.progressbarOpposite?S=e.isHorizontal()?"vertical":"horizontal":S=e.isHorizontal()?"horizontal":"vertical";const P=(j+1)/I;let C=1,R=1;S==="horizontal"?C=P:R=P,w.querySelectorAll(Zo(x.progressbarFillClass)).forEach(V=>{V.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${R})`,V.style.transitionDuration=`${e.params.speed}ms`})}x.type==="custom"&&x.renderCustom?(w.innerHTML=x.renderCustom(e,j+1,I),_===0&&s("paginationRender",w)):(_===0&&s("paginationRender",w),s("paginationUpdate",w)),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](x.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let v=e.pagination.el;v=Tt(v);let j="";if(m.type==="bullets"){let N=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&N>x&&(N=x);for(let E=0;E<N;E+=1)m.renderBullet?j+=m.renderBullet.call(e,E,m.bulletClass):j+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?j=m.renderFraction.call(e,m.currentClass,m.totalClass):j=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?j=m.renderProgressbar.call(e,m.progressbarFillClass):j=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],v.forEach(N=>{m.type!=="custom"&&(N.innerHTML=j||""),m.type==="bullets"&&e.pagination.bullets.push(...N.querySelectorAll(Zo(m.bulletClass)))}),m.type!=="custom"&&s("paginationRender",v[0])}function p(){e.params.pagination=kA(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let x;typeof m.el=="string"&&e.isElement&&(x=e.el.querySelector(m.el)),!x&&typeof m.el=="string"&&(x=[...document.querySelectorAll(m.el)]),x||(x=m.el),!(!x||x.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(x)&&x.length>1&&(x=[...e.el.querySelectorAll(m.el)],x.length>1&&(x=x.filter(v=>yA(v,".swiper")[0]===e.el)[0])),Array.isArray(x)&&x.length===1&&(x=x[0]),Object.assign(e.pagination,{el:x}),x=Tt(x),x.forEach(v=>{m.type==="bullets"&&m.clickable&&v.classList.add(...(m.clickableClass||"").split(" ")),v.classList.add(m.modifierClass+m.type),v.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(v.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&v.classList.add(m.progressbarOppositeClass),m.clickable&&v.addEventListener("click",u),e.enabled||v.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let x=e.pagination.el;x&&(x=Tt(x),x.forEach(v=>{v.classList.remove(m.hiddenClass),v.classList.remove(m.modifierClass+m.type),v.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(v.classList.remove(...(m.clickableClass||"").split(" ")),v.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(v=>v.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:x}=e.pagination;x=Tt(x),x.forEach(v=>{v.classList.remove(m.horizontalClass,m.verticalClass),v.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=Tt(m),m.forEach(x=>x.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,x)=>{const v=x.target,j=Tt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&j&&j.length>0&&!v.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&v===e.navigation.nextEl||e.navigation.prevEl&&v===e.navigation.prevEl))return;const N=j[0].classList.contains(e.params.pagination.hiddenClass);s(N===!0?"paginationShow":"paginationHide"),j.forEach(E=>E.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=Tt(m),m.forEach(x=>x.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=Tt(m),m.forEach(x=>x.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:y,disable:b,render:f,update:h,init:p,destroy:g})}function UW(t){let{swiper:e,extendParams:n,on:r,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,u,h=new Date().getTime(),f,p,g,y,b,m,x;function v(D){!e||e.destroyed||!e.wrapperEl||D.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",v),!x&&S())}const j=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(d=u,f=!1);const D=e.autoplay.paused?u:h+d-new Date().getTime();e.autoplay.timeLeft=D,s("autoplayTimeLeft",D,D/c),l=requestAnimationFrame(()=>{j()})},N=()=>{let D;return e.virtual&&e.params.virtual.enabled?D=e.slides.filter(U=>U.classList.contains("swiper-slide-active"))[0]:D=e.slides[e.activeIndex],D?parseInt(D.getAttribute("data-swiper-autoplay"),10):void 0},E=D=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),j();let M=typeof D>"u"?e.params.autoplay.delay:D;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const U=N();!Number.isNaN(U)&&U>0&&typeof D>"u"&&(M=U,c=U,d=U),u=M;const z=e.params.speed,O=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(z,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,z,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(z,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,z,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return M>0?(clearTimeout(o),o=setTimeout(()=>{O()},M)):requestAnimationFrame(()=>{O()}),M},I=()=>{h=new Date().getTime(),e.autoplay.running=!0,E(),s("autoplayStart")},w=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),s("autoplayStop")},_=(D,M)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),D||(m=!0);const U=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",v):S()};if(e.autoplay.paused=!0,M){b&&(u=e.params.autoplay.delay),b=!1,U();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),U())},S=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,E(u)):E(),e.autoplay.paused=!1,s("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const D=ss();D.visibilityState==="hidden"&&(m=!0,_(!0)),D.visibilityState==="visible"&&S()},C=D=>{D.pointerType==="mouse"&&(m=!0,x=!0,!(e.animating||e.autoplay.paused)&&_(!0))},R=D=>{D.pointerType==="mouse"&&(x=!1,e.autoplay.paused&&S())},V=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",R))},B=()=>{e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",R)},L=()=>{ss().addEventListener("visibilitychange",P)},A=()=>{ss().removeEventListener("visibilitychange",P)};r("init",()=>{e.params.autoplay.enabled&&(V(),L(),I())}),r("destroy",()=>{B(),A(),e.autoplay.running&&w()}),r("_freeModeStaticRelease",()=>{(g||m)&&S()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?w():_(!0,!0)}),r("beforeTransitionStart",(D,M,U)=>{e.destroyed||!e.autoplay.running||(U||!e.params.autoplay.disableOnInteraction?_(!0,!0):w())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){w();return}p=!0,g=!1,m=!1,y=setTimeout(()=>{m=!0,g=!0,_(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&S(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(b=!0)}),Object.assign(e.autoplay,{start:I,stop:w,pause:_,resume:S})}const $W=()=>{const t=K(e=>e.getslider).data;return a.jsx(a.Fragment,{children:a.jsx("div",{className:"border_bottom_strip",children:a.jsx(AA,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[UW,FW,VW],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>a.jsxs(PA,{children:[a.jsx("img",{src:e.bannerURL,alt:e.title}),a.jsx("p",{children:e.title})]},n))})})})},BW=()=>{const t=K(l=>l.getsettings.data),e=K(l=>{var c;return(c=l.getresearcharea)==null?void 0:c.data}),[n,r]=T.useState(0),s=K(l=>l.getgallery.data);T.useEffect(()=>{zx(),Yc()},[]);const i=()=>{const l=(n-1+s.length)%s.length;r(l)},o=()=>{const l=(n+1)%s.length;r(l)};return a.jsx("div",{className:"col-sm-12 py-3 px-4  my-3 mb-5",children:a.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[a.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 px-0 py-0",children:a.jsxs("div",{id:"carouselExampleCaptions",className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-indicators",children:s.map((l,c)=>a.jsx("button",{type:"button",title:l==null?void 0:l.title,"data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":c,className:c===n?"active":"","aria-current":c===n?"true":"false","aria-label":`Slide ${c+1}`},c))}),a.jsx("div",{className:"carousel-inner rounded-2 hover_bg",children:s.map((l,c)=>a.jsx("div",{className:c===n?"carousel-item active":"carousel-item",children:a.jsx("div",{style:{height:"400px",width:"100%"},className:"overflow-hidden",children:a.jsx("img",{src:l==null?void 0:l.bannerURL,className:"d-block w-100",alt:"banner image",height:"100%",width:"auto"})})},c))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",onClick:i,style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",onClick:o,style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsxs("div",{className:"col-md-6 col-sm-12",children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Our Objective"}),a.jsx("hr",{}),a.jsxs("p",{children:[t==null?void 0:t.about,". Currently, we are dealing with:-"]}),a.jsx("ol",{children:e==null?void 0:e.map((l,c)=>a.jsx("li",{children:l==null?void 0:l.title},c))}),a.jsx(te,{to:"research-areas",className:"btn btn-shade2",style:{textDecoration:"none"},children:"More"})]})]})})},RA=({ref_:t})=>{const e=K(s=>s.getpublications.data),[n,r]=T.useState(!1);return T.useEffect(()=>{t||(async()=>{r(!0),await Do(),r(!1)})()},[]),n?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[a.jsxs("h1",{className:"fw-bold text-shade2 w-100 my-4",children:[t&&"Latest"," Publications"]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",style:{height:t?"370px":"fit-content"},children:a.jsx("ol",{className:`px-0 ${t&&"marquee_scroll"}`,style:{height:"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((s,i)=>a.jsx("li",{className:"card rounded-2 mb-2 p-2",children:a.jsx(wf,{entry:s==null?void 0:s.data,id:s==null?void 0:s._id})},i))})}),t&&a.jsx("div",{className:"w-100 my-3",children:a.jsx(te,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&a.jsx($t,{children:a.jsx("title",{children:"Publications "})})]})},zW=()=>{const t=K(s=>s.getsettings.data),e=K(s=>s.getnews.data),[n,r]=T.useState(!0);return T.useEffect(()=>{(async()=>{r(!0),await tA(),await Mx(),await Do(),r(!1)})()},[]),n?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:t==null?void 0:t.name}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($W,{}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column px-4 mt-4",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx(RA,{ref_:!0})}),a.jsx("div",{className:"col-sm-4",children:a.jsxs("div",{className:"border d-flex flex-column mt-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"py-2  px-4 bg-shade2 text-white",children:"Updates"})}),a.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:a.jsx("div",{className:"marquee_scroll ",children:a.jsx("div",{className:"text-secondary",children:a.jsx("ul",{style:{listStyle:"none"},children:e==null?void 0:e.map((s,i)=>{if(!(i>5))return a.jsxs("li",{children:[a.jsxs("strong",{className:"text-shade2 me-1",children:[i+1,"."]}),a.jsx("strong",{className:"text-shade2",children:Hx(s==null?void 0:s.datetime1)}),"-",s==null?void 0:s.title,"-",s==null?void 0:s.description]},i)})})})})}),a.jsx("div",{children:a.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:a.jsx(te,{to:"news",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),a.jsx(BW,{})]})},Qx=()=>{const t=K(e=>e.getsettings.data);return a.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:a.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:a.jsxs("div",{className:"container py-4 p-3",children:[a.jsxs("div",{className:"row gy-4 gx-5",children:[a.jsxs("div",{className:"col-lg-4 col-md-6",children:[a.jsx("h5",{className:"h1 text-white",children:t==null?void 0:t.name}),a.jsx("p",{className:"small text-light",children:t==null?void 0:t.about})," ",a.jsx(te,{to:"contact",style:{textDecoration:"none"},className:"text-white",children:a.jsx("button",{className:"btn btn-shade2 ",children:"Contact"})})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Research"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(te,{to:"publications",className:"link_footer",children:"Publications"})}),a.jsx("li",{children:a.jsx(te,{to:"projects",className:"link_footer",children:"Projects"})}),a.jsx("li",{children:a.jsx(te,{to:"datasets",className:"link_footer",children:"Datasets"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"Supervisor"})}),a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"Ph.D."})}),a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"PG and UG"})}),a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"Interns and Visitors"})}),a.jsx("li",{children:a.jsx(te,{to:"peoples",className:"link_footer",children:"Alumni Students"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(te,{to:"contact",className:"link_footer",children:"About"})}),a.jsx("li",{children:a.jsx(te,{className:"link_footer",to:"/login",target:"_blank",children:"Login"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Address"}),a.jsx("p",{className:"text-white",children:t==null?void 0:t.address})]})]}),a.jsx("hr",{className:"text-white"}),a.jsxs("p",{className:"small text-light w-100 text-center",children:["© Copyrights. All rights reserved."," ",a.jsx(te,{to:"#",className:"text-shade2 fw-bold",children:t==null?void 0:t.name})]})]})})})},HW=()=>{const[t,e]=T.useState(!0),n=K(l=>l.getsupervisors.data),r=K(l=>l.getphdStudents.data),s=K(l=>l.getpgugStudents.data),i=K(l=>l.getvisitorsandinterns.data),o=async l=>{try{const c=await Ef(l),d=window.open(c,"_blank","width=550,height=700");d&&d.focus()}catch{k("warning","CV not found!")}};return T.useEffect(()=>{(async()=>{e(!0),await fs(),await ha(),await nA(),await rA(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:"Peoples "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Supervisor",a.jsx("hr",{})]}),n==null?void 0:n.map((l,c)=>{var d,u,h,f,p,g,y,b,m,x,v,j,N,E,I;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark",children:(d=l==null?void 0:l.data)==null?void 0:d.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-shade2",children:(u=l==null?void 0:l.data)==null?void 0:u.designation})," ","| ",a.jsx("strong",{children:(h=l==null?void 0:l.data)==null?void 0:h.email})," |"," ",a.jsxs("strong",{children:["+91-",(f=l==null?void 0:l.data)==null?void 0:f.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("button",{className:"btn btn-shade1 my-2 btn-sm",onClick:()=>window.open("#/profile/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("button",{className:"btn btn-shade1 my-2 btn-sm ms-2",onClick:()=>{var w;return o((w=l==null?void 0:l.data)==null?void 0:w.email)},children:"Resume"}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-shade1 dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(g=(p=l==null?void 0:l.data)==null?void 0:p.links)==null?void 0:g.map(w=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:w!=null&&w.linkURL?w==null?void 0:w.linkURL:"#",target:"_blank",children:[w==null?void 0:w.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(y=l==null?void 0:l.data)==null?void 0:y.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(m=(b=l==null?void 0:l.data)==null?void 0:b.researchInterests)==null?void 0:m.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(v=(x=l==null?void 0:l.data)==null?void 0:x.teaching)==null?void 0:v.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(N=(j=l==null?void 0:l.data)==null?void 0:j.accomplishments)==null?void 0:N.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(I=(E=l==null?void 0:l.data)==null?void 0:E.professional_affiliation)==null?void 0:I.split(",").map((w,_)=>a.jsx("li",{className:"mx-3",children:w},_))})})]})]})})]},c)}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((l,c)=>{var b,m,x,v;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,supervisor:g}=l==null?void 0:l.data,y=(b=n.filter(j=>{var N,E,I,w,_;return((E=(N=j==null?void 0:j.data)==null?void 0:N.email)==null?void 0:E.stringValue)===((_=(w=(I=g==null?void 0:g.mapValue)==null?void 0:I.fields)==null?void 0:w.email)==null?void 0:_.stringValue)})[0])==null?void 0:b._id;return h!=null&&h.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:d==null?void 0:d.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(f==null?void 0:f.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",p==null?void 0:p.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 my-2 btn-sm",onClick:()=>window.open("#/phd/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+y,target:"_blank",children:[(v=(x=(m=g==null?void 0:g.mapValue)==null?void 0:m.fields)==null?void 0:x.name)==null?void 0:v.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]})]},c)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((l,c)=>{var b,m,x,v;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,supervisor:g}=l==null?void 0:l.data,y=(b=n.filter(j=>{var N,E,I,w,_;return((E=(N=j==null?void 0:j.data)==null?void 0:N.email)==null?void 0:E.stringValue)===((_=(w=(I=g==null?void 0:g.mapValue)==null?void 0:I.fields)==null?void 0:w.email)==null?void 0:_.stringValue)})[0])==null?void 0:b._id;return h!=null&&h.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("strong",{className:"mt-2",children:[a.jsx("h3",{children:d==null?void 0:d.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(f==null?void 0:f.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",p==null?void 0:p.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+y,target:"_blank",children:[(v=(x=(m=g==null?void 0:g.mapValue)==null?void 0:m.fields)==null?void 0:x.name)==null?void 0:v.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]},c):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(l=>{const{name:c,batch:d,isAlumni:u,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return u.booleanValue?null:a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsxs("small",{children:[" ",(h==null?void 0:h.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",f==null?void 0:f.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[p==null?void 0:p.stringValue," student From"," ",(d==null?void 0:d.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:g==null?void 0:g.stringValue}),a.jsx("br",{})]})},l==null?void 0:l._id)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["PG and UG Alumnis",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(l=>{const{name:c,batch:d,isAlumni:u,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return u.booleanValue?a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsxs("small",{children:[" ",(h==null?void 0:h.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",f==null?void 0:f.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[p==null?void 0:p.stringValue," student From"," ",(d==null?void 0:d.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:g==null?void 0:g.stringValue}),a.jsx("br",{})]})},l==null?void 0:l._id):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Vistors and Inters",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(l=>{const{name:c,collegeName:d}=l==null?void 0:l.data;return a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h4",{children:c==null?void 0:c.stringValue}),a.jsx("hr",{}),a.jsx("p",{className:"fw-bold text-dark",children:d==null?void 0:d.stringValue})]})},l==null?void 0:l._id)})})]})]})},WW=()=>{const t=K(r=>{var s;return(s=r.getdatasets)==null?void 0:s.data}),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await fa(),n(!1)})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:"Datasets "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Datasets",a.jsx("hr",{})]}),t==null?void 0:t.map((r,s)=>a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[s+1,". "]}),r==null?void 0:r.title]}),a.jsx("p",{children:r==null?void 0:r.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+s,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:r.images.map((i,o)=>a.jsx("div",{className:`carousel-item ${o===0&&"active"}`,children:a.jsx("img",{src:i==null?void 0:i.url,className:"d-block w-100",alt:"This is image"})},o))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]},s))]})]})},qW=()=>{const[t,e]=T.useState(!0),n=K(s=>{var i;return(i=s.getresearcharea)==null?void 0:i.data}),r=K(s=>s.getsubareas).data;return T.useEffect(()=>{(async()=>{e(!0),await Yc(),await jf(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:"Research Areas "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Research Areas",a.jsx("hr",{})]}),n==null?void 0:n.map((s,i)=>{const o=(s==null?void 0:s.subareas)||[],l=r==null?void 0:r.filter(c=>o.some(d=>d.stringValue===(c==null?void 0:c._id)));return(i+1)%2!==0?a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),a.jsxs("div",{className:"col-sm-8=6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,d)=>a.jsx("li",{children:c==null?void 0:c.title},d))}),(l==null?void 0:l.length)!==0&&a.jsx(te,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-shade1 btn-sm",children:"See More"})})]})]})]},i):a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,d)=>a.jsx("li",{children:c==null?void 0:c.title},d))}),(l==null?void 0:l.length)!==0&&a.jsx(te,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-shade1 btn-sm",children:"See More"})})]})]}),a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},i)})]})]})},GW=()=>{const[t,e]=T.useState(!0),{id:n}=Ur(),r=K(d=>{var u;return(u=d.getresearcharea)==null?void 0:u.data}),s=K(d=>d.getsubareas).data,i=K(d=>{var u;return(u=d.getprojectitems)==null?void 0:u.data}),o=r.find(d=>d._id===n);o||(window.location.href="/CVPR_LAB/#/dashboard/research-areas");const l=(o==null?void 0:o.subareas)||[],c=s==null?void 0:s.filter(d=>l.some(u=>u.stringValue===(d==null?void 0:d._id)));return T.useEffect(()=>{(async()=>{e(!0),await Yc(),await jf(),await pa(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:o==null?void 0:o.title})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsx("div",{className:"col-sm-12 text-start w-100",children:a.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[a.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:[o==null?void 0:o.title,a.jsx("hr",{})]}),a.jsx("div",{className:"col-sm-12",children:a.jsx("div",{className:"card p-3",children:a.jsx("img",{src:o==null?void 0:o.bannerURL,alt:"Banner URL"})})}),a.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((d,u)=>{var h;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("h1",{children:[a.jsxs("strong",{className:"fw-bold text-shade2",children:[u+1,". "]}),d==null?void 0:d.title]}),a.jsx("hr",{}),a.jsx("p",{children:d==null?void 0:d.description}),a.jsx("h3",{className:"fw-bold text-shade2 mb-3",children:"Related Projects"}),a.jsx("div",{className:"col-sm-12",children:(h=d==null?void 0:d.projects)==null?void 0:h.map((f,p)=>{const g=i==null?void 0:i.find(y=>(y==null?void 0:y._id)==(f==null?void 0:f.stringValue));return a.jsxs("div",{className:"card p-2 mb-4",children:[a.jsxs("h6",{children:[" ",a.jsxs("strong",{className:"fw-bold text-shade2",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",a.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(te,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},u)})})]})]})},KW=()=>{const t=K(e=>e.getsettings.data);return a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:"Contact "})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-shade2 text-center text-lg-start",children:["Contact Us",a.jsx("hr",{})]}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"300px",style:{border:"none"},allowFullScreen:!0})}),a.jsxs("div",{className:"col-sm-4",id:"contact2",children:[a.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("hr",{className:"text-left w-50"}),a.jsx("h4",{className:"pt-2",children:"Address"}),a.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),t==null?void 0:t.address]})]})]})]})},YW=()=>{const[t,e]=T.useState(!0),n=K(o=>{var l;return(l=o.getprojectitems)==null?void 0:l.data}),r=K(o=>{var l;return(l=o.getdatasets)==null?void 0:l.data}),s=K(o=>{var l;return(l=o.getprojectsimages)==null?void 0:l.data}),i=K(o=>{var l;return(l=o.getprojectsmain)==null?void 0:l.data});return T.useEffect(()=>{(async()=>{e(!0),Qc(),e(!1),Wx(),pa(),fa()})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:"Projects "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Research Projects",a.jsx("hr",{})]}),i==null?void 0:i.map((o,l)=>{var c,d,u,h,f,p,g,y,b,m,x,v,j,N,E,I,w,_;return a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[l+1,". "]}),(c=o==null?void 0:o.title)==null?void 0:c.stringValue]}),a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Project Video"]})}),a.jsx("td",{children:(f=(h=(u=(d=o==null?void 0:o.video)==null?void 0:d.mapValue)==null?void 0:u.fields)==null?void 0:h.timestamp)!=null&&f.timestampValue?a.jsxs("button",{className:"btn btn-success d-flex align-items-center",onClick:async()=>{try{const S=await qx(o==null?void 0:o._id),P=window.open(S,"_blank","width=550,height=700");P&&P.focus()}catch{k("warning","Video Not Found!")}},children:[a.jsx("i",{className:"bx bx-video me-1"})," Watch Now"]}):"Not Available"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Funding Agency"]})}),a.jsx("td",{children:(p=o==null?void 0:o.funding_agency)==null?void 0:p.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(g=o==null?void 0:o.total_fund)==null?void 0:g.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Project Investigators"]})}),a.jsx("td",{children:(y=o==null?void 0:o.pis)==null?void 0:y.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(b=o==null?void 0:o.copis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"6. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(m=o==null?void 0:o.jrf_phd_scholar)==null?void 0:m.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-shade2 mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"",children:(x=o==null?void 0:o.description)==null?void 0:x.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(v=s==null?void 0:s.filter(S=>(S==null?void 0:S.project)==(o==null?void 0:o._id)))==null?void 0:v.map((S,P)=>a.jsxs("div",{className:P===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:S==null?void 0:S.bannerURL,className:"d-block w-100",alt:"banner image"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:S==null?void 0:S.title})})]},P))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(E=(N=(j=o==null?void 0:o.related_datasets)==null?void 0:j.arrayValue)==null?void 0:N.values)==null?void 0:E.map((S,P)=>{const C=r==null?void 0:r.find(R=>(R==null?void 0:R._id)==(S==null?void 0:S.stringValue));return a.jsxs("div",{children:[P+1,". ",C==null?void 0:C.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(C==null?void 0:C._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(C==null?void 0:C._id)+"Modal",tabIndex:-1,"aria-labelledby":(C==null?void 0:C._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(C==null?void 0:C._id)+"ModalLabel",children:C==null?void 0:C.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:C==null?void 0:C.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:C==null?void 0:C.images.map((R,V)=>a.jsx("div",{className:`carousel-item ${V===0&&"active"}`,children:a.jsx("img",{src:R==null?void 0:R.url,className:"d-block w-100",alt:"This is image"})},V))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},P)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(_=(w=(I=o==null?void 0:o.related_projectitems)==null?void 0:I.arrayValue)==null?void 0:w.values)==null?void 0:_.map((S,P)=>{const C=n==null?void 0:n.find(R=>(R==null?void 0:R._id)==(S==null?void 0:S.stringValue));return a.jsxs("div",{children:[P+1,". ",C==null?void 0:C.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(C==null?void 0:C._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(C==null?void 0:C._id)+"Modal",tabIndex:-1,"aria-labelledby":(C==null?void 0:C._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(C==null?void 0:C._id)+"ModalLabel",children:[C==null?void 0:C.title,"("," ",a.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:C==null?void 0:C.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(te,{to:C==null?void 0:C.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:C==null?void 0:C.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},P)})})]})]})]})]},l)})]})]})},QW=()=>{const t=K(r=>r.getnews.data),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await Mx(),n(!1)})()},[]),a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:"News "})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-shade2 text-center text-lg-start",children:["Latest News",a.jsx("hr",{})]}),a.jsx("div",{className:"",children:a.jsxs("table",{className:"table table-bordered table-hover table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Timestamp"})]})}),a.jsxs("tbody",{children:[e&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:a.jsx("h2",{className:"fw-bold text-center my-5 text-shade2",children:"Loading..."})})}),!e&&t.length>0&&(t==null?void 0:t.map((r,s)=>{if(!(s>5))return a.jsxs("tr",{children:[a.jsx("td",{children:s+1}),a.jsx("td",{className:"fw-bold text-shade2",children:r==null?void 0:r.title}),a.jsx("td",{children:r==null?void 0:r.description}),a.jsx("td",{children:Hx(r==null?void 0:r.datetime1)})]},s)})),t.length<1&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:a.jsx("h2",{className:"fw-bold text-center my-5 text-shade2",children:"No Data"})})})]})]})})]})]})},XW=()=>{const[t,e]=T.useState(!0),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=K(l=>l.getgallery.data);return T.useEffect(()=>{(async()=>{e(!0),await zx(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:"Gallery "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Image Gallery",a.jsx("hr",{})]}),a.jsx("div",{className:"row1 row",children:JW(o,Number(o.length)/4).map((l,c)=>a.jsx("div",{className:"column1 column",children:l.map((d,u)=>a.jsx("img",{className:"shadow-lg rounded-3",src:d==null?void 0:d.bannerURL,style:{width:"100%"},onClick:()=>{r(d==null?void 0:d.bannerURL),i(!0)}},u))},c))})]}),s&&a.jsxs("div",{className:"full_screen_image",children:[a.jsx("img",{src:n,alt:"full screen image"}),a.jsx("button",{onClick:()=>{i(!1),r("")},className:"btn btn-shade1",children:"Close"})]})]})},JW=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},ZW=()=>a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:"Welcome "})}),a.jsx(Gx,{}),a.jsxs(Gv,{children:[a.jsx(ge,{path:"/",element:a.jsx(zW,{})}),a.jsx(ge,{path:"/peoples",element:a.jsx(HW,{})}),a.jsx(ge,{path:"/news",element:a.jsx(QW,{})}),a.jsx(ge,{path:"/gallery",element:a.jsx(XW,{})}),a.jsx(ge,{path:"/datasets",element:a.jsx(WW,{})}),a.jsx(ge,{path:"/projects",element:a.jsx(YW,{})}),a.jsx(ge,{path:"/research-areas",element:a.jsx(qW,{})}),a.jsx(ge,{path:"/research-areas/:id",element:a.jsx(GW,{})}),a.jsx(ge,{path:"/publications",element:a.jsx(RA,{ref_:!1})}),a.jsx(ge,{path:"/contact",element:a.jsx(KW,{})})]}),a.jsx(Qx,{})]}),eq=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(!1);T.useEffect(()=>{const h=Xt.onAuthStateChanged(f=>{f&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>h()},[]);const c=async h=>{if(h.preventDefault(),!t||!s){k("warning","Email and Password fields are required!");return}l(!0);try{await C4(Xt,t,s),await fs(),window.location.reload()}catch(f){console.log(f),k("danger","Invalid Email or Password!")}l(!1)},d=async()=>{l(!0),Xt.languageCode="it",t3(Xt,Y3).then(async()=>{await fs(),window.location.reload()}).catch(h=>{(h==null?void 0:h.code)==="auth/admin-restricted-operation"?k("danger","User does not existed!"):k("danger","Invalid Email or Password!")}).finally(()=>{l(!1)})},u=async()=>{if(!n){k("warning","Email should not be empty!");return}l(!0),await I4(Xt,n).then(()=>{k("success","Password reset email sent!"),window.close()}).catch(()=>{k("danger","Error sending password reset email. Please try again later.")}),l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Login"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:h=>e(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:h=>i(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[a.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forgot Password?"}),a.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",children:a.jsxs("div",{className:"modal-content rounded-0",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forgot Password"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:h=>r(h.target.value),placeholder:"ie. user@gmail.com"})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-dark",onClick:u,disabled:o,children:o?"Please Wait..":"Send Mail"})]})]})})})]}),a.jsx("button",{onClick:c,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Submit"})]}),a.jsx("hr",{}),a.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2 border-1 border-secondary",onClick:d,disabled:o,children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(te,{to:"/register",children:"New Supervisor or PHD Student?"})]})]}),a.jsx($t,{children:a.jsx("title",{children:"Login "})})]})},tq=()=>{const{pathname:t}=Nc();return T.useEffect(()=>{window.scrollTo(0,0)},[t]),null},nq=()=>{var b,m,x,v,j,N,E,I,w,_,S,P,C,R,V,B;const{id:t}=Ur(),[e,n]=T.useState(!0),s=K(L=>L.getsupervisors.data).filter(L=>L._id==t)[0],o=K(L=>L.getpublications.data).filter(L=>{var D;const A=(D=L==null?void 0:L.data)==null?void 0:D.users;return A&&A.length>0?A.some(M=>{var U;return M===((U=s==null?void 0:s.data)==null?void 0:U.email)}):!1}),l=K(L=>{var A;return(A=L.getprojectsimages)==null?void 0:A.data}),c=K(L=>{var A;return(A=L.getprojectitems)==null?void 0:A.data}),d=K(L=>{var A;return(A=L.getdatasets)==null?void 0:A.data}),h=K(L=>{var A;return(A=L.getprojectsmain)==null?void 0:A.data}).filter(L=>{var D,M;const A=(M=(D=L==null?void 0:L.users)==null?void 0:D.arrayValue)==null?void 0:M.values;return A&&A.length>0?A.some(U=>{var z;return U.stringValue===((z=s==null?void 0:s.data)==null?void 0:z.email)}):!1}),p=K(L=>L.getphdStudents.data).filter(L=>{var A;return L.data.supervisor.mapValue.fields.email.stringValue===((A=s==null?void 0:s.data)==null?void 0:A.email)}),[g,y]=T.useState("");return T.useEffect(()=>{(async()=>{n(!0),await fs(),await Do(),await Qc(),await ha(),n(!1),await fa(),await pa(),await Wx(),await(async()=>{var M;const D=await Ef((M=s==null?void 0:s.data)==null?void 0:M.email);y(D)})()})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:(b=s==null?void 0:s.data)==null?void 0:b.name})}),a.jsx(Gx,{}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark ms-2",children:(m=s==null?void 0:s.data)==null?void 0:m.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-shade2 ms-2",children:(x=s==null?void 0:s.data)==null?void 0:x.designation})," ","| ",a.jsx("strong",{children:(v=s==null?void 0:s.data)==null?void 0:v.email})," |"," ",a.jsxs("strong",{children:["+91-",(j=s==null?void 0:s.data)==null?void 0:j.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[g!==null&&g!==""&&a.jsx("button",{className:"btn btn-shade1 my-2 btn-sm ms-2",onClick:()=>window.open(g,"_blank"),children:"Resume"}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-shade1 dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(E=(N=s==null?void 0:s.data)==null?void 0:N.links)==null?void 0:E.map(L=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:L!=null&&L.linkURL?L==null?void 0:L.linkURL:"#",target:"_blank",children:[L==null?void 0:L.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(I=s==null?void 0:s.data)==null?void 0:I.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(_=(w=s==null?void 0:s.data)==null?void 0:w.researchInterests)==null?void 0:_.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(P=(S=s==null?void 0:s.data)==null?void 0:S.teaching)==null?void 0:P.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(R=(C=s==null?void 0:s.data)==null?void 0:C.accomplishments)==null?void 0:R.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(B=(V=s==null?void 0:s.data)==null?void 0:V.professional_affiliation)==null?void 0:B.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]})]})})]}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Papers"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ol",{style:{height:"fit-content",overflow:"hidden"},children:o==null?void 0:o.map((L,A)=>{const{users:D}=L==null?void 0:L.data;if(D.filter(U=>{var z;return U===((z=s==null?void 0:s.data)==null?void 0:z.email)})[0])return a.jsx("li",{className:"mb-2",children:a.jsx(wf,{entry:L==null?void 0:L.data,id:L==null?void 0:L._id})},A)})})})]})}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),a.jsx("hr",{}),a.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:h==null?void 0:h.map((L,A)=>{var D,M,U,z,O,F,J,se,he,xe,Me,ie,ye,Y,ve,fe,Le,Ee;return a.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[a.jsx("h1",{className:"accordion-header",id:"heading"+A,children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+A,"aria-expanded":"true","aria-controls":"collapse"+A,children:a.jsxs("h5",{children:[a.jsxs("strong",{className:"text-shade2",children:[A+1,". "]}),(D=L==null?void 0:L.title)==null?void 0:D.stringValue]})})}),a.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:a.jsx("div",{id:"collapse"+A,className:"accordion-collapse collapse","aria-labelledby":"heading"+A,"data-bs-parent":"#accordionExample",children:a.jsx("div",{className:"accordion-body",children:a.jsx("div",{className:"col-sm-12 mb-3 overflow-auto",children:a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-column flex-lg-column gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["1."," "]}),"Project Video"]})}),a.jsx("td",{children:(O=(z=(U=(M=L==null?void 0:L.video)==null?void 0:M.mapValue)==null?void 0:U.fields)==null?void 0:z.timestamp)!=null&&O.timestampValue?a.jsxs("button",{className:"btn btn-success d-flex align-items-center",onClick:async()=>{try{const ae=await qx(L==null?void 0:L._id),Pe=window.open(ae,"_blank","width=550,height=700");Pe&&Pe.focus()}catch{k("warning","Video Not Found!")}},children:[a.jsx("i",{className:"bx bx-video me-1"})," ","Watch Now"]}):"Not Available"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["2."," "]}),"Funding Agency"]})}),a.jsx("td",{children:(F=L==null?void 0:L.funding_agency)==null?void 0:F.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["3."," "]}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(J=L==null?void 0:L.total_fund)==null?void 0:J.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["4."," "]}),"Project Investigators"]})}),a.jsx("td",{children:(se=L==null?void 0:L.pis)==null?void 0:se.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["5."," "]}),"Co-Project Investigators"]})}),a.jsx("td",{children:(he=L==null?void 0:L.copis)==null?void 0:he.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["6."," "]}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(xe=L==null?void 0:L.jrf_phd_scholar)==null?void 0:xe.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-12 col-md-12  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-shade2 mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"w-100 overflow-auto",children:(Me=L==null?void 0:L.description)==null?void 0:Me.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+A,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(ie=l==null?void 0:l.filter(ae=>(ae==null?void 0:ae.project)==(L==null?void 0:L._id)))==null?void 0:ie.map((ae,Pe)=>a.jsxs("div",{className:Pe===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:ae==null?void 0:ae.bannerURL,className:"d-block w-100",alt:"banner image",height:"400px"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:ae==null?void 0:ae.title})})]},Pe))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(ve=(Y=(ye=L==null?void 0:L.related_datasets)==null?void 0:ye.arrayValue)==null?void 0:Y.values)==null?void 0:ve.map((ae,Pe)=>{const ee=d==null?void 0:d.find(He=>(He==null?void 0:He._id)==(ae==null?void 0:ae.stringValue));return a.jsxs("div",{children:[Pe+1,". ",ee==null?void 0:ee.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(ee==null?void 0:ee._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(ee==null?void 0:ee._id)+"Modal",tabIndex:-1,"aria-labelledby":(ee==null?void 0:ee._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(ee==null?void 0:ee._id)+"ModalLabel",children:ee==null?void 0:ee.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:ee==null?void 0:ee.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+A,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:ee==null?void 0:ee.images.map((He,nn)=>a.jsx("div",{className:`carousel-item ${nn===0&&"active"}`,children:a.jsx("img",{src:He==null?void 0:He.url,className:"d-block w-100",alt:"This is image"})},nn))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+A,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+A,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},Pe)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(Ee=(Le=(fe=L==null?void 0:L.related_projectitems)==null?void 0:fe.arrayValue)==null?void 0:Le.values)==null?void 0:Ee.map((ae,Pe)=>{const ee=c==null?void 0:c.find(He=>(He==null?void 0:He._id)==(ae==null?void 0:ae.stringValue));return a.jsxs("div",{children:[Pe+1,". ",ee==null?void 0:ee.title," (",a.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(ee==null?void 0:ee._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(ee==null?void 0:ee._id)+"Modal",tabIndex:-1,"aria-labelledby":(ee==null?void 0:ee._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(ee==null?void 0:ee._id)+"ModalLabel",children:[ee==null?void 0:ee.title,"("," ",a.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:ee==null?void 0:ee.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(te,{to:ee==null?void 0:ee.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:ee==null?void 0:ee.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},Pe)})})]})]})]})},"item_"+A)})})})]},A)})})]})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((L,A)=>{const{name:D,batch:M,isAlumni:U,email:z,mobile:O}=L==null?void 0:L.data;return U!=null&&U.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:L==null?void 0:L.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:D==null?void 0:D.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(z==null?void 0:z.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(M==null?void 0:M.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",O==null?void 0:O.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+L._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},A)})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((L,A)=>{const{name:D,batch:M,isAlumni:U,email:z,mobile:O}=L==null?void 0:L.data;return U!=null&&U.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:L==null?void 0:L.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("strong",{className:"mt-2 d-inline",children:[a.jsx("h3",{children:D==null?void 0:D.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(z==null?void 0:z.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(M==null?void 0:M.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",O==null?void 0:O.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+L._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},A):null})})]}),a.jsx(Qx,{})]})},rq=({content:t,id:e,type:n})=>{const r=s9(),s=K(i=>i.getalerts.data);return a.jsx(a.Fragment,{children:a.jsxs("div",{className:`alert-anm alert alert-${n} rounded-0 my-1 d-flex flex-nowrap`,role:"alert",children:[a.jsx("h6",{children:t}),a.jsx("button",{type:"button",className:"btn-close ms-2",onClick:()=>{r(bC(s.filter(i=>i.id!=e)))}})]})})},sq=["ADMIN","SUPERVISOR","PHD"],iq=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(!1),[c,d]=T.useState(null),[u,h]=T.useState(!1);T.useEffect(()=>{const g=Xt.onAuthStateChanged(y=>{y&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>g()},[]);const f=async g=>{if(g.preventDefault(),!t||!c){k("warning","Email and User Type fields are required!"),l(!1);return}l(!0);let y;if(c==="SUPERVISOR"?y=_t(re(W,"supervisors"),Wn("email","==",t)):c==="PHD"&&(y=_t(re(W,"phdStudents"),Wn("email","==",t))),!(await Ne(y)).empty){h(!0),k("success","User with this email is existed, Choose your password and proceed!"),l(!1);return}k("danger","User with this email does not existed, contact your admin!"),l(!1)},p=async g=>{if(g.preventDefault(),!c){k("warning","User Type field is required!");return}if(!t||!n||!s){k("warning","Email, Password and Confirm Pasword fields are required!");return}if(n!==s){k("warning","Password and Confirm Password does not match!");return}if(n.length<6){k("warning","Password must be atleast 6 charactors long!");return}if(l(!0),c==="SUPERVISOR")try{await W0(Xt,t,n),await nt(re(W,"users"),{email:t,userType:"SUPERVISOR"}),window.location.href="/CVPR_LAB/#/dashboard"}catch(y){console.log(y),k("danger","Error while creating account, try again!")}else if(c==="PHD")try{await W0(Xt,t,n),await nt(re(W,"users"),{email:t,userType:"PHD"}),window.location.href="/CVPR_LAB/#/dashboard"}catch(y){if(console.log(y),y.code=="auth/email-already-in-use"){k("success","Account already created, Login with your email and password!"),window.location.href="#/login";return}k("danger","Error while creating account, try again!")}l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100 my-5",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-12 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Activate Your Account"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"User Type"}),a.jsxs("select",{name:"userType",id:"userType",className:"form-control",onChange:g=>d(g.target.value),disabled:o||u,children:[a.jsx("option",{value:"",children:"--select user type--"}),sq.map((g,y)=>{if(g!=="ADMIN")return a.jsx("option",{value:g,children:g},y)})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:g=>e(g.target.value),disabled:o||u})]}),u?a.jsx("div",{className:"alert alert-success p-1 rounded-0 mb-0",children:a.jsx("ul",{children:a.jsx("li",{children:"User Existed, choose your password and proceed to login!"})})}):a.jsx("div",{className:"alert alert-warning p-1 rounded-0 mb-0",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Utilize the email address provided to the administrator."}),a.jsx("li",{children:"If an email address has not been provided, kindly furnish it to the administrator prior to activating your account."}),a.jsx("li",{children:"The email address must be affiliated with the institute, e.g., test@iitrpr.ac.in."})]})}),u?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:g=>r(g.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword2",onChange:g=>i(g.target.value),disabled:o})]}),a.jsx("div",{className:"alert alert-warning p-1 rounded-0 ",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Password and Confirm password must be same."}),a.jsx("li",{children:"Password must be atleast 6 charactors long."})]})}),a.jsx("button",{onClick:p,className:"btn btn-success w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Proceed"})]}):a.jsx("button",{onClick:f,className:"btn btn-dark w-100 p-2 text-uppercase mt-3",disabled:o,children:o?"Please Wait..":"Check the user availablity"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(te,{to:"/login",children:"Already have an account?"})]})]}),a.jsx($t,{children:a.jsx("title",{children:"Register "})})]})},aq=()=>{var d,u,h,f,p,g,y,b,m,x,v,j,N,E,I,w,_,S,P,C,R,V,B,L,A,D,M,U,z,O,F,J,se,he,xe,Me,ie,ye;const{id:t}=Ur(),[e,n]=T.useState(!0),s=K(Y=>Y.getphdStudents.data).filter(Y=>Y._id==t)[0];let i="";(h=(u=(d=s==null?void 0:s.data)==null?void 0:d.researchInterests)==null?void 0:u.arrayValue)==null||h.values.map(Y=>{i=i+(i===""?"":",")+(Y==null?void 0:Y.stringValue)});let o=[];(g=(p=(f=s==null?void 0:s.data)==null?void 0:f.links)==null?void 0:p.arrayValue)==null||g.values.map(Y=>{var ve,fe,Le,Ee,ae,Pe;o.push({linkName:(Le=(fe=(ve=Y==null?void 0:Y.mapValue)==null?void 0:ve.fields)==null?void 0:fe.linkName)==null?void 0:Le.stringValue,linkURL:(Pe=(ae=(Ee=Y==null?void 0:Y.mapValue)==null?void 0:Ee.fields)==null?void 0:ae.linkURL)==null?void 0:Pe.stringValue})});const c=K(Y=>Y.getpublications.data).filter(Y=>{var fe;const ve=(fe=Y==null?void 0:Y.data)==null?void 0:fe.users;return ve&&ve.length>0?ve.some(Le=>{var Ee,ae;return Le===((ae=(Ee=s==null?void 0:s.data)==null?void 0:Ee.email)==null?void 0:ae.stringValue)}):!1});return T.useEffect(()=>{(async()=>{n(!0),await ha(),await Do(),n(!1)})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx($t,{children:a.jsx("title",{children:(b=(y=s==null?void 0:s.data)==null?void 0:y.name)==null?void 0:b.stringValue})}),a.jsx(Gx,{}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Ph.D. Student",a.jsx("hr",{})]}),a.jsxs("div",{className:"overflow-auto mt-3",children:[a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:s==null?void 0:s.profileImage,target:"_blank",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsxs("td",{colSpan:7,children:[a.jsx("h2",{className:"fw-bold text-shade2",children:(x=(m=s==null?void 0:s.data)==null?void 0:m.name)==null?void 0:x.stringValue}),(j=(v=s==null?void 0:s.data)==null?void 0:v.isAlumni)!=null&&j.booleanValue?a.jsx("div",{className:"fw-bold text-secondary",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-secondary",children:"Ongoing Student"}),a.jsx("button",{className:"btn btn-shade1 my-3 btn-sm",onClick:async()=>{var ve,fe;const Y=await Ef((fe=(ve=s==null?void 0:s.data)==null?void 0:ve.email)==null?void 0:fe.stringValue);if(!Y){k("warning","Resume not uploaded!");return}window.open(Y,"_blank")},children:"Resume"})]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Name"})}),a.jsx("td",{children:(E=(N=s==null?void 0:s.data)==null?void 0:N.name)==null?void 0:E.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-shade2",children:"Email"})}),a.jsx("td",{children:(w=(I=s==null?void 0:s.data)==null?void 0:I.email)==null?void 0:w.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Batch"})]}),a.jsx("td",{children:((S=(_=s==null?void 0:s.data)==null?void 0:_.batch)==null?void 0:S.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(B=(V=(R=(C=(P=s==null?void 0:s.data)==null?void 0:P.supervisor)==null?void 0:C.mapValue)==null?void 0:R.fields)==null?void 0:V.name)==null?void 0:B.stringValue,", ",a.jsx("strong",{children:"Email: "}),(U=(M=(D=(A=(L=s==null?void 0:s.data)==null?void 0:L.supervisor)==null?void 0:A.mapValue)==null?void 0:D.fields)==null?void 0:M.email)==null?void 0:U.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((O=(z=s==null?void 0:s.data)==null?void 0:z.mobile)==null?void 0:O.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((J=(F=s==null?void 0:s.data)==null?void 0:F.personal_email)==null?void 0:J.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(Me=(xe=(he=(se=s==null?void 0:s.data)==null?void 0:se.researchInterests)==null?void 0:he.arrayValue)==null?void 0:xe.values)==null?void 0:Me.map((Y,ve)=>a.jsx(te,{to:"https://www.google.com/search?q="+(Y==null?void 0:Y.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:Y==null?void 0:Y.stringValue},ve)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(ye=(ie=s==null?void 0:s.data)==null?void 0:ie.introduction)==null?void 0:ye.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Links"})}),a.jsx("td",{colSpan:7,children:o.map(Y=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(Y==null?void 0:Y.linkURL,"_blank"),children:Y==null?void 0:Y.linkName}))})]})]})}),a.jsx("div",{className:"card p-3 mb-4 rounded-0",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Papers"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ol",{style:{height:"fit-content",overflow:"hidden"},children:c==null?void 0:c.map((Y,ve)=>{const{users:fe}=Y==null?void 0:Y.data;if(fe.filter(Ee=>{var ae,Pe;return Ee===((Pe=(ae=s==null?void 0:s.data)==null?void 0:ae.email)==null?void 0:Pe.stringValue)})[0])return a.jsx("li",{className:"mb-2",children:a.jsx(wf,{entry:Y==null?void 0:Y.data,id:Y==null?void 0:Y._id})},ve)})})})]})})]})]}),a.jsx(Qx,{})]})},oq=async()=>{console.log("Started!");try{const t=_t(re(W,"website_settings"),ti(1)),n=(await Ne(t)).docs[0];if(n){const r=n.data(),s=r.themes.filter(i=>i.current===!0)[0];document.documentElement.style.setProperty("--primary-dark",s.colors.primary),document.documentElement.style.setProperty("--secondary-dark",s.colors.secondary),document.documentElement.style.setProperty("--light-dark",s.colors.shade1),document.documentElement.style.setProperty("--secondary-light",s.colors.shade2),document.documentElement.style.setProperty("--primary-light",s.colors.shade2),window.VITE_APP_TITLE=r.name,ot.dispatch(JB(r))}}catch{ot.dispatch(ZB()),k("danger","Error Occurred while Saving the changes.")}};function lq(){const t=K(e=>e.getalerts.data);return T.useEffect(()=>{oq()},[]),a.jsxs(a.Fragment,{children:[a.jsx(tq,{}),t.length>0&&a.jsx("div",{className:"w-100 d-flex align-items-center justify-content-center flex-wrap flex-column gap-0",style:{position:"fixed",top:0,left:0,overflow:"hidden",height:"100vh",backgroundColor:"#00000046",zIndex:9999},children:t==null?void 0:t.map((e,n)=>a.jsx(rq,{content:e==null?void 0:e.content,id:e==null?void 0:e.id,type:e==null?void 0:e.type},n))}),a.jsxs(Gv,{children:[a.jsx(ge,{path:"/dashboard/*",element:a.jsx(dH,{})}),a.jsx(ge,{path:"/profile/:id",element:a.jsx(nq,{})}),a.jsx(ge,{path:"/phd/:id",element:a.jsx(aq,{})}),a.jsx(ge,{path:"/*",element:a.jsx(ZW,{})}),a.jsx(ge,{path:"/login",element:a.jsx(eq,{})}),a.jsx(ge,{path:"/register",element:a.jsx(iq,{})})]})]})}function tu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(n){return typeof n}:tu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tu(t)}function cq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dq(t,e,n){return e&&vj(t.prototype,e),n&&vj(t,n),t}function uq(t,e){return e&&(tu(e)==="object"||typeof e=="function")?e:nu(t)}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}function nu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qg(t,e)}function Qg(t,e){return Qg=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Qg(t,e)}function ru(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DA=function(t){hq(e,t);function e(){var n,r;cq(this,e);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=uq(this,(n=Yg(e)).call.apply(n,[this].concat(i))),ru(nu(r),"state",{bootstrapped:!1}),ru(nu(r),"_unsubscribe",void 0),ru(nu(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),d=c.bootstrapped;d&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return dq(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);ru(DA,"defaultProps",{children:null,loading:null});Qp.createRoot(document.getElementById("root")).render(a.jsx(ke.StrictMode,{children:a.jsx(t9,{store:ot,children:a.jsx(DA,{loading:null,persistor:Dz,children:a.jsx(rD,{children:a.jsx(lq,{})})})})}));
