function aP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function go(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G_={exports:{}},ah={},K_={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),oP=Symbol.for("react.portal"),lP=Symbol.for("react.fragment"),cP=Symbol.for("react.strict_mode"),uP=Symbol.for("react.profiler"),dP=Symbol.for("react.provider"),hP=Symbol.for("react.context"),fP=Symbol.for("react.forward_ref"),pP=Symbol.for("react.suspense"),mP=Symbol.for("react.memo"),gP=Symbol.for("react.lazy"),kx=Symbol.iterator;function vP(t){return t===null||typeof t!="object"?null:(t=kx&&t[kx]||t["@@iterator"],typeof t=="function"?t:null)}var Y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q_=Object.assign,X_={};function vo(t,e,n){this.props=t,this.context=e,this.refs=X_,this.updater=n||Y_}vo.prototype.isReactComponent={};vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J_(){}J_.prototype=vo.prototype;function Ug(t,e,n){this.props=t,this.context=e,this.refs=X_,this.updater=n||Y_}var $g=Ug.prototype=new J_;$g.constructor=Ug;Q_($g,vo.prototype);$g.isPureReactComponent=!0;var Rx=Array.isArray,Z_=Object.prototype.hasOwnProperty,Bg={current:null},eE={key:!0,ref:!0,__self:!0,__source:!0};function tE(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Z_.call(e,r)&&!eE.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:mc,type:t,key:i,ref:a,props:s,_owner:Bg.current}}function yP(t,e){return{$$typeof:mc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===mc}function xP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dx=/\/+/g;function wf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xP(""+t.key):e.toString(36)}function ju(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case mc:case oP:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+wf(a,0):r,Rx(s)?(n="",t!=null&&(n=t.replace(Dx,"$&/")+"/"),ju(s,e,n,"",function(u){return u})):s!=null&&(zg(s)&&(s=yP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Dx,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Rx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+wf(i,l);a+=ju(i,e,n,c,s)}else if(c=vP(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+wf(i,l++),a+=ju(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qc(t,e,n){if(t==null)return t;var r=[],s=0;return ju(t,r,"","",function(i){return e.call(n,i,s++)}),r}function wP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Nu={transition:null},bP={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:Bg};ve.Children={map:qc,forEach:function(t,e,n){qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qc(t,function(){e++}),e},toArray:function(t){return qc(t,function(e){return e})||[]},only:function(t){if(!zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=vo;ve.Fragment=lP;ve.Profiler=uP;ve.PureComponent=Ug;ve.StrictMode=cP;ve.Suspense=pP;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bP;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Q_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Bg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Z_.call(e,c)&&!eE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:mc,type:t.type,key:s,ref:i,props:r,_owner:a}};ve.createContext=function(t){return t={$$typeof:hP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dP,_context:t},t.Consumer=t};ve.createElement=tE;ve.createFactory=function(t){var e=tE.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:fP,render:t}};ve.isValidElement=zg;ve.lazy=function(t){return{$$typeof:gP,_payload:{_status:-1,_result:t},_init:wP}};ve.memo=function(t,e){return{$$typeof:mP,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Nu.transition;Nu.transition={};try{t()}finally{Nu.transition=e}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(t,e){return en.current.useCallback(t,e)};ve.useContext=function(t){return en.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return en.current.useDeferredValue(t)};ve.useEffect=function(t,e){return en.current.useEffect(t,e)};ve.useId=function(){return en.current.useId()};ve.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return en.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};ve.useRef=function(t){return en.current.useRef(t)};ve.useState=function(t){return en.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return en.current.useTransition()};ve.version="18.2.0";K_.exports=ve;var N=K_.exports;const Ne=go(N),Lp=aP({__proto__:null,default:Ne},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P=N,EP=Symbol.for("react.element"),TP=Symbol.for("react.fragment"),SP=Object.prototype.hasOwnProperty,jP=_P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NP={key:!0,ref:!0,__self:!0,__source:!0};function nE(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)SP.call(e,r)&&!NP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:EP,type:t,key:i,ref:a,props:s,_owner:jP.current}}ah.Fragment=TP;ah.jsx=nE;ah.jsxs=nE;G_.exports=ah;var o=G_.exports,Mp={},rE={exports:{}},Pn={},sE={exports:{}},iE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var F=R.length;R.push(L);e:for(;0<F;){var q=F-1>>>1,A=R[q];if(0<s(A,L))R[q]=L,R[F]=A,F=q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],F=R.pop();if(F!==L){R[0]=F;e:for(var q=0,A=R.length,z=A>>>1;q<z;){var X=2*(q+1)-1,J=R[X],ae=X+1,fe=R[ae];if(0>s(J,F))ae<A&&0>s(fe,J)?(R[q]=fe,R[ae]=F,q=ae):(R[q]=J,R[X]=F,q=X);else if(ae<A&&0>s(fe,F))R[q]=fe,R[ae]=F,q=ae;else break e}}return L}function s(R,L){var F=R.sortIndex-L.sortIndex;return F!==0?F:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function _(R){if(x=!1,w(R),!g)if(n(c)!==null)g=!0,$(j);else{var L=n(u);L!==null&&O(_,L.startTime-R)}}function j(R,L){g=!1,x&&(x=!1,m(b),b=-1),p=!0;var F=f;try{for(w(L),h=n(c);h!==null&&(!(h.expirationTime>L)||R&&!P());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var A=q(h.expirationTime<=L);L=t.unstable_now(),typeof A=="function"?h.callback=A:h===n(c)&&r(c),w(L)}else r(c);h=n(c)}if(h!==null)var z=!0;else{var X=n(u);X!==null&&O(_,X.startTime-L),z=!1}return z}finally{h=null,f=F,p=!1}}var E=!1,I=null,b=-1,T=5,S=-1;function P(){return!(t.unstable_now()-S<T)}function D(){if(I!==null){var R=t.unstable_now();S=R;var L=!0;try{L=I(!0,R)}finally{L?C():(E=!1,I=null)}}else E=!1}var C;if(typeof v=="function")C=function(){v(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,k=M.port2;M.port1.onmessage=D,C=function(){k.postMessage(null)}}else C=function(){y(D,0)};function $(R){I=R,E||(E=!0,C())}function O(R,L){b=y(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,$(j))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var F=f;f=L;try{return R()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=f;f=R;try{return L()}finally{f=F}},t.unstable_scheduleCallback=function(R,L,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,R){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=F+A,R={id:d++,callback:L,priorityLevel:R,startTime:F,expirationTime:A,sortIndex:-1},F>q?(R.sortIndex=F,e(u,R),n(c)===null&&R===n(u)&&(x?(m(b),b=-1):x=!0,O(_,F-q))):(R.sortIndex=A,e(c,R),g||p||(g=!0,$(j))),R},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(R){var L=f;return function(){var F=f;f=L;try{return R.apply(this,arguments)}finally{f=F}}}})(iE);sE.exports=iE;var IP=sE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE=N,Nn=IP;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oE=new Set,Cl={};function Yi(t,e){Ya(t,e),Ya(t+"Capture",e)}function Ya(t,e){for(Cl[t]=e,t=0;t<e.length;t++)oE.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,CP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ox={},Lx={};function PP(t){return Vp.call(Lx,t)?!0:Vp.call(Ox,t)?!1:CP.test(t)?Lx[t]=!0:(Ox[t]=!0,!1)}function AP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kP(t,e,n,r){if(e===null||typeof e>"u"||AP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hg=/[\-:]([a-z])/g;function Wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hg,Wg);At[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hg,Wg);At[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hg,Wg);At[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function qg(t,e,n,r){var s=At.hasOwnProperty(e)?At[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kP(e,n,s,r)&&(n=null),r||s===null?PP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ns=aE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),va=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),lE=Symbol.for("react.provider"),cE=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),Yg=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),uE=Symbol.for("react.offscreen"),Mx=Symbol.iterator;function Ao(t){return t===null||typeof t!="object"?null:(t=Mx&&t[Mx]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,bf;function Qo(t){if(bf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bf=e&&e[1]||""}return`
`+bf+t}var _f=!1;function Ef(t,e){if(!t||_f)return"";_f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{_f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function RP(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=Ef(t.type,!1),t;case 11:return t=Ef(t.type.render,!1),t;case 1:return t=Ef(t.type,!0),t;default:return""}}function Bp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ya:return"Fragment";case va:return"Portal";case Fp:return"Profiler";case Gg:return"StrictMode";case Up:return"Suspense";case $p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cE:return(t.displayName||"Context")+".Consumer";case lE:return(t._context.displayName||"Context")+".Provider";case Kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yg:return e=t.displayName||null,e!==null?e:Bp(t.type)||"Memo";case ls:e=t._payload,t=t._init;try{return Bp(t(e))}catch{}}return null}function DP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(e);case 8:return e===Gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OP(t){var e=dE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kc(t){t._valueTracker||(t._valueTracker=OP(t))}function hE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ju(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zp(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fE(t,e){e=e.checked,e!=null&&qg(t,"checked",e,!1)}function Hp(t,e){fE(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wp(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wp(t,e,n){(e!=="number"||Ju(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xo=Array.isArray;function ka(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ux(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Xo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function pE(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $x(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yc,gE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LP=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(t){LP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ll[e]=ll[t]})});function vE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ll.hasOwnProperty(t)&&ll[t]?(""+e).trim():e+"px"}function yE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MP=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kp(t,e){if(e){if(MP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Yp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qp=null;function Qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xp=null,Ra=null,Da=null;function Bx(t){if(t=yc(t)){if(typeof Xp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=dh(e),Xp(t.stateNode,t.type,e))}}function xE(t){Ra?Da?Da.push(t):Da=[t]:Ra=t}function wE(){if(Ra){var t=Ra,e=Da;if(Da=Ra=null,Bx(t),e)for(t=0;t<e.length;t++)Bx(e[t])}}function bE(t,e){return t(e)}function _E(){}var Tf=!1;function EE(t,e,n){if(Tf)return t(e,n);Tf=!0;try{return bE(t,e,n)}finally{Tf=!1,(Ra!==null||Da!==null)&&(_E(),wE())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=dh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Jp=!1;if(Kr)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Jp=!1}function VP(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var cl=!1,Zu=null,ed=!1,Zp=null,FP={onError:function(t){cl=!0,Zu=t}};function UP(t,e,n,r,s,i,a,l,c){cl=!1,Zu=null,VP.apply(FP,arguments)}function $P(t,e,n,r,s,i,a,l,c){if(UP.apply(this,arguments),cl){if(cl){var u=Zu;cl=!1,Zu=null}else throw Error(B(198));ed||(ed=!0,Zp=u)}}function Qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zx(t){if(Qi(t)!==t)throw Error(B(188))}function BP(t){var e=t.alternate;if(!e){if(e=Qi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zx(s),t;if(i===r)return zx(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function SE(t){return t=BP(t),t!==null?jE(t):null}function jE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jE(t);if(e!==null)return e;t=t.sibling}return null}var NE=Nn.unstable_scheduleCallback,Hx=Nn.unstable_cancelCallback,zP=Nn.unstable_shouldYield,HP=Nn.unstable_requestPaint,rt=Nn.unstable_now,WP=Nn.unstable_getCurrentPriorityLevel,Xg=Nn.unstable_ImmediatePriority,IE=Nn.unstable_UserBlockingPriority,td=Nn.unstable_NormalPriority,qP=Nn.unstable_LowPriority,CE=Nn.unstable_IdlePriority,oh=null,xr=null;function GP(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(oh,t,void 0,(t.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:QP,KP=Math.log,YP=Math.LN2;function QP(t){return t>>>=0,t===0?32:31-(KP(t)/YP|0)|0}var Qc=64,Xc=4194304;function Jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Jo(l):(i&=a,i!==0&&(r=Jo(i)))}else a=n&~s,a!==0?r=Jo(a):i!==0&&(r=Jo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rr(e),s=1<<n,r|=t[n],e&=~s;return r}function XP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-rr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=XP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PE(){var t=Qc;return Qc<<=1,!(Qc&4194240)&&(Qc=64),t}function Sf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rr(e),t[e]=n}function ZP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-rr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pe=0;function AE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kE,Zg,RE,DE,OE,tm=!1,Jc=[],js=null,Ns=null,Is=null,kl=new Map,Rl=new Map,hs=[],eA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wx(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(e.pointerId)}}function Ro(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yc(e),e!==null&&Zg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function tA(t,e,n,r,s){switch(e){case"focusin":return js=Ro(js,t,e,n,r,s),!0;case"dragenter":return Ns=Ro(Ns,t,e,n,r,s),!0;case"mouseover":return Is=Ro(Is,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return kl.set(i,Ro(kl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rl.set(i,Ro(Rl.get(i)||null,t,e,n,r,s)),!0}return!1}function LE(t){var e=mi(t.target);if(e!==null){var n=Qi(e);if(n!==null){if(e=n.tag,e===13){if(e=TE(n),e!==null){t.blockedOn=e,OE(t.priority,function(){RE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qp=r,n.target.dispatchEvent(r),Qp=null}else return e=yc(n),e!==null&&Zg(e),t.blockedOn=n,!1;e.shift()}return!0}function qx(t,e,n){Iu(t)&&n.delete(e)}function nA(){tm=!1,js!==null&&Iu(js)&&(js=null),Ns!==null&&Iu(Ns)&&(Ns=null),Is!==null&&Iu(Is)&&(Is=null),kl.forEach(qx),Rl.forEach(qx)}function Do(t,e){t.blockedOn===e&&(t.blockedOn=null,tm||(tm=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,nA)))}function Dl(t){function e(s){return Do(s,t)}if(0<Jc.length){Do(Jc[0],t);for(var n=1;n<Jc.length;n++){var r=Jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&Do(js,t),Ns!==null&&Do(Ns,t),Is!==null&&Do(Is,t),kl.forEach(e),Rl.forEach(e),n=0;n<hs.length;n++)r=hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)LE(n),n.blockedOn===null&&hs.shift()}var Oa=ns.ReactCurrentBatchConfig,rd=!0;function rA(t,e,n,r){var s=Pe,i=Oa.transition;Oa.transition=null;try{Pe=1,ev(t,e,n,r)}finally{Pe=s,Oa.transition=i}}function sA(t,e,n,r){var s=Pe,i=Oa.transition;Oa.transition=null;try{Pe=4,ev(t,e,n,r)}finally{Pe=s,Oa.transition=i}}function ev(t,e,n,r){if(rd){var s=nm(t,e,n,r);if(s===null)Of(t,e,r,sd,n),Wx(t,r);else if(tA(s,t,e,n,r))r.stopPropagation();else if(Wx(t,r),e&4&&-1<eA.indexOf(t)){for(;s!==null;){var i=yc(s);if(i!==null&&kE(i),i=nm(t,e,n,r),i===null&&Of(t,e,r,sd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Of(t,e,r,null,n)}}var sd=null;function nm(t,e,n,r){if(sd=null,t=Qg(r),t=mi(t),t!==null)if(e=Qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sd=t,null}function ME(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WP()){case Xg:return 1;case IE:return 4;case td:case qP:return 16;case CE:return 536870912;default:return 16}default:return 16}}var xs=null,tv=null,Cu=null;function VE(){if(Cu)return Cu;var t,e=tv,n=e.length,r,s="value"in xs?xs.value:xs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Cu=s.slice(t,1<r?1-r:void 0)}function Pu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function Gx(){return!1}function An(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zc:Gx,this.isPropagationStopped=Gx,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=An(yo),vc=Je({},yo,{view:0,detail:0}),iA=An(vc),jf,Nf,Oo,lh=Je({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(jf=t.screenX-Oo.screenX,Nf=t.screenY-Oo.screenY):Nf=jf=0,Oo=t),jf)},movementY:function(t){return"movementY"in t?t.movementY:Nf}}),Kx=An(lh),aA=Je({},lh,{dataTransfer:0}),oA=An(aA),lA=Je({},vc,{relatedTarget:0}),If=An(lA),cA=Je({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),uA=An(cA),dA=Je({},yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hA=An(dA),fA=Je({},yo,{data:0}),Yx=An(fA),pA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gA[t])?!!e[t]:!1}function rv(){return vA}var yA=Je({},vc,{key:function(t){if(t.key){var e=pA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rv,charCode:function(t){return t.type==="keypress"?Pu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xA=An(yA),wA=Je({},lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qx=An(wA),bA=Je({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rv}),_A=An(bA),EA=Je({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),TA=An(EA),SA=Je({},lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jA=An(SA),NA=[9,13,27,32],sv=Kr&&"CompositionEvent"in window,ul=null;Kr&&"documentMode"in document&&(ul=document.documentMode);var IA=Kr&&"TextEvent"in window&&!ul,FE=Kr&&(!sv||ul&&8<ul&&11>=ul),Xx=" ",Jx=!1;function UE(t,e){switch(t){case"keyup":return NA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function CA(t,e){switch(t){case"compositionend":return $E(e);case"keypress":return e.which!==32?null:(Jx=!0,Xx);case"textInput":return t=e.data,t===Xx&&Jx?null:t;default:return null}}function PA(t,e){if(xa)return t==="compositionend"||!sv&&UE(t,e)?(t=VE(),Cu=tv=xs=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FE&&e.locale!=="ko"?null:e.data;default:return null}}var AA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AA[t.type]:e==="textarea"}function BE(t,e,n,r){xE(r),e=id(e,"onChange"),0<e.length&&(n=new nv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dl=null,Ol=null;function kA(t){ZE(t,0)}function ch(t){var e=_a(t);if(hE(e))return t}function RA(t,e){if(t==="change")return e}var zE=!1;if(Kr){var Cf;if(Kr){var Pf="oninput"in document;if(!Pf){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),Pf=typeof ew.oninput=="function"}Cf=Pf}else Cf=!1;zE=Cf&&(!document.documentMode||9<document.documentMode)}function tw(){dl&&(dl.detachEvent("onpropertychange",HE),Ol=dl=null)}function HE(t){if(t.propertyName==="value"&&ch(Ol)){var e=[];BE(e,Ol,t,Qg(t)),EE(kA,e)}}function DA(t,e,n){t==="focusin"?(tw(),dl=e,Ol=n,dl.attachEvent("onpropertychange",HE)):t==="focusout"&&tw()}function OA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ch(Ol)}function LA(t,e){if(t==="click")return ch(e)}function MA(t,e){if(t==="input"||t==="change")return ch(e)}function VA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:VA;function Ll(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vp.call(e,s)||!ir(t[s],e[s]))return!1}return!0}function nw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rw(t,e){var n=nw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nw(n)}}function WE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qE(){for(var t=window,e=Ju();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ju(t.document)}return e}function iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FA(t){var e=qE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WE(n.ownerDocument.documentElement,n)){if(r!==null&&iv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=rw(n,i);var a=rw(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UA=Kr&&"documentMode"in document&&11>=document.documentMode,wa=null,rm=null,hl=null,sm=!1;function sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sm||wa==null||wa!==Ju(r)||(r=wa,"selectionStart"in r&&iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hl&&Ll(hl,r)||(hl=r,r=id(rm,"onSelect"),0<r.length&&(e=new nv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wa)))}function eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ba={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},Af={},GE={};Kr&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function uh(t){if(Af[t])return Af[t];if(!ba[t])return t;var e=ba[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GE)return Af[t]=e[n];return t}var KE=uh("animationend"),YE=uh("animationiteration"),QE=uh("animationstart"),XE=uh("transitionend"),JE=new Map,iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(t,e){JE.set(t,e),Yi(e,[t])}for(var kf=0;kf<iw.length;kf++){var Rf=iw[kf],$A=Rf.toLowerCase(),BA=Rf[0].toUpperCase()+Rf.slice(1);Gs($A,"on"+BA)}Gs(KE,"onAnimationEnd");Gs(YE,"onAnimationIteration");Gs(QE,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(XE,"onTransitionEnd");Ya("onMouseEnter",["mouseout","mouseover"]);Ya("onMouseLeave",["mouseout","mouseover"]);Ya("onPointerEnter",["pointerout","pointerover"]);Ya("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zo));function aw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$P(r,e,void 0,t),t.currentTarget=null}function ZE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;aw(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;aw(s,l,u),i=c}}}if(ed)throw t=Zp,ed=!1,Zp=null,t}function Oe(t,e){var n=e[cm];n===void 0&&(n=e[cm]=new Set);var r=t+"__bubble";n.has(r)||(eT(e,t,2,!1),n.add(r))}function Df(t,e,n){var r=0;e&&(r|=4),eT(n,t,r,e)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[tu]){t[tu]=!0,oE.forEach(function(n){n!=="selectionchange"&&(zA.has(n)||Df(n,!1,t),Df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tu]||(e[tu]=!0,Df("selectionchange",!1,e))}}function eT(t,e,n,r){switch(ME(e)){case 1:var s=rA;break;case 4:s=sA;break;default:s=ev}n=s.bind(null,e,n,t),s=void 0,!Jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Of(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=mi(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}EE(function(){var u=i,d=Qg(n),h=[];e:{var f=JE.get(t);if(f!==void 0){var p=nv,g=t;switch(t){case"keypress":if(Pu(n)===0)break e;case"keydown":case"keyup":p=xA;break;case"focusin":g="focus",p=If;break;case"focusout":g="blur",p=If;break;case"beforeblur":case"afterblur":p=If;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_A;break;case KE:case YE:case QE:p=uA;break;case XE:p=TA;break;case"scroll":p=iA;break;case"wheel":p=jA;break;case"copy":case"cut":case"paste":p=hA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Qx}var x=(e&4)!==0,y=!x&&t==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var v=u,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,m!==null&&(_=Al(v,m),_!=null&&x.push(Vl(v,_,w)))),y)break;v=v.return}0<x.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Qp&&(g=n.relatedTarget||n.fromElement)&&(mi(g)||g[Yr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?mi(g):null,g!==null&&(y=Qi(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(x=Kx,_="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Qx,_="onPointerLeave",m="onPointerEnter",v="pointer"),y=p==null?f:_a(p),w=g==null?f:_a(g),f=new x(_,v+"leave",p,n,d),f.target=y,f.relatedTarget=w,_=null,mi(d)===u&&(x=new x(m,v+"enter",g,n,d),x.target=w,x.relatedTarget=y,_=x),y=_,p&&g)t:{for(x=p,m=g,v=0,w=x;w;w=ca(w))v++;for(w=0,_=m;_;_=ca(_))w++;for(;0<v-w;)x=ca(x),v--;for(;0<w-v;)m=ca(m),w--;for(;v--;){if(x===m||m!==null&&x===m.alternate)break t;x=ca(x),m=ca(m)}x=null}else x=null;p!==null&&ow(h,f,p,x,!1),g!==null&&y!==null&&ow(h,y,g,x,!0)}}e:{if(f=u?_a(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=RA;else if(Zx(f))if(zE)j=MA;else{j=OA;var E=DA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=LA);if(j&&(j=j(t,u))){BE(h,j,n,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Wp(f,"number",f.value)}switch(E=u?_a(u):window,t){case"focusin":(Zx(E)||E.contentEditable==="true")&&(wa=E,rm=u,hl=null);break;case"focusout":hl=rm=wa=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,sw(h,n,d);break;case"selectionchange":if(UA)break;case"keydown":case"keyup":sw(h,n,d)}var I;if(sv)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else xa?UE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(FE&&n.locale!=="ko"&&(xa||b!=="onCompositionStart"?b==="onCompositionEnd"&&xa&&(I=VE()):(xs=d,tv="value"in xs?xs.value:xs.textContent,xa=!0)),E=id(u,b),0<E.length&&(b=new Yx(b,t,null,n,d),h.push({event:b,listeners:E}),I?b.data=I:(I=$E(n),I!==null&&(b.data=I)))),(I=IA?CA(t,n):PA(t,n))&&(u=id(u,"onBeforeInput"),0<u.length&&(d=new Yx("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}ZE(h,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function id(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Al(t,n),i!=null&&r.unshift(Vl(t,i,s)),i=Al(t,e),i!=null&&r.push(Vl(t,i,s))),t=t.return}return r}function ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ow(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Al(n,i),c!=null&&a.unshift(Vl(n,c,l))):s||(c=Al(n,i),c!=null&&a.push(Vl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var HA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function lw(t){return(typeof t=="string"?t:""+t).replace(HA,`
`).replace(WA,"")}function nu(t,e,n){if(e=lw(e),lw(t)!==e&&n)throw Error(B(425))}function ad(){}var im=null,am=null;function om(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(t){return cw.resolve(null).then(t).catch(KA)}:lm;function KA(t){setTimeout(function(){throw t})}function Lf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dl(e)}function Cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xo=Math.random().toString(36).slice(2),fr="__reactFiber$"+xo,Fl="__reactProps$"+xo,Yr="__reactContainer$"+xo,cm="__reactEvents$"+xo,YA="__reactListeners$"+xo,QA="__reactHandles$"+xo;function mi(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uw(t);t!==null;){if(n=t[fr])return n;t=uw(t)}return e}t=n,n=t.parentNode}return null}function yc(t){return t=t[fr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function dh(t){return t[Fl]||null}var um=[],Ea=-1;function Ks(t){return{current:t}}function Ve(t){0>Ea||(t.current=um[Ea],um[Ea]=null,Ea--)}function Re(t,e){Ea++,um[Ea]=t.current,t.current=e}var $s={},Bt=Ks($s),dn=Ks(!1),Ai=$s;function Qa(t,e){var n=t.type.contextTypes;if(!n)return $s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function hn(t){return t=t.childContextTypes,t!=null}function od(){Ve(dn),Ve(Bt)}function dw(t,e,n){if(Bt.current!==$s)throw Error(B(168));Re(Bt,e),Re(dn,n)}function tT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,DP(t)||"Unknown",s));return Je({},n,r)}function ld(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$s,Ai=Bt.current,Re(Bt,t),Re(dn,dn.current),!0}function hw(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=tT(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Ve(dn),Ve(Bt),Re(Bt,t)):Ve(dn),Re(dn,n)}var Mr=null,hh=!1,Mf=!1;function nT(t){Mr===null?Mr=[t]:Mr.push(t)}function XA(t){hh=!0,nT(t)}function Ys(){if(!Mf&&Mr!==null){Mf=!0;var t=0,e=Pe;try{var n=Mr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,hh=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(t+1)),NE(Xg,Ys),s}finally{Pe=e,Mf=!1}}return null}var Ta=[],Sa=0,cd=null,ud=0,Vn=[],Fn=0,ki=null,Ur=1,$r="";function ci(t,e){Ta[Sa++]=ud,Ta[Sa++]=cd,cd=t,ud=e}function rT(t,e,n){Vn[Fn++]=Ur,Vn[Fn++]=$r,Vn[Fn++]=ki,ki=t;var r=Ur;t=$r;var s=32-rr(r)-1;r&=~(1<<s),n+=1;var i=32-rr(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ur=1<<32-rr(e)+s|n<<s|r,$r=i+t}else Ur=1<<i|n<<s|r,$r=t}function av(t){t.return!==null&&(ci(t,1),rT(t,1,0))}function ov(t){for(;t===cd;)cd=Ta[--Sa],Ta[Sa]=null,ud=Ta[--Sa],Ta[Sa]=null;for(;t===ki;)ki=Vn[--Fn],Vn[Fn]=null,$r=Vn[--Fn],Vn[Fn]=null,Ur=Vn[--Fn],Vn[Fn]=null}var Sn=null,bn=null,Ye=!1,er=null;function sT(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,bn=Cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:Ur,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,bn=null,!0):!1;default:return!1}}function dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hm(t){if(Ye){var e=bn;if(e){var n=e;if(!fw(t,e)){if(dm(t))throw Error(B(418));e=Cs(n.nextSibling);var r=Sn;e&&fw(t,e)?sT(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Sn=t)}}else{if(dm(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ye=!1,Sn=t}}}function pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function ru(t){if(t!==Sn)return!1;if(!Ye)return pw(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!om(t.type,t.memoizedProps)),e&&(e=bn)){if(dm(t))throw iT(),Error(B(418));for(;e;)sT(t,e),e=Cs(e.nextSibling)}if(pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=Cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=Sn?Cs(t.stateNode.nextSibling):null;return!0}function iT(){for(var t=bn;t;)t=Cs(t.nextSibling)}function Xa(){bn=Sn=null,Ye=!1}function lv(t){er===null?er=[t]:er.push(t)}var JA=ns.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var dd=Ks(null),hd=null,ja=null,cv=null;function uv(){cv=ja=hd=null}function dv(t){var e=dd.current;Ve(dd),t._currentValue=e}function fm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function La(t,e){hd=t,cv=ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(cv!==t)if(t={context:t,memoizedValue:e,next:null},ja===null){if(hd===null)throw Error(B(308));ja=t,hd.dependencies={lanes:0,firstContext:t}}else ja=ja.next=t;return e}var gi=null;function hv(t){gi===null?gi=[t]:gi.push(t)}function aT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cs=!1;function fv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Qr(t,n)}return s=r.interleaved,s===null?(e.next=e,hv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Qr(t,n)}function Au(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jg(t,n)}}function mw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fd(t,e,n,r){var s=t.updateQueue;cs=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(f=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Je({},h,f);break e;case 2:cs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Di|=a,t.lanes=a,t.memoizedState=h}}function gw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var lT=new aE.Component().refs;function pm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fh={isMounted:function(t){return(t=t._reactInternals)?Qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ks(t),i=Wr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(sr(e,t,s,r),Au(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ks(t),i=Wr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(sr(e,t,s,r),Au(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=ks(t),s=Wr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(sr(e,t,r,n),Au(e,t,r))}};function vw(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ll(n,r)||!Ll(s,i):!0}function cT(t,e,n){var r=!1,s=$s,i=e.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(s=hn(e)?Ai:Bt.current,r=e.contextTypes,i=(r=r!=null)?Qa(t,s):$s),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function yw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fh.enqueueReplaceState(e,e.state,null)}function mm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=lT,fv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hn(i):(i=hn(e)?Ai:Bt.current,s.context=Qa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fh.enqueueReplaceState(s,s.state,null),fd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;l===lT&&(l=s.refs={}),a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function su(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xw(t){var e=t._init;return e(t._payload)}function uT(t){function e(m,v){if(t){var w=m.deletions;w===null?(m.deletions=[v],m.flags|=16):w.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=Rs(m,v),m.index=0,m.sibling=null,m}function i(m,v,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<v?(m.flags|=2,v):w):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,v,w,_){return v===null||v.tag!==6?(v=Hf(w,m.mode,_),v.return=m,v):(v=s(v,w),v.return=m,v)}function c(m,v,w,_){var j=w.type;return j===ya?d(m,v,w.props.children,_,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ls&&xw(j)===v.type)?(_=s(v,w.props),_.ref=Lo(m,v,w),_.return=m,_):(_=Mu(w.type,w.key,w.props,null,m.mode,_),_.ref=Lo(m,v,w),_.return=m,_)}function u(m,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Wf(w,m.mode,_),v.return=m,v):(v=s(v,w.children||[]),v.return=m,v)}function d(m,v,w,_,j){return v===null||v.tag!==7?(v=ji(w,m.mode,_,j),v.return=m,v):(v=s(v,w),v.return=m,v)}function h(m,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Hf(""+v,m.mode,w),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gc:return w=Mu(v.type,v.key,v.props,null,m.mode,w),w.ref=Lo(m,null,v),w.return=m,w;case va:return v=Wf(v,m.mode,w),v.return=m,v;case ls:var _=v._init;return h(m,_(v._payload),w)}if(Xo(v)||Ao(v))return v=ji(v,m.mode,w,null),v.return=m,v;su(m,v)}return null}function f(m,v,w,_){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(m,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gc:return w.key===j?c(m,v,w,_):null;case va:return w.key===j?u(m,v,w,_):null;case ls:return j=w._init,f(m,v,j(w._payload),_)}if(Xo(w)||Ao(w))return j!==null?null:d(m,v,w,_,null);su(m,w)}return null}function p(m,v,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(w)||null,l(v,m,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gc:return m=m.get(_.key===null?w:_.key)||null,c(v,m,_,j);case va:return m=m.get(_.key===null?w:_.key)||null,u(v,m,_,j);case ls:var E=_._init;return p(m,v,w,E(_._payload),j)}if(Xo(_)||Ao(_))return m=m.get(w)||null,d(v,m,_,j,null);su(v,_)}return null}function g(m,v,w,_){for(var j=null,E=null,I=v,b=v=0,T=null;I!==null&&b<w.length;b++){I.index>b?(T=I,I=null):T=I.sibling;var S=f(m,I,w[b],_);if(S===null){I===null&&(I=T);break}t&&I&&S.alternate===null&&e(m,I),v=i(S,v,b),E===null?j=S:E.sibling=S,E=S,I=T}if(b===w.length)return n(m,I),Ye&&ci(m,b),j;if(I===null){for(;b<w.length;b++)I=h(m,w[b],_),I!==null&&(v=i(I,v,b),E===null?j=I:E.sibling=I,E=I);return Ye&&ci(m,b),j}for(I=r(m,I);b<w.length;b++)T=p(I,m,b,w[b],_),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?b:T.key),v=i(T,v,b),E===null?j=T:E.sibling=T,E=T);return t&&I.forEach(function(P){return e(m,P)}),Ye&&ci(m,b),j}function x(m,v,w,_){var j=Ao(w);if(typeof j!="function")throw Error(B(150));if(w=j.call(w),w==null)throw Error(B(151));for(var E=j=null,I=v,b=v=0,T=null,S=w.next();I!==null&&!S.done;b++,S=w.next()){I.index>b?(T=I,I=null):T=I.sibling;var P=f(m,I,S.value,_);if(P===null){I===null&&(I=T);break}t&&I&&P.alternate===null&&e(m,I),v=i(P,v,b),E===null?j=P:E.sibling=P,E=P,I=T}if(S.done)return n(m,I),Ye&&ci(m,b),j;if(I===null){for(;!S.done;b++,S=w.next())S=h(m,S.value,_),S!==null&&(v=i(S,v,b),E===null?j=S:E.sibling=S,E=S);return Ye&&ci(m,b),j}for(I=r(m,I);!S.done;b++,S=w.next())S=p(I,m,b,S.value,_),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?b:S.key),v=i(S,v,b),E===null?j=S:E.sibling=S,E=S);return t&&I.forEach(function(D){return e(m,D)}),Ye&&ci(m,b),j}function y(m,v,w,_){if(typeof w=="object"&&w!==null&&w.type===ya&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gc:e:{for(var j=w.key,E=v;E!==null;){if(E.key===j){if(j=w.type,j===ya){if(E.tag===7){n(m,E.sibling),v=s(E,w.props.children),v.return=m,m=v;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ls&&xw(j)===E.type){n(m,E.sibling),v=s(E,w.props),v.ref=Lo(m,E,w),v.return=m,m=v;break e}n(m,E);break}else e(m,E);E=E.sibling}w.type===ya?(v=ji(w.props.children,m.mode,_,w.key),v.return=m,m=v):(_=Mu(w.type,w.key,w.props,null,m.mode,_),_.ref=Lo(m,v,w),_.return=m,m=_)}return a(m);case va:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(m,v.sibling),v=s(v,w.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=Wf(w,m.mode,_),v.return=m,m=v}return a(m);case ls:return E=w._init,y(m,v,E(w._payload),_)}if(Xo(w))return g(m,v,w,_);if(Ao(w))return x(m,v,w,_);su(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,w),v.return=m,m=v):(n(m,v),v=Hf(w,m.mode,_),v.return=m,m=v),a(m)):n(m,v)}return y}var Ja=uT(!0),dT=uT(!1),xc={},wr=Ks(xc),Ul=Ks(xc),$l=Ks(xc);function vi(t){if(t===xc)throw Error(B(174));return t}function pv(t,e){switch(Re($l,e),Re(Ul,t),Re(wr,xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gp(e,t)}Ve(wr),Re(wr,e)}function Za(){Ve(wr),Ve(Ul),Ve($l)}function hT(t){vi($l.current);var e=vi(wr.current),n=Gp(e,t.type);e!==n&&(Re(Ul,t),Re(wr,n))}function mv(t){Ul.current===t&&(Ve(wr),Ve(Ul))}var Qe=Ks(0);function pd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vf=[];function gv(){for(var t=0;t<Vf.length;t++)Vf[t]._workInProgressVersionPrimary=null;Vf.length=0}var ku=ns.ReactCurrentDispatcher,Ff=ns.ReactCurrentBatchConfig,Ri=0,Xe=null,ht=null,yt=null,md=!1,fl=!1,Bl=0,ZA=0;function Rt(){throw Error(B(321))}function vv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function yv(t,e,n,r,s,i){if(Ri=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?rk:sk,t=n(r,s),fl){i=0;do{if(fl=!1,Bl=0,25<=i)throw Error(B(301));i+=1,yt=ht=null,e.updateQueue=null,ku.current=ik,t=n(r,s)}while(fl)}if(ku.current=gd,e=ht!==null&&ht.next!==null,Ri=0,yt=ht=Xe=null,md=!1,e)throw Error(B(300));return t}function xv(){var t=Bl!==0;return Bl=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Xe.memoizedState=yt=t:yt=yt.next=t,yt}function Wn(){if(ht===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=yt===null?Xe.memoizedState:yt.next;if(e!==null)yt=e,ht=t;else{if(t===null)throw Error(B(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Xe.memoizedState=yt=t:yt=yt.next=t}return yt}function zl(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=Wn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ht,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Ri&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,Xe.lanes|=d,Di|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ir(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,Di|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $f(t){var e=Wn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ir(i,e.memoizedState)||(un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function fT(){}function pT(t,e){var n=Xe,r=Wn(),s=e(),i=!ir(r.memoizedState,s);if(i&&(r.memoizedState=s,un=!0),r=r.queue,wv(vT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Hl(9,gT.bind(null,n,r,s,e),void 0,null),xt===null)throw Error(B(349));Ri&30||mT(n,e,s)}return s}function mT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gT(t,e,n,r){e.value=n,e.getSnapshot=r,yT(e)&&xT(t)}function vT(t,e,n){return n(function(){yT(e)&&xT(t)})}function yT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function xT(t){var e=Qr(t,1);e!==null&&sr(e,t,1,-1)}function ww(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=nk.bind(null,Xe,t),[e.memoizedState,t]}function Hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wT(){return Wn().memoizedState}function Ru(t,e,n,r){var s=hr();Xe.flags|=t,s.memoizedState=Hl(1|e,n,void 0,r===void 0?null:r)}function ph(t,e,n,r){var s=Wn();r=r===void 0?null:r;var i=void 0;if(ht!==null){var a=ht.memoizedState;if(i=a.destroy,r!==null&&vv(r,a.deps)){s.memoizedState=Hl(e,n,i,r);return}}Xe.flags|=t,s.memoizedState=Hl(1|e,n,i,r)}function bw(t,e){return Ru(8390656,8,t,e)}function wv(t,e){return ph(2048,8,t,e)}function bT(t,e){return ph(4,2,t,e)}function _T(t,e){return ph(4,4,t,e)}function ET(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TT(t,e,n){return n=n!=null?n.concat([t]):null,ph(4,4,ET.bind(null,e,t),n)}function bv(){}function ST(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jT(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function NT(t,e,n){return Ri&21?(ir(n,e)||(n=PE(),Xe.lanes|=n,Di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function ek(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Ff.transition;Ff.transition={};try{t(!1),e()}finally{Pe=n,Ff.transition=r}}function IT(){return Wn().memoizedState}function tk(t,e,n){var r=ks(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CT(t))PT(e,n);else if(n=aT(t,e,n,r),n!==null){var s=Jt();sr(n,t,r,s),AT(n,e,r)}}function nk(t,e,n){var r=ks(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CT(t))PT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ir(l,a)){var c=e.interleaved;c===null?(s.next=s,hv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=aT(t,e,s,r),n!==null&&(s=Jt(),sr(n,t,r,s),AT(n,e,r))}}function CT(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function PT(t,e){fl=md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jg(t,n)}}var gd={readContext:Hn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},rk={readContext:Hn,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:bw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4194308,4,ET.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ru(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ru(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tk.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:ww,useDebugValue:bv,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=ww(!1),e=t[0];return t=ek.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=hr();if(Ye){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),xt===null)throw Error(B(349));Ri&30||mT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,bw(vT.bind(null,r,i,t),[t]),r.flags|=2048,Hl(9,gT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=hr(),e=xt.identifierPrefix;if(Ye){var n=$r,r=Ur;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sk={readContext:Hn,useCallback:ST,useContext:Hn,useEffect:wv,useImperativeHandle:TT,useInsertionEffect:bT,useLayoutEffect:_T,useMemo:jT,useReducer:Uf,useRef:wT,useState:function(){return Uf(zl)},useDebugValue:bv,useDeferredValue:function(t){var e=Wn();return NT(e,ht.memoizedState,t)},useTransition:function(){var t=Uf(zl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:fT,useSyncExternalStore:pT,useId:IT,unstable_isNewReconciler:!1},ik={readContext:Hn,useCallback:ST,useContext:Hn,useEffect:wv,useImperativeHandle:TT,useInsertionEffect:bT,useLayoutEffect:_T,useMemo:jT,useReducer:$f,useRef:wT,useState:function(){return $f(zl)},useDebugValue:bv,useDeferredValue:function(t){var e=Wn();return ht===null?e.memoizedState=t:NT(e,ht.memoizedState,t)},useTransition:function(){var t=$f(zl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:fT,useSyncExternalStore:pT,useId:IT,unstable_isNewReconciler:!1};function eo(t,e){try{var n="",r=e;do n+=RP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ak=typeof WeakMap=="function"?WeakMap:Map;function kT(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yd||(yd=!0,jm=r),gm(t,e)},n}function RT(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){gm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gm(t,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function _w(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ak;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=wk.bind(null,t,e,n),e.then(t,t))}function Ew(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var ok=ns.ReactCurrentOwner,un=!1;function Qt(t,e,n,r){e.child=t===null?dT(e,null,n,r):Ja(e,t.child,n,r)}function Sw(t,e,n,r,s){n=n.render;var i=e.ref;return La(e,s),r=yv(t,e,n,r,i,s),n=xv(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(Ye&&n&&av(e),e.flags|=1,Qt(t,e,r,s),e.child)}function jw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,DT(t,e,i,r,s)):(t=Mu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(a,r)&&t.ref===e.ref)return Xr(t,e,s)}return e.flags|=1,t=Rs(i,r),t.ref=e.ref,t.return=e,e.child=t}function DT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ll(i,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Xr(t,e,s)}return vm(t,e,n,r,s)}function OT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ia,xn),xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Ia,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Re(Ia,xn),xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Re(Ia,xn),xn|=r;return Qt(t,e,s,n),e.child}function LT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vm(t,e,n,r,s){var i=hn(n)?Ai:Bt.current;return i=Qa(e,i),La(e,s),n=yv(t,e,n,r,i,s),r=xv(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(Ye&&r&&av(e),e.flags|=1,Qt(t,e,n,s),e.child)}function Nw(t,e,n,r,s){if(hn(n)){var i=!0;ld(e)}else i=!1;if(La(e,s),e.stateNode===null)Du(t,e),cT(e,n,r),mm(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=hn(n)?Ai:Bt.current,u=Qa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&yw(e,a,r,u),cs=!1;var f=e.memoizedState;a.state=f,fd(e,r,a,s),c=e.memoizedState,l!==r||f!==c||dn.current||cs?(typeof d=="function"&&(pm(e,n,d,r),c=e.memoizedState),(l=cs||vw(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,oT(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Jn(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=hn(n)?Ai:Bt.current,c=Qa(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&yw(e,a,r,c),cs=!1,f=e.memoizedState,a.state=f,fd(e,r,a,s);var g=e.memoizedState;l!==h||f!==g||dn.current||cs?(typeof p=="function"&&(pm(e,n,p,r),g=e.memoizedState),(u=cs||vw(e,n,u,r,f,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ym(t,e,n,r,i,s)}function ym(t,e,n,r,s,i){LT(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&hw(e,n,!1),Xr(t,e,i);r=e.stateNode,ok.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ja(e,t.child,null,i),e.child=Ja(e,null,l,i)):Qt(t,e,l,i),e.memoizedState=r.state,s&&hw(e,n,!0),e.child}function MT(t){var e=t.stateNode;e.pendingContext?dw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dw(t,e.context,!1),pv(t,e.containerInfo)}function Iw(t,e,n,r,s){return Xa(),lv(s),e.flags|=256,Qt(t,e,n,r),e.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function wm(t){return{baseLanes:t,cachePool:null,transitions:null}}function VT(t,e,n){var r=e.pendingProps,s=Qe.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Re(Qe,s&1),t===null)return hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=vh(a,r,0,null),t=ji(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wm(n),e.memoizedState=xm,t):_v(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lk(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Rs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Rs(l,i):(i=ji(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?wm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=xm,r}return i=t.child,t=i.sibling,r=Rs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _v(t,e){return e=vh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function iu(t,e,n,r){return r!==null&&lv(r),Ja(e,t.child,null,n),t=_v(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lk(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Bf(Error(B(422))),iu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=vh({mode:"visible",children:r.children},s,0,null),i=ji(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ja(e,t.child,null,a),e.child.memoizedState=wm(a),e.memoizedState=xm,i);if(!(e.mode&1))return iu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=Bf(i,r,void 0),iu(t,e,a,r)}if(l=(a&t.childLanes)!==0,un||l){if(r=xt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qr(t,s),sr(r,t,s,-1))}return Iv(),r=Bf(Error(B(421))),iu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bn=Cs(s.nextSibling),Sn=e,Ye=!0,er=null,t!==null&&(Vn[Fn++]=Ur,Vn[Fn++]=$r,Vn[Fn++]=ki,Ur=t.id,$r=t.overflow,ki=e),e=_v(e,r.children),e.flags|=4096,e)}function Cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fm(t.return,e,n)}function zf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function FT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Qt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cw(t,n,e);else if(t.tag===19)Cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),zf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}zf(e,!0,n,null,i);break;case"together":zf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ck(t,e,n){switch(e.tag){case 3:MT(e),Xa();break;case 5:hT(e);break;case 1:hn(e.type)&&ld(e);break;case 4:pv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Re(dd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?VT(t,e,n):(Re(Qe,Qe.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);Re(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return FT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,OT(t,e,n)}return Xr(t,e,n)}var UT,bm,$T,BT;UT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bm=function(){};$T=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vi(wr.current);var i=null;switch(n){case"input":s=zp(t,s),r=zp(t,r),i=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),i=[];break;case"textarea":s=qp(t,s),r=qp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ad)}Kp(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Oe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};BT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mo(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uk(t,e,n){var r=e.pendingProps;switch(ov(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return hn(e.type)&&od(),Dt(e),null;case 3:return r=e.stateNode,Za(),Ve(dn),Ve(Bt),gv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ru(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(Cm(er),er=null))),bm(t,e),Dt(e),null;case 5:mv(e);var s=vi($l.current);if(n=e.type,t!==null&&e.stateNode!=null)$T(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Dt(e),null}if(t=vi(wr.current),ru(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[fr]=e,r[Fl]=i,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<Zo.length;s++)Oe(Zo[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Vx(r,i),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",r);break;case"textarea":Ux(r,i),Oe("invalid",r)}Kp(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&nu(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&nu(r.textContent,l,t),s=["children",""+l]):Cl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Kc(r),Fx(r,i,!0);break;case"textarea":Kc(r),$x(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ad)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[fr]=e,t[Fl]=r,UT(t,e,!1,!1),e.stateNode=t;e:{switch(a=Yp(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zo.length;s++)Oe(Zo[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":Vx(t,r),s=zp(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":Ux(t,r),s=qp(t,r),Oe("invalid",t);break;default:s=r}Kp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?yE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pl(t,c):typeof c=="number"&&Pl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Oe("scroll",t):c!=null&&qg(t,i,c,a))}switch(n){case"input":Kc(t),Fx(t,r,!1);break;case"textarea":Kc(t),$x(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ka(t,!!r.multiple,i,!1):r.defaultValue!=null&&ka(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ad)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)BT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=vi($l.current),vi(wr.current),ru(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(i=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:nu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Dt(e),null;case 13:if(Ve(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&bn!==null&&e.mode&1&&!(e.flags&128))iT(),Xa(),e.flags|=98560,i=!1;else if(i=ru(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[fr]=e}else Xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),i=!1}else er!==null&&(Cm(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?ft===0&&(ft=3):Iv())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Za(),bm(t,e),t===null&&Ml(e.stateNode.containerInfo),Dt(e),null;case 10:return dv(e.type._context),Dt(e),null;case 17:return hn(e.type)&&od(),Dt(e),null;case 19:if(Ve(Qe),i=e.memoizedState,i===null)return Dt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Mo(i,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=pd(t),a!==null){for(e.flags|=128,Mo(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Qe,Qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>to&&(e.flags|=128,r=!0,Mo(i,!1),e.lanes=4194304)}else{if(!r)if(t=pd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ye)return Dt(e),null}else 2*rt()-i.renderingStartTime>to&&n!==1073741824&&(e.flags|=128,r=!0,Mo(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=Qe.current,Re(Qe,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return Nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function dk(t,e){switch(ov(e),e.tag){case 1:return hn(e.type)&&od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Za(),Ve(dn),Ve(Bt),gv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mv(e),null;case 13:if(Ve(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Qe),null;case 4:return Za(),null;case 10:return dv(e.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var au=!1,Vt=!1,hk=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function _m(t,e,n){try{n()}catch(r){tt(t,e,r)}}var Pw=!1;function fk(t,e){if(im=rd,t=qE(),iv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(am={focusedElem:t,selectionRange:n},rd=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:Jn(e.type,x),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){tt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return g=Pw,Pw=!1,g}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_m(e,n,i)}s=s.next}while(s!==r)}}function mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zT(t){var e=t.alternate;e!==null&&(t.alternate=null,zT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Fl],delete e[cm],delete e[YA],delete e[QA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HT(t){return t.tag===5||t.tag===3||t.tag===4}function Aw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ad));else if(r!==4&&(t=t.child,t!==null))for(Tm(t,e,n),t=t.sibling;t!==null;)Tm(t,e,n),t=t.sibling}function Sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sm(t,e,n),t=t.sibling;t!==null;)Sm(t,e,n),t=t.sibling}var Tt=null,Zn=!1;function is(t,e,n){for(n=n.child;n!==null;)WT(t,e,n),n=n.sibling}function WT(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(oh,n)}catch{}switch(n.tag){case 5:Vt||Na(n,e);case 6:var r=Tt,s=Zn;Tt=null,is(t,e,n),Tt=r,Zn=s,Tt!==null&&(Zn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Zn?(t=Tt,n=n.stateNode,t.nodeType===8?Lf(t.parentNode,n):t.nodeType===1&&Lf(t,n),Dl(t)):Lf(Tt,n.stateNode));break;case 4:r=Tt,s=Zn,Tt=n.stateNode.containerInfo,Zn=!0,is(t,e,n),Tt=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&_m(n,e,a),s=s.next}while(s!==r)}is(t,e,n);break;case 1:if(!Vt&&(Na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tt(n,e,l)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,is(t,e,n),Vt=r):is(t,e,n);break;default:is(t,e,n)}}function kw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hk),e.forEach(function(r){var s=_k.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Tt=l.stateNode,Zn=!1;break e;case 3:Tt=l.stateNode.containerInfo,Zn=!0;break e;case 4:Tt=l.stateNode.containerInfo,Zn=!0;break e}l=l.return}if(Tt===null)throw Error(B(160));WT(i,a,s),Tt=null,Zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){tt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qT(e,t),e=e.sibling}function qT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),dr(t),r&4){try{pl(3,t,t.return),mh(3,t)}catch(x){tt(t,t.return,x)}try{pl(5,t,t.return)}catch(x){tt(t,t.return,x)}}break;case 1:Qn(e,t),dr(t),r&512&&n!==null&&Na(n,n.return);break;case 5:if(Qn(e,t),dr(t),r&512&&n!==null&&Na(n,n.return),t.flags&32){var s=t.stateNode;try{Pl(s,"")}catch(x){tt(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&fE(s,i),Yp(l,a);var u=Yp(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?yE(s,h):d==="dangerouslySetInnerHTML"?gE(s,h):d==="children"?Pl(s,h):qg(s,d,h,u)}switch(l){case"input":Hp(s,i);break;case"textarea":pE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ka(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ka(s,!!i.multiple,i.defaultValue,!0):ka(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fl]=i}catch(x){tt(t,t.return,x)}}break;case 6:if(Qn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){tt(t,t.return,x)}}break;case 3:if(Qn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(x){tt(t,t.return,x)}break;case 4:Qn(e,t),dr(t);break;case 13:Qn(e,t),dr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sv=rt())),r&4&&kw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||d,Qn(e,t),Vt=u):Qn(e,t),dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:pl(4,f,f.return);break;case 1:Na(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){tt(r,n,x)}}break;case 5:Na(f,f.return);break;case 22:if(f.memoizedState!==null){Dw(h);continue}}p!==null?(p.return=f,ee=p):Dw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vE("display",a))}catch(x){tt(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){tt(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qn(e,t),dr(t),r&4&&kw(t);break;case 21:break;default:Qn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HT(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pl(s,""),r.flags&=-33);var i=Aw(t);Sm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Aw(t);Tm(t,l,a);break;default:throw Error(B(161))}}catch(c){tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pk(t,e,n){ee=t,GT(t)}function GT(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||au;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Vt;l=au;var u=Vt;if(au=a,(Vt=c)&&!u)for(ee=s;ee!==null;)a=ee,c=a.child,a.tag===22&&a.memoizedState!==null?Ow(s):c!==null?(c.return=a,ee=c):Ow(s);for(;i!==null;)ee=i,GT(i),i=i.sibling;ee=s,au=l,Vt=u}Rw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):Rw(t)}}function Rw(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||mh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&gw(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gw(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Vt||e.flags&512&&Em(e)}catch(f){tt(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Dw(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function Ow(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mh(4,e)}catch(c){tt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){tt(e,s,c)}}var i=e.return;try{Em(e)}catch(c){tt(e,i,c)}break;case 5:var a=e.return;try{Em(e)}catch(c){tt(e,a,c)}}}catch(c){tt(e,e.return,c)}if(e===t){ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ee=l;break}ee=e.return}}var mk=Math.ceil,vd=ns.ReactCurrentDispatcher,Ev=ns.ReactCurrentOwner,Bn=ns.ReactCurrentBatchConfig,_e=0,xt=null,ot=null,It=0,xn=0,Ia=Ks(0),ft=0,Wl=null,Di=0,gh=0,Tv=0,ml=null,ln=null,Sv=0,to=1/0,Lr=null,yd=!1,jm=null,As=null,ou=!1,ws=null,xd=0,gl=0,Nm=null,Ou=-1,Lu=0;function Jt(){return _e&6?rt():Ou!==-1?Ou:Ou=rt()}function ks(t){return t.mode&1?_e&2&&It!==0?It&-It:JA.transition!==null?(Lu===0&&(Lu=PE()),Lu):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:ME(t.type)),t):1}function sr(t,e,n,r){if(50<gl)throw gl=0,Nm=null,Error(B(185));gc(t,n,r),(!(_e&2)||t!==xt)&&(t===xt&&(!(_e&2)&&(gh|=n),ft===4&&fs(t,It)),fn(t,r),n===1&&_e===0&&!(e.mode&1)&&(to=rt()+500,hh&&Ys()))}function fn(t,e){var n=t.callbackNode;JP(t,e);var r=nd(t,t===xt?It:0);if(r===0)n!==null&&Hx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hx(n),e===1)t.tag===0?XA(Lw.bind(null,t)):nT(Lw.bind(null,t)),GA(function(){!(_e&6)&&Ys()}),n=null;else{switch(AE(r)){case 1:n=Xg;break;case 4:n=IE;break;case 16:n=td;break;case 536870912:n=CE;break;default:n=td}n=tS(n,KT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KT(t,e){if(Ou=-1,Lu=0,_e&6)throw Error(B(327));var n=t.callbackNode;if(Ma()&&t.callbackNode!==n)return null;var r=nd(t,t===xt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wd(t,r);else{e=r;var s=_e;_e|=2;var i=QT();(xt!==t||It!==e)&&(Lr=null,to=rt()+500,Si(t,e));do try{yk();break}catch(l){YT(t,l)}while(!0);uv(),vd.current=i,_e=s,ot!==null?e=0:(xt=null,It=0,e=ft)}if(e!==0){if(e===2&&(s=em(t),s!==0&&(r=s,e=Im(t,s))),e===1)throw n=Wl,Si(t,0),fs(t,r),fn(t,rt()),n;if(e===6)fs(t,r);else{if(s=t.current.alternate,!(r&30)&&!gk(s)&&(e=wd(t,r),e===2&&(i=em(t),i!==0&&(r=i,e=Im(t,i))),e===1))throw n=Wl,Si(t,0),fs(t,r),fn(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ui(t,ln,Lr);break;case 3:if(fs(t,r),(r&130023424)===r&&(e=Sv+500-rt(),10<e)){if(nd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lm(ui.bind(null,t,ln,Lr),e);break}ui(t,ln,Lr);break;case 4:if(fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-rr(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mk(r/1960))-r,10<r){t.timeoutHandle=lm(ui.bind(null,t,ln,Lr),r);break}ui(t,ln,Lr);break;case 5:ui(t,ln,Lr);break;default:throw Error(B(329))}}}return fn(t,rt()),t.callbackNode===n?KT.bind(null,t):null}function Im(t,e){var n=ml;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=wd(t,e),t!==2&&(e=ln,ln=n,e!==null&&Cm(e)),t}function Cm(t){ln===null?ln=t:ln.push.apply(ln,t)}function gk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ir(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(t,e){for(e&=~Tv,e&=~gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rr(e),r=1<<n;t[n]=-1,e&=~r}}function Lw(t){if(_e&6)throw Error(B(327));Ma();var e=nd(t,0);if(!(e&1))return fn(t,rt()),null;var n=wd(t,e);if(t.tag!==0&&n===2){var r=em(t);r!==0&&(e=r,n=Im(t,r))}if(n===1)throw n=Wl,Si(t,0),fs(t,e),fn(t,rt()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,ln,Lr),fn(t,rt()),null}function jv(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(to=rt()+500,hh&&Ys())}}function Oi(t){ws!==null&&ws.tag===0&&!(_e&6)&&Ma();var e=_e;_e|=1;var n=Bn.transition,r=Pe;try{if(Bn.transition=null,Pe=1,t)return t()}finally{Pe=r,Bn.transition=n,_e=e,!(_e&6)&&Ys()}}function Nv(){xn=Ia.current,Ve(Ia)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qA(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(ov(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&od();break;case 3:Za(),Ve(dn),Ve(Bt),gv();break;case 5:mv(r);break;case 4:Za();break;case 13:Ve(Qe);break;case 19:Ve(Qe);break;case 10:dv(r.type._context);break;case 22:case 23:Nv()}n=n.return}if(xt=t,ot=t=Rs(t.current,null),It=xn=e,ft=0,Wl=null,Tv=gh=Di=0,ln=ml=null,gi!==null){for(e=0;e<gi.length;e++)if(n=gi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}gi=null}return t}function YT(t,e){do{var n=ot;try{if(uv(),ku.current=gd,md){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}md=!1}if(Ri=0,yt=ht=Xe=null,fl=!1,Bl=0,Ev.current=null,n===null||n.return===null){ft=1,Wl=e,ot=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=It,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ew(a);if(p!==null){p.flags&=-257,Tw(p,a,l,i,e),p.mode&1&&_w(i,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){_w(i,u,e),Iv();break e}c=Error(B(426))}}else if(Ye&&l.mode&1){var y=Ew(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Tw(y,a,l,i,e),lv(eo(c,l));break e}}i=c=eo(c,l),ft!==4&&(ft=2),ml===null?ml=[i]:ml.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=kT(i,c,e);mw(i,m);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(As===null||!As.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=RT(i,l,e);mw(i,_);break e}}i=i.return}while(i!==null)}JT(n)}catch(j){e=j,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function QT(){var t=vd.current;return vd.current=gd,t===null?gd:t}function Iv(){(ft===0||ft===3||ft===2)&&(ft=4),xt===null||!(Di&268435455)&&!(gh&268435455)||fs(xt,It)}function wd(t,e){var n=_e;_e|=2;var r=QT();(xt!==t||It!==e)&&(Lr=null,Si(t,e));do try{vk();break}catch(s){YT(t,s)}while(!0);if(uv(),_e=n,vd.current=r,ot!==null)throw Error(B(261));return xt=null,It=0,ft}function vk(){for(;ot!==null;)XT(ot)}function yk(){for(;ot!==null&&!zP();)XT(ot)}function XT(t){var e=eS(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?JT(t):ot=e,Ev.current=null}function JT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dk(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(n=uk(n,e,xn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ft===0&&(ft=5)}function ui(t,e,n){var r=Pe,s=Bn.transition;try{Bn.transition=null,Pe=1,xk(t,e,n,r)}finally{Bn.transition=s,Pe=r}return null}function xk(t,e,n,r){do Ma();while(ws!==null);if(_e&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ZP(t,i),t===xt&&(ot=xt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ou||(ou=!0,tS(td,function(){return Ma(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var a=Pe;Pe=1;var l=_e;_e|=4,Ev.current=null,fk(t,n),qT(n,t),FA(am),rd=!!im,am=im=null,t.current=n,pk(n),HP(),_e=l,Pe=a,Bn.transition=i}else t.current=n;if(ou&&(ou=!1,ws=t,xd=s),i=t.pendingLanes,i===0&&(As=null),GP(n.stateNode),fn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yd)throw yd=!1,t=jm,jm=null,t;return xd&1&&t.tag!==0&&Ma(),i=t.pendingLanes,i&1?t===Nm?gl++:(gl=0,Nm=t):gl=0,Ys(),null}function Ma(){if(ws!==null){var t=AE(xd),e=Bn.transition,n=Pe;try{if(Bn.transition=null,Pe=16>t?16:t,ws===null)var r=!1;else{if(t=ws,ws=null,xd=0,_e&6)throw Error(B(331));var s=_e;for(_e|=4,ee=t.current;ee!==null;){var i=ee,a=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:pl(8,d,i)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,p=d.return;if(zT(d),d===u){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}ee=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ee=a;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ee=m;break e}ee=i.return}}var v=t.current;for(ee=v;ee!==null;){a=ee;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ee=w;else e:for(a=v;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mh(9,l)}}catch(j){tt(l,l.return,j)}if(l===a){ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break e}ee=l.return}}if(_e=s,Ys(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(oh,t)}catch{}r=!0}return r}finally{Pe=n,Bn.transition=e}}return!1}function Mw(t,e,n){e=eo(n,e),e=kT(t,e,1),t=Ps(t,e,1),e=Jt(),t!==null&&(gc(t,1,e),fn(t,e))}function tt(t,e,n){if(t.tag===3)Mw(t,t,n);else for(;e!==null;){if(e.tag===3){Mw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=eo(n,t),t=RT(e,t,1),e=Ps(e,t,1),t=Jt(),e!==null&&(gc(e,1,t),fn(e,t));break}}e=e.return}}function wk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(It&n)===n&&(ft===4||ft===3&&(It&130023424)===It&&500>rt()-Sv?Si(t,0):Tv|=n),fn(t,e)}function ZT(t,e){e===0&&(t.mode&1?(e=Xc,Xc<<=1,!(Xc&130023424)&&(Xc=4194304)):e=1);var n=Jt();t=Qr(t,e),t!==null&&(gc(t,e,n),fn(t,n))}function bk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZT(t,n)}function _k(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),ZT(t,n)}var eS;eS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,ck(t,e,n);un=!!(t.flags&131072)}else un=!1,Ye&&e.flags&1048576&&rT(e,ud,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Du(t,e),t=e.pendingProps;var s=Qa(e,Bt.current);La(e,n),s=yv(null,e,r,t,s,n);var i=xv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(i=!0,ld(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fv(e),s.updater=fh,e.stateNode=s,s._reactInternals=e,mm(e,r,t,n),e=ym(null,e,r,!0,i,n)):(e.tag=0,Ye&&i&&av(e),Qt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Du(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Tk(r),t=Jn(r,t),s){case 0:e=vm(null,e,r,t,n);break e;case 1:e=Nw(null,e,r,t,n);break e;case 11:e=Sw(null,e,r,t,n);break e;case 14:e=jw(null,e,r,Jn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),vm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Nw(t,e,r,s,n);case 3:e:{if(MT(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oT(t,e),fd(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=eo(Error(B(423)),e),e=Iw(t,e,r,n,s);break e}else if(r!==s){s=eo(Error(B(424)),e),e=Iw(t,e,r,n,s);break e}else for(bn=Cs(e.stateNode.containerInfo.firstChild),Sn=e,Ye=!0,er=null,n=dT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xa(),r===s){e=Xr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return hT(e),t===null&&hm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,om(r,s)?a=null:i!==null&&om(r,i)&&(e.flags|=32),LT(t,e),Qt(t,e,a,n),e.child;case 6:return t===null&&hm(e),null;case 13:return VT(t,e,n);case 4:return pv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ja(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Sw(t,e,r,s,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Re(dd,r._currentValue),r._currentValue=a,i!==null)if(ir(i.value,a)){if(i.children===s.children&&!dn.current){e=Xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Wr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),fm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),fm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Qt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,La(e,n),s=Hn(s),r=r(s),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,s=Jn(r,e.pendingProps),s=Jn(r.type,s),jw(t,e,r,s,n);case 15:return DT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Du(t,e),e.tag=1,hn(r)?(t=!0,ld(e)):t=!1,La(e,n),cT(e,r,s),mm(e,r,s,n),ym(null,e,r,!0,t,n);case 19:return FT(t,e,n);case 22:return OT(t,e,n)}throw Error(B(156,e.tag))};function tS(t,e){return NE(t,e)}function Ek(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new Ek(t,e,n,r)}function Cv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tk(t){if(typeof t=="function")return Cv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kg)return 11;if(t===Yg)return 14}return 2}function Rs(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mu(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Cv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ya:return ji(n.children,s,i,e);case Gg:a=8,s|=8;break;case Fp:return t=$n(12,n,e,s|2),t.elementType=Fp,t.lanes=i,t;case Up:return t=$n(13,n,e,s),t.elementType=Up,t.lanes=i,t;case $p:return t=$n(19,n,e,s),t.elementType=$p,t.lanes=i,t;case uE:return vh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lE:a=10;break e;case cE:a=9;break e;case Kg:a=11;break e;case Yg:a=14;break e;case ls:a=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=$n(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ji(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function vh(t,e,n,r){return t=$n(22,t,r,e),t.elementType=uE,t.lanes=n,t.stateNode={isHidden:!1},t}function Hf(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function Wf(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sf(0),this.expirationTimes=Sf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pv(t,e,n,r,s,i,a,l,c){return t=new Sk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fv(i),t}function jk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nS(t){if(!t)return $s;t=t._reactInternals;e:{if(Qi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(hn(n))return tT(t,n,e)}return e}function rS(t,e,n,r,s,i,a,l,c){return t=Pv(n,r,!0,t,s,i,a,l,c),t.context=nS(null),n=t.current,r=Jt(),s=ks(n),i=Wr(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,gc(t,s,r),fn(t,r),t}function yh(t,e,n,r){var s=e.current,i=Jt(),a=ks(s);return n=nS(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,a),t!==null&&(sr(t,s,a,i),Au(t,s,a)),a}function bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Av(t,e){Vw(t,e),(t=t.alternate)&&Vw(t,e)}function Nk(){return null}var sS=typeof reportError=="function"?reportError:function(t){console.error(t)};function kv(t){this._internalRoot=t}xh.prototype.render=kv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));yh(t,e,null,null)};xh.prototype.unmount=kv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oi(function(){yh(null,t,null,null)}),e[Yr]=null}};function xh(t){this._internalRoot=t}xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=DE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hs.length&&e!==0&&e<hs[n].priority;n++);hs.splice(n,0,t),n===0&&LE(t)}};function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fw(){}function Ik(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=bd(a);i.call(u)}}var a=rS(e,r,t,0,null,!1,!1,"",Fw);return t._reactRootContainer=a,t[Yr]=a.current,Ml(t.nodeType===8?t.parentNode:t),Oi(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=bd(c);l.call(u)}}var c=Pv(t,0,!1,null,null,!1,!1,"",Fw);return t._reactRootContainer=c,t[Yr]=c.current,Ml(t.nodeType===8?t.parentNode:t),Oi(function(){yh(e,c,n,r)}),c}function bh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=bd(a);l.call(c)}}yh(e,a,t,s)}else a=Ik(n,e,t,s,r);return bd(a)}kE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jo(e.pendingLanes);n!==0&&(Jg(e,n|1),fn(e,rt()),!(_e&6)&&(to=rt()+500,Ys()))}break;case 13:Oi(function(){var r=Qr(t,1);if(r!==null){var s=Jt();sr(r,t,1,s)}}),Av(t,1)}};Zg=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=Jt();sr(e,t,134217728,n)}Av(t,134217728)}};RE=function(t){if(t.tag===13){var e=ks(t),n=Qr(t,e);if(n!==null){var r=Jt();sr(n,t,e,r)}Av(t,e)}};DE=function(){return Pe};OE=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Xp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=dh(r);if(!s)throw Error(B(90));hE(r),Hp(r,s)}}}break;case"textarea":pE(t,n);break;case"select":e=n.value,e!=null&&ka(t,!!n.multiple,e,!1)}};bE=jv;_E=Oi;var Ck={usingClientEntryPoint:!1,Events:[yc,_a,dh,xE,wE,jv]},Vo={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Pk={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SE(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||Nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{oh=lu.inject(Pk),xr=lu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(e))throw Error(B(200));return jk(t,e,null,n)};Pn.createRoot=function(t,e){if(!Rv(t))throw Error(B(299));var n=!1,r="",s=sS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Pv(t,1,!1,null,null,n,!1,r,s),t[Yr]=e.current,Ml(t.nodeType===8?t.parentNode:t),new kv(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=SE(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Oi(t)};Pn.hydrate=function(t,e,n){if(!wh(e))throw Error(B(200));return bh(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Rv(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=sS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=rS(e,null,t,1,n??null,s,!1,i,a),t[Yr]=e.current,Ml(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xh(e)};Pn.render=function(t,e,n){if(!wh(e))throw Error(B(200));return bh(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!wh(t))throw Error(B(40));return t._reactRootContainer?(Oi(function(){bh(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};Pn.unstable_batchedUpdates=jv;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wh(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return bh(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(t){console.error(t)}}iS(),rE.exports=Pn;var Ak=rE.exports,Uw=Ak;Mp.createRoot=Uw.createRoot,Mp.hydrateRoot=Uw.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ql.apply(this,arguments)}var bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bs||(bs={}));const $w="popstate";function kk(t){t===void 0&&(t={});function e(s,i){let{pathname:a="/",search:l="",hash:c=""}=Xi(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Pm("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:_d(i))}function r(s,i){_h(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Dk(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _h(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rk(){return Math.random().toString(36).substr(2,8)}function Bw(t,e){return{usr:t.state,key:t.key,idx:e}}function Pm(t,e,n,r){return n===void 0&&(n=null),ql({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xi(e):e,{state:n,key:e&&e.key||r||Rk()})}function _d(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Dk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=bs.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ql({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=bs.Pop;let y=d(),m=y==null?null:y-u;u=y,c&&c({action:l,location:x.location,delta:m})}function f(y,m){l=bs.Push;let v=Pm(x.location,y,m);n&&n(v,y),u=d()+1;let w=Bw(v,u),_=x.createHref(v);try{a.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:x.location,delta:1})}function p(y,m){l=bs.Replace;let v=Pm(x.location,y,m);n&&n(v,y),u=d();let w=Bw(v,u),_=x.createHref(v);a.replaceState(w,"",_),i&&c&&c({action:l,location:x.location,delta:0})}function g(y){let m=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:_d(y);return ut(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let x={get action(){return l},get location(){return t(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($w,h),c=y,()=>{s.removeEventListener($w,h),c=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let m=g(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(y){return a.go(y)}};return x}var zw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zw||(zw={}));function Ok(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xi(e):e,s=Dv(r.pathname||"/",n);if(s==null)return null;let i=aS(t);Lk(i);let a=null;for(let l=0;a==null&&l<i.length;++l)a=Wk(i[l],Kk(s));return a}function aS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ds([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aS(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:zk(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of oS(i.path))s(i,a,c)}),e}function oS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=oS(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Lk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Hk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mk=/^:[\w-]+$/,Vk=3,Fk=2,Uk=1,$k=10,Bk=-2,Hw=t=>t==="*";function zk(t,e){let n=t.split("/"),r=n.length;return n.some(Hw)&&(r+=Bk),e&&(r+=Fk),n.filter(s=>!Hw(s)).reduce((s,i)=>s+(Mk.test(i)?Vk:i===""?Uk:$k),r)}function Hk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Wk(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=qk({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=l.route;i.push({params:r,pathname:Ds([s,d.pathname]),pathnameBase:Zk(Ds([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ds([s,d.pathnameBase]))}return i}function qk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?u[f]=void 0:u[f]=Yk(g||"",f),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Gk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_h(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Kk(t){try{return decodeURI(t)}catch(e){return _h(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yk(t,e){try{return decodeURIComponent(t)}catch(n){return _h(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Dv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xi(t):t;return{pathname:n?n.startsWith("/")?n:Xk(n,e):e,search:eR(r),hash:tR(s)}}function Xk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lS(t,e){let n=Jk(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xi(t):(s=ql({},t),ut(!s.pathname||!s.pathname.includes("?"),qf("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),qf("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),qf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Qk(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ds=t=>t.join("/").replace(/\/\/+/g,"/"),Zk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uS=["post","put","patch","delete"];new Set(uS);const rR=["get",...uS];new Set(rR);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}const Ov=N.createContext(null),sR=N.createContext(null),Ji=N.createContext(null),Eh=N.createContext(null),Qs=N.createContext({outlet:null,matches:[],isDataRoute:!1}),dS=N.createContext(null);function iR(t,e){let{relative:n}=e===void 0?{}:e;wc()||ut(!1);let{basename:r,navigator:s}=N.useContext(Ji),{hash:i,pathname:a,search:l}=fS(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Ds([r,a])),s.createHref({pathname:c,search:l,hash:i})}function wc(){return N.useContext(Eh)!=null}function bc(){return wc()||ut(!1),N.useContext(Eh).location}function hS(t){N.useContext(Ji).static||N.useLayoutEffect(t)}function aR(){let{isDataRoute:t}=N.useContext(Qs);return t?xR():oR()}function oR(){wc()||ut(!1);let t=N.useContext(Ov),{basename:e,future:n,navigator:r}=N.useContext(Ji),{matches:s}=N.useContext(Qs),{pathname:i}=bc(),a=JSON.stringify(lS(s,n.v7_relativeSplatPath)),l=N.useRef(!1);return hS(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=cS(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ds([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}function Zi(){let{matches:t}=N.useContext(Qs),e=t[t.length-1];return e?e.params:{}}function fS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Ji),{matches:s}=N.useContext(Qs),{pathname:i}=bc(),a=JSON.stringify(lS(s,r.v7_relativeSplatPath));return N.useMemo(()=>cS(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function lR(t,e){return cR(t,e)}function cR(t,e,n,r){wc()||ut(!1);let{navigator:s}=N.useContext(Ji),{matches:i}=N.useContext(Qs),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=bc(),d;if(e){var h;let y=typeof e=="string"?Xi(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ut(!1),d=y}else d=u;let f=d.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=Ok(t,{pathname:p}),x=pR(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ds([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ds([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&x?N.createElement(Eh.Provider,{value:{location:Gl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bs.Pop}},x):x}function uR(){let t=yR(),e=nR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,null)}const dR=N.createElement(uR,null);class hR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Qs.Provider,{value:this.props.routeContext},N.createElement(dS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fR(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(Ov);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Qs.Provider,{value:e},r)}function pR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));d>=0||ut(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,g=!1,x=null,y=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||dR,c&&(u<0&&f===0?(wR("route-fallback",!1),g=!0,y=null):u===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),v=()=>{let w;return p?w=x:g?w=y:h.route.Component?w=N.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,N.createElement(fR,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(hR,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var pS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pS||{}),Ed=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ed||{});function mR(t){let e=N.useContext(Ov);return e||ut(!1),e}function gR(t){let e=N.useContext(sR);return e||ut(!1),e}function vR(t){let e=N.useContext(Qs);return e||ut(!1),e}function mS(t){let e=vR(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function yR(){var t;let e=N.useContext(dS),n=gR(Ed.UseRouteError),r=mS(Ed.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xR(){let{router:t}=mR(pS.UseNavigateStable),e=mS(Ed.UseNavigateStable),n=N.useRef(!1);return hS(()=>{n.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gl({fromRouteId:e},i)))},[t,e])}const Ww={};function wR(t,e,n){!e&&!Ww[t]&&(Ww[t]=!0)}function je(t){ut(!1)}function bR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bs.Pop,navigator:i,static:a=!1,future:l}=t;wc()&&ut(!1);let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:a,future:Gl({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Xi(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,x=N.useMemo(()=>{let y=Dv(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:g},navigationType:s}},[c,d,h,f,p,g,s]);return x==null?null:N.createElement(Ji.Provider,{value:u},N.createElement(Eh.Provider,{children:n,value:x}))}function Lv(t){let{children:e,location:n}=t;return lR(Am(e),n)}new Promise(()=>{});function Am(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let i=[...e,s];if(r.type===N.Fragment){n.push.apply(n,Am(r.props.children,i));return}r.type!==je&&ut(!1),!r.props.index||!r.props.children||ut(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Am(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},km.apply(this,arguments)}function _R(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ER(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TR(t,e){return t.button===0&&(!e||e==="_self")&&!ER(t)}const SR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jR="6";try{window.__reactRouterVersion=jR}catch{}const NR="startTransition",qw=Lp[NR];function IR(t){let{basename:e,children:n,future:r,window:s}=t,i=N.useRef();i.current==null&&(i.current=kk({window:s,v5Compat:!0}));let a=i.current,[l,c]=N.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=N.useCallback(h=>{u&&qw?qw(()=>c(h)):c(h)},[c,u]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(bR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const CR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=N.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=_R(e,SR),{basename:p}=N.useContext(Ji),g,x=!1;if(typeof u=="string"&&PR.test(u)&&(g=u,CR))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Dv(_.pathname,p);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:x=!0}catch{}let y=iR(u,{relative:s}),m=AR(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||m(w)}return N.createElement("a",km({},f,{href:g||y,onClick:x||i?r:v,ref:n,target:c}))});var Gw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gw||(Gw={}));var Kw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kw||(Kw={}));function AR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,unstable_viewTransition:l}=e===void 0?{}:e,c=aR(),u=bc(),d=fS(t,{relative:a});return N.useCallback(h=>{if(TR(h,n)){h.preventDefault();let f=r!==void 0?r:_d(u)===_d(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,unstable_viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}var Yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,a||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new RR;const f=i<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DR=function(t){const e=gS(t);return vS.encodeByteArray(e,!0)},Td=function(t){return DR(t).replace(/\./g,"")},yS=function(t){try{return vS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>OR().__FIREBASE_DEFAULTS__,MR=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yS(t[1]);return e&&JSON.parse(e)},Th=()=>{try{return LR()||MR()||VR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xS=t=>{var e,n;return(n=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wS=t=>{const e=xS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bS=()=>{var t;return(t=Th())===null||t===void 0?void 0:t.config},_S=t=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Td(JSON.stringify(n)),Td(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function $R(){var t;const e=(t=Th())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HR(){return!$R()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mv(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function WR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qR,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ea.prototype.create)}}class ea{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?GR(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Kn(s,l,r)}}function GR(t,e){return t.replace(KR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const KR=/\{\$([^}]+)}/g;function YR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Qw(i)&&Qw(a)){if(!Li(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Qw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function el(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QR(t,e){const n=new XR(t,e);return n.subscribe.bind(n)}class XR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Gf),s.error===void 0&&(s.error=Gf),s.complete===void 0&&(s.complete=Gf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1e3,eD=2,tD=4*60*60*1e3,nD=.5;function Xw(t,e=ZR,n=eD){const r=e*Math.pow(n,t),s=Math.round(nD*r*(Math.random()-.5)*2);return Math.min(tD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iD(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sD(t){return t===di?void 0:t}function iD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const oD={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},lD=ye.INFO,cD={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},uD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sh{constructor(e){this.name=e,this._logLevel=lD,this._logHandler=uD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const dD=(t,e)=>e.some(n=>t instanceof n);let Jw,Zw;function hD(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fD(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jS=new WeakMap,Rm=new WeakMap,NS=new WeakMap,Kf=new WeakMap,Vv=new WeakMap;function pD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Os(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jS.set(n,t)}).catch(()=>{}),Vv.set(e,t),e}function mD(t){if(Rm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Rm.set(t,e)}let Dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gD(t){Dm=t(Dm)}function vD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yf(this),e,...n);return NS.set(r,e.sort?e.sort():[e]),Os(r)}:fD().includes(t)?function(...e){return t.apply(Yf(this),e),Os(jS.get(this))}:function(...e){return Os(t.apply(Yf(this),e))}}function yD(t){return typeof t=="function"?vD(t):(t instanceof IDBTransaction&&mD(t),dD(t,hD())?new Proxy(t,Dm):t)}function Os(t){if(t instanceof IDBRequest)return pD(t);if(Kf.has(t))return Kf.get(t);const e=yD(t);return e!==t&&(Kf.set(t,e),Vv.set(e,t)),e}const Yf=t=>Vv.get(t);function IS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Os(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Os(a.result),c.oldVersion,c.newVersion,Os(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const xD=["get","getKey","getAll","getAllKeys","count"],wD=["put","add","delete","clear"],Qf=new Map;function eb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xD.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Qf.set(e,i),i}gD(t=>({...t,get:(e,n,r)=>eb(e,n)||t.get(e,n,r),has:(e,n)=>!!eb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_D(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _D(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Om="@firebase/app",tb="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Sh("@firebase/app"),ED="@firebase/app-compat",TD="@firebase/analytics-compat",SD="@firebase/analytics",jD="@firebase/app-check-compat",ND="@firebase/app-check",ID="@firebase/auth",CD="@firebase/auth-compat",PD="@firebase/database",AD="@firebase/database-compat",kD="@firebase/functions",RD="@firebase/functions-compat",DD="@firebase/installations",OD="@firebase/installations-compat",LD="@firebase/messaging",MD="@firebase/messaging-compat",VD="@firebase/performance",FD="@firebase/performance-compat",UD="@firebase/remote-config",$D="@firebase/remote-config-compat",BD="@firebase/storage",zD="@firebase/storage-compat",HD="@firebase/firestore",WD="@firebase/firestore-compat",qD="firebase",GD="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",KD={[Om]:"fire-core",[ED]:"fire-core-compat",[SD]:"fire-analytics",[TD]:"fire-analytics-compat",[ND]:"fire-app-check",[jD]:"fire-app-check-compat",[ID]:"fire-auth",[CD]:"fire-auth-compat",[PD]:"fire-rtdb",[AD]:"fire-rtdb-compat",[kD]:"fire-fn",[RD]:"fire-fn-compat",[DD]:"fire-iid",[OD]:"fire-iid-compat",[LD]:"fire-fcm",[MD]:"fire-fcm-compat",[VD]:"fire-perf",[FD]:"fire-perf-compat",[UD]:"fire-rc",[$D]:"fire-rc-compat",[BD]:"fire-gcs",[zD]:"fire-gcs-compat",[HD]:"fire-fst",[WD]:"fire-fst-compat","fire-js":"fire-js",[qD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,Mm=new Map;function YD(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){const e=t.name;if(Mm.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,t);for(const n of Sd.values())YD(n,t);return!0}function Xs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ls=new ea("app","Firebase",QD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=GD;function CS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ls.create("bad-app-name",{appName:String(s)});if(n||(n=bS()),!n)throw Ls.create("no-options");const i=Sd.get(s);if(i){if(Li(n,i.options)&&Li(r,i.config))return i;throw Ls.create("duplicate-app",{appName:s})}const a=new aD(s);for(const c of Mm.values())a.addComponent(c);const l=new XD(n,r,a);return Sd.set(s,l),l}function jh(t=Lm){const e=Sd.get(t);if(!e&&t===Lm&&bS())return CS();if(!e)throw Ls.create("no-app",{appName:t});return e}function pn(t,e,n){var r;let s=(r=KD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(l.join(" "));return}ar(new qn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firebase-heartbeat-database",ZD=1,Kl="firebase-heartbeat-store";let Xf=null;function PS(){return Xf||(Xf=IS(JD,ZD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),Xf}async function eO(t){try{const n=(await PS()).transaction(Kl),r=await n.objectStore(Kl).get(AS(t));return await n.done,r}catch(e){if(e instanceof Kn)Mi.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function nb(t,e){try{const r=(await PS()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,AS(t)),await r.done}catch(n){if(n instanceof Kn)Mi.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function AS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1024,nO=30*24*60*60*1e3;class rO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=nO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rb(),{heartbeatsToSend:r,unsentEntries:s}=sO(this._heartbeatsCache.heartbeats),i=Td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function rb(){return new Date().toISOString().substring(0,10)}function sO(t,e=tO){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),sb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mv()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sb(t){return Td(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){ar(new qn("platform-logger",e=>new bD(e),"PRIVATE")),ar(new qn("heartbeat",e=>new rO(e),"PRIVATE")),pn(Om,tb,t),pn(Om,tb,"esm2017"),pn("fire-js","")}aO("");var oO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,Fv=Fv||{},ce=oO||self;function Nh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ec(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function lO(t){return Object.prototype.hasOwnProperty.call(t,Jf)&&t[Jf]||(t[Jf]=++cO)}var Jf="closure_uid_"+(1e9*Math.random()>>>0),cO=0;function uO(t,e,n){return t.call.apply(t.bind,arguments)}function dO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=uO:Ut=dO,Ut.apply(null,arguments)}function cu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[s].apply(r,a)}}function Js(){this.s=this.s,this.o=this.o}var hO=0;Js.prototype.s=!1;Js.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hO!=0)&&lO(this)};Js.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Uv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ib(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Nh(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let a=0;a<i;a++)t[s+a]=r[a]}else t.push(r)}}function $t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$t.prototype.h=function(){this.defaultPrevented=!0};var fO=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Yl(t){return/^[\s\xa0]*$/.test(t)}function Ih(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function pr(t){return Ih().indexOf(t)!=-1}function $v(t){return $v[" "](t),t}$v[" "]=function(){};function pO(t,e){var n=aL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var mO=pr("Opera"),no=pr("Trident")||pr("MSIE"),RS=pr("Edge"),Vm=RS||no,DS=pr("Gecko")&&!(Ih().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge"))&&!(pr("Trident")||pr("MSIE"))&&!pr("Edge"),gO=Ih().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge");function OS(){var t=ce.document;return t?t.documentMode:void 0}var Fm;e:{var Zf="",ep=function(){var t=Ih();if(DS)return/rv:([^\);]+)(\)|;)/.exec(t);if(RS)return/Edge\/([\d\.]+)/.exec(t);if(no)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(gO)return/WebKit\/(\S+)/.exec(t);if(mO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ep&&(Zf=ep?ep[1]:""),no){var tp=OS();if(tp!=null&&tp>parseFloat(Zf)){Fm=String(tp);break e}}Fm=Zf}var Um;if(ce.document&&no){var ab=OS();Um=ab||parseInt(Fm,10)||void 0}else Um=void 0;var vO=Um;function Ql(t,e){if($t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DS){e:{try{$v(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ql.$.h.call(this)}}_t(Ql,$t);var yO={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tc="closure_listenable_"+(1e6*Math.random()|0),xO=0;function wO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++xO,this.fa=this.ia=!1}function Ch(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Bv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function bO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function LS(t){const e={};for(const n in t)e[n]=t[n];return e}const ob="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<ob.length;i++)n=ob[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ph(t){this.src=t,this.g={},this.h=0}Ph.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var a=Bm(t,e,r,s);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new wO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function $m(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=kS(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Ch(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var zv="closure_lm_"+(1e6*Math.random()|0),np={};function VS(t,e,n,r,s){if(r&&r.once)return US(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)VS(t,e[i],n,r,s);return null}return n=qv(n),t&&t[Tc]?t.O(e,n,Ec(r)?!!r.capture:!!r,s):FS(t,e,n,!1,r,s)}function FS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var a=Ec(s)?!!s.capture:!!s,l=Wv(t);if(l||(t[zv]=l=new Ph(t)),n=l.add(e,n,r,a,i),n.proxy)return n;if(r=_O(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fO||(s=a),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(BS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _O(){function t(n){return e.call(t.src,t.listener,n)}const e=EO;return t}function US(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)US(t,e[i],n,r,s);return null}return n=qv(n),t&&t[Tc]?t.P(e,n,Ec(r)?!!r.capture:!!r,s):FS(t,e,n,!0,r,s)}function $S(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)$S(t,e[i],n,r,s);else r=Ec(r)?!!r.capture:!!r,n=qv(n),t&&t[Tc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Bm(i,n,r,s),-1<n&&(Ch(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bm(e,n,r,s)),(n=-1<t?e[t]:null)&&Hv(n))}function Hv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Tc])$m(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wv(e))?($m(n,t),n.h==0&&(n.src=null,e[zv]=null)):Ch(t)}}}function BS(t){return t in np?np[t]:np[t]="on"+t}function EO(t,e){if(t.fa)t=!0;else{e=new Ql(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Hv(t),t=n.call(r,e)}return t}function Wv(t){return t=t[zv],t instanceof Ph?t:null}var rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function qv(t){return typeof t=="function"?t:(t[rp]||(t[rp]=function(e){return t.handleEvent(e)}),t[rp])}function wt(){Js.call(this),this.i=new Ph(this),this.S=this,this.J=null}_t(wt,Js);wt.prototype[Tc]=!0;wt.prototype.removeEventListener=function(t,e,n,r){$S(this,t,e,n,r)};function Ct(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new $t(e,t);else if(e instanceof $t)e.target=e.target||t;else{var s=e;e=new $t(r,t),MS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=e.g=n[i];s=uu(a,r,!0,e)&&s}if(a=e.g=t,s=uu(a,r,!0,e)&&s,s=uu(a,r,!1,e)&&s,n)for(i=0;i<n.length;i++)a=e.g=n[i],s=uu(a,r,!1,e)&&s}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ch(n[r]);delete t.g[e],t.h--}}this.J=null};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function uu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.fa&&a.capture==n){var l=a.listener,c=a.la||a.src;a.ia&&$m(t.i,a),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Gv=ce.JSON.stringify;class TO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function SO(){var t=Kv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class jO{constructor(){this.h=this.g=null}add(e,n){const r=zS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zS=new TO(()=>new NO,t=>t.reset());class NO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function IO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function CO(t){ce.setTimeout(()=>{throw t},0)}let Xl,Jl=!1,Kv=new jO,HS=()=>{const t=ce.Promise.resolve(void 0);Xl=()=>{t.then(PO)}};var PO=()=>{for(var t;t=SO();){try{t.h.call(t.g)}catch(n){CO(n)}var e=zS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jl=!1};function Ah(t,e){wt.call(this),this.h=t||1,this.g=e||ce,this.j=Ut(this.qb,this),this.l=Date.now()}_t(Ah,wt);K=Ah.prototype;K.ga=!1;K.T=null;K.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ct(this,"tick"),this.ga&&(Yv(this),this.start()))}};K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Yv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}K.N=function(){Ah.$.N.call(this),Yv(this),delete this.g};function Qv(t,e,n){if(typeof t=="function")n&&(t=Ut(t,n));else if(t&&typeof t.handleEvent=="function")t=Ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function WS(t){t.g=Qv(()=>{t.g=null,t.i&&(t.i=!1,WS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class AO extends Js{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WS(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zl(t){Js.call(this),this.h=t,this.g={}}_t(Zl,Js);var lb=[];function qS(t,e,n,r){Array.isArray(n)||(n&&(lb[0]=n.toString()),n=lb);for(var s=0;s<n.length;s++){var i=VS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function GS(t){Bv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hv(e)},t),t.g={}}Zl.prototype.N=function(){Zl.$.N.call(this),GS(this)};Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kh(){this.g=!0}kh.prototype.Ea=function(){this.g=!1};function kO(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var a="",l=i.split("&"),c=0;c<l.length;c++){var u=l[c].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+u+"&"):a+(d+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+a})}function RO(t,e,n,r,s,i,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+a})}function Ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+OO(t,n)+(r?" "+r:"")})}function DO(t,e){t.info(function(){return"TIMEOUT: "+e})}kh.prototype.info=function(){};function OO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Gv(n)}catch{return e}}var na={},cb=null;function Rh(){return cb=cb||new wt}na.Ta="serverreachability";function KS(t){$t.call(this,na.Ta,t)}_t(KS,$t);function ec(t){const e=Rh();Ct(e,new KS(e))}na.STAT_EVENT="statevent";function YS(t,e){$t.call(this,na.STAT_EVENT,t),this.stat=e}_t(YS,$t);function Xt(t){const e=Rh();Ct(e,new YS(e,t))}na.Ua="timingevent";function QS(t,e){$t.call(this,na.Ua,t),this.size=e}_t(QS,$t);function Sc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Dh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xv(){}Xv.prototype.h=null;function ub(t){return t.h||(t.h=t.i())}function JS(){}var jc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jv(){$t.call(this,"d")}_t(Jv,$t);function Zv(){$t.call(this,"c")}_t(Zv,$t);var zm;function Oh(){}_t(Oh,Xv);Oh.prototype.g=function(){return new XMLHttpRequest};Oh.prototype.i=function(){return{}};zm=new Oh;function Nc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zl(this),this.P=LO,t=Vm?125:void 0,this.V=new Ah(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZS}function ZS(){this.i=null,this.g="",this.h=!1}var LO=45e3,e1={},Hm={};K=Nc.prototype;K.setTimeout=function(t){this.P=t};function Wm(t,e,n){t.L=1,t.A=Mh(Jr(e)),t.u=n,t.S=!0,t1(t,null)}function t1(t,e){t.G=Date.now(),Ic(t),t.B=Jr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),c1(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ZS,t.g=P1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new AO(Ut(t.Pa,t,t.g),t.O)),qS(t.U,t.g,"readystatechange",t.nb),e=t.I?LS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ec(),kO(t.j,t.v,t.B,t.m,t.W,t.u)}K.nb=function(t){t=t.target;const e=this.M;e&&mr(t)==3?e.l():this.Pa(t)};K.Pa=function(t){try{if(t==this.g)e:{const d=mr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Vm||this.g&&(this.h.h||this.g.ja()||pb(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?ec(3):ec(2)),Lh(this);var n=this.g.da();this.ca=n;t:if(n1(this)){var r=pb(this.g);t="";var s=r.length,i=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),vl(this);var a="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,RO(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yl(l)){var u=l;break t}}u=null}if(n=u)Ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qm(this,n);else{this.i=!1,this.s=3,Xt(12),yi(this),vl(this);break e}}this.S?(r1(this,d,a),Vm&&this.i&&d==3&&(qS(this.U,this.V,"tick",this.mb),this.V.start())):(Ca(this.j,this.m,a,null),qm(this,a)),d==4&&yi(this),this.i&&!this.J&&(d==4?j1(this.l,this):(this.i=!1,Ic(this)))}else rL(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),yi(this),vl(this)}}}catch{}finally{}};function n1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function r1(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=MO(t,n),s==Hm){e==4&&(t.s=4,Xt(14),r=!1),Ca(t.j,t.m,null,"[Incomplete Response]");break}else if(s==e1){t.s=4,Xt(15),Ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ca(t.j,t.m,s,null),qm(t,s);n1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iy(e),e.M=!0,Xt(11))):(Ca(t.j,t.m,n,"[Invalid Chunked Response]"),yi(t),vl(t))}K.mb=function(){if(this.g){var t=mr(this.g),e=this.g.ja();this.o<e.length&&(Lh(this),r1(this,t,e),this.i&&t!=4&&Ic(this))}};function MO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Hm:(n=Number(e.substring(n,r)),isNaN(n)?e1:(r+=1,r+n>e.length?Hm:(e=e.slice(r,r+n),t.o=r+n,e)))}K.cancel=function(){this.J=!0,yi(this)};function Ic(t){t.Y=Date.now()+t.P,s1(t,t.P)}function s1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Sc(Ut(t.lb,t),e)}function Lh(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}K.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(DO(this.j,this.B),this.L!=2&&(ec(),Xt(17)),yi(this),this.s=2,vl(this)):s1(this,this.Y-t)};function vl(t){t.l.H==0||t.J||j1(t.l,t)}function yi(t){Lh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Yv(t.V),GS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function qm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Gm(n.i,t))){if(!t.K&&Gm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Id(n),$h(n);else break e;sy(n),Xt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sc(Ut(n.ib,n),6e3));if(1>=h1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xi(n,11)}else if((t.K||n.g==t)&&Id(n),!Yl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(ey(i,i.h),i.h=null))}if(r.F){const x=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,Le(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=C1(r,r.J?r.pa:null,r.Y),a.K){f1(r.i,a);var l=a,c=r.L;c&&l.setTimeout(c),l.C&&(Lh(l),Ic(l)),r.g=a}else T1(r);0<n.j.length&&Bh(n)}else u[0]!="stop"&&u[0]!="close"||xi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?xi(n,7):ry(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ec(4)}catch{}}function VO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Nh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function FO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Nh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function i1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Nh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FO(t),r=VO(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var a1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ni(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ni){this.h=t.h,jd(this,t.j),this.s=t.s,this.g=t.g,Nd(this,t.m),this.l=t.l;var e=t.i,n=new tc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),db(this,n),this.o=t.o}else t&&(e=String(t).match(a1))?(this.h=!1,jd(this,e[1]||"",!0),this.s=nl(e[2]||""),this.g=nl(e[3]||"",!0),Nd(this,e[4]),this.l=nl(e[5]||"",!0),db(this,e[6]||"",!0),this.o=nl(e[7]||"")):(this.h=!1,this.i=new tc(null,this.h))}Ni.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rl(e,hb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(rl(e,hb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(rl(n,n.charAt(0)=="/"?zO:BO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rl(n,WO)),t.join("")};function Jr(t){return new Ni(t)}function jd(t,e,n){t.j=n?nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Nd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function db(t,e,n){e instanceof tc?(t.i=e,qO(t.i,t.h)):(n||(e=rl(e,HO)),t.i=new tc(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function Mh(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$O),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $O(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hb=/[#\/\?@]/g,BO=/[#\?:]/g,zO=/[#\?]/g,HO=/[#\?@]/g,WO=/#/g;function tc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zs(t){t.g||(t.g=new Map,t.h=0,t.i&&UO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=tc.prototype;K.add=function(t,e){Zs(this),this.i=null,t=wo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function o1(t,e){Zs(t),e=wo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function l1(t,e){return Zs(t),e=wo(t,e),t.g.has(e)}K.forEach=function(t,e){Zs(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};K.ta=function(){Zs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};K.Z=function(t){Zs(this);let e=[];if(typeof t=="string")l1(this,t)&&(e=e.concat(this.g.get(wo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return Zs(this),this.i=null,t=wo(this,t),l1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function c1(t,e,n){o1(t,e),0<n.length&&(t.i=null,t.g.set(wo(t,e),Uv(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;a[r]!==""&&(s+="="+encodeURIComponent(String(a[r]))),t.push(s)}}return this.i=t.join("&")};function wo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qO(t,e){e&&!t.j&&(Zs(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(o1(this,r),c1(this,s,n))},t)),t.j=e}var GO=class{constructor(t,e){this.g=t,this.map=e}};function u1(t){this.l=t||KO,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KO=10;function d1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function h1(t){return t.h?1:t.g?t.g.size:0}function Gm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ey(t,e){t.g?t.g.add(e):t.h=e}function f1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}u1.prototype.cancel=function(){if(this.i=p1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function p1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Uv(t.i)}var YO=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function QO(){this.g=new YO}function XO(t,e,n){const r=n||"";try{i1(t,function(s,i){let a=s;Ec(s)&&(a=Gv(s)),e.push(r+i+"="+encodeURIComponent(a))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function JO(t,e){const n=new kh;if(ce.Image){const r=new Image;r.onload=cu(du,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cu(du,n,r,"TestLoadImage: error",!1,e),r.onabort=cu(du,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cu(du,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function du(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Vh(t){this.l=t.ec||null,this.j=t.ob||!1}_t(Vh,Xv);Vh.prototype.g=function(){return new Fh(this.l,this.j)};Vh.prototype.i=function(t){return function(){return t}}({});function Fh(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ty,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(Fh,wt);var ty=0;K=Fh.prototype;K.open=function(t,e){if(this.readyState!=ty)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nc(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cc(this)),this.readyState=ty};K.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function m1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}K.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cc(this):nc(this),this.readyState==3&&m1(this)}};K.Za=function(t){this.g&&(this.response=this.responseText=t,Cc(this))};K.Ya=function(t){this.g&&(this.response=t,Cc(this))};K.ka=function(){this.g&&Cc(this)};function Cc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nc(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ZO=ce.JSON.parse;function nt(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=g1,this.L=this.M=!1}_t(nt,wt);var g1="",eL=/^https?$/i,tL=["POST","PUT"];K=nt.prototype;K.Oa=function(t){this.M=t};K.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zm.g(),this.C=this.u?ub(this.u):ub(zm),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){fb(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ce.FormData&&t instanceof ce.FormData,!(0<=kS(tL,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{x1(this),0<this.B&&((this.L=nL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=Qv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){fb(this,i)}};function nL(t){return no&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.ua=function(){typeof Fv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))};function fb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,v1(t),Uh(t)}function v1(t){t.F||(t.F=!0,Ct(t,"complete"),Ct(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),Uh(this))};K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uh(this,!0)),nt.$.N.call(this)};K.La=function(){this.s||(this.G||this.v||this.l?y1(this):this.kb())};K.kb=function(){y1(this)};function y1(t){if(t.h&&typeof Fv<"u"&&(!t.C[1]||mr(t)!=4||t.da()!=2)){if(t.v&&mr(t)==4)Qv(t.La,0,t);else if(Ct(t,"readystatechange"),mr(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var s=String(t.I).match(a1)[1]||null;!s&&ce.self&&ce.self.location&&(s=ce.self.location.protocol.slice(0,-1)),r=!eL.test(s?s.toLowerCase():"")}n=r}if(n)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var i=2<mr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",v1(t)}}finally{Uh(t)}}}}function Uh(t,e){if(t.g){x1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch{}}}function x1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}K.isActive=function(){return!!this.g};function mr(t){return t.g?t.g.readyState:0}K.da=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}};K.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ZO(e)}};function pb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case g1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rL(t){const e={};t=(t.g&&2<=mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Yl(t[r]))continue;var n=IO(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}bO(e,function(r){return r.join(", ")})}K.Ia=function(){return this.m};K.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function w1(t){let e="";return Bv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ny(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=w1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Le(t,e,n))}function Fo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function b1(t){this.Ga=0,this.j=[],this.l=new kh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fo("baseRetryDelayMs",5e3,t),this.hb=Fo("retryDelaySeedMs",1e4,t),this.eb=Fo("forwardChannelMaxRetries",2,t),this.xa=Fo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new u1(t&&t.concurrentRequestLimit),this.Ja=new QO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}K=b1.prototype;K.ra=8;K.H=1;function ry(t){if(_1(t),t.H==3){var e=t.W++,n=Jr(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),Pc(t,n),e=new Nc(t,t.l,e),e.L=2,e.A=Mh(Jr(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=P1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ic(e)}I1(t)}function $h(t){t.g&&(iy(t),t.g.cancel(),t.g=null)}function _1(t){$h(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Id(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Bh(t){if(!d1(t.i)&&!t.m){t.m=!0;var e=t.Na;Xl||HS(),Jl||(Xl(),Jl=!0),Kv.add(e,t),t.C=0}}function sL(t,e){return h1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sc(Ut(t.Na,t,e),N1(t,t.C)),t.C++,!0)}K.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Nc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=LS(i),MS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=E1(this,s,e),n=Jr(this.I),Le(n,"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Pc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(w1(i)))+"&"+e:this.o&&ny(n,this.o,i)),ey(this.i,s),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),s.aa=!0,Wm(s,n,null)):Wm(s,n,e),this.H=2}}else this.H==3&&(t?mb(this,t):this.j.length==0||d1(this.i)||mb(this))};function mb(t,e){var n;e?n=e.m:n=t.W++;const r=Jr(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),Pc(t,r),t.o&&t.s&&ny(r,t.o,t.s),n=new Nc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=E1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ey(t.i,n),Wm(n,r,e)}function Pc(t,e){t.na&&Bv(t.na,function(n,r){Le(e,r,n)}),t.h&&i1({},function(n,r){Le(e,r,n)})}function E1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ut(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const a=["count="+n];i==-1?0<n?(i=s[0].g,a.push("ofs="+i)):i=0:a.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let u=s[c].g;const d=s[c].map;if(u-=i,0>u)i=Math.max(0,s[c].g-100),l=!1;else try{XO(d,a,"req"+u+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function T1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xl||HS(),Jl||(Xl(),Jl=!0),Kv.add(e,t),t.A=0}}function sy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sc(Ut(t.Ma,t),N1(t,t.A)),t.A++,!0)}K.Ma=function(){if(this.u=null,S1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sc(Ut(this.jb,this),t)}};K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xt(10),$h(this),S1(this))};function iy(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function S1(t){t.g=new Nc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Jr(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),Pc(t,e),t.o&&t.s&&ny(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Mh(Jr(e)),n.u=null,n.S=!0,t1(n,t)}K.ib=function(){this.v!=null&&(this.v=null,$h(this),sy(this),Xt(19))};function Id(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function j1(t,e){var n=null;if(t.g==e){Id(t),iy(t),t.g=null;var r=2}else if(Gm(t.i,e))n=e.F,f1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Rh(),Ct(r,new QS(r,n)),Bh(t)}else T1(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&sL(t,e)||r==2&&sy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:xi(t,5);break;case 4:xi(t,10);break;case 3:xi(t,6);break;default:xi(t,2)}}}function N1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ut(t.pb,t);n||(n=new Ni("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||jd(n,"https"),Mh(n)),JO(n.toString(),r)}else Xt(2);t.H=0,t.h&&t.h.za(e),I1(t),_1(t)}K.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xt(2)):(this.l.info("Failed to ping google.com"),Xt(1))};function I1(t){if(t.H=0,t.ma=[],t.h){const e=p1(t.i);(e.length!=0||t.j.length!=0)&&(ib(t.ma,e),ib(t.ma,t.j),t.i.i.length=0,Uv(t.j),t.j.length=0),t.h.ya()}}function C1(t,e,n){var r=n instanceof Ni?Jr(n):new Ni(n);if(r.g!="")e&&(r.g=e+"."+r.g),Nd(r,r.m);else{var s=ce.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ni(null);r&&jd(i,r),e&&(i.g=e),s&&Nd(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Le(r,n,e),Le(r,"VER",t.ra),Pc(t,r),r}function P1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new nt(new Vh({ob:n})):new nt(t.va),e.Oa(t.J),e}K.isActive=function(){return!!this.h&&this.h.isActive(this)};function A1(){}K=A1.prototype;K.Ba=function(){};K.Aa=function(){};K.za=function(){};K.ya=function(){};K.isActive=function(){return!0};K.Va=function(){};function Cd(){if(no&&!(10<=Number(vO)))throw Error("Environmental error: no available transport.")}Cd.prototype.g=function(t,e){return new In(t,e)};function In(t,e){wt.call(this),this.g=new b1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new bo(this)}_t(In,wt);In.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=C1(t,null,t.Y),Bh(t)};In.prototype.close=function(){ry(this.g)};In.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gv(t),t=n);e.j.push(new GO(e.fb++,t)),e.H==3&&Bh(e)};In.prototype.N=function(){this.g.h=null,delete this.j,ry(this.g),delete this.g,In.$.N.call(this)};function k1(t){Jv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_t(k1,Jv);function R1(){Zv.call(this),this.status=1}_t(R1,Zv);function bo(t){this.g=t}_t(bo,A1);bo.prototype.Ba=function(){Ct(this.g,"a")};bo.prototype.Aa=function(t){Ct(this.g,new k1(t))};bo.prototype.za=function(t){Ct(this.g,new R1)};bo.prototype.ya=function(){Ct(this.g,"b")};function iL(){this.blockSize=-1}function or(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_t(or,iL);or.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],a=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}or.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)sp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){sp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){sp(this,r),s=0;break}}this.h=s,this.i+=e};or.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ae(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var aL={};function ay(t){return-128<=t&&128>t?pO(t,function(e){return new Ae([e|0],0>e?-1:0)}):new Ae([t|0],0>t?-1:0)}function gr(t){if(isNaN(t)||!isFinite(t))return Va;if(0>t)return jt(gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Km;return new Ae(e,0)}function D1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jt(D1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gr(Math.pow(e,8)),r=Va,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+i),e);8>i?(i=gr(Math.pow(e,i)),r=r.R(i).add(gr(a))):(r=r.R(n),r=r.add(gr(a)))}return r}var Km=4294967296,Va=ay(0),Ym=ay(1),gb=ay(16777216);K=Ae.prototype;K.ea=function(){if(Un(this))return-jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Km+r)*e,e*=Km}return t};K.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Br(this))return"0";if(Un(this))return"-"+jt(this).toString(t);for(var e=gr(Math.pow(t,6)),n=this,r="";;){var s=Ad(n,e).g;n=Pd(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Br(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};K.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Br(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Un(t){return t.h==-1}K.X=function(t){return t=Pd(this,t),Un(t)?-1:Br(t)?0:1};function jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(Ym)}K.abs=function(){return Un(this)?jt(this):this};K.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),a=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,n[s]=a<<16|i}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function Pd(t,e){return t.add(jt(e))}K.R=function(t){if(Br(this)||Br(t))return Va;if(Un(this))return Un(t)?jt(this).R(jt(t)):jt(jt(this).R(t));if(Un(t))return jt(this.R(jt(t)));if(0>this.X(gb)&&0>t.X(gb))return gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,a=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=a*c,hu(n,2*r+2*s),n[2*r+2*s+1]+=i*c,hu(n,2*r+2*s+1),n[2*r+2*s+1]+=a*l,hu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,hu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)};function hu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Uo(t,e){this.g=t,this.h=e}function Ad(t,e){if(Br(e))throw Error("division by zero");if(Br(t))return new Uo(Va,Va);if(Un(t))return e=Ad(jt(t),e),new Uo(jt(e.g),jt(e.h));if(Un(e))return e=Ad(t,jt(e)),new Uo(jt(e.g),e.h);if(30<t.g.length){if(Un(t)||Un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ym,r=e;0>=r.X(t);)n=vb(n),r=vb(r);var s=ua(n,1),i=ua(r,1);for(r=ua(r,2),n=ua(n,2);!Br(r);){var a=i.add(r);0>=a.X(t)&&(s=s.add(n),i=a),r=ua(r,1),n=ua(n,1)}return e=Pd(t,s.R(e)),new Uo(s,e)}for(s=Va;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=gr(n),a=i.R(e);Un(a)||0<a.X(t);)n-=r,i=gr(n),a=i.R(e);Br(i)&&(i=Ym),s=s.add(i),t=Pd(t,a)}return new Uo(s,t)}K.gb=function(t){return Ad(this,t).h};K.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)};K.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)};K.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)};function vb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function ua(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ae(s,t.h)}Cd.prototype.createWebChannel=Cd.prototype.g;In.prototype.send=In.prototype.u;In.prototype.open=In.prototype.m;In.prototype.close=In.prototype.close;Dh.NO_ERROR=0;Dh.TIMEOUT=8;Dh.HTTP_ERROR=6;XS.COMPLETE="complete";JS.EventType=jc;jc.OPEN="a";jc.CLOSE="b";jc.ERROR="c";jc.MESSAGE="d";wt.prototype.listen=wt.prototype.O;nt.prototype.listenOnce=nt.prototype.P;nt.prototype.getLastError=nt.prototype.Sa;nt.prototype.getLastErrorCode=nt.prototype.Ia;nt.prototype.getStatus=nt.prototype.da;nt.prototype.getResponseJson=nt.prototype.Wa;nt.prototype.getResponseText=nt.prototype.ja;nt.prototype.send=nt.prototype.ha;nt.prototype.setWithCredentials=nt.prototype.Oa;or.prototype.digest=or.prototype.l;or.prototype.reset=or.prototype.reset;or.prototype.update=or.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=gr;Ae.fromString=D1;var oL=function(){return new Cd},lL=function(){return Rh()},ip=Dh,cL=XS,uL=na,yb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fu=JS,dL=nt,hL=or,Fa=Ae;const xb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Sh("@firebase/firestore");function $o(){return Vi.logLevel}function G(t,...e){if(Vi.logLevel<=ye.DEBUG){const n=e.map(oy);Vi.debug(`Firestore (${_o}): ${t}`,...n)}}function Ir(t,...e){if(Vi.logLevel<=ye.ERROR){const n=e.map(oy);Vi.error(`Firestore (${_o}): ${t}`,...n)}}function ro(t,...e){if(Vi.logLevel<=ye.WARN){const n=e.map(oy);Vi.warn(`Firestore (${_o}): ${t}`,...n)}}function oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+t;throw Ir(e),new Error(e)}function De(t,e){t||le()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class pL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mL{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new br;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new br,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new br)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new O1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Mt(e)}}class gL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new yL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=wL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function so(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new pt(0,0))}static max(){return new ue(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends rc{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const bL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends rc{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return bL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Me.fromString(e))}static fromName(e){return new se(Me.fromString(e).popFirst(5))}static empty(){return new se(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Me(e.slice()))}}function _L(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Bs(s,se.empty(),e)}function EL(t){return new Bs(t.readTime,t.key,-1)}class Bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(ue.min(),se.empty(),-1)}static max(){return new Bs(ue.max(),se.empty(),-1)}}function TL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==SL)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new br,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new yl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=cy(r.target.error);this.V.reject(new yl(e,s))}}static open(e,n,r,s){try{return new ly(n,e.transaction(s,r))}catch(i){throw new yl(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new IL(n)}}class wi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,wi.S(dt())===12.2&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),fi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Mv())return!1;if(wi.C())return!0;const e=dt(),n=wi.S(e),r=0<n&&n<10,s=wi.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new yl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new Q(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Q(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new yl(e,a))},s.onupgradeneeded=i=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.p.N(a,s.transaction,i.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const l=ly.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),U.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&a<3;if(G("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class NL{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return fi(this.k.delete())}}class yl extends Q{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function kc(t){return t.name==="IndexedDbTransactionError"}class IL{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fi(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),fi(this.store.add(e))}get(e){return fi(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),fi(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),fi(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new U((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}})}{const i=this.cursor(r),a=[];return this.G(i,(l,c)=>{a.push(c)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}H(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,a,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new U((r,s)=>{n.onerror=i=>{const a=cy(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():r()}):r()}})}G(e,n){const r=[];return new U((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void s();const c=new NL(l),u=n(l.primaryKey,l.value,c);if(u instanceof U){const d=u.catch(h=>(c.done(),U.reject(h)));r.push(d)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function fi(t){return new U((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=cy(r.target.error);n(s)}})}let wb=!1;function cy(t){const e=wi.S(dt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wb||(wb=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}uy._e=-1;function zh(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function CL(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _b(this.data.getIterator())}getIteratorFrom(e){return new _b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class _b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Pt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new V1("Invalid base64 string: "+i):i}}(e);return new zt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const PL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(De(!!t),typeof t=="string"){let e=0;const n=PL.exec(t);if(De(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fi(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hy(t){const e=t.mapValue.fields.__previous_value__;return dy(e)?hy(e):e}function sc(t){const e=zs(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,s,i,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class ic{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:kL(t)?9007199254740991:10:le()}function Cr(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=zs(s.timestampValue),l=zs(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fi(s.bytesValue).isEqual(Fi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return at(s.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return at(s.integerValue)===at(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=at(s.doubleValue),l=at(i.doubleValue);return a===l?kd(a)===kd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return so(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(bb(a)!==bb(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Cr(a[c],l[c])))return!1;return!0}(t,e);default:return le()}}function ac(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function io(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=at(i.integerValue||i.doubleValue),c=at(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Eb(t.timestampValue,e.timestampValue);case 4:return Eb(sc(t),sc(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Fi(i),c=Fi(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ie(l[u],c[u]);if(d!==0)return d}return Ie(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ie(at(i.latitude),at(a.latitude));return l!==0?l:Ie(at(i.longitude),at(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],c=a.values||[];for(let u=0;u<l.length&&u<c.length;++u){const d=io(l[u],c[u]);if(d)return d}return Ie(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===mu.mapValue&&a===mu.mapValue)return 0;if(i===mu.mapValue)return 1;if(a===mu.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=Ie(c[h],d[h]);if(f!==0)return f;const p=io(l[c[h]],u[d[h]]);if(p!==0)return p}return Ie(c.length,d.length)}(t.mapValue,e.mapValue);default:throw le()}}function Eb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=zs(t),r=zs(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function ao(t){return Qm(t)}function Qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Qm(n.fields[a])}`;return s+"}"}(t.mapValue):le()}function Tb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xm(t){return!!t&&"integerValue"in t}function fy(t){return!!t&&"arrayValue"in t}function Sb(t){return!!t&&"nullValue"in t}function jb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(n)}setAll(e){let n=Nt.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=xl(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ra(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new cn(xl(this.value))}}function F1(t){const e=[];return ra(t.fields,(n,r)=>{const s=new Nt([n]);if(Vu(r)){const i=F1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ft(e,0,ue.min(),ue.min(),ue.min(),cn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ft(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new Ft(e,2,n,ue.min(),ue.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ue.min(),ue.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n){this.position=e,this.inclusive=n}}function Nb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(a.referenceValue),n.key):r=io(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ib(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function RL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class lt extends U1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OL(e,n,r):n==="array-contains"?new VL(e,r):n==="in"?new FL(e,r):n==="not-in"?new UL(e,r):n==="array-contains-any"?new $L(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LL(e,r):new ML(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends U1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new lr(e,n)}matches(e){return $1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $1(t){return t.op==="and"}function B1(t){return DL(t)&&$1(t)}function DL(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function Jm(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+ao(t.value);if(B1(t))return t.filters.map(e=>Jm(e)).join(",");{const e=t.filters.map(n=>Jm(n)).join(",");return`${t.op}(${e})`}}function z1(t,e){return t instanceof lt?function(r,s){return s instanceof lt&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof lr?function(r,s){return s instanceof lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&z1(a,s.filters[l]),!0):!1}(t,e):void le()}function H1(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(H1).join(" ,")+"}"}(t):"Filter"}class OL extends lt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class LL extends lt{constructor(e,n){super(e,"in",n),this.keys=W1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ML extends lt{constructor(e,n){super(e,"not-in",n),this.keys=W1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function W1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class VL extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fy(n)&&ac(n.arrayValue,this.value)}}class FL extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class UL extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class $L extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ce=null}}function Cb(t,e=null,n=[],r=[],s=null,i=null,a=null){return new BL(t,e,n,r,s,i,a)}function py(t){const e=he(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ao(r)).join(",")),e.ce=n}return e.ce}function my(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ib(t.startAt,e.startAt)&&Ib(t.endAt,e.endAt)}function Zm(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function zL(t,e,n,r,s,i,a,l){return new Rc(t,e,n,r,s,i,a,l)}function gy(t){return new Rc(t)}function Pb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q1(t){return t.collectionGroup!==null}function wl(t){const e=he(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Pt(Nt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Dd(i,r))}),n.has(Nt.keyField().canonicalString())||e.le.push(new Dd(Nt.keyField(),r))}return e.le}function _r(t){const e=he(t);return e.he||(e.he=HL(e,wl(t))),e.he}function HL(t,e){if(t.limitType==="F")return Cb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dd(s.field,i)});const n=t.endAt?new Rd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rd(t.startAt.position,t.startAt.inclusive):null;return Cb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eg(t,e){const n=t.filters.concat([e]);return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tg(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hh(t,e){return my(_r(t),_r(e))&&t.limitType===e.limitType}function G1(t){return`${py(_r(t))}|lt:${t.limitType}`}function pa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>H1(s)).join(", ")}]`),zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ao(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ao(s)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function Wh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of wl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=Nb(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,wl(r),s)||r.endAt&&!function(a,l,c){const u=Nb(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,wl(r),s))}(t,e)}function WL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function K1(t){return(e,n)=>{let r=!1;for(const s of wl(t)){const i=qL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qL(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?io(c,u):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Ze(se.comparator);function Zr(){return GL}const Y1=new Ze(se.comparator);function sl(...t){let e=Y1;for(const n of t)e=e.insert(n.key,n);return e}function Q1(t){let e=Y1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return bl()}function X1(){return bl()}function bl(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const KL=new Ze(se.comparator),YL=new Pt(se.comparator);function ge(...t){let e=YL;for(const n of t)e=e.add(n);return e}const QL=new Pt(Ie);function XL(){return QL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function Z1(t){return{integerValue:""+t}}function JL(t,e){return CL(e)?Z1(e):J1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function ZL(t,e,n){return t instanceof Od?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&dy(i)&&(i=hy(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof oo?tj(t,e):t instanceof lo?nj(t,e):function(s,i){const a=ej(s,i),l=Ab(a)+Ab(s.Ie);return Xm(a)&&Xm(s.Ie)?Z1(l):J1(s.serializer,l)}(t,e)}function eM(t,e,n){return t instanceof oo?tj(t,e):t instanceof lo?nj(t,e):n}function ej(t,e){return t instanceof Ld?function(r){return Xm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Od extends qh{}class oo extends qh{constructor(e){super(),this.elements=e}}function tj(t,e){const n=rj(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class lo extends qh{constructor(e){super(),this.elements=e}}function nj(t,e){let n=rj(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class Ld extends qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ab(t){return at(t.integerValue||t.doubleValue)}function rj(t){return fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.field=e,this.transform=n}}function tM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof oo&&s instanceof oo||r instanceof lo&&s instanceof lo?so(r.elements,s.elements,Cr):r instanceof Ld&&s instanceof Ld?Cr(r.Ie,s.Ie):r instanceof Od&&s instanceof Od}(t.transform,e.transform)}class nM{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gh{}function ij(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vy(t.key,zn.none()):new Dc(t.key,t.data,zn.none());{const n=t.data,r=cn.empty();let s=new Pt(Nt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ei(t.key,r,new _n(s.toArray()),zn.none())}}function rM(t,e,n){t instanceof Dc?function(s,i,a){const l=s.value.clone(),c=Rb(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ei?function(s,i,a){if(!Fu(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Rb(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(aj(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function _l(t,e,n,r){return t instanceof Dc?function(i,a,l,c){if(!Fu(i.precondition,a))return l;const u=i.value.clone(),d=Db(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ei?function(i,a,l,c){if(!Fu(i.precondition,a))return l;const u=Db(i.fieldTransforms,c,a),d=a.data;return d.setAll(aj(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,a,l){return Fu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function sM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=ej(r.transform,s||null);i!=null&&(n===null&&(n=cn.empty()),n.set(r.field,i))}return n||null}function kb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&so(r,s,(i,a)=>tM(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dc extends Gh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ei extends Gh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function aj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Rb(t,e,n){const r=new Map;De(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,eM(a,l,n[s]))}return r}function Db(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,ZL(i,a,e))}return r}class vy extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iM extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&rM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X1();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=ij(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,r)=>kb(n,r))&&so(this.baseMutations,e.baseMutations,(n,r)=>kb(n,r))}}class yy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){De(e.mutations.length===r.length);let s=function(){return KL}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new yy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,we;function cM(t){switch(t){default:return le();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function oj(t){if(t===void 0)return Ir("GRPC error has no .code"),V.UNKNOWN;switch(t){case it.OK:return V.OK;case it.CANCELLED:return V.CANCELLED;case it.UNKNOWN:return V.UNKNOWN;case it.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case it.INTERNAL:return V.INTERNAL;case it.UNAVAILABLE:return V.UNAVAILABLE;case it.UNAUTHENTICATED:return V.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case it.NOT_FOUND:return V.NOT_FOUND;case it.ALREADY_EXISTS:return V.ALREADY_EXISTS;case it.PERMISSION_DENIED:return V.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case it.ABORTED:return V.ABORTED;case it.OUT_OF_RANGE:return V.OUT_OF_RANGE;case it.UNIMPLEMENTED:return V.UNIMPLEMENTED;case it.DATA_LOSS:return V.DATA_LOSS;default:return le()}}(we=it||(it={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Fa([4294967295,4294967295],0);function Ob(t){const e=uM().encode(t),n=new hL;return n.update(e),new Uint8Array(n.digest())}function Lb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fa([n,r],0),new Fa([s,i],0)]}class xy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new il(`Invalid padding: ${n}`);if(r<0)throw new il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new il(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Fa.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Fa.fromNumber(r)));return s.compare(dM)===1&&(s=new Fa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ob(e),[r,s]=Lb(n);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new xy(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;const n=Ob(e),[r,s]=Lb(n);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kh(ue.min(),s,new Ze(Ie),Zr(),ge())}}class Oc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class lj{constructor(e,n){this.targetId=e,this.fe=n}}class cj{constructor(e,n,r=zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Mb{constructor(){this.ge=0,this.pe=Fb(),this.ye=zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ge(),n=ge(),r=ge();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le()}}),new Oc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Fb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,De(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class hM{constructor(e){this.Le=e,this.ke=new Map,this.qe=Zr(),this.Qe=Vb(),this.Ke=new Ze(Ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Zm(i))if(r===0){const a=new se(i.path);this.We(n,a,Ft.newNoDocument(a,ue.min()))}else De(r===1);else{const a=this.Ze(n);if(a!==r){const l=this.Xe(e),c=l?this.et(l,e,a):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Fi(r).toUint8Array()}catch(c){if(c instanceof V1)return ro("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new xy(a,s,i)}catch(c){return ro(c instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,a)=>{const l=this.Ye(a);if(l){if(i.current&&Zm(l.target)){const c=new se(l.target.path);this.qe.get(c)!==null||this.st(a,c)||this.We(a,c,Ft.newNoDocument(c,e))}i.De&&(n.set(a,i.ve()),i.Fe())}});let r=ge();this.Qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,a)=>a.setReadTime(e));const s=new Kh(e,n,this.Ke,this.qe,r);return this.qe=Zr(),this.Qe=Vb(),this.Ke=new Ze(Ie),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Mb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pt(Ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Mb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Vb(){return new Ze(se.comparator)}function Fb(){return new Ze(se.comparator)}const fM={asc:"ASCENDING",desc:"DESCENDING"},pM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mM={and:"AND",or:"OR"};class gM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ng(t,e){return t.useProto3Json||zh(e)?e:{value:e}}function Md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vM(t,e){return Md(t,e.toTimestamp())}function Er(t){return De(!!t),ue.fromTimestamp(function(n){const r=zs(n);return new pt(r.seconds,r.nanos)}(t))}function wy(t,e){return rg(t,e).canonicalString()}function rg(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dj(t){const e=Me.fromString(t);return De(gj(e)),e}function sg(t,e){return wy(t.databaseId,e.path)}function ap(t,e){const n=dj(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(fj(n))}function hj(t,e){return wy(t.databaseId,e)}function yM(t){const e=dj(t);return e.length===4?Me.emptyPath():fj(e)}function ig(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fj(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ub(t,e,n){return{name:sg(t,e),fields:n.value.mapValue.fields}}function xM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(De(d===void 0||typeof d=="string"),zt.fromBase64String(d||"")):(De(d===void 0||d instanceof Uint8Array),zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?V.UNKNOWN:oj(u.code);return new Q(d,u.message||"")}(a);n=new cj(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ap(t,r.document.name),i=Er(r.document.updateTime),a=r.document.createTime?Er(r.document.createTime):ue.min(),l=new cn({mapValue:{fields:r.document.fields}}),c=Ft.newFoundDocument(s,i,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Uu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ap(t,r.document),i=r.readTime?Er(r.readTime):ue.min(),a=Ft.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Uu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ap(t,r.document),i=r.removedTargetIds||[];n=new Uu([],i,s,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new lM(s,i),l=r.targetId;n=new lj(l,a)}}return n}function wM(t,e){let n;if(e instanceof Dc)n={update:Ub(t,e.key,e.value)};else if(e instanceof vy)n={delete:sg(t,e.key)};else if(e instanceof ei)n={update:Ub(t,e.key,e.data),updateMask:CM(e.fieldMask)};else{if(!(e instanceof iM))return le();n={verify:sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Od)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ld)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:vM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function bM(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?Er(s.updateTime):Er(i);return a.isEqual(ue.min())&&(a=Er(i)),new nM(a,s.transformResults||[])}(n,e))):[]}function _M(t,e){return{documents:[hj(t,e.path)]}}function EM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hj(t,s);const i=function(u){if(u.length!==0)return mj(lr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:ma(f.field),direction:jM(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ng(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:s}}function TM(t){let e=yM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=pj(h);return f instanceof lr&&B1(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(g){return new Dd(ga(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,zh(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Rd(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Rd(p,f)}(n.endAt)),zL(e,s,a,i,l,"F",c,u)}function SM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ga(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ga(n.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ga(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ga(n.unaryFilter.field);return lt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(ga(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(r=>pj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function jM(t){return fM[t]}function NM(t){return pM[t]}function IM(t){return mM[t]}function ma(t){return{fieldPath:t.canonicalString()}}function ga(t){return Nt.fromServerFormat(t.fieldPath)}function mj(t){return t instanceof lt?function(n){if(n.op==="=="){if(jb(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NAN"}};if(Sb(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jb(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NOT_NAN"}};if(Sb(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(n.field),op:NM(n.op),value:n.value}}}(t):t instanceof lr?function(n){const r=n.getFilters().map(s=>mj(s));return r.length===1?r[0]:{compositeFilter:{op:IM(n.op),filters:r}}}(t):le()}function CM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,s,i=ue.min(),a=ue.min(),l=zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.ct=e}}function AM(t){const e=TM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this._n=new RM}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Bs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class RM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Pt(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Pt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new co(0)}static Bn(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&_l(r.mutation,s,_n.empty(),pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=bi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=sl();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Zr();const a=bl(),l=function(){return bl()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ei)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),_l(d.mutation,u,d.mutation.getFieldMask(),pt.now())):a.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new OM(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=bl();let s=new Ze((a,l)=>a-l),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||_n.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||ge()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=X1();d.forEach(f=>{if(!i.has(f)){const p=ij(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(bi());let l=-1,c=i;return a.next(u=>U.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ge())).next(d=>({batchId:l,changes:Q1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=sl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=sl();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,c=>{const u=function(h,f){return new Rc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Ft.newInvalidDocument(d)))});let l=sl();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&_l(d.mutation,u,_n.empty(),pt.now()),Wh(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Er(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:AM(s.bundledQuery),readTime:Er(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.overlays=new Ze(se.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=bi(),i=n.length+1,a=new se(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ze((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=bi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=bi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return U.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new oM(n,r));let i=this.hr.get(n);i===void 0&&(i=ge(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.Pr=new Pt(gt.Ir),this.Tr=new Pt(gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new gt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new se(new Me([])),r=new gt(n,e),s=new gt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],a=>{this.Ar(a),i.push(a.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new se(new Me([])),r=new gt(n,e),s=new gt(n,e+1);let i=ge();return this.Tr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new gt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return se.comparator(e.key,n.key)||Ie(e.pr,n.pr)}static Er(e,n){return Ie(e.pr,n.pr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pt(gt.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new aM(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.wr=this.wr.add(new gt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],a=>{const l=this.Sr(a.pr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Ie);return n.forEach(s=>{const i=new gt(s,0),a=new gt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,a],l=>{r=r.add(l.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const a=new gt(new se(i),0);let l=new Pt(Ie);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.pr)),!0)},a),U.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,s=>{const i=new gt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new gt(n,0),s=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.vr=e,this.docs=function(){return new Ze(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ft.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Zr();const a=n.path,l=new se(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||TL(EL(d),r)<=0||(s.has(d.key)||Wh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $M(this)}getSize(e){return U.resolve(this.size)}}class $M extends DM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.persistence=e,this.Mr=new Eo(n=>py(n),my),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new by,this.targetCount=0,this.Br=co.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new co(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.Lr={},this.overlays={},this.kr=new uy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new BM(this),this.indexManager=new kM,this.remoteDocumentCache=function(s){return new UM(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new PM(n),this.$r=new MM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new FM(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new HM(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return U.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class HM extends jL{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.zr=new by,this.jr=null}static Hr(e){return new _y(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const s=se.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ey(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return HR()?8:wi.v(dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new WM;return this.Ji(e,n,a).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?($o()<=ye.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):($o()<=ye.DEBUG&&G("QueryEngine","Query:",pa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?($o()<=ye.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):U.resolve())}ji(e,n){if(Pb(n))return U.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=tg(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=ge(...i);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,a,c.readTime)?this.ji(e,tg(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,s){return Pb(n)||s.isEqual(ue.min())?U.resolve(null):this.zi.getDocuments(e,r).next(i=>{const a=this.Zi(n,i);return this.Xi(n,a,r,s)?U.resolve(null):($o()<=ye.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pa(n)),this.es(e,a,n,_L(s,-1)).next(l=>l))})}Zi(e,n){let r=new Pt(K1(e));return n.forEach((s,i)=>{Wh(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return $o()<=ye.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",pa(n)),this.zi.getDocumentsMatchingQuery(e,n,Bs.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Ze(Ie),this.rs=new Eo(i=>py(i),my),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function KM(t,e,n,r){return new GM(t,e,n,r)}async function vj(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ge();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:a,addedBatchIds:l}))})})}function YM(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let p=U.resolve();return f.forEach(g=>{p=p.next(()=>d.getEntry(c,g)).next(x=>{const y=u.docVersions.get(g);De(y!==null),x.version.compareTo(y)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ge();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function yj(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function QM(t,e){const n=he(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(zt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(x,y,m){return x.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,d)&&l.push(n.Qr.updateTargetData(i,p))});let c=Zr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(XM(i,a,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(ue.min())){const d=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return U.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.ns=s,i))}function XM(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Zr();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):G("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:a,ls:s}})}function JM(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZM(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Qr.allocateTargetId(r).next(a=>(s=new _s(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ag(t,e,n){const r=he(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!kc(a))throw a;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function $b(t,e,n){const r=he(t);let s=ue.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=he(c),f=h.rs.get(d);return f!==void 0?U.resolve(h.ns.get(f)):h.Qr.getTargetData(u,d)}(r,a,_r(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?s:ue.min(),n?i:ge())).next(l=>(eV(r,WL(e),l),{documents:l,hs:i})))}function eV(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class Bb{constructor(){this.activeTargetIds=XL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tV{constructor(){this.no=new Bb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Bb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu=null;function op(){return gu===null?gu=function(){return 268435456+Math.round(2147483648*Math.random())}():gu++,"0x"+gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class iV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,a){const l=op(),c=this.bo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,a),this.Co(n,c,u,s).then(d=>(G("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw ro("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}vo(n,r,s,i,a,l){return this.So(n,r,s,i,a)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}bo(n,r){const s=rV[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=op();return new Promise((a,l)=>{const c=new dL;c.setWithCredentials(!0),c.listenOnce(cL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ip.NO_ERROR:const d=c.getResponseJson();G(Ot,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case ip.TIMEOUT:G(Ot,`RPC '${e}' ${i} timed out`),l(new Q(V.DEADLINE_EXCEEDED,"Request time out"));break;case ip.HTTP_ERROR:const h=c.getStatus();if(G(Ot,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(m)>=0?m:V.UNKNOWN}(p.status);l(new Q(g,p.message))}else l(new Q(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q(V.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{G(Ot,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);G(Ot,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=op(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oL(),l=lL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");G(Ot,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=a.createWebChannel(d,c);let f=!1,p=!1;const g=new sV({lo:y=>{p?G(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(f||(G(Ot,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),G(Ot,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},ho:()=>h.close()}),x=(y,m,v)=>{y.listen(m,w=>{try{v(w)}catch(_){setTimeout(()=>{throw _},0)}})};return x(h,fu.EventType.OPEN,()=>{p||G(Ot,`RPC '${e}' stream ${s} transport opened.`)}),x(h,fu.EventType.CLOSE,()=>{p||(p=!0,G(Ot,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),x(h,fu.EventType.ERROR,y=>{p||(p=!0,ro(Ot,`RPC '${e}' stream ${s} transport errored:`,y),g.Vo(new Q(V.UNAVAILABLE,"The operation could not be completed")))}),x(h,fu.EventType.MESSAGE,y=>{var m;if(!p){const v=y.data[0];De(!!v);const w=v,_=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(_){G(Ot,`RPC '${e}' stream ${s} received error:`,_);const j=_.status;let E=function(T){const S=it[T];if(S!==void 0)return oj(S)}(j),I=_.message;E===void 0&&(E=V.INTERNAL,I="Unknown error status: "+j+" with message "+_.message),p=!0,g.Vo(new Q(E,I)),h.close()}else G(Ot,`RPC '${e}' stream ${s} received:`,v),g.mo(v)}}),x(l,uL.STAT_EVENT,y=>{y.stat===yb.PROXY?G(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===yb.NOPROXY&&G(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){return new gM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n,r,s,i,a,l,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new xj(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new Q(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aV extends wj{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=xM(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ue.min():a.readTime?Er(a.readTime):ue.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=ig(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Zm(c)?{documents:_M(i,c)}:{query:EM(i,c).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=uj(i,a.resumeToken);const u=ng(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(ue.min())>0){l.readTime=Md(i,a.snapshotVersion.toTimestamp());const u=ng(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=SM(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=ig(this.serializer),n.removeTarget=e,this.t_(n)}}class oV extends wj{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=bM(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.T_(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ig(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.So(e,rg(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(V.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,rg(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q(V.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class cV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ir(n),this.g_=!1):G("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(a=>{r.enqueueAndForget(async()=>{sa(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=he(c);u.v_.add(4),await Lc(u),u.x_.set("Unknown"),u.v_.delete(4),await Qh(u)}(this))})}),this.x_=new cV(r,s)}}async function Qh(t){if(sa(t))for(const e of t.F_)await e(!0)}async function Lc(t){for(const e of t.F_)await e(!1)}function bj(t,e){const n=he(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),jy(n)?Sy(n):To(n).Jo()&&Ty(n,e))}function _j(t,e){const n=he(t),r=To(n);n.C_.delete(e),r.Jo()&&Ej(n,e),n.C_.size===0&&(r.Jo()?r.Xo():sa(n)&&n.x_.set("Unknown"))}function Ty(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).c_(e)}function Ej(t,e){t.O_.Oe(e),To(t).l_(e)}function Sy(t){t.O_=new hM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.x_.p_()}function jy(t){return sa(t)&&!To(t).Ho()&&t.C_.size>0}function sa(t){return he(t).v_.size===0}function Tj(t){t.O_=void 0}async function dV(t){t.C_.forEach((e,n)=>{Ty(t,e)})}async function hV(t,e){Tj(t),jy(t)?(t.x_.S_(e),Sy(t)):t.x_.set("Unknown")}async function fV(t,e,n){if(t.x_.set("Online"),e instanceof cj&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vd(t,r)}else if(e instanceof Uu?t.O_.$e(e):e instanceof lj?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ue.min()))try{const r=await yj(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.O_.it(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.C_.get(u);d&&i.C_.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.C_.get(c);if(!d)return;i.C_.set(c,d.withResumeToken(zt.EMPTY_BYTE_STRING,d.snapshotVersion)),Ej(i,c);const h=new _s(d.target,c,u,d.sequenceNumber);Ty(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Vd(t,r)}}async function Vd(t,e,n){if(!kc(e))throw e;t.v_.add(1),await Lc(t),t.x_.set("Offline"),n||(n=()=>yj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Qh(t)})}function Sj(t,e){return e().catch(n=>Vd(t,n,e))}async function Xh(t){const e=he(t),n=Hs(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;pV(e);)try{const s=await JM(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,mV(e,s)}catch(s){await Vd(e,s)}jj(e)&&Nj(e)}function pV(t){return sa(t)&&t.D_.length<10}function mV(t,e){t.D_.push(e);const n=Hs(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function jj(t){return sa(t)&&!Hs(t).Ho()&&t.D_.length>0}function Nj(t){Hs(t).start()}async function gV(t){Hs(t).d_()}async function vV(t){const e=Hs(t);for(const n of t.D_)e.I_(n.mutations)}async function yV(t,e,n){const r=t.D_.shift(),s=yy.from(r,e,n);await Sj(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Xh(t)}async function xV(t,e){e&&Hs(t).P_&&await async function(r,s){if(function(a){return cM(a)&&a!==V.ABORTED}(s.code)){const i=r.D_.shift();Hs(r).Zo(),await Sj(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Xh(r)}}(t,e),jj(t)&&Nj(t)}async function Hb(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=sa(n);n.v_.add(3),await Lc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Qh(n)}async function wV(t,e){const n=he(t);e?(n.v_.delete(2),await Qh(n)):e||(n.v_.add(2),await Lc(n),n.x_.set("Unknown"))}function To(t){return t.N_||(t.N_=function(n,r,s){const i=he(n);return i.R_(),new aV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:dV.bind(null,t),To:hV.bind(null,t),u_:fV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),jy(t)?Sy(t):t.x_.set("Unknown")):(await t.N_.stop(),Tj(t))})),t.N_}function Hs(t){return t.B_||(t.B_=function(n,r,s){const i=he(n);return i.R_(),new oV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:gV.bind(null,t),To:xV.bind(null,t),E_:vV.bind(null,t),T_:yV.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Xh(t)):(await t.B_.stop(),t.D_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new Ny(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(t,e){if(Ir("AsyncQueue",`${e}: ${t}`),kc(t))return new Q(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new Ua(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.L_=new Ze(se.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):le():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class uo{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new uo(e,n,Ua.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.q_=void 0,this.Q_=[]}}class _V{constructor(){this.queries=new Eo(e=>G1(e),Hh),this.onlineState="Unknown",this.K_=new Set}}async function Ij(t,e){const n=he(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new bV),s)try{i.q_=await n.onListen(r)}catch(a){const l=Iy(a,`Initialization of query '${pa(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&Cy(n)}async function Cj(t,e){const n=he(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const a=i.Q_.indexOf(e);a>=0&&(i.Q_.splice(a,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function EV(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Q_)l.W_(s)&&(r=!0);a.q_=s}}r&&Cy(n)}function TV(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function Cy(t){t.K_.forEach(e=>{e.next()})}class Pj{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.key=e}}class kj{constructor(e){this.key=e}}class SV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ge(),this.mutatedKeys=ge(),this.ua=K1(e),this.ca=new Ua(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Wb,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=Wh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),y=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),y=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(c||u)&&(l=!0)),y&&(p?(a=a.add(p),i=x?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ca:a,Pa:r,Xi:l,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.k_();a.sort((d,h)=>function(p,g){const x=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return x(p)-x(g)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(r),s=s!=null&&s;const l=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,u=c!==this._a;return this._a=c,a.length!==0||u?{snapshot:new uo(this.query,e.ca,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Wb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ge(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new kj(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Aj(r))}),n}Ra(e){this.oa=e.hs,this.aa=ge();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return uo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class jV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NV{constructor(e){this.key=e,this.ma=!1}}class IV{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Eo(l=>G1(l),Hh),this.pa=new Map,this.ya=new Set,this.wa=new Ze(se.comparator),this.Sa=new Map,this.ba=new by,this.Da={},this.Ca=new Map,this.va=co.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function CV(t,e){const n=FV(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const a=await ZM(n.localStore,_r(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,s=await PV(n,e,r,l==="current",a.resumeToken),n.isPrimaryClient&&bj(n.remoteStore,a)}return s}async function PV(t,e,n,r,s){t.Ma=(h,f,p)=>async function(x,y,m,v){let w=y.view.ha(m);w.Xi&&(w=await $b(x.localStore,y.query,!1).then(({documents:I})=>y.view.ha(I,w)));const _=v&&v.targetChanges.get(y.targetId),j=v&&v.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(w,x.isPrimaryClient,_,j);return Gb(x,y.targetId,E.da),E.snapshot}(t,h,f,p);const i=await $b(t.localStore,e,!0),a=new SV(e,i.hs),l=a.ha(i.documents),c=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);Gb(t,n,u.da);const d=new jV(e,n,a);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function AV(t,e){const n=he(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!Hh(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ag(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_j(n.remoteStore,r.targetId),og(n,r.targetId)}).catch(Ac)):(og(n,r.targetId),await ag(n.localStore,r.targetId,!0))}async function kV(t,e,n){const r=UV(t);try{const s=await function(a,l){const c=he(a),u=pt.now(),d=l.reduce((p,g)=>p.add(g.key),ge());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Zr(),x=ge();return c.os.getEntries(p,d).next(y=>{g=y,g.forEach((m,v)=>{v.isValidDocument()||(x=x.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(y=>{h=y;const m=[];for(const v of l){const w=sM(v,h.get(v.key).overlayedDocument);w!=null&&m.push(new ei(v.key,w,F1(w.value.mapValue),zn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,m,l)}).next(y=>{f=y;const m=y.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(p,y.batchId,m)})}).then(()=>({batchId:f.batchId,changes:Q1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Da[a.currentUser.toKey()];u||(u=new Ze(Ie)),u=u.insert(l,c),a.Da[a.currentUser.toKey()]=u}(r,s.batchId,n),await Mc(r,s.changes),await Xh(r.remoteStore)}catch(s){const i=Iy(s,"Failed to persist write");n.reject(i)}}async function Rj(t,e){const n=he(t);try{const r=await QM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Sa.get(i);a&&(De(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.ma=!0:s.modifiedDocuments.size>0?De(a.ma):s.removedDocuments.size>0&&(De(a.ma),a.ma=!1))}),await Mc(n,r,e)}catch(r){await Ac(r)}}function qb(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,a)=>{const l=a.view.U_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=he(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Q_)f.U_(l)&&(u=!0)}),u&&Cy(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RV(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let a=new Ze(se.comparator);a=a.insert(i,Ft.newNoDocument(i,ue.min()));const l=ge().add(i),c=new Kh(ue.min(),new Map,new Ze(Ie),a,l);await Rj(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),Py(r)}else await ag(r.localStore,e,!1).then(()=>og(r,e,n)).catch(Ac)}async function DV(t,e){const n=he(t),r=e.batch.batchId;try{const s=await YM(n.localStore,e);Oj(n,r,null),Dj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mc(n,s)}catch(s){await Ac(s)}}async function OV(t,e,n){const r=he(t);try{const s=await function(a,l){const c=he(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(De(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);Oj(r,e,n),Dj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mc(r,s)}catch(s){await Ac(s)}}function Dj(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Oj(t,e,n){const r=he(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||Lj(t,r)})}function Lj(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(_j(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Py(t))}function Gb(t,e,n){for(const r of n)r instanceof Aj?(t.ba.addReference(r.key,e),LV(t,r)):r instanceof kj?(G("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Lj(t,r.key)):le()}function LV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(G("SyncEngine","New document in limbo: "+n),t.ya.add(r),Py(t))}function Py(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new se(Me.fromString(e)),r=t.va.next();t.Sa.set(r,new NV(n)),t.wa=t.wa.insert(n,r),bj(t.remoteStore,new _s(_r(gy(n.path)),r,"TargetPurposeLimboResolution",uy._e))}}async function Mc(t,e,n){const r=he(t),s=[],i=[],a=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{a.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=Ey.Ki(c.targetId,u);i.push(d)}}))}),await Promise.all(a),r.fa.u_(s),await async function(c,u){const d=he(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,f=>U.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>U.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!kc(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);d.ns=d.ns.insert(f,x)}}}(r.localStore,i))}async function MV(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await vj(n.localStore,e);n.currentUser=e,function(i,a){i.Ca.forEach(l=>{l.forEach(c=>{c.reject(new Q(V.CANCELLED,a))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mc(n,r.us)}}function VV(t,e){const n=he(t),r=n.Sa.get(e);if(r&&r.ma)return ge().add(r.key);{let s=ge();const i=n.pa.get(e);if(!i)return s;for(const a of i){const l=n.ga.get(a);s=s.unionWith(l.view.la)}return s}}function FV(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RV.bind(null,e),e.fa.u_=EV.bind(null,e.eventManager),e.fa.xa=TV.bind(null,e.eventManager),e}function UV(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OV.bind(null,e),e}class Kb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KM(this.persistence,new qM,e.initialUser,this.serializer)}createPersistence(e){return new zM(_y.Hr,this.serializer)}createSharedClientState(e){return new tV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $V{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MV.bind(null,this.syncEngine),await wV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _V}()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),r=function(i){return new iV(i)}(e.databaseInfo);return function(i,a,l,c){return new lV(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new uV(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>qb(this.syncEngine,n,0),function(){return zb.D()?new zb:new nV}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,d){const h=new IV(s,i,a,l,c,u);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=he(r);G("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Lc(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mt.UNAUTHENTICATED,this.clientId=L1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{G("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(G("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cp(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await vj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HV(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Hb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Hb(e.remoteStore,s)),t._onlineComponents=e}function zV(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function HV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zV(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await cp(t,new Kb)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await cp(t,new Kb);return t._offlineComponents}async function Vj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await Yb(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await Yb(t,new $V))),t._onlineComponents}function WV(t){return Vj(t).then(e=>e.syncEngine)}async function Fj(t){const e=await Vj(t),n=e.eventManager;return n.onListen=CV.bind(null,e.syncEngine),n.onUnlisten=AV.bind(null,e.syncEngine),n}function qV(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new Mj({next:f=>{a.enqueueAndForget(()=>Cj(i,h));const p=f.docs.has(l);!p&&f.fromCache?u.reject(new Q(V.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new Q(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Pj(gy(l.path),d,{includeMetadataChanges:!0,Z_:!0});return Ij(i,h)}(await Fj(t),t.asyncQueue,e,n,r)),r.promise}function GV(t,e,n={}){const r=new br;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new Mj({next:f=>{a.enqueueAndForget(()=>Cj(i,h)),f.fromCache&&c.source==="server"?u.reject(new Q(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Pj(l,d,{includeMetadataChanges:!0,Z_:!0});return Ij(i,h)}(await Fj(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e,n){if(!n)throw new Q(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KV(t,e,n,r){if(e===!0&&r===!0)throw new Q(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xb(t){if(!se.isDocumentKey(t))throw new Q(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jb(t){if(se.isDocumentKey(t))throw new Q(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(t);throw new Q(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fL;switch(r.type){case"firstParty":return new vL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qb.get(n);r&&(G("ComponentProvider","Removing Datastore"),Qb.delete(n),r.terminate())}(this),Promise.resolve()}}function YV(t,e,n,r={}){var s;const i=(t=cr(t,Zh))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Mt.MOCK_USER;else{l=ES(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Mt(u)}t._authCredentials=new pL(new O1(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Ms extends So{constructor(e,n,r){super(e,n,gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new se(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Ee(t,e,...n){if(t=Fe(t),$j("collection","path",e),t instanceof Zh){const r=Me.fromString(e,...n);return Jb(r),new Ms(t,null,r)}{if(!(t instanceof Zt||t instanceof Ms))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Jb(r),new Ms(t.firestore,null,r)}}function st(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=L1.newId()),$j("doc","path",e),t instanceof Zh){const r=Me.fromString(e,...n);return Xb(r),new Zt(t,null,new se(r))}{if(!(t instanceof Zt||t instanceof Ms))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Xb(r),new Zt(t.firestore,t instanceof Ms?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new xj(this,"async_queue_retry"),this._u=()=>{const n=lp();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new br;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!kc(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Ir("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=Ny.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&le()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class ia extends Zh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new QV}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bj(this),this._firestoreClient.terminate()}}function XV(t,e){const n=typeof t=="object"?t:jh(),r=typeof t=="string"?t:e||"(default)",s=Xs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=wS("firestore");i&&YV(s,...i)}return s}function Ay(t){return t._firestoreClient||Bj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Bj(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new AL(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Uj(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new BV(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(zt.fromBase64String(e))}catch(n){throw new Q(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=/^__.*__$/;class ZV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}class zj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class tf{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.mu(e),s}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.Eu(),s}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Fd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(Hj(this.du)&&JV.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class e2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yh(e)}Su(e,n,r,s=!1){return new tf({du:e,methodName:n,wu:r,path:Nt.emptyPath(),Vu:!1,yu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nf(t){const e=t._freezeSettings(),n=Yh(t._databaseId);return new e2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Wj(t,e,n,r,s,i={}){const a=t.Su(i.merge||i.mergeFields?2:0,e,n,s);Oy("Data must be an object, but it was:",a,r);const l=Gj(r,a);let c,u;if(i.merge)c=new _n(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=lg(e,h,n);if(!a.contains(f))throw new Q(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Yj(d,f)||d.push(f)}c=new _n(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new ZV(new cn(l),c,u)}class rf extends Vc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function qj(t,e,n){return new tf({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ry extends Vc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=qj(this,e,!0),r=this.bu.map(i=>aa(i,n)),s=new oo(r);return new sj(e.path,s)}isEqual(e){return e instanceof Ry&&Li(this.bu,e.bu)}}class Dy extends Vc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=qj(this,e,!0),r=this.bu.map(i=>aa(i,n)),s=new lo(r);return new sj(e.path,s)}isEqual(e){return e instanceof Dy&&Li(this.bu,e.bu)}}function t2(t,e,n,r){const s=t.Su(1,e,n);Oy("Data must be an object, but it was:",s,r);const i=[],a=cn.empty();ra(r,(c,u)=>{const d=Ly(e,c,n);u=Fe(u);const h=s.fu(d);if(u instanceof rf)i.push(d);else{const f=aa(u,h);f!=null&&(i.push(d),a.set(d,f))}});const l=new _n(i);return new zj(a,l,s.fieldTransforms)}function n2(t,e,n,r,s,i){const a=t.Su(1,e,n),l=[lg(e,r,n)],c=[s];if(i.length%2!=0)throw new Q(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(lg(e,i[f])),c.push(i[f+1]);const u=[],d=cn.empty();for(let f=l.length-1;f>=0;--f)if(!Yj(u,l[f])){const p=l[f];let g=c[f];g=Fe(g);const x=a.fu(p);if(g instanceof rf)u.push(p);else{const y=aa(g,x);y!=null&&(u.push(p),d.set(p,y))}}const h=new _n(u);return new zj(d,h,a.fieldTransforms)}function r2(t,e,n,r=!1){return aa(n,t.Su(r?4:3,e))}function aa(t,e){if(Kj(t=Fe(t)))return Oy("Unsupported field value:",e,t),Gj(t,e);if(t instanceof Vc)return function(r,s){if(!Hj(s.du))throw s.pu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.pu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=aa(l,s.gu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=pt.fromDate(r);return{timestampValue:Md(s.serializer,i)}}if(r instanceof pt){const i=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Md(s.serializer,i)}}if(r instanceof ky)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ho)return{bytesValue:uj(s.serializer,r._byteString)};if(r instanceof Zt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.pu(`Unsupported field value: ${Jh(r)}`)}(t,e)}function Gj(t,e){const n={};return M1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(t,(r,s)=>{const i=aa(s,e.Ru(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Kj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof ky||t instanceof ho||t instanceof Zt||t instanceof Vc)}function Oy(t,e,n){if(!Kj(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Jh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function lg(t,e,n){if((e=Fe(e))instanceof ef)return e._internalPath;if(typeof e=="string")return Ly(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const s2=new RegExp("[~\\*/\\[\\]]");function Ly(t,e,n){if(e.search(s2)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Q(V.INVALID_ARGUMENT,l+t+c)}function Yj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(My("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i2 extends Qj{data(){return super.data()}}function My(t,e){return typeof e=="string"?Ly(t,e):e instanceof ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vy{}class o2 extends Vy{}function Xj(t,e,...n){let r=[];e instanceof Vy&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Fy).length,l=i.filter(c=>c instanceof sf).length;if(a>1||a>0&&l>0)throw new Q(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class sf extends o2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sf(e,n,r)}_apply(e){const n=this._parse(e);return Zj(e._query,n),new So(e.firestore,e.converter,eg(e._query,n))}_parse(e){const n=nf(e.firestore);return function(i,a,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){t0(h,d);const p=[];for(const g of h)p.push(e0(c,i,g));f={arrayValue:{values:p}}}else f=e0(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||t0(h,d),f=r2(l,a,h,d==="in"||d==="not-in");return lt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jj(t,e,n){const r=e,s=My("where",t);return sf._create(s,r,n)}class Fy extends Vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)Zj(a,c),a=eg(a,c)}(e._query,n),new So(e.firestore,e.converter,eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function e0(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q1(e)&&n.indexOf("/")!==-1)throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!se.isDocumentKey(r))throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tb(t,new se(r))}if(n instanceof Zt)return Tb(t,n._key);throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function t0(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zj(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l2{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ra(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new ky(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=zs(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);De(gj(r));const s=new ic(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Ir(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tN extends Qj{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(My("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $u extends tN{data(e={}){return super.data(e)}}class c2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new al(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $u(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new $u(s._firestore,s._userDataWriter,l.doc.key,l.doc,new al(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new $u(s._firestore,s._userDataWriter,l.doc.key,l.doc,new al(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:u2(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function u2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){t=cr(t,Zt);const e=cr(t.firestore,ia);return qV(Ay(e),t._key).then(n=>h2(e,t,n))}class nN extends l2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function kt(t){t=cr(t,So);const e=cr(t.firestore,ia),n=Ay(e),r=new nN(e);return a2(t._query),GV(n,t._query).then(s=>new c2(e,r,t,s))}function d2(t,e,n){t=cr(t,Zt);const r=cr(t.firestore,ia),s=eN(t.converter,e,n);return af(r,[Wj(nf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zn.none())])}function $i(t,e,n,...r){t=cr(t,Zt);const s=cr(t.firestore,ia),i=nf(s);let a;return a=typeof(e=Fe(e))=="string"||e instanceof ef?n2(i,"updateDoc",t._key,e,n,r):t2(i,"updateDoc",t._key,e),af(s,[a.toMutation(t._key,zn.exists(!0))])}function vn(t){return af(cr(t.firestore,ia),[new vy(t._key,zn.none())])}function Ht(t,e){const n=cr(t.firestore,ia),r=st(t),s=eN(t.converter,e);return af(n,[Wj(nf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function af(t,e){return function(r,s){const i=new br;return r.asyncQueue.enqueueAndForget(async()=>kV(await WV(r),s,i)),i.promise}(Ay(t),e)}function h2(t,e,n){const r=n.docs.get(e._key),s=new nN(t);return new tN(t,s,e._key,r,new al(n.hasPendingWrites,n.fromCache),e.converter)}function f2(...t){return new Ry("arrayUnion",t)}function rN(...t){return new Dy("arrayRemove",t)}(function(e,n=!0){(function(s){_o=s})(ta),ar(new qn("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new ia(new mL(r.getProvider("auth-internal")),new xL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(u.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),pn(xb,"4.4.2",e),pn(xb,"4.4.2","esm2017")})();var p2="firebase",m2="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(p2,m2,"app");const sN="@firebase/installations",Uy="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e4,aN=`w:${Uy}`,oN="FIS_v2",g2="https://firebaseinstallations.googleapis.com/v1",v2=60*60*1e3,y2="installations",x2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bi=new ea(y2,x2,w2);function lN(t){return t instanceof Kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN({projectId:t}){return`${g2}/projects/${t}/installations`}function uN(t){return{token:t.token,requestStatus:2,expiresIn:_2(t.expiresIn),creationTime:Date.now()}}async function dN(t,e){const r=(await e.json()).error;return Bi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function b2(t,{refreshToken:e}){const n=hN(t);return n.append("Authorization",E2(e)),n}async function fN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function _2(t){return Number(t.replace("s","000"))}function E2(t){return`${oN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cN(t),s=hN(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:oN,appId:t.appId,sdkVersion:aN},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await fN(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:uN(u.authToken)}}else throw await dN("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=/^[cdef][\w-]{21}$/,cg="";function N2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=I2(t);return j2.test(n)?n:cg}catch{return cg}}function I2(t){return S2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Map;function gN(t,e){const n=of(t);vN(n,e),C2(n,e)}function vN(t,e){const n=mN.get(t);if(n)for(const r of n)r(e)}function C2(t,e){const n=P2();n&&n.postMessage({key:t,fid:e}),A2()}let _i=null;function P2(){return!_i&&"BroadcastChannel"in self&&(_i=new BroadcastChannel("[Firebase] FID Change"),_i.onmessage=t=>{vN(t.data.key,t.data.fid)}),_i}function A2(){mN.size===0&&_i&&(_i.close(),_i=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="firebase-installations-database",R2=1,zi="firebase-installations-store";let up=null;function $y(){return up||(up=IS(k2,R2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zi)}}})),up}async function Ud(t,e){const n=of(t),s=(await $y()).transaction(zi,"readwrite"),i=s.objectStore(zi),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&gN(t,e.fid),e}async function yN(t){const e=of(t),r=(await $y()).transaction(zi,"readwrite");await r.objectStore(zi).delete(e),await r.done}async function lf(t,e){const n=of(t),s=(await $y()).transaction(zi,"readwrite"),i=s.objectStore(zi),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&gN(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function By(t){let e;const n=await lf(t.appConfig,r=>{const s=D2(r),i=O2(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===cg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function D2(t){const e=t||{fid:N2(),registrationStatus:0};return xN(e)}function O2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Bi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=L2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:M2(t)}:{installationEntry:e}}async function L2(t,e){try{const n=await T2(t,e);return Ud(t.appConfig,n)}catch(n){throw lN(n)&&n.customData.serverCode===409?await yN(t.appConfig):await Ud(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function M2(t){let e=await n0(t.appConfig);for(;e.registrationStatus===1;)await pN(100),e=await n0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await By(t);return r||n}return e}function n0(t){return lf(t,e=>{if(!e)throw Bi.create("installation-not-found");return xN(e)})}function xN(t){return V2(t)?{fid:t.fid,registrationStatus:0}:t}function V2(t){return t.registrationStatus===1&&t.registrationTime+iN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2({appConfig:t,heartbeatServiceProvider:e},n){const r=U2(t,n),s=b2(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:aN,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await fN(()=>fetch(r,l));if(c.ok){const u=await c.json();return uN(u)}else throw await dN("Generate Auth Token",c)}function U2(t,{fid:e}){return`${cN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zy(t,e=!1){let n;const r=await lf(t.appConfig,i=>{if(!wN(i))throw Bi.create("not-registered");const a=i.authToken;if(!e&&z2(a))return i;if(a.requestStatus===1)return n=$2(t,e),i;{if(!navigator.onLine)throw Bi.create("app-offline");const l=W2(i);return n=B2(t,l),l}});return n?await n:r.authToken}async function $2(t,e){let n=await r0(t.appConfig);for(;n.authToken.requestStatus===1;)await pN(100),n=await r0(t.appConfig);const r=n.authToken;return r.requestStatus===0?zy(t,e):r}function r0(t){return lf(t,e=>{if(!wN(e))throw Bi.create("not-registered");const n=e.authToken;return q2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function B2(t,e){try{const n=await F2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ud(t.appConfig,r),n}catch(n){if(lN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ud(t.appConfig,r)}throw n}}function wN(t){return t!==void 0&&t.registrationStatus===2}function z2(t){return t.requestStatus===2&&!H2(t)}function H2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+v2}function W2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function q2(t){return t.requestStatus===1&&t.requestTime+iN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t){const e=t,{installationEntry:n,registrationPromise:r}=await By(e);return r?r.catch(console.error):zy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(t,e=!1){const n=t;return await Y2(n),(await zy(n,e)).token}async function Y2(t){const{registrationPromise:e}=await By(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){if(!t||!t.options)throw dp("App Configuration");if(!t.name)throw dp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw dp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function dp(t){return Bi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="installations",X2="installations-internal",J2=t=>{const e=t.getProvider("app").getImmediate(),n=Q2(e),r=Xs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Z2=t=>{const e=t.getProvider("app").getImmediate(),n=Xs(e,bN).getImmediate();return{getId:()=>G2(n),getToken:s=>K2(n,s)}};function eF(){ar(new qn(bN,J2,"PUBLIC")),ar(new qn(X2,Z2,"PRIVATE"))}eF();pn(sN,Uy);pn(sN,Uy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="analytics",tF="firebase_id",nF="origin",rF=60*1e3,sF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Sh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new ea("analytics","Analytics",iF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){if(!t.startsWith(Hy)){const e=jn.create("invalid-gtag-resource",{gtagURL:t});return mn.warn(e.message),""}return t}function _N(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function oF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lF(t,e){const n=oF("firebase-js-sdk-policy",{createScriptURL:aF}),r=document.createElement("script"),s=`${Hy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function cF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function uF(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await _N(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(l){mn.error(l)}t("config",s,i)}async function dF(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await _N(n);for(const c of a){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){mn.error(i)}}function hF(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await dF(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await uF(t,e,n,r,l,c)}else if(i==="consent"){const[l]=a;t("consent","update",l)}else if(i==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){mn.error(l)}}return s}function fF(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=hF(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function pF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Hy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=30,gF=1e3;class vF{constructor(e={},n=gF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const EN=new vF;function yF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function xF(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:yF(r)},i=sF.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function wF(t,e=EN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw jn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw jn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new EF;return setTimeout(async()=>{l.abort()},n!==void 0?n:rF),TN({appId:r,apiKey:s,measurementId:i},a,l,e)}async function TN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=EN){var i;const{appId:a,measurementId:l}=t;try{await bF(r,e)}catch(c){if(l)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await xF(t);return s.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!_F(u)){if(s.deleteThrottleMetadata(a),l)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?Xw(n,s.intervalMillis,mF):Xw(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(a,h),mn.debug(`Calling attemptFetch again in ${d} millis`),TN(t,h,r,s)}}function bF(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _F(t){if(!(t instanceof Kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class EF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TF(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a=Object.assign(Object.assign({},r),{send_to:i});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(){if(Mv())try{await SS()}catch(t){return mn.warn(jn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return mn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jF(t,e,n,r,s,i,a){var l;const c=wF(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>mn.error(p)),e.push(c);const u=SF().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([c,u]);pF(i)||lF(i,d.measurementId),s("js",new Date);const f=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return f[nF]="firebase",f.update=!0,h!=null&&(f[tF]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.app=e}_delete(){return delete El[this.app.options.appId],Promise.resolve()}}let El={},s0=[];const i0={};let hp="dataLayer",IF="gtag",a0,SN,o0=!1;function CF(){const t=[];if(TS()&&t.push("This is a browser extension environment."),WR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}function PF(t,e,n){CF();const r=t.options.appId;if(!r)throw jn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(El[r]!=null)throw jn.create("already-exists",{id:r});if(!o0){cF(hp);const{wrappedGtag:i,gtagCore:a}=fF(El,s0,i0,hp,IF);SN=i,a0=a,o0=!0}return El[r]=jF(t,s0,i0,e,a0,hp,n),new NF(t)}function AF(t=jh()){t=Fe(t);const e=Xs(t,$d);return e.isInitialized()?e.getImmediate():kF(t)}function kF(t,e={}){const n=Xs(t,$d);if(n.isInitialized()){const s=n.getImmediate();if(Li(e,n.getOptions()))return s;throw jn.create("already-initialized")}return n.initialize({options:e})}function RF(t,e,n,r){t=Fe(t),TF(SN,El[t.app.options.appId],e,n,r).catch(s=>mn.error(s))}const l0="@firebase/analytics",c0="0.10.1";function DF(){ar(new qn($d,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return PF(r,s,n)},"PUBLIC")),ar(new qn("analytics-internal",t,"PRIVATE")),pn(l0,c0),pn(l0,c0,"esm2017");function t(e){try{const n=e.getProvider($d).getImmediate();return{logEvent:(r,s,i)=>RF(n,r,s,i)}}catch(n){throw jn.create("interop-component-reg-failed",{reason:n})}}}DF();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="firebasestorage.googleapis.com",NN="storageBucket",OF=2*60*1e3,LF=10*60*1e3,MF=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends Kn{constructor(e,n,r=0){super(fp(e),`Firebase Storage: ${n} (${fp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ue||(Ue={}));function fp(t){return"storage/"+t}function Wy(){const t="An unknown error occurred, please check the error payload for server response.";return new et(Ue.UNKNOWN,t)}function VF(t){return new et(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function FF(t){return new et(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function UF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Ue.UNAUTHENTICATED,t)}function $F(){return new et(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BF(t){return new et(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function IN(){return new et(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CN(){return new et(Ue.CANCELED,"User canceled the upload/download.")}function zF(t){return new et(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function HF(t){return new et(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function WF(){return new et(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NN+"' property when initializing the app?")}function PN(){return new et(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qF(){return new et(Ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function GF(){return new et(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function KF(t){return new et(Ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ug(t){return new et(Ue.INVALID_ARGUMENT,t)}function AN(){return new et(Ue.APP_DELETED,"The Firebase app was deleted.")}function YF(t){return new et(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tl(t,e){return new et(Ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bo(t){throw new et(Ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw HF(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},x=n===jN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${x}/${s}/${y}`,"i"),w=[{regex:l,indices:c,postModify:i},{regex:p,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<w.length;_++){const j=w[_],E=j.regex.exec(e);if(E){const I=E[j.indices.bucket];let b=E[j.indices.path];b||(b=""),r=new En(I,b),j.postModify(r);break}}if(r==null)throw zF(e);return r}}class QF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function h(y){s=setTimeout(()=>{s=null,t(p,c())},y)}function f(){i&&clearTimeout(i)}function p(y,...m){if(u){f();return}if(y){f(),d.call(null,y,...m);return}if(c()||a){f(),d.call(null,y,...m);return}r<64&&(r*=2);let w;l===1?(l=2,w=0):w=(r+Math.random())*1e3,h(w)}let g=!1;function x(y){g||(g=!0,f(),!u&&(s!==null?(y||(l=2),clearTimeout(s),h(0)):y||(l=1)))}return h(0),i=setTimeout(()=>{a=!0,x(!0)},n),x}function JF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){return t!==void 0}function eU(t){return typeof t=="function"}function tU(t){return typeof t=="object"&&!Array.isArray(t)}function cf(t){return typeof t=="string"||t instanceof String}function u0(t){return qy()&&t instanceof Blob}function qy(){return typeof Blob<"u"}function d0(t,e,n,r){if(r<e)throw ug(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ug(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function kN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ii||(Ii={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r,s,i,a,l,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===Ii.NO_ERROR,c=i.getStatus();if(!l||RN(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Ii.ABORT;r(!1,new vu(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new vu(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());ZF(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=Wy();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?AN():CN();a(c)}else{const c=IN();a(c)}};this.canceled_?n(!1,new vu(!1,null,!0)):this.backoffId_=XF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oU(t,e,n,r,s,i,a=!0){const l=kN(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return iU(u,e),rU(u,n),sU(u,i),aU(u,r),new nU(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cU(...t){const e=lU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(qy())return new Blob(t);throw new et(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){if(typeof atob>"u")throw KF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pp{constructor(e,n){this.data=e,this.contentType=n||null}}function hU(t,e){switch(t){case vr.RAW:return new pp(DN(e));case vr.BASE64:case vr.BASE64URL:return new pp(ON(t,e));case vr.DATA_URL:return new pp(pU(e),mU(e))}throw Wy()}function DN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fU(t){let e;try{e=decodeURIComponent(t)}catch{throw Tl(vr.DATA_URL,"Malformed data URL.")}return DN(e)}function ON(t,e){switch(t){case vr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Tl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case vr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Tl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=dU(e)}catch(s){throw s.message.includes("polyfill")?s:Tl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class LN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tl(vr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=gU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function pU(t){const e=new LN(t);return e.base64?ON(vr.BASE64,e.rest):fU(e.rest)}function mU(t){return new LN(t).contentType}function gU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){let r=0,s="";u0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(u0(this.data_)){const r=this.data_,s=uU(r,e,n);return s===null?null:new Vr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vr(r,!0)}}static getBlob(...e){if(qy()){const n=e.map(r=>r instanceof Vr?r.data_:r);return new Vr(cU.apply(null,n))}else{const n=e.map(a=>cf(a)?hU(vr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new Vr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){let e;try{e=JSON.parse(t)}catch{return null}return tU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function VN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e){return e}class Yt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||xU}}let yu=null;function wU(t){return!cf(t)||t.length<2?t:VN(t)}function Gy(){if(yu)return yu;const t=[];t.push(new Yt("bucket")),t.push(new Yt("generation")),t.push(new Yt("metageneration")),t.push(new Yt("name","fullPath",!0));function e(i,a){return wU(a)}const n=new Yt("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Yt("size");return s.xform=r,t.push(s),t.push(new Yt("timeCreated")),t.push(new Yt("updated")),t.push(new Yt("md5Hash",null,!0)),t.push(new Yt("cacheControl",null,!0)),t.push(new Yt("contentDisposition",null,!0)),t.push(new Yt("contentEncoding",null,!0)),t.push(new Yt("contentLanguage",null,!0)),t.push(new Yt("contentType",null,!0)),t.push(new Yt("metadata","customMetadata",!0)),yu=t,yu}function bU(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new En(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function _U(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return bU(r,t),r}function FN(t,e,n){const r=MN(e);return r===null?null:_U(t,r,n)}function EU(t,e,n,r){const s=MN(e);if(s===null||!cf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+a(d)+"/o/"+a(h),p=jo(f,n,r),g=kN({alt:"media",token:u});return p+g})[0]}function UN(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class oa{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){if(!t)throw Wy()}function Ky(t,e){function n(r,s){const i=FN(t,s,e);return qr(i!==null),i}return n}function TU(t,e){function n(r,s){const i=FN(t,s,e);return qr(i!==null),EU(i,s,t.host,t._protocol)}return n}function Fc(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=$F():s=UF():n.getStatus()===402?s=FF(t.bucket):n.getStatus()===403?s=BF(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Yy(t){const e=Fc(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=VF(t.path)),i.serverResponse=s.serverResponse,i}return n}function SU(t,e,n){const r=e.fullServerUrl(),s=jo(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new oa(s,i,Ky(t,n),a);return l.errorHandler=Yy(e),l}function jU(t,e,n){const r=e.fullServerUrl(),s=jo(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new oa(s,i,TU(t,n),a);return l.errorHandler=Yy(e),l}function NU(t,e){const n=e.fullServerUrl(),r=jo(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function a(c,u){}const l=new oa(r,s,a,i);return l.successCodes=[200,204],l.errorHandler=Yy(e),l}function IU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $N(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=IU(null,e)),r}function BN(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let w="";for(let _=0;_<2;_++)w=w+Math.random().toString().slice(2);return w}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=$N(e,r,s),d=UN(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=Vr.getBlob(h,r,f);if(p===null)throw PN();const g={name:u.fullPath},x=jo(i,t.host,t._protocol),y="POST",m=t.maxUploadRetryTime,v=new oa(x,y,Ky(t,n),m);return v.urlParams=g,v.headers=a,v.body=p.uploadData(),v.errorHandler=Fc(e),v}class Bd{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Qy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{qr(!1)}return qr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function CU(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a=$N(e,r,s),l={name:a.fullPath},c=jo(i,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=UN(a,n),f=t.maxUploadRetryTime;function p(x){Qy(x);let y;try{y=x.getResponseHeader("X-Goog-Upload-URL")}catch{qr(!1)}return qr(cf(y)),y}const g=new oa(c,u,p,f);return g.urlParams=l,g.headers=d,g.body=h,g.errorHandler=Fc(e),g}function PU(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const d=Qy(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qr(!1)}h||qr(!1);const f=Number(h);return qr(!isNaN(f)),new Bd(f,r.size(),d==="final")}const a="POST",l=t.maxUploadRetryTime,c=new oa(n,a,i,l);return c.headers=s,c.errorHandler=Fc(e),c}const h0=256*1024;function AU(t,e,n,r,s,i,a,l){const c=new Bd(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw qF();const u=c.total-c.current;let d=u;s>0&&(d=Math.min(d,s));const h=c.current,f=h+d;let p="";d===0?p="finalize":u===d?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},x=r.slice(h,f);if(x===null)throw PN();function y(_,j){const E=Qy(_,["active","final"]),I=c.current+d,b=r.size();let T;return E==="final"?T=Ky(e,i)(_,j):T=null,new Bd(I,b,E==="final",T)}const m="POST",v=e.maxUploadRetryTime,w=new oa(n,m,y,v);return w.headers=g,w.body=x.uploadData(),w.progressCallback=l||null,w.errorHandler=Fc(t),w}const an={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mp(t){switch(t){case"running":case"pausing":case"canceling":return an.RUNNING;case"paused":return an.PAUSED;case"success":return an.SUCCESS;case"canceled":return an.CANCELED;case"error":return an.ERROR;default:return an.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kU=class{constructor(e,n,r){if(eU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class RU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ii.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ii.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ii.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Bo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DU extends RU{initXhr(){this.xhr_.responseType="text"}}function ps(){return new DU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Gy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(RN(s.status,[]))if(i)s=IN();else{this.sleepTime=Math.max(this.sleepTime*2,MF),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ue.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=CU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ps,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=PU(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,ps,n,r);this._request=i,i.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=h0*this._chunkMultiplier,n=new Bd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let a;try{a=AU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(a,ps,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){h0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=SU(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,ps,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=BN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ps,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=CN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=mp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new kU(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(mp(this._state)){case an.SUCCESS:da(this._resolve.bind(null,this.snapshot))();break;case an.CANCELED:case an.ERROR:const n=this._reject;da(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(mp(this._state)){case an.RUNNING:case an.PAUSED:e.next&&da(e.next.bind(e,this.snapshot))();break;case an.SUCCESS:e.complete&&da(e.complete.bind(e))();break;case an.CANCELED:case an.ERROR:e.error&&da(e.error.bind(e,this._error))();break;default:e.error&&da(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hi(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VN(this._location.path)}get storage(){return this._service}get parent(){const e=vU(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new Hi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw YF(e)}}function LU(t,e,n){t._throwIfRoot("uploadBytes");const r=BN(t.storage,t._location,Gy(),new Vr(e,!0),n);return t.storage.makeRequestWithTokens(r,ps).then(s=>({metadata:s,ref:t}))}function MU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new OU(t,new Vr(e),n)}function VU(t){t._throwIfRoot("getDownloadURL");const e=jU(t.storage,t._location,Gy());return t.storage.makeRequestWithTokens(e,ps).then(n=>{if(n===null)throw GF();return n})}function FU(t){t._throwIfRoot("deleteObject");const e=NU(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ps)}function UU(t,e){const n=yU(t._location.path,e),r=new En(t._location.bucket,n);return new Hi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){return/^[A-Za-z]+:\/\//.test(t)}function BU(t,e){return new Hi(t,e)}function zN(t,e){if(t instanceof Xy){const n=t;if(n._bucket==null)throw WF();const r=new Hi(n,n._bucket);return e!=null?zN(r,e):r}else return e!==void 0?UU(t,e):t}function zU(t,e){if(e&&$U(e)){if(t instanceof Xy)return BU(t,e);throw ug("To use ref(service, url), the first argument must be a Storage instance.")}else return zN(t,e)}function f0(t,e){const n=e==null?void 0:e[NN];return n==null?null:En.makeFromBucketSpec(n,t)}function HU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:ES(s,t.app.options.projectId))}class Xy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=jN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OF,this._maxUploadRetryTime=LF,this._requests=new Set,s!=null?this._bucket=En.makeFromBucketSpec(s,this._host):this._bucket=f0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=f0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new QF(AN());{const a=oU(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const p0="@firebase/storage",m0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="storage";function ni(t,e,n){return t=Fe(t),LU(t,e,n)}function WU(t,e,n){return t=Fe(t),MU(t,e,n)}function ri(t){return t=Fe(t),VU(t)}function si(t){return t=Fe(t),FU(t)}function $e(t,e){return t=Fe(t),zU(t,e)}function qU(t=jh(),e){t=Fe(t);const r=Xs(t,HN).getImmediate({identifier:e}),s=wS("storage");return s&&GU(r,...s),r}function GU(t,e,n,r={}){HU(t,e,n,r)}function KU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Xy(n,r,s,e,ta)}function YU(){ar(new qn(HN,KU,"PUBLIC").setMultipleInstances(!0)),pn(p0,m0,""),pn(p0,m0,"esm2017")}YU();function Jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function WN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QU=WN,qN=new ea("auth","Firebase",WN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Sh("@firebase/auth");function XU(t,...e){zd.logLevel<=ye.WARN&&zd.warn(`Auth (${ta}): ${t}`,...e)}function Bu(t,...e){zd.logLevel<=ye.ERROR&&zd.error(`Auth (${ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw Zy(t,...e)}function Tr(t,...e){return Zy(t,...e)}function GN(t,e,n){const r=Object.assign(Object.assign({},QU()),{[e]:n});return new ea("auth","Firebase",r).create(e,{appName:t.name})}function JU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),GN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qN.create(t,...e)}function oe(t,e,...n){if(!t)throw Zy(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bu(e),new Error(e)}function es(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZU(){return g0()==="http:"||g0()==="https:"}function g0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZU()||TS()||"connection"in navigator)?navigator.onLine:!0}function t$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=UR()||BR()}get(){return e$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=new Uc(3e4,6e4);function ii(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ar(t,e,n,r,s={}){return YN(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=_c(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),KN.fetch()(QN(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function YN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n$),e);try{const s=new i$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw xu(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw xu(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw GN(t,d,u);Gn(t,d)}}catch(s){if(s instanceof Kn)throw s;Gn(t,"network-request-failed",{message:String(s)})}}async function uf(t,e,n,r,s={}){const i=await Ar(t,e,n,r,s);return"mfaPendingCredential"in i&&Gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function QN(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ex(t.config,s):`${t.config.apiScheme}://${s}`}function s$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),r$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Tr(t,e,r);return s.customData._tokenResponse=n,s}function v0(t){return t!==void 0&&t.enterprise!==void 0}class a${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function o$(t,e){return Ar(t,"GET","/v2/recaptchaConfig",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t,e){return Ar(t,"POST","/v1/accounts:delete",e)}async function c$(t,e){return Ar(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u$(t,e=!1){const n=Fe(t),r=await n.getIdToken(e),s=tx(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Sl(gp(s.auth_time)),issuedAtTime:Sl(gp(s.iat)),expirationTime:Sl(gp(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gp(t){return Number(t)*1e3}function tx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bu("JWT malformed, contained fewer than 3 sections"),null;try{const s=yS(n);return s?JSON.parse(s):(Bu("Failed to decode base64 JWT payload"),null)}catch(s){return Bu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function d$(t){const e=tx(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kn&&h$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await fo(t,c$(n,{idToken:r}));oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?g$(i.providerUserInfo):[],l=m$(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new XN(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function p$(t){const e=Fe(t);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function g$(t){return t.map(e=>{var{providerId:n}=e,r=Jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(t,e){const n=await YN(t,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=QN(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",KN.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y$(t,e){return Ar(t,"POST","/v2/accounts:revokeToken",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await v$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new oc;return r&&(oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oc,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new XN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u$(this,e)}reload(){return p$(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fo(this,l$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:_,isAnonymous:j,providerData:E,stsTokenManager:I}=n;oe(w&&I,e,"internal-error");const b=oc.fromJSON(this.name,I);oe(typeof w=="string",e,"internal-error"),as(h,e.name),as(f,e.name),oe(typeof _=="boolean",e,"internal-error"),oe(typeof j=="boolean",e,"internal-error"),as(p,e.name),as(g,e.name),as(x,e.name),as(y,e.name),as(m,e.name),as(v,e.name);const T=new Ci({uid:w,auth:e,email:f,emailVerified:_,displayName:h,isAnonymous:j,photoURL:g,phoneNumber:p,tenantId:x,stsTokenManager:b,createdAt:m,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map(S=>Object.assign({},S))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new oc;s.updateFromServerResponse(n);const i=new Ci({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hd(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function Hr(t){es(t instanceof Function,"Expected a class definition");let e=y0.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JN.type="NONE";const x0=JN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t,e,n){return`firebase:${t}:${e}:${n}`}class $a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=zu(this.userKey,s.apiKey,i),this.fullPersistenceKey=zu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $a(Hr(x0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Hr(x0);const a=zu(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){const h=Ci._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new $a(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new $a(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rI(e))return"Blackberry";if(sI(e))return"Webos";if(nx(e))return"Safari";if((e.includes("chrome/")||eI(e))&&!e.includes("edge/"))return"Chrome";if(nI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZN(t=dt()){return/firefox\//i.test(t)}function nx(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eI(t=dt()){return/crios\//i.test(t)}function tI(t=dt()){return/iemobile/i.test(t)}function nI(t=dt()){return/android/i.test(t)}function rI(t=dt()){return/blackberry/i.test(t)}function sI(t=dt()){return/webos/i.test(t)}function df(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x$(t=dt()){var e;return df(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w$(){return zR()&&document.documentMode===10}function iI(t=dt()){return df(t)||nI(t)||sI(t)||rI(t)||/windows phone/i.test(t)||tI(t)}function b$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e=[]){let n;switch(t){case"Browser":n=w0(dt());break;case"Worker":n=`${w0(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(t,e={}){return Ar(t,"GET","/v2/passwordPolicy",ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=6;class S${constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:T$,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new _$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Fe(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E$(this),n=new S$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ea("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ai(t){return Fe(t)}class b0{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N$(t){hf=t}function oI(t){return hf.loadJS(t)}function I$(){return hf.recaptchaEnterpriseScript}function C$(){return hf.gapiScript}function P$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const A$="recaptcha-enterprise",k$="NO_RECAPTCHA";class R${constructor(e){this.type=A$,this.auth=ai(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{o$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new a$(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;v0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(k$)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&v0(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=I$();c.length!==0&&(c+=l),oI(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function _0(t,e,n,r=!1){const s=new R$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await _0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await _0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t,e){const n=Xs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Li(i,e??{}))return s;Gn(s,"already-initialized")}return n.initialize({options:e})}function O$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function L$(t,e,n){const r=ai(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=lI(e),{host:a,port:l}=M$(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||V$()}function lI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M$(t){const e=lI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:E0(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:E0(a)}}}function E0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function F$(t,e){return Ar(t,"POST","/v1/accounts:update",e)}async function U$(t,e){return Ar(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(t,e){return uf(t,"POST","/v1/accounts:signInWithPassword",ii(t,e))}async function B$(t,e){return Ar(t,"POST","/v1/accounts:sendOobCode",ii(t,e))}async function z$(t,e){return B$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}async function W$(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends rx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,n,"signInWithPassword",$$);case"emailLink":return H$(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,r,"signUpPassword",U$);case"emailLink":return W$(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e){return uf(t,"POST","/v1/accounts:signInWithIdp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="http://localhost";class Wi extends rx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Jy(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Wi(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:q$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K$(t){const e=el(tl(t)).link,n=e?el(tl(e)).deep_link_id:null,r=el(tl(t)).deep_link_id;return(r?el(tl(r)).link:null)||r||n||e||t}class sx{constructor(e){var n,r,s,i,a,l;const c=el(tl(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=G$((s=c.mode)!==null&&s!==void 0?s:null);oe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=K$(e);try{return new sx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sx.parseLink(n);return oe(r,"argument-error"),lc._fromEmailAndCode(e,r.code,r.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends $c{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wi._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends $c{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends $c{constructor(){super("twitter.com")}static credential(e,n){return Wi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vs.credential(n,r)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ci._fromIdTokenResponse(e,r,s),a=T0(r);return new po({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=T0(r);return new po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function T0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Kn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Wd(e,n,r,s)}}function cI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(t,i,e,r):i})}async function Y$(t,e,n=!1){const r=await fo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await fo(t,cI(r,s,e,t),n);oe(i.idToken,r,"internal-error");const a=tx(i.idToken);oe(a,r,"internal-error");const{sub:l}=a;return oe(t.uid===l,r,"user-mismatch"),po._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t,e,n=!1){const r="signIn",s=await cI(t,r,e),i=await po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function X$(t,e){return uI(ai(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t,e,n){var r;oe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(oe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(t){const e=ai(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e4(t,e,n){const r=ai(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&J$(r,s,n),await hg(r,s,"getOobCode",z$)}function t4(t,e,n){return X$(Fe(t),No.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z$(t),r})}function n4(t,e){return r4(Fe(t),null,e)}async function r4(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const a=await fo(t,F$(r,i));await t._updateTokensIfNecessary(a,!0)}function s4(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function i4(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}const qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){const t=dt();return nx(t)||df(t)}const o4=1e3,l4=10;class hI extends dI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=a4()&&b$(),this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);w$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,l4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hI.type="LOCAL";const c4=hI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends dI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fI.type="SESSION";const pI=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await u4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=ax("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function h4(t){Sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function f4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m4(){return mI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebaseLocalStorageDb",g4=1,Gd="firebaseLocalStorage",vI="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function v4(){const t=indexedDB.deleteDatabase(gI);return new Bc(t).toPromise()}function fg(){const t=indexedDB.open(gI,g4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gd,{keyPath:vI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gd)?e(r):(r.close(),await v4(),e(await fg()))})})}async function S0(t,e,n){const r=pf(t,!0).put({[vI]:e,value:n});return new Bc(r).toPromise()}async function y4(t,e){const n=pf(t,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function j0(t,e){const n=pf(t,!0).delete(e);return new Bc(n).toPromise()}const x4=800,w4=3;class yI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>w4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(m4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f4(),!this.activeServiceWorker)return;this.sender=new d4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fg();return await S0(e,qd,"1"),await j0(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>y4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=pf(s,!1).getAll();return new Bc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yI.type="LOCAL";const b4=yI;new Uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e){return e?Hr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends rx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _4(t){return uI(t.auth,new ox(t),t.bypassAuthState)}function E4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Q$(n,new ox(t),t.bypassAuthState)}async function T4(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Y$(n,new ox(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _4;case"linkViaPopup":case"linkViaRedirect":return T4;case"reauthViaPopup":case"reauthViaRedirect":return E4;default:Gn(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Uc(2e3,1e4);async function j4(t,e,n){const r=ai(t);JU(t,e,ix);const s=xI(r,n);return new Ei(r,"signInViaPopup",e,s).executeNotNull()}class Ei extends wI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=ax();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S4.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="pendingRedirect",Hu=new Map;class I4 extends wI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hu.get(this.auth._key());if(!e){try{const r=await C4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hu.set(this.auth._key(),e)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C4(t,e){const n=k4(e),r=A4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function P4(t,e){Hu.set(t._key(),e)}function A4(t){return Hr(t._redirectPersistence)}function k4(t){return zu(N4,t.config.apiKey,t.name)}async function R4(t,e,n=!1){const r=ai(t),s=xI(r,e),a=await new I4(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=10*60*1e3;class O4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D4&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e={}){return Ar(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F4=/^https?/;async function U4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await M4(t);for(const n of e)try{if($4(n))return}catch{}Gn(t,"unauthorized-domain")}function $4(t){const e=dg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!F4.test(n))return!1;if(V4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Uc(3e4,6e4);function I0(){const t=Sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function z4(t){return new Promise((e,n)=>{var r,s,i;function a(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(Tr(t,"network-request-failed"))},timeout:B4.get()})}if(!((s=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Sr().gapi)===null||i===void 0)&&i.load)a();else{const l=P$("iframefcb");return Sr()[l]=()=>{gapi.load?a():n(Tr(t,"network-request-failed"))},oI(`${C$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Wu=null,e})}let Wu=null;function H4(t){return Wu=Wu||z4(t),Wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new Uc(5e3,15e3),q4="__/auth/iframe",G4="emulator/auth/iframe",K4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q4(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ex(e,G4):`https://${t.config.authDomain}/${q4}`,r={apiKey:e.apiKey,appName:t.name,v:ta},s=Y4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_c(r).slice(1)}`}async function X4(t){const e=await H4(t),n=Sr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Q4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Tr(t,"network-request-failed"),l=Sr().setTimeout(()=>{i(a)},W4.get());function c(){Sr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z4=500,e3=600,t3="_blank",n3="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r3(t,e,n,r=Z4,s=e3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},J4),{width:r.toString(),height:s.toString(),top:i,left:a}),u=dt().toLowerCase();n&&(l=eI(u)?t3:n),ZN(u)&&(e=e||n3,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(x$(u)&&l!=="_self")return s3(e||"",l),new C0(null);const h=window.open(e||"",l,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new C0(h)}function s3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="__/auth/handler",a3="emulator/auth/handler",o3=encodeURIComponent("fac");async function P0(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ta,eventId:s};if(e instanceof ix){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",YR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))a[d]=h}if(e instanceof $c){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${o3}=${encodeURIComponent(c)}`:"";return`${l3(t)}?${_c(l).slice(1)}${u}`}function l3({config:t}){return t.emulator?ex(t,a3):`https://${t.authDomain}/${i3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class c3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pI,this._completeRedirectFn=R4,this._overrideRedirectResult=P4}async _openPopup(e,n,r,s){var i;es((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await P0(e,n,r,dg(),s);return r3(e,a,ax())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await P0(e,n,r,dg(),s);return h4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(es(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await X4(e),r=new O4(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vp,{type:vp},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[vp];a!==void 0&&n(!!a),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=U4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iI()||nx()||df()}}const u3=c3;var A0="@firebase/auth",k0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f3(t){ar(new qn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;oe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aI(t)},u=new j$(r,s,i,c);return O$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new qn("auth-internal",e=>{const n=ai(e.getProvider("auth").getImmediate());return(r=>new d3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(A0,k0,h3(t)),pn(A0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=5*60,m3=_S("authIdTokenMaxAge")||p3;let R0=null;const g3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m3)return;const s=n==null?void 0:n.token;R0!==s&&(R0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function v3(t=jh()){const e=Xs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D$(t,{popupRedirectResolver:u3,persistence:[b4,c4,pI]}),r=_S("authTokenSyncURL");if(r){const i=g3(r);i4(n,i,()=>i(n.currentUser)),s4(n,a=>i(a))}const s=xS("auth");return s&&L$(n,`http://${s}`),n}function y3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Tr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",y3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f3("Browser");const x3={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},lx=CS(x3),Be=qU(lx);AF(lx);const ie=XV(lx),Ti=v3(),w3=new Fr;function tr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ws(t){return!!t&&!!t[Ge]}function ts(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===C3}(t)||Array.isArray(t)||!!t[U0]||!!(!((e=t.constructor)===null||e===void 0)&&e[U0])||cx(t)||ux(t))}function qi(t,e,n){n===void 0&&(n=!1),Io(t)===0?(n?Object.keys:Ha)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Io(t){var e=t[Ge];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:cx(t)?2:ux(t)?3:0}function za(t,e){return Io(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function b3(t,e){return Io(t)===2?t.get(e):t[e]}function _I(t,e,n){var r=Io(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function EI(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function cx(t){return N3&&t instanceof Map}function ux(t){return I3&&t instanceof Set}function hi(t){return t.o||t.t}function dx(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=SI(t);delete e[Ge];for(var n=Ha(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function hx(t,e){return e===void 0&&(e=!1),fx(t)||Ws(t)||!ts(t)||(Io(t)>1&&(t.set=t.add=t.clear=t.delete=_3),Object.freeze(t),e&&qi(t,function(n,r){return hx(r,!0)},!0)),t}function _3(){tr(2)}function fx(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function jr(t){var e=vg[t];return e||tr(18,t),e}function E3(t,e){vg[t]||(vg[t]=e)}function pg(){return cc}function yp(t,e){e&&(jr("Patches"),t.u=[],t.s=[],t.v=e)}function Kd(t){mg(t),t.p.forEach(T3),t.p=null}function mg(t){t===cc&&(cc=t.l)}function D0(t){return cc={p:[],l:cc,h:t,m:!0,_:0}}function T3(t){var e=t[Ge];e.i===0||e.i===1?e.j():e.g=!0}function xp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||jr("ES5").S(e,t,r),r?(n[Ge].P&&(Kd(e),tr(4)),ts(t)&&(t=Yd(e,t),e.l||Qd(e,t)),e.u&&jr("Patches").M(n[Ge].t,t,e.u,e.s)):t=Yd(e,n,[]),Kd(e),e.u&&e.v(e.u,e.s),t!==TI?t:void 0}function Yd(t,e,n){if(fx(e))return e;var r=e[Ge];if(!r)return qi(e,function(l,c){return O0(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Qd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=dx(r.k):r.o,i=s,a=!1;r.i===3&&(i=new Set(s),s.clear(),a=!0),qi(i,function(l,c){return O0(t,r,s,l,c,n,a)}),Qd(t,s,!1),n&&t.u&&jr("Patches").N(r,n,t.u,t.s)}return r.o}function O0(t,e,n,r,s,i,a){if(Ws(s)){var l=Yd(t,s,i&&e&&e.i!==3&&!za(e.R,r)?i.concat(r):void 0);if(_I(n,r,l),!Ws(l))return;t.m=!1}else a&&n.add(s);if(ts(s)&&!fx(s)){if(!t.h.D&&t._<1)return;Yd(t,s),e&&e.A.l||Qd(t,s)}}function Qd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&hx(e,n)}function wp(t,e){var n=t[Ge];return(n?hi(n):t)[e]}function L0(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ys(t){t.P||(t.P=!0,t.l&&ys(t.l))}function bp(t){t.o||(t.o=dx(t.t))}function gg(t,e,n){var r=cx(e)?jr("MapSet").F(e,n):ux(e)?jr("MapSet").T(e,n):t.O?function(s,i){var a=Array.isArray(s),l={i:a?1:0,A:i?i.A:pg(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},c=l,u=uc;a&&(c=[l],u=ol);var d=Proxy.revocable(c,u),h=d.revoke,f=d.proxy;return l.k=f,l.j=h,f}(e,n):jr("ES5").J(e,n);return(n?n.A:pg()).p.push(r),r}function S3(t){return Ws(t)||tr(22,t),function e(n){if(!ts(n))return n;var r,s=n[Ge],i=Io(n);if(s){if(!s.P&&(s.i<4||!jr("ES5").K(s)))return s.t;s.I=!0,r=M0(n,i),s.I=!1}else r=M0(n,i);return qi(r,function(a,l){s&&b3(s.t,a)===l||_I(r,a,e(l))}),i===3?new Set(r):r}(t)}function M0(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return dx(t)}function j3(){function t(i,a){var l=s[i];return l?l.enumerable=a:s[i]=l={configurable:!0,enumerable:a,get:function(){var c=this[Ge];return uc.get(c,i)},set:function(c){var u=this[Ge];uc.set(u,i,c)}},l}function e(i){for(var a=i.length-1;a>=0;a--){var l=i[a][Ge];if(!l.P)switch(l.i){case 5:r(l)&&ys(l);break;case 4:n(l)&&ys(l)}}}function n(i){for(var a=i.t,l=i.k,c=Ha(l),u=c.length-1;u>=0;u--){var d=c[u];if(d!==Ge){var h=a[d];if(h===void 0&&!za(a,d))return!0;var f=l[d],p=f&&f[Ge];if(p?p.t!==h:!EI(f,h))return!0}}var g=!!a[Ge];return c.length!==Ha(a).length+(g?0:1)}function r(i){var a=i.k;if(a.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(a,a.length-1);if(l&&!l.get)return!0;for(var c=0;c<a.length;c++)if(!a.hasOwnProperty(c))return!0;return!1}var s={};E3("ES5",{J:function(i,a){var l=Array.isArray(i),c=function(d,h){if(d){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=SI(h);delete g[Ge];for(var x=Ha(g),y=0;y<x.length;y++){var m=x[y];g[m]=t(m,d||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,i),u={i:l?5:4,A:a?a.A:pg(),P:!1,I:!1,R:{},l:a,t:i,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Ge,{value:u,writable:!0}),c},S:function(i,a,l){l?Ws(a)&&a[Ge].A===i&&e(i.p):(i.u&&function c(u){if(u&&typeof u=="object"){var d=u[Ge];if(d){var h=d.t,f=d.k,p=d.R,g=d.i;if(g===4)qi(f,function(w){w!==Ge&&(h[w]!==void 0||za(h,w)?p[w]||c(f[w]):(p[w]=!0,ys(d)))}),qi(h,function(w){f[w]!==void 0||za(f,w)||(p[w]=!1,ys(d))});else if(g===5){if(r(d)&&(ys(d),p.length=!0),f.length<h.length)for(var x=f.length;x<h.length;x++)p[x]=!1;else for(var y=h.length;y<f.length;y++)p[y]=!0;for(var m=Math.min(f.length,h.length),v=0;v<m;v++)f.hasOwnProperty(v)||(p[v]=!0),p[v]===void 0&&c(f[v])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var V0,cc,px=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",N3=typeof Map<"u",I3=typeof Set<"u",F0=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",TI=px?Symbol.for("immer-nothing"):((V0={})["immer-nothing"]=!0,V0),U0=px?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=px?Symbol.for("immer-state"):"__$immer_state",C3=""+Object.prototype.constructor,Ha=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,SI=Object.getOwnPropertyDescriptors||function(t){var e={};return Ha(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},vg={},uc={get:function(t,e){if(e===Ge)return t;var n=hi(t);if(!za(n,e))return function(s,i,a){var l,c=L0(i,a);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!ts(r)?r:r===wp(t.t,e)?(bp(t),t.o[e]=gg(t.A.h,r,t)):r},has:function(t,e){return e in hi(t)},ownKeys:function(t){return Reflect.ownKeys(hi(t))},set:function(t,e,n){var r=L0(hi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=wp(hi(t),e),i=s==null?void 0:s[Ge];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(EI(n,s)&&(n!==void 0||za(t.t,e)))return!0;bp(t),ys(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return wp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,bp(t),ys(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=hi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){tr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){tr(12)}},ol={};qi(uc,function(t,e){ol[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ol.deleteProperty=function(t,e){return ol.set.call(this,t,e,void 0)},ol.set=function(t,e,n){return uc.set.call(this,t[0],e,n,t[0])};var P3=function(){function t(n){var r=this;this.O=F0,this.D=!0,this.produce=function(s,i,a){if(typeof s=="function"&&typeof i!="function"){var l=i;i=s;var c=r;return function(x){var y=this;x===void 0&&(x=l);for(var m=arguments.length,v=Array(m>1?m-1:0),w=1;w<m;w++)v[w-1]=arguments[w];return c.produce(x,function(_){var j;return(j=i).call.apply(j,[y,_].concat(v))})}}var u;if(typeof i!="function"&&tr(6),a!==void 0&&typeof a!="function"&&tr(7),ts(s)){var d=D0(r),h=gg(r,s,void 0),f=!0;try{u=i(h),f=!1}finally{f?Kd(d):mg(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(x){return yp(d,a),xp(x,d)},function(x){throw Kd(d),x}):(yp(d,a),xp(u,d))}if(!s||typeof s!="object"){if((u=i(s))===void 0&&(u=s),u===TI&&(u=void 0),r.D&&hx(u,!0),a){var p=[],g=[];jr("Patches").M(s,u,p,g),a(p,g)}return u}tr(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(u){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return s.apply(void 0,[p].concat(h))})};var a,l,c=r.produce(s,i,function(u,d){a=u,l=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,a,l]}):[c,a,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ts(n)||tr(8),Ws(n)&&(n=S3(n));var r=D0(this),s=gg(this,n,void 0);return s[Ge].C=!0,mg(r),s},e.finishDraft=function(n,r){var s=n&&n[Ge],i=s.A;return yp(i,r),xp(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!F0&&tr(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var a=jr("Patches").$;return Ws(n)?a(n,r):this.produce(n,function(l){return a(l,r)})},t}(),Cn=new P3,jI=Cn.produce;Cn.produceWithPatches.bind(Cn);Cn.setAutoFreeze.bind(Cn);Cn.setUseProxies.bind(Cn);Cn.applyPatches.bind(Cn);Cn.createDraft.bind(Cn);Cn.finishDraft.bind(Cn);function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function A3(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k3(t){var e=A3(t,"string");return dc(e)=="symbol"?e:String(e)}function R3(t,e,n){return e=k3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function B0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$0(Object(n),!0).forEach(function(r){R3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var z0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_p=function(){return Math.random().toString(36).substring(7).split("").join(".")},Xd={INIT:"@@redux/INIT"+_p(),REPLACE:"@@redux/REPLACE"+_p(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_p()}};function D3(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function mx(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lt(1));return n(mx)(t,e)}if(typeof t!="function")throw new Error(Lt(2));var s=t,i=e,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function d(){if(c)throw new Error(Lt(3));return i}function h(x){if(typeof x!="function")throw new Error(Lt(4));if(c)throw new Error(Lt(5));var y=!0;return u(),l.push(x),function(){if(y){if(c)throw new Error(Lt(6));y=!1,u();var v=l.indexOf(x);l.splice(v,1),a=null}}}function f(x){if(!D3(x))throw new Error(Lt(7));if(typeof x.type>"u")throw new Error(Lt(8));if(c)throw new Error(Lt(9));try{c=!0,i=s(i,x)}finally{c=!1}for(var y=a=l,m=0;m<y.length;m++){var v=y[m];v()}return x}function p(x){if(typeof x!="function")throw new Error(Lt(10));s=x,f({type:Xd.REPLACE})}function g(){var x,y=h;return x={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Lt(11));function w(){v.next&&v.next(d())}w();var _=y(w);return{unsubscribe:_}}},x[z0]=function(){return this},x}return f({type:Xd.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:p},r[z0]=g,r}function O3(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Xd.INIT});if(typeof r>"u")throw new Error(Lt(12));if(typeof n(void 0,{type:Xd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lt(13))})}function NI(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),a;try{O3(n)}catch(l){a=l}return function(c,u){if(c===void 0&&(c={}),a)throw a;for(var d=!1,h={},f=0;f<i.length;f++){var p=i[f],g=n[p],x=c[p],y=g(x,u);if(typeof y>"u")throw u&&u.type,new Error(Lt(14));h[p]=y,d=d||y!==x}return d=d||i.length!==Object.keys(c).length,d?h:c}}function Jd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function L3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(Lt(15))},a={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(a)});return i=Jd.apply(void 0,l)(s.dispatch),B0(B0({},s),{},{dispatch:i})}}}function II(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(a){return function(l){return typeof l=="function"?l(s,i,t):a(l)}}};return e}var CI=II();CI.withExtraArgument=II;const yg=CI;var PI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),M3=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},mo=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},V3=Object.defineProperty,F3=Object.defineProperties,U3=Object.getOwnPropertyDescriptors,H0=Object.getOwnPropertySymbols,$3=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable,W0=function(t,e,n){return e in t?V3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Vs=function(t,e){for(var n in e||(e={}))$3.call(e,n)&&W0(t,n,e[n]);if(H0)for(var r=0,s=H0(e);r<s.length;r++){var n=s[r];B3.call(e,n)&&W0(t,n,e[n])}return t},Ep=function(t,e){return F3(t,U3(e))},z3=function(t,e,n){return new Promise(function(r,s){var i=function(c){try{l(n.next(c))}catch(u){s(u)}},a=function(c){try{l(n.throw(c))}catch(u){s(u)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(i,a)};l((n=n.apply(t,e)).next())})},H3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jd:Jd.apply(null,arguments)};function W3(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function Fs(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return Vs(Vs({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var q3=function(t){PI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,mo([void 0],n[0].concat(this)))):new(e.bind.apply(e,mo([void 0],n.concat(this))))},e}(Array),G3=function(t){PI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,mo([void 0],n[0].concat(this)))):new(e.bind.apply(e,mo([void 0],n.concat(this))))},e}(Array);function xg(t){return ts(t)?jI(t,function(){}):t}function K3(t){return typeof t=="boolean"}function Y3(){return function(e){return Q3(e)}}function Q3(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new q3;return n&&(K3(n)?r.push(yg):r.push(yg.withExtraArgument(n.extraArgument))),r}var X3=!0;function J3(t){var e=Y3(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,a=i===void 0?e():i,l=n.devTools,c=l===void 0?!0:l,u=n.preloadedState,d=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof s=="function")p=s;else if(W3(s))p=NI(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=a;typeof g=="function"&&(g=g(e));var x=L3.apply(void 0,g),y=Jd;c&&(y=H3(Vs({trace:!X3},typeof c=="object"&&c)));var m=new G3(x),v=m;Array.isArray(f)?v=mo([x],f):typeof f=="function"&&(v=f(m));var w=y.apply(void 0,v);return mx(p,d,w)}function AI(t){var e={},n=[],r,s={addCase:function(i,a){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=a,s},addMatcher:function(i,a){return n.push({matcher:i,reducer:a}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function Z3(t){return typeof t=="function"}function eB(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?AI(e):[e,n,r],i=s[0],a=s[1],l=s[2],c;if(Z3(t))c=function(){return xg(t())};else{var u=xg(t);c=function(){return u}}function d(h,f){h===void 0&&(h=c());var p=mo([i[f.type]],a.filter(function(g){var x=g.matcher;return x(f)}).map(function(g){var x=g.reducer;return x}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,x){if(x)if(Ws(g)){var y=g,m=x(y,f);return m===void 0?g:m}else{if(ts(g))return jI(g,function(v){return x(v,f)});var m=x(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return d.getInitialState=c,d}function tB(t,e){return t+"/"+e}function Wt(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:xg(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},a={},l={};s.forEach(function(d){var h=r[d],f=tB(e,d),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,i[d]=p,a[f]=p,l[d]=g?Fs(f,g):Fs(f)});function c(){var d=typeof t.extraReducers=="function"?AI(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,p=d[1],g=p===void 0?[]:p,x=d[2],y=x===void 0?void 0:x,m=Vs(Vs({},f),a);return eB(n,function(v){for(var w in m)v.addCase(w,m[w]);for(var _=0,j=g;_<j.length;_++){var E=j[_];v.addMatcher(E.matcher,E.reducer)}y&&v.addDefaultCase(y)})}var u;return{name:e,reducer:function(d,h){return u||(u=c()),u(d,h)},actions:l,caseReducers:i,getInitialState:function(){return u||(u=c()),u.getInitialState()}}}var nB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rB=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=nB[Math.random()*64|0];return e},sB=["name","message","stack","code"],Tp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),q0=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),iB=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=sB;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=Fs(e+"/fulfilled",function(u,d,h,f){return{payload:u,meta:Ep(Vs({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),i=Fs(e+"/pending",function(u,d,h){return{payload:void 0,meta:Ep(Vs({},h||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),a=Fs(e+"/rejected",function(u,d,h,f,p){return{payload:f,error:(r&&r.serializeError||iB)(u||"Rejected"),meta:Ep(Vs({},p||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function c(u){return function(d,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):rB(),g=new l,x;function y(v){x=v,g.abort()}var m=function(){return z3(this,null,function(){var v,w,_,j,E,I,b;return M3(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),j=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:h,extra:f}),oB(j)?[4,j]:[3,2];case 1:j=T.sent(),T.label=2;case 2:if(j===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(S,P){return g.signal.addEventListener("abort",function(){return P({name:"AbortError",message:x||"Aborted"})})}),d(i(p,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:p,arg:u},{getState:h,extra:f}))),[4,Promise.race([E,Promise.resolve(n(u,{dispatch:d,getState:h,extra:f,requestId:p,signal:g.signal,abort:y,rejectWithValue:function(S,P){return new Tp(S,P)},fulfillWithValue:function(S,P){return new q0(S,P)}})).then(function(S){if(S instanceof Tp)throw S;return S instanceof q0?s(S.payload,p,u,S.meta):s(S,p,u)})])];case 3:return _=T.sent(),[3,5];case 4:return I=T.sent(),_=I instanceof Tp?a(null,p,u,I.payload,I.meta):a(I,p,u),[3,5];case 5:return b=r&&!r.dispatchConditionRejection&&a.match(_)&&_.meta.condition,b||d(_),[2,_]}})})}();return Object.assign(m,{abort:y,requestId:p,arg:u,unwrap:function(){return m.then(aB)}})}}return Object.assign(c,{pending:i,rejected:a,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function aB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function oB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var gx="listenerMiddleware";Fs(gx+"/add");Fs(gx+"/removeAll");Fs(gx+"/remove");var G0;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);j3();const Sp={data:{name:"",email:"",designation:"",token:"",message:""},isLoading:!1,isSuccessful:!1,isExpired:!1,error:{}},lB=Wt({name:"UserAuth",initialState:Sp,reducers:{getUserAuthRequestAction:(t,e)=>{console.log(e),t.isLoading=!0},getTokenExpiredAction:(t,e)=>{console.log(e),t.isExpired=!0,t.isLoading=!0},getUserAuthExpiredTokenAction:(t,e)=>{t.data.token.access=e.payload,t.isLoading=!1,t.result={},t.isSuccessful=!1,t.isExpired=!1},getUserAuthSuccessAction:(t,e)=>{t.data=e.payload,t.isLoading=!1,t.result={},t.isSuccessful=!0,t.isExpired=!1},getUserAuthFailedAction:(t,e)=>{t.isSuccessful=!1,t.isLoading=!1,t.result=e.payload,t.isExpired=!1,t.data=Sp.data},getUserAuthLogoutAction:t=>{t.isSuccessful=!1,t.isLoading=!1,t.data=Sp.data,t.error={},t.isExpired=!1}}}),K0={data:[]},kI=Wt({name:"News",initialState:K0,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=K0.data}}}),{getNewsSuccessAction:cB,getNewsFailedAction:xW}=kI.actions,Y0={data:[]},RI=Wt({name:"Slider",initialState:Y0,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=Y0.data}}}),{getSliderSuccessAction:uB,getSliderFailedAction:wW}=RI.actions,Q0={data:[]},DI=Wt({name:"Publications",initialState:Q0,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=Q0.data}}}),{getPublicationsSuccessAction:dB,getPublicationsFailedAction:bW}=DI.actions,X0={data:[]},OI=Wt({name:"Supervisors",initialState:X0,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=X0.data}}}),{getSupervisorsSuccessAction:hB,getSupervisorsFailedAction:_W}=OI.actions,J0={data:[]},LI=Wt({name:"Phd",initialState:J0,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=J0.data}}}),{getPhdSuccessAction:fB,getPhdFailedAction:EW}=LI.actions,Z0={data:[]},MI=Wt({name:"PHUG",initialState:Z0,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=Z0.data}}}),{getPHUGSuccessAction:pB,getPHUGFailedAction:TW}=MI.actions,e_={data:[]},VI=Wt({name:"VisitorsAndInterns",initialState:e_,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=e_.data}}}),{getVisitorsAndInternsSuccessAction:mB,getVisitorsAndInternsFailedAction:SW}=VI.actions,t_={data:[]},FI=Wt({name:"Datasets",initialState:t_,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=t_.data}}}),{getDatasetsSuccessAction:gB,getDatasetsFailedAction:jW}=FI.actions,n_={data:[]},UI=Wt({name:"ResearchArea",initialState:n_,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=n_.data}}}),{getResearchAreaSuccessAction:vB,getResearchAreaFailedAction:NW}=UI.actions,r_={data:[]},$I=Wt({name:"SubAreas",initialState:r_,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=r_.data}}}),{getSubAreasSuccessAction:yB,getSubAreasFailedAction:IW}=$I.actions,s_={data:[]},BI=Wt({name:"ProjectsItems",initialState:s_,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=s_.data}}}),{getProjectsItemsSuccessAction:xB,getProjectsItemsFailedAction:CW}=BI.actions,i_={data:[]},zI=Wt({name:"ProjectsMain",initialState:i_,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=i_.data}}}),{getProjectsMainSuccessAction:wB,getProjectsMainFailedAction:PW}=zI.actions,a_={data:[]},HI=Wt({name:"Gallery",initialState:a_,reducers:{getGallerySuccessAction:(t,e)=>{t.data=e.payload},getGalleryFailedAction:t=>{t.data=a_.data}}}),{getGallerySuccessAction:bB,getGalleryFailedAction:AW}=HI.actions,o_={data:[]},WI=Wt({name:"Datasets",initialState:o_,reducers:{getAlertsSuccessAction:(t,e)=>{t.data=e.payload},getAlertsFailedAction:t=>{t.data=o_.data}}}),{getAlertsSuccessAction:us,getAlertsFailedAction:kW}=WI.actions,l_={data:[]},qI=Wt({name:"ProjectsImages",initialState:l_,reducers:{getProjectsImagesSuccessAction:(t,e)=>{t.data=e.payload},getProjectsImagesFailedAction:t=>{t.data=l_.data}}}),{getProjectsImagesSuccessAction:_B,getProjectsImagesFailedAction:RW}=qI.actions,EB=NI({getauth:lB.reducer,getnews:kI.reducer,getslider:RI.reducer,getpublications:DI.reducer,getsupervisors:OI.reducer,getphdStudents:LI.reducer,getpgugStudents:MI.reducer,getvisitorsandinterns:VI.reducer,getdatasets:FI.reducer,getresearcharea:UI.reducer,getsubareas:$I.reducer,getprojectitems:BI.reducer,getprojectsmain:zI.reducer,getgallery:HI.reducer,getalerts:WI.reducer,getprojectsimages:qI.reducer});var vx="persist:",GI="persist/FLUSH",yx="persist/REHYDRATE",KI="persist/PAUSE",YI="persist/PERSIST",QI="persist/PURGE",XI="persist/REGISTER",TB=-1;function qu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(n){return typeof n}:qu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qu(t)}function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function SB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c_(n,!0).forEach(function(r){jB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NB(t,e,n,r){r.debug;var s=SB({},n);return t&&qu(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function IB(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:vx).concat(t.key),a=t.storage,l;t.serialize===!1?l=function(j){return j}:typeof t.serialize=="function"?l=t.serialize:l=CB;var c=t.writeFailHandler||null,u={},d={},h=[],f=null,p=null,g=function(j){Object.keys(j).forEach(function(E){m(E)&&u[E]!==j[E]&&h.indexOf(E)===-1&&h.push(E)}),Object.keys(u).forEach(function(E){j[E]===void 0&&m(E)&&h.indexOf(E)===-1&&u[E]!==void 0&&h.push(E)}),f===null&&(f=setInterval(x,s)),u=j};function x(){if(h.length===0){f&&clearInterval(f),f=null;return}var _=h.shift(),j=r.reduce(function(E,I){return I.in(E,_,u)},u[_]);if(j!==void 0)try{d[_]=l(j)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete d[_];h.length===0&&y()}function y(){Object.keys(d).forEach(function(_){u[_]===void 0&&delete d[_]}),p=a.setItem(i,l(d)).catch(v)}function m(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function v(_){c&&c(_)}var w=function(){for(;h.length!==0;)x();return p||Promise.resolve()};return{update:g,flush:w}}function CB(t){return JSON.stringify(t)}function PB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:vx).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(a){return a}:typeof t.deserialize=="function"?s=t.deserialize:s=AB,r.getItem(n).then(function(i){if(i)try{var a={},l=s(i);return Object.keys(l).forEach(function(c){a[c]=e.reduceRight(function(u,d){return d.out(u,c,l)},s(l[c]))}),a}catch(c){throw c}else return})}function AB(t){return JSON.parse(t)}function kB(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:vx).concat(t.key);return e.removeItem(n,RB)}function RB(t){}function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(n,!0).forEach(function(r){DB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OB(t,e){if(t==null)return{};var n=LB(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var MB=5e3;function VB(t,e){var n=t.version!==void 0?t.version:TB;t.debug;var r=t.stateReconciler===void 0?NB:t.stateReconciler,s=t.getStoredState||PB,i=t.timeout!==void 0?t.timeout:MB,a=null,l=!1,c=!0,u=function(h){return h._persist.rehydrated&&a&&!c&&a.update(h),h};return function(d,h){var f=d||{},p=f._persist,g=OB(f,["_persist"]),x=g;if(h.type===YI){var y=!1,m=function(b,T){y||(h.rehydrate(t.key,b,T),y=!0)};if(i&&setTimeout(function(){!y&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,a||(a=IB(t)),p)return Rr({},e(x,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(I){var b=t.migrate||function(T,S){return Promise.resolve(T)};b(I,n).then(function(T){m(T)},function(T){m(void 0,T)})},function(I){m(void 0,I)}),Rr({},e(x,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===QI)return l=!0,h.result(kB(t)),Rr({},e(x,h),{_persist:p});if(h.type===GI)return h.result(a&&a.flush()),Rr({},e(x,h),{_persist:p});if(h.type===KI)c=!0;else if(h.type===yx){if(l)return Rr({},x,{_persist:Rr({},p,{rehydrated:!0})});if(h.key===t.key){var v=e(x,h),w=h.payload,_=r!==!1&&w!==void 0?r(w,d,v,t):v,j=Rr({},_,{_persist:Rr({},p,{rehydrated:!0})});return u(j)}}}if(!p)return e(d,h);var E=e(x,h);return E===x?d:u(Rr({},E,{_persist:p}))}}function d_(t){return $B(t)||UB(t)||FB()}function FB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function UB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function $B(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function h_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h_(n,!0).forEach(function(r){BB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JI={registry:[],bootstrapped:!1},zB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:JI,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case XI:return wg({},e,{registry:[].concat(d_(e.registry),[n.key])});case yx:var r=e.registry.indexOf(n.key),s=d_(e.registry);return s.splice(r,1),wg({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function HB(t,e,n){var r=n||!1,s=mx(zB,JI,e&&e.enhancer?e.enhancer:void 0),i=function(u){s.dispatch({type:XI,key:u})},a=function(u,d,h){var f={type:yx,payload:d,err:h,key:u};t.dispatch(f),s.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=wg({},s,{purge:function(){var u=[];return t.dispatch({type:QI,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:GI,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:KI})},persist:function(){t.dispatch({type:YI,register:i,rehydrate:a})}});return e&&e.manualPersist||l.persist(),l}var ZI={},xx={},wx={};Object.defineProperty(wx,"__esModule",{value:!0});function wu(){}const WB={getItem:wu,setItem:wu,removeItem:wu,keys:[],getAllKeys:wu};function qB(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function GB(t){const e=`${t}Storage`;return qB(e)?self[e]:WB}wx.default=GB;var KB=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xx,"__esModule",{value:!0});const YB=KB(wx);function QB(t){const e=(0,YB.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(s=>{s(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}xx.default=QB;var XB=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ZI,"__esModule",{value:!0});const JB=XB(xx),ZB=(0,JB.default)("session");var ez=ZI.default=ZB;const tz={key:"root",storage:ez},nz=VB(tz,EB),bt=J3({reducer:nz,middleware:[yg]}),rz=HB(bt),zc=async()=>{try{const t=Ee(ie,"publications"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),bt.dispatch(dB(n))}catch(t){console.error("Error fetching Publications:",t)}};async function sz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=st(ie,"publications",t);await vn(e),alert("Publications deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Publications!")}}}var eC={exports:{}},tC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=N;function iz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var az=typeof Object.is=="function"?Object.is:iz,oz=Hc.useSyncExternalStore,lz=Hc.useRef,cz=Hc.useEffect,uz=Hc.useMemo,dz=Hc.useDebugValue;tC.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=lz(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=uz(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&a.hasValue){var g=a.value;if(s(g,p))return h=g}return h=p}if(g=h,az(d,p))return g;var x=r(p);return s!==void 0&&s(g,x)?g:(d=p,h=x)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=oz(t,i[0],i[1]);return cz(function(){a.hasValue=!0,a.value=l},[l]),dz(l),l};eC.exports=tC;var hz=eC.exports,Tn="default"in Lp?Ne:Lp,f_=Symbol.for("react-redux-context"),p_=typeof globalThis<"u"?globalThis:{};function fz(){if(!Tn.createContext)return{};const t=p_[f_]??(p_[f_]=new Map);let e=t.get(Tn.createContext);return e||(e=Tn.createContext(null),t.set(Tn.createContext,e)),e}var qs=fz(),pz=()=>{throw new Error("uSES not initialized!")};function bx(t=qs){return function(){return Tn.useContext(t)}}var nC=bx(),rC=pz,mz=t=>{rC=t},gz=(t,e)=>t===e;function vz(t=qs){const e=t===qs?nC:bx(t),n=(r,s={})=>{const{equalityFn:i=gz,devModeChecks:a={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();Tn.useRef(!0);const f=Tn.useCallback({[r.name](g){return r(g)}}[r.name],[r,d,a.stabilityCheck]),p=rC(c.addNestedSub,l.getState,u||l.getState,f,i);return Tn.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var re=vz();function yz(t){t()}function xz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yz(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var m_={notify(){},get:()=>[]};function wz(t,e){let n,r=m_,s=0,i=!1;function a(x){d();const y=r.subscribe(x);let m=!1;return()=>{m||(m=!0,y(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=xz())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=m_)}function f(){i||(i=!0,d())}function p(){i&&(i=!1,h())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var bz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_z=bz?Tn.useLayoutEffect:Tn.useEffect;function Ez({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const a=Tn.useMemo(()=>{const u=wz(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=Tn.useMemo(()=>t.getState(),[t]);_z(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const c=e||qs;return Tn.createElement(c.Provider,{value:a},n)}var Tz=Ez;function sC(t=qs){const e=t===qs?nC:bx(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var Sz=sC();function jz(t=qs){const e=t===qs?Sz:sC(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var iC=jz();mz(hz.useSyncExternalStoreWithSelector);const Co=async()=>{try{const t=Ee(ie,"supervisors"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await Nz(l):null;n.push({_id:a,data:i,profileImage:c})});await Promise.all(r),bt.dispatch(hB(n))}catch(t){console.error("Error fetching Supervisors:",t)}},Nz=async t=>{try{const e=$e(Be,`/peoples/supervisor_profile_images/${t}`);return await ri(e)}catch{return null}};async function Iz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=st(ie,"supervisors",t),s=(await ti(e)).data().profileImage;if(await vn(e),s){const i=$e(Be,`/peoples/supervisor_profile_images/${s}`);await si(i)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Supervisors!")}}}var aC={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Il,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,a={},l=0,c={parse:function(b,T){var S=(T=T||{}).dynamicTyping||!1;if(I(S)&&(T.dynamicTypingFunction=S,S={}),T.dynamicTyping=S,T.transform=!!I(T.transform)&&T.transform,T.worker&&c.WORKERS_SUPPORTED){var P=function(){if(!c.WORKERS_SUPPORTED)return!1;var C=(k=r.URL||r.webkitURL||null,$=n.toString(),c.BLOB_URL||(c.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",$,")();"],{type:"text/javascript"})))),M=new r.Worker(C),k,$;return M.onmessage=v,M.id=l++,a[M.id]=M}();return P.userStep=T.step,P.userChunk=T.chunk,P.userComplete=T.complete,P.userError=T.error,T.step=I(T.step),T.chunk=I(T.chunk),T.complete=I(T.complete),T.error=I(T.error),delete T.worker,void P.postMessage({input:b,config:T,workerId:P.id})}var D=null;return c.NODE_STREAM_INPUT,typeof b=="string"?(b=function(C){return C.charCodeAt(0)===65279?C.slice(1):C}(b),D=T.download?new h(T):new p(T)):b.readable===!0&&I(b.read)&&I(b.on)?D=new g(T):(r.File&&b instanceof File||b instanceof Object)&&(D=new f(T)),D.stream(b)},unparse:function(b,T){var S=!1,P=!0,D=",",C=`\r
`,M='"',k=M+M,$=!1,O=null,R=!1;(function(){if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(A){return T.delimiter.indexOf(A)!==-1}).length||(D=T.delimiter),(typeof T.quotes=="boolean"||typeof T.quotes=="function"||Array.isArray(T.quotes))&&(S=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||($=T.skipEmptyLines),typeof T.newline=="string"&&(C=T.newline),typeof T.quoteChar=="string"&&(M=T.quoteChar),typeof T.header=="boolean"&&(P=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");O=T.columns}T.escapeChar!==void 0&&(k=T.escapeChar+M),(typeof T.escapeFormulae=="boolean"||T.escapeFormulae instanceof RegExp)&&(R=T.escapeFormulae instanceof RegExp?T.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var L=new RegExp(y(M),"g");if(typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(b)){if(!b.length||Array.isArray(b[0]))return F(null,b,$);if(typeof b[0]=="object")return F(O||Object.keys(b[0]),b,$)}else if(typeof b=="object")return typeof b.data=="string"&&(b.data=JSON.parse(b.data)),Array.isArray(b.data)&&(b.fields||(b.fields=b.meta&&b.meta.fields||O),b.fields||(b.fields=Array.isArray(b.data[0])?b.fields:typeof b.data[0]=="object"?Object.keys(b.data[0]):[]),Array.isArray(b.data[0])||typeof b.data[0]=="object"||(b.data=[b.data])),F(b.fields||[],b.data||[],$);throw new Error("Unable to serialize unrecognized input");function F(A,z,X){var J="";typeof A=="string"&&(A=JSON.parse(A)),typeof z=="string"&&(z=JSON.parse(z));var ae=Array.isArray(A)&&0<A.length,fe=!Array.isArray(z[0]);if(ae&&P){for(var Se=0;Se<A.length;Se++)0<Se&&(J+=D),J+=q(A[Se],Se);0<z.length&&(J+=C)}for(var te=0;te<z.length;te++){var pe=ae?A.length:z[te].length,Z=!1,be=ae?Object.keys(z[te]).length===0:z[te].length===0;if(X&&!ae&&(Z=X==="greedy"?z[te].join("").trim()==="":z[te].length===1&&z[te][0].length===0),X==="greedy"&&ae){for(var H=[],Ce=0;Ce<pe;Ce++){var ze=fe?A[Ce]:Ce;H.push(z[te][ze])}Z=H.join("").trim()===""}if(!Z){for(var ke=0;ke<pe;ke++){0<ke&&!be&&(J+=D);var nn=ae&&fe?A[ke]:ke;J+=q(z[te][nn],ke)}te<z.length-1&&(!X||0<pe&&!be)&&(J+=C)}}return J}function q(A,z){if(A==null)return"";if(A.constructor===Date)return JSON.stringify(A).slice(1,25);var X=!1;R&&typeof A=="string"&&R.test(A)&&(A="'"+A,X=!0);var J=A.toString().replace(L,k);return(X=X||S===!0||typeof S=="function"&&S(A,z)||Array.isArray(S)&&S[z]||function(ae,fe){for(var Se=0;Se<fe.length;Se++)if(-1<ae.indexOf(fe[Se]))return!0;return!1}(J,c.BAD_DELIMITERS)||-1<J.indexOf(D)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?M+J+M:J}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=x,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var u=r.jQuery;u.fn.parse=function(b){var T=b.config||{},S=[];return this.each(function(C){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var M=0;M<this.files.length;M++)S.push({file:this.files[M],inputElem:this,instanceConfig:u.extend({},T)})}),P(),this;function P(){if(S.length!==0){var C,M,k,$,O=S[0];if(I(b.before)){var R=b.before(O.file,O.inputElem);if(typeof R=="object"){if(R.action==="abort")return C="AbortError",M=O.file,k=O.inputElem,$=R.reason,void(I(b.error)&&b.error({name:C},M,k,$));if(R.action==="skip")return void D();typeof R.config=="object"&&(O.instanceConfig=u.extend(O.instanceConfig,R.config))}else if(R==="skip")return void D()}var L=O.instanceConfig.complete;O.instanceConfig.complete=function(F){I(L)&&L(F,O.file,O.inputElem),D()},c.parse(O.file,O.instanceConfig)}else I(b.complete)&&b.complete()}function D(){S.splice(0,1),P()}}}function d(b){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var S=j(T);S.chunkSize=parseInt(S.chunkSize),T.step||T.chunk||(S.chunkSize=null),this._handle=new x(S),(this._handle.streamer=this)._config=S}).call(this,b),this.parseChunk=function(T,S){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var P=this._config.beforeFirstChunk(T);P!==void 0&&(T=P)}this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+T;this._partialLine="";var C=this._handle.parse(D,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var M=C.meta.cursor;this._finished||(this._partialLine=D.substring(M-this._baseIndex),this._baseIndex=M),C&&C.data&&(this._rowCount+=C.data.length);var k=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:C,workerId:c.WORKER_ID,finished:k});else if(I(this._config.chunk)&&!S){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);C=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!k||!I(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(T){I(this._config.error)?this._config.error(T):i&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function h(b){var T;(b=b||{}).chunkSize||(b.chunkSize=c.RemoteChunkSize),d.call(this,b),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),s||(T.onload=E(this._chunkLoaded,this),T.onerror=E(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var S=this._config.downloadRequestHeaders;for(var P in S)T.setRequestHeader(P,S[P])}if(this._config.chunkSize){var D=this._start+this._config.chunkSize-1;T.setRequestHeader("Range","bytes="+this._start+"-"+D)}try{T.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}s&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:T.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(S){var P=S.getResponseHeader("Content-Range");return P===null?-1:parseInt(P.substring(P.lastIndexOf("/")+1))}(T),this.parseChunk(T.responseText)))},this._chunkError=function(S){var P=T.statusText||S;this._sendError(new Error(P))}}function f(b){var T,S;(b=b||{}).chunkSize||(b.chunkSize=c.LocalChunkSize),d.call(this,b);var P=typeof FileReader<"u";this.stream=function(D){this._input=D,S=D.slice||D.webkitSlice||D.mozSlice,P?((T=new FileReader).onload=E(this._chunkLoaded,this),T.onerror=E(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input;if(this._config.chunkSize){var C=Math.min(this._start+this._config.chunkSize,this._input.size);D=S.call(D,this._start,C)}var M=T.readAsText(D,this._config.encoding);P||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(b){var T;d.call(this,b=b||{}),this.stream=function(S){return T=S,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var S,P=this._config.chunkSize;return P?(S=T.substring(0,P),T=T.substring(P)):(S=T,T=""),this._finished=!T,this.parseChunk(S)}}}function g(b){d.call(this,b=b||{});var T=[],S=!0,P=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):S=!0},this._streamData=E(function(D){try{T.push(typeof D=="string"?D:D.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(C){this._streamError(C)}},this),this._streamError=E(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=E(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(b){var T,S,P,D=Math.pow(2,53),C=-D,M=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,k=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,$=this,O=0,R=0,L=!1,F=!1,q=[],A={data:[],errors:[],meta:{}};if(I(b.step)){var z=b.step;b.step=function(te){if(A=te,ae())J();else{if(J(),A.data.length===0)return;O+=te.data.length,b.preview&&O>b.preview?S.abort():(A.data=A.data[0],z(A,$))}}}function X(te){return b.skipEmptyLines==="greedy"?te.join("").trim()==="":te.length===1&&te[0].length===0}function J(){return A&&P&&(Se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),P=!1),b.skipEmptyLines&&(A.data=A.data.filter(function(te){return!X(te)})),ae()&&function(){if(!A)return;function te(Z,be){I(b.transformHeader)&&(Z=b.transformHeader(Z,be)),q.push(Z)}if(Array.isArray(A.data[0])){for(var pe=0;ae()&&pe<A.data.length;pe++)A.data[pe].forEach(te);A.data.splice(0,1)}else A.data.forEach(te)}(),function(){if(!A||!b.header&&!b.dynamicTyping&&!b.transform)return A;function te(Z,be){var H,Ce=b.header?{}:[];for(H=0;H<Z.length;H++){var ze=H,ke=Z[H];b.header&&(ze=H>=q.length?"__parsed_extra":q[H]),b.transform&&(ke=b.transform(ke,ze)),ke=fe(ze,ke),ze==="__parsed_extra"?(Ce[ze]=Ce[ze]||[],Ce[ze].push(ke)):Ce[ze]=ke}return b.header&&(H>q.length?Se("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+H,R+be):H<q.length&&Se("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+H,R+be)),Ce}var pe=1;return!A.data.length||Array.isArray(A.data[0])?(A.data=A.data.map(te),pe=A.data.length):A.data=te(A.data,0),b.header&&A.meta&&(A.meta.fields=q),R+=pe,A}()}function ae(){return b.header&&q.length===0}function fe(te,pe){return Z=te,b.dynamicTypingFunction&&b.dynamicTyping[Z]===void 0&&(b.dynamicTyping[Z]=b.dynamicTypingFunction(Z)),(b.dynamicTyping[Z]||b.dynamicTyping)===!0?pe==="true"||pe==="TRUE"||pe!=="false"&&pe!=="FALSE"&&(function(be){if(M.test(be)){var H=parseFloat(be);if(C<H&&H<D)return!0}return!1}(pe)?parseFloat(pe):k.test(pe)?new Date(pe):pe===""?null:pe):pe;var Z}function Se(te,pe,Z,be){var H={type:te,code:pe,message:Z};be!==void 0&&(H.row=be),A.errors.push(H)}this.parse=function(te,pe,Z){var be=b.quoteChar||'"';if(b.newline||(b.newline=function(ze,ke){ze=ze.substring(0,1048576);var nn=new RegExp(y(ke)+"([^]*?)"+y(ke),"gm"),qt=(ze=ze.replace(nn,"")).split("\r"),yn=ze.split(`
`),Rn=1<yn.length&&yn[0].length<qt[0].length;if(qt.length===1||Rn)return`
`;for(var Gt=0,Y=0;Y<qt.length;Y++)qt[Y][0]===`
`&&Gt++;return Gt>=qt.length/2?`\r
`:"\r"}(te,be)),P=!1,b.delimiter)I(b.delimiter)&&(b.delimiter=b.delimiter(te),A.meta.delimiter=b.delimiter);else{var H=function(ze,ke,nn,qt,yn){var Rn,Gt,Y,xe;yn=yn||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Kt=0;Kt<yn.length;Kt++){var Te=yn[Kt],kr=0,Dn=0,ur=0;Y=void 0;for(var Yn=new m({comments:qt,delimiter:Te,newline:ke,preview:10}).parse(ze),rs=0;rs<Yn.data.length;rs++)if(nn&&X(Yn.data[rs]))ur++;else{var ss=Yn.data[rs].length;Dn+=ss,Y!==void 0?0<ss&&(kr+=Math.abs(ss-Y),Y=ss):Y=ss}0<Yn.data.length&&(Dn/=Yn.data.length-ur),(Gt===void 0||kr<=Gt)&&(xe===void 0||xe<Dn)&&1.99<Dn&&(Gt=kr,Rn=Te,xe=Dn)}return{successful:!!(b.delimiter=Rn),bestDelimiter:Rn}}(te,b.newline,b.skipEmptyLines,b.comments,b.delimitersToGuess);H.successful?b.delimiter=H.bestDelimiter:(P=!0,b.delimiter=c.DefaultDelimiter),A.meta.delimiter=b.delimiter}var Ce=j(b);return b.preview&&b.header&&Ce.preview++,T=te,S=new m(Ce),A=S.parse(T,pe,Z),J(),L?{meta:{paused:!0}}:A||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,S.abort(),T=I(b.chunk)?"":T.substring(S.getCharIndex())},this.resume=function(){$.streamer._halted?(L=!1,$.streamer.parseChunk(T,!0)):setTimeout($.resume,3)},this.aborted=function(){return F},this.abort=function(){F=!0,S.abort(),A.meta.aborted=!0,I(b.complete)&&b.complete(A),T=""}}function y(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(b){var T,S=(b=b||{}).delimiter,P=b.newline,D=b.comments,C=b.step,M=b.preview,k=b.fastMode,$=T=b.quoteChar===void 0||b.quoteChar===null?'"':b.quoteChar;if(b.escapeChar!==void 0&&($=b.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),D===S)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<c.BAD_DELIMITERS.indexOf(D))&&(D=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var O=0,R=!1;this.parse=function(L,F,q){if(typeof L!="string")throw new Error("Input must be a string");var A=L.length,z=S.length,X=P.length,J=D.length,ae=I(C),fe=[],Se=[],te=[],pe=O=0;if(!L)return On();if(b.header&&!F){var Z=L.split(P)[0].split(S),be=[],H={},Ce=!1;for(var ze in Z){var ke=Z[ze];I(b.transformHeader)&&(ke=b.transformHeader(ke,ze));var nn=ke,qt=H[ke]||0;for(0<qt&&(Ce=!0,nn=ke+"_"+qt),H[ke]=qt+1;be.includes(nn);)nn=nn+"_"+qt;be.push(nn)}if(Ce){var yn=L.split(P);yn[0]=be.join(S),L=yn.join(P)}}if(k||k!==!1&&L.indexOf(T)===-1){for(var Rn=L.split(P),Gt=0;Gt<Rn.length;Gt++){if(te=Rn[Gt],O+=te.length,Gt!==Rn.length-1)O+=P.length;else if(q)return On();if(!D||te.substring(0,J)!==D){if(ae){if(fe=[],ur(te.split(S)),Wc(),R)return On()}else ur(te.split(S));if(M&&M<=Gt)return fe=fe.slice(0,M),On(!0)}}return On()}for(var Y=L.indexOf(S,O),xe=L.indexOf(P,O),Kt=new RegExp(y($)+y(T),"g"),Te=L.indexOf(T,O);;)if(L[O]!==T)if(D&&te.length===0&&L.substring(O,O+J)===D){if(xe===-1)return On();O=xe+X,xe=L.indexOf(P,O),Y=L.indexOf(S,O)}else if(Y!==-1&&(Y<xe||xe===-1))te.push(L.substring(O,Y)),O=Y+z,Y=L.indexOf(S,O);else{if(xe===-1)break;if(te.push(L.substring(O,xe)),ss(xe+X),ae&&(Wc(),R))return On();if(M&&fe.length>=M)return On(!0)}else for(Te=O,O++;;){if((Te=L.indexOf(T,Te+1))===-1)return q||Se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:fe.length,index:O}),rs();if(Te===A-1)return rs(L.substring(O,Te).replace(Kt,T));if(T!==$||L[Te+1]!==$){if(T===$||Te===0||L[Te-1]!==$){Y!==-1&&Y<Te+1&&(Y=L.indexOf(S,Te+1)),xe!==-1&&xe<Te+1&&(xe=L.indexOf(P,Te+1));var kr=Yn(xe===-1?Y:Math.min(Y,xe));if(L.substr(Te+1+kr,z)===S){te.push(L.substring(O,Te).replace(Kt,T)),L[O=Te+1+kr+z]!==T&&(Te=L.indexOf(T,O)),Y=L.indexOf(S,O),xe=L.indexOf(P,O);break}var Dn=Yn(xe);if(L.substring(Te+1+Dn,Te+1+Dn+X)===P){if(te.push(L.substring(O,Te).replace(Kt,T)),ss(Te+1+Dn+X),Y=L.indexOf(S,O),Te=L.indexOf(T,O),ae&&(Wc(),R))return On();if(M&&fe.length>=M)return On(!0);break}Se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:fe.length,index:O}),Te++}}else Te++}return rs();function ur(Ln){fe.push(Ln),pe=O}function Yn(Ln){var Ax=0;if(Ln!==-1){var xf=L.substring(Te+1,Ln);xf&&xf.trim()===""&&(Ax=xf.length)}return Ax}function rs(Ln){return q||(Ln===void 0&&(Ln=L.substring(O)),te.push(Ln),O=A,ur(te),ae&&Wc()),On()}function ss(Ln){O=Ln,ur(te),te=[],xe=L.indexOf(P,O)}function On(Ln){return{data:fe,errors:Se,meta:{delimiter:S,linebreak:P,aborted:R,truncated:!!Ln,cursor:pe+(F||0)}}}function Wc(){C(On()),fe=[],Se=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return O}}function v(b){var T=b.data,S=a[T.workerId],P=!1;if(T.error)S.userError(T.error,T.file);else if(T.results&&T.results.data){var D={abort:function(){P=!0,w(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(I(S.userStep)){for(var C=0;C<T.results.data.length&&(S.userStep({data:T.results.data[C],errors:T.results.errors,meta:T.results.meta},D),!P);C++);delete T.results}else I(S.userChunk)&&(S.userChunk(T.results,D,T.file),delete T.results)}T.finished&&!P&&w(T.workerId,T.results)}function w(b,T){var S=a[b];I(S.userComplete)&&S.userComplete(T),S.terminate(),delete a[b]}function _(){throw new Error("Not implemented.")}function j(b){if(typeof b!="object"||b===null)return b;var T=Array.isArray(b)?[]:{};for(var S in b)T[S]=j(b[S]);return T}function E(b,T){return function(){b.apply(T,arguments)}}function I(b){return typeof b=="function"}return i&&(r.onmessage=function(b){var T=b.data;if(c.WORKER_ID===void 0&&T&&(c.WORKER_ID=T.workerId),typeof T.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(T.input,T.config),finished:!0});else if(r.File&&T.input instanceof File||T.input instanceof Object){var S=c.parse(T.input,T.config);S&&r.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}}),(h.prototype=Object.create(d.prototype)).constructor=h,(f.prototype=Object.create(d.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,c})})(aC);var Cz=aC.exports;const oC=go(Cz);function lC(t,e,n){const r=t+e,s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const a=URL.createObjectURL(s);i.setAttribute("href",a),i.setAttribute("download",`${n}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const Pz=`Type of Article,Authors,Paper Title,Publisher,Publication Year,Name of Journal,Volume,DOI Link,Impact Factor,No. of Pages,ISBN
`,Az=`Conference,"Kulkarni A, Phutke SS, Vipparthi SK, Murala S",C2AIR: Consolidated Compact Aerial Image Haze Removal,IEEE Transactions on Cognitive and Developmental Systems,2020,Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision,4,304-402,7,300,5
`;let bu;const kz=new Uint8Array(16);function Rz(){if(!bu&&(bu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bu(kz)}const Et=[];for(let t=0;t<256;++t)Et.push((t+256).toString(16).slice(1));function Dz(t,e=0){return Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]}const Oz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g_={randomUUID:Oz};function ds(t,e,n){if(g_.randomUUID&&!e&&!t)return g_.randomUUID();t=t||{};const r=t.random||(t.rng||Rz)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return Dz(r)}const W=(t,e)=>{const n=bt.getState().getalerts.data;bt.dispatch(us([...n,{id:ds(),type:t,content:e}]))},Lz=()=>{const t=re(C=>C.getpublications.data),e=re(C=>C.getsupervisors.data),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[f,p]=N.useState(""),[g,x]=N.useState(""),[y,m]=N.useState(""),[v,w]=N.useState(""),[_,j]=N.useState(""),[E,I]=N.useState(""),[b,T]=N.useState([]),[S,P]=N.useState(!1);N.useEffect(()=>{zc(),Co()},[]);const D=C=>{if(C.preventDefault(),!n||!s||!a||!c||!d||!f||!g||!y||!v||!_||!E){W("danger","Please fill all required fields!");return}P(!0),Ht(Ee(ie,"publications"),{paperTitle:n,paperType:s,publisher:a,publicationDate:c,link:d,author:f,journalName:g,pages:y,volume:v,impact:_,isbn:E,users:b}).then(()=>{W("success","Publication has been saved! You can view it in the admin panel."),P(!1),window.location.reload()}).catch(()=>{W("danger","Error adding Publication! Please try again later."),P(!1)})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"List of Publications"}),o.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add Publication"}),o.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[o.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contributors"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Impact Factor"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Pages"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publisher"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publication Date"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Volume"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Journal Name"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper Type"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"ISBN"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((C,M)=>{const{paperTitle:k,author:$,impact:O,link:R,pages:L,publisher:F,publicationDate:q,volume:A,journalName:z,paperType:X,isbn:J}=C==null?void 0:C.data;return o.jsxs("tr",{children:[o.jsx("td",{children:M+1}),o.jsx("td",{className:"fw-bold text-danger",children:k==null?void 0:k.stringValue}),o.jsx("td",{children:$==null?void 0:$.stringValue}),o.jsx("td",{children:O==null?void 0:O.stringValue}),o.jsx("td",{children:L==null?void 0:L.stringValue}),o.jsx("td",{children:F==null?void 0:F.stringValue}),o.jsx("td",{children:q==null?void 0:q.stringValue}),o.jsx("td",{children:A==null?void 0:A.stringValue}),o.jsx("td",{children:z==null?void 0:z.stringValue}),o.jsx("td",{children:X==null?void 0:X.stringValue}),o.jsx("td",{children:J==null?void 0:J.stringValue}),o.jsx("td",{children:o.jsx("a",{href:R==null?void 0:R.stringValue,target:"_blank",rel:"noopener noreferrer",className:"btn btn-link",children:"Link"})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx(ne,{className:"dropdown-item text-primary",to:C==null?void 0:C._id,children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>sz(C._id),children:"Delete"})})]})]})})]},C._id)})})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:D,noValidate:!0,children:[o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:n,onChange:C=>r(C.target.value),required:!0,disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:C=>{const M=C.target.value;if(b)if(M==="other"){let k=prompt("Please enter supervisor name:");k&&T([...b,k])}else b.includes(M)?alert("User with this name already existed."):T([...b,M])},children:[o.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((C,M)=>{var k,$,O,R,L,F;return o.jsxs("option",{value:($=(k=C==null?void 0:C.data)==null?void 0:k.name)==null?void 0:$.stringValue,children:[(R=(O=C==null?void 0:C.data)==null?void 0:O.name)==null?void 0:R.stringValue,"-",(F=(L=C==null?void 0:C.data)==null?void 0:L.email)==null?void 0:F.stringValue]},M)}),o.jsx("option",{value:"other",children:"Other"})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:b==null?void 0:b.map((C,M)=>o.jsxs("span",{className:"badge bg-success",children:[C," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const k=b.filter($=>$!==C);T(k)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},M))})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"paperType",value:s,onChange:C=>i(C.target.value),required:!0,disabled:S,children:[o.jsx("option",{value:"",children:"---select type---"}),o.jsx("option",{value:"Conference",children:"Conference"}),o.jsx("option",{value:"Patent",children:"Patent"}),o.jsx("option",{value:"Journal",children:"Journal"}),o.jsx("option",{value:"Book",children:"Book"}),o.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),o.jsx("option",{value:"Publications",children:"Publications"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:a,onChange:C=>l(C.target.value),required:!0,disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:c,onChange:C=>u(C.target.value),required:!0,disabled:S,children:[o.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((C,M)=>o.jsx("option",{value:2008+M,children:2008+M},M))]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),o.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:d,onChange:C=>h(C.target.value),disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 mb-2",children:[o.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:C=>p(C.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:S})]}),o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:g,onChange:C=>x(C.target.value),required:!0,disabled:S}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),o.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:y,onChange:C=>m(C.target.value),disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),o.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:v,onChange:C=>w(C.target.value),disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),o.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:_,onChange:C=>j(C.target.value),disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),o.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:E,onChange:C=>I(C.target.value),disabled:S})]})]}),o.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:S,children:S?"Please Wait...":"Submit"})]})})]})})}),o.jsx(Mz,{getsupervisors:e})]})},Mz=({getsupervisors:t})=>{const e=N.useRef(null),[n,r]=N.useState(!1),[s,i]=N.useState([]),[a,l]=N.useState([]),c=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];f&&oC.parse(f,{complete:g=>{const x=g.data.filter(y=>Object.values(y).some(m=>m!==""));l(x)},header:!0})},u=async h=>{try{return!(await kt(Xj(Ee(ie,"publications"),Jj("paperTitle","==",h)))).empty}catch{return!1}},d=async h=>{if(h.preventDefault(),!s.length){W("danger","Error! Please select supervisors.");return}if(!a.length){W("danger","ERROR! Invalid CSV File Selected.");return}r(!0);const f=a.map(async p=>{const g=Object.values(p);if(!await u(g[2]))return Ht(Ee(ie,"publications"),{paperTitle:g[2],paperType:g[0],publisher:g[3],publicationDate:g[4],link:g[7],author:g[1],journalName:g[5],pages:g[9],volume:g[6],impact:g[8],isbn:g[10],users:s})});await Promise.all(f),W("success","Publications have been saved!"),r(!1),window.location.reload()};return o.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Import Publications"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these publications will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:h=>{const f=h.target.value;!s||f===""||(s.includes(f)?alert("User with this name already existed."):i([...s,f]))},children:[o.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((h,f)=>{var p,g,x,y,m,v;return o.jsxs("option",{value:(g=(p=h==null?void 0:h.data)==null?void 0:p.name)==null?void 0:g.stringValue,children:[(y=(x=h==null?void 0:h.data)==null?void 0:x.name)==null?void 0:y.stringValue,"-",(v=(m=h==null?void 0:h.data)==null?void 0:m.email)==null?void 0:v.stringValue]},f)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:s==null?void 0:s.map((h,f)=>o.jsxs("span",{className:"badge bg-success",children:[h," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const p=s.filter(g=>g!==h);i(p)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},f))})]}),o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",o.jsx("button",{className:"btn btn-link",onClick:()=>lC(Pz,Az,"sample_publications_csv"),children:"Download Sample CSV file"}),")"]}),o.jsx("input",{ref:e,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:c})]}),o.jsx("div",{className:"d-flex gap-1 flex-wrap",children:a.length>0&&o.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[o.jsxs("table",{className:"table table-bordered",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(a[0]).map(h=>o.jsx("th",{children:h},h))})}),o.jsx("tbody",{children:a.map((h,f)=>o.jsx("tr",{children:Object.values(h).map((p,g)=>o.jsx("td",{children:p},g))},f))})]}),o.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:n,onClick:d,children:n?"Please Wait...":"Submit"})]})]})})})},cC=async()=>{try{const t=Ee(ie,"news"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.description.stringValue,c=i.timestamp.stringValue,u=i.title.stringValue;n.push({_id:a,title:u,datetime1:c,description:l})});await Promise.all(r),bt.dispatch(cB(n))}catch(t){console.error("Error fetching news:",t)}};async function Vz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=st(ie,"news",t);await vn(e),alert("News item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting News!")}}}async function Fz(t,e){try{const n=st(ie,"news",t),i={...(await ti(n)).data(),...e};await d2(n,i,{merge:!0}),alert("News item edited successfully.")}catch(n){console.log(n),alert("Error editing news!")}}const v_=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:s,setTitle:i,submitHandler:a,_id:l})=>o.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog ",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>i(c.target.value),disabled:t,value:e})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),o.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",onChange:c=>s(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:a,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),Uz=()=>{const t=re(h=>h.getnews).data,[e,n]=N.useState(),[r,s]=N.useState(),[i,a]=N.useState(),[l,c]=N.useState(!1);N.useEffect(()=>{cC()},[]);const u=()=>{if(!e||!r||!i){W("danger","Please fill all required fields.");return}c(!0),Ht(Ee(ie,"news"),{title:r,timestamp:i,description:e}).then(()=>{W("success","News has been saved! You can view it in the admin panel."),s(""),n(""),c(!1),window.location.reload()}).catch(h=>{W("danger","Error! While adding a News, Check you internet connnection and Try Again later."),console.error("Error saving image data:",h),c(!1)})},d=h=>{a(h.datetime1),s(h.title)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Latest News"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>o.jsxs("tr",{children:[o.jsx("td",{children:f+1}),o.jsx("td",{children:h.title}),o.jsx("td",{children:$z(h==null?void 0:h.datetime1)}),o.jsx("td",{children:h.description}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Vz(h._id),children:"Delete"})}),o.jsxs("li",{children:[o.jsx("button",{className:"dropdown-item text-primary",onClick:()=>d(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),o.jsx(v_,{_id:`EditNewsModal${h._id}`,submitHandler:()=>Fz(h._id,{title:r,datetime:i}),datetime:i,loading:l,setDescription:n,setDateTime:a,setTitle:s})]})]})]})})]},f))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"News Not Found!"})})})]})]}),o.jsx(v_,{_id:"AddNewsModal",submitHandler:u,datetime:i,loading:l,setDescription:n,setDateTime:a,setTitle:s})]})},$z=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},Bz=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(!1),a=async l=>{if(l.preventDefault(),t!==n||t===""||n===""){W("warning","Passwords do not match");return}const c=Ti.currentUser;if(!c){location.href="/CVPR_LAB/#/";return}c?n4(c,n).then(()=>{W("success","Password updated successfully"),location.href="/CVPR_LAB/#/dashboard"}).catch(()=>{W("danger","Logout and try again!")}):W("danger","No user is currently signed in."),r(""),e("")};return N.useEffect(()=>{t===n&&t!=""&&n!=""?i(!0):i(!1)},[t,n]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsx("div",{className:"w-100 d-flex justify-content-between",children:o.jsx("h3",{children:"Change Password"})}),o.jsx("hr",{}),o.jsxs("form",{className:"row g-3",onSubmit:a,noValidate:!0,children:[o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),o.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:l=>e(l.target.value),required:!0}),o.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:l=>r(l.target.value),required:!0}),o.jsx("div",{className:`rounded-0 p-2 mt-2 ${s?"alert alert-success":"alert alert-danger"}`,role:"alert",children:s?"Password and Confirm Password Matched!":"Password and Confirm Password do not Match!"})]}),o.jsx("div",{className:"mb-3",children:o.jsx("button",{type:"submit",className:"btn btn-danger text-uppercase w-full",children:"Submit"})})]})]})})};/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function uC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y_(Object(n),!0).forEach(function(r){Wz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function zz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hC(r.key),r)}}function Hz(t,e,n){return e&&x_(t.prototype,e),n&&x_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wz(t,e,n){return e=hC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dC(t){return qz(t)||Gz(t)||Kz(t)||Yz()}function qz(t){if(Array.isArray(t))return _g(t)}function Gz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kz(t,e){if(t){if(typeof t=="string")return _g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _g(t,e)}}function _g(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qz(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hC(t){var e=Qz(t,"string");return typeof e=="symbol"?e:String(e)}var mf=typeof window<"u"&&typeof window.document<"u",Pr=mf?window:{},_x=mf&&Pr.document.documentElement?"ontouchstart"in Pr.document.documentElement:!1,Ex=mf?"PointerEvent"in Pr:!1,We="cropper",Tx="all",fC="crop",pC="move",mC="zoom",oi="e",li="w",ha="s",os="n",zo="ne",Ho="nw",Wo="se",qo="sw",Eg="".concat(We,"-crop"),w_="".concat(We,"-disabled"),on="".concat(We,"-hidden"),b_="".concat(We,"-hide"),Xz="".concat(We,"-invisible"),Zd="".concat(We,"-modal"),Tg="".concat(We,"-move"),hc="".concat(We,"Action"),_u="".concat(We,"Preview"),Sx="crop",gC="move",vC="none",Sg="crop",jg="cropend",Ng="cropmove",Ig="cropstart",__="dblclick",Jz=_x?"touchstart":"mousedown",Zz=_x?"touchmove":"mousemove",e9=_x?"touchend touchcancel":"mouseup",E_=Ex?"pointerdown":Jz,T_=Ex?"pointermove":Zz,S_=Ex?"pointerup pointercancel":e9,j_="ready",N_="resize",I_="wheel",Cg="zoom",C_="image/jpeg",t9=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,n9=/^data:/,r9=/^data:image\/jpeg;base64,/,s9=/^img|canvas$/i,yC=200,xC=100,P_={viewMode:0,dragMode:Sx,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:yC,minContainerHeight:xC,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},i9='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',a9=Number.isNaN||Pr.isNaN;function me(t){return typeof t=="number"&&!a9(t)}var A_=function(e){return e>0&&e<1/0};function jp(t){return typeof t>"u"}function Gi(t){return bg(t)==="object"&&t!==null}var o9=Object.prototype.hasOwnProperty;function Pa(t){if(!Gi(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&o9.call(n,"isPrototypeOf")}catch{return!1}}function sn(t){return typeof t=="function"}var l9=Array.prototype.slice;function wC(t){return Array.from?Array.from(t):l9.call(t)}function ct(t,e){return t&&sn(e)&&(Array.isArray(t)||me(t.length)?wC(t).forEach(function(n,r){e.call(t,n,r,t)}):Gi(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var Ke=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Gi(e)&&r.length>0&&r.forEach(function(i){Gi(i)&&Object.keys(i).forEach(function(a){e[a]=i[a]})}),e},c9=/\.\d*(?:0|9){12}\d*$/;function Wa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return c9.test(t)?Math.round(t*e)/e:t}var u9=/^width|height|left|top|marginLeft|marginTop$/;function Es(t,e){var n=t.style;ct(e,function(r,s){u9.test(s)&&me(r)&&(r="".concat(r,"px")),n[s]=r})}function d9(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function mt(t,e){if(e){if(me(t.length)){ct(t,function(r){mt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Nr(t,e){if(e){if(me(t.length)){ct(t,function(n){Nr(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Aa(t,e,n){if(e){if(me(t.length)){ct(t,function(r){Aa(r,e,n)});return}n?mt(t,e):Nr(t,e)}}var h9=/([a-z\d])([A-Z])/g;function jx(t){return t.replace(h9,"$1-$2").toLowerCase()}function Pg(t,e){return Gi(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(jx(e)))}function fc(t,e,n){Gi(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(jx(e)),n)}function f9(t,e){if(Gi(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(jx(e)))}var bC=/\s\s*/,_C=function(){var t=!1;if(mf){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Pr.addEventListener("test",n,r),Pr.removeEventListener("test",n,r)}return t}();function Xn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(bC).forEach(function(i){if(!_C){var a=t.listeners;a&&a[i]&&a[i][n]&&(s=a[i][n],delete a[i][n],Object.keys(a[i]).length===0&&delete a[i],Object.keys(a).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Mn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(bC).forEach(function(i){if(r.once&&!_C){var a=t.listeners,l=a===void 0?{}:a;s=function(){delete l[i][n],t.removeEventListener(i,s,r);for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];n.apply(t,d)},l[i]||(l[i]={}),l[i][n]&&t.removeEventListener(i,l[i][n],r),l[i][n]=s,t.listeners=l}t.addEventListener(i,s,r)})}function qa(t,e,n){var r;return sn(Event)&&sn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function EC(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Np=Pr.location,p9=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function k_(t){var e=t.match(p9);return e!==null&&(e[1]!==Np.protocol||e[2]!==Np.hostname||e[3]!==Np.port)}function R_(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function jl(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,a=[];me(s)&&s!==0&&a.push("translateX(".concat(s,"px)")),me(i)&&i!==0&&a.push("translateY(".concat(i,"px)")),me(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),me(n)&&n!==1&&a.push("scaleX(".concat(n,")")),me(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var l=a.length?a.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function m9(t){var e=uC({},t),n=0;return ct(t,function(r,s){delete e[s],ct(e,function(i){var a=Math.abs(r.startX-i.startX),l=Math.abs(r.startY-i.startY),c=Math.abs(r.endX-i.endX),u=Math.abs(r.endY-i.endY),d=Math.sqrt(a*a+l*l),h=Math.sqrt(c*c+u*u),f=(h-d)/d;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Eu(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:uC({startX:n,startY:r},s)}function g9(t){var e=0,n=0,r=0;return ct(t,function(s){var i=s.startX,a=s.startY;e+=i,n+=a,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function Ts(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=A_(r),a=A_(n);if(i&&a){var l=n*e;s==="contain"&&l>r||s==="cover"&&l<r?n=r/e:r=n*e}else i?n=r/e:a&&(r=n*e);return{width:r,height:n}}function v9(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),a=Math.cos(s),l=e*a+n*i,c=e*i+n*a;return r>90?{width:c,height:l}:{width:l,height:c}}function y9(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,a=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,u=e.scaleX,d=u===void 0?1:u,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,x=n.naturalHeight,y=r.fillColor,m=y===void 0?"transparent":y,v=r.imageSmoothingEnabled,w=v===void 0?!0:v,_=r.imageSmoothingQuality,j=_===void 0?"low":_,E=r.maxWidth,I=E===void 0?1/0:E,b=r.maxHeight,T=b===void 0?1/0:b,S=r.minWidth,P=S===void 0?0:S,D=r.minHeight,C=D===void 0?0:D,M=document.createElement("canvas"),k=M.getContext("2d"),$=Ts({aspectRatio:p,width:I,height:T}),O=Ts({aspectRatio:p,width:P,height:C},"cover"),R=Math.min($.width,Math.max(O.width,g)),L=Math.min($.height,Math.max(O.height,x)),F=Ts({aspectRatio:s,width:I,height:T}),q=Ts({aspectRatio:s,width:P,height:C},"cover"),A=Math.min(F.width,Math.max(q.width,i)),z=Math.min(F.height,Math.max(q.height,a)),X=[-A/2,-z/2,A,z];return M.width=Wa(R),M.height=Wa(L),k.fillStyle=m,k.fillRect(0,0,R,L),k.save(),k.translate(R/2,L/2),k.rotate(c*Math.PI/180),k.scale(d,f),k.imageSmoothingEnabled=w,k.imageSmoothingQuality=j,k.drawImage.apply(k,[t].concat(dC(X.map(function(J){return Math.floor(Wa(J))})))),k.restore(),M}var TC=String.fromCharCode;function x9(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=TC(t.getUint8(s));return r}var w9=/^data:.*,/;function b9(t){var e=t.replace(w9,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return ct(s,function(i,a){s[a]=n.charCodeAt(a)}),r}function _9(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(TC.apply(null,wC(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function E9(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var a=e.byteLength,l=2;l+1<a;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break}l+=1}if(s){var c=s+4,u=s+10;if(x9(e,c,4)==="Exif"){var d=e.getUint16(u);if(r=d===18761,(r||d===19789)&&e.getUint16(u+2,r)===42){var h=e.getUint32(u+4,r);h>=8&&(i=u+h)}}}if(i){var f=e.getUint16(i,r),p,g;for(g=0;g<f;g+=1)if(p=i+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function T9(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var S9={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),a=Number(n.minContainerHeight);mt(s,on),Nr(e,on);var l={width:Math.max(r.offsetWidth,i>=0?i:yC),height:Math.max(r.offsetHeight,a>=0?a:xC)};this.containerData=l,Es(s,{width:l.width,height:l.height}),mt(e,on),Nr(s,on)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,a=s?n.naturalWidth:n.naturalHeight,l=i/a,c=e.width,u=e.height;e.height*l>e.width?r===3?c=e.height*l:u=e.width/l:r===3?u=e.width/l:c=e.height*l;var d={aspectRatio:l,naturalWidth:i,naturalHeight:a,width:c,height:u};this.canvasData=d,this.limited=r===1||r===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=Ke({},d)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,l=r.viewMode,c=i.aspectRatio,u=this.cropped&&a;if(e){var d=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(d=Math.max(d,s.width),h=Math.max(h,s.height),l===3&&(h*c>d?d=h*c:h=d/c)):l>0&&(d?d=Math.max(d,u?a.width:0):h?h=Math.max(h,u?a.height:0):u&&(d=a.width,h=a.height,h*c>d?d=h*c:h=d/c));var f=Ts({aspectRatio:c,width:d,height:h});d=f.width,h=f.height,i.minWidth=d,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(l>(u?0:1)){var p=s.width-i.width,g=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,g),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,g),u&&this.limited&&(i.minLeft=Math.min(a.left,a.left+(a.width-i.width)),i.minTop=Math.min(a.top,a.top+(a.height-i.height)),i.maxLeft=a.left,i.maxTop=a.top,l===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,g),i.maxTop=Math.max(0,g))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=v9({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),a=i.width,l=i.height,c=r.width*(a/r.naturalWidth),u=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(u-r.height)/2,r.width=c,r.height=u,r.aspectRatio=a/l,r.naturalWidth=a,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Es(this.canvas,Ke({width:r.width,height:r.height},jl({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);Ke(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),Es(this.image,Ke({width:r.width,height:r.height},jl(Ke({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=Ke({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var u=Number(r.minCropBoxWidth)||0,d=Number(r.minCropBoxHeight)||0,h=l?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,f=l?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;u=Math.min(u,s.width),d=Math.min(d,s.height),c&&(u&&d?d*c>u?d=u/c:u=d*c:u?d=u/c:d&&(u=d*c),f*c>h?f=h/c:h=f*c),a.minWidth=Math.min(u,h),a.minHeight=Math.min(d,f),a.maxWidth=h,a.maxHeight=f}n&&(l?(a.minLeft=Math.max(0,i.left),a.minTop=Math.max(0,i.top),a.maxLeft=Math.min(s.width,i.left+i.width)-a.width,a.maxTop=Math.min(s.height,i.top+i.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=s.width-a.width,a.maxTop=s.height-a.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&fc(this.face,hc,r.width>=n.width&&r.height>=n.height?pC:Tx),Es(this.cropBox,Ke({width:r.width,height:r.height},jl({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),qa(this.element,Sg,this.getData())}},j9={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=s,a.alt=i,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,ct(l,function(c){var u=document.createElement("img");fc(c,_u,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(u.crossOrigin=n),u.src=s,u.alt=i,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){ct(this.previews,function(e){var n=Pg(e,_u);Es(e,{width:n.width,height:n.height}),e.innerHTML=n.html,f9(e,_u)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,a=e.width,l=e.height,c=r.left-n.left-e.left,u=r.top-n.top-e.top;!this.cropped||this.disabled||(Es(this.viewBoxImage,Ke({width:a,height:l},jl(Ke({translateX:-c,translateY:-u},e)))),ct(this.previews,function(d){var h=Pg(d,_u),f=h.width,p=h.height,g=f,x=p,y=1;s&&(y=f/s,x=i*y),i&&x>p&&(y=p/i,g=s*y,x=p),Es(d,{width:g,height:x}),Es(d.getElementsByTagName("img")[0],Ke({width:a*y,height:l*y},jl(Ke({translateX:-c*y,translateY:-u*y},e))))}))}},N9={bind:function(){var e=this.element,n=this.options,r=this.cropper;sn(n.cropstart)&&Mn(e,Ig,n.cropstart),sn(n.cropmove)&&Mn(e,Ng,n.cropmove),sn(n.cropend)&&Mn(e,jg,n.cropend),sn(n.crop)&&Mn(e,Sg,n.crop),sn(n.zoom)&&Mn(e,Cg,n.zoom),Mn(r,E_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Mn(r,I_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Mn(r,__,this.onDblclick=this.dblclick.bind(this)),Mn(e.ownerDocument,T_,this.onCropMove=this.cropMove.bind(this)),Mn(e.ownerDocument,S_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Mn(window,N_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;sn(n.cropstart)&&Xn(e,Ig,n.cropstart),sn(n.cropmove)&&Xn(e,Ng,n.cropmove),sn(n.cropend)&&Xn(e,jg,n.cropend),sn(n.crop)&&Xn(e,Sg,n.crop),sn(n.zoom)&&Xn(e,Cg,n.zoom),Xn(r,E_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Xn(r,I_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Xn(r,__,this.onDblclick),Xn(e.ownerDocument,T_,this.onCropMove),Xn(e.ownerDocument,S_,this.onCropEnd),n.responsive&&Xn(window,N_,this.onResize)}},I9={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,a=Math.abs(s-1)>Math.abs(i-1)?s:i;if(a!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(ct(l,function(u,d){l[d]=u*a})),this.setCropBoxData(ct(c,function(u,d){c[d]=u*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===vC||this.setDragMode(d9(this.dragBox,Eg)?gC:Sx)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(me(n)&&n!==1||me(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,a;e.changedTouches?ct(e.changedTouches,function(l){i[l.identifier]=Eu(l)}):i[e.pointerId||0]=Eu(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?a=mC:a=Pg(e.target,hc),t9.test(a)&&qa(this.element,Ig,{originalEvent:e,action:a})!==!1&&(e.preventDefault(),this.action=a,this.cropping=!1,a===fC&&(this.cropping=!0,mt(this.dragBox,Zd)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),qa(this.element,Ng,{originalEvent:e,action:n})!==!1&&(e.changedTouches?ct(e.changedTouches,function(s){Ke(r[s.identifier]||{},Eu(s,!0))}):Ke(r[e.pointerId||0]||{},Eu(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?ct(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Aa(this.dragBox,Zd,this.cropped&&this.options.modal)),qa(this.element,jg,{originalEvent:e,action:n}))}}},C9={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,a=this.pointers,l=this.action,c=n.aspectRatio,u=i.left,d=i.top,h=i.width,f=i.height,p=u+h,g=d+f,x=0,y=0,m=s.width,v=s.height,w=!0,_;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(x=i.minLeft,y=i.minTop,m=x+Math.min(s.width,r.width,r.left+r.width),v=y+Math.min(s.height,r.height,r.top+r.height));var j=a[Object.keys(a)[0]],E={x:j.endX-j.startX,y:j.endY-j.startY},I=function(T){switch(T){case oi:p+E.x>m&&(E.x=m-p);break;case li:u+E.x<x&&(E.x=x-u);break;case os:d+E.y<y&&(E.y=y-d);break;case ha:g+E.y>v&&(E.y=v-g);break}};switch(l){case Tx:u+=E.x,d+=E.y;break;case oi:if(E.x>=0&&(p>=m||c&&(d<=y||g>=v))){w=!1;break}I(oi),h+=E.x,h<0&&(l=li,h=-h,u-=h),c&&(f=h/c,d+=(i.height-f)/2);break;case os:if(E.y<=0&&(d<=y||c&&(u<=x||p>=m))){w=!1;break}I(os),f-=E.y,d+=E.y,f<0&&(l=ha,f=-f,d-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case li:if(E.x<=0&&(u<=x||c&&(d<=y||g>=v))){w=!1;break}I(li),h-=E.x,u+=E.x,h<0&&(l=oi,h=-h,u-=h),c&&(f=h/c,d+=(i.height-f)/2);break;case ha:if(E.y>=0&&(g>=v||c&&(u<=x||p>=m))){w=!1;break}I(ha),f+=E.y,f<0&&(l=os,f=-f,d-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case zo:if(c){if(E.y<=0&&(d<=y||p>=m)){w=!1;break}I(os),f-=E.y,d+=E.y,h=f*c}else I(os),I(oi),E.x>=0?p<m?h+=E.x:E.y<=0&&d<=y&&(w=!1):h+=E.x,E.y<=0?d>y&&(f-=E.y,d+=E.y):(f-=E.y,d+=E.y);h<0&&f<0?(l=qo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Ho,h=-h,u-=h):f<0&&(l=Wo,f=-f,d-=f);break;case Ho:if(c){if(E.y<=0&&(d<=y||u<=x)){w=!1;break}I(os),f-=E.y,d+=E.y,h=f*c,u+=i.width-h}else I(os),I(li),E.x<=0?u>x?(h-=E.x,u+=E.x):E.y<=0&&d<=y&&(w=!1):(h-=E.x,u+=E.x),E.y<=0?d>y&&(f-=E.y,d+=E.y):(f-=E.y,d+=E.y);h<0&&f<0?(l=Wo,f=-f,h=-h,d-=f,u-=h):h<0?(l=zo,h=-h,u-=h):f<0&&(l=qo,f=-f,d-=f);break;case qo:if(c){if(E.x<=0&&(u<=x||g>=v)){w=!1;break}I(li),h-=E.x,u+=E.x,f=h/c}else I(ha),I(li),E.x<=0?u>x?(h-=E.x,u+=E.x):E.y>=0&&g>=v&&(w=!1):(h-=E.x,u+=E.x),E.y>=0?g<v&&(f+=E.y):f+=E.y;h<0&&f<0?(l=zo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Wo,h=-h,u-=h):f<0&&(l=Ho,f=-f,d-=f);break;case Wo:if(c){if(E.x>=0&&(p>=m||g>=v)){w=!1;break}I(oi),h+=E.x,f=h/c}else I(ha),I(oi),E.x>=0?p<m?h+=E.x:E.y>=0&&g>=v&&(w=!1):h+=E.x,E.y>=0?g<v&&(f+=E.y):f+=E.y;h<0&&f<0?(l=Ho,f=-f,h=-h,d-=f,u-=h):h<0?(l=qo,h=-h,u-=h):f<0&&(l=zo,f=-f,d-=f);break;case pC:this.move(E.x,E.y),w=!1;break;case mC:this.zoom(m9(a),e),w=!1;break;case fC:if(!E.x||!E.y){w=!1;break}_=EC(this.cropper),u=j.startX-_.left,d=j.startY-_.top,h=i.minWidth,f=i.minHeight,E.x>0?l=E.y>0?Wo:zo:E.x<0&&(u-=h,l=E.y>0?qo:Ho),E.y<0&&(d-=f),this.cropped||(Nr(this.cropBox,on),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}w&&(i.width=h,i.height=f,i.left=u,i.top=d,this.action=l,this.renderCropBox()),ct(a,function(b){b.startX=b.endX,b.startY=b.endY})}},P9={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&mt(this.dragBox,Zd),Nr(this.cropBox,on),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ke({},this.initialImageData),this.canvasData=Ke({},this.initialCanvasData),this.cropBoxData=Ke({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ke(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Nr(this.dragBox,Zd),mt(this.cropBox,on)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ct(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Nr(this.cropper,w_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,mt(this.cropper,w_)),this},destroy:function(){var e=this.element;return e[We]?(e[We]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(jp(e)?e:s+Number(e),jp(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(me(e)&&(r.left=e,s=!0),me(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,a=i.width,l=i.height,c=i.naturalWidth,u=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var d=c*e,h=u*e;if(qa(this.element,Cg,{ratio:e,oldRatio:a/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=EC(this.cropper),g=f&&Object.keys(f).length?g9(f):{pageX:r.pageX,pageY:r.pageY};i.left-=(d-a)*((g.pageX-p.left-i.left)/a),i.top-=(h-l)*((g.pageY-p.top-i.top)/l)}else Pa(n)&&me(n.x)&&me(n.y)?(i.left-=(d-a)*((n.x-i.left)/a),i.top-=(h-l)*((n.y-i.top)/l)):(i.left-=(d-a)/2,i.top-=(h-l)/2);i.width=d,i.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),me(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,me(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(me(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(me(e)&&(r.scaleX=e,s=!0),me(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var l=r.width/r.naturalWidth;if(ct(a,function(d,h){a[h]=d/l}),e){var c=Math.round(a.y+a.height),u=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=u-a.x,a.height=c-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&Pa(e)){var a=!1;n.rotatable&&me(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,a=!0),n.scalable&&(me(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,a=!0),me(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;me(e.x)&&(i.left=e.x*l+s.left),me(e.y)&&(i.top=e.y*l+s.top),me(e.width)&&(i.width=e.width*l),me(e.height)&&(i.height=e.height*l),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?Ke({},this.containerData):{}},getImageData:function(){return this.sized?Ke({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&ct(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Pa(e)&&(me(e.left)&&(n.left=e.left),me(e.top)&&(n.top=e.top),me(e.width)?(n.width=e.width,n.height=e.width/r):me(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&Pa(e)&&(me(e.left)&&(n.left=e.left),me(e.top)&&(n.top=e.top),me(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),me(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=y9(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,a=s.y,l=s.width,c=s.height,u=r.width/Math.floor(n.naturalWidth);u!==1&&(i*=u,a*=u,l*=u,c*=u);var d=l/c,h=Ts({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Ts({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Ts({aspectRatio:d,width:e.width||(u!==1?r.width:l),height:e.height||(u!==1?r.height:c)}),g=p.width,x=p.height;g=Math.min(h.width,Math.max(f.width,g)),x=Math.min(h.height,Math.max(f.height,x));var y=document.createElement("canvas"),m=y.getContext("2d");y.width=Wa(g),y.height=Wa(x),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,x);var v=e.imageSmoothingEnabled,w=v===void 0?!0:v,_=e.imageSmoothingQuality;m.imageSmoothingEnabled=w,_&&(m.imageSmoothingQuality=_);var j=r.width,E=r.height,I=i,b=a,T,S,P,D,C,M;I<=-l||I>j?(I=0,T=0,P=0,C=0):I<=0?(P=-I,I=0,T=Math.min(j,l+I),C=T):I<=j&&(P=0,T=Math.min(l,j-I),C=T),T<=0||b<=-c||b>E?(b=0,S=0,D=0,M=0):b<=0?(D=-b,b=0,S=Math.min(E,c+b),M=S):b<=E&&(D=0,S=Math.min(c,E-b),M=S);var k=[I,b,T,S];if(C>0&&M>0){var $=g/l;k.push(P*$,D*$,C*$,M*$)}return m.drawImage.apply(m,[r].concat(dC(k.map(function(O){return Math.floor(Wa(O))})))),y},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!jp(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===Sx,a=n.movable&&e===gC;e=i||a?e:vC,n.dragMode=e,fc(r,hc,e),Aa(r,Eg,i),Aa(r,Tg,a),n.cropBoxMovable||(fc(s,hc,e),Aa(s,Eg,i),Aa(s,Tg,a))}return this}},A9=Pr.Cropper,SC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(zz(this,t),!e||!s9.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Ke({},P_,Pa(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Hz(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[We]){if(n[We]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(n9.test(n)){r9.test(n)?this.read(b9(n)):this.clone();return}var a=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=l,a.onerror=l,a.ontimeout=l,a.onprogress=function(){a.getResponseHeader("content-type")!==C_&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&k_(n)&&s.crossOrigin&&(n=R_(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=s.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=E9(n),a=0,l=1,c=1;if(i>1){this.url=_9(n,C_);var u=T9(i);a=u.rotate,l=u.scaleX,c=u.scaleY}r.rotatable&&(s.rotate=a),r.scalable&&(s.scaleX=l,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&k_(r)&&(s||(s="anonymous"),i=R_(r)),this.crossOrigin=s,this.crossOriginUrl=i;var a=document.createElement("img");s&&(a.crossOrigin=s),a.src=i||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),mt(a,b_),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Pr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Pr.navigator.userAgent),i=function(u,d){Ke(n.imageData,{naturalWidth:u,naturalHeight:d,aspectRatio:u/d}),n.initialImageData=Ke({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){i(a.width,a.height),s||l.removeChild(a)},a.src=r.src,s||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,a=document.createElement("div");a.innerHTML=i9;var l=a.querySelector(".".concat(We,"-container")),c=l.querySelector(".".concat(We,"-canvas")),u=l.querySelector(".".concat(We,"-drag-box")),d=l.querySelector(".".concat(We,"-crop-box")),h=d.querySelector(".".concat(We,"-face"));this.container=i,this.cropper=l,this.canvas=c,this.dragBox=u,this.cropBox=d,this.viewBox=l.querySelector(".".concat(We,"-view-box")),this.face=h,c.appendChild(s),mt(n,on),i.insertBefore(l,n.nextSibling),Nr(s,b_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,mt(d,on),r.guides||mt(d.getElementsByClassName("".concat(We,"-dashed")),on),r.center||mt(d.getElementsByClassName("".concat(We,"-center")),on),r.background&&mt(l,"".concat(We,"-bg")),r.highlight||mt(h,Xz),r.cropBoxMovable&&(mt(h,Tg),fc(h,hc,Tx)),r.cropBoxResizable||(mt(d.getElementsByClassName("".concat(We,"-line")),on),mt(d.getElementsByClassName("".concat(We,"-point")),on)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),sn(r.ready)&&Mn(n,j_,r.ready,{once:!0}),qa(n,j_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Nr(this.element,on)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=A9,t}},{key:"setDefaults",value:function(n){Ke(P_,Pa(n)&&n)}}]),t}();Ke(SC.prototype,S9,j9,N9,I9,C9,P9);var pi=function(){return pi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},pi.apply(this,arguments)};function Ip(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var k9=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],R9={opacity:0,maxWidth:"100%"},jC=Ne.forwardRef(function(t,e){var n=Ip(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,a=n.style,l=n.className,c=n.crossOrigin,u=n.scaleX,d=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,x=g===void 0?"picture":g,y=n.ready,m=n.onInitialized,v=Ip(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),w={scaleY:d,scaleX:u,enable:h,zoomTo:f,rotateTo:p},_=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];var b=N.useRef(null);return Ne.useEffect(function(){E.forEach(function(T){T&&(typeof T=="function"?T(b.current):T.current=b.current)})},[E]),b}(e,N.useRef(null));N.useEffect(function(){var E;!((E=_.current)===null||E===void 0)&&E.cropper&&typeof f=="number"&&_.current.cropper.zoomTo(f)},[n.zoomTo]),N.useEffect(function(){var E;!((E=_.current)===null||E===void 0)&&E.cropper&&i!==void 0&&_.current.cropper.reset().clear().replace(i)},[i]),N.useEffect(function(){if(_.current!==null){var E=new SC(_.current,pi(pi({dragMode:s},v),{ready:function(I){I.currentTarget!==null&&function(b,T){T===void 0&&(T={});var S=T.enable,P=S===void 0||S,D=T.scaleX,C=D===void 0?1:D,M=T.scaleY,k=M===void 0?1:M,$=T.zoomTo,O=$===void 0?0:$,R=T.rotateTo;P?b.enable():b.disable(),b.scaleX(C),b.scaleY(k),R!==void 0&&b.rotateTo(R),O>0&&b.zoomTo(O)}(I.currentTarget.cropper,w),y&&y(I)}}));m&&m(E)}return function(){var I,b;(b=(I=_.current)===null||I===void 0?void 0:I.cropper)===null||b===void 0||b.destroy()}},[_]);var j=function(E){return k9.reduce(function(I,b){var T=I,S=b;return T[S],Ip(T,[typeof S=="symbol"?S:S+""])},E)}(pi(pi({},v),{crossOrigin:c,src:i,alt:x}));return Ne.createElement("div",{style:a,className:l},Ne.createElement("img",pi({},j,{style:R9,ref:_})))});const NC=async()=>{try{const t=Ee(ie,"slider_images"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i.title.stringValue,u=l?await D9(l):null;n.push({_id:a,title:c,bannerURL:u})});await Promise.all(r),bt.dispatch(uB(n))}catch(t){console.error("Error fetching Slider:",t)}},D9=async t=>{try{const e=$e(Be,`slider_images/${t}`);return await ri(e)}catch{return null}};async function O9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=st(ie,"slider_images",t),s=(await ti(e)).data().banner;if(await vn(e),s){const i=$e(Be,`slider_images/${s}`);await si(i)}alert("Slider item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Slider!")}}}const L9=()=>{const t=re(p=>p.getslider).data,[e,n]=N.useState(),[r,s]=N.useState(""),[i,a]=N.useState(!1),[l,c]=N.useState("");N.useEffect(()=>{NC()},[]);const u=N.useRef(null),d=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(u&&u.current){const p=u.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){W("danger","Please select an image and provide a title!");return}a(!0);const p=$e(Be,`slider_images/${r}`),g=await fetch(l).then(y=>y.blob()),x=new FileReader;x.readAsDataURL(g),x.onloadend=async()=>{ni(p,g).then(async()=>{await Ht(Ee(ie,"slider_images"),{title:r,bannerURL:r}),W("success","Slider Image has been saved!"),s(""),n(null),a(!1),window.location.reload()}).catch(()=>{W("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later."),a(!1)})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Slider Images"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{children:g+1}),o.jsx("td",{children:p.title}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ne,{target:"_blank",to:p.bannerURL,children:o.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>O9(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog ",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:i,value:r})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:i}),o.jsx("div",{className:"my-2",children:o.jsx(jC,{src:e,ref:u,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Nx=async()=>{try{const t=Ee(ie,"phdStudents"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await V9(l):null;n.push({_id:a,data:i,profileImage:c})});await Promise.all(r),bt.dispatch(fB(n))}catch(t){console.error("Error fetching phd:",t)}};async function M9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=st(ie,"phdStudents",t);await vn(e),alert("phd item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting phd!")}}}const V9=async t=>{try{const e=$e(Be,`/peoples/phd_profile_images/${t}`);return await ri(e)}catch{return null}},IC=async()=>{try{const t=Ee(ie,"pgusStudents"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),bt.dispatch(pB(n))}catch(t){console.error("Error fetching pgug:",t)}};async function F9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=st(ie,"pgusStudents",t);await vn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting pgug!")}}}const CC=async()=>{try{const t=Ee(ie,"visitorsAndInterns"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),bt.dispatch(mB(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function U9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=st(ie,"visitorsAndInterns",t);await vn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Visitor/Intern!")}}}const $9=()=>{const t=re(l=>l.getphdStudents.data),e=re(l=>l.getpgugStudents.data),n=re(l=>l.getvisitorsandinterns.data),[r,s]=N.useState(1),[i,a]=N.useState("");return N.useEffect(()=>{Nx(),IC(),CC()},[]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Peoples"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"w-100",children:o.jsxs(o.Fragment,{children:[o.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>s(1),children:"Ph.D. Scholars"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(2),children:"Post Graduate students"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(3),children:"Alumni PhD"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(4),children:"Alumni Masters and Bachelors"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(5),children:"Interns and Visitors"})})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[(r===1||r===3)&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),r!==5&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(r===2||r===4)&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),r!==5&&o.jsxs(o.Fragment,{children:[" ",o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:r===3||r===1?"Research Interests":"Currently Working At"})]}),r===5&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsxs("tbody",{children:[(r===1||r===3)&&(t==null?void 0:t.map(l=>{var g,x;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p}=l==null?void 0:l.data;return r===1&&(d!=null&&d.booleanValue)||r===3&&!(d!=null&&d.booleanValue)?null:o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("a",{href:l==null?void 0:l.profileImage,target:"_blank",children:o.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{width:"80px"}})})}),o.jsxs("td",{children:[c==null?void 0:c.stringValue,(d==null?void 0:d.booleanValue)&&o.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("td",{children:o.jsx("a",{href:"mailto:"+(h==null?void 0:h.stringValue),target:"_blank",children:(h==null?void 0:h.stringValue)||"N/A"})}),o.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),o.jsx("td",{children:f==null?void 0:f.stringValue}),o.jsx("td",{children:o.jsx("ol",{children:(x=(g=p==null?void 0:p.arrayValue)==null?void 0:g.values)==null?void 0:x.map((y,m)=>o.jsx("li",{children:y.stringValue},m))})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>M9(l._id),children:"Delete"})})})]})})]},l._id)})),(r===2||r===4)&&(e==null?void 0:e.map(l=>{const{name:c,batch:u,isAlumni:d,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return r===2&&(d!=null&&d.booleanValue)||r===4&&!(d!=null&&d.booleanValue)?null:o.jsxs("tr",{children:[o.jsxs("td",{children:[c==null?void 0:c.stringValue,(d==null?void 0:d.booleanValue)&&o.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("td",{children:o.jsx("a",{href:"mailto:"+(h==null?void 0:h.stringValue),target:"_blank",children:(h==null?void 0:h.stringValue)||"N/A"})}),o.jsx("td",{children:(p==null?void 0:p.stringValue)||"N/A"}),o.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),o.jsx("td",{children:f==null?void 0:f.stringValue}),o.jsx("td",{children:g==null?void 0:g.stringValue}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>F9(l._id),children:"Delete"})})})]})})]},l._id)})),r===5&&(n==null?void 0:n.map(l=>{const{name:c,collegeName:u}=l==null?void 0:l.data;return o.jsxs("tr",{children:[o.jsx("td",{children:c==null?void 0:c.stringValue}),o.jsx("td",{children:u==null?void 0:u.stringValue}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>U9(l._id),children:"Delete"})})})]})})]},l._id)}))]})]}),!n.length&&r===5&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!t.length&&(r===1||r===3)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!e.length&&(r===2||r===4)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]})})]}),o.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),o.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:l=>a(l.target.value),children:[o.jsx("option",{value:"",children:"--select designation--"}),o.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),o.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),o.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),o.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),o.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"mb-2",children:[(i==="Ph.D. Scholars"||i==="Alumni Ph.D.")&&o.jsx(B9,{}),(i==="Post Graduate students"||i==="Alumni Masters and Bachelors")&&o.jsx(z9,{}),i==="Visitors and Interns"&&o.jsx(H9,{})]})]})})]})})})]})},B9=()=>{const t=re(_=>_.getsupervisors.data),[e,n]=N.useState(""),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState({name:"",email:""}),[h,f]=N.useState(""),[p,g]=N.useState(!1),[x,y]=N.useState(!1),[m,v]=N.useState(),w=async _=>{if(_.preventDefault(),!e||!r||!i||!l||!h){W("danger","Error! Please fill all required fields.");return}if(!m){W("danger","Please upload an Image!");return}y(!0);const j=$e(Be,`/peoples/phd_profile_images/${e}_${m.name}`);await ni(j,m).then(async()=>{console.log("Profile image uploaded successfully"),Ht(Ee(ie,"phdStudents"),{name:e,email:r,mobile:i,batch:l,supervisor:u,researchInterests:h.split(",").map(E=>E.trim()),isAlumni:p,profileImage:e+"_"+m.name}).then(()=>{W("success","Data Saved Successfully!"),n(""),s(""),a(""),c(""),f(""),g(!1),y(!1),window.location.reload()}).catch(()=>{W("danger","Failed to save Data!"),y(!1)})})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:w,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:_=>n(_.target.value)})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",onChange:_=>s(_.target.value),placeholder:"ie. user@gmail.com"})]}),o.jsxs("div",{className:"col",children:[o.jsxs("label",{htmlFor:"useremail",children:["Supervisor",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:_=>{var j,E,I;d({name:_.target.value,email:(I=(E=(j=t.filter(b=>{var T,S;return((S=(T=b==null?void 0:b.data)==null?void 0:T.name)==null?void 0:S.stringValue)==_.target.value})[0])==null?void 0:j.data)==null?void 0:E.email)==null?void 0:I.stringValue})},children:[o.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((_,j)=>{var E,I,b,T,S,P;return o.jsxs("option",{value:(I=(E=_==null?void 0:_.data)==null?void 0:E.name)==null?void 0:I.stringValue,children:[(T=(b=_==null?void 0:_.data)==null?void 0:b.name)==null?void 0:T.stringValue,"-",(P=(S=_==null?void 0:_.data)==null?void 0:S.email)==null?void 0:P.stringValue]},j)})]})]})]}),o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Mobile"}),o.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:_=>a(_.target.value),placeholder:"ie. 10 digits mobile number"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:_=>{var E;const j=(E=_.target.files)==null?void 0:E[0];v(j)},disabled:x})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Batch"}),o.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:_=>c(_.target.value)})]})]}),o.jsxs("div",{className:"mb-1",children:[o.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),o.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:_=>f(_.target.value)})]}),o.jsx("div",{className:"mb-1 mt-2",children:o.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[o.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:_=>g(_.target.checked)}),o.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:x,children:x?"Submitting...":"Submit"})})]})})},z9=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[f,p]=N.useState(!1),[g,x]=N.useState(!1),y=m=>{if(m.preventDefault(),!t||!n||!s||!a||!c||!d){W("danger","Please fill all the required fields.");return}x(!0),Ht(Ee(ie,"pgusStudents"),{degree:t,name:n,email:s,mobile:a,batch:c,currentlyWorkingAt:d,isAlumni:f}).then(()=>{W("success","Data Saved!"),e(""),r(""),i(""),l(""),u(""),h(""),p(!1),x(!1),location.reload()}).catch(()=>{W("danger","Error while Saving Data!"),x(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:y,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),o.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[o.jsx("option",{value:"",children:"--select--"}),o.jsx("option",{value:"B.Tech",children:"B.Tech"}),o.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>i(m.target.value)})]})]}),o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Mobile"}),o.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Batch"}),o.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>u(m.target.value)})]})]}),o.jsxs("div",{className:"mb-1",children:[o.jsx("label",{htmlFor:"name",children:"Currently Working At"}),o.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),o.jsx("div",{className:"mb-1 mt-2",children:o.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[o.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:m=>p(m.target.checked)}),o.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},H9=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(!1),a=l=>{if(l.preventDefault(),!t||!n){W("danger","Please fill all the required details.");return}i(!0),Ht(Ee(ie,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{W("success","Data Saved!"),e(""),r(""),i(!1),location.reload()}).catch(()=>{W("danger","Failed to save data."),i(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:a,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"College Name"}),o.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:s,children:s?"Submitting...":"Submit"})})]})})},D_=()=>{const t=iC(),e=re(h=>h.getalerts.data),n=re(h=>h.getsupervisors.data),[r,s]=N.useState(!1),[i,a]=N.useState(),[l,c]=N.useState({name:"",email:"",phone:"",researchInterests:"",introduction:"",googleScholarLink:"",researchGateLink:"",personalProfileLink:"",otherLink:""});N.useEffect(()=>{Co()},[]);const u=h=>{const{name:f,value:p}=h.target;c(g=>({...g,[f]:p}))},d=async()=>{const{name:h,email:f,phone:p,researchInterests:g,introduction:x,googleScholarLink:y,researchGateLink:m,personalProfileLink:v,otherLink:w}=l;if(!h||!f||!p||!g||!x){t(us([...e,{id:ds(),type:"danger",content:"Please fill all required fields."}]));return}if(!i){t(us([...e,{id:ds(),type:"danger",content:"Please upload a profile image."}]));return}s(!0);const _=$e(Be,`/peoples/supervisor_profile_images/${h}_${i.name}`);await ni(_,i).then(async()=>{t(us([...e,{id:ds(),type:"success",content:"Profile image uploaded successfully"}])),Ht(Ee(ie,"supervisors"),{name:h,email:f,phone:p,researchInterests:g,introduction:x,googleScholarLink:y,researchGateLink:m,personalProfileLink:v,otherLink:w,profileImage:h+"_"+i.name,startDate:new Date,endDate:"NA"}).then(()=>{t(us([...e,{id:ds(),type:"success",content:"Supervisor details along with profile image have been saved successfully!"}])),c({name:"",email:"",phone:"",researchInterests:"",introduction:"",googleScholarLink:"",researchGateLink:"",personalProfileLink:"",otherLink:""}),a(void 0),s(!1),window.location.reload()}).catch(()=>{t(us([...e,{id:ds(),type:"danger",content:"Error! While adding a Supervisor, Check you internet connnection and Try Again later."}])),s(!1)})}).catch(()=>{t(us([...e,{id:ds(),type:"danger",content:"Error! While adding a Supervisor, Check you internet connnection and Try Again later."}])),s(!1)})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Supervisor"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:n==null?void 0:n.map((h,f)=>{const{name:p,email:g,phone:x,researchInterests:y,introduction:m,googleScholarLink:v,researchGateLink:w,personalProfileLink:_,otherLink:j,startDate:E,endDate:I}=h==null?void 0:h.data;return o.jsxs("tr",{children:[o.jsx("td",{children:f+1}),o.jsx("td",{children:o.jsx("a",{href:h==null?void 0:h.profileImage,target:"_blank",children:o.jsx("img",{src:h==null?void 0:h.profileImage,alt:`${p}'s profile`,style:{width:"50px",height:"auto"}})})}),o.jsxs("td",{children:[p==null?void 0:p.stringValue,o.jsx("hr",{}),"(From ",E==null?void 0:E.timestampValue," to",I!=null&&I.timestampValue?I==null?void 0:I.timestampValue:" NA",")"]}),o.jsxs("td",{children:["Email:"," ",o.jsx("a",{href:"mailto:"+(g==null?void 0:g.stringValue),target:"_blank",children:g==null?void 0:g.stringValue}),o.jsx("hr",{}),"Mobile: ",x==null?void 0:x.stringValue]}),o.jsx("td",{children:y==null?void 0:y.stringValue}),o.jsx("td",{children:o.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:m==null?void 0:m.stringValue})}),o.jsx("td",{children:o.jsxs("ol",{children:[o.jsx("li",{children:o.jsx(ne,{to:v==null?void 0:v.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Google Scholar"})}),o.jsx("li",{children:o.jsx(ne,{to:w==null?void 0:w.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Researchgate"})}),o.jsx("li",{children:o.jsx(ne,{to:_==null?void 0:_.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Personal Profile"})}),o.jsx("li",{children:o.jsx(ne,{to:j==null?void 0:j.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Other Link"})})]})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${f}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${f}`,children:[o.jsx("li",{children:o.jsx(ne,{className:"dropdown-item text-primary",to:"supervisors/"+(h==null?void 0:h._id),children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Iz(h._id),children:"Delete"})})]})]})})]},h._id)})})]}),!n.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:u})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:u})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),o.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:u})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];a(f)}})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:u})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),o.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:u})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"googleScholarLink",className:"form-label",children:"Google Scholar Link"}),o.jsx("input",{type:"text",className:"form-control",name:"googleScholarLink",value:l.googleScholarLink,onChange:u})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchGateLink",className:"form-label",children:"Research Gate Link"}),o.jsx("input",{type:"text",className:"form-control",name:"researchGateLink",value:l.researchGateLink,onChange:u})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"personalProfileLink",className:"form-label",children:"Personal Profile Link"}),o.jsx("input",{type:"text",className:"form-control",name:"personalProfileLink",value:l.personalProfileLink,onChange:u})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"otherLink",className:"form-label",children:"Other Link (if any)"}),o.jsx("input",{type:"text",className:"form-control",name:"otherLink",value:l.otherLink,onChange:u})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Po=async()=>{try{const t=Ee(ie,"datasets"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i==null?void 0:i.title.stringValue,u=i==null?void 0:i.description.stringValue,d=l?await W9(l):null;n.push({_id:a,title:c,description:u,bannerURL:d})});await Promise.all(r),bt.dispatch(gB(n))}catch(t){console.error("Error fetching Datasets:",t)}},W9=async t=>{try{const e=$e(Be,`dataset_images/${t}`);return await ri(e)}catch{return null}};async function q9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=st(ie,"datasets",t),s=(await ti(e)).data().banner;if(await vn(e),s){const i=$e(Be,`dataset_images/${s}`);await si(i)}alert("Datasets item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Datasets!")}}}const G9=()=>{const t=re(x=>x.getdatasets).data,[e,n]=N.useState(),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(""),h=N.useRef(null);N.useEffect(()=>{Po()},[]);const f=x=>{if(x.target.files&&x.target.files.length>0){const y=new FileReader;y.onload=()=>{n(y.result)},y.readAsDataURL(x.target.files[0])}},p=()=>{if(h&&h.current){const x=h.current.cropper;d(x.getCroppedCanvas().toDataURL())}},g=async()=>{if(!u||!r||!i){W("warning","Please select an image and provide a required fields!");return}c(!0);const x=$e(Be,`dataset_images/${r}`),y=await fetch(u).then(v=>v.blob()),m=new FileReader;m.readAsDataURL(y),m.onloadend=async()=>{ni(x,y).then(async()=>{await Ht(Ee(ie,"datasets"),{title:r,description:i,bannerURL:r}),W("success","Datasets has been saved!"),s(""),n(null),c(!1),window.location.reload()}).catch(()=>{W("danger","Error uploading image!"),c(!1)})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Datasets"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((x,y)=>o.jsxs("tr",{children:[o.jsx("td",{children:y+1}),o.jsx("td",{children:x==null?void 0:x.title}),o.jsxs("td",{children:[" ",o.jsx("div",{className:"overflow-auto p-2",style:{height:"300px"},children:x==null?void 0:x.description})]}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ne,{target:"_blank",to:x.bannerURL,children:o.jsx("img",{className:"rounded-2",src:x.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>q9(x._id),children:"Delete"})})})]})})]},y))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:x=>s(x.target.value),disabled:l,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),o.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:x=>a(x.target.value),disabled:l,value:i||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/jpeg",onChange:f,disabled:l}),o.jsx("div",{className:"my-2",children:o.jsx(jC,{src:e,ref:h,aspectRatio:16/9,guides:!0,crop:p})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:g,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},gf=async()=>{try{const t=Ee(ie,"ResearchArea"),e=await kt(t),n=[],r=e.docs.map(async s=>{var d,h;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=((h=(d=i==null?void 0:i.subareas)==null?void 0:d.arrayValue)==null?void 0:h.values)||[],u=l?await K9(l):null;n.push({_id:a,title:l,subareas:c,bannerURL:u})});await Promise.all(r),bt.dispatch(vB(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},K9=async t=>{try{const e=$e(Be,`research_areas_images/${t}`);return await ri(e)}catch{return null}};async function Y9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=st(ie,"ResearchArea",t),s=(await ti(e)).data().banner;if(await vn(e),s){const i=$e(Be,`research_areas_images/${s}`);await si(i)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ResearchArea!")}}}const vf=async()=>{try{const t=Ee(ie,"research_subitems"),e=await kt(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i==null?void 0:i.description.stringValue,c=i==null?void 0:i.researchArea,u=(f=(h=i==null?void 0:i.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,d=(p=i==null?void 0:i.title)==null?void 0:p.stringValue;n.push({_id:a,title:d,description:l,researchArea:c,projects:u})});await Promise.all(r),bt.dispatch(yB(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function Q9(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=st(ie,"research_subitems",t);await vn(n);const r=st(ie,"ResearchArea",e);await $i(r,{subareas:rN(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const X9=()=>{const t=re(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),[e,n]=N.useState(null),[r,s]=N.useState(""),[i,a]=N.useState(!1);N.useEffect(()=>{gf(),vf()},[]);const l=u=>{if(u.target.files&&u.target.files.length>0){const d=new FileReader;d.onload=()=>{n(d.result)},d.readAsDataURL(u.target.files[0])}},c=async()=>{if(!e||!r){W("danger","Please select an image and provide a title!");return}a(!0);const u=$e(Be,`research_areas_images/${r}`),d=await fetch(e).then(h=>h.blob());try{await ni(u,d),await Ht(Ee(ie,"ResearchArea"),{title:r,subareas:[]}),W("success","Research area has been saved!"),W("info","Info! You can add sub-areas later."),s(""),n(null),a(!1),location.reload()}catch{W("danger","Error! While uploading image, Please check your internet connection and try again."),a(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Research Area"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>o.jsxs("tr",{children:[o.jsx("td",{children:d+1}),o.jsx("td",{children:u==null?void 0:u.title}),o.jsx("td",{children:o.jsx(ne,{to:u._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ne,{target:"_blank",to:u==null?void 0:u.bannerURL,children:o.jsx("img",{className:"rounded-2",src:u.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Y9(u._id),children:"Delete"})})})]})})]},d))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:u=>s(u.target.value),disabled:i,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]}),o.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:o.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),o.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},la=async()=>{try{const t=Ee(ie,"projects_items"),e=await kt(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=(h=i==null?void 0:i.title)==null?void 0:h.stringValue,c=(f=i==null?void 0:i.pptLink)==null?void 0:f.stringValue,u=(p=i==null?void 0:i.pdfLink)==null?void 0:p.stringValue,d=l?await J9(l):null;n.push({_id:a,title:l,bannerURL:d,pdfLink:u,pptLink:c})});await Promise.all(r),bt.dispatch(xB(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},J9=async t=>{try{const e=$e(Be,`project_items_images/${t}`);return await ri(e)}catch{return null}};async function Z9(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=st(ie,"projects_items",t),s=(await ti(e)).data().banner;if(await vn(e),s){const c=$e(Be,`projects_items_images/${s}`);await si(c)}const i=Ee(ie,"research_subitems"),l=(await kt(i)).docs.map(async c=>{const u=c.ref;await $i(u,{projects:rN(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsItems!")}}}const e6=()=>{const{id:t}=Zi();N.useEffect(()=>{vf(),gf(),la()},[]);const n=re(y=>{var m;return(m=y.getresearcharea)==null?void 0:m.data}).find(y=>y._id===t);if(!n){window.history.back();return}const r=re(y=>y.getsubareas).data,s=(n==null?void 0:n.subareas)||[],i=r==null?void 0:r.filter(y=>s.some(m=>m.stringValue===(y==null?void 0:y._id))),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(!1),[f,p]=N.useState([]),g=re(y=>{var m;return(m=y.getprojectitems)==null?void 0:m.data}),x=async()=>{if(!a){W("danger","Please select an image and provide a title!");return}h(!0);try{const m=(await Ht(Ee(ie,"research_subitems"),{title:a,researcharea:n._id,description:c,projects:f})).id;await $i(st(ie,"ResearchArea",n._id),{subareas:f2(m)}),W("success","Subitem has been saved!"),l(""),u(""),p([]),h(!1),window.location.reload()}catch{W("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later.")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{className:"fw-bold text-danger",children:n==null?void 0:n.title}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"w-100 my-2",children:o.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:i==null?void 0:i.map((y,m)=>{var v;return o.jsxs("tr",{children:[o.jsx("td",{children:m+1}),o.jsx("td",{children:y==null?void 0:y.title}),o.jsx("td",{children:y==null?void 0:y.description}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(v=y==null?void 0:y.projects)==null?void 0:v.map((w,_)=>{const j=g==null?void 0:g.find(E=>(E==null?void 0:E._id)==(w==null?void 0:w.stringValue));return o.jsxs("div",{children:[_+1,". ",j==null?void 0:j.title," (",o.jsx(ne,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Q9(y._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!i.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:y=>l(y.target.value),disabled:d,value:a})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),o.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:y=>u(y.target.value),disabled:d,placeholder:"describe in some words.."})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),o.jsxs("select",{name:"project",className:"form-control",onChange:y=>{const m=y.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[o.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:f==null?void 0:f.map((y,m)=>{const v=g==null?void 0:g.find(w=>(w==null?void 0:w._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(w=>w!==y))},children:"Remove"})})]})})})]}),!f.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:x,disabled:d,children:d?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},t6=()=>{const t=re(p=>{var g;return(g=p.getprojectitems)==null?void 0:g.data}),[e,n]=N.useState(null),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1);N.useEffect(()=>{la()},[]);const h=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},f=async()=>{if(!e||!r){W("danger","Please select an image and provide a title!");return}d(!0);const p=$e(Be,`project_items_images/${r}`),g=await fetch(e).then(x=>x.blob());try{await ni(p,g),await Ht(Ee(ie,"projects_items"),{title:r,pptLink:i,pdfLink:l}),W("success","Project has been saved!"),s(""),c(""),a(""),n(null),d(!1),location.reload()}catch{W("danger","Error uploading image, Try Again!"),s(""),c(""),a(""),n(null),d(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Projects"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{children:g+1}),o.jsx("td",{children:p==null?void 0:p.title}),o.jsx("td",{children:o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx(ne,{to:p==null?void 0:p.pdfLink,target:"_blank",children:"PDF Link"})}),o.jsx("li",{children:o.jsx(ne,{to:p==null?void 0:p.pptLink,target:"_blank",children:"PPT Link"})})]})}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ne,{target:"_blank",to:p==null?void 0:p.bannerURL,children:o.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Z9(p._id),children:"Delete"})})})]})})]},g))})]})})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:u,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>a(p.target.value),disabled:u,value:i||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>c(p.target.value),disabled:u,value:l||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:u})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},yf=async()=>{try{const t=Ee(ie,"projects_main"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,...i})});await Promise.all(r),bt.dispatch(wB(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function n6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=st(ie,"projects_main",t);await vn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsMain!")}}}const r6=`Type of Project(Sponsored/Consultancy),Project Title,Funding Agency,Funding Amount in Inr.,JRF/PHD Scholars,Project Description(100 to 400 words),Names of the PI (comma separated),Names of the Co-PI (comma separated)
`,s6=`Consultancy,"Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",SERB-CRG,4500000,Kuldeep Marotirao Biradar,"The proposed system removes the onus of detecting aberrance situations from the manual operator; and rather, places it on the video surveillance system. The present technologies are fails to recognize aberration in video sequences. These aberrances occur over a small-time window. Thus, recognizing with its timeframe from a big visual data is really challenging task. Hence, our focus is on problems, where we are given a set of nominal training videos samples. Based on these samples need to determine whether or not a test video contains an aberration and what instant it occurs. Similarly, we aim to significantly reduce the time and human effort by automating the task and improving the accuracy by recognizing aberrances with its timestamp. Further, exploit the aberrance activity of the object by modeling the rich motion patterns in selected region, effectively capturing the underlying intrinsic structure they form in the video. Implementation of this system can be beneficial for intelligent agencies, banks, departmental stores, traffic monitoring on highway, airport terminal check-in, sports, medical field, and robotics etc.",Dr. Santosh Kumar Vipparthi,NA
`,O_={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},i6=()=>{var f,p,g,x;const[t,e]=N.useState(!1),n=re(y=>y.getsupervisors.data),r=re(y=>{var m;return(m=y.getprojectitems)==null?void 0:m.data}),s=re(y=>{var m;return(m=y.getdatasets)==null?void 0:m.data}),i=re(y=>{var m;return(m=y.getprojectsmain)==null?void 0:m.data}),[a,l]=N.useState([]),[c,u]=N.useState(O_);N.useEffect(()=>{Po(),la(),yf()},[]);const d=y=>{const{id:m,value:v}=y.target;u(w=>({...w,[m]:v}))},h=async()=>{if(!c.title||!c.description||!c.type||!c.copis||!c.total_fund||!c.funding_agency||!c.pis||!c.jrf_phd_scholar||!a){W("danger","Please fill out all fields.");return}e(!0);try{await Ht(Ee(ie,"projects_main"),{...c,users:a}),W("success","Project has been saved!"),u(O_),e(!1),window.location.reload()}catch{W("danger","Error! Failed to save project, Try again.")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Projects"}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),o.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[o.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:i==null?void 0:i.map((y,m)=>{var v,w,_,j,E,I,b,T,S,P,D,C,M;return o.jsxs("tr",{children:[o.jsx("td",{children:m+1}),o.jsxs("td",{className:"fw-bold text-danger",children:[(v=y==null?void 0:y.title)==null?void 0:v.stringValue,o.jsx("br",{}),o.jsx(ne,{to:"images/"+(y==null?void 0:y._id),style:{textDecoration:"none"},children:o.jsx("button",{className:"btn btn-danger",children:"Open"})})]}),o.jsxs("td",{children:[o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"PIs:"})," ",o.jsx("p",{children:(w=y==null?void 0:y.pis)==null?void 0:w.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Co-PIs:"})," ",o.jsx("p",{children:(_=y==null?void 0:y.copis)==null?void 0:_.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Funding Agency:"})," ",o.jsx("p",{children:(j=y==null?void 0:y.funding_agency)==null?void 0:j.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Total Fund(Inr):"})," ",o.jsxs("p",{children:["Rs. ",(E=y==null?void 0:y.total_fund)==null?void 0:E.stringValue]})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Ph.D./JRF Students:"})," ",o.jsx("p",{children:(I=y==null?void 0:y.jrf_phd_scholar)==null?void 0:I.stringValue})]})]}),o.jsx("td",{children:o.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(b=y==null?void 0:y.description)==null?void 0:b.stringValue})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(P=(S=(T=y==null?void 0:y.related_datasets)==null?void 0:T.arrayValue)==null?void 0:S.values)==null?void 0:P.map((k,$)=>{const O=s==null?void 0:s.find(R=>(R==null?void 0:R._id)==(k==null?void 0:k.stringValue));return o.jsxs("div",{children:[$+1,". ",O==null?void 0:O.title," (",o.jsx(ne,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(O==null?void 0:O._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(O==null?void 0:O._id)+"Modal",tabIndex:-1,"aria-labelledby":(O==null?void 0:O._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(O==null?void 0:O._id)+"ModalLabel",children:O==null?void 0:O.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:O==null?void 0:O.description}),o.jsx("img",{className:"w-100",src:O==null?void 0:O.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(M=(C=(D=y==null?void 0:y.related_projectitems)==null?void 0:D.arrayValue)==null?void 0:C.values)==null?void 0:M.map((k,$)=>{const O=r==null?void 0:r.find(R=>(R==null?void 0:R._id)==(k==null?void 0:k.stringValue));return o.jsxs("div",{children:[$+1,". ",O==null?void 0:O.title," (",o.jsx(ne,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(O==null?void 0:O._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(O==null?void 0:O._id)+"Modal",tabIndex:-1,"aria-labelledby":(O==null?void 0:O._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(O==null?void 0:O._id)+"ModalLabel",children:[O==null?void 0:O.title,"("," ",o.jsx(ne,{className:"btn-primary",style:{textDecoration:"none"},to:O==null?void 0:O.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(ne,{to:O==null?void 0:O.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:O==null?void 0:O.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx(ne,{className:"dropdown-item text-primary",to:y==null?void 0:y._id,children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>n6(y._id),children:"Delete"})})]})]})})]},m)})})]}),!i.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col mb-2",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:y=>{const m=y.target.value;!a||m===""||(a.includes(m)?alert("User with this name already existed."):l([...a,m]))},children:[o.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((y,m)=>{var v,w,_,j,E,I;return o.jsxs("option",{value:(w=(v=y==null?void 0:y.data)==null?void 0:v.name)==null?void 0:w.stringValue,children:[(j=(_=y==null?void 0:y.data)==null?void 0:_.name)==null?void 0:j.stringValue,"-",(I=(E=y==null?void 0:y.data)==null?void 0:E.email)==null?void 0:I.stringValue]},m)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:a==null?void 0:a.map((y,m)=>o.jsxs("span",{className:"badge bg-success",children:[y," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const v=a.filter(w=>w!==y);l(v)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},m))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:d,value:c.title,disabled:t})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[" ",o.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),o.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:d,value:c.funding_agency,disabled:t})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),o.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:d,value:c.total_fund,disabled:t})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:d,value:c.pis,disabled:t})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:d,value:c.copis,disabled:t})]})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),o.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:d,value:c.jrf_phd_scholar,disabled:t})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:d,value:c.type,disabled:t,children:[o.jsx("option",{value:"",children:"--select type--"}),o.jsx("option",{value:"consultancy",children:"Consultancy"}),o.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:d,value:c.description,placeholder:"describe project in 50 to 200 words..",disabled:t})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),o.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:y=>{const m=y.target.value;m!==""&&(c.related_datasets.includes(m)||u(v=>({...v,related_datasets:[...v.related_datasets,m]})))},value:c.type,disabled:t,children:[o.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(f=c.related_datasets)==null?void 0:f.map((y,m)=>{const v=s==null?void 0:s.find(w=>(w==null?void 0:w._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(w=>{var _;return{...w,related_datasets:(_=c==null?void 0:c.related_datasets)==null?void 0:_.filter(j=>j!==y)}})},children:"Remove"})})]})})})]}),!((p=c.related_datasets)!=null&&p.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:y=>{const m=y.target.value;m!==""&&(c.related_projectitems.includes(m)||u(v=>({...v,related_projectitems:[...v.related_projectitems,m]})))},disabled:t,children:[o.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(g=c.related_projectitems)==null?void 0:g.map((y,m)=>{const v=r==null?void 0:r.find(w=>(w==null?void 0:w._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(w=>{var _;return{...w,related_projectitems:(_=c==null?void 0:c.related_projectitems)==null?void 0:_.filter(j=>j!==y)}})},children:"Remove"})})]})})})]}),!((x=c.related_projectitems)!=null&&x.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]}),o.jsxs("div",{className:"alert alert-warning rounded-0 my-3",children:[o.jsx("strong",{children:"Note:"})," You can upload ",o.jsx("i",{children:"Images"})," related to project later."]}),o.jsx("button",{type:"button",className:"btn btn-danger w-100 p-3",onClick:h,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})}),o.jsx(a6,{getsupervisors:n})]})},a6=({getsupervisors:t})=>{const[e,n]=N.useState(!1),[r,s]=N.useState([]),[i,a]=N.useState([]),l=d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];h&&oC.parse(h,{complete:p=>{const g=p.data.filter(x=>Object.values(x).some(y=>y!==""));a(g)},header:!0})},c=async d=>{try{return!(await kt(Xj(Ee(ie,"projects_main"),Jj("title","==",d)))).empty}catch{return!1}},u=async d=>{if(d.preventDefault(),!r.length){W("danger","Please select supervisors!");return}if(!i.length){W("danger","Invalid CSV File Selected.");return}n(!0);const h=i.map(async f=>{const p=Object.values(f);if(!await c(p[2]))return Ht(Ee(ie,"projects_main"),{title:p[1],description:p[5],funding_agency:p[2],pis:p[6],copis:p[7],jrf_phd_scholar:p[4],related_datasets:[],related_projectitems:[],total_fund:p[3],type:p[0],users:r})});await Promise.all(h),W("success","Projects have been saved!"),W("info","Note: You can upload Images related to project later."),n(!1),window.location.reload()};return o.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Import Projects"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:d=>{const h=d.target.value;!r||h===""||(r.includes(h)?alert("User with this name already existed."):s([...r,h]))},children:[o.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((d,h)=>{var f,p,g,x,y,m;return o.jsxs("option",{value:(p=(f=d==null?void 0:d.data)==null?void 0:f.name)==null?void 0:p.stringValue,children:[(x=(g=d==null?void 0:d.data)==null?void 0:g.name)==null?void 0:x.stringValue,"-",(m=(y=d==null?void 0:d.data)==null?void 0:y.email)==null?void 0:m.stringValue]},h)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:r==null?void 0:r.map((d,h)=>o.jsxs("span",{className:"badge bg-success",children:[d," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const f=r.filter(p=>p!==d);s(f)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},h))})]}),o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",o.jsx("button",{className:"btn btn-link",onClick:()=>lC(r6,s6,"sample_projects_csv"),children:"Download Sample CSV file"}),")"]}),o.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:l})]}),o.jsx("div",{className:"d-flex gap-1 flex-wrap",children:i.length>0&&o.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[o.jsxs("table",{className:"table table-bordered",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(i[0]).map(d=>o.jsx("th",{children:d},d))})}),o.jsx("tbody",{children:i.map((d,h)=>o.jsx("tr",{children:Object.values(d).map((f,p)=>o.jsx("td",{children:f},p))},h))})]}),o.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:e,onClick:u,children:e?"Please Wait...":"Submit"})]})]})})})};var PC={exports:{}},o6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",l6=o6,c6=l6;function AC(){}function kC(){}kC.resetWarningCache=AC;var u6=function(){function t(r,s,i,a,l,c){if(c!==c6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kC,resetWarningCache:AC};return n.PropTypes=n,n};PC.exports=u6();var d6=PC.exports;const He=go(d6);function h6(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var RC=N,f6=h6(RC);function L_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var m6=!!(typeof window<"u"&&window.document&&window.document.createElement);function g6(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){p6(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,a=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){a.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=a.indexOf(this);a.splice(g,1),c()},f.render=function(){return f6.createElement(i,this.props)},h}(RC.PureComponent);return L_(u,"displayName","SideEffect("+r(i)+")"),L_(u,"canUseDOM",m6),u}}var v6=g6;const y6=go(v6);var x6=typeof Element<"u",w6=typeof Map=="function",b6=typeof Set=="function",_6=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Gu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Gu(t[r],e[r]))return!1;return!0}var i;if(w6&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Gu(r.value[1],e.get(r.value[0])))return!1;return!0}if(b6&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(_6&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(x6&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Gu(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var E6=function(e,n){try{return Gu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const T6=go(E6);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var M_=Object.getOwnPropertySymbols,S6=Object.prototype.hasOwnProperty,j6=Object.prototype.propertyIsEnumerable;function N6(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function I6(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var C6=I6()?Object.assign:function(t,e){for(var n,r=N6(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)S6.call(n,a)&&(r[a]=n[a]);if(M_){s=M_(n);for(var l=0;l<s.length;l++)j6.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const P6=go(C6);var Pi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},de={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(de).map(function(t){return de[t]});var qe={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},eh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},pc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},A6=Object.keys(eh).reduce(function(t,e){return t[eh[e]]=e,t},{}),k6=[de.NOSCRIPT,de.SCRIPT,de.STYLE],nr="data-react-helmet",R6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D6=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},O6=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),rn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L6=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},V_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},M6=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Ag=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},V6=function(e){var n=Ga(e,de.TITLE),r=Ga(e,pc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Ga(e,pc.DEFAULT_TITLE);return n||s||void 0},F6=function(e){return Ga(e,pc.ON_CHANGE_CLIENT_STATE)||function(){}},Cp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return rn({},r,s)},{})},U6=function(e,n){return n.filter(function(r){return typeof r[de.BASE]<"u"}).map(function(r){return r[de.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),a=0;a<i.length;a++){var l=i[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Go=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&H6("Helmet: "+e+' should be of type "Array". Instead found type "'+R6(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,a){var l={};a.filter(function(f){for(var p=void 0,g=Object.keys(f),x=0;x<g.length;x++){var y=g[x],m=y.toLowerCase();n.indexOf(m)!==-1&&!(p===qe.REL&&f[p].toLowerCase()==="canonical")&&!(m===qe.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(y)!==-1&&(y===qe.INNER_HTML||y===qe.CSS_TEXT||y===qe.ITEM_PROP)&&(p=y)}if(!p||!f[p])return!1;var v=f[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=P6({},s[d],l[d]);s[d]=h}return i},[]).reverse()},Ga=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},$6=function(e){return{baseTag:U6([qe.HREF,qe.TARGET],e),bodyAttributes:Cp(Pi.BODY,e),defer:Ga(e,pc.DEFER),encode:Ga(e,pc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Cp(Pi.HTML,e),linkTags:Go(de.LINK,[qe.REL,qe.HREF],e),metaTags:Go(de.META,[qe.NAME,qe.CHARSET,qe.HTTPEQUIV,qe.PROPERTY,qe.ITEM_PROP],e),noscriptTags:Go(de.NOSCRIPT,[qe.INNER_HTML],e),onChangeClientState:F6(e),scriptTags:Go(de.SCRIPT,[qe.SRC,qe.INNER_HTML],e),styleTags:Go(de.STYLE,[qe.CSS_TEXT],e),title:V6(e),titleAttributes:Cp(Pi.TITLE,e)}},kg=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){kg(e)},0)}}(),F_=function(e){return clearTimeout(e)},B6=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||kg:global.requestAnimationFrame||kg,z6=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||F_:global.cancelAnimationFrame||F_,H6=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Ko=null,W6=function(e){Ko&&z6(Ko),e.defer?Ko=B6(function(){U_(e,function(){Ko=null})}):(U_(e),Ko=null)},U_=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;Rg(de.BODY,s),Rg(de.HTML,i),q6(f,p);var g={baseTag:fa(de.BASE,r),linkTags:fa(de.LINK,a),metaTags:fa(de.META,l),noscriptTags:fa(de.NOSCRIPT,c),scriptTags:fa(de.SCRIPT,d),styleTags:fa(de.STYLE,h)},x={},y={};Object.keys(g).forEach(function(m){var v=g[m],w=v.newTags,_=v.oldTags;w.length&&(x[m]=w),_.length&&(y[m]=g[m].oldTags)}),n&&n(),u(e,x,y)},DC=function(e){return Array.isArray(e)?e.join(""):e},q6=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=DC(e)),Rg(de.TITLE,n)},Rg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(nr),i=s?s.split(","):[],a=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var h=a.indexOf(u);h!==-1&&a.splice(h,1)}for(var f=a.length-1;f>=0;f--)r.removeAttribute(a[f]);i.length===a.length?r.removeAttribute(nr):r.getAttribute(nr)!==l.join(",")&&r.setAttribute(nr,l.join(","))}},fa=function(e,n){var r=document.head||document.querySelector(de.HEAD),s=r.querySelectorAll(e+"["+nr+"]"),i=Array.prototype.slice.call(s),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===qe.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===qe.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(nr,"true"),i.some(function(f,p){return l=p,u.isEqualNode(f)})?i.splice(l,1):a.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:a}},OC=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},G6=function(e,n,r,s){var i=OC(r),a=DC(n);return i?"<"+e+" "+nr+'="true" '+i+">"+Ag(a,s)+"</"+e+">":"<"+e+" "+nr+'="true">'+Ag(a,s)+"</"+e+">"},K6=function(e,n,r){return n.reduce(function(s,i){var a=Object.keys(i).filter(function(u){return!(u===qe.INNER_HTML||u===qe.CSS_TEXT)}).reduce(function(u,d){var h=typeof i[d]>"u"?d:d+'="'+Ag(i[d],r)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=k6.indexOf(e)===-1;return s+"<"+e+" "+nr+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},LC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[eh[s]||s]=e[s],r},n)},Y6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[A6[s]||s]=e[s],r},n)},Q6=function(e,n,r){var s,i=(s={key:n},s[nr]=!0,s),a=LC(r,i);return[Ne.createElement(de.TITLE,a,n)]},X6=function(e,n){return n.map(function(r,s){var i,a=(i={key:s},i[nr]=!0,i);return Object.keys(r).forEach(function(l){var c=eh[l]||l;if(c===qe.INNER_HTML||c===qe.CSS_TEXT){var u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=r[l]}),Ne.createElement(e,a)})},Dr=function(e,n,r){switch(e){case de.TITLE:return{toComponent:function(){return Q6(e,n.title,n.titleAttributes)},toString:function(){return G6(e,n.title,n.titleAttributes,r)}};case Pi.BODY:case Pi.HTML:return{toComponent:function(){return LC(n)},toString:function(){return OC(n)}};default:return{toComponent:function(){return X6(e,n)},toString:function(){return K6(e,n,r)}}}},MC=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:Dr(de.BASE,n,s),bodyAttributes:Dr(Pi.BODY,r,s),htmlAttributes:Dr(Pi.HTML,i,s),link:Dr(de.LINK,a,s),meta:Dr(de.META,l,s),noscript:Dr(de.NOSCRIPT,c,s),script:Dr(de.SCRIPT,u,s),style:Dr(de.STYLE,d,s),title:Dr(de.TITLE,{title:f,titleAttributes:p},s)}},J6=function(e){var n,r;return r=n=function(s){L6(i,s);function i(){return D6(this,i),M6(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!T6(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case de.SCRIPT:case de.NOSCRIPT:return{innerHTML:c};case de.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return rn({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[rn({},h,this.mapNestedChildrenToProps(u,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(d.type){case de.TITLE:return rn({},h,(c={},c[d.type]=p,c.titleAttributes=rn({},f),c));case de.BODY:return rn({},h,{bodyAttributes:rn({},f)});case de.HTML:return rn({},h,{htmlAttributes:rn({},f)})}return rn({},h,(u={},u[d.type]=rn({},f),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=rn({},c);return Object.keys(l).forEach(function(d){var h;u=rn({},u,(h={},h[d]=l[d],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Ne.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=V_(f,["children"]),x=Y6(g);switch(u.warnOnInvalidChildren(h,p),h.type){case de.LINK:case de.META:case de.NOSCRIPT:case de.SCRIPT:case de.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:x,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:x,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=V_(l,["children"]),d=rn({},u);return c&&(d=this.mapChildrenToProps(c,d)),Ne.createElement(e,d)},O6(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Ne.Component),n.propTypes={base:He.object,bodyAttributes:He.object,children:He.oneOfType([He.arrayOf(He.node),He.node]),defaultTitle:He.string,defer:He.bool,encodeSpecialCharacters:He.bool,htmlAttributes:He.object,link:He.arrayOf(He.object),meta:He.arrayOf(He.object),noscript:He.arrayOf(He.object),onChangeClientState:He.func,script:He.arrayOf(He.object),style:He.arrayOf(He.object),title:He.string,titleAttributes:He.object,titleTemplate:He.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=MC({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},Z6=function(){return null},e5=y6($6,W6,MC)(Z6),gn=J6(e5);gn.renderStatic=gn.rewind;const t5=()=>{var $,O,R,L,F,q,A,z,X,J,ae,fe,Se,te,pe,Z,be,H,Ce,ze,ke,nn,qt,yn,Rn,Gt;const[t,e]=N.useState(!1);N.useEffect(()=>{(async()=>{e(!0),await zc(),await Co(),e(!1)})()},[]);const{id:n}=Zi(),s=re(Y=>Y.getpublications.data).filter(Y=>Y._id==n)[0],i=re(Y=>Y.getsupervisors.data),[a,l]=N.useState((O=($=s==null?void 0:s.data)==null?void 0:$.paperTitle)==null?void 0:O.stringValue),[c,u]=N.useState((L=(R=s==null?void 0:s.data)==null?void 0:R.paperType)==null?void 0:L.stringValue),[d,h]=N.useState((q=(F=s==null?void 0:s.data)==null?void 0:F.publisher)==null?void 0:q.stringValue),[f,p]=N.useState((z=(A=s==null?void 0:s.data)==null?void 0:A.publicationDate)==null?void 0:z.stringValue),[g,x]=N.useState((J=(X=s==null?void 0:s.data)==null?void 0:X.link)==null?void 0:J.stringValue),[y,m]=N.useState((fe=(ae=s==null?void 0:s.data)==null?void 0:ae.author)==null?void 0:fe.stringValue),[v,w]=N.useState((te=(Se=s==null?void 0:s.data)==null?void 0:Se.journalName)==null?void 0:te.stringValue),[_,j]=N.useState((Z=(pe=s==null?void 0:s.data)==null?void 0:pe.pages)==null?void 0:Z.stringValue),[E,I]=N.useState((H=(be=s==null?void 0:s.data)==null?void 0:be.volume)==null?void 0:H.stringValue),[b,T]=N.useState((ze=(Ce=s==null?void 0:s.data)==null?void 0:Ce.impact)==null?void 0:ze.stringValue),[S,P]=N.useState((nn=(ke=s==null?void 0:s.data)==null?void 0:ke.isbn)==null?void 0:nn.stringValue),D=[];(Gt=(Rn=(yn=(qt=s==null?void 0:s.data)==null?void 0:qt.users)==null?void 0:yn.arrayValue)==null?void 0:Rn.values)==null||Gt.map(Y=>{D==null||D.push(Y.stringValue)});const[C,M]=N.useState(D),k=Y=>{if(Y.preventDefault(),!a||!c||!d||!f||!g||!y||!v||!_||!E||!b||!S){W("danger","Please fill all required fields!");return}e(!0);const xe=st(ie,"publications",s==null?void 0:s._id);$i(xe,{paperTitle:a,paperType:c,publisher:d,publicationDate:f,link:g,author:y,journalName:v,pages:_,volume:E,impact:b,isbn:S,users:C}).then(()=>{W("success","Publication has been updated!"),e(!1),window.location.href="/CVPR_LAB/#/dashboard/publications"}).catch(()=>{W("danger","Error updating publication, Try again."),e(!1)})};if(!s){window.history.back();return}return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Edit Publication"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.location.href="/CVPR_LAB/#/dashboard/publications",children:"Back to Publications"})]}),o.jsx("hr",{}),o.jsx("div",{className:"card p-3",children:o.jsxs("form",{onSubmit:k,noValidate:!0,children:[o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:a,onChange:Y=>l(Y.target.value),required:!0,disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",disabled:t,onChange:Y=>{const xe=Y.target.value;if(C)if(xe==="other"){let Kt=prompt("Please enter supervisor name:");Kt&&M([...C,Kt])}else C.includes(xe)?alert("User with this name already existed."):M([...C,xe])},children:[o.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((Y,xe)=>{var Kt,Te,kr,Dn,ur,Yn;return o.jsxs("option",{value:(Te=(Kt=Y==null?void 0:Y.data)==null?void 0:Kt.name)==null?void 0:Te.stringValue,children:[(Dn=(kr=Y==null?void 0:Y.data)==null?void 0:kr.name)==null?void 0:Dn.stringValue,"-",(Yn=(ur=Y==null?void 0:Y.data)==null?void 0:ur.email)==null?void 0:Yn.stringValue]},xe)}),o.jsx("option",{value:"other",children:"Other"})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:C==null?void 0:C.map((Y,xe)=>o.jsxs("span",{className:"badge bg-success",children:[Y," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const Kt=C.filter(Te=>Te!==Y);M(Kt)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},xe))})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"paperType",value:c,onChange:Y=>u(Y.target.value),required:!0,disabled:t,children:[o.jsx("option",{value:"",children:"---select type---"}),o.jsx("option",{value:"Conference",children:"Conference"}),o.jsx("option",{value:"Patent",children:"Patent"}),o.jsx("option",{value:"Journal",children:"Journal"}),o.jsx("option",{value:"Book",children:"Book"}),o.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),o.jsx("option",{value:"Publications",children:"Publications"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:d,onChange:Y=>h(Y.target.value),required:!0,disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:f,onChange:Y=>p(Y.target.value),required:!0,disabled:t,children:[o.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((Y,xe)=>o.jsx("option",{value:2008+xe,children:2008+xe},xe))]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),o.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:g,onChange:Y=>x(Y.target.value),disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 mb-2",children:[o.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:Y=>m(Y.target.value),id:"authors",value:y,placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:t})]}),o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:v,onChange:Y=>w(Y.target.value),required:!0,disabled:t}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),o.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:_,onChange:Y=>j(Y.target.value),disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),o.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:E,onChange:Y=>I(Y.target.value),disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),o.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:b,onChange:Y=>T(Y.target.value),disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),o.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:S,onChange:Y=>P(Y.target.value),disabled:t})]})]}),o.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:t,children:t?"Please Wait...":"Submit"})]})})]})})},n5=()=>{var h,f,p,g,x,y,m,v,w,_,j,E,I,b,T,S,P,D;const{id:t}=Zi(),e=re(C=>C.getsupervisors.data),n=e==null?void 0:e.filter(C=>(C==null?void 0:C._id)==t)[0],[r,s]=N.useState(!1),[i,a]=N.useState(),[l,c]=N.useState({name:(f=(h=n==null?void 0:n.data)==null?void 0:h.name)==null?void 0:f.stringValue,email:(g=(p=n==null?void 0:n.data)==null?void 0:p.email)==null?void 0:g.stringValue,phone:(y=(x=n==null?void 0:n.data)==null?void 0:x.phone)==null?void 0:y.stringValue,researchInterests:(v=(m=n==null?void 0:n.data)==null?void 0:m.researchInterests)==null?void 0:v.stringValue,introduction:(_=(w=n==null?void 0:n.data)==null?void 0:w.introduction)==null?void 0:_.stringValue,googleScholarLink:(E=(j=n==null?void 0:n.data)==null?void 0:j.googleScholarLink)==null?void 0:E.stringValue,researchGateLink:(b=(I=n==null?void 0:n.data)==null?void 0:I.researchGateLink)==null?void 0:b.stringValue,personalProfileLink:(S=(T=n==null?void 0:n.data)==null?void 0:T.personalProfileLink)==null?void 0:S.stringValue,otherLink:(D=(P=n==null?void 0:n.data)==null?void 0:P.otherLink)==null?void 0:D.stringValue});N.useEffect(()=>{Co()},[]);const u=C=>{const{name:M,value:k}=C.target;c($=>({...$,[M]:k}))},d=async()=>{var z,X;const{name:C,email:M,phone:k,researchInterests:$,introduction:O,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:q}=l;if(!C||!M||!k||!$||!O){W("danger","Error! Please fill all required fields.");return}s(!0);const A=st(ie,"supervisors",n==null?void 0:n._id);if(i){if(n&&n.data&&n.data.profileImage){const ae=$e(Be,`/peoples/supervisor_profile_images/${(X=(z=n==null?void 0:n.data)==null?void 0:z.profileImage)==null?void 0:X.stringValue}`);try{await si(ae)}catch{W("danger","Error! Check your internet connection and try again."),s(!1);return}}const J=$e(Be,`/peoples/supervisor_profile_images/${C}_${i.name}`);try{await ni(J,i),W("info","Profile image uploaded successfully");const ae=`${C}_${i.name}`;await $i(A,{name:C,email:M,phone:k,researchInterests:$,introduction:O,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:q,profileImage:ae}),W("success","Supervisor details updated with profile image successfully."),window.location.href="/CVPR_LAB/#/dashboard"}catch{W("warning","Error! while uploading profile image, check your internet connection and try again."),s(!1);return}}else try{await $i(A,{name:C,email:M,phone:k,researchInterests:$,introduction:O,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:q}),W("success","Supervisor details updated successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{W("danger","Error updating supervisor details."),s(!1);return}s(!1)};if(!n){window.history.back();return}return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Edit Supervisor"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),o.jsx("hr",{}),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-sm-12 mb-3",children:o.jsxs("div",{className:"col-sm-2",children:[" ",o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",o.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:u,disabled:!0})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col overflow-auto",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",o.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),o.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:u,disabled:!0})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),o.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:u})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",o.jsx("span",{className:"text-danger",children:"aspect ratio 3:4 only"}),")"]}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:C=>{var k;const M=(k=C.target.files)==null?void 0:k[0];a(M)}})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",o.jsx("span",{className:"text-danger",children:"Use comma separated for multiple"}),")"]}),o.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:u,rows:4})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),o.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:u})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"googleScholarLink",className:"form-label",children:"Google Scholar Link"}),o.jsx("input",{type:"text",className:"form-control",name:"googleScholarLink",value:l.googleScholarLink,onChange:u})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchGateLink",className:"form-label",children:"Research Gate Link"}),o.jsx("input",{type:"text",className:"form-control",name:"researchGateLink",value:l.researchGateLink,onChange:u})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"personalProfileLink",className:"form-label",children:"Personal Profile Link"}),o.jsx("input",{type:"text",className:"form-control",name:"personalProfileLink",value:l.personalProfileLink,onChange:u})]}),o.jsxs("div",{className:"col",children:[o.jsxs("label",{htmlFor:"otherLink",className:"form-label",children:["Other Link (",o.jsx("span",{className:"text-danger",children:"if any"}),")"]}),o.jsx("input",{type:"text",className:"form-control",name:"otherLink",value:l.otherLink,onChange:u})]})]})]}),o.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:d,disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},r5={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},s5=()=>{var m,v,w,_,j,E,I,b,T,S,P,D,C,M,k,$,O,R,L,F,q;const{id:t}=Zi(),[e,n]=N.useState(!1),r=re(A=>{var z;return(z=A.getprojectitems)==null?void 0:z.data}),s=re(A=>{var z;return(z=A.getdatasets)==null?void 0:z.data}),i=re(A=>A.getsupervisors.data),a=re(A=>{var z;return(z=A.getprojectsmain)==null?void 0:z.data}),l=a==null?void 0:a.filter(A=>(A==null?void 0:A._id)==t)[0],c=[];(w=(v=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:v.values)==null||w.map(A=>{c==null||c.push(A.stringValue)});const u=[];(E=(j=(_=l==null?void 0:l.related_projectitems)==null?void 0:_.arrayValue)==null?void 0:j.values)==null||E.map(A=>{u==null||u.push(A.stringValue)});const[d,h]=N.useState({title:(I=l==null?void 0:l.title)==null?void 0:I.stringValue,description:(b=l==null?void 0:l.description)==null?void 0:b.stringValue,funding_agency:(T=l==null?void 0:l.description)==null?void 0:T.stringValue,pis:(S=l==null?void 0:l.pis)==null?void 0:S.stringValue,copis:(P=l==null?void 0:l.copis)==null?void 0:P.stringValue,jrf_phd_scholar:(D=l==null?void 0:l.jrf_phd_scholar)==null?void 0:D.stringValue,related_datasets:c,related_projectitems:u,total_fund:(C=l==null?void 0:l.total_fund)==null?void 0:C.stringValue,type:(M=l==null?void 0:l.type)==null?void 0:M.stringValue}),f=[];(O=($=(k=l==null?void 0:l.users)==null?void 0:k.arrayValue)==null?void 0:$.values)==null||O.map(A=>{f==null||f.push(A.stringValue)});const[p,g]=N.useState(f);N.useEffect(()=>{Po(),la(),yf()},[]);const x=A=>{const{id:z,value:X}=A.target;h(J=>({...J,[z]:X}))},y=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!p){W("danger","Please fill out all fields.");return}n(!0);try{const A=st(ie,"projects_main",l==null?void 0:l._id);await $i(A,{...d,users:p}),W("success","Project has been saved!"),h(r5),n(!1),window.location.href="/CVPR_LAB/#/dashboard/projects"}catch{W("danger","Error! while editing the Project, Try again.")}};if(!l){history.back();return}return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),o.jsx("hr",{}),o.jsx("div",{className:"card p-3",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col mb-2",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:A=>{const z=A.target.value;!p||z===""||(p.includes(z)?alert("User with this name already existed."):g([...p,z]))},children:[o.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((A,z)=>{var X,J,ae,fe,Se,te;return o.jsxs("option",{value:(J=(X=A==null?void 0:A.data)==null?void 0:X.name)==null?void 0:J.stringValue,children:[(fe=(ae=A==null?void 0:A.data)==null?void 0:ae.name)==null?void 0:fe.stringValue,"-",(te=(Se=A==null?void 0:A.data)==null?void 0:Se.email)==null?void 0:te.stringValue]},z)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((A,z)=>o.jsxs("span",{className:"badge bg-success",children:[A," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const X=p.filter(J=>J!==A);g(X)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},z))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:x,value:d.title,disabled:!0})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[" ",o.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),o.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:x,value:d.funding_agency,disabled:e})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),o.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:x,value:d.total_fund,disabled:e})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:x,value:d.pis,disabled:e})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:x,value:d.copis,disabled:e})]})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),o.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:x,value:d.jrf_phd_scholar,disabled:e})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:x,value:d.type,disabled:e,children:[o.jsx("option",{value:"",children:"--select type--"}),o.jsx("option",{value:"consultancy",children:"Consultancy"}),o.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:x,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),o.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:A=>{const z=A.target.value;z!==""&&(d.related_datasets.includes(z)||h(X=>({...X,related_datasets:[...X.related_datasets,z]})))},value:d.type,disabled:e,children:[o.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((A,z)=>o.jsx("option",{value:A==null?void 0:A._id,children:A==null?void 0:A.title},z))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(R=d.related_datasets)==null?void 0:R.map((A,z)=>{const X=s==null?void 0:s.find(J=>(J==null?void 0:J._id)==A);return o.jsxs("tr",{children:[o.jsx("th",{children:z+1}),o.jsx("th",{children:X==null?void 0:X.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(J=>{var ae;return{...J,related_datasets:(ae=d==null?void 0:d.related_datasets)==null?void 0:ae.filter(fe=>fe!==A)}})},children:"Remove"})})]})})})]}),!((L=d.related_datasets)!=null&&L.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:A=>{const z=A.target.value;z!==""&&(d.related_projectitems.includes(z)||h(X=>({...X,related_projectitems:[...X.related_projectitems,z]})))},disabled:e,children:[o.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((A,z)=>o.jsx("option",{value:A==null?void 0:A._id,children:A==null?void 0:A.title},z))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(F=d.related_projectitems)==null?void 0:F.map((A,z)=>{const X=r==null?void 0:r.find(J=>(J==null?void 0:J._id)==A);return o.jsxs("tr",{children:[o.jsx("th",{children:z+1}),o.jsx("th",{children:X==null?void 0:X.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(J=>{var ae;return{...J,related_projectitems:(ae=d==null?void 0:d.related_projectitems)==null?void 0:ae.filter(fe=>fe!==A)}})},children:"Remove"})})]})})})]}),!((q=d.related_projectitems)!=null&&q.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsx("div",{className:"p-3 mt-4  col-sm-12",children:o.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:y,disabled:e,children:e?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})},VC=async()=>{try{const t=Ee(ie,"gallery_images"),e=await kt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.id.stringValue;console.log(i);const c=i.timestamp.timestampValue,u=l?await i5(l):null;n.push({_id:a,datetime:c,bannerURL:u})});await Promise.all(r),bt.dispatch(bB(n))}catch(t){console.error("Error fetching Gallery:",t)}},i5=async t=>{try{const e=$e(Be,`gallery_images/${t}`);return await ri(e)}catch{return null}};async function FC(t,e){if(!e){if(!confirm("Are you sure want to delete this item?"))return;if(t===null){alert("Invalid Gallery ID");return}}if(t!==null)try{const n=st(ie,"gallery_images",t),i=(await ti(n)).data().banner;if(await vn(n),i){const a=$e(Be,`gallery_images/${i}`);await si(a)}e||(alert("Gallery item and image deleted successfully!"),location.reload())}catch(n){console.log(n),e||alert("Error deleting Gallery!")}}async function a5(t){for(let e=0;e<t.length;e++)await FC(t[e],!0);alert("Gallery Images deleted successfully!"),location.reload()}function UC(t){const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e.toLocaleString("en-US",n)}function o5(t){const e=new Date(t),n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<60?`${r} min ago`:s<24?`${s} hours ago`:`${i} days ago`}const l5=()=>{const t=re(h=>h.getgallery).data,[e,n]=N.useState([]),[r,s]=N.useState(!1),[i,a]=N.useState({selectedAll:!1,selectedChecks:[]}),[l,c]=N.useState(0);N.useEffect(()=>{VC()},[]);const u=h=>{const f=h.target.files;if(f){if(f.length>10){W("danger","Number of Images must be less than or equal to 10"),h.target.value="";return}const p=Array.from(f),g=[];p.forEach(x=>{const y=new FileReader;y.onload=()=>{typeof y.result=="string"&&g.push(y.result),g.length===p.length&&n(g)},y.readAsDataURL(x)})}},d=async()=>{if(!e.length){W("danger","Please select the images!");return}s(!0);try{const h=e.map(async f=>{const p=ds(),g=$e(Be,`gallery_images/${p}`),x=await fetch(f).then(m=>m.blob()),y=WU(g,x);return new Promise((m,v)=>{y.on("state_changed",w=>{const _=(w.bytesTransferred/w.totalBytes*100).toFixed(2);c(Number(_))},w=>{W("danger","Error uploading image! Try again."),v(w)},async()=>{await Ht(Ee(ie,"gallery_images"),{id:p,timestamp:new Date(Date.now())}),m()})})});await Promise.all(h),W("success","Images has been saved!")}catch(h){W("danger","Error uploading images!"),console.error("Error uploading images:",h)}c(0),n([]),s(!1),window.location.reload()};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Gallery Images"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),i.selectedChecks.length!==0&&o.jsx("button",{className:"btn btn-danger",onClick:async()=>{confirm("Are you sure want to delete!")&&(s(!0),await a5(i.selectedChecks),W("success","Images has been deleted!"))},disabled:r,children:r?"Please Wait..":"Delete Selected"}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:o.jsxs("div",{className:"d-flex flex-nowrap",children:[o.jsx("input",{type:"checkbox",className:"form-check-input me-2",name:"select_image",id:"select_image",onChange:h=>a({selectedAll:h.target.checked,selectedChecks:h.target.checked?c5(t):[]}),checked:i.selectedAll})," ",o.jsx("span",{children:"Select All "})]})}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Timestamp"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>{const p=i.selectedChecks.includes(h==null?void 0:h._id.toString());return o.jsxs("tr",{children:[o.jsx("td",{className:p?"bg-secondary1":"",children:o.jsx("input",{type:"checkbox",className:"form-check-input me-2",onChange:g=>{g.target.checked?a({selectedAll:!1,selectedChecks:[...i.selectedChecks,h==null?void 0:h._id]}):a({selectedAll:!1,selectedChecks:i.selectedChecks.filter(x=>x!=(h==null?void 0:h._id))})},checked:p})}),o.jsx("td",{className:p?"bg-secondary1":"",children:o.jsx(ne,{target:"_blank",to:h.bannerURL,style:{width:"200px",overflow:"auto"},children:o.jsx("img",{className:"rounded-2",src:h.bannerURL,alt:"",width:"300px"})})}),o.jsxs("td",{style:{width:"10px"},className:p?"bg-secondary1":"",children:[o5(h.datetime)," on"," ",UC(h.datetime)]}),o.jsx("td",{className:p?"bg-secondary1":"",children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:async()=>{await FC(h._id,!1),W("success","Image has been deleted!")},children:"Delete"})})})]})})]},f)})})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Gellary Images"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[r&&o.jsx("div",{className:"progress mb-3",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l,"%"]})}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Select Images"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:u,disabled:r,multiple:!0})]}),o.jsxs("div",{className:"alert alert-warning",role:"alert",children:["You can only upload"," ",o.jsx("strong",{className:"fw-bold text-danger",children:"10 Images at a time"}),"!"]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"}),o.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[o.jsxs("h4",{className:"my-2 text-danger",children:["Preview (",e.length," selected)"]}),o.jsx("button",{className:"btn btn-sm btn-danger",style:{height:"fit-content"},onClick:()=>n([]),children:"Remove All"})]}),o.jsx("div",{className:"my-4 d-flex justify-content-center align-items-start flex-wrap gap-2",children:e&&e.map((h,f)=>o.jsx("img",{src:h,alt:`Image ${f}`,style:{width:"300px",height:"auto",cursor:"pointer"},className:"rounded-1 shadow-lg"},f))})]})]})})})]})},c5=t=>{let e=[];return t==null||t.map(n=>{e.push(n==null?void 0:n._id)}),e},Ix=async()=>{try{const t=Ee(ie,"project_main_images"),e=await kt(t),n=[],r=e.docs.map(async s=>{var d,h;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=(d=i==null?void 0:i.title)==null?void 0:d.stringValue,c=(h=i==null?void 0:i.project)==null?void 0:h.stringValue,u=l?await u5(c,l):null;n.push({_id:a,title:l,bannerURL:u,project:c})});await Promise.all(r),bt.dispatch(_B(n))}catch(t){console.error("Error fetching ProjectsImages:",t)}},u5=async(t,e)=>{try{const n=$e(Be,`project_main_images/${t+e}`);return await ri(n)}catch{return null}};async function d5(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid Projects Items ID");return}try{const e=st(ie,"project_main_images",t),s=(await ti(e)).data().banner;if(await vn(e),s){const i=$e(Be,`project_main_images/${s}`);await si(i)}alert("ProjectsImages item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsImages!")}}}const h5=()=>{var p,g,x,y,m,v,w;const{id:t}=Zi(),e=re(_=>{var j;return(j=_.getprojectsmain)==null?void 0:j.data}),n=re(_=>{var j;return(j=_.getprojectsimages)==null?void 0:j.data}),r=e.find(_=>_._id===t),s=n.filter(_=>(_==null?void 0:_.project)===t);if(!r){history.back();return}const[i,a]=N.useState(null),[l,c]=N.useState(""),[u,d]=N.useState(!1);N.useEffect(()=>{Ix()},[]);const h=_=>{if(_.target.files&&_.target.files.length>0){const j=new FileReader;j.onload=()=>{a(j.result)},j.readAsDataURL(_.target.files[0])}},f=async()=>{if(!i||!l){W("danger","Please select an image and provide a title!");return}d(!0);const _=$e(Be,`project_main_images/${t+l}`),j=await fetch(i).then(E=>E.blob());try{await ni(_,j),await Ht(Ee(ie,"project_main_images"),{title:l,project:t}),W("success","Image with title has been saved!"),c(""),a(null),d(!1),location.reload()}catch{W("danger","Error uploading image, Try Again!"),c(""),a(null),d(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsx("div",{className:"w-100 d-flex justify-content-between",children:o.jsx("h3",{className:"fw-bold text-danger",children:(p=r==null?void 0:r.title)==null?void 0:p.stringValue})}),o.jsx("hr",{}),o.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[o.jsx("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add Image"}),o.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),o.jsx("div",{className:"collapse",id:"collapseExample",children:o.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),o.jsx("td",{children:(g=r==null?void 0:r.funding_agency)==null?void 0:g.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(x=r==null?void 0:r.total_fund)==null?void 0:x.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),o.jsx("td",{children:(y=r==null?void 0:r.pis)==null?void 0:y.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),o.jsx("td",{children:(m=r==null?void 0:r.copis)==null?void 0:m.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(v=r==null?void 0:r.jrf_phd_scholar)==null?void 0:v.stringValue})]}),o.jsx("tr",{children:o.jsxs("td",{colSpan:2,children:[" ",o.jsx("h4",{className:"m-0",children:o.jsx("strong",{className:"text-danger",children:"Introduction "})}),o.jsx("br",{}),(w=r==null?void 0:r.description)==null?void 0:w.stringValue]})})]})})})}),o.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:s==null?void 0:s.map((_,j)=>o.jsxs("tr",{children:[o.jsx("td",{children:j+1}),o.jsx("td",{children:_==null?void 0:_.title}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ne,{target:"_blank",to:_==null?void 0:_.bannerURL,children:o.jsx("img",{className:"rounded-2",src:_==null?void 0:_.bannerURL,alt:"Banner URL",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>d5(_._id),children:"Delete"})})})]})})]},j))})]})})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub project_"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:_=>c(_.target.value),disabled:u,value:l||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:u})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},f5=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(0);N.useEffect(()=>{const i=Ti.onAuthStateChanged(a=>{a?e(a.email):window.location.href="/CVPR_LAB/#/"});return()=>i()},[]);const s=async()=>{if(confirm("Are you sure want to logout?"))try{await Ti.signOut(),window.close()}catch{console.error("Error logging out.")}};if(!t)return o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:o.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t)return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:o.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:o.jsxs("h4",{children:["Welcome, ",t]})})}),o.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[o.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:o.jsxs("div",{className:"list-group",children:[o.jsx(ne,{to:"",className:`list-group-item list-group-item-action ${n===0&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(0),children:"Supervisor"}),o.jsx(ne,{to:"publications",className:`list-group-item list-group-item-action ${n===1&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(1),children:"Publications"}),o.jsx(ne,{to:"peoples",className:`list-group-item list-group-item-action ${n===2&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(2),children:"Peoples"}),o.jsx(ne,{to:"projects-items",className:`list-group-item list-group-item-action ${n===3&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(3),children:"Projects Items"}),o.jsx(ne,{to:"datasets",className:`list-group-item list-group-item-action ${n===4&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(4),children:"Datasets"}),o.jsx(ne,{to:"news",className:`list-group-item list-group-item-action ${n===5&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(5),children:"News"}),o.jsx(ne,{to:"slider-images",className:`list-group-item list-group-item-action ${n===6&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(6),children:"Slider Images"}),o.jsx(ne,{to:"gallary-images",className:`list-group-item list-group-item-action ${n===7&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(7),children:"Gallery Images"}),o.jsx(ne,{to:"research",className:`list-group-item list-group-item-action ${n===8&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(8),children:"Research Areas"}),o.jsx(ne,{to:"projects",className:`list-group-item list-group-item-action ${n===9&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(9),children:"Research Projects"}),o.jsx(ne,{to:"change-password",className:`list-group-item list-group-item-action ${n===10&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(10),children:"Change Password"}),o.jsx(ne,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:"Website Home"}),o.jsxs(ne,{to:"#",onClick:s,className:"d-flex align-items-center list-group-item list-group-item-action text-danger",children:[o.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),o.jsx(gn,{children:o.jsxs("title",{children:["Dashboard | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs(Lv,{children:[o.jsx(je,{element:o.jsx(D_,{}),path:"*"}),o.jsx(je,{element:o.jsx(D_,{}),path:"/"}),o.jsx(je,{element:o.jsx(n5,{}),path:"/supervisors/:id"}),o.jsx(je,{element:o.jsx(Lz,{userEmail:t}),path:"/publications"}),o.jsx(je,{element:o.jsx(t5,{}),path:"/publications/:id"}),o.jsx(je,{element:o.jsx($9,{}),path:"/peoples"}),o.jsx(je,{element:o.jsx(X9,{}),path:"/research"}),o.jsx(je,{element:o.jsx(e6,{}),path:"/research/:id"}),o.jsx(je,{element:o.jsx(t6,{}),path:"/projects-items"}),o.jsx(je,{element:o.jsx(i6,{}),path:"/projects"}),o.jsx(je,{element:o.jsx(s5,{}),path:"/projects/:id"}),o.jsx(je,{element:o.jsx(h5,{}),path:"/projects/images/:id"}),o.jsx(je,{element:o.jsx(G9,{}),path:"/datasets"}),o.jsx(je,{element:o.jsx(Uz,{}),path:"/news"}),o.jsx(je,{element:o.jsx(Bz,{}),path:"/change-password"}),o.jsx(je,{element:o.jsx(L9,{}),path:"/slider-images"}),o.jsx(je,{element:o.jsx(l5,{}),path:"/gallary-images"})]})]})]})},p5="/CVPR_LAB/assets/logo-a-zcNRwG.png",m5=()=>o.jsx(o.Fragment,{children:o.jsxs("div",{role:"navigation",children:[o.jsx("div",{className:"p-3",children:o.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[o.jsx("div",{className:"col-lg-1 col-md-1 text-center",children:o.jsx("div",{className:"",children:o.jsx("img",{className:"img-fluid",src:p5,alt:"LOGO",style:{height:"50px",width:"auto"}})})}),o.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:o.jsxs("div",{className:"mt-2",children:[o.jsx("strong",{children:"Room Number :"})," 3rd Floor,EE Department"]})})]})}),o.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:o.jsx("nav",{className:"navbar navbar-expand-md",children:o.jsxs("div",{className:"container-fluid",children:[o.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[o.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),o.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:o.jsxs("ul",{className:"navbar-nav mx-auto ",children:[o.jsx("li",{className:"nav-item",children:o.jsx(ne,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ne,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"Peoples"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ne,{className:"nav-link mx-2 active","aria-current":"page",to:"/gallery",children:"Gallery"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ne,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ne,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ne,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ne,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ne,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})});function $_(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Cx(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:$_(e[n])&&$_(t[n])&&Object.keys(e[n]).length>0&&Cx(t[n],e[n])})}const $C={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Gr(){const t=typeof document<"u"?document:{};return Cx(t,$C),t}const g5={document:$C,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function kn(){const t=typeof window<"u"?window:{};return Cx(t,g5),t}function v5(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function y5(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Dg(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function th(){return Date.now()}function x5(t){const e=kn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function w5(t,e){e===void 0&&(e="x");const n=kn();let r,s,i;const a=x5(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Tu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function b5(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function wn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!b5(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,a=s.length;i<a;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Tu(t[l])&&Tu(r[l])?r[l].__swiper__?t[l]=r[l]:wn(t[l],r[l]):!Tu(t[l])&&Tu(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:wn(t[l],r[l])):t[l]=r[l])}}}return t}function Su(t,e,n){t.style.setProperty(e,n)}function BC(t){let{swiper:e,targetPosition:n,side:r}=t;const s=kn(),i=-e.translate;let a=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const u=n>i?"next":"prev",d=(f,p)=>u==="next"&&f>=p||u==="prev"&&f<=p,h=()=>{l=new Date().getTime(),a===null&&(a=l);const f=Math.max(Math.min((l-a)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=i+p*(n-i);if(d(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),d(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(h)};h()}function yr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function nh(t){try{console.warn(t);return}catch{}}function rh(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:v5(e)),n}function _5(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function E5(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ss(t,e){return kn().getComputedStyle(t,null).getPropertyValue(e)}function sh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function zC(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Og(t,e,n){const r=kn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function vt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Pp;function T5(){const t=kn(),e=Gr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function HC(){return Pp||(Pp=T5()),Pp}let Ap;function S5(t){let{userAgent:e}=t===void 0?{}:t;const n=HC(),r=kn(),s=r.navigator.platform,i=e||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&g&&n.touch&&x.indexOf(`${l}x${c}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(d||f||h)&&(a.os="ios",a.ios=!0),a}function WC(t){return t===void 0&&(t={}),Ap||(Ap=S5(t)),Ap}let kp;function j5(){const t=kn(),e=WC();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:s}}function N5(){return kp||(kp=j5()),kp}function I5(t){let{swiper:e,on:n,emit:r}=t;const s=kn();let i=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(h=>{a=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,x=p;h.forEach(y=>{let{contentBoxSize:m,contentRect:v,target:w}=y;w&&w!==e.el||(g=v?v.width:(m[0]||m).inlineSize,x=v?v.height:(m[0]||m).blockSize)}),(g!==f||x!==p)&&l()})}),i.observe(e.el))},u=()=>{a&&s.cancelAnimationFrame(a),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",d)})}function C5(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],a=kn(),l=function(d,h){h===void 0&&(h={});const f=a.MutationObserver||a.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const x=function(){s("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(x):a.setTimeout(x,0)});p.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const d=zC(e.hostEl);for(let h=0;h<d.length;h+=1)l(d[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",u)}var P5={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];e.apply(r,a)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(u=>{u.apply(r,n)})}),t}};function A5(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ss(r,"padding-left")||0,10)-parseInt(Ss(r,"padding-right")||0,10),n=n-parseInt(Ss(r,"padding-top")||0,10)-parseInt(Ss(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function k5(){const t=this;function e(S,P){return parseFloat(S.getPropertyValue(t.getDirectionLabel(P))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:a,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,d=yr(s,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:d.length;let f=[];const p=[],g=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,v=t.slidesGrid.length;let w=n.spaceBetween,_=-x,j=0,E=0;if(typeof i>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*i:typeof w=="string"&&(w=parseFloat(w)),t.virtualSize=-w,d.forEach(S=>{a?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Su(r,"--swiper-centered-offset-before",""),Su(r,"--swiper-centered-offset-after",""));const I=n.grid&&n.grid.rows>1&&t.grid;I?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let b;const T=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<h;S+=1){b=0;let P;if(d[S]&&(P=d[S]),I&&t.grid.updateSlide(S,P,d),!(d[S]&&Ss(P,"display")==="none")){if(n.slidesPerView==="auto"){T&&(d[S].style[t.getDirectionLabel("width")]="");const D=getComputedStyle(P),C=P.style.transform,M=P.style.webkitTransform;if(C&&(P.style.transform="none"),M&&(P.style.webkitTransform="none"),n.roundLengths)b=t.isHorizontal()?Og(P,"width",!0):Og(P,"height",!0);else{const k=e(D,"width"),$=e(D,"padding-left"),O=e(D,"padding-right"),R=e(D,"margin-left"),L=e(D,"margin-right"),F=D.getPropertyValue("box-sizing");if(F&&F==="border-box")b=k+R+L;else{const{clientWidth:q,offsetWidth:A}=P;b=k+$+O+R+L+(A-q)}}C&&(P.style.transform=C),M&&(P.style.webkitTransform=M),n.roundLengths&&(b=Math.floor(b))}else b=(i-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(b=Math.floor(b)),d[S]&&(d[S].style[t.getDirectionLabel("width")]=`${b}px`);d[S]&&(d[S].swiperSlideSize=b),g.push(b),n.centeredSlides?(_=_+b/2+j/2+w,j===0&&S!==0&&(_=_-i/2-w),S===0&&(_=_-i/2-w),Math.abs(_)<1/1e3&&(_=0),n.roundLengths&&(_=Math.floor(_)),E%n.slidesPerGroup===0&&f.push(_),p.push(_)):(n.roundLengths&&(_=Math.floor(_)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&f.push(_),p.push(_),_=_+b+w),t.virtualSize+=b+w,j=b,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+y,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+w}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+w}px`),I&&t.grid.updateWrapperSize(b,f),!n.centeredSlides){const S=[];for(let P=0;P<f.length;P+=1){let D=f[P];n.roundLengths&&(D=Math.floor(D)),f[P]<=t.virtualSize-i&&S.push(D)}f=S,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(c&&n.loop){const S=g[0]+w;if(n.slidesPerGroup>1){const P=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=S*n.slidesPerGroup;for(let C=0;C<P;C+=1)f.push(f[f.length-1]+D)}for(let P=0;P<t.virtual.slidesBefore+t.virtual.slidesAfter;P+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+S),p.push(p[p.length-1]+S),t.virtualSize+=S}if(f.length===0&&(f=[0]),w!==0){const S=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");d.filter((P,D)=>!n.cssMode||n.loop?!0:D!==d.length-1).forEach(P=>{P.style[S]=`${w}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;g.forEach(D=>{S+=D+(w||0)}),S-=w;const P=S-i;f=f.map(D=>D<=0?-x:D>P?P+y:D)}if(n.centerInsufficientSlides){let S=0;if(g.forEach(P=>{S+=P+(w||0)}),S-=w,S<i){const P=(i-S)/2;f.forEach((D,C)=>{f[C]=D-P}),p.forEach((D,C)=>{p[C]=D+P})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Su(r,"--swiper-centered-offset-before",`${-f[0]}px`),Su(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const S=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+S),t.slidesGrid=t.slidesGrid.map(D=>D+P)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,P=t.el.classList.contains(S);h<=n.maxBackfaceHiddenSlides?P||t.el.classList.add(S):P&&t.el.classList.remove(S)}}function R5(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function D5(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function O5(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),f=(a-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=-(a-d),g=p+e.slidesSizesGrid[c],x=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),x&&r[c].classList.add(n.slideFullyVisibleClass),u.progress=s?-h:h,u.originalProgress=s?-f:f}}function L5(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,u=a;if(r===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,a=h||s>=1,d&&(s=0),h&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],x=Math.abs(t);x>=f?l=(x-f)/g:l=(x+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}function M5(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=h=>yr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,u,d;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.filter(h=>h.column===s)[0],d=e.filter(h=>h.column===s+1)[0],u=e.filter(h=>h.column===s-1)[0]):c=e[s];c&&(c.classList.add(n.slideActiveClass),a?(d&&d.classList.add(n.slideNextClass),u&&u.classList.add(n.slidePrevClass)):(d=E5(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),d&&d.classList.add(n.slideNextClass),u=_5(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Ku=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Rp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Lg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&Rp(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%n+n)%n;(l<s||l>i)&&Rp(t,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,n-1);a+=1)a!==s&&(a>i||a<s)&&Rp(t,a)};function V5(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function F5(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=t,u;const d=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=V5(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,c);u=p+Math.floor((c-p)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=d(c);else if(h){const p=e.slides.filter(x=>x.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/s.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:f,previousIndex:i,activeIndex:c}),e.initialized&&Lg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function U5(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,a=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var $5={updateSize:A5,updateSlides:k5,updateAutoHeight:R5,updateSlidesOffset:D5,updateSlidesProgress:O5,updateProgress:L5,updateSlidesClasses:M5,updateActiveIndex:F5,updateClickedSlide:U5};function B5(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let a=w5(i,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function z5(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function H5(){return-this.snapGrid[0]}function W5(){return-this.snapGrid[this.snapGrid.length-1]}function q5(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,i.updateProgress(d),a.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return BC({swiper:i,targetPosition:-d,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var G5={getTranslate:B5,setTranslate:z5,minTranslate:H5,maxTranslate:W5,translateTo:q5};function K5(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function qC(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:a}=e;let l=r;if(l||(i>a?l="next":i<a?l="prev":l="reset"),e.emit(`transition${s}`),n&&i!==a){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function Y5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),qC({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Q5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),qC({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var X5={setTransition:K5,transitionStart:Y5,transitionEnd:Q5};function J5(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=i;if(i.animating&&l.preventInteractionOnTransition||!g&&!r&&!s||i.destroyed)return!1;const x=Math.min(i.params.slidesPerGroupSkip,a);let y=x+Math.floor((a-x)/i.params.slidesPerGroup);y>=c.length&&(y=c.length-1);const m=-c[y];if(l.normalizeSlideIndex)for(let w=0;w<u.length;w+=1){const _=-Math.floor(m*100),j=Math.floor(u[w]*100),E=Math.floor(u[w+1]*100);typeof u[w+1]<"u"?_>=j&&_<E-(E-j)/2?a=w:_>=j&&_<E&&(a=w+1):_>=j&&(a=w)}if(i.initialized&&a!==h&&(!i.allowSlideNext&&(f?m>i.translate&&m>i.minTranslate():m<i.translate&&m<i.minTranslate())||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==a))return!1;a!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let v;if(a>h?v="next":a<h?v="prev":v="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(m),v!=="reset"&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1;if(l.cssMode){const w=i.isHorizontal(),_=f?m:-m;if(e===0){const j=i.virtual&&i.params.virtual.enabled;j&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),j&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[w?"scrollLeft":"scrollTop"]=_})):p[w?"scrollLeft":"scrollTop"]=_,j&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return BC({swiper:i,targetPosition:_,side:w?"left":"top"}),!0;p.scrollTo({[w?"left":"top"]:_,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),e===0?i.transitionEnd(n,v):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(_){!i||i.destroyed||_.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,v))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function Z5(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const f=a*s.params.grid.rows;l=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u}=s.params;let d=s.params.slidesPerView;d==="auto"?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=c-l<d;if(u&&(h=h||l<Math.ceil(d/2)),h){const f=u?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=a*s.params.grid.rows;a=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,n,r)}),s}function eH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function tH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=i.map(m=>f(m));let x=i[g.indexOf(p)-1];if(typeof x>"u"&&s.cssMode){let m;i.forEach((v,w)=>{p>=v&&(m=w)}),typeof m<"u"&&(x=i[m>0?m-1:m])}let y=0;if(typeof x<"u"&&(y=a.indexOf(x),y<0&&(y=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(y=y-r.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(y,t,e,n)}),!0;return r.slideTo(y,t,e,n)}function nH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function rH(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function sH(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(yr(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),Dg(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(yr(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),Dg(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var iH={slideTo:J5,slideToLoop:Z5,slideNext:eH,slidePrev:tH,slideReset:nH,slideToClosest:rH,slideToClickedSlide:sH};function aH(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{yr(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(i?n.grid.rows:1),l=e.slides.length%a!==0,c=i&&e.slides.length%n.grid.rows!==0,u=d=>{for(let h=0;h<d;h+=1){const f=e.isElement?rh("swiper-slide",[n.slideBlankClass]):rh("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const d=a-e.slides.length%a;u(d),e.recalcSlides(),e.updateSlides()}else nh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const d=n.grid.rows-e.slides.length%n.grid.rows;u(d),e.recalcSlides(),e.updateSlides()}else nh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function oH(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=h,c.emit("loopFix");return}let x=p.slidesPerView;x==="auto"?x=c.slidesPerViewDynamic():(x=Math.ceil(parseFloat(p.slidesPerView,10)),g&&x%2===0&&(x=x+1));const y=p.slidesPerGroupAuto?x:p.slidesPerGroup;let m=y;m%y!==0&&(m+=y-m%y),m+=p.loopAdditionalSlides,c.loopedSlides=m;const v=c.grid&&p.grid&&p.grid.rows>1;u.length<x+m?nh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&p.grid.fill==="row"&&nh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],_=[];let j=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(u.filter(C=>C.classList.contains(p.slideActiveClass))[0]):j=i;const E=r==="next"||!r,I=r==="prev"||!r;let b=0,T=0;const S=v?Math.ceil(u.length/p.grid.rows):u.length,D=(v?u[i].column:i)+(g&&typeof s>"u"?-x/2+.5:0);if(D<m){b=Math.max(m-D,y);for(let C=0;C<m-D;C+=1){const M=C-Math.floor(C/S)*S;if(v){const k=S-M-1;for(let $=u.length-1;$>=0;$-=1)u[$].column===k&&w.push($)}else w.push(S-M-1)}}else if(D+x>S-m){T=Math.max(D-(S-m*2),y);for(let C=0;C<T;C+=1){const M=C-Math.floor(C/S)*S;v?u.forEach((k,$)=>{k.column===M&&_.push($)}):_.push(M)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),I&&w.forEach(C=>{u[C].swiperLoopMoveDOM=!0,f.prepend(u[C]),u[C].swiperLoopMoveDOM=!1}),E&&_.forEach(C=>{u[C].swiperLoopMoveDOM=!0,f.append(u[C]),u[C].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():v&&(w.length>0&&I||_.length>0&&E)&&c.slides.forEach((C,M)=>{c.grid.updateSlide(M,C,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(w.length>0&&I){if(typeof e>"u"){const C=c.slidesGrid[j],k=c.slidesGrid[j+b]-C;l?c.setTranslate(c.translate-k):(c.slideTo(j+b,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-k,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-k))}else if(s){const C=v?w.length/p.grid.rows:w.length;c.slideTo(c.activeIndex+C,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(_.length>0&&E)if(typeof e>"u"){const C=c.slidesGrid[j],k=c.slidesGrid[j-T]-C;l?c.setTranslate(c.translate-k):(c.slideTo(j-T,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-k,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-k))}else{const C=v?_.length/p.grid.rows:_.length;c.slideTo(c.activeIndex-C,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const C={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(M=>{!M.destroyed&&M.params.loop&&M.loopFix({...C,slideTo:M.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...C,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function lH(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var cH={loopCreate:aH,loopFix:oH,loopDestroy:lH};function uH(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function dH(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var hH={setGrabCursor:uH,unsetGrabCursor:dH};function fH(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Gr()||r===kn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function B_(t,e,n){const r=kn(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function pH(t){const e=this,n=Gr();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){B_(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?fH(h,c):c.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const p=a.currentX,g=a.currentY;if(!B_(e,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=g,s.touchStartTime=th(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let x=!0;c.matches(s.focusableElements)&&(x=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const y=x&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function mH(t){const e=Gr(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].filter(E=>E.identifier===r.touchId)[0],!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,h=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=th());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(E=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>s.touchAngle:90-E>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,x=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(a?1:-1),x=Math.abs(x)*(a?1:-1)),i.diff=g,g*=s.touchRatio,a&&(g=-g,x=-x);const y=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=x>0?"prev":"next";const m=n.params.loop&&!s.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&v&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let w;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&y!==n.touchesDirection&&m&&v&&Math.abs(g)>=1){Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let _=!0,j=s.resistanceRatio;if(s.touchReleaseOnEdges&&(j=0),g>0?(m&&v&&!w&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(_=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**j))):g<0&&(m&&v&&!w&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(_=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**j))),_&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function gH(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(j=>j.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=th(),f=h-n.touchStartTime;if(e.allowClick){const j=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(j&&j[0]||r.target,j),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=th(),Dg(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(a.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let x=0,y=e.slidesSizesGrid[0];for(let j=0;j<u.length;j+=j<a.slidesPerGroupSkip?1:a.slidesPerGroup){const E=j<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[j+E]<"u"?(g||p>=u[j]&&p<u[j+E])&&(x=j,y=u[j+E]-u[j]):(g||p>=u[j])&&(x=j,y=u[u.length-1]-u[u.length-2])}let m=null,v=null;a.rewind&&(e.isBeginning?v=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const w=(p-u[x])/y,_=x<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(f>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(w>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?m:x+_):e.slideTo(x)),e.swipeDirection==="prev"&&(w>1-a.longSwipesRatio?e.slideTo(x+_):v!==null&&w<0&&Math.abs(w)>a.longSwipesRatio?e.slideTo(v):e.slideTo(x))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(x+_):e.slideTo(x):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:x+_),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:x))}}function z_(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function vH(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function yH(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function xH(t){const e=this;Ku(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function wH(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const GC=(t,e)=>{const n=Gr(),{params:r,el:s,wrapperEl:i,device:a}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",z_,!0):t[u]("observerUpdate",z_,!0),s[c]("load",t.onLoad,{capture:!0})};function bH(){const t=this,{params:e}=t;t.onTouchStart=pH.bind(t),t.onTouchMove=mH.bind(t),t.onTouchEnd=gH.bind(t),t.onDocumentTouchStart=wH.bind(t),e.cssMode&&(t.onScroll=yH.bind(t)),t.onClick=vH.bind(t),t.onLoad=xH.bind(t),GC(t,"on")}function _H(){GC(this,"off")}var EH={attachEvents:bH,detachEvents:_H};const H_=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function TH(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in i?i[a]:void 0)||t.originalParams,u=H_(t,r),d=H_(t,c),h=r.enabled;u&&!d?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&d&&(s.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const v=r[m]&&r[m].enabled,w=c[m]&&c[m].enabled;v&&!w&&t[m].disable(),!v&&w&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),wn(t.params,c);const x=t.params.enabled,y=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!x?t.disable():!h&&x&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&y?(t.loopCreate(e),t.updateSlides()):g&&!y&&t.loopDestroy()),t.emit("breakpoint",c)}function SH(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=kn(),i=e==="window"?s.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var jH={setBreakpoint:TH,getBreakpoint:SH};function NH(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function IH(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,a=NH(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function CH(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var PH={addClasses:IH,removeClasses:CH};function AH(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var kH={checkOverflow:AH},Mg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function RH(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){wn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){wn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),wn(e,r)}}const Dp={eventsEmitter:P5,update:$5,translate:G5,transition:X5,slide:iH,loop:cH,grabCursor:hH,events:EH,breakpoints:jH,checkOverflow:kH,classes:PH},Op={};let Px=class Or{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=wn({},n),e&&!n.el&&(n.el=e);const a=Gr();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const d=[];return a.querySelectorAll(n.el).forEach(h=>{const f=wn({},n,{el:h});d.push(new Or(f))}),d}const l=this;l.__swiper__=!0,l.support=HC(),l.device=WC({userAgent:n.userAgent}),l.browser=N5(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(d=>{d({params:n,swiper:l,extendParams:RH(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=wn({},Mg,c);return l.params=wn({},u,Op,n),l.originalParams=wn({},l.params),l.passedParams=wn({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=yr(n,`.${r.slideClass}, swiper-slide`),i=sh(s[0]);return sh(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=yr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[u]?Math.ceil(i[u].swiperSlideSize):0,f;for(let p=u+1;p<i.length;p+=1)i[p]&&!f&&(h+=Math.ceil(i[p].swiperSlideSize),d+=1,h>c&&(f=!0));for(let p=u-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,d+=1,h>c&&(f=!0))}else if(e==="current")for(let h=u+1;h<i.length;h+=1)(n?a[h]+l[h]-a[u]<c:a[h]-a[u]<c)&&(d+=1);else for(let h=u-1;h>=0;h-=1)a[u]-a[h]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Ku(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):yr(r,s())[0];return!a&&n.params.createElements&&(a=rh("div",n.params.wrapperClass),r.append(a),yr(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ss(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ss(r,"direction")==="rtl"),wrongRTL:Ss(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Ku(n,i):i.addEventListener("load",a=>{Ku(n,a.target)})}),Lg(n),n.initialized=!0,Lg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,y5(r)),r.destroyed=!0),null}static extendDefaults(e){wn(Op,e)}static get extendedDefaults(){return Op}static get defaults(){return Mg}static installModule(e){Or.prototype.__modules__||(Or.prototype.__modules__=[]);const n=Or.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Or.installModule(n)),Or):(Or.installModule(e),Or)}};Object.keys(Dp).forEach(t=>{Object.keys(Dp[t]).forEach(e=>{Px.prototype[e]=Dp[t][e]})});Px.use([I5,C5]);const KC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ki(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ka(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ki(e[r])&&Ki(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ka(t[r],e[r]):t[r]=e[r]})}function YC(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function QC(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function XC(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function JC(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function DH(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function OH(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:c}=t;const u=s.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:x}=e;let y,m,v,w,_,j,E,I;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(y=!0),s.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(m=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(v=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(w=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);const b=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),d[T].prevEl=void 0,d[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),d[T].el=void 0,e[T].el=void 0))};s.includes("loop")&&e.isElement&&(d.loop&&!r.loop?j=!0:!d.loop&&r.loop?E=!0:I=!0),u.forEach(T=>{if(Ki(d[T])&&Ki(r[T]))Object.assign(d[T],r[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in r[T]&&!r[T].enabled&&b(T);else{const S=r[T];(S===!0||S===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?S===!1&&b(T):d[T]=r[T]}}),u.includes("controller")&&!m&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),s.includes("children")&&n&&g&&d.virtual.enabled?(g.slides=n,g.update(!0)):s.includes("virtual")&&g&&d.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),s.includes("children")&&n&&d.loop&&(I=!0),y&&x.init()&&x.update(!0),m&&(e.controller.control=d.controller.control),v&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(d.pagination.el=c),h.init(),h.render(),h.update()),w&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(d.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),_&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),i&&(d.navigation.nextEl=i),a&&(d.navigation.prevEl=a),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(j||I)&&e.loopDestroy(),(E||I)&&e.loopCreate(),e.update()}function LH(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};Ka(n,Mg),n._emitClasses=!0,n.init=!1;const i={},a=KC.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?Ki(t[c])?(n[c]={},s[c]={},Ka(n[c],t[c]),Ka(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function MH(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:a,swiper:l}=t;YC(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),QC(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),XC(e)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function VH(t,e,n,r,s){const i=[];if(!e)return i;const a=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),u=n.map(s);c.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return KC.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Ki(t[c])&&Ki(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?a(c):(u.forEach(h=>{t[c][h]!==e[c][h]&&a(c)}),d.forEach(h=>{t[c][h]!==e[c][h]&&a(c)}))}else t[c]!==e[c]&&a(c)}),i}const FH=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}function ZC(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function eP(t){const e=[];return Ne.Children.toArray(t).forEach(n=>{ZC(n)?e.push(n):n.props&&n.props.children&&eP(n.props.children).forEach(r=>e.push(r))}),e}function UH(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ne.Children.toArray(t).forEach(r=>{if(ZC(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=eP(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function $H(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=a&&u.push(e[r(d)]);return u.map((d,h)=>Ne.cloneElement(d,{swiper:t,style:s,key:`slide-${h}`}))}function Nl(t,e){return typeof window>"u"?N.useEffect(t,e):N.useLayoutEffect(t,e)}const W_=N.createContext(null),BH=N.createContext(null),tP=N.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:a,...l}=t===void 0?{}:t,c=!1;const[u,d]=N.useState("swiper"),[h,f]=N.useState(null),[p,g]=N.useState(!1),x=N.useRef(!1),y=N.useRef(null),m=N.useRef(null),v=N.useRef(null),w=N.useRef(null),_=N.useRef(null),j=N.useRef(null),E=N.useRef(null),I=N.useRef(null),{params:b,passedParams:T,rest:S,events:P}=LH(l),{slides:D,slots:C}=UH(i),M=()=>{g(!p)};Object.assign(b.on,{_containerClasses(L,F){d(F)}});const k=()=>{Object.assign(b.on,P),c=!0;const L={...b};if(delete L.wrapperClass,m.current=new Px(L),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=D;const F={cache:!1,slides:D,renderExternal:f,renderExternalUpdate:!1};Ka(m.current.params.virtual,F),Ka(m.current.originalParams.virtual,F)}};y.current||k(),m.current&&m.current.on("_beforeBreakpoint",M);const $=()=>{c||!P||!m.current||Object.keys(P).forEach(L=>{m.current.on(L,P[L])})},O=()=>{!P||!m.current||Object.keys(P).forEach(L=>{m.current.off(L,P[L])})};N.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",M)}),N.useEffect(()=>{!x.current&&m.current&&(m.current.emitSlidesClasses(),x.current=!0)}),Nl(()=>{if(e&&(e.current=y.current),!!y.current)return m.current.destroyed&&k(),MH({el:y.current,nextEl:_.current,prevEl:j.current,paginationEl:E.current,scrollbarEl:I.current,swiper:m.current},b),a&&!m.current.destroyed&&a(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Nl(()=>{$();const L=VH(T,v.current,D,w.current,F=>F.key);return v.current=T,w.current=D,L.length&&m.current&&!m.current.destroyed&&OH({swiper:m.current,slides:D,passedParams:T,changedParams:L,nextEl:_.current,prevEl:j.current,scrollbarEl:I.current,paginationEl:E.current}),()=>{O()}}),Nl(()=>{FH(m.current)},[h]);function R(){return b.virtual?$H(m.current,D,h):D.map((L,F)=>Ne.cloneElement(L,{swiper:m.current,swiperSlideIndex:F}))}return Ne.createElement(r,ih({ref:y,className:JC(`${u}${n?` ${n}`:""}`)},S),Ne.createElement(BH.Provider,{value:m.current},C["container-start"],Ne.createElement(s,{className:DH(b.wrapperClass)},C["wrapper-start"],R(),C["wrapper-end"]),YC(b)&&Ne.createElement(Ne.Fragment,null,Ne.createElement("div",{ref:j,className:"swiper-button-prev"}),Ne.createElement("div",{ref:_,className:"swiper-button-next"})),XC(b)&&Ne.createElement("div",{ref:I,className:"swiper-scrollbar"}),QC(b)&&Ne.createElement("div",{ref:E,className:"swiper-pagination"}),C["container-end"]))});tP.displayName="Swiper";const nP=N.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=N.useRef(null),[f,p]=N.useState("swiper-slide"),[g,x]=N.useState(!1);function y(_,j,E){j===h.current&&p(E)}Nl(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",y),()=>{i&&i.off("_slideClass",y)}}}),Nl(()=>{i&&h.current&&!i.destroyed&&p(i.getSlideClasses(h.current))},[i]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},v=()=>typeof r=="function"?r(m):r,w=()=>{x(!0)};return Ne.createElement(n,ih({ref:h,className:JC(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:w},d),a&&Ne.createElement(W_.Provider,{value:m},Ne.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},v(),l&&!g&&Ne.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Ne.createElement(W_.Provider,{value:m},v(),l&&!g&&Ne.createElement("div",{className:"swiper-lazy-preloader"})))});nP.displayName="SwiperSlide";function rP(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=yr(t.el,`.${r[s]}`)[0];i||(i=rh("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function zH(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let x;return g&&typeof g=="string"&&e.isElement&&(x=e.el.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&x.length>1&&e.el.querySelectorAll(g).length===1&&(x=e.el.querySelector(g))),g&&!x?g:x)}function a(g,x){const y=e.params.navigation;g=vt(g),g.forEach(m=>{m&&(m.classList[x?"add":"remove"](...y.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=x),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](y.lockClass))})}function l(){const{nextEl:g,prevEl:x}=e.navigation;if(e.params.loop){a(x,!1),a(g,!1);return}a(x,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function u(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function d(){const g=e.params.navigation;if(e.params.navigation=rP(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=i(g.nextEl),y=i(g.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:y}),x=vt(x),y=vt(y);const m=(v,w)=>{v&&v.addEventListener("click",w==="next"?u:c),!e.enabled&&v&&v.classList.add(...g.lockClass.split(" "))};x.forEach(v=>m(v,"next")),y.forEach(v=>m(v,"prev"))}function h(){let{nextEl:g,prevEl:x}=e.navigation;g=vt(g),x=vt(x);const y=(m,v)=>{m.removeEventListener("click",v==="next"?u:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>y(m,"next")),x.forEach(m=>y(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:x}=e.navigation;if(g=vt(g),x=vt(x),e.enabled){l();return}[...g,...x].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),r("click",(g,x)=>{let{nextEl:y,prevEl:m}=e.navigation;y=vt(y),m=vt(m);const v=x.target;if(e.params.navigation.hideOnClick&&!m.includes(v)&&!y.includes(v)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let w;y.length?w=y[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(w=m[0].classList.contains(e.params.navigation.hiddenClass)),s(w===!0?"navigationShow":"navigationHide"),[...y,...m].filter(_=>!!_).forEach(_=>_.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:d,destroy:h})}function Yo(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function HH(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(m,v){const{bulletActiveClass:w}=e.params.pagination;m&&(m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${w}-${v}`),m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${w}-${v}-${v}`)))}function d(m){const v=m.target.closest(Yo(e.params.pagination.bulletClass));if(!v)return;m.preventDefault();const w=sh(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;e.slideToLoop(w)}else e.slideTo(w)}function h(){const m=e.rtl,v=e.params.pagination;if(c())return;let w=e.pagination.el;w=vt(w);let _,j;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(j=e.previousRealIndex||0,_=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(_=e.snapIndex,j=e.previousSnapIndex):(j=e.previousIndex||0,_=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const b=e.pagination.bullets;let T,S,P;if(v.dynamicBullets&&(a=Og(b[0],e.isHorizontal()?"width":"height",!0),w.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]=`${a*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&j!==void 0&&(l+=_-(j||0),l>v.dynamicMainBullets-1?l=v.dynamicMainBullets-1:l<0&&(l=0)),T=Math.max(_-l,0),S=T+(Math.min(b.length,v.dynamicMainBullets)-1),P=(S+T)/2),b.forEach(D=>{const C=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(M=>`${v.bulletActiveClass}${M}`)].map(M=>typeof M=="string"&&M.includes(" ")?M.split(" "):M).flat();D.classList.remove(...C)}),w.length>1)b.forEach(D=>{const C=sh(D);C===_?D.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),v.dynamicBullets&&(C>=T&&C<=S&&D.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),C===T&&u(D,"prev"),C===S&&u(D,"next"))});else{const D=b[_];if(D&&D.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&b.forEach((C,M)=>{C.setAttribute("part",M===_?"bullet-active":"bullet")}),v.dynamicBullets){const C=b[T],M=b[S];for(let k=T;k<=S;k+=1)b[k]&&b[k].classList.add(...`${v.bulletActiveClass}-main`.split(" "));u(C,"prev"),u(M,"next")}}if(v.dynamicBullets){const D=Math.min(b.length,v.dynamicMainBullets+4),C=(a*D-a)/2-P*a,M=m?"right":"left";b.forEach(k=>{k.style[e.isHorizontal()?M:"top"]=`${C}px`})}}w.forEach((b,T)=>{if(v.type==="fraction"&&(b.querySelectorAll(Yo(v.currentClass)).forEach(S=>{S.textContent=v.formatFractionCurrent(_+1)}),b.querySelectorAll(Yo(v.totalClass)).forEach(S=>{S.textContent=v.formatFractionTotal(I)})),v.type==="progressbar"){let S;v.progressbarOpposite?S=e.isHorizontal()?"vertical":"horizontal":S=e.isHorizontal()?"horizontal":"vertical";const P=(_+1)/I;let D=1,C=1;S==="horizontal"?D=P:C=P,b.querySelectorAll(Yo(v.progressbarFillClass)).forEach(M=>{M.style.transform=`translate3d(0,0,0) scaleX(${D}) scaleY(${C})`,M.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(b.innerHTML=v.renderCustom(e,_+1,I),T===0&&s("paginationRender",b)):(T===0&&s("paginationRender",b),s("paginationUpdate",b)),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](v.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=vt(w);let _="";if(m.type==="bullets"){let j=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&j>v&&(j=v);for(let E=0;E<j;E+=1)m.renderBullet?_+=m.renderBullet.call(e,E,m.bulletClass):_+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?_=m.renderFraction.call(e,m.currentClass,m.totalClass):_=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?_=m.renderProgressbar.call(e,m.progressbarFillClass):_=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(j=>{m.type!=="custom"&&(j.innerHTML=_||""),m.type==="bullets"&&e.pagination.bullets.push(...j.querySelectorAll(Yo(m.bulletClass)))}),m.type!=="custom"&&s("paginationRender",w[0])}function p(){e.params.pagination=rP(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let v;typeof m.el=="string"&&e.isElement&&(v=e.el.querySelector(m.el)),!v&&typeof m.el=="string"&&(v=[...document.querySelectorAll(m.el)]),v||(v=m.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(m.el)],v.length>1&&(v=v.filter(w=>zC(w,".swiper")[0]===e.el)[0])),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=vt(v),v.forEach(w=>{m.type==="bullets"&&m.clickable&&w.classList.add(...(m.clickableClass||"").split(" ")),w.classList.add(m.modifierClass+m.type),w.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(w.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&w.classList.add(m.progressbarOppositeClass),m.clickable&&w.addEventListener("click",d),e.enabled||w.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let v=e.pagination.el;v&&(v=vt(v),v.forEach(w=>{w.classList.remove(m.hiddenClass),w.classList.remove(m.modifierClass+m.type),w.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(w.classList.remove(...(m.clickableClass||"").split(" ")),w.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:v}=e.pagination;v=vt(v),v.forEach(w=>{w.classList.remove(m.horizontalClass,m.verticalClass),w.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?y():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=vt(m),m.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,v)=>{const w=v.target,_=vt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&_&&_.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const j=_[0].classList.contains(e.params.pagination.hiddenClass);s(j===!0?"paginationShow":"paginationHide"),_.forEach(E=>E.classList.toggle(e.params.pagination.hiddenClass))}});const x=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=vt(m),m.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=vt(m),m.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:x,disable:y,render:f,update:h,init:p,destroy:g})}function WH(t){let{swiper:e,extendParams:n,on:r,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,c=i&&i.autoplay?i.autoplay.delay:3e3,u=i&&i.autoplay?i.autoplay.delay:3e3,d,h=new Date().getTime(),f,p,g,x,y,m,v;function w(R){!e||e.destroyed||!e.wrapperEl||R.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",w),!v&&S())}const _=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(u=d,f=!1);const R=e.autoplay.paused?d:h+u-new Date().getTime();e.autoplay.timeLeft=R,s("autoplayTimeLeft",R,R/c),l=requestAnimationFrame(()=>{_()})},j=()=>{let R;return e.virtual&&e.params.virtual.enabled?R=e.slides.filter(F=>F.classList.contains("swiper-slide-active"))[0]:R=e.slides[e.activeIndex],R?parseInt(R.getAttribute("data-swiper-autoplay"),10):void 0},E=R=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),_();let L=typeof R>"u"?e.params.autoplay.delay:R;c=e.params.autoplay.delay,u=e.params.autoplay.delay;const F=j();!Number.isNaN(F)&&F>0&&typeof R>"u"&&(L=F,c=F,u=F),d=L;const q=e.params.speed,A=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(q,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,q,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(q,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,q,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return L>0?(clearTimeout(a),a=setTimeout(()=>{A()},L)):requestAnimationFrame(()=>{A()}),L},I=()=>{h=new Date().getTime(),e.autoplay.running=!0,E(),s("autoplayStart")},b=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),s("autoplayStop")},T=(R,L)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),R||(m=!0);const F=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",w):S()};if(e.autoplay.paused=!0,L){y&&(d=e.params.autoplay.delay),y=!1,F();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),F())},S=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,E(d)):E(),e.autoplay.paused=!1,s("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const R=Gr();R.visibilityState==="hidden"&&(m=!0,T(!0)),R.visibilityState==="visible"&&S()},D=R=>{R.pointerType==="mouse"&&(m=!0,v=!0,!(e.animating||e.autoplay.paused)&&T(!0))},C=R=>{R.pointerType==="mouse"&&(v=!1,e.autoplay.paused&&S())},M=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",C))},k=()=>{e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",C)},$=()=>{Gr().addEventListener("visibilitychange",P)},O=()=>{Gr().removeEventListener("visibilitychange",P)};r("init",()=>{e.params.autoplay.enabled&&(M(),$(),I())}),r("destroy",()=>{k(),O(),e.autoplay.running&&b()}),r("_freeModeStaticRelease",()=>{(g||m)&&S()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?b():T(!0,!0)}),r("beforeTransitionStart",(R,L,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?T(!0,!0):b())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){b();return}p=!0,g=!1,m=!1,x=setTimeout(()=>{m=!0,g=!0,T(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(x),clearTimeout(a),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&S(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:I,stop:b,pause:T,resume:S})}const qH=()=>{const t=re(e=>e.getslider).data;return o.jsx(o.Fragment,{children:o.jsx("div",{className:"border_bottom_strip",children:o.jsx(tP,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[WH,HH,zH],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>o.jsxs(nP,{children:[o.jsx("img",{src:e.bannerURL,alt:e.title}),o.jsx("p",{children:e.title})]},n))})})})},GH=()=>o.jsx("div",{className:"col-sm-12 py-3 px-4  my-3 mb-5",children:o.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[o.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 p-0",children:o.jsx("img",{src:"https://visionintelligence.github.io/assets/images/group.jpg",alt:"",className:"image-fluid rounded-3 image_up"})}),o.jsxs("div",{className:"col-md-6 col-sm-12",children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Our Objective"}),o.jsx("hr",{}),o.jsx("p",{children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning. Our lab aims to develop intelligent algorithms that perform important visual perception tasks such as object detection, human emotion recognition, aberrant event detection, image retrieval, Motion analysis, etc. Currently, we are dealing with:-"}),o.jsxs("ol",{children:[o.jsx("li",{children:"Moving Object Detection and Analysis"}),o.jsx("li",{children:"Facial Expression"}),o.jsx("li",{children:"Recognition"}),o.jsx("li",{children:"Anomaly Detection and Analysis"}),o.jsx("li",{children:"Content Based Image Retrieval"}),o.jsx("li",{children:"Hand Gesture Recognition"})]})]})]})}),sP=({ref_:t})=>{const e=re(s=>s.getpublications.data),[n,r]=N.useState(!1);return N.useEffect(()=>{t||(async()=>{r(!0),await zc(),r(!1)})()},[]),n?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[o.jsxs("h1",{className:"fw-bold text-danger w-100 my-4",children:[t&&"Latest"," Publications"]}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("ul",{className:`p-2 ${t&&"marquee_scroll"}`,style:{height:t?"300px":"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((s,i)=>{const{paperTitle:a,author:l,impact:c,link:u,pages:d,publisher:h,publicationDate:f,volume:p,journalName:g,paperType:x,isbn:y}=s==null?void 0:s.data;return o.jsxs("li",{children:[o.jsx("p",{children:o.jsxs("cite",{children:[o.jsxs("span",{className:"author",children:[l==null?void 0:l.stringValue,","]}),o.jsxs("a",{href:`https://doi.org/${u.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[o.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',a.stringValue,'",']}),o.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),o.jsxs("span",{className:"journal",style:{display:"inline"},children:[o.jsx("i",{children:g.stringValue}),","]}),o.jsxs("span",{className:"volume",style:{display:"inline"},children:[p.stringValue,","," "]}),o.jsxs("span",{className:"pages",style:{display:"inline"},children:[d.stringValue,","," "]}),o.jsxs("span",{className:"date",style:{display:"inline"},children:[f.stringValue,"-",x.stringValue,"-",y.stringValue,"-",h.stringValue,"-",c.stringValue]})]})}),o.jsx("hr",{})]},i)})})}),t&&o.jsx("div",{className:"w-100 my-3",children:o.jsx(ne,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&o.jsx(gn,{children:o.jsxs("title",{children:["Publications | ","Vision Intelligence Lab, IIT Ropar"]})})]})},KH=()=>{const t=re(r=>r.getnews.data),[e,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{n(!0),await NC(),await cC(),await zc(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(qH,{}),o.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column px-4 mt-4",children:[o.jsx("div",{className:"col-sm-8",children:o.jsx(sP,{ref_:!0})}),o.jsx("div",{className:"col-sm-4",children:o.jsxs("div",{className:"border d-flex flex-column mt-4",children:[o.jsx("div",{children:o.jsx("h3",{className:"py-2  px-4 bg-danger text-white",children:"Updates"})}),o.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:o.jsx("div",{className:"marquee_scroll ",children:o.jsx("div",{className:"text-secondary",children:o.jsx("ul",{style:{listStyle:"none"},children:t==null?void 0:t.map((r,s)=>{if(!(s>5))return o.jsxs("li",{children:[o.jsxs("strong",{className:"text-danger me-1",children:[s+1,"."]}),o.jsx("strong",{className:"text-danger",children:UC(r==null?void 0:r.datetime1)}),"-",r==null?void 0:r.title,"-",r==null?void 0:r.description]},s)})})})})}),o.jsx("div",{children:o.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:o.jsx(ne,{to:"#",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),o.jsx(GH,{})]})},YH=()=>o.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:o.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:o.jsxs("div",{className:"container py-4 p-3",children:[o.jsxs("div",{className:"row gy-4 gx-5",children:[o.jsxs("div",{className:"col-lg-4 col-md-6",children:[o.jsx("h5",{className:"h1 text-white",children:"Vision Intelligence Lab"}),o.jsx("p",{className:"small text-light",children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning."}),o.jsx("button",{className:"btn btn-danger",children:"More"})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Research"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Publications"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Projects"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Datasets"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Supervisor"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Ph.D."})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"PG and UG"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Interns and Visitors"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Alumni Students"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"About CVPR"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"IIT Ropar Website"})}),o.jsx("li",{children:o.jsx(ne,{className:"link_footer",to:"/login",target:"_blank",children:"Administration Login"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Address"}),o.jsx("p",{className:"text-white",children:"Indian Institute of Technology Ropar (IIT Ropar), Rupnagar, Punjab, 140001"})]})]}),o.jsx("hr",{className:"text-white"}),o.jsxs("p",{className:"small text-light w-100 text-center",children:["© Copyrights. All rights reserved."," ",o.jsx("a",{className:"text-danger fw-bold",href:"#",children:"CVPR LAB"})]})]})})}),QH=()=>{const[t,e]=N.useState(!0),n=re(a=>a.getsupervisors.data),r=re(a=>a.getphdStudents.data),s=re(a=>a.getpgugStudents.data),i=re(a=>a.getvisitorsandinterns.data);return N.useEffect(()=>{(async()=>{e(!0),await Co(),await Nx(),await IC(),await CC(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:["Peoples | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Supervisor",o.jsx("hr",{})]}),n==null?void 0:n.map((a,l)=>{var c,u,d,h,f,p,g,x,y,m,v,w,_,j,E,I,b,T;return o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[o.jsx("div",{className:"col-sm-2 py-2 pe-2",children:o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"",className:"rounded-1"})})}),o.jsxs("div",{className:"col-sm-10",children:[o.jsx("h2",{className:"fw-bold text-dark",children:(u=(c=a==null?void 0:a.data)==null?void 0:c.name)==null?void 0:u.stringValue}),o.jsxs("p",{className:"text-muted",children:[(h=(d=a==null?void 0:a.data)==null?void 0:d.email)==null?void 0:h.stringValue," | +91-",(p=(f=a==null?void 0:a.data)==null?void 0:f.phone)==null?void 0:p.stringValue," |"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(g=a==null?void 0:a.data)==null?void 0:g.googleScholarLink.stringValue,target:"_blank",children:["Google Scholar ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(y=(x=a==null?void 0:a.data)==null?void 0:x.researchGateLink)==null?void 0:y.stringValue,target:"_blank",children:["Researchgate ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(v=(m=a==null?void 0:a.data)==null?void 0:m.personalProfileLink)==null?void 0:v.stringValue,target:"_blank",children:["Personal Profile ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(_=(w=a==null?void 0:a.data)==null?void 0:w.otherLink)==null?void 0:_.stringValue,target:"_blank",children:["Other ",o.jsx("i",{className:"bx bx-link-external"})]}),o.jsx("br",{}),o.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/profile/"+a._id,"_blank"),children:["Detailed Profile ",o.jsx("i",{className:"bx bx-link-external"})]})]}),o.jsx("hr",{}),o.jsx("h5",{children:"Research Interests"}),o.jsx("ul",{className:"d-flex flex-wrap",children:(I=(E=(j=a==null?void 0:a.data)==null?void 0:j.researchInterests)==null?void 0:E.stringValue)==null?void 0:I.split(",").map((S,P)=>o.jsx("li",{className:"mx-3",children:S},P))})]})]}),o.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[o.jsx("h3",{className:"fw-bold",children:"Introduction"}),o.jsx("hr",{}),o.jsx("p",{children:(T=(b=a==null?void 0:a.data)==null?void 0:b.introduction)==null?void 0:T.stringValue})]})]},l)}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((a,l)=>{var y,m,v,w,_,j;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p,supervisor:g}=a==null?void 0:a.data,x=(y=n.filter(E=>{var I,b,T,S,P;return((b=(I=E==null?void 0:E.data)==null?void 0:I.email)==null?void 0:b.stringValue)===((P=(S=(T=g==null?void 0:g.mapValue)==null?void 0:T.fields)==null?void 0:S.email)==null?void 0:P.stringValue)})[0])==null?void 0:y._id;return d!=null&&d.booleanValue?null:o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:c==null?void 0:c.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),o.jsx("br",{}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(v=(m=p==null?void 0:p.arrayValue)==null?void 0:m.values)==null?void 0:v.map((E,I)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:E.stringValue},I))]}),o.jsx("br",{}),o.jsxs("h6",{children:["Supervisor:",o.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+x,target:"_blank",children:[(j=(_=(w=g==null?void 0:g.mapValue)==null?void 0:w.fields)==null?void 0:_.name)==null?void 0:j.stringValue,o.jsx("i",{className:"bx bx-link-external"})]})]})]})]},l)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((a,l)=>{var y,m,v,w,_,j;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p,supervisor:g}=a==null?void 0:a.data,x=(y=n.filter(E=>{var I,b,T,S,P;return((b=(I=E==null?void 0:E.data)==null?void 0:I.email)==null?void 0:b.stringValue)===((P=(S=(T=g==null?void 0:g.mapValue)==null?void 0:T.fields)==null?void 0:S.email)==null?void 0:P.stringValue)})[0])==null?void 0:y._id;return d!=null&&d.booleanValue?o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("h3",{children:c==null?void 0:c.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),o.jsx("br",{}),o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(v=(m=p==null?void 0:p.arrayValue)==null?void 0:m.values)==null?void 0:v.map((E,I)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:E.stringValue},I))]}),o.jsx("br",{}),o.jsxs("h6",{children:["Supervisor:",o.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+x,target:"_blank",children:[(j=(_=(w=g==null?void 0:g.mapValue)==null?void 0:w.fields)==null?void 0:_.name)==null?void 0:j.stringValue,o.jsx("i",{className:"bx bx-link-external"})]})]})]},l):null})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(a=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=a==null?void 0:a.data;return u.booleanValue?null:o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:l==null?void 0:l.stringValue}),o.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),o.jsx("br",{}),o.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("hr",{}),o.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),o.jsx("br",{}),o.jsx("small",{children:"Currently Working at"}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),o.jsx("br",{})]})},a==null?void 0:a._id)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["PG and UG Alumnis",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(a=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=a==null?void 0:a.data;return u.booleanValue?o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:l==null?void 0:l.stringValue}),o.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),o.jsx("br",{}),o.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("hr",{}),o.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),o.jsx("br",{}),o.jsx("small",{children:"Currently Working at"}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),o.jsx("br",{})]})},a==null?void 0:a._id):null})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Vistors and Inters",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(a=>{const{name:l,collegeName:c}=a==null?void 0:a.data;return o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h4",{children:l==null?void 0:l.stringValue}),o.jsx("hr",{}),o.jsx("p",{className:"fw-bold text-dark",children:c==null?void 0:c.stringValue})]})},a==null?void 0:a._id)})})]})]})},XH=()=>{const t=re(r=>{var s;return(s=r.getdatasets)==null?void 0:s.data}),[e,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{n(!0),await Po(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:["Datasets | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Datasets",o.jsx("hr",{})]}),t==null?void 0:t.map((r,s)=>o.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[s+1,". "]}),r==null?void 0:r.title]}),o.jsx("p",{children:r==null?void 0:r.description}),o.jsx("img",{src:r==null?void 0:r.bannerURL,alt:"Banner Image",className:"rounded-3 border border-1 border-secondary"})]},s))]})]})},JH=()=>{const[t,e]=N.useState(!0),n=re(s=>{var i;return(i=s.getresearcharea)==null?void 0:i.data}),r=re(s=>s.getsubareas).data;return N.useEffect(()=>{(async()=>{e(!0),await gf(),await vf(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:["Research Areas | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Areas",o.jsx("hr",{})]}),n==null?void 0:n.map((s,i)=>{const a=(s==null?void 0:s.subareas)||[],l=r==null?void 0:r.filter(c=>a.some(u=>u.stringValue===(c==null?void 0:c._id)));return(i+1)%2!==0?o.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[o.jsx("div",{className:"col-sm-6 pe-3",children:o.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),o.jsxs("div",{className:"col-sm-8=6",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),o.jsxs("p",{children:[o.jsx("ul",{children:l==null?void 0:l.map((c,u)=>o.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&o.jsx(ne,{to:"/research-areas/"+(s==null?void 0:s._id),children:o.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]})]},i):o.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-6",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),o.jsxs("p",{children:[o.jsx("ul",{children:l==null?void 0:l.map((c,u)=>o.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&o.jsx(ne,{to:"/research-areas/"+(s==null?void 0:s._id),children:o.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]}),o.jsx("div",{className:"col-sm-6 pe-3",children:o.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},i)})]})]})},ZH=()=>{const[t,e]=N.useState(!0),{id:n}=Zi(),r=re(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),s=re(u=>u.getsubareas).data,i=re(u=>{var d;return(d=u.getprojectitems)==null?void 0:d.data}),a=r.find(u=>u._id===n);a||(window.location.href="/CVPR_LAB/#/dashboard/research-areas");const l=(a==null?void 0:a.subareas)||[],c=s==null?void 0:s.filter(u=>l.some(d=>d.stringValue===(u==null?void 0:u._id)));return N.useEffect(()=>{(async()=>{e(!0),await gf(),await vf(),await la(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:[a==null?void 0:a.title," | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsx("div",{className:"col-sm-12 text-start w-100",children:o.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[o.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[a==null?void 0:a.title,o.jsx("hr",{})]}),o.jsx("div",{className:"col-sm-12",children:o.jsx("div",{className:"card p-3",children:o.jsx("img",{src:a==null?void 0:a.bannerURL,alt:"Banner URL"})})}),o.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((u,d)=>{var h;return o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("h1",{children:[o.jsxs("strong",{className:"fw-bold text-danger",children:[d+1,". "]}),u==null?void 0:u.title]}),o.jsx("hr",{}),o.jsx("p",{children:u==null?void 0:u.description}),o.jsx("h3",{className:"fw-bold text-danger mb-3",children:"Related Projects"}),o.jsx("div",{className:"col-sm-12",children:(h=u==null?void 0:u.projects)==null?void 0:h.map((f,p)=>{const g=i==null?void 0:i.find(x=>(x==null?void 0:x._id)==(f==null?void 0:f.stringValue));return o.jsxs("div",{className:"card p-2 mb-4",children:[o.jsxs("h6",{children:[" ",o.jsxs("strong",{className:"fw-bold text-danger",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",o.jsx(ne,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(ne,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},d)})})]})]})},eW=()=>o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:["Contact | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"my-5 container",children:[o.jsxs("h1",{className:"fw-bold mb-4 text-danger text-center text-lg-start",children:["Contact Us",o.jsx("hr",{})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-sm-8",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"500px",style:{border:"none"},allowFullScreen:!0})}),o.jsxs("div",{className:"col-sm-4",id:"contact2",children:[o.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),o.jsx("hr",{className:"text-left w-50"}),o.jsx("h4",{className:"pt-2",children:"Address"}),o.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),"CVPR Lab, Department of Electrical Engineering, J.C.Block, IIT Ropar, Rupnagar, Punjab, 140001",o.jsx("br",{}),o.jsx("h4",{className:"pt-2",children:"Mobile"}),o.jsx("i",{className:"fas fa-phone",style:{color:"#000"}}),o.jsxs("a",{href:"tel:+91-3612583507",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[o.jsx("i",{className:"bx bxs-phone me-1"}),"+91-3612583507"]}),o.jsx("br",{}),o.jsx("h4",{className:"pt-2",children:"Email"}),o.jsx("i",{className:"fa fa-envelope",style:{color:"#000"}}),o.jsxs("a",{href:"mailto:visionintelligencelab@gmail.com",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[o.jsx("i",{className:"bx bx-envelope me-1"})," ","visionintelligencelab[at]gmail[dot]com"]}),o.jsx("br",{})]})]})]})]}),tW=()=>{const[t,e]=N.useState(!0),n=re(a=>{var l;return(l=a.getprojectitems)==null?void 0:l.data}),r=re(a=>{var l;return(l=a.getdatasets)==null?void 0:l.data}),s=re(a=>{var l;return(l=a.getprojectsimages)==null?void 0:l.data}),i=re(a=>{var l;return(l=a.getprojectsmain)==null?void 0:l.data});return N.useEffect(()=>{(async()=>{e(!0),yf(),e(!1),Ix(),la(),Po()})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:["Projects | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Projects",o.jsx("hr",{})]}),i==null?void 0:i.map((a,l)=>{var c,u,d,h,f,p,g,x,y,m,v,w,_,j;return o.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[l+1,". "]}),(c=a==null?void 0:a.title)==null?void 0:c.stringValue]}),o.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[o.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),o.jsx("td",{children:(u=a==null?void 0:a.funding_agency)==null?void 0:u.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(d=a==null?void 0:a.total_fund)==null?void 0:d.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),o.jsx("td",{children:(h=a==null?void 0:a.pis)==null?void 0:h.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),o.jsx("td",{children:(f=a==null?void 0:a.copis)==null?void 0:f.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(p=a==null?void 0:a.jrf_phd_scholar)==null?void 0:p.stringValue})]})]})})}),o.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[o.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),o.jsx("hr",{className:"mx-1 mt-0 mb-2"}),o.jsx("p",{className:"",children:(g=a==null?void 0:a.description)==null?void 0:g.stringValue}),o.jsxs("div",{className:"px-1 mb-3",children:[o.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(x=s==null?void 0:s.filter(E=>(E==null?void 0:E.project)==(a==null?void 0:a._id)))==null?void 0:x.map((E,I)=>o.jsxs("div",{children:[I+1,". ",E==null?void 0:E.title," (",o.jsx(ne,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(E==null?void 0:E._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(E==null?void 0:E._id)+"Modal",tabIndex:-1,"aria-labelledby":(E==null?void 0:E._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(E==null?void 0:E._id)+"ModalLabel",children:E==null?void 0:E.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:E==null?void 0:E.description}),o.jsx("img",{className:"w-100",src:E==null?void 0:E.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I))}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(v=(m=(y=a==null?void 0:a.related_datasets)==null?void 0:y.arrayValue)==null?void 0:m.values)==null?void 0:v.map((E,I)=>{const b=r==null?void 0:r.find(T=>(T==null?void 0:T._id)==(E==null?void 0:E.stringValue));return o.jsxs("div",{children:[I+1,". ",b==null?void 0:b.title," (",o.jsx(ne,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(b==null?void 0:b._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(b==null?void 0:b._id)+"Modal",tabIndex:-1,"aria-labelledby":(b==null?void 0:b._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(b==null?void 0:b._id)+"ModalLabel",children:b==null?void 0:b.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:b==null?void 0:b.description}),o.jsx("img",{className:"w-100",src:b==null?void 0:b.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I)})}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(j=(_=(w=a==null?void 0:a.related_projectitems)==null?void 0:w.arrayValue)==null?void 0:_.values)==null?void 0:j.map((E,I)=>{const b=n==null?void 0:n.find(T=>(T==null?void 0:T._id)==(E==null?void 0:E.stringValue));return o.jsxs("div",{children:[I+1,". ",b==null?void 0:b.title," (",o.jsx(ne,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(b==null?void 0:b._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(b==null?void 0:b._id)+"Modal",tabIndex:-1,"aria-labelledby":(b==null?void 0:b._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(b==null?void 0:b._id)+"ModalLabel",children:[b==null?void 0:b.title,"("," ",o.jsx(ne,{className:"btn-primary",style:{textDecoration:"none"},to:b==null?void 0:b.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(ne,{to:b==null?void 0:b.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:b==null?void 0:b.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I)})})]})]})]})]},l)})]})]})},nW=()=>{const[t,e]=N.useState(!0),[n,r]=N.useState(""),[s,i]=N.useState(!1),a=re(l=>l.getgallery.data);return N.useEffect(()=>{(async()=>{e(!0),await VC(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:["Gallery | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Image Gallery",o.jsx("hr",{})]}),o.jsx("div",{className:"row1 row",children:rW(a,4).map((l,c)=>o.jsx("div",{className:"column1 column",children:l.map((u,d)=>o.jsx("img",{className:"shadow-lg rounded-3",src:u==null?void 0:u.bannerURL,style:{width:"100%"},onClick:()=>{r(u==null?void 0:u.bannerURL),i(!0)}},d))},c))})]}),s&&o.jsxs("div",{className:"full_screen_image",children:[o.jsx("img",{src:n,alt:"full screen image"}),o.jsx("button",{onClick:()=>{i(!1),r("")},className:"btn btn-danger",children:"Close"})]})]})},rW=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},sW=()=>o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:["Welcome | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsx(m5,{}),o.jsxs(Lv,{children:[o.jsx(je,{path:"/",element:o.jsx(KH,{})}),o.jsx(je,{path:"/peoples",element:o.jsx(QH,{})}),o.jsx(je,{path:"/gallery",element:o.jsx(nW,{})}),o.jsx(je,{path:"/datasets",element:o.jsx(XH,{})}),o.jsx(je,{path:"/projects",element:o.jsx(tW,{})}),o.jsx(je,{path:"/research-areas",element:o.jsx(JH,{})}),o.jsx(je,{path:"/research-areas/:id",element:o.jsx(ZH,{})}),o.jsx(je,{path:"/publications",element:o.jsx(sP,{ref_:!1})}),o.jsx(je,{path:"/contact",element:o.jsx(eW,{})})]}),o.jsx(YH,{})]}),iW=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(!1),[c,u]=N.useState(!1),d=async p=>{if(p.preventDefault(),!t||!s){W("warning","Email and Password fields are required!");return}l(!0),u(!1);try{await t4(Ti,t,s),window.location.href="/CVPR_LAB/#/dashboard"}catch(g){console.log(g),u(!0),W("danger","Invalid Email or Password!")}l(!1)},h=async()=>{l(!0),Ti.languageCode="it",j4(Ti,w3).then(()=>{window.location.href="/CVPR_LAB/#/dashboard"}).catch(p=>{(p==null?void 0:p.code)==="auth/admin-restricted-operation"?W("danger","User does not existed!"):W("danger","Invalid Email or Password!")}).finally(()=>{l(!1)})},f=async()=>{if(!n){W("warning","Email should not be empty!");return}l(!0),await e4(Ti,n).then(()=>{W("success","Password reset email sent!"),window.close()}).catch(()=>{W("danger","Error sending password reset email. Please try again later.")}),l(!1)};return o.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[o.jsxs("div",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[o.jsxs("form",{children:[o.jsx("h1",{className:"w-100 text-center",children:"Admin Login"}),c&&o.jsx("div",{className:"alert alert-danger p-2",role:"alert",children:"Error signing in. Please check your credentials and try again."}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:p=>e(p.target.value),disabled:a})]}),o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:p=>i(p.target.value),disabled:a})]}),o.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[o.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forgot Password?"}),o.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content rounded-0",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forgot Password"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:p=>r(p.target.value),placeholder:"ie. user@gmail.com"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-dark",onClick:f,disabled:a,children:a?"Please Wait..":"Send Mail"})]})]})})})]}),o.jsx("button",{onClick:d,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:a,children:a?"Please Wait..":"Submit"})]}),o.jsx("hr",{}),o.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2 border-1 border-secondary",onClick:h,disabled:a,children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]})]}),o.jsx(gn,{children:o.jsxs("title",{children:["Login | ","Vision Intelligence Lab, IIT Ropar"]})})]})},aW=()=>{const{pathname:t}=bc();return N.useEffect(()=>{window.scrollTo(0,0)},[t]),null},oW=()=>{var h,f,p,g,x,y,m,v,w,_,j,E,I,b,T,S,P,D,C,M;const{id:t}=Zi(),[e,n]=N.useState(!0),s=re(k=>k.getsupervisors.data).filter(k=>k._id==t)[0],i=re(k=>k.getpublications.data),a=re(k=>{var $;return($=k.getprojectsimages)==null?void 0:$.data}),l=re(k=>{var $;return($=k.getprojectitems)==null?void 0:$.data}),c=re(k=>{var $;return($=k.getdatasets)==null?void 0:$.data}),u=re(k=>{var $;return($=k.getprojectsmain)==null?void 0:$.data}),d=re(k=>k.getphdStudents.data);return N.useEffect(()=>{(async()=>{n(!0),await Co(),await zc(),await yf(),await Nx(),n(!1),await Po(),await la(),await Ix()})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gn,{children:o.jsxs("title",{children:[(f=(h=s==null?void 0:s.data)==null?void 0:h.name)==null?void 0:f.stringValue," |"," ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[(g=(p=s==null?void 0:s.data)==null?void 0:p.name)==null?void 0:g.stringValue,o.jsx("hr",{})]}),o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[o.jsx("div",{className:"col-sm-2 py-2 pe-2",children:o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:s==null?void 0:s.profileImage,alt:"",className:"rounded-1"})})}),o.jsxs("div",{className:"col-sm-10",children:[o.jsxs("p",{className:"text-muted",children:[o.jsxs("div",{className:"my-3",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",(y=(x=s==null?void 0:s.data)==null?void 0:x.email)==null?void 0:y.stringValue]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Mobile:"})," +91-",(v=(m=s==null?void 0:s.data)==null?void 0:m.phone)==null?void 0:v.stringValue]})]}),o.jsxs("a",{style:{textDecoration:"none"},href:(w=s==null?void 0:s.data)==null?void 0:w.googleScholarLink.stringValue,target:"_blank",children:["Google Scholar ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(j=(_=s==null?void 0:s.data)==null?void 0:_.researchGateLink)==null?void 0:j.stringValue,target:"_blank",children:["Researchgate ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(I=(E=s==null?void 0:s.data)==null?void 0:E.personalProfileLink)==null?void 0:I.stringValue,target:"_blank",children:["Personal Profile ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(T=(b=s==null?void 0:s.data)==null?void 0:b.otherLink)==null?void 0:T.stringValue,target:"_blank",children:["Other ",o.jsx("i",{className:"bx bx-link-external"})]})]}),o.jsx("hr",{}),o.jsx("h5",{children:"Research Interests"}),o.jsx("ul",{className:"",children:(D=(P=(S=s==null?void 0:s.data)==null?void 0:S.researchInterests)==null?void 0:P.stringValue)==null?void 0:D.split(",").map((k,$)=>o.jsx("li",{className:"mx-3",children:k},$))})]})]}),o.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[o.jsx("h3",{className:"fw-bold",children:"Introduction"}),o.jsx("hr",{}),o.jsx("p",{children:(M=(C=s==null?void 0:s.data)==null?void 0:C.introduction)==null?void 0:M.stringValue})]})]}),o.jsx("div",{className:"card p-3 mb-4",children:o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[o.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Publications"}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("ul",{style:{height:"fit-content",overflow:"hidden"},children:i==null?void 0:i.map((k,$)=>{var pe,Z;const{paperTitle:O,author:R,impact:L,link:F,pages:q,publisher:A,publicationDate:z,volume:X,journalName:J,paperType:ae,isbn:fe,users:Se}=k==null?void 0:k.data;if((Z=(pe=Se==null?void 0:Se.arrayValue)==null?void 0:pe.values)!=null&&Z.filter(be=>{var H,Ce;return be.stringValue==((Ce=(H=s==null?void 0:s.data)==null?void 0:H.name)==null?void 0:Ce.stringValue)})[0])return o.jsxs("li",{children:[o.jsx("span",{children:o.jsxs("cite",{children:[o.jsxs("span",{className:"author",children:[R==null?void 0:R.stringValue,","]}),o.jsxs("a",{href:`https://doi.org/${F.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[o.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',O.stringValue,'",']}),o.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),o.jsxs("span",{className:"journal",style:{display:"inline"},children:[o.jsx("i",{children:J.stringValue}),","]}),o.jsxs("span",{className:"volume",style:{display:"inline"},children:[X.stringValue,","," "]}),o.jsxs("span",{className:"pages",style:{display:"inline"},children:[q.stringValue,","," "]}),o.jsxs("span",{className:"date",style:{display:"inline"},children:[z.stringValue,"-",ae.stringValue,"-",fe.stringValue,"-",A.stringValue,"-",L.stringValue]})]})}),o.jsx("hr",{})]},$)})})})]})}),o.jsx("div",{className:"card p-3 mb-4",children:o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[o.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),o.jsx("hr",{}),o.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:u==null?void 0:u.map((k,$)=>{var O,R,L,F,q,A,z,X,J,ae,fe,Se,te,pe;return o.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[o.jsx("h1",{className:"accordion-header",id:"heading"+$,children:o.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+$,"aria-expanded":"true","aria-controls":"collapse"+$,children:o.jsxs("h5",{children:[o.jsxs("strong",{className:"text-danger",children:[$+1,". "]}),(O=k==null?void 0:k.title)==null?void 0:O.stringValue]})})}),o.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:o.jsx("div",{id:"collapse"+$,className:"accordion-collapse collapse","aria-labelledby":"heading"+$,"data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body",children:o.jsx("div",{className:"col-sm-12 mb-3 overflow-auto",children:o.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-column flex-lg-column gap-3 pe-2 mt-2",children:[o.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["1."," "]}),"Funding Agency"]})}),o.jsx("td",{children:(R=k==null?void 0:k.funding_agency)==null?void 0:R.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["2."," "]}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(L=k==null?void 0:k.total_fund)==null?void 0:L.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["3."," "]}),"Project Investigators"]})}),o.jsx("td",{children:(F=k==null?void 0:k.pis)==null?void 0:F.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["4."," "]}),"Co-Project Investigators"]})}),o.jsx("td",{children:(q=k==null?void 0:k.copis)==null?void 0:q.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["5."," "]}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(A=k==null?void 0:k.jrf_phd_scholar)==null?void 0:A.stringValue})]})]})})}),o.jsxs("div",{className:"col-sm-12 col-lg-12 col-md-12  card px-2 rounded-0",children:[o.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),o.jsx("hr",{className:"mx-1 mt-0 mb-2"}),o.jsx("p",{className:"w-100 overflow-auto",children:(z=k==null?void 0:k.description)==null?void 0:z.stringValue}),o.jsxs("div",{className:"px-1 mb-3",children:[o.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(X=a==null?void 0:a.filter(Z=>(Z==null?void 0:Z.project)==(k==null?void 0:k._id)))==null?void 0:X.map((Z,be)=>o.jsxs("div",{children:[be+1,". ",Z==null?void 0:Z.title," (",o.jsx(ne,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(Z==null?void 0:Z._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(Z==null?void 0:Z._id)+"Modal",tabIndex:-1,"aria-labelledby":(Z==null?void 0:Z._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(Z==null?void 0:Z._id)+"ModalLabel",children:Z==null?void 0:Z.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:Z==null?void 0:Z.description}),o.jsx("img",{className:"w-100",src:Z==null?void 0:Z.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},be))}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(fe=(ae=(J=k==null?void 0:k.related_datasets)==null?void 0:J.arrayValue)==null?void 0:ae.values)==null?void 0:fe.map((Z,be)=>{const H=c==null?void 0:c.find(Ce=>(Ce==null?void 0:Ce._id)==(Z==null?void 0:Z.stringValue));return o.jsxs("div",{children:[be+1,". ",H==null?void 0:H.title," (",o.jsx(ne,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(H==null?void 0:H._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(H==null?void 0:H._id)+"Modal",tabIndex:-1,"aria-labelledby":(H==null?void 0:H._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(H==null?void 0:H._id)+"ModalLabel",children:H==null?void 0:H.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:H==null?void 0:H.description}),o.jsx("img",{className:"w-100",src:H==null?void 0:H.bannerURL,alt:"Banner Image"})]})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},be)})}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(pe=(te=(Se=k==null?void 0:k.related_projectitems)==null?void 0:Se.arrayValue)==null?void 0:te.values)==null?void 0:pe.map((Z,be)=>{const H=l==null?void 0:l.find(Ce=>(Ce==null?void 0:Ce._id)==(Z==null?void 0:Z.stringValue));return o.jsxs("div",{children:[be+1,". ",H==null?void 0:H.title," (",o.jsx(ne,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(H==null?void 0:H._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(H==null?void 0:H._id)+"Modal",tabIndex:-1,"aria-labelledby":(H==null?void 0:H._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(H==null?void 0:H._id)+"ModalLabel",children:[H==null?void 0:H.title,"("," ",o.jsx(ne,{className:"btn-primary",style:{textDecoration:"none"},to:H==null?void 0:H.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(ne,{to:H==null?void 0:H.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:H==null?void 0:H.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},be)})})]})]})]})},"item_"+$)})})})]},$)})})]})}),o.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:d==null?void 0:d.map((k,$)=>{var z,X;const{name:O,batch:R,isAlumni:L,email:F,mobile:q,researchInterests:A}=k==null?void 0:k.data;return L!=null&&L.booleanValue?null:o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:k==null?void 0:k.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:O==null?void 0:O.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(F==null?void 0:F.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(R==null?void 0:R.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",q==null?void 0:q.stringValue]}),o.jsx("br",{}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(X=(z=A==null?void 0:A.arrayValue)==null?void 0:z.values)==null?void 0:X.map((J,ae)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:J.stringValue},ae))]})]})]},$)})}),o.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:d==null?void 0:d.map((k,$)=>{var z,X;const{name:O,batch:R,isAlumni:L,email:F,mobile:q,researchInterests:A}=k==null?void 0:k.data;return L!=null&&L.booleanValue?o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:k==null?void 0:k.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("h3",{children:O==null?void 0:O.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(F==null?void 0:F.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(R==null?void 0:R.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",q==null?void 0:q.stringValue]}),o.jsx("br",{}),o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(X=(z=A==null?void 0:A.arrayValue)==null?void 0:z.values)==null?void 0:X.map((J,ae)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:J.stringValue},ae))]})]},$):null})})]})]})},lW=({content:t,id:e,type:n})=>{const r=iC(),s=re(i=>i.getalerts.data);return o.jsx(o.Fragment,{children:o.jsxs("div",{className:`alert-anm alert alert-${n} rounded-0 my-1 d-flex flex-nowrap`,role:"alert",children:[o.jsx("h6",{children:t}),o.jsx("button",{type:"button",className:"btn-close ms-2",onClick:()=>{r(us(s.filter(i=>i.id!=e)))}})]})})};function cW(){const t=re(r=>r.getalerts.data),[e,n]=N.useState(!1);return N.useEffect(()=>{n(navigator.onLine),navigator.onLine||setTimeout(()=>{window.location.reload()},1e3)},[navigator.onLine]),e?o.jsxs(o.Fragment,{children:[o.jsx(aW,{}),t.length>0&&o.jsx("div",{className:"w-100 d-flex align-items-center justify-content-center flex-wrap flex-column gap-0",style:{position:"fixed",top:0,left:0,overflow:"hidden",height:"100vh",backgroundColor:"#00000046",zIndex:9999},children:t==null?void 0:t.map((r,s)=>o.jsx(lW,{content:r==null?void 0:r.content,id:r==null?void 0:r.id,type:r==null?void 0:r.type},s))}),o.jsxs(Lv,{children:[o.jsx(je,{path:"/dashboard/*",element:o.jsx(f5,{})}),o.jsx(je,{path:"/profile/:id",element:o.jsx(oW,{})}),o.jsx(je,{path:"/*",element:o.jsx(sW,{})}),o.jsx(je,{path:"/login",element:o.jsx(iW,{})})]})]}):o.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:o.jsx("h1",{children:"You Are Offline. Trying to reconnect..."})})}function Yu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(n){return typeof n}:Yu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yu(t)}function uW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dW(t,e,n){return e&&q_(t.prototype,e),n&&q_(t,n),t}function hW(t,e){return e&&(Yu(e)==="object"||typeof e=="function")?e:Qu(t)}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(t)}function Qu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fg(t,e)}function Fg(t,e){return Fg=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Fg(t,e)}function Xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iP=function(t){fW(e,t);function e(){var n,r;uW(this,e);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=hW(this,(n=Vg(e)).call.apply(n,[this].concat(i))),Xu(Qu(r),"state",{bootstrapped:!1}),Xu(Qu(r),"_unsubscribe",void 0),Xu(Qu(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return dW(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(N.PureComponent);Xu(iP,"defaultProps",{children:null,loading:null});Mp.createRoot(document.getElementById("root")).render(o.jsx(Ne.StrictMode,{children:o.jsx(Tz,{store:bt,children:o.jsx(iP,{loading:null,persistor:rz,children:o.jsx(IR,{children:o.jsx(cW,{})})})})}));
