function KC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U_={exports:{}},rh={},$_={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),YC=Symbol.for("react.portal"),QC=Symbol.for("react.fragment"),XC=Symbol.for("react.strict_mode"),JC=Symbol.for("react.profiler"),ZC=Symbol.for("react.provider"),eP=Symbol.for("react.context"),tP=Symbol.for("react.forward_ref"),nP=Symbol.for("react.suspense"),rP=Symbol.for("react.memo"),sP=Symbol.for("react.lazy"),Nw=Symbol.iterator;function iP(t){return t===null||typeof t!="object"?null:(t=Nw&&t[Nw]||t["@@iterator"],typeof t=="function"?t:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,H_={};function ho(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||B_}ho.prototype.isReactComponent={};ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W_(){}W_.prototype=ho.prototype;function Mg(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||B_}var Vg=Mg.prototype=new W_;Vg.constructor=Mg;z_(Vg,ho.prototype);Vg.isPureReactComponent=!0;var jw=Array.isArray,q_=Object.prototype.hasOwnProperty,Fg={current:null},G_={key:!0,ref:!0,__self:!0,__source:!0};function K_(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)q_.call(e,r)&&!G_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:dc,type:t,key:i,ref:a,props:s,_owner:Fg.current}}function aP(t,e){return{$$typeof:dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ug(t){return typeof t=="object"&&t!==null&&t.$$typeof===dc}function oP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cw=/\/+/g;function vf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oP(""+t.key):e.toString(36)}function _u(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case dc:case YC:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+vf(a,0):r,jw(s)?(n="",t!=null&&(n=t.replace(Cw,"$&/")+"/"),_u(s,e,n,"",function(u){return u})):s!=null&&(Ug(s)&&(s=aP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Cw,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",jw(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+vf(i,l);a+=_u(i,e,n,c,s)}else if(c=iP(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+vf(i,l++),a+=_u(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bc(t,e,n){if(t==null)return t;var r=[],s=0;return _u(t,r,"","",function(i){return e.call(n,i,s++)}),r}function lP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Eu={transition:null},cP={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Eu,ReactCurrentOwner:Fg};me.Children={map:Bc,forEach:function(t,e,n){Bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bc(t,function(){e++}),e},toArray:function(t){return Bc(t,function(e){return e})||[]},only:function(t){if(!Ug(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ho;me.Fragment=QC;me.Profiler=JC;me.PureComponent=Mg;me.StrictMode=XC;me.Suspense=nP;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cP;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Fg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)q_.call(e,c)&&!G_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:dc,type:t.type,key:s,ref:i,props:r,_owner:a}};me.createContext=function(t){return t={$$typeof:eP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZC,_context:t},t.Consumer=t};me.createElement=K_;me.createFactory=function(t){var e=K_.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:tP,render:t}};me.isValidElement=Ug;me.lazy=function(t){return{$$typeof:sP,_payload:{_status:-1,_result:t},_init:lP}};me.memo=function(t,e){return{$$typeof:rP,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Eu.transition;Eu.transition={};try{t()}finally{Eu.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return Qt.current.useCallback(t,e)};me.useContext=function(t){return Qt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Qt.current.useEffect(t,e)};me.useId=function(){return Qt.current.useId()};me.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Qt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};me.useRef=function(t){return Qt.current.useRef(t)};me.useState=function(t){return Qt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Qt.current.useTransition()};me.version="18.2.0";$_.exports=me;var N=$_.exports;const Ee=uo(N),Rp=KC({__proto__:null,default:Ee},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP=N,dP=Symbol.for("react.element"),hP=Symbol.for("react.fragment"),fP=Object.prototype.hasOwnProperty,pP=uP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mP={key:!0,ref:!0,__self:!0,__source:!0};function Y_(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)fP.call(e,r)&&!mP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:dP,type:t,key:i,ref:a,props:s,_owner:pP.current}}rh.Fragment=hP;rh.jsx=Y_;rh.jsxs=Y_;U_.exports=rh;var o=U_.exports,Dp={},Q_={exports:{}},jn={},X_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var F=R.length;R.push(L);e:for(;0<F;){var W=F-1>>>1,k=R[W];if(0<s(k,L))R[W]=L,R[F]=k,F=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],F=R.pop();if(F!==L){R[0]=F;e:for(var W=0,k=R.length,z=k>>>1;W<z;){var X=2*(W+1)-1,J=R[X],ie=X+1,ue=R[ie];if(0>s(J,F))ie<k&&0>s(ue,J)?(R[W]=ue,R[ie]=F,W=ie):(R[W]=J,R[X]=F,W=X);else if(ie<k&&0>s(ue,F))R[W]=ue,R[ie]=F,W=ie;else break e}}return L}function s(R,L){var F=R.sortIndex-L.sortIndex;return F!==0?F:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function b(R){if(w=!1,x(R),!g)if(n(c)!==null)g=!0,B(I);else{var L=n(u);L!==null&&D(b,L.startTime-R)}}function I(R,L){g=!1,w&&(w=!1,m(E),E=-1),p=!0;var F=f;try{for(x(L),h=n(c);h!==null&&(!(h.expirationTime>L)||R&&!A());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var k=W(h.expirationTime<=L);L=t.unstable_now(),typeof k=="function"?h.callback=k:h===n(c)&&r(c),x(L)}else r(c);h=n(c)}if(h!==null)var z=!0;else{var X=n(u);X!==null&&D(b,X.startTime-L),z=!1}return z}finally{h=null,f=F,p=!1}}var _=!1,j=null,E=-1,T=5,S=-1;function A(){return!(t.unstable_now()-S<T)}function O(){if(j!==null){var R=t.unstable_now();S=R;var L=!0;try{L=j(!0,R)}finally{L?C():(_=!1,j=null)}}else _=!1}var C;if(typeof v=="function")C=function(){v(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,M=P.port2;P.port1.onmessage=O,C=function(){M.postMessage(null)}}else C=function(){y(O,0)};function B(R){j=R,_||(_=!0,C())}function D(R,L){E=y(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,B(I))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var F=f;f=L;try{return R()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=f;f=R;try{return L()}finally{f=F}},t.unstable_scheduleCallback=function(R,L,F){var W=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,R){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=F+k,R={id:d++,callback:L,priorityLevel:R,startTime:F,expirationTime:k,sortIndex:-1},F>W?(R.sortIndex=F,e(u,R),n(c)===null&&R===n(u)&&(w?(m(E),E=-1):w=!0,D(b,F-W))):(R.sortIndex=k,e(c,R),g||p||(g=!0,B(I))),R},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(R){var L=f;return function(){var F=f;f=L;try{return R.apply(this,arguments)}finally{f=F}}}})(J_);X_.exports=J_;var gP=X_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=N,Sn=gP;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eE=new Set,Sl={};function $i(t,e){Ha(t,e),Ha(t+"Capture",e)}function Ha(t,e){for(Sl[t]=e,t=0;t<e.length;t++)eE.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=Object.prototype.hasOwnProperty,vP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pw={},Aw={};function yP(t){return Op.call(Aw,t)?!0:Op.call(Pw,t)?!1:vP.test(t)?Aw[t]=!0:(Pw[t]=!0,!1)}function wP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xP(t,e,n,r){if(e===null||typeof e>"u"||wP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var $g=/[\-:]([a-z])/g;function Bg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($g,Bg);Pt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($g,Bg);Pt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($g,Bg);Pt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function zg(t,e,n,r){var s=Pt.hasOwnProperty(e)?Pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xP(e,n,s,r)&&(n=null),r||s===null?yP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=Z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zc=Symbol.for("react.element"),ha=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),Hg=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),tE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),Wg=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),qg=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),rE=Symbol.for("react.offscreen"),kw=Symbol.iterator;function No(t){return t===null||typeof t!="object"?null:(t=kw&&t[kw]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,yf;function qo(t){if(yf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yf=e&&e[1]||""}return`
`+yf+t}var wf=!1;function xf(t,e){if(!t||wf)return"";wf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{wf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qo(t):""}function bP(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=xf(t.type,!1),t;case 11:return t=xf(t.type.render,!1),t;case 1:return t=xf(t.type,!0),t;default:return""}}function Fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fa:return"Fragment";case ha:return"Portal";case Lp:return"Profiler";case Hg:return"StrictMode";case Mp:return"Suspense";case Vp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nE:return(t.displayName||"Context")+".Consumer";case tE:return(t._context.displayName||"Context")+".Provider";case Wg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qg:return e=t.displayName||null,e!==null?e:Fp(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return Fp(t(e))}catch{}}return null}function _P(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fp(e);case 8:return e===Hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EP(t){var e=sE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=EP(t))}function iE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ku(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Up(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aE(t,e){e=e.checked,e!=null&&zg(t,"checked",e,!1)}function $p(t,e){aE(t,e);var n=Ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bp(t,e.type,Ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bp(t,e,n){(e!=="number"||Ku(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Go=Array.isArray;function Na(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ms(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ow(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Go(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ms(n)}}function oE(t,e){var n=Ms(e.value),r=Ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wc,cE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wc=Wc||document.createElement("div"),Wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TP=["Webkit","ms","Moz","O"];Object.keys(sl).forEach(function(t){TP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sl[e]=sl[t]})});function uE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sl.hasOwnProperty(t)&&sl[t]?(""+e).trim():e+"px"}function dE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var SP=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(t,e){if(e){if(SP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function Gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kp=null,ja=null,Ca=null;function Mw(t){if(t=pc(t)){if(typeof Kp!="function")throw Error($(280));var e=t.stateNode;e&&(e=lh(e),Kp(t.stateNode,t.type,e))}}function hE(t){ja?Ca?Ca.push(t):Ca=[t]:ja=t}function fE(){if(ja){var t=ja,e=Ca;if(Ca=ja=null,Mw(t),e)for(t=0;t<e.length;t++)Mw(e[t])}}function pE(t,e){return t(e)}function mE(){}var bf=!1;function gE(t,e,n){if(bf)return t(e,n);bf=!0;try{return pE(t,e,n)}finally{bf=!1,(ja!==null||Ca!==null)&&(mE(),fE())}}function Nl(t,e){var n=t.stateNode;if(n===null)return null;var r=lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Yp=!1;if(Gr)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{Yp=!1}function IP(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var il=!1,Yu=null,Qu=!1,Qp=null,NP={onError:function(t){il=!0,Yu=t}};function jP(t,e,n,r,s,i,a,l,c){il=!1,Yu=null,IP.apply(NP,arguments)}function CP(t,e,n,r,s,i,a,l,c){if(jP.apply(this,arguments),il){if(il){var u=Yu;il=!1,Yu=null}else throw Error($(198));Qu||(Qu=!0,Qp=u)}}function Bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vw(t){if(Bi(t)!==t)throw Error($(188))}function PP(t){var e=t.alternate;if(!e){if(e=Bi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Vw(s),t;if(i===r)return Vw(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function yE(t){return t=PP(t),t!==null?wE(t):null}function wE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wE(t);if(e!==null)return e;t=t.sibling}return null}var xE=Sn.unstable_scheduleCallback,Fw=Sn.unstable_cancelCallback,AP=Sn.unstable_shouldYield,kP=Sn.unstable_requestPaint,tt=Sn.unstable_now,RP=Sn.unstable_getCurrentPriorityLevel,Kg=Sn.unstable_ImmediatePriority,bE=Sn.unstable_UserBlockingPriority,Xu=Sn.unstable_NormalPriority,DP=Sn.unstable_LowPriority,_E=Sn.unstable_IdlePriority,sh=null,yr=null;function OP(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(sh,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:VP,LP=Math.log,MP=Math.LN2;function VP(t){return t>>>=0,t===0?32:31-(LP(t)/MP|0)|0}var qc=64,Gc=4194304;function Ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Ko(l):(i&=a,i!==0&&(r=Ko(i)))}else a=n&~s,a!==0?r=Ko(a):i!==0&&(r=Ko(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),s=1<<n,r|=t[n],e&=~s;return r}function FP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-nr(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=FP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Xp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EE(){var t=qc;return qc<<=1,!(qc&4194240)&&(qc=64),t}function _f(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function $P(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-nr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Yg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function TE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SE,Qg,IE,NE,jE,Jp=!1,Kc=[],Es=null,Ts=null,Ss=null,jl=new Map,Cl=new Map,cs=[],BP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uw(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Co(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pc(e),e!==null&&Qg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zP(t,e,n,r,s){switch(e){case"focusin":return Es=Co(Es,t,e,n,r,s),!0;case"dragenter":return Ts=Co(Ts,t,e,n,r,s),!0;case"mouseover":return Ss=Co(Ss,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jl.set(i,Co(jl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cl.set(i,Co(Cl.get(i)||null,t,e,n,r,s)),!0}return!1}function CE(t){var e=oi(t.target);if(e!==null){var n=Bi(e);if(n!==null){if(e=n.tag,e===13){if(e=vE(n),e!==null){t.blockedOn=e,jE(t.priority,function(){IE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gp=r,n.target.dispatchEvent(r),Gp=null}else return e=pc(n),e!==null&&Qg(e),t.blockedOn=n,!1;e.shift()}return!0}function $w(t,e,n){Tu(t)&&n.delete(e)}function HP(){Jp=!1,Es!==null&&Tu(Es)&&(Es=null),Ts!==null&&Tu(Ts)&&(Ts=null),Ss!==null&&Tu(Ss)&&(Ss=null),jl.forEach($w),Cl.forEach($w)}function Po(t,e){t.blockedOn===e&&(t.blockedOn=null,Jp||(Jp=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,HP)))}function Pl(t){function e(s){return Po(s,t)}if(0<Kc.length){Po(Kc[0],t);for(var n=1;n<Kc.length;n++){var r=Kc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&Po(Es,t),Ts!==null&&Po(Ts,t),Ss!==null&&Po(Ss,t),jl.forEach(e),Cl.forEach(e),n=0;n<cs.length;n++)r=cs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&cs.shift()}var Pa=ts.ReactCurrentBatchConfig,Zu=!0;function WP(t,e,n,r){var s=Ne,i=Pa.transition;Pa.transition=null;try{Ne=1,Xg(t,e,n,r)}finally{Ne=s,Pa.transition=i}}function qP(t,e,n,r){var s=Ne,i=Pa.transition;Pa.transition=null;try{Ne=4,Xg(t,e,n,r)}finally{Ne=s,Pa.transition=i}}function Xg(t,e,n,r){if(Zu){var s=Zp(t,e,n,r);if(s===null)kf(t,e,r,ed,n),Uw(t,r);else if(zP(s,t,e,n,r))r.stopPropagation();else if(Uw(t,r),e&4&&-1<BP.indexOf(t)){for(;s!==null;){var i=pc(s);if(i!==null&&SE(i),i=Zp(t,e,n,r),i===null&&kf(t,e,r,ed,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else kf(t,e,r,null,n)}}var ed=null;function Zp(t,e,n,r){if(ed=null,t=Gg(r),t=oi(t),t!==null)if(e=Bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ed=t,null}function PE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RP()){case Kg:return 1;case bE:return 4;case Xu:case DP:return 16;case _E:return 536870912;default:return 16}default:return 16}}var gs=null,Jg=null,Su=null;function AE(){if(Su)return Su;var t,e=Jg,n=e.length,r,s="value"in gs?gs.value:gs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Su=s.slice(t,1<r?1-r:void 0)}function Iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function Bw(){return!1}function Cn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yc:Bw,this.isPropagationStopped=Bw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zg=Cn(fo),fc=Ke({},fo,{view:0,detail:0}),GP=Cn(fc),Ef,Tf,Ao,ih=Ke({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(Ef=t.screenX-Ao.screenX,Tf=t.screenY-Ao.screenY):Tf=Ef=0,Ao=t),Ef)},movementY:function(t){return"movementY"in t?t.movementY:Tf}}),zw=Cn(ih),KP=Ke({},ih,{dataTransfer:0}),YP=Cn(KP),QP=Ke({},fc,{relatedTarget:0}),Sf=Cn(QP),XP=Ke({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),JP=Cn(XP),ZP=Ke({},fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eA=Cn(ZP),tA=Ke({},fo,{data:0}),Hw=Cn(tA),nA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sA[t])?!!e[t]:!1}function ev(){return iA}var aA=Ke({},fc,{key:function(t){if(t.key){var e=nA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(t){return t.type==="keypress"?Iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oA=Cn(aA),lA=Ke({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ww=Cn(lA),cA=Ke({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),uA=Cn(cA),dA=Ke({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hA=Cn(dA),fA=Ke({},ih,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pA=Cn(fA),mA=[9,13,27,32],tv=Gr&&"CompositionEvent"in window,al=null;Gr&&"documentMode"in document&&(al=document.documentMode);var gA=Gr&&"TextEvent"in window&&!al,kE=Gr&&(!tv||al&&8<al&&11>=al),qw=" ",Gw=!1;function RE(t,e){switch(t){case"keyup":return mA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function vA(t,e){switch(t){case"compositionend":return DE(e);case"keypress":return e.which!==32?null:(Gw=!0,qw);case"textInput":return t=e.data,t===qw&&Gw?null:t;default:return null}}function yA(t,e){if(pa)return t==="compositionend"||!tv&&RE(t,e)?(t=AE(),Su=Jg=gs=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kE&&e.locale!=="ko"?null:e.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wA[t.type]:e==="textarea"}function OE(t,e,n,r){hE(r),e=td(e,"onChange"),0<e.length&&(n=new Zg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ol=null,Al=null;function xA(t){qE(t,0)}function ah(t){var e=va(t);if(iE(e))return t}function bA(t,e){if(t==="change")return e}var LE=!1;if(Gr){var If;if(Gr){var Nf="oninput"in document;if(!Nf){var Yw=document.createElement("div");Yw.setAttribute("oninput","return;"),Nf=typeof Yw.oninput=="function"}If=Nf}else If=!1;LE=If&&(!document.documentMode||9<document.documentMode)}function Qw(){ol&&(ol.detachEvent("onpropertychange",ME),Al=ol=null)}function ME(t){if(t.propertyName==="value"&&ah(Al)){var e=[];OE(e,Al,t,Gg(t)),gE(xA,e)}}function _A(t,e,n){t==="focusin"?(Qw(),ol=e,Al=n,ol.attachEvent("onpropertychange",ME)):t==="focusout"&&Qw()}function EA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ah(Al)}function TA(t,e){if(t==="click")return ah(e)}function SA(t,e){if(t==="input"||t==="change")return ah(e)}function IA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:IA;function kl(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Op.call(e,s)||!sr(t[s],e[s]))return!1}return!0}function Xw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jw(t,e){var n=Xw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xw(n)}}function VE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FE(){for(var t=window,e=Ku();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ku(t.document)}return e}function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NA(t){var e=FE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VE(n.ownerDocument.documentElement,n)){if(r!==null&&nv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Jw(n,i);var a=Jw(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jA=Gr&&"documentMode"in document&&11>=document.documentMode,ma=null,em=null,ll=null,tm=!1;function Zw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tm||ma==null||ma!==Ku(r)||(r=ma,"selectionStart"in r&&nv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ll&&kl(ll,r)||(ll=r,r=td(em,"onSelect"),0<r.length&&(e=new Zg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function Qc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},jf={},UE={};Gr&&(UE=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function oh(t){if(jf[t])return jf[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UE)return jf[t]=e[n];return t}var $E=oh("animationend"),BE=oh("animationiteration"),zE=oh("animationstart"),HE=oh("transitionend"),WE=new Map,ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){WE.set(t,e),$i(e,[t])}for(var Cf=0;Cf<ex.length;Cf++){var Pf=ex[Cf],CA=Pf.toLowerCase(),PA=Pf[0].toUpperCase()+Pf.slice(1);zs(CA,"on"+PA)}zs($E,"onAnimationEnd");zs(BE,"onAnimationIteration");zs(zE,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(HE,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function tx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CP(r,e,void 0,t),t.currentTarget=null}function qE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;tx(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;tx(s,l,u),i=c}}}if(Qu)throw t=Qp,Qu=!1,Qp=null,t}function Re(t,e){var n=e[am];n===void 0&&(n=e[am]=new Set);var r=t+"__bubble";n.has(r)||(GE(e,t,2,!1),n.add(r))}function Af(t,e,n){var r=0;e&&(r|=4),GE(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[Xc]){t[Xc]=!0,eE.forEach(function(n){n!=="selectionchange"&&(AA.has(n)||Af(n,!1,t),Af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,Af("selectionchange",!1,e))}}function GE(t,e,n,r){switch(PE(e)){case 1:var s=WP;break;case 4:s=qP;break;default:s=Xg}n=s.bind(null,e,n,t),s=void 0,!Yp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function kf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=oi(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}gE(function(){var u=i,d=Gg(n),h=[];e:{var f=WE.get(t);if(f!==void 0){var p=Zg,g=t;switch(t){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":p=oA;break;case"focusin":g="focus",p=Sf;break;case"focusout":g="blur",p=Sf;break;case"beforeblur":case"afterblur":p=Sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uA;break;case $E:case BE:case zE:p=JP;break;case HE:p=hA;break;case"scroll":p=GP;break;case"wheel":p=pA;break;case"copy":case"cut":case"paste":p=eA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ww}var w=(e&4)!==0,y=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var v=u,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,m!==null&&(b=Nl(v,m),b!=null&&w.push(Dl(v,b,x)))),y)break;v=v.return}0<w.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Gp&&(g=n.relatedTarget||n.fromElement)&&(oi(g)||g[Kr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?oi(g):null,g!==null&&(y=Bi(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(w=zw,b="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Ww,b="onPointerLeave",m="onPointerEnter",v="pointer"),y=p==null?f:va(p),x=g==null?f:va(g),f=new w(b,v+"leave",p,n,d),f.target=y,f.relatedTarget=x,b=null,oi(d)===u&&(w=new w(m,v+"enter",g,n,d),w.target=x,w.relatedTarget=y,b=w),y=b,p&&g)t:{for(w=p,m=g,v=0,x=w;x;x=sa(x))v++;for(x=0,b=m;b;b=sa(b))x++;for(;0<v-x;)w=sa(w),v--;for(;0<x-v;)m=sa(m),x--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=sa(w),m=sa(m)}w=null}else w=null;p!==null&&nx(h,f,p,w,!1),g!==null&&y!==null&&nx(h,y,g,w,!0)}}e:{if(f=u?va(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=bA;else if(Kw(f))if(LE)I=SA;else{I=EA;var _=_A}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=TA);if(I&&(I=I(t,u))){OE(h,I,n,d);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Bp(f,"number",f.value)}switch(_=u?va(u):window,t){case"focusin":(Kw(_)||_.contentEditable==="true")&&(ma=_,em=u,ll=null);break;case"focusout":ll=em=ma=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,Zw(h,n,d);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":Zw(h,n,d)}var j;if(tv)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else pa?RE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(kE&&n.locale!=="ko"&&(pa||E!=="onCompositionStart"?E==="onCompositionEnd"&&pa&&(j=AE()):(gs=d,Jg="value"in gs?gs.value:gs.textContent,pa=!0)),_=td(u,E),0<_.length&&(E=new Hw(E,t,null,n,d),h.push({event:E,listeners:_}),j?E.data=j:(j=DE(n),j!==null&&(E.data=j)))),(j=gA?vA(t,n):yA(t,n))&&(u=td(u,"onBeforeInput"),0<u.length&&(d=new Hw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}qE(h,e)})}function Dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function td(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nl(t,n),i!=null&&r.unshift(Dl(t,i,s)),i=Nl(t,e),i!=null&&r.push(Dl(t,i,s))),t=t.return}return r}function sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nx(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Nl(n,i),c!=null&&a.unshift(Dl(n,c,l))):s||(c=Nl(n,i),c!=null&&a.push(Dl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var kA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function rx(t){return(typeof t=="string"?t:""+t).replace(kA,`
`).replace(RA,"")}function Jc(t,e,n){if(e=rx(e),rx(t)!==e&&n)throw Error($(425))}function nd(){}var nm=null,rm=null;function sm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var im=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(t){return sx.resolve(null).then(t).catch(LA)}:im;function LA(t){setTimeout(function(){throw t})}function Rf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Pl(e)}function Is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ix(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var po=Math.random().toString(36).slice(2),hr="__reactFiber$"+po,Ol="__reactProps$"+po,Kr="__reactContainer$"+po,am="__reactEvents$"+po,MA="__reactListeners$"+po,VA="__reactHandles$"+po;function oi(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ix(t);t!==null;){if(n=t[hr])return n;t=ix(t)}return e}t=n,n=t.parentNode}return null}function pc(t){return t=t[hr]||t[Kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function lh(t){return t[Ol]||null}var om=[],ya=-1;function Hs(t){return{current:t}}function Le(t){0>ya||(t.current=om[ya],om[ya]=null,ya--)}function Ae(t,e){ya++,om[ya]=t.current,t.current=e}var Vs={},Ut=Hs(Vs),cn=Hs(!1),Ei=Vs;function Wa(t,e){var n=t.type.contextTypes;if(!n)return Vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function rd(){Le(cn),Le(Ut)}function ax(t,e,n){if(Ut.current!==Vs)throw Error($(168));Ae(Ut,e),Ae(cn,n)}function KE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,_P(t)||"Unknown",s));return Ke({},n,r)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vs,Ei=Ut.current,Ae(Ut,t),Ae(cn,cn.current),!0}function ox(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=KE(t,e,Ei),r.__reactInternalMemoizedMergedChildContext=t,Le(cn),Le(Ut),Ae(Ut,t)):Le(cn),Ae(cn,n)}var Lr=null,ch=!1,Df=!1;function YE(t){Lr===null?Lr=[t]:Lr.push(t)}function FA(t){ch=!0,YE(t)}function Ws(){if(!Df&&Lr!==null){Df=!0;var t=0,e=Ne;try{var n=Lr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lr=null,ch=!1}catch(s){throw Lr!==null&&(Lr=Lr.slice(t+1)),xE(Kg,Ws),s}finally{Ne=e,Df=!1}}return null}var wa=[],xa=0,id=null,ad=0,Mn=[],Vn=0,Ti=null,Fr=1,Ur="";function ti(t,e){wa[xa++]=ad,wa[xa++]=id,id=t,ad=e}function QE(t,e,n){Mn[Vn++]=Fr,Mn[Vn++]=Ur,Mn[Vn++]=Ti,Ti=t;var r=Fr;t=Ur;var s=32-nr(r)-1;r&=~(1<<s),n+=1;var i=32-nr(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Fr=1<<32-nr(e)+s|n<<s|r,Ur=i+t}else Fr=1<<i|n<<s|r,Ur=t}function rv(t){t.return!==null&&(ti(t,1),QE(t,1,0))}function sv(t){for(;t===id;)id=wa[--xa],wa[xa]=null,ad=wa[--xa],wa[xa]=null;for(;t===Ti;)Ti=Mn[--Vn],Mn[Vn]=null,Ur=Mn[--Vn],Mn[Vn]=null,Fr=Mn[--Vn],Mn[Vn]=null}var En=null,wn=null,We=!1,Zn=null;function XE(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,wn=Is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ti!==null?{id:Fr,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,wn=null,!0):!1;default:return!1}}function lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cm(t){if(We){var e=wn;if(e){var n=e;if(!lx(t,e)){if(lm(t))throw Error($(418));e=Is(n.nextSibling);var r=En;e&&lx(t,e)?XE(r,n):(t.flags=t.flags&-4097|2,We=!1,En=t)}}else{if(lm(t))throw Error($(418));t.flags=t.flags&-4097|2,We=!1,En=t}}}function cx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Zc(t){if(t!==En)return!1;if(!We)return cx(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sm(t.type,t.memoizedProps)),e&&(e=wn)){if(lm(t))throw JE(),Error($(418));for(;e;)XE(t,e),e=Is(e.nextSibling)}if(cx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=En?Is(t.stateNode.nextSibling):null;return!0}function JE(){for(var t=wn;t;)t=Is(t.nextSibling)}function qa(){wn=En=null,We=!1}function iv(t){Zn===null?Zn=[t]:Zn.push(t)}var UA=ts.ReactCurrentBatchConfig;function Xn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var od=Hs(null),ld=null,ba=null,av=null;function ov(){av=ba=ld=null}function lv(t){var e=od.current;Le(od),t._currentValue=e}function um(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Aa(t,e){ld=t,av=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(av!==t)if(t={context:t,memoizedValue:e,next:null},ba===null){if(ld===null)throw Error($(308));ba=t,ld.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return e}var li=null;function cv(t){li===null?li=[t]:li.push(t)}function ZE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,cv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ls=!1;function uv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yr(t,n)}return s=r.interleaved,s===null?(e.next=e,cv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yr(t,n)}function Nu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yg(t,n)}}function ux(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cd(t,e,n,r){var s=t.updateQueue;ls=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,w=l;switch(f=e,p=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Ke({},h,f);break e;case 2:ls=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ii|=a,t.lanes=a,t.memoizedState=h}}function dx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var tT=new Z_.Component().refs;function dm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uh={isMounted:function(t){return(t=t._reactInternals)?Bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=Cs(t),i=Hr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(rr(e,t,s,r),Nu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),s=Cs(t),i=Hr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(rr(e,t,s,r),Nu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=Cs(t),s=Hr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(rr(e,t,r,n),Nu(e,t,r))}};function hx(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!kl(n,r)||!kl(s,i):!0}function nT(t,e,n){var r=!1,s=Vs,i=e.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=un(e)?Ei:Ut.current,r=e.contextTypes,i=(r=r!=null)?Wa(t,s):Vs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function fx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uh.enqueueReplaceState(e,e.state,null)}function hm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=tT,uv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=un(e)?Ei:Ut.current,s.context=Wa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(dm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&uh.enqueueReplaceState(s,s.state,null),cd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;l===tT&&(l=s.refs={}),a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function eu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function px(t){var e=t._init;return e(t._payload)}function rT(t){function e(m,v){if(t){var x=m.deletions;x===null?(m.deletions=[v],m.flags|=16):x.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=Ps(m,v),m.index=0,m.sibling=null,m}function i(m,v,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<v?(m.flags|=2,v):x):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,v,x,b){return v===null||v.tag!==6?(v=$f(x,m.mode,b),v.return=m,v):(v=s(v,x),v.return=m,v)}function c(m,v,x,b){var I=x.type;return I===fa?d(m,v,x.props.children,b,x.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===os&&px(I)===v.type)?(b=s(v,x.props),b.ref=ko(m,v,x),b.return=m,b):(b=Ru(x.type,x.key,x.props,null,m.mode,b),b.ref=ko(m,v,x),b.return=m,b)}function u(m,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Bf(x,m.mode,b),v.return=m,v):(v=s(v,x.children||[]),v.return=m,v)}function d(m,v,x,b,I){return v===null||v.tag!==7?(v=yi(x,m.mode,b,I),v.return=m,v):(v=s(v,x),v.return=m,v)}function h(m,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$f(""+v,m.mode,x),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zc:return x=Ru(v.type,v.key,v.props,null,m.mode,x),x.ref=ko(m,null,v),x.return=m,x;case ha:return v=Bf(v,m.mode,x),v.return=m,v;case os:var b=v._init;return h(m,b(v._payload),x)}if(Go(v)||No(v))return v=yi(v,m.mode,x,null),v.return=m,v;eu(m,v)}return null}function f(m,v,x,b){var I=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:l(m,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zc:return x.key===I?c(m,v,x,b):null;case ha:return x.key===I?u(m,v,x,b):null;case os:return I=x._init,f(m,v,I(x._payload),b)}if(Go(x)||No(x))return I!==null?null:d(m,v,x,b,null);eu(m,x)}return null}function p(m,v,x,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(x)||null,l(v,m,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zc:return m=m.get(b.key===null?x:b.key)||null,c(v,m,b,I);case ha:return m=m.get(b.key===null?x:b.key)||null,u(v,m,b,I);case os:var _=b._init;return p(m,v,x,_(b._payload),I)}if(Go(b)||No(b))return m=m.get(x)||null,d(v,m,b,I,null);eu(v,b)}return null}function g(m,v,x,b){for(var I=null,_=null,j=v,E=v=0,T=null;j!==null&&E<x.length;E++){j.index>E?(T=j,j=null):T=j.sibling;var S=f(m,j,x[E],b);if(S===null){j===null&&(j=T);break}t&&j&&S.alternate===null&&e(m,j),v=i(S,v,E),_===null?I=S:_.sibling=S,_=S,j=T}if(E===x.length)return n(m,j),We&&ti(m,E),I;if(j===null){for(;E<x.length;E++)j=h(m,x[E],b),j!==null&&(v=i(j,v,E),_===null?I=j:_.sibling=j,_=j);return We&&ti(m,E),I}for(j=r(m,j);E<x.length;E++)T=p(j,m,E,x[E],b),T!==null&&(t&&T.alternate!==null&&j.delete(T.key===null?E:T.key),v=i(T,v,E),_===null?I=T:_.sibling=T,_=T);return t&&j.forEach(function(A){return e(m,A)}),We&&ti(m,E),I}function w(m,v,x,b){var I=No(x);if(typeof I!="function")throw Error($(150));if(x=I.call(x),x==null)throw Error($(151));for(var _=I=null,j=v,E=v=0,T=null,S=x.next();j!==null&&!S.done;E++,S=x.next()){j.index>E?(T=j,j=null):T=j.sibling;var A=f(m,j,S.value,b);if(A===null){j===null&&(j=T);break}t&&j&&A.alternate===null&&e(m,j),v=i(A,v,E),_===null?I=A:_.sibling=A,_=A,j=T}if(S.done)return n(m,j),We&&ti(m,E),I;if(j===null){for(;!S.done;E++,S=x.next())S=h(m,S.value,b),S!==null&&(v=i(S,v,E),_===null?I=S:_.sibling=S,_=S);return We&&ti(m,E),I}for(j=r(m,j);!S.done;E++,S=x.next())S=p(j,m,E,S.value,b),S!==null&&(t&&S.alternate!==null&&j.delete(S.key===null?E:S.key),v=i(S,v,E),_===null?I=S:_.sibling=S,_=S);return t&&j.forEach(function(O){return e(m,O)}),We&&ti(m,E),I}function y(m,v,x,b){if(typeof x=="object"&&x!==null&&x.type===fa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case zc:e:{for(var I=x.key,_=v;_!==null;){if(_.key===I){if(I=x.type,I===fa){if(_.tag===7){n(m,_.sibling),v=s(_,x.props.children),v.return=m,m=v;break e}}else if(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===os&&px(I)===_.type){n(m,_.sibling),v=s(_,x.props),v.ref=ko(m,_,x),v.return=m,m=v;break e}n(m,_);break}else e(m,_);_=_.sibling}x.type===fa?(v=yi(x.props.children,m.mode,b,x.key),v.return=m,m=v):(b=Ru(x.type,x.key,x.props,null,m.mode,b),b.ref=ko(m,v,x),b.return=m,m=b)}return a(m);case ha:e:{for(_=x.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(m,v.sibling),v=s(v,x.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=Bf(x,m.mode,b),v.return=m,m=v}return a(m);case os:return _=x._init,y(m,v,_(x._payload),b)}if(Go(x))return g(m,v,x,b);if(No(x))return w(m,v,x,b);eu(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,x),v.return=m,m=v):(n(m,v),v=$f(x,m.mode,b),v.return=m,m=v),a(m)):n(m,v)}return y}var Ga=rT(!0),sT=rT(!1),mc={},wr=Hs(mc),Ll=Hs(mc),Ml=Hs(mc);function ci(t){if(t===mc)throw Error($(174));return t}function dv(t,e){switch(Ae(Ml,e),Ae(Ll,t),Ae(wr,mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}Le(wr),Ae(wr,e)}function Ka(){Le(wr),Le(Ll),Le(Ml)}function iT(t){ci(Ml.current);var e=ci(wr.current),n=Hp(e,t.type);e!==n&&(Ae(Ll,t),Ae(wr,n))}function hv(t){Ll.current===t&&(Le(wr),Le(Ll))}var qe=Hs(0);function ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Of=[];function fv(){for(var t=0;t<Of.length;t++)Of[t]._workInProgressVersionPrimary=null;Of.length=0}var ju=ts.ReactCurrentDispatcher,Lf=ts.ReactCurrentBatchConfig,Si=0,Ge=null,dt=null,vt=null,dd=!1,cl=!1,Vl=0,$A=0;function At(){throw Error($(321))}function pv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function mv(t,e,n,r,s,i){if(Si=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ju.current=t===null||t.memoizedState===null?WA:qA,t=n(r,s),cl){i=0;do{if(cl=!1,Vl=0,25<=i)throw Error($(301));i+=1,vt=dt=null,e.updateQueue=null,ju.current=GA,t=n(r,s)}while(cl)}if(ju.current=hd,e=dt!==null&&dt.next!==null,Si=0,vt=dt=Ge=null,dd=!1,e)throw Error($(300));return t}function gv(){var t=Vl!==0;return Vl=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ge.memoizedState=vt=t:vt=vt.next=t,vt}function Hn(){if(dt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=vt===null?Ge.memoizedState:vt.next;if(e!==null)vt=e,dt=t;else{if(t===null)throw Error($(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Ge.memoizedState=vt=t:vt=vt.next=t}return vt}function Fl(t,e){return typeof e=="function"?e(t):e}function Mf(t){var e=Hn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Si&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,Ge.lanes|=d,Ii|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,sr(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Ii|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vf(t){var e=Hn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);sr(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function aT(){}function oT(t,e){var n=Ge,r=Hn(),s=e(),i=!sr(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,vv(uT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Ul(9,cT.bind(null,n,r,s,e),void 0,null),yt===null)throw Error($(349));Si&30||lT(n,e,s)}return s}function lT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cT(t,e,n,r){e.value=n,e.getSnapshot=r,dT(e)&&hT(t)}function uT(t,e,n){return n(function(){dT(e)&&hT(t)})}function dT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function hT(t){var e=Yr(t,1);e!==null&&rr(e,t,1,-1)}function mx(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:t},e.queue=t,t=t.dispatch=HA.bind(null,Ge,t),[e.memoizedState,t]}function Ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fT(){return Hn().memoizedState}function Cu(t,e,n,r){var s=dr();Ge.flags|=t,s.memoizedState=Ul(1|e,n,void 0,r===void 0?null:r)}function dh(t,e,n,r){var s=Hn();r=r===void 0?null:r;var i=void 0;if(dt!==null){var a=dt.memoizedState;if(i=a.destroy,r!==null&&pv(r,a.deps)){s.memoizedState=Ul(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=Ul(1|e,n,i,r)}function gx(t,e){return Cu(8390656,8,t,e)}function vv(t,e){return dh(2048,8,t,e)}function pT(t,e){return dh(4,2,t,e)}function mT(t,e){return dh(4,4,t,e)}function gT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vT(t,e,n){return n=n!=null?n.concat([t]):null,dh(4,4,gT.bind(null,e,t),n)}function yv(){}function yT(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wT(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xT(t,e,n){return Si&21?(sr(n,e)||(n=EE(),Ge.lanes|=n,Ii|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function BA(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Lf.transition;Lf.transition={};try{t(!1),e()}finally{Ne=n,Lf.transition=r}}function bT(){return Hn().memoizedState}function zA(t,e,n){var r=Cs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_T(t))ET(e,n);else if(n=ZE(t,e,n,r),n!==null){var s=Kt();rr(n,t,r,s),TT(n,e,r)}}function HA(t,e,n){var r=Cs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_T(t))ET(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,sr(l,a)){var c=e.interleaved;c===null?(s.next=s,cv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=ZE(t,e,s,r),n!==null&&(s=Kt(),rr(n,t,r,s),TT(n,e,r))}}function _T(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function ET(t,e){cl=dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yg(t,n)}}var hd={readContext:zn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},WA={readContext:zn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:gx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4194308,4,gT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cu(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zA.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:mx,useDebugValue:yv,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=mx(!1),e=t[0];return t=BA.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=dr();if(We){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),yt===null)throw Error($(349));Si&30||lT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gx(uT.bind(null,r,i,t),[t]),r.flags|=2048,Ul(9,cT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dr(),e=yt.identifierPrefix;if(We){var n=Ur,r=Fr;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$A++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qA={readContext:zn,useCallback:yT,useContext:zn,useEffect:vv,useImperativeHandle:vT,useInsertionEffect:pT,useLayoutEffect:mT,useMemo:wT,useReducer:Mf,useRef:fT,useState:function(){return Mf(Fl)},useDebugValue:yv,useDeferredValue:function(t){var e=Hn();return xT(e,dt.memoizedState,t)},useTransition:function(){var t=Mf(Fl)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:aT,useSyncExternalStore:oT,useId:bT,unstable_isNewReconciler:!1},GA={readContext:zn,useCallback:yT,useContext:zn,useEffect:vv,useImperativeHandle:vT,useInsertionEffect:pT,useLayoutEffect:mT,useMemo:wT,useReducer:Vf,useRef:fT,useState:function(){return Vf(Fl)},useDebugValue:yv,useDeferredValue:function(t){var e=Hn();return dt===null?e.memoizedState=t:xT(e,dt.memoizedState,t)},useTransition:function(){var t=Vf(Fl)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:aT,useSyncExternalStore:oT,useId:bT,unstable_isNewReconciler:!1};function Ya(t,e){try{var n="",r=e;do n+=bP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ff(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KA=typeof WeakMap=="function"?WeakMap:Map;function ST(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pd||(pd=!0,Em=r),fm(t,e)},n}function IT(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){fm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fm(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function vx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=lk.bind(null,t,e,n),e.then(t,t))}function yx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var YA=ts.ReactCurrentOwner,ln=!1;function qt(t,e,n,r){e.child=t===null?sT(e,null,n,r):Ga(e,t.child,n,r)}function xx(t,e,n,r,s){n=n.render;var i=e.ref;return Aa(e,s),r=mv(t,e,n,r,i,s),n=gv(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qr(t,e,s)):(We&&n&&rv(e),e.flags|=1,qt(t,e,r,s),e.child)}function bx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Iv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,NT(t,e,i,r,s)):(t=Ru(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(a,r)&&t.ref===e.ref)return Qr(t,e,s)}return e.flags|=1,t=Ps(i,r),t.ref=e.ref,t.return=e,e.child=t}function NT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(kl(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Qr(t,e,s)}return pm(t,e,n,r,s)}function jT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Ea,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(Ea,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ae(Ea,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ae(Ea,vn),vn|=r;return qt(t,e,s,n),e.child}function CT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pm(t,e,n,r,s){var i=un(n)?Ei:Ut.current;return i=Wa(e,i),Aa(e,s),n=mv(t,e,n,r,i,s),r=gv(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qr(t,e,s)):(We&&r&&rv(e),e.flags|=1,qt(t,e,n,s),e.child)}function _x(t,e,n,r,s){if(un(n)){var i=!0;sd(e)}else i=!1;if(Aa(e,s),e.stateNode===null)Pu(t,e),nT(e,n,r),hm(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=un(n)?Ei:Ut.current,u=Wa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&fx(e,a,r,u),ls=!1;var f=e.memoizedState;a.state=f,cd(e,r,a,s),c=e.memoizedState,l!==r||f!==c||cn.current||ls?(typeof d=="function"&&(dm(e,n,d,r),c=e.memoizedState),(l=ls||hx(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,eT(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Xn(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=un(n)?Ei:Ut.current,c=Wa(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&fx(e,a,r,c),ls=!1,f=e.memoizedState,a.state=f,cd(e,r,a,s);var g=e.memoizedState;l!==h||f!==g||cn.current||ls?(typeof p=="function"&&(dm(e,n,p,r),g=e.memoizedState),(u=ls||hx(e,n,u,r,f,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mm(t,e,n,r,i,s)}function mm(t,e,n,r,s,i){CT(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&ox(e,n,!1),Qr(t,e,i);r=e.stateNode,YA.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ga(e,t.child,null,i),e.child=Ga(e,null,l,i)):qt(t,e,l,i),e.memoizedState=r.state,s&&ox(e,n,!0),e.child}function PT(t){var e=t.stateNode;e.pendingContext?ax(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ax(t,e.context,!1),dv(t,e.containerInfo)}function Ex(t,e,n,r,s){return qa(),iv(s),e.flags|=256,qt(t,e,n,r),e.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function AT(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ae(qe,s&1),t===null)return cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ph(a,r,0,null),t=yi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vm(n),e.memoizedState=gm,t):wv(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return QA(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ps(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ps(l,i):(i=yi(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?vm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=gm,r}return i=t.child,t=i.sibling,r=Ps(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wv(t,e){return e=ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tu(t,e,n,r){return r!==null&&iv(r),Ga(e,t.child,null,n),t=wv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QA(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Ff(Error($(422))),tu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ph({mode:"visible",children:r.children},s,0,null),i=yi(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ga(e,t.child,null,a),e.child.memoizedState=vm(a),e.memoizedState=gm,i);if(!(e.mode&1))return tu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=Ff(i,r,void 0),tu(t,e,a,r)}if(l=(a&t.childLanes)!==0,ln||l){if(r=yt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yr(t,s),rr(r,t,s,-1))}return Sv(),r=Ff(Error($(421))),tu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ck.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wn=Is(s.nextSibling),En=e,We=!0,Zn=null,t!==null&&(Mn[Vn++]=Fr,Mn[Vn++]=Ur,Mn[Vn++]=Ti,Fr=t.id,Ur=t.overflow,Ti=e),e=wv(e,r.children),e.flags|=4096,e)}function Tx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),um(t.return,e,n)}function Uf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(qt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tx(t,n,e);else if(t.tag===19)Tx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ud(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Uf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ud(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Uf(e,!0,n,null,i);break;case"together":Uf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ii|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XA(t,e,n){switch(e.tag){case 3:PT(e),qa();break;case 5:iT(e);break;case 1:un(e.type)&&sd(e);break;case 4:dv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ae(od,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?AT(t,e,n):(Ae(qe,qe.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);Ae(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,jT(t,e,n)}return Qr(t,e,n)}var RT,ym,DT,OT;RT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ym=function(){};DT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ci(wr.current);var i=null;switch(n){case"input":s=Up(t,s),r=Up(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=zp(t,s),r=zp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nd)}Wp(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};OT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ro(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JA(t,e,n){var r=e.pendingProps;switch(sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return un(e.type)&&rd(),kt(e),null;case 3:return r=e.stateNode,Ka(),Le(cn),Le(Ut),fv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(Im(Zn),Zn=null))),ym(t,e),kt(e),null;case 5:hv(e);var s=ci(Ml.current);if(n=e.type,t!==null&&e.stateNode!=null)DT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return kt(e),null}if(t=ci(wr.current),Zc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hr]=e,r[Ol]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<Yo.length;s++)Re(Yo[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Rw(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Ow(r,i),Re("invalid",r)}Wp(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Jc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Jc(r.textContent,l,t),s=["children",""+l]):Sl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Re("scroll",r)}switch(n){case"input":Hc(r),Dw(r,i,!0);break;case"textarea":Hc(r),Lw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=nd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[hr]=e,t[Ol]=r,RT(t,e,!1,!1),e.stateNode=t;e:{switch(a=qp(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<Yo.length;s++)Re(Yo[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":Rw(t,r),s=Up(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Ow(t,r),s=zp(t,r),Re("invalid",t);break;default:s=r}Wp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?dE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Il(t,c):typeof c=="number"&&Il(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",t):c!=null&&zg(t,i,c,a))}switch(n){case"input":Hc(t),Dw(t,r,!1);break;case"textarea":Hc(t),Lw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ms(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Na(t,!!r.multiple,i,!1):r.defaultValue!=null&&Na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=nd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)OT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ci(Ml.current),ci(wr.current),Zc(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Jc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return kt(e),null;case 13:if(Le(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&wn!==null&&e.mode&1&&!(e.flags&128))JE(),qa(),e.flags|=98560,i=!1;else if(i=Zc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[hr]=e}else qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),i=!1}else Zn!==null&&(Im(Zn),Zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ht===0&&(ht=3):Sv())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return Ka(),ym(t,e),t===null&&Rl(e.stateNode.containerInfo),kt(e),null;case 10:return lv(e.type._context),kt(e),null;case 17:return un(e.type)&&rd(),kt(e),null;case 19:if(Le(qe),i=e.memoizedState,i===null)return kt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ro(i,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ud(t),a!==null){for(e.flags|=128,Ro(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>Qa&&(e.flags|=128,r=!0,Ro(i,!1),e.lanes=4194304)}else{if(!r)if(t=ud(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ro(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!We)return kt(e),null}else 2*tt()-i.renderingStartTime>Qa&&n!==1073741824&&(e.flags|=128,r=!0,Ro(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,n=qe.current,Ae(qe,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return Tv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function ZA(t,e){switch(sv(e),e.tag){case 1:return un(e.type)&&rd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ka(),Le(cn),Le(Ut),fv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hv(e),null;case 13:if(Le(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(qe),null;case 4:return Ka(),null;case 10:return lv(e.type._context),null;case 22:case 23:return Tv(),null;case 24:return null;default:return null}}var nu=!1,Lt=!1,ek=typeof WeakSet=="function"?WeakSet:Set,Z=null;function _a(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function wm(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var Sx=!1;function tk(t,e){if(nm=Zu,t=FE(),nv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rm={focusedElem:t,selectionRange:n},Zu=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,y=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Xn(e.type,w),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){Xe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return g=Sx,Sx=!1,g}function ul(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&wm(e,n,i)}s=s.next}while(s!==r)}}function hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LT(t){var e=t.alternate;e!==null&&(t.alternate=null,LT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[Ol],delete e[am],delete e[MA],delete e[VA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MT(t){return t.tag===5||t.tag===3||t.tag===4}function Ix(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nd));else if(r!==4&&(t=t.child,t!==null))for(bm(t,e,n),t=t.sibling;t!==null;)bm(t,e,n),t=t.sibling}function _m(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_m(t,e,n),t=t.sibling;t!==null;)_m(t,e,n),t=t.sibling}var Et=null,Jn=!1;function ss(t,e,n){for(n=n.child;n!==null;)VT(t,e,n),n=n.sibling}function VT(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(sh,n)}catch{}switch(n.tag){case 5:Lt||_a(n,e);case 6:var r=Et,s=Jn;Et=null,ss(t,e,n),Et=r,Jn=s,Et!==null&&(Jn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Jn?(t=Et,n=n.stateNode,t.nodeType===8?Rf(t.parentNode,n):t.nodeType===1&&Rf(t,n),Pl(t)):Rf(Et,n.stateNode));break;case 4:r=Et,s=Jn,Et=n.stateNode.containerInfo,Jn=!0,ss(t,e,n),Et=r,Jn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&wm(n,e,a),s=s.next}while(s!==r)}ss(t,e,n);break;case 1:if(!Lt&&(_a(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xe(n,e,l)}ss(t,e,n);break;case 21:ss(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,ss(t,e,n),Lt=r):ss(t,e,n);break;default:ss(t,e,n)}}function Nx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ek),e.forEach(function(r){var s=uk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Et=l.stateNode,Jn=!1;break e;case 3:Et=l.stateNode.containerInfo,Jn=!0;break e;case 4:Et=l.stateNode.containerInfo,Jn=!0;break e}l=l.return}if(Et===null)throw Error($(160));VT(i,a,s),Et=null,Jn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Xe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FT(e,t),e=e.sibling}function FT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),ur(t),r&4){try{ul(3,t,t.return),hh(3,t)}catch(w){Xe(t,t.return,w)}try{ul(5,t,t.return)}catch(w){Xe(t,t.return,w)}}break;case 1:Yn(e,t),ur(t),r&512&&n!==null&&_a(n,n.return);break;case 5:if(Yn(e,t),ur(t),r&512&&n!==null&&_a(n,n.return),t.flags&32){var s=t.stateNode;try{Il(s,"")}catch(w){Xe(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&aE(s,i),qp(l,a);var u=qp(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?dE(s,h):d==="dangerouslySetInnerHTML"?cE(s,h):d==="children"?Il(s,h):zg(s,d,h,u)}switch(l){case"input":$p(s,i);break;case"textarea":oE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Na(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Na(s,!!i.multiple,i.defaultValue,!0):Na(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ol]=i}catch(w){Xe(t,t.return,w)}}break;case 6:if(Yn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Xe(t,t.return,w)}}break;case 3:if(Yn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(w){Xe(t,t.return,w)}break;case 4:Yn(e,t),ur(t);break;case 13:Yn(e,t),ur(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_v=tt())),r&4&&Nx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(u=Lt)||d,Yn(e,t),Lt=u):Yn(e,t),ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:ul(4,f,f.return);break;case 1:_a(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){Xe(r,n,w)}}break;case 5:_a(f,f.return);break;case 22:if(f.memoizedState!==null){Cx(h);continue}}p!==null?(p.return=f,Z=p):Cx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uE("display",a))}catch(w){Xe(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Xe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(e,t),ur(t),r&4&&Nx(t);break;case 21:break;default:Yn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MT(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Il(s,""),r.flags&=-33);var i=Ix(t);_m(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Ix(t);bm(t,l,a);break;default:throw Error($(161))}}catch(c){Xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nk(t,e,n){Z=t,UT(t)}function UT(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||nu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Lt;l=nu;var u=Lt;if(nu=a,(Lt=c)&&!u)for(Z=s;Z!==null;)a=Z,c=a.child,a.tag===22&&a.memoizedState!==null?Px(s):c!==null?(c.return=a,Z=c):Px(s);for(;i!==null;)Z=i,UT(i),i=i.sibling;Z=s,nu=l,Lt=u}jx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):jx(t)}}function jx(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||hh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&dx(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dx(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Lt||e.flags&512&&xm(e)}catch(f){Xe(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Cx(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Px(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hh(4,e)}catch(c){Xe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Xe(e,s,c)}}var i=e.return;try{xm(e)}catch(c){Xe(e,i,c)}break;case 5:var a=e.return;try{xm(e)}catch(c){Xe(e,a,c)}}}catch(c){Xe(e,e.return,c)}if(e===t){Z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Z=l;break}Z=e.return}}var rk=Math.ceil,fd=ts.ReactCurrentDispatcher,xv=ts.ReactCurrentOwner,$n=ts.ReactCurrentBatchConfig,xe=0,yt=null,st=null,Nt=0,vn=0,Ea=Hs(0),ht=0,$l=null,Ii=0,fh=0,bv=0,dl=null,an=null,_v=0,Qa=1/0,Or=null,pd=!1,Em=null,js=null,ru=!1,vs=null,md=0,hl=0,Tm=null,Au=-1,ku=0;function Kt(){return xe&6?tt():Au!==-1?Au:Au=tt()}function Cs(t){return t.mode&1?xe&2&&Nt!==0?Nt&-Nt:UA.transition!==null?(ku===0&&(ku=EE()),ku):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:PE(t.type)),t):1}function rr(t,e,n,r){if(50<hl)throw hl=0,Tm=null,Error($(185));hc(t,n,r),(!(xe&2)||t!==yt)&&(t===yt&&(!(xe&2)&&(fh|=n),ht===4&&us(t,Nt)),dn(t,r),n===1&&xe===0&&!(e.mode&1)&&(Qa=tt()+500,ch&&Ws()))}function dn(t,e){var n=t.callbackNode;UP(t,e);var r=Ju(t,t===yt?Nt:0);if(r===0)n!==null&&Fw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fw(n),e===1)t.tag===0?FA(Ax.bind(null,t)):YE(Ax.bind(null,t)),OA(function(){!(xe&6)&&Ws()}),n=null;else{switch(TE(r)){case 1:n=Kg;break;case 4:n=bE;break;case 16:n=Xu;break;case 536870912:n=_E;break;default:n=Xu}n=KT(n,$T.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $T(t,e){if(Au=-1,ku=0,xe&6)throw Error($(327));var n=t.callbackNode;if(ka()&&t.callbackNode!==n)return null;var r=Ju(t,t===yt?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gd(t,r);else{e=r;var s=xe;xe|=2;var i=zT();(yt!==t||Nt!==e)&&(Or=null,Qa=tt()+500,vi(t,e));do try{ak();break}catch(l){BT(t,l)}while(!0);ov(),fd.current=i,xe=s,st!==null?e=0:(yt=null,Nt=0,e=ht)}if(e!==0){if(e===2&&(s=Xp(t),s!==0&&(r=s,e=Sm(t,s))),e===1)throw n=$l,vi(t,0),us(t,r),dn(t,tt()),n;if(e===6)us(t,r);else{if(s=t.current.alternate,!(r&30)&&!sk(s)&&(e=gd(t,r),e===2&&(i=Xp(t),i!==0&&(r=i,e=Sm(t,i))),e===1))throw n=$l,vi(t,0),us(t,r),dn(t,tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ni(t,an,Or);break;case 3:if(us(t,r),(r&130023424)===r&&(e=_v+500-tt(),10<e)){if(Ju(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=im(ni.bind(null,t,an,Or),e);break}ni(t,an,Or);break;case 4:if(us(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-nr(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rk(r/1960))-r,10<r){t.timeoutHandle=im(ni.bind(null,t,an,Or),r);break}ni(t,an,Or);break;case 5:ni(t,an,Or);break;default:throw Error($(329))}}}return dn(t,tt()),t.callbackNode===n?$T.bind(null,t):null}function Sm(t,e){var n=dl;return t.current.memoizedState.isDehydrated&&(vi(t,e).flags|=256),t=gd(t,e),t!==2&&(e=an,an=n,e!==null&&Im(e)),t}function Im(t){an===null?an=t:an.push.apply(an,t)}function sk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function us(t,e){for(e&=~bv,e&=~fh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function Ax(t){if(xe&6)throw Error($(327));ka();var e=Ju(t,0);if(!(e&1))return dn(t,tt()),null;var n=gd(t,e);if(t.tag!==0&&n===2){var r=Xp(t);r!==0&&(e=r,n=Sm(t,r))}if(n===1)throw n=$l,vi(t,0),us(t,e),dn(t,tt()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,an,Or),dn(t,tt()),null}function Ev(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(Qa=tt()+500,ch&&Ws())}}function Ni(t){vs!==null&&vs.tag===0&&!(xe&6)&&ka();var e=xe;xe|=1;var n=$n.transition,r=Ne;try{if($n.transition=null,Ne=1,t)return t()}finally{Ne=r,$n.transition=n,xe=e,!(xe&6)&&Ws()}}function Tv(){vn=Ea.current,Le(Ea)}function vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DA(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(sv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rd();break;case 3:Ka(),Le(cn),Le(Ut),fv();break;case 5:hv(r);break;case 4:Ka();break;case 13:Le(qe);break;case 19:Le(qe);break;case 10:lv(r.type._context);break;case 22:case 23:Tv()}n=n.return}if(yt=t,st=t=Ps(t.current,null),Nt=vn=e,ht=0,$l=null,bv=fh=Ii=0,an=dl=null,li!==null){for(e=0;e<li.length;e++)if(n=li[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}li=null}return t}function BT(t,e){do{var n=st;try{if(ov(),ju.current=hd,dd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}dd=!1}if(Si=0,vt=dt=Ge=null,cl=!1,Vl=0,xv.current=null,n===null||n.return===null){ht=1,$l=e,st=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yx(a);if(p!==null){p.flags&=-257,wx(p,a,l,i,e),p.mode&1&&vx(i,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(c),e.updateQueue=w}else g.add(c);break e}else{if(!(e&1)){vx(i,u,e),Sv();break e}c=Error($(426))}}else if(We&&l.mode&1){var y=yx(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),wx(y,a,l,i,e),iv(Ya(c,l));break e}}i=c=Ya(c,l),ht!==4&&(ht=2),dl===null?dl=[i]:dl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=ST(i,c,e);ux(i,m);break e;case 1:l=c;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(js===null||!js.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=IT(i,l,e);ux(i,b);break e}}i=i.return}while(i!==null)}WT(n)}catch(I){e=I,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function zT(){var t=fd.current;return fd.current=hd,t===null?hd:t}function Sv(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(Ii&268435455)&&!(fh&268435455)||us(yt,Nt)}function gd(t,e){var n=xe;xe|=2;var r=zT();(yt!==t||Nt!==e)&&(Or=null,vi(t,e));do try{ik();break}catch(s){BT(t,s)}while(!0);if(ov(),xe=n,fd.current=r,st!==null)throw Error($(261));return yt=null,Nt=0,ht}function ik(){for(;st!==null;)HT(st)}function ak(){for(;st!==null&&!AP();)HT(st)}function HT(t){var e=GT(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?WT(t):st=e,xv.current=null}function WT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZA(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,st=null;return}}else if(n=JA(n,e,vn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ht===0&&(ht=5)}function ni(t,e,n){var r=Ne,s=$n.transition;try{$n.transition=null,Ne=1,ok(t,e,n,r)}finally{$n.transition=s,Ne=r}return null}function ok(t,e,n,r){do ka();while(vs!==null);if(xe&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($P(t,i),t===yt&&(st=yt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,KT(Xu,function(){return ka(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$n.transition,$n.transition=null;var a=Ne;Ne=1;var l=xe;xe|=4,xv.current=null,tk(t,n),FT(n,t),NA(rm),Zu=!!nm,rm=nm=null,t.current=n,nk(n),kP(),xe=l,Ne=a,$n.transition=i}else t.current=n;if(ru&&(ru=!1,vs=t,md=s),i=t.pendingLanes,i===0&&(js=null),OP(n.stateNode),dn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pd)throw pd=!1,t=Em,Em=null,t;return md&1&&t.tag!==0&&ka(),i=t.pendingLanes,i&1?t===Tm?hl++:(hl=0,Tm=t):hl=0,Ws(),null}function ka(){if(vs!==null){var t=TE(md),e=$n.transition,n=Ne;try{if($n.transition=null,Ne=16>t?16:t,vs===null)var r=!1;else{if(t=vs,vs=null,md=0,xe&6)throw Error($(331));var s=xe;for(xe|=4,Z=t.current;Z!==null;){var i=Z,a=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:ul(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if(LT(d),d===u){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}Z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Z=a;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ul(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Z=m;break e}Z=i.return}}var v=t.current;for(Z=v;Z!==null;){a=Z;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Z=x;else e:for(a=v;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hh(9,l)}}catch(I){Xe(l,l.return,I)}if(l===a){Z=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Z=b;break e}Z=l.return}}if(xe=s,Ws(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(sh,t)}catch{}r=!0}return r}finally{Ne=n,$n.transition=e}}return!1}function kx(t,e,n){e=Ya(n,e),e=ST(t,e,1),t=Ns(t,e,1),e=Kt(),t!==null&&(hc(t,1,e),dn(t,e))}function Xe(t,e,n){if(t.tag===3)kx(t,t,n);else for(;e!==null;){if(e.tag===3){kx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=Ya(n,t),t=IT(e,t,1),e=Ns(e,t,1),t=Kt(),e!==null&&(hc(e,1,t),dn(e,t));break}}e=e.return}}function lk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(Nt&n)===n&&(ht===4||ht===3&&(Nt&130023424)===Nt&&500>tt()-_v?vi(t,0):bv|=n),dn(t,e)}function qT(t,e){e===0&&(t.mode&1?(e=Gc,Gc<<=1,!(Gc&130023424)&&(Gc=4194304)):e=1);var n=Kt();t=Yr(t,e),t!==null&&(hc(t,e,n),dn(t,n))}function ck(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qT(t,n)}function uk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),qT(t,n)}var GT;GT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,XA(t,e,n);ln=!!(t.flags&131072)}else ln=!1,We&&e.flags&1048576&&QE(e,ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Pu(t,e),t=e.pendingProps;var s=Wa(e,Ut.current);Aa(e,n),s=mv(null,e,r,t,s,n);var i=gv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,sd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uv(e),s.updater=uh,e.stateNode=s,s._reactInternals=e,hm(e,r,t,n),e=mm(null,e,r,!0,i,n)):(e.tag=0,We&&i&&rv(e),qt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Pu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=hk(r),t=Xn(r,t),s){case 0:e=pm(null,e,r,t,n);break e;case 1:e=_x(null,e,r,t,n);break e;case 11:e=xx(null,e,r,t,n);break e;case 14:e=bx(null,e,r,Xn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),pm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),_x(t,e,r,s,n);case 3:e:{if(PT(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,eT(t,e),cd(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ya(Error($(423)),e),e=Ex(t,e,r,n,s);break e}else if(r!==s){s=Ya(Error($(424)),e),e=Ex(t,e,r,n,s);break e}else for(wn=Is(e.stateNode.containerInfo.firstChild),En=e,We=!0,Zn=null,n=sT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),r===s){e=Qr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return iT(e),t===null&&cm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,sm(r,s)?a=null:i!==null&&sm(r,i)&&(e.flags|=32),CT(t,e),qt(t,e,a,n),e.child;case 6:return t===null&&cm(e),null;case 13:return AT(t,e,n);case 4:return dv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ga(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),xx(t,e,r,s,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ae(od,r._currentValue),r._currentValue=a,i!==null)if(sr(i.value,a)){if(i.children===s.children&&!cn.current){e=Qr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Hr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),um(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error($(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),um(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}qt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Aa(e,n),s=zn(s),r=r(s),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,s=Xn(r,e.pendingProps),s=Xn(r.type,s),bx(t,e,r,s,n);case 15:return NT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),Pu(t,e),e.tag=1,un(r)?(t=!0,sd(e)):t=!1,Aa(e,n),nT(e,r,s),hm(e,r,s,n),mm(null,e,r,!0,t,n);case 19:return kT(t,e,n);case 22:return jT(t,e,n)}throw Error($(156,e.tag))};function KT(t,e){return xE(t,e)}function dk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new dk(t,e,n,r)}function Iv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hk(t){if(typeof t=="function")return Iv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wg)return 11;if(t===qg)return 14}return 2}function Ps(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Iv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case fa:return yi(n.children,s,i,e);case Hg:a=8,s|=8;break;case Lp:return t=Un(12,n,e,s|2),t.elementType=Lp,t.lanes=i,t;case Mp:return t=Un(13,n,e,s),t.elementType=Mp,t.lanes=i,t;case Vp:return t=Un(19,n,e,s),t.elementType=Vp,t.lanes=i,t;case rE:return ph(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tE:a=10;break e;case nE:a=9;break e;case Wg:a=11;break e;case qg:a=14;break e;case os:a=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Un(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function yi(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function ph(t,e,n,r){return t=Un(22,t,r,e),t.elementType=rE,t.lanes=n,t.stateNode={isHidden:!1},t}function $f(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function Bf(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nv(t,e,n,r,s,i,a,l,c){return t=new fk(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uv(i),t}function pk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YT(t){if(!t)return Vs;t=t._reactInternals;e:{if(Bi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(un(n))return KE(t,n,e)}return e}function QT(t,e,n,r,s,i,a,l,c){return t=Nv(n,r,!0,t,s,i,a,l,c),t.context=YT(null),n=t.current,r=Kt(),s=Cs(n),i=Hr(r,s),i.callback=e??null,Ns(n,i,s),t.current.lanes=s,hc(t,s,r),dn(t,r),t}function mh(t,e,n,r){var s=e.current,i=Kt(),a=Cs(s);return n=YT(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,a),t!==null&&(rr(t,s,a,i),Nu(t,s,a)),a}function vd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jv(t,e){Rx(t,e),(t=t.alternate)&&Rx(t,e)}function mk(){return null}var XT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cv(t){this._internalRoot=t}gh.prototype.render=Cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));mh(t,e,null,null)};gh.prototype.unmount=Cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){mh(null,t,null,null)}),e[Kr]=null}};function gh(t){this._internalRoot=t}gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=NE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cs.length&&e!==0&&e<cs[n].priority;n++);cs.splice(n,0,t),n===0&&CE(t)}};function Pv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dx(){}function gk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=vd(a);i.call(u)}}var a=QT(e,r,t,0,null,!1,!1,"",Dx);return t._reactRootContainer=a,t[Kr]=a.current,Rl(t.nodeType===8?t.parentNode:t),Ni(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=vd(c);l.call(u)}}var c=Nv(t,0,!1,null,null,!1,!1,"",Dx);return t._reactRootContainer=c,t[Kr]=c.current,Rl(t.nodeType===8?t.parentNode:t),Ni(function(){mh(e,c,n,r)}),c}function yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=vd(a);l.call(c)}}mh(e,a,t,s)}else a=gk(n,e,t,s,r);return vd(a)}SE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ko(e.pendingLanes);n!==0&&(Yg(e,n|1),dn(e,tt()),!(xe&6)&&(Qa=tt()+500,Ws()))}break;case 13:Ni(function(){var r=Yr(t,1);if(r!==null){var s=Kt();rr(r,t,1,s)}}),jv(t,1)}};Qg=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=Kt();rr(e,t,134217728,n)}jv(t,134217728)}};IE=function(t){if(t.tag===13){var e=Cs(t),n=Yr(t,e);if(n!==null){var r=Kt();rr(n,t,e,r)}jv(t,e)}};NE=function(){return Ne};jE=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Kp=function(t,e,n){switch(e){case"input":if($p(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lh(r);if(!s)throw Error($(90));iE(r),$p(r,s)}}}break;case"textarea":oE(t,n);break;case"select":e=n.value,e!=null&&Na(t,!!n.multiple,e,!1)}};pE=Ev;mE=Ni;var vk={usingClientEntryPoint:!1,Events:[pc,va,lh,hE,fE,Ev]},Do={findFiberByHostInstance:oi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yk={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yE(t),t===null?null:t.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{sh=su.inject(yk),yr=su}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pv(e))throw Error($(200));return pk(t,e,null,n)};jn.createRoot=function(t,e){if(!Pv(t))throw Error($(299));var n=!1,r="",s=XT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Nv(t,1,!1,null,null,n,!1,r,s),t[Kr]=e.current,Rl(t.nodeType===8?t.parentNode:t),new Cv(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=yE(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return Ni(t)};jn.hydrate=function(t,e,n){if(!vh(e))throw Error($(200));return yh(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!Pv(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=XT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=QT(e,null,t,1,n??null,s,!1,i,a),t[Kr]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gh(e)};jn.render=function(t,e,n){if(!vh(e))throw Error($(200));return yh(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!vh(t))throw Error($(40));return t._reactRootContainer?(Ni(function(){yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Kr]=null})}),!0):!1};jn.unstable_batchedUpdates=Ev;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return yh(t,e,n,!1,r)};jn.version="18.2.0-next-9e3b772b8-20220608";function JT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JT)}catch(t){console.error(t)}}JT(),Q_.exports=jn;var wk=Q_.exports,Ox=wk;Dp.createRoot=Ox.createRoot,Dp.hydrateRoot=Ox.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(this,arguments)}var ys;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ys||(ys={}));const Lx="popstate";function xk(t){t===void 0&&(t={});function e(s,i){let{pathname:a="/",search:l="",hash:c=""}=zi(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Nm("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:yd(i))}function r(s,i){wh(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return _k(e,n,r,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bk(){return Math.random().toString(36).substr(2,8)}function Mx(t,e){return{usr:t.state,key:t.key,idx:e}}function Nm(t,e,n,r){return n===void 0&&(n=null),Bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:n,key:e&&e.key||r||bk()})}function yd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _k(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=ys.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Bl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=ys.Pop;let y=d(),m=y==null?null:y-u;u=y,c&&c({action:l,location:w.location,delta:m})}function f(y,m){l=ys.Push;let v=Nm(w.location,y,m);n&&n(v,y),u=d()+1;let x=Mx(v,u),b=w.createHref(v);try{a.pushState(x,"",b)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(b)}i&&c&&c({action:l,location:w.location,delta:1})}function p(y,m){l=ys.Replace;let v=Nm(w.location,y,m);n&&n(v,y),u=d();let x=Mx(v,u),b=w.createHref(v);a.replaceState(x,"",b),i&&c&&c({action:l,location:w.location,delta:0})}function g(y){let m=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:yd(y);return ot(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let w={get action(){return l},get location(){return t(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Lx,h),c=y,()=>{s.removeEventListener(Lx,h),c=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let m=g(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(y){return a.go(y)}};return w}var Vx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vx||(Vx={}));function Ek(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?zi(e):e,s=Av(r.pathname||"/",n);if(s==null)return null;let i=ZT(t);Tk(i);let a=null;for(let l=0;a==null&&l<i.length;++l)a=Rk(i[l],Lk(s));return a}function ZT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ot(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=As([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZT(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Ak(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of eS(i.path))s(i,a,c)}),e}function eS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=eS(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Tk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Sk=/^:[\w-]+$/,Ik=3,Nk=2,jk=1,Ck=10,Pk=-2,Fx=t=>t==="*";function Ak(t,e){let n=t.split("/"),r=n.length;return n.some(Fx)&&(r+=Pk),e&&(r+=Nk),n.filter(s=>!Fx(s)).reduce((s,i)=>s+(Sk.test(i)?Ik:i===""?jk:Ck),r)}function kk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Rk(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Dk({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=l.route;i.push({params:r,pathname:As([s,d.pathname]),pathnameBase:$k(As([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=As([s,d.pathnameBase]))}return i}function Dk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ok(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=l[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?u[f]=void 0:u[f]=Mk(g||"",f),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Ok(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Lk(t){try{return decodeURI(t)}catch(e){return wh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mk(t,e){try{return decodeURIComponent(t)}catch(n){return wh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Av(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Vk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?zi(t):t;return{pathname:n?n.startsWith("/")?n:Fk(n,e):e,search:Bk(r),hash:zk(s)}}function Fk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tS(t,e){let n=Uk(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=zi(t):(s=Bl({},t),ot(!s.pathname||!s.pathname.includes("?"),zf("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),zf("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),zf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Vk(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const As=t=>t.join("/").replace(/\/\/+/g,"/"),$k=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rS=["post","put","patch","delete"];new Set(rS);const Wk=["get",...rS];new Set(Wk);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(this,arguments)}const kv=N.createContext(null),qk=N.createContext(null),Hi=N.createContext(null),xh=N.createContext(null),qs=N.createContext({outlet:null,matches:[],isDataRoute:!1}),sS=N.createContext(null);function Gk(t,e){let{relative:n}=e===void 0?{}:e;gc()||ot(!1);let{basename:r,navigator:s}=N.useContext(Hi),{hash:i,pathname:a,search:l}=aS(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:As([r,a])),s.createHref({pathname:c,search:l,hash:i})}function gc(){return N.useContext(xh)!=null}function vc(){return gc()||ot(!1),N.useContext(xh).location}function iS(t){N.useContext(Hi).static||N.useLayoutEffect(t)}function Kk(){let{isDataRoute:t}=N.useContext(qs);return t?oR():Yk()}function Yk(){gc()||ot(!1);let t=N.useContext(kv),{basename:e,future:n,navigator:r}=N.useContext(Hi),{matches:s}=N.useContext(qs),{pathname:i}=vc(),a=JSON.stringify(tS(s,n.v7_relativeSplatPath)),l=N.useRef(!1);return iS(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=nS(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:As([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}function mo(){let{matches:t}=N.useContext(qs),e=t[t.length-1];return e?e.params:{}}function aS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Hi),{matches:s}=N.useContext(qs),{pathname:i}=vc(),a=JSON.stringify(tS(s,r.v7_relativeSplatPath));return N.useMemo(()=>nS(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function Qk(t,e){return Xk(t,e)}function Xk(t,e,n,r){gc()||ot(!1);let{navigator:s}=N.useContext(Hi),{matches:i}=N.useContext(qs),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=vc(),d;if(e){var h;let y=typeof e=="string"?zi(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ot(!1),d=y}else d=u;let f=d.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=Ek(t,{pathname:p}),w=nR(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:As([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:As([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&w?N.createElement(xh.Provider,{value:{location:zl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ys.Pop}},w):w}function Jk(){let t=aR(),e=Hk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,null)}const Zk=N.createElement(Jk,null);class eR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(qs.Provider,{value:this.props.routeContext},N.createElement(sS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tR(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(kv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(qs.Provider,{value:e},r)}function nR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));d>=0||ot(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,g=!1,w=null,y=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||Zk,c&&(u<0&&f===0?(lR("route-fallback",!1),g=!0,y=null):u===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=w:g?x=y:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,N.createElement(tR,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(eR,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var oS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oS||{}),wd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wd||{});function rR(t){let e=N.useContext(kv);return e||ot(!1),e}function sR(t){let e=N.useContext(qk);return e||ot(!1),e}function iR(t){let e=N.useContext(qs);return e||ot(!1),e}function lS(t){let e=iR(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function aR(){var t;let e=N.useContext(sS),n=sR(wd.UseRouteError),r=lS(wd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oR(){let{router:t}=rR(oS.UseNavigateStable),e=lS(wd.UseNavigateStable),n=N.useRef(!1);return iS(()=>{n.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,zl({fromRouteId:e},i)))},[t,e])}const Ux={};function lR(t,e,n){!e&&!Ux[t]&&(Ux[t]=!0)}function Ie(t){ot(!1)}function cR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ys.Pop,navigator:i,static:a=!1,future:l}=t;gc()&&ot(!1);let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:a,future:zl({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=zi(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,w=N.useMemo(()=>{let y=Av(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:g},navigationType:s}},[c,d,h,f,p,g,s]);return w==null?null:N.createElement(Hi.Provider,{value:u},N.createElement(xh.Provider,{children:n,value:w}))}function Rv(t){let{children:e,location:n}=t;return Qk(jm(e),n)}new Promise(()=>{});function jm(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let i=[...e,s];if(r.type===N.Fragment){n.push.apply(n,jm(r.props.children,i));return}r.type!==Ie&&ot(!1),!r.props.index||!r.props.children||ot(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jm(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function uR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function dR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hR(t,e){return t.button===0&&(!e||e==="_self")&&!dR(t)}const fR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],pR="6";try{window.__reactRouterVersion=pR}catch{}const mR="startTransition",$x=Rp[mR];function gR(t){let{basename:e,children:n,future:r,window:s}=t,i=N.useRef();i.current==null&&(i.current=xk({window:s,v5Compat:!0}));let a=i.current,[l,c]=N.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=N.useCallback(h=>{u&&$x?$x(()=>c(h)):c(h)},[c,u]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(cR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const vR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ee=N.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=uR(e,fR),{basename:p}=N.useContext(Hi),g,w=!1;if(typeof u=="string"&&yR.test(u)&&(g=u,vR))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),I=Av(b.pathname,p);b.origin===x.origin&&I!=null?u=I+b.search+b.hash:w=!0}catch{}let y=Gk(u,{relative:s}),m=wR(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});function v(x){r&&r(x),x.defaultPrevented||m(x)}return N.createElement("a",Cm({},f,{href:g||y,onClick:w||i?r:v,ref:n,target:c}))});var Bx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bx||(Bx={}));var zx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zx||(zx={}));function wR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,unstable_viewTransition:l}=e===void 0?{}:e,c=Kk(),u=vc(),d=aS(t,{relative:a});return N.useCallback(h=>{if(hR(h,n)){h.preventDefault();let f=r!==void 0?r:yd(u)===yd(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,unstable_viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}var Hx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},uS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,a||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new bR;const f=i<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _R=function(t){const e=cS(t);return uS.encodeByteArray(e,!0)},xd=function(t){return _R(t).replace(/\./g,"")},dS=function(t){try{return uS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>ER().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof Hx>"u")return;const t=Hx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dS(t[1]);return e&&JSON.parse(e)},bh=()=>{try{return TR()||SR()||IR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hS=t=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fS=t=>{const e=hS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pS=()=>{var t;return(t=bh())===null||t===void 0?void 0:t.config},mS=t=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xd(JSON.stringify(n)),xd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function CR(){var t;const e=(t=bh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AR(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kR(){return!CR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dv(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function RR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="FirebaseError";class Gn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DR,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi.prototype.create)}}class Wi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?OR(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Gn(s,l,r)}}function OR(t,e){return t.replace(LR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const LR=/\{\$([^}]+)}/g;function MR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ji(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Wx(i)&&Wx(a)){if(!ji(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Wx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VR(t,e){const n=new FR(t,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hf),s.error===void 0&&(s.error=Hf),s.complete===void 0&&(s.complete=Hf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1e3,BR=2,zR=4*60*60*1e3,HR=.5;function qx(t,e=$R,n=BR){const r=e*Math.pow(n,t),s=Math.round(HR*r*(Math.random()-.5)*2);return Math.min(zR,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class Wn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WR=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qR(t){return t===ri?void 0:t}function GR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const YR={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},QR=ge.INFO,XR={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},JR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=XR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _h{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const ZR=(t,e)=>e.some(n=>t instanceof n);let Gx,Kx;function eD(){return Gx||(Gx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tD(){return Kx||(Kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wS=new WeakMap,Pm=new WeakMap,xS=new WeakMap,Wf=new WeakMap,Ov=new WeakMap;function nD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ks(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&wS.set(n,t)}).catch(()=>{}),Ov.set(e,t),e}function rD(t){if(Pm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Pm.set(t,e)}let Am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sD(t){Am=t(Am)}function iD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qf(this),e,...n);return xS.set(r,e.sort?e.sort():[e]),ks(r)}:tD().includes(t)?function(...e){return t.apply(qf(this),e),ks(wS.get(this))}:function(...e){return ks(t.apply(qf(this),e))}}function aD(t){return typeof t=="function"?iD(t):(t instanceof IDBTransaction&&rD(t),ZR(t,eD())?new Proxy(t,Am):t)}function ks(t){if(t instanceof IDBRequest)return nD(t);if(Wf.has(t))return Wf.get(t);const e=aD(t);return e!==t&&(Wf.set(t,e),Ov.set(e,t)),e}const qf=t=>Ov.get(t);function bS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=ks(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ks(a.result),c.oldVersion,c.newVersion,ks(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const oD=["get","getKey","getAll","getAllKeys","count"],lD=["put","add","delete","clear"],Gf=new Map;function Yx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oD.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Gf.set(e,i),i}sD(t=>({...t,get:(e,n,r)=>Yx(e,n)||t.get(e,n,r),has:(e,n)=>!!Yx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const km="@firebase/app",Qx="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new _h("@firebase/app"),dD="@firebase/app-compat",hD="@firebase/analytics-compat",fD="@firebase/analytics",pD="@firebase/app-check-compat",mD="@firebase/app-check",gD="@firebase/auth",vD="@firebase/auth-compat",yD="@firebase/database",wD="@firebase/database-compat",xD="@firebase/functions",bD="@firebase/functions-compat",_D="@firebase/installations",ED="@firebase/installations-compat",TD="@firebase/messaging",SD="@firebase/messaging-compat",ID="@firebase/performance",ND="@firebase/performance-compat",jD="@firebase/remote-config",CD="@firebase/remote-config-compat",PD="@firebase/storage",AD="@firebase/storage-compat",kD="@firebase/firestore",RD="@firebase/firestore-compat",DD="firebase",OD="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",LD={[km]:"fire-core",[dD]:"fire-core-compat",[fD]:"fire-analytics",[hD]:"fire-analytics-compat",[mD]:"fire-app-check",[pD]:"fire-app-check-compat",[gD]:"fire-auth",[vD]:"fire-auth-compat",[yD]:"fire-rtdb",[wD]:"fire-rtdb-compat",[xD]:"fire-fn",[bD]:"fire-fn-compat",[_D]:"fire-iid",[ED]:"fire-iid-compat",[TD]:"fire-fcm",[SD]:"fire-fcm-compat",[ID]:"fire-perf",[ND]:"fire-perf-compat",[jD]:"fire-rc",[CD]:"fire-rc-compat",[PD]:"fire-gcs",[AD]:"fire-gcs-compat",[kD]:"fire-fst",[RD]:"fire-fst-compat","fire-js":"fire-js",[DD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,Dm=new Map;function MD(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ir(t){const e=t.name;if(Dm.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,t);for(const n of bd.values())MD(n,t);return!0}function Gs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Rs=new Wi("app","Firebase",VD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=OD;function _S(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Rs.create("bad-app-name",{appName:String(s)});if(n||(n=pS()),!n)throw Rs.create("no-options");const i=bd.get(s);if(i){if(ji(n,i.options)&&ji(r,i.config))return i;throw Rs.create("duplicate-app",{appName:s})}const a=new KR(s);for(const c of Dm.values())a.addComponent(c);const l=new FD(n,r,a);return bd.set(s,l),l}function Eh(t=Rm){const e=bd.get(t);if(!e&&t===Rm&&pS())return _S();if(!e)throw Rs.create("no-app",{appName:t});return e}function hn(t,e,n){var r;let s=(r=LD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(l.join(" "));return}ir(new Wn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="firebase-heartbeat-database",$D=1,Hl="firebase-heartbeat-store";let Kf=null;function ES(){return Kf||(Kf=bS(UD,$D,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rs.create("idb-open",{originalErrorMessage:t.message})})),Kf}async function BD(t){try{const n=(await ES()).transaction(Hl),r=await n.objectStore(Hl).get(TS(t));return await n.done,r}catch(e){if(e instanceof Gn)Ci.warn(e.message);else{const n=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function Xx(t,e){try{const r=(await ES()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,TS(t)),await r.done}catch(n){if(n instanceof Gn)Ci.warn(n.message);else{const r=Rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(r.message)}}}function TS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1024,HD=30*24*60*60*1e3;class WD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Jx();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=HD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jx(),{heartbeatsToSend:r,unsentEntries:s}=qD(this._heartbeatsCache.heartbeats),i=xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Jx(){return new Date().toISOString().substring(0,10)}function qD(t,e=zD){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Zx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Zx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dv()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Xx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Zx(t){return xd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){ir(new Wn("platform-logger",e=>new cD(e),"PRIVATE")),ir(new Wn("heartbeat",e=>new WD(e),"PRIVATE")),hn(km,Qx,t),hn(km,Qx,"esm2017"),hn("fire-js","")}KD("");var YD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,Lv=Lv||{},oe=YD||self;function Th(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function wc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function QD(t){return Object.prototype.hasOwnProperty.call(t,Yf)&&t[Yf]||(t[Yf]=++XD)}var Yf="closure_uid_"+(1e9*Math.random()>>>0),XD=0;function JD(t,e,n){return t.call.apply(t.bind,arguments)}function ZD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=JD:Vt=ZD,Vt.apply(null,arguments)}function iu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[s].apply(r,a)}}function Ks(){this.s=this.s,this.o=this.o}var eO=0;Ks.prototype.s=!1;Ks.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),eO!=0)&&QD(this)};Ks.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function eb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Th(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let a=0;a<i;a++)t[s+a]=r[a]}else t.push(r)}}function Ft(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ft.prototype.h=function(){this.defaultPrevented=!0};var tO=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function Wl(t){return/^[\s\xa0]*$/.test(t)}function Sh(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function fr(t){return Sh().indexOf(t)!=-1}function Vv(t){return Vv[" "](t),t}Vv[" "]=function(){};function nO(t,e){var n=KO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var rO=fr("Opera"),Xa=fr("Trident")||fr("MSIE"),IS=fr("Edge"),Om=IS||Xa,NS=fr("Gecko")&&!(Sh().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge"))&&!(fr("Trident")||fr("MSIE"))&&!fr("Edge"),sO=Sh().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge");function jS(){var t=oe.document;return t?t.documentMode:void 0}var Lm;e:{var Qf="",Xf=function(){var t=Sh();if(NS)return/rv:([^\);]+)(\)|;)/.exec(t);if(IS)return/Edge\/([\d\.]+)/.exec(t);if(Xa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sO)return/WebKit\/(\S+)/.exec(t);if(rO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Xf&&(Qf=Xf?Xf[1]:""),Xa){var Jf=jS();if(Jf!=null&&Jf>parseFloat(Qf)){Lm=String(Jf);break e}}Lm=Qf}var Mm;if(oe.document&&Xa){var tb=jS();Mm=tb||parseInt(Lm,10)||void 0}else Mm=void 0;var iO=Mm;function ql(t,e){if(Ft.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NS){e:{try{Vv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ql.$.h.call(this)}}xt(ql,Ft);var aO={2:"touch",3:"pen",4:"mouse"};ql.prototype.h=function(){ql.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xc="closure_listenable_"+(1e6*Math.random()|0),oO=0;function lO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++oO,this.fa=this.ia=!1}function Ih(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Fv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function CS(t){const e={};for(const n in t)e[n]=t[n];return e}const nb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<nb.length;i++)n=nb[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nh(t){this.src=t,this.g={},this.h=0}Nh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var a=Fm(t,e,r,s);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new lO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Vm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=SS(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Ih(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Fm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Uv="closure_lm_"+(1e6*Math.random()|0),Zf={};function AS(t,e,n,r,s){if(r&&r.once)return RS(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)AS(t,e[i],n,r,s);return null}return n=zv(n),t&&t[xc]?t.O(e,n,wc(r)?!!r.capture:!!r,s):kS(t,e,n,!1,r,s)}function kS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var a=wc(s)?!!s.capture:!!s,l=Bv(t);if(l||(t[Uv]=l=new Nh(t)),n=l.add(e,n,r,a,i),n.proxy)return n;if(r=uO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tO||(s=a),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(OS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uO(){function t(n){return e.call(t.src,t.listener,n)}const e=dO;return t}function RS(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)RS(t,e[i],n,r,s);return null}return n=zv(n),t&&t[xc]?t.P(e,n,wc(r)?!!r.capture:!!r,s):kS(t,e,n,!0,r,s)}function DS(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)DS(t,e[i],n,r,s);else r=wc(r)?!!r.capture:!!r,n=zv(n),t&&t[xc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Fm(i,n,r,s),-1<n&&(Ih(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Fm(e,n,r,s)),(n=-1<t?e[t]:null)&&$v(n))}function $v(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[xc])Vm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(OS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bv(e))?(Vm(n,t),n.h==0&&(n.src=null,e[Uv]=null)):Ih(t)}}}function OS(t){return t in Zf?Zf[t]:Zf[t]="on"+t}function dO(t,e){if(t.fa)t=!0;else{e=new ql(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$v(t),t=n.call(r,e)}return t}function Bv(t){return t=t[Uv],t instanceof Nh?t:null}var ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function zv(t){return typeof t=="function"?t:(t[ep]||(t[ep]=function(e){return t.handleEvent(e)}),t[ep])}function wt(){Ks.call(this),this.i=new Nh(this),this.S=this,this.J=null}xt(wt,Ks);wt.prototype[xc]=!0;wt.prototype.removeEventListener=function(t,e,n,r){DS(this,t,e,n,r)};function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ft(e,t);else if(e instanceof Ft)e.target=e.target||t;else{var s=e;e=new Ft(r,t),PS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=e.g=n[i];s=au(a,r,!0,e)&&s}if(a=e.g=t,s=au(a,r,!0,e)&&s,s=au(a,r,!1,e)&&s,n)for(i=0;i<n.length;i++)a=e.g=n[i],s=au(a,r,!1,e)&&s}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ih(n[r]);delete t.g[e],t.h--}}this.J=null};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function au(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.fa&&a.capture==n){var l=a.listener,c=a.la||a.src;a.ia&&Vm(t.i,a),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Hv=oe.JSON.stringify;class hO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function fO(){var t=Wv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class pO{constructor(){this.h=this.g=null}add(e,n){const r=LS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var LS=new hO(()=>new mO,t=>t.reset());class mO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function vO(t){oe.setTimeout(()=>{throw t},0)}let Gl,Kl=!1,Wv=new pO,MS=()=>{const t=oe.Promise.resolve(void 0);Gl=()=>{t.then(yO)}};var yO=()=>{for(var t;t=fO();){try{t.h.call(t.g)}catch(n){vO(n)}var e=LS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Kl=!1};function jh(t,e){wt.call(this),this.h=t||1,this.g=e||oe,this.j=Vt(this.qb,this),this.l=Date.now()}xt(jh,wt);G=jh.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(qv(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}G.N=function(){jh.$.N.call(this),qv(this),delete this.g};function Gv(t,e,n){if(typeof t=="function")n&&(t=Vt(t,n));else if(t&&typeof t.handleEvent=="function")t=Vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function VS(t){t.g=Gv(()=>{t.g=null,t.i&&(t.i=!1,VS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wO extends Ks{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VS(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yl(t){Ks.call(this),this.h=t,this.g={}}xt(Yl,Ks);var rb=[];function FS(t,e,n,r){Array.isArray(n)||(n&&(rb[0]=n.toString()),n=rb);for(var s=0;s<n.length;s++){var i=AS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function US(t){Fv(t.g,function(e,n){this.g.hasOwnProperty(n)&&$v(e)},t),t.g={}}Yl.prototype.N=function(){Yl.$.N.call(this),US(this)};Yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ch(){this.g=!0}Ch.prototype.Ea=function(){this.g=!1};function xO(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var a="",l=i.split("&"),c=0;c<l.length;c++){var u=l[c].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+u+"&"):a+(d+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+a})}function bO(t,e,n,r,s,i,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+a})}function Ta(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+EO(t,n)+(r?" "+r:"")})}function _O(t,e){t.info(function(){return"TIMEOUT: "+e})}Ch.prototype.info=function(){};function EO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Hv(n)}catch{return e}}var Gi={},sb=null;function Ph(){return sb=sb||new wt}Gi.Ta="serverreachability";function $S(t){Ft.call(this,Gi.Ta,t)}xt($S,Ft);function Ql(t){const e=Ph();jt(e,new $S(e))}Gi.STAT_EVENT="statevent";function BS(t,e){Ft.call(this,Gi.STAT_EVENT,t),this.stat=e}xt(BS,Ft);function Gt(t){const e=Ph();jt(e,new BS(e,t))}Gi.Ua="timingevent";function zS(t,e){Ft.call(this,Gi.Ua,t),this.size=e}xt(zS,Ft);function bc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var Ah={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kv(){}Kv.prototype.h=null;function ib(t){return t.h||(t.h=t.i())}function WS(){}var _c={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yv(){Ft.call(this,"d")}xt(Yv,Ft);function Qv(){Ft.call(this,"c")}xt(Qv,Ft);var Um;function kh(){}xt(kh,Kv);kh.prototype.g=function(){return new XMLHttpRequest};kh.prototype.i=function(){return{}};Um=new kh;function Ec(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yl(this),this.P=TO,t=Om?125:void 0,this.V=new jh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qS}function qS(){this.i=null,this.g="",this.h=!1}var TO=45e3,GS={},$m={};G=Ec.prototype;G.setTimeout=function(t){this.P=t};function Bm(t,e,n){t.L=1,t.A=Dh(Xr(e)),t.u=n,t.S=!0,KS(t,null)}function KS(t,e){t.G=Date.now(),Tc(t),t.B=Xr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),n1(n.i,"t",r),t.o=0,n=t.l.J,t.h=new qS,t.g=E1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wO(Vt(t.Pa,t,t.g),t.O)),FS(t.U,t.g,"readystatechange",t.nb),e=t.I?CS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ql(),xO(t.j,t.v,t.B,t.m,t.W,t.u)}G.nb=function(t){t=t.target;const e=this.M;e&&pr(t)==3?e.l():this.Pa(t)};G.Pa=function(t){try{if(t==this.g)e:{const d=pr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Om||this.g&&(this.h.h||this.g.ja()||cb(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Ql(3):Ql(2)),Rh(this);var n=this.g.da();this.ca=n;t:if(YS(this)){var r=cb(this.g);t="";var s=r.length,i=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),fl(this);var a="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,bO(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wl(l)){var u=l;break t}}u=null}if(n=u)Ta(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zm(this,n);else{this.i=!1,this.s=3,Gt(12),ui(this),fl(this);break e}}this.S?(QS(this,d,a),Om&&this.i&&d==3&&(FS(this.U,this.V,"tick",this.mb),this.V.start())):(Ta(this.j,this.m,a,null),zm(this,a)),d==4&&ui(this),this.i&&!this.J&&(d==4?w1(this.l,this):(this.i=!1,Tc(this)))}else WO(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),ui(this),fl(this)}}}catch{}finally{}};function YS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function QS(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=SO(t,n),s==$m){e==4&&(t.s=4,Gt(14),r=!1),Ta(t.j,t.m,null,"[Incomplete Response]");break}else if(s==GS){t.s=4,Gt(15),Ta(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ta(t.j,t.m,s,null),zm(t,s);YS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ny(e),e.M=!0,Gt(11))):(Ta(t.j,t.m,n,"[Invalid Chunked Response]"),ui(t),fl(t))}G.mb=function(){if(this.g){var t=pr(this.g),e=this.g.ja();this.o<e.length&&(Rh(this),QS(this,t,e),this.i&&t!=4&&Tc(this))}};function SO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?$m:(n=Number(e.substring(n,r)),isNaN(n)?GS:(r+=1,r+n>e.length?$m:(e=e.slice(r,r+n),t.o=r+n,e)))}G.cancel=function(){this.J=!0,ui(this)};function Tc(t){t.Y=Date.now()+t.P,XS(t,t.P)}function XS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=bc(Vt(t.lb,t),e)}function Rh(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}G.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(_O(this.j,this.B),this.L!=2&&(Ql(),Gt(17)),ui(this),this.s=2,fl(this)):XS(this,this.Y-t)};function fl(t){t.l.H==0||t.J||w1(t.l,t)}function ui(t){Rh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qv(t.V),US(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Hm(n.i,t))){if(!t.K&&Hm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Td(n),Vh(n);else break e;ty(n),Gt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=bc(Vt(n.ib,n),6e3));if(1>=i1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else di(n,11)}else if((t.K||n.g==t)&&Td(n),!Wl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Xv(i,i.h),i.h=null))}if(r.F){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,De(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=_1(r,r.J?r.pa:null,r.Y),a.K){a1(r.i,a);var l=a,c=r.L;c&&l.setTimeout(c),l.C&&(Rh(l),Tc(l)),r.g=a}else v1(r);0<n.j.length&&Fh(n)}else u[0]!="stop"&&u[0]!="close"||di(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?di(n,7):ey(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ql(4)}catch{}}function IO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Th(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function NO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Th(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function JS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Th(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=NO(t),r=IO(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var ZS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function wi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wi){this.h=t.h,_d(this,t.j),this.s=t.s,this.g=t.g,Ed(this,t.m),this.l=t.l;var e=t.i,n=new Xl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ab(this,n),this.o=t.o}else t&&(e=String(t).match(ZS))?(this.h=!1,_d(this,e[1]||"",!0),this.s=Jo(e[2]||""),this.g=Jo(e[3]||"",!0),Ed(this,e[4]),this.l=Jo(e[5]||"",!0),ab(this,e[6]||"",!0),this.o=Jo(e[7]||"")):(this.h=!1,this.i=new Xl(null,this.h))}wi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zo(e,ob,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Zo(e,ob,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Zo(n,n.charAt(0)=="/"?AO:PO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zo(n,RO)),t.join("")};function Xr(t){return new wi(t)}function _d(t,e,n){t.j=n?Jo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ed(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ab(t,e,n){e instanceof Xl?(t.i=e,DO(t.i,t.h)):(n||(e=Zo(e,kO)),t.i=new Xl(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Dh(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Jo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ob=/[#\/\?@]/g,PO=/[#\?:]/g,AO=/[#\?]/g,kO=/[#\?@]/g,RO=/#/g;function Xl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ys(t){t.g||(t.g=new Map,t.h=0,t.i&&jO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=Xl.prototype;G.add=function(t,e){Ys(this),this.i=null,t=go(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function e1(t,e){Ys(t),e=go(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function t1(t,e){return Ys(t),e=go(t,e),t.g.has(e)}G.forEach=function(t,e){Ys(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};G.ta=function(){Ys(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};G.Z=function(t){Ys(this);let e=[];if(typeof t=="string")t1(this,t)&&(e=e.concat(this.g.get(go(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return Ys(this),this.i=null,t=go(this,t),t1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function n1(t,e,n){e1(t,e),0<n.length&&(t.i=null,t.g.set(go(t,e),Mv(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;a[r]!==""&&(s+="="+encodeURIComponent(String(a[r]))),t.push(s)}}return this.i=t.join("&")};function go(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function DO(t,e){e&&!t.j&&(Ys(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(e1(this,r),n1(this,s,n))},t)),t.j=e}var OO=class{constructor(t,e){this.g=t,this.map=e}};function r1(t){this.l=t||LO,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LO=10;function s1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function i1(t){return t.h?1:t.g?t.g.size:0}function Hm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xv(t,e){t.g?t.g.add(e):t.h=e}function a1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}r1.prototype.cancel=function(){if(this.i=o1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function o1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Mv(t.i)}var MO=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function VO(){this.g=new MO}function FO(t,e,n){const r=n||"";try{JS(t,function(s,i){let a=s;wc(s)&&(a=Hv(s)),e.push(r+i+"="+encodeURIComponent(a))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function UO(t,e){const n=new Ch;if(oe.Image){const r=new Image;r.onload=iu(ou,n,r,"TestLoadImage: loaded",!0,e),r.onerror=iu(ou,n,r,"TestLoadImage: error",!1,e),r.onabort=iu(ou,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=iu(ou,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ou(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Oh(t){this.l=t.ec||null,this.j=t.ob||!1}xt(Oh,Kv);Oh.prototype.g=function(){return new Lh(this.l,this.j)};Oh.prototype.i=function(t){return function(){return t}}({});function Lh(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Jv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Lh,wt);var Jv=0;G=Lh.prototype;G.open=function(t,e){if(this.readyState!=Jv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jl(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sc(this)),this.readyState=Jv};G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;l1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function l1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sc(this):Jl(this),this.readyState==3&&l1(this)}};G.Za=function(t){this.g&&(this.response=this.responseText=t,Sc(this))};G.Ya=function(t){this.g&&(this.response=t,Sc(this))};G.ka=function(){this.g&&Sc(this)};function Sc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jl(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $O=oe.JSON.parse;function Je(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=c1,this.L=this.M=!1}xt(Je,wt);var c1="",BO=/^https?$/i,zO=["POST","PUT"];G=Je.prototype;G.Oa=function(t){this.M=t};G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Um.g(),this.C=this.u?ib(this.u):ib(Um),this.g.onreadystatechange=Vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){lb(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=oe.FormData&&t instanceof oe.FormData,!(0<=SS(zO,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{h1(this),0<this.B&&((this.L=HO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.ua,this)):this.A=Gv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){lb(this,i)}};function HO(t){return Xa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.ua=function(){typeof Lv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))};function lb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,u1(t),Mh(t)}function u1(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),Mh(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mh(this,!0)),Je.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?d1(this):this.kb())};G.kb=function(){d1(this)};function d1(t){if(t.h&&typeof Lv<"u"&&(!t.C[1]||pr(t)!=4||t.da()!=2)){if(t.v&&pr(t)==4)Gv(t.La,0,t);else if(jt(t,"readystatechange"),pr(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var s=String(t.I).match(ZS)[1]||null;!s&&oe.self&&oe.self.location&&(s=oe.self.location.protocol.slice(0,-1)),r=!BO.test(s?s.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var i=2<pr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",u1(t)}}finally{Mh(t)}}}}function Mh(t,e){if(t.g){h1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function h1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}G.isActive=function(){return!!this.g};function pr(t){return t.g?t.g.readyState:0}G.da=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$O(e)}};function cb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case c1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function WO(t){const e={};t=(t.g&&2<=pr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Wl(t[r]))continue;var n=gO(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}cO(e,function(r){return r.join(", ")})}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function f1(t){let e="";return Fv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Zv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=f1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function Oo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function p1(t){this.Ga=0,this.j=[],this.l=new Ch,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Oo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Oo("baseRetryDelayMs",5e3,t),this.hb=Oo("retryDelaySeedMs",1e4,t),this.eb=Oo("forwardChannelMaxRetries",2,t),this.xa=Oo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new r1(t&&t.concurrentRequestLimit),this.Ja=new VO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}G=p1.prototype;G.ra=8;G.H=1;function ey(t){if(m1(t),t.H==3){var e=t.W++,n=Xr(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),Ic(t,n),e=new Ec(t,t.l,e),e.L=2,e.A=Dh(Xr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=E1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Tc(e)}b1(t)}function Vh(t){t.g&&(ny(t),t.g.cancel(),t.g=null)}function m1(t){Vh(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Td(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function Fh(t){if(!s1(t.i)&&!t.m){t.m=!0;var e=t.Na;Gl||MS(),Kl||(Gl(),Kl=!0),Wv.add(e,t),t.C=0}}function qO(t,e){return i1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bc(Vt(t.Na,t,e),x1(t,t.C)),t.C++,!0)}G.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Ec(this,this.l,t);let i=this.s;if(this.U&&(i?(i=CS(i),PS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=g1(this,s,e),n=Xr(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),Ic(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(f1(i)))+"&"+e:this.o&&Zv(n,this.o,i)),Xv(this.i,s),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),s.aa=!0,Bm(s,n,null)):Bm(s,n,e),this.H=2}}else this.H==3&&(t?ub(this,t):this.j.length==0||s1(this.i)||ub(this))};function ub(t,e){var n;e?n=e.m:n=t.W++;const r=Xr(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),Ic(t,r),t.o&&t.s&&Zv(r,t.o,t.s),n=new Ec(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=g1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xv(t.i,n),Bm(n,r,e)}function Ic(t,e){t.na&&Fv(t.na,function(n,r){De(e,r,n)}),t.h&&JS({},function(n,r){De(e,r,n)})}function g1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const a=["count="+n];i==-1?0<n?(i=s[0].g,a.push("ofs="+i)):i=0:a.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let u=s[c].g;const d=s[c].map;if(u-=i,0>u)i=Math.max(0,s[c].g-100),l=!1;else try{FO(d,a,"req"+u+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function v1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gl||MS(),Kl||(Gl(),Kl=!0),Wv.add(e,t),t.A=0}}function ty(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bc(Vt(t.Ma,t),x1(t,t.A)),t.A++,!0)}G.Ma=function(){if(this.u=null,y1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bc(Vt(this.jb,this),t)}};G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),Vh(this),y1(this))};function ny(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function y1(t){t.g=new Ec(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Xr(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),Ic(t,e),t.o&&t.s&&Zv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Dh(Xr(e)),n.u=null,n.S=!0,KS(n,t)}G.ib=function(){this.v!=null&&(this.v=null,Vh(this),ty(this),Gt(19))};function Td(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function w1(t,e){var n=null;if(t.g==e){Td(t),ny(t),t.g=null;var r=2}else if(Hm(t.i,e))n=e.F,a1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Ph(),jt(r,new zS(r,n)),Fh(t)}else v1(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&qO(t,e)||r==2&&ty(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:di(t,5);break;case 4:di(t,10);break;case 3:di(t,6);break;default:di(t,2)}}}function x1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function di(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Vt(t.pb,t);n||(n=new wi("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||_d(n,"https"),Dh(n)),UO(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),b1(t),m1(t)}G.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))};function b1(t){if(t.H=0,t.ma=[],t.h){const e=o1(t.i);(e.length!=0||t.j.length!=0)&&(eb(t.ma,e),eb(t.ma,t.j),t.i.i.length=0,Mv(t.j),t.j.length=0),t.h.ya()}}function _1(t,e,n){var r=n instanceof wi?Xr(n):new wi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ed(r,r.m);else{var s=oe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new wi(null);r&&_d(i,r),e&&(i.g=e),s&&Ed(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),Ic(t,r),r}function E1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Je(new Oh({ob:n})):new Je(t.va),e.Oa(t.J),e}G.isActive=function(){return!!this.h&&this.h.isActive(this)};function T1(){}G=T1.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.isActive=function(){return!0};G.Va=function(){};function Sd(){if(Xa&&!(10<=Number(iO)))throw Error("Environmental error: no available transport.")}Sd.prototype.g=function(t,e){return new In(t,e)};function In(t,e){wt.call(this),this.g=new p1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new vo(this)}xt(In,wt);In.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=_1(t,null,t.Y),Fh(t)};In.prototype.close=function(){ey(this.g)};In.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Hv(t),t=n);e.j.push(new OO(e.fb++,t)),e.H==3&&Fh(e)};In.prototype.N=function(){this.g.h=null,delete this.j,ey(this.g),delete this.g,In.$.N.call(this)};function S1(t){Yv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(S1,Yv);function I1(){Qv.call(this),this.status=1}xt(I1,Qv);function vo(t){this.g=t}xt(vo,T1);vo.prototype.Ba=function(){jt(this.g,"a")};vo.prototype.Aa=function(t){jt(this.g,new S1(t))};vo.prototype.za=function(t){jt(this.g,new I1)};vo.prototype.ya=function(){jt(this.g,"b")};function GO(){this.blockSize=-1}function ar(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(ar,GO);ar.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function tp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],a=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}ar.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)tp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){tp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){tp(this,r),s=0;break}}this.h=s,this.i+=e};ar.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function je(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var KO={};function ry(t){return-128<=t&&128>t?nO(t,function(e){return new je([e|0],0>e?-1:0)}):new je([t|0],0>t?-1:0)}function mr(t){if(isNaN(t)||!isFinite(t))return Ra;if(0>t)return St(mr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Wm;return new je(e,0)}function N1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return St(N1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mr(Math.pow(e,8)),r=Ra,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+i),e);8>i?(i=mr(Math.pow(e,i)),r=r.R(i).add(mr(a))):(r=r.R(n),r=r.add(mr(a)))}return r}var Wm=4294967296,Ra=ry(0),qm=ry(1),db=ry(16777216);G=je.prototype;G.ea=function(){if(Fn(this))return-St(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Wm+r)*e,e*=Wm}return t};G.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($r(this))return"0";if(Fn(this))return"-"+St(this).toString(t);for(var e=mr(Math.pow(t,6)),n=this,r="";;){var s=Nd(n,e).g;n=Id(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,$r(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $r(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Fn(t){return t.h==-1}G.X=function(t){return t=Id(this,t),Fn(t)?-1:$r(t)?0:1};function St(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new je(n,~t.h).add(qm)}G.abs=function(){return Fn(this)?St(this):this};G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),a=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,n[s]=a<<16|i}return new je(n,n[n.length-1]&-2147483648?-1:0)};function Id(t,e){return t.add(St(e))}G.R=function(t){if($r(this)||$r(t))return Ra;if(Fn(this))return Fn(t)?St(this).R(St(t)):St(St(this).R(t));if(Fn(t))return St(this.R(St(t)));if(0>this.X(db)&&0>t.X(db))return mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,a=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=a*c,lu(n,2*r+2*s),n[2*r+2*s+1]+=i*c,lu(n,2*r+2*s+1),n[2*r+2*s+1]+=a*l,lu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,lu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new je(n,0)};function lu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Lo(t,e){this.g=t,this.h=e}function Nd(t,e){if($r(e))throw Error("division by zero");if($r(t))return new Lo(Ra,Ra);if(Fn(t))return e=Nd(St(t),e),new Lo(St(e.g),St(e.h));if(Fn(e))return e=Nd(t,St(e)),new Lo(St(e.g),e.h);if(30<t.g.length){if(Fn(t)||Fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qm,r=e;0>=r.X(t);)n=hb(n),r=hb(r);var s=ia(n,1),i=ia(r,1);for(r=ia(r,2),n=ia(n,2);!$r(r);){var a=i.add(r);0>=a.X(t)&&(s=s.add(n),i=a),r=ia(r,1),n=ia(n,1)}return e=Id(t,s.R(e)),new Lo(s,e)}for(s=Ra;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=mr(n),a=i.R(e);Fn(a)||0<a.X(t);)n-=r,i=mr(n),a=i.R(e);$r(i)&&(i=qm),s=s.add(i),t=Id(t,a)}return new Lo(s,t)}G.gb=function(t){return Nd(this,t).h};G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new je(n,this.h&t.h)};G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new je(n,this.h|t.h)};G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new je(n,this.h^t.h)};function hb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new je(n,t.h)}function ia(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new je(s,t.h)}Sd.prototype.createWebChannel=Sd.prototype.g;In.prototype.send=In.prototype.u;In.prototype.open=In.prototype.m;In.prototype.close=In.prototype.close;Ah.NO_ERROR=0;Ah.TIMEOUT=8;Ah.HTTP_ERROR=6;HS.COMPLETE="complete";WS.EventType=_c;_c.OPEN="a";_c.CLOSE="b";_c.ERROR="c";_c.MESSAGE="d";wt.prototype.listen=wt.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;ar.prototype.digest=ar.prototype.l;ar.prototype.reset=ar.prototype.reset;ar.prototype.update=ar.prototype.j;je.prototype.add=je.prototype.add;je.prototype.multiply=je.prototype.R;je.prototype.modulo=je.prototype.gb;je.prototype.compare=je.prototype.X;je.prototype.toNumber=je.prototype.ea;je.prototype.toString=je.prototype.toString;je.prototype.getBits=je.prototype.D;je.fromNumber=mr;je.fromString=N1;var YO=function(){return new Sd},QO=function(){return Ph()},np=Ah,XO=HS,JO=Gi,fb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},cu=WS,ZO=Je,eL=ar,Da=je;const pb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new _h("@firebase/firestore");function Mo(){return Pi.logLevel}function q(t,...e){if(Pi.logLevel<=ge.DEBUG){const n=e.map(sy);Pi.debug(`Firestore (${yo}): ${t}`,...n)}}function Nr(t,...e){if(Pi.logLevel<=ge.ERROR){const n=e.map(sy);Pi.error(`Firestore (${yo}): ${t}`,...n)}}function Ja(t,...e){if(Pi.logLevel<=ge.WARN){const n=e.map(sy);Pi.warn(`Firestore (${yo}): ${t}`,...n)}}function sy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+t;throw Nr(e),new Error(e)}function ke(t,e){t||ae()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Gn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class nL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rL{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new j1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Ot(e)}}class sL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new aL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=lL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Za(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new ft(0,0))}static max(){return new le(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends Zl{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const cL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Zl{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return cL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Y(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Y(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Oe.fromString(e))}static fromName(e){return new te(Oe.fromString(e).popFirst(5))}static empty(){return new te(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Oe(e.slice()))}}function uL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Fs(s,te.empty(),e)}function dL(t){return new Fs(t.readTime,t.key,-1)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(le.min(),te.empty(),-1)}static max(){return new Fs(le.max(),te.empty(),-1)}}function hL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==fL)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new xr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new pl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=ay(r.target.error);this.V.reject(new pl(e,s))}}static open(e,n,r,s){try{return new iy(n,e.transaction(s,r))}catch(i){throw new pl(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new gL(n)}}class hi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,hi.S(lt())===12.2&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return q("SimpleDb","Removing database:",e),ii(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dv())return!1;if(hi.C())return!0;const e=lt(),n=hi.S(e),r=0<n&&n<10,s=hi.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new pl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new Y(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Y(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new pl(e,a))},s.onupgradeneeded=i=>{q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.p.N(a,s.transaction,i.oldVersion,this.version).next(()=>{q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const l=iy.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),U.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&a<3;if(q("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class mL{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ii(this.k.delete())}}class pl extends Y{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function jc(t){return t.name==="IndexedDbTransactionError"}class gL{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ii(r)}add(e){return q("SimpleDb","ADD",this.store.name,e,e),ii(this.store.add(e))}get(e){return ii(this.store.get(e)).next(n=>(n===void 0&&(n=null),q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return q("SimpleDb","DELETE",this.store.name,e),ii(this.store.delete(e))}count(){return q("SimpleDb","COUNT",this.store.name),ii(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new U((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}})}{const i=this.cursor(r),a=[];return this.G(i,(l,c)=>{a.push(c)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}H(e,n){q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,a,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new U((r,s)=>{n.onerror=i=>{const a=ay(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():r()}):r()}})}G(e,n){const r=[];return new U((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void s();const c=new mL(l),u=n(l.primaryKey,l.value,c);if(u instanceof U){const d=u.catch(h=>(c.done(),U.reject(h)));r.push(d)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ii(t){return new U((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=ay(r.target.error);n(s)}})}let mb=!1;function ay(t){const e=hi.S(lt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mb||(mb=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}oy._e=-1;function Uh(t){return t==null}function jd(t){return t===0&&1/t==-1/0}function vL(t){return typeof t=="number"&&Number.isInteger(t)&&!jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=s??Tt.EMPTY,this.right=i??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Tt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(e){return new vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Ct(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new A1("Invalid base64 string: "+i):i}}(e);return new $t(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const yL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(ke(!!t),typeof t=="string"){let e=0;const n=yL.exec(t);if(ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ai(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cy(t){const e=t.mapValue.fields.__previous_value__;return ly(e)?cy(e):e}function ec(t){const e=Us(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,s,i,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ly(t)?4:xL(t)?9007199254740991:10:ae()}function jr(t,e){if(t===e)return!0;const n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Us(s.timestampValue),l=Us(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ai(s.bytesValue).isEqual(Ai(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=rt(s.doubleValue),l=rt(i.doubleValue);return a===l?jd(a)===jd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Za(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(gb(a)!==gb(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!jr(a[c],l[c])))return!1;return!0}(t,e);default:return ae()}}function nc(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function eo(t,e){if(t===e)return 0;const n=ki(t),r=ki(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=rt(i.integerValue||i.doubleValue),c=rt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return yb(t.timestampValue,e.timestampValue);case 4:return yb(ec(t),ec(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ai(i),c=Ai(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Te(l[u],c[u]);if(d!==0)return d}return Te(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Te(rt(i.latitude),rt(a.latitude));return l!==0?l:Te(rt(i.longitude),rt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],c=a.values||[];for(let u=0;u<l.length&&u<c.length;++u){const d=eo(l[u],c[u]);if(d)return d}return Te(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===du.mapValue&&a===du.mapValue)return 0;if(i===du.mapValue)return 1;if(a===du.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=Te(c[h],d[h]);if(f!==0)return f;const p=eo(l[c[h]],u[d[h]]);if(p!==0)return p}return Te(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function yb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Us(t),r=Us(e),s=Te(n.seconds,r.seconds);return s!==0?s:Te(n.nanos,r.nanos)}function to(t){return Gm(t)}function Gm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ai(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Gm(n.fields[a])}`;return s+"}"}(t.mapValue):ae()}function wb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Km(t){return!!t&&"integerValue"in t}function uy(t){return!!t&&"arrayValue"in t}function xb(t){return!!t&&"nullValue"in t}function bb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Du(t){return!!t&&"mapValue"in t}function ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=ml(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Du(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new on(ml(this.value))}}function k1(t){const e=[];return Ki(t.fields,(n,r)=>{const s=new It([n]);if(Du(r)){const i=k1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Mt(e,0,le.min(),le.min(),le.min(),on.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,le.min(),le.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,le.min(),le.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.position=e,this.inclusive=n}}function _b(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(a.referenceValue),n.key):r=eo(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Eb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function bL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class it extends R1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EL(e,n,r):n==="array-contains"?new IL(e,r):n==="in"?new NL(e,r):n==="not-in"?new jL(e,r):n==="array-contains-any"?new CL(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TL(e,r):new SL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(eo(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends R1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new or(e,n)}matches(e){return D1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function D1(t){return t.op==="and"}function O1(t){return _L(t)&&D1(t)}function _L(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function Ym(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+to(t.value);if(O1(t))return t.filters.map(e=>Ym(e)).join(",");{const e=t.filters.map(n=>Ym(n)).join(",");return`${t.op}(${e})`}}function L1(t,e){return t instanceof it?function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&jr(r.value,s.value)}(t,e):t instanceof or?function(r,s){return s instanceof or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&L1(a,s.filters[l]),!0):!1}(t,e):void ae()}function M1(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(t):t instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(M1).join(" ,")+"}"}(t):"Filter"}class EL extends it{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class TL extends it{constructor(e,n){super(e,"in",n),this.keys=V1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SL extends it{constructor(e,n){super(e,"not-in",n),this.keys=V1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class IL extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uy(n)&&nc(n.arrayValue,this.value)}}class NL extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class jL extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}}class CL extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ce=null}}function Tb(t,e=null,n=[],r=[],s=null,i=null,a=null){return new PL(t,e,n,r,s,i,a)}function dy(t){const e=de(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ym(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>to(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>to(r)).join(",")),e.ce=n}return e.ce}function hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!L1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eb(t.startAt,e.startAt)&&Eb(t.endAt,e.endAt)}function Qm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function AL(t,e,n,r,s,i,a,l){return new Cc(t,e,n,r,s,i,a,l)}function fy(t){return new Cc(t)}function Sb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F1(t){return t.collectionGroup!==null}function gl(t){const e=de(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ct(It.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Pd(i,r))}),n.has(It.keyField().canonicalString())||e.le.push(new Pd(It.keyField(),r))}return e.le}function br(t){const e=de(t);return e.he||(e.he=kL(e,gl(t))),e.he}function kL(t,e){if(t.limitType==="F")return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Pd(s.field,i)});const n=t.endAt?new Cd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cd(t.startAt.position,t.startAt.inclusive):null;return Tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e){const n=t.filters.concat([e]);return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jm(t,e,n){return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return hy(br(t),br(e))&&t.limitType===e.limitType}function U1(t){return`${dy(br(t))}|lt:${t.limitType}`}function ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>M1(s)).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>to(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>to(s)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of gl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=_b(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,gl(r),s)||r.endAt&&!function(a,l,c){const u=_b(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,gl(r),s))}(t,e)}function RL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $1(t){return(e,n)=>{let r=!1;for(const s of gl(t)){const i=DL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function DL(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?eo(c,u):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new Ye(te.comparator);function Jr(){return OL}const B1=new Ye(te.comparator);function el(...t){let e=B1;for(const n of t)e=e.insert(n.key,n);return e}function z1(t){let e=B1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return vl()}function H1(){return vl()}function vl(){return new wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const LL=new Ye(te.comparator),ML=new Ct(te.comparator);function pe(...t){let e=ML;for(const n of t)e=e.add(n);return e}const VL=new Ct(Te);function FL(){return VL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function q1(t){return{integerValue:""+t}}function UL(t,e){return vL(e)?q1(e):W1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function $L(t,e,n){return t instanceof Ad?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ly(i)&&(i=cy(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof no?K1(t,e):t instanceof ro?Y1(t,e):function(s,i){const a=G1(s,i),l=Ib(a)+Ib(s.Ie);return Km(a)&&Km(s.Ie)?q1(l):W1(s.serializer,l)}(t,e)}function BL(t,e,n){return t instanceof no?K1(t,e):t instanceof ro?Y1(t,e):n}function G1(t,e){return t instanceof kd?function(r){return Km(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ad extends zh{}class no extends zh{constructor(e){super(),this.elements=e}}function K1(t,e){const n=Q1(e);for(const r of t.elements)n.some(s=>jr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ro extends zh{constructor(e){super(),this.elements=e}}function Y1(t,e){let n=Q1(e);for(const r of t.elements)n=n.filter(s=>!jr(s,r));return{arrayValue:{values:n}}}class kd extends zh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ib(t){return rt(t.integerValue||t.doubleValue)}function Q1(t){return uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.field=e,this.transform=n}}function zL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof no&&s instanceof no||r instanceof ro&&s instanceof ro?Za(r.elements,s.elements,jr):r instanceof kd&&s instanceof kd?jr(r.Ie,s.Ie):r instanceof Ad&&s instanceof Ad}(t.transform,e.transform)}class HL{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hh{}function J1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new py(t.key,Bn.none()):new Pc(t.key,t.data,Bn.none());{const n=t.data,r=on.empty();let s=new Ct(It.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Qs(t.key,r,new xn(s.toArray()),Bn.none())}}function WL(t,e,n){t instanceof Pc?function(s,i,a){const l=s.value.clone(),c=jb(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Qs?function(s,i,a){if(!Ou(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=jb(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(Z1(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function yl(t,e,n,r){return t instanceof Pc?function(i,a,l,c){if(!Ou(i.precondition,a))return l;const u=i.value.clone(),d=Cb(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qs?function(i,a,l,c){if(!Ou(i.precondition,a))return l;const u=Cb(i.fieldTransforms,c,a),d=a.data;return d.setAll(Z1(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,a,l){return Ou(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function qL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=G1(r.transform,s||null);i!=null&&(n===null&&(n=on.empty()),n.set(r.field,i))}return n||null}function Nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Za(r,s,(i,a)=>zL(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pc extends Hh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qs extends Hh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jb(t,e,n){const r=new Map;ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,BL(a,l,n[s]))}return r}function Cb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,$L(i,a,e))}return r}class py extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GL extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&WL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=H1();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=J1(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(n,r)=>Nb(n,r))&&Za(this.baseMutations,e.baseMutations,(n,r)=>Nb(n,r))}}class my{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length);let s=function(){return LL}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new my(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,ye;function XL(t){switch(t){default:return ae();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function eI(t){if(t===void 0)return Nr("GRPC error has no .code"),V.UNKNOWN;switch(t){case nt.OK:return V.OK;case nt.CANCELLED:return V.CANCELLED;case nt.UNKNOWN:return V.UNKNOWN;case nt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case nt.INTERNAL:return V.INTERNAL;case nt.UNAVAILABLE:return V.UNAVAILABLE;case nt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case nt.NOT_FOUND:return V.NOT_FOUND;case nt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case nt.ABORTED:return V.ABORTED;case nt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case nt.DATA_LOSS:return V.DATA_LOSS;default:return ae()}}(ye=nt||(nt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new Da([4294967295,4294967295],0);function Pb(t){const e=JL().encode(t),n=new eL;return n.update(e),new Uint8Array(n.digest())}function Ab(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Da([n,r],0),new Da([s,i],0)]}class gy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tl(`Invalid padding: ${n}`);if(r<0)throw new tl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Da.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Da.fromNumber(r)));return s.compare(ZL)===1&&(s=new Da([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Pb(e),[r,s]=Ab(n);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new gy(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;const n=Pb(e),[r,s]=Ab(n);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wh(le.min(),s,new Ye(Te),Jr(),pe())}}class Ac{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ac(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class tI{constructor(e,n){this.targetId=e,this.fe=n}}class nI{constructor(e,n,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class kb{constructor(){this.ge=0,this.pe=Db(),this.ye=$t.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pe(),n=pe(),r=pe();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae()}}),new Ac(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Db()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class eM{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jr(),this.Qe=Rb(),this.Ke=new Ye(Te)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Qm(i))if(r===0){const a=new te(i.path);this.We(n,a,Mt.newNoDocument(a,le.min()))}else ke(r===1);else{const a=this.Ze(n);if(a!==r){const l=this.Xe(e),c=l?this.et(l,e,a):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Ai(r).toUint8Array()}catch(c){if(c instanceof A1)return Ja("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new gy(a,s,i)}catch(c){return Ja(c instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,a)=>{const l=this.Ye(a);if(l){if(i.current&&Qm(l.target)){const c=new te(l.target.path);this.qe.get(c)!==null||this.st(a,c)||this.We(a,c,Mt.newNoDocument(c,e))}i.De&&(n.set(a,i.ve()),i.Fe())}});let r=pe();this.Qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,a)=>a.setReadTime(e));const s=new Wh(e,n,this.Ke,this.qe,r);return this.qe=Jr(),this.Qe=Rb(),this.Ke=new Ye(Te),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new kb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ct(Te),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new kb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Rb(){return new Ye(te.comparator)}function Db(){return new Ye(te.comparator)}const tM={asc:"ASCENDING",desc:"DESCENDING"},nM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rM={and:"AND",or:"OR"};class sM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(t,e){return t.useProto3Json||Uh(e)?e:{value:e}}function Rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iM(t,e){return Rd(t,e.toTimestamp())}function _r(t){return ke(!!t),le.fromTimestamp(function(n){const r=Us(n);return new ft(r.seconds,r.nanos)}(t))}function vy(t,e){return eg(t,e).canonicalString()}function eg(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sI(t){const e=Oe.fromString(t);return ke(cI(e)),e}function tg(t,e){return vy(t.databaseId,e.path)}function rp(t,e){const n=sI(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(aI(n))}function iI(t,e){return vy(t.databaseId,e)}function aM(t){const e=sI(t);return e.length===4?Oe.emptyPath():aI(e)}function ng(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aI(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ob(t,e,n){return{name:tg(t,e),fields:n.value.mapValue.fields}}function oM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(ke(d===void 0||typeof d=="string"),$t.fromBase64String(d||"")):(ke(d===void 0||d instanceof Uint8Array),$t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?V.UNKNOWN:eI(u.code);return new Y(d,u.message||"")}(a);n=new nI(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=rp(t,r.document.name),i=_r(r.document.updateTime),a=r.document.createTime?_r(r.document.createTime):le.min(),l=new on({mapValue:{fields:r.document.fields}}),c=Mt.newFoundDocument(s,i,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Lu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=rp(t,r.document),i=r.readTime?_r(r.readTime):le.min(),a=Mt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Lu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=rp(t,r.document),i=r.removedTargetIds||[];n=new Lu([],i,s,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new QL(s,i),l=r.targetId;n=new tI(l,a)}}return n}function lM(t,e){let n;if(e instanceof Pc)n={update:Ob(t,e.key,e.value)};else if(e instanceof py)n={delete:tg(t,e.key)};else if(e instanceof Qs)n={update:Ob(t,e.key,e.data),updateMask:vM(e.fieldMask)};else{if(!(e instanceof GL))return ae();n={verify:tg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Ad)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof no)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ro)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kd)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:iM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function cM(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?_r(s.updateTime):_r(i);return a.isEqual(le.min())&&(a=_r(i)),new HL(a,s.transformResults||[])}(n,e))):[]}function uM(t,e){return{documents:[iI(t,e.path)]}}function dM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iI(t,s);const i=function(u){if(u.length!==0)return lI(or.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:ua(f.field),direction:pM(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Zm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:s}}function hM(t){let e=aM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=oI(h);return f instanceof or&&O1(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(g){return new Pd(da(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Uh(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Cd(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Cd(p,f)}(n.endAt)),AL(e,s,a,i,l,"F",c,u)}function fM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=da(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=da(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=da(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=da(n.unaryFilter.field);return it.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return it.create(da(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(r=>oI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function pM(t){return tM[t]}function mM(t){return nM[t]}function gM(t){return rM[t]}function ua(t){return{fieldPath:t.canonicalString()}}function da(t){return It.fromServerFormat(t.fieldPath)}function lI(t){return t instanceof it?function(n){if(n.op==="=="){if(bb(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(xb(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bb(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(xb(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:mM(n.op),value:n.value}}}(t):t instanceof or?function(n){const r=n.getFilters().map(s=>lI(s));return r.length===1?r[0]:{compositeFilter:{op:gM(n.op),filters:r}}}(t):ae()}function vM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,s,i=le.min(),a=le.min(),l=$t.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.ct=e}}function wM(t){const e=hM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this._n=new bM}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Fs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class bM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ct(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ct(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new so(0)}static Bn(){return new so(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.changes=new wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&yl(r.mutation,s,xn.empty(),ft.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=el();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Jr();const a=vl(),l=function(){return vl()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Qs)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),yl(d.mutation,u,d.mutation.getFieldMask(),ft.now())):a.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new EM(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=vl();let s=new Ye((a,l)=>a-l),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||xn.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||pe()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=H1();d.forEach(f=>{if(!i.has(f)){const p=J1(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return te.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(fi());let l=-1,c=i;return a.next(u=>U.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,pe())).next(d=>({batchId:l,changes:z1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=el();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=el();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,c=>{const u=function(h,f){return new Cc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Mt.newInvalidDocument(d)))});let l=el();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&yl(d.mutation,u,xn.empty(),ft.now()),Bh(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_r(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:wM(s.bundledQuery),readTime:_r(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.overlays=new Ye(te.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=fi(),i=n.length+1,a=new te(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=fi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=fi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return U.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new YL(n,r));let i=this.hr.get(n);i===void 0&&(i=pe(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Pr=new Ct(mt.Ir),this.Tr=new Ct(mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new mt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new Oe([])),r=new mt(n,e),s=new mt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],a=>{this.Ar(a),i.push(a.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new Oe([])),r=new mt(n,e),s=new mt(n,e+1);let i=pe();return this.Tr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new mt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||Te(e.pr,n.pr)}static Er(e,n){return Te(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ct(mt.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new KL(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.wr=this.wr.add(new mt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),s=new mt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],a=>{const l=this.Sr(a.pr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Te);return n.forEach(s=>{const i=new mt(s,0),a=new mt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,a],l=>{r=r.add(l.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const a=new mt(new te(i),0);let l=new Ct(Te);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.pr)),!0)},a),U.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,s=>{const i=new mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new mt(n,0),s=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.vr=e,this.docs=function(){return new Ye(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jr();const a=n.path,l=new te(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||hL(dL(d),r)<=0||(s.has(d.key)||Bh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CM(this)}getSize(e){return U.resolve(this.size)}}class CM extends _M{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.persistence=e,this.Mr=new wo(n=>dy(n),hy),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Or=0,this.Nr=new yy,this.targetCount=0,this.Br=so.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new so(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.Lr={},this.overlays={},this.kr=new oy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new PM(this),this.indexManager=new xM,this.remoteDocumentCache=function(s){return new jM(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new yM(n),this.$r=new SM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new NM(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new kM(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return U.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class kM extends pL{constructor(e){super(),this.currentSequenceNumber=e}}class wy{constructor(e){this.persistence=e,this.zr=new yy,this.jr=null}static Hr(e){return new wy(e)}get Jr(){if(this.jr)return this.jr;throw ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const s=te.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new xy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return kR()?8:hi.v(lt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new RM;return this.Ji(e,n,a).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Mo()<=ge.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(Mo()<=ge.DEBUG&&q("QueryEngine","Query:",ca(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Mo()<=ge.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):U.resolve())}ji(e,n){if(Sb(n))return U.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Jm(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=pe(...i);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,a,c.readTime)?this.ji(e,Jm(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,s){return Sb(n)||s.isEqual(le.min())?U.resolve(null):this.zi.getDocuments(e,r).next(i=>{const a=this.Zi(n,i);return this.Xi(n,a,r,s)?U.resolve(null):(Mo()<=ge.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ca(n)),this.es(e,a,n,uL(s,-1)).next(l=>l))})}Zi(e,n){let r=new Ct($1(e));return n.forEach((s,i)=>{Bh(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Mo()<=ge.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ca(n)),this.zi.getDocumentsMatchingQuery(e,n,Fs.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Ye(Te),this.rs=new wo(i=>dy(i),hy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function LM(t,e,n,r){return new OM(t,e,n,r)}async function uI(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=pe();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:a,addedBatchIds:l}))})})}function MM(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let p=U.resolve();return f.forEach(g=>{p=p.next(()=>d.getEntry(c,g)).next(w=>{const y=u.docVersions.get(g);ke(y!==null),w.version.compareTo(y)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=pe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dI(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function VM(t,e){const n=de(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken($t.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(w,y,m){return w.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,d)&&l.push(n.Qr.updateTargetData(i,p))});let c=Jr(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(FM(i,a,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(le.min())){const d=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return U.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.ns=s,i))}function FM(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Jr();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:a,ls:s}})}function UM(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $M(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Qr.allocateTargetId(r).next(a=>(s=new ws(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function rg(t,e,n){const r=de(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!jc(a))throw a;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function Lb(t,e,n){const r=de(t);let s=le.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=de(c),f=h.rs.get(d);return f!==void 0?U.resolve(h.ns.get(f)):h.Qr.getTargetData(u,d)}(r,a,br(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?s:le.min(),n?i:pe())).next(l=>(BM(r,RL(e),l),{documents:l,hs:i})))}function BM(t,e,n){let r=t.ss.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class Mb{constructor(){this.activeTargetIds=FL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zM{constructor(){this.no=new Mb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Mb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu=null;function sp(){return hu===null?hu=function(){return 268435456+Math.round(2147483648*Math.random())}():hu++,"0x"+hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class GM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,a){const l=sp(),c=this.bo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,a),this.Co(n,c,u,s).then(d=>(q("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Ja("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}vo(n,r,s,i,a,l){return this.So(n,r,s,i,a)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}bo(n,r){const s=WM[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=sp();return new Promise((a,l)=>{const c=new ZO;c.setWithCredentials(!0),c.listenOnce(XO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case np.NO_ERROR:const d=c.getResponseJson();q(Rt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case np.TIMEOUT:q(Rt,`RPC '${e}' ${i} timed out`),l(new Y(V.DEADLINE_EXCEEDED,"Request time out"));break;case np.HTTP_ERROR:const h=c.getStatus();if(q(Rt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(m)>=0?m:V.UNKNOWN}(p.status);l(new Y(g,p.message))}else l(new Y(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Y(V.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{q(Rt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);q(Rt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=sp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=YO(),l=QO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");q(Rt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=a.createWebChannel(d,c);let f=!1,p=!1;const g=new qM({lo:y=>{p?q(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(f||(q(Rt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),q(Rt,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},ho:()=>h.close()}),w=(y,m,v)=>{y.listen(m,x=>{try{v(x)}catch(b){setTimeout(()=>{throw b},0)}})};return w(h,cu.EventType.OPEN,()=>{p||q(Rt,`RPC '${e}' stream ${s} transport opened.`)}),w(h,cu.EventType.CLOSE,()=>{p||(p=!0,q(Rt,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),w(h,cu.EventType.ERROR,y=>{p||(p=!0,Ja(Rt,`RPC '${e}' stream ${s} transport errored:`,y),g.Vo(new Y(V.UNAVAILABLE,"The operation could not be completed")))}),w(h,cu.EventType.MESSAGE,y=>{var m;if(!p){const v=y.data[0];ke(!!v);const x=v,b=x.error||((m=x[0])===null||m===void 0?void 0:m.error);if(b){q(Rt,`RPC '${e}' stream ${s} received error:`,b);const I=b.status;let _=function(T){const S=nt[T];if(S!==void 0)return eI(S)}(I),j=b.message;_===void 0&&(_=V.INTERNAL,j="Unknown error status: "+I+" with message "+b.message),p=!0,g.Vo(new Y(_,j)),h.close()}else q(Rt,`RPC '${e}' stream ${s} received:`,v),g.mo(v)}}),w(l,JO.STAT_EVENT,y=>{y.stat===fb.PROXY?q(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===fb.NOPROXY&&q(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new sM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r,s,i,a,l,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new hI(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new Y(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KM extends fI{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=oM(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?le.min():a.readTime?_r(a.readTime):le.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=ng(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Qm(c)?{documents:uM(i,c)}:{query:dM(i,c).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=rI(i,a.resumeToken);const u=Zm(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(le.min())>0){l.readTime=Rd(i,a.snapshotVersion.toTimestamp());const u=Zm(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=fM(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=ng(this.serializer),n.removeTarget=e,this.t_(n)}}class YM extends fI{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=cM(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.T_(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=ng(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.So(e,eg(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(V.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,eg(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(V.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class XM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Nr(n),this.g_=!1):q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(a=>{r.enqueueAndForget(async()=>{Yi(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=de(c);u.v_.add(4),await kc(u),u.x_.set("Unknown"),u.v_.delete(4),await Gh(u)}(this))})}),this.x_=new XM(r,s)}}async function Gh(t){if(Yi(t))for(const e of t.F_)await e(!0)}async function kc(t){for(const e of t.F_)await e(!1)}function pI(t,e){const n=de(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ey(n)?_y(n):xo(n).Jo()&&by(n,e))}function mI(t,e){const n=de(t),r=xo(n);n.C_.delete(e),r.Jo()&&gI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Yi(n)&&n.x_.set("Unknown"))}function by(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(t).c_(e)}function gI(t,e){t.O_.Oe(e),xo(t).l_(e)}function _y(t){t.O_=new eM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),xo(t).start(),t.x_.p_()}function Ey(t){return Yi(t)&&!xo(t).Ho()&&t.C_.size>0}function Yi(t){return de(t).v_.size===0}function vI(t){t.O_=void 0}async function ZM(t){t.C_.forEach((e,n)=>{by(t,e)})}async function eV(t,e){vI(t),Ey(t)?(t.x_.S_(e),_y(t)):t.x_.set("Unknown")}async function tV(t,e,n){if(t.x_.set("Online"),e instanceof nI&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dd(t,r)}else if(e instanceof Lu?t.O_.$e(e):e instanceof tI?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(le.min()))try{const r=await dI(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.O_.it(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.C_.get(u);d&&i.C_.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.C_.get(c);if(!d)return;i.C_.set(c,d.withResumeToken($t.EMPTY_BYTE_STRING,d.snapshotVersion)),gI(i,c);const h=new ws(d.target,c,u,d.sequenceNumber);by(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Dd(t,r)}}async function Dd(t,e,n){if(!jc(e))throw e;t.v_.add(1),await kc(t),t.x_.set("Offline"),n||(n=()=>dI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Gh(t)})}function yI(t,e){return e().catch(n=>Dd(t,n,e))}async function Kh(t){const e=de(t),n=$s(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;nV(e);)try{const s=await UM(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,rV(e,s)}catch(s){await Dd(e,s)}wI(e)&&xI(e)}function nV(t){return Yi(t)&&t.D_.length<10}function rV(t,e){t.D_.push(e);const n=$s(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function wI(t){return Yi(t)&&!$s(t).Ho()&&t.D_.length>0}function xI(t){$s(t).start()}async function sV(t){$s(t).d_()}async function iV(t){const e=$s(t);for(const n of t.D_)e.I_(n.mutations)}async function aV(t,e,n){const r=t.D_.shift(),s=my.from(r,e,n);await yI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Kh(t)}async function oV(t,e){e&&$s(t).P_&&await async function(r,s){if(function(a){return XL(a)&&a!==V.ABORTED}(s.code)){const i=r.D_.shift();$s(r).Zo(),await yI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Kh(r)}}(t,e),wI(t)&&xI(t)}async function Fb(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Yi(n);n.v_.add(3),await kc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Gh(n)}async function lV(t,e){const n=de(t);e?(n.v_.delete(2),await Gh(n)):e||(n.v_.add(2),await kc(n),n.x_.set("Unknown"))}function xo(t){return t.N_||(t.N_=function(n,r,s){const i=de(n);return i.R_(),new KM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:ZM.bind(null,t),To:eV.bind(null,t),u_:tV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Ey(t)?_y(t):t.x_.set("Unknown")):(await t.N_.stop(),vI(t))})),t.N_}function $s(t){return t.B_||(t.B_=function(n,r,s){const i=de(n);return i.R_(),new YM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:sV.bind(null,t),To:oV.bind(null,t),E_:iV.bind(null,t),T_:aV.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Kh(t)):(await t.B_.stop(),t.D_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new Ty(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sy(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),jc(t))return new Y(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=el(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Oa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.L_=new Ye(te.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ae():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class io{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new io(e,n,Oa.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.q_=void 0,this.Q_=[]}}class uV{constructor(){this.queries=new wo(e=>U1(e),$h),this.onlineState="Unknown",this.K_=new Set}}async function bI(t,e){const n=de(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new cV),s)try{i.q_=await n.onListen(r)}catch(a){const l=Sy(a,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&Iy(n)}async function _I(t,e){const n=de(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const a=i.Q_.indexOf(e);a>=0&&(i.Q_.splice(a,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function dV(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Q_)l.W_(s)&&(r=!0);a.q_=s}}r&&Iy(n)}function hV(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function Iy(t){t.K_.forEach(e=>{e.next()})}class EI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class fV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=pe(),this.mutatedKeys=pe(),this.ua=$1(e),this.ca=new Oa(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Ub,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=Bh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?g!==w&&(r.track({type:3,doc:p}),y=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),y=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(c||u)&&(l=!0)),y&&(p?(a=a.add(p),i=w?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ca:a,Pa:r,Xi:l,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.k_();a.sort((d,h)=>function(p,g){const w=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return w(p)-w(g)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(r),s=s!=null&&s;const l=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,u=c!==this._a;return this._a=c,a.length!==0||u?{snapshot:new io(this.query,e.ca,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ub,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=pe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new SI(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new TI(r))}),n}Ra(e){this.oa=e.hs,this.aa=pe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return io.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class pV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mV{constructor(e){this.key=e,this.ma=!1}}class gV{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new wo(l=>U1(l),$h),this.pa=new Map,this.ya=new Set,this.wa=new Ye(te.comparator),this.Sa=new Map,this.ba=new yy,this.Da={},this.Ca=new Map,this.va=so.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function vV(t,e){const n=NV(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const a=await $M(n.localStore,br(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,s=await yV(n,e,r,l==="current",a.resumeToken),n.isPrimaryClient&&pI(n.remoteStore,a)}return s}async function yV(t,e,n,r,s){t.Ma=(h,f,p)=>async function(w,y,m,v){let x=y.view.ha(m);x.Xi&&(x=await Lb(w.localStore,y.query,!1).then(({documents:j})=>y.view.ha(j,x)));const b=v&&v.targetChanges.get(y.targetId),I=v&&v.targetMismatches.get(y.targetId)!=null,_=y.view.applyChanges(x,w.isPrimaryClient,b,I);return Bb(w,y.targetId,_.da),_.snapshot}(t,h,f,p);const i=await Lb(t.localStore,e,!0),a=new fV(e,i.hs),l=a.ha(i.documents),c=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);Bb(t,n,u.da);const d=new pV(e,n,a);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function wV(t,e){const n=de(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!$h(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await rg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),mI(n.remoteStore,r.targetId),sg(n,r.targetId)}).catch(Nc)):(sg(n,r.targetId),await rg(n.localStore,r.targetId,!0))}async function xV(t,e,n){const r=jV(t);try{const s=await function(a,l){const c=de(a),u=ft.now(),d=l.reduce((p,g)=>p.add(g.key),pe());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Jr(),w=pe();return c.os.getEntries(p,d).next(y=>{g=y,g.forEach((m,v)=>{v.isValidDocument()||(w=w.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(y=>{h=y;const m=[];for(const v of l){const x=qL(v,h.get(v.key).overlayedDocument);x!=null&&m.push(new Qs(v.key,x,k1(x.value.mapValue),Bn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,m,l)}).next(y=>{f=y;const m=y.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(p,y.batchId,m)})}).then(()=>({batchId:f.batchId,changes:z1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Da[a.currentUser.toKey()];u||(u=new Ye(Te)),u=u.insert(l,c),a.Da[a.currentUser.toKey()]=u}(r,s.batchId,n),await Rc(r,s.changes),await Kh(r.remoteStore)}catch(s){const i=Sy(s,"Failed to persist write");n.reject(i)}}async function II(t,e){const n=de(t);try{const r=await VM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Sa.get(i);a&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.ma=!0:s.modifiedDocuments.size>0?ke(a.ma):s.removedDocuments.size>0&&(ke(a.ma),a.ma=!1))}),await Rc(n,r,e)}catch(r){await Nc(r)}}function $b(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,a)=>{const l=a.view.U_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=de(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Q_)f.U_(l)&&(u=!0)}),u&&Iy(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bV(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let a=new Ye(te.comparator);a=a.insert(i,Mt.newNoDocument(i,le.min()));const l=pe().add(i),c=new Wh(le.min(),new Map,new Ye(Te),a,l);await II(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),Ny(r)}else await rg(r.localStore,e,!1).then(()=>sg(r,e,n)).catch(Nc)}async function _V(t,e){const n=de(t),r=e.batch.batchId;try{const s=await MM(n.localStore,e);jI(n,r,null),NI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,s)}catch(s){await Nc(s)}}async function EV(t,e,n){const r=de(t);try{const s=await function(a,l){const c=de(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(ke(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);jI(r,e,n),NI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rc(r,s)}catch(s){await Nc(s)}}function NI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function jI(t,e,n){const r=de(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||CI(t,r)})}function CI(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(mI(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Ny(t))}function Bb(t,e,n){for(const r of n)r instanceof TI?(t.ba.addReference(r.key,e),TV(t,r)):r instanceof SI?(q("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||CI(t,r.key)):ae()}function TV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(q("SyncEngine","New document in limbo: "+n),t.ya.add(r),Ny(t))}function Ny(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new te(Oe.fromString(e)),r=t.va.next();t.Sa.set(r,new mV(n)),t.wa=t.wa.insert(n,r),pI(t.remoteStore,new ws(br(fy(n.path)),r,"TargetPurposeLimboResolution",oy._e))}}async function Rc(t,e,n){const r=de(t),s=[],i=[],a=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{a.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=xy.Ki(c.targetId,u);i.push(d)}}))}),await Promise.all(a),r.fa.u_(s),await async function(c,u){const d=de(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,f=>U.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>U.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!jc(h))throw h;q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);d.ns=d.ns.insert(f,w)}}}(r.localStore,i))}async function SV(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await uI(n.localStore,e);n.currentUser=e,function(i,a){i.Ca.forEach(l=>{l.forEach(c=>{c.reject(new Y(V.CANCELLED,a))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.us)}}function IV(t,e){const n=de(t),r=n.Sa.get(e);if(r&&r.ma)return pe().add(r.key);{let s=pe();const i=n.pa.get(e);if(!i)return s;for(const a of i){const l=n.ga.get(a);s=s.unionWith(l.view.la)}return s}}function NV(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=II.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bV.bind(null,e),e.fa.u_=dV.bind(null,e.eventManager),e.fa.xa=hV.bind(null,e.eventManager),e}function jV(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_V.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EV.bind(null,e),e}class zb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return LM(this.persistence,new DM,e.initialUser,this.serializer)}createPersistence(e){return new AM(wy.Hr,this.serializer)}createSharedClientState(e){return new zM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$b(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SV.bind(null,this.syncEngine),await lV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uV}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=function(i){return new GM(i)}(e.databaseInfo);return function(i,a,l,c){return new QM(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new JM(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>$b(this.syncEngine,n,0),function(){return Vb.D()?new Vb:new HM}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,d){const h=new gV(s,i,a,l,c,u);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=de(r);q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await kc(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ot.UNAUTHENTICATED,this.clientId=C1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ap(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await uI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Hb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kV(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Fb(e.remoteStore,s)),t._onlineComponents=e}function AV(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function kV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!AV(n))throw n;Ja("Error using user provided cache. Falling back to memory cache: "+n),await ap(t,new zb)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await ap(t,new zb);return t._offlineComponents}async function AI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Hb(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Hb(t,new CV))),t._onlineComponents}function RV(t){return AI(t).then(e=>e.syncEngine)}async function kI(t){const e=await AI(t),n=e.eventManager;return n.onListen=vV.bind(null,e.syncEngine),n.onUnlisten=wV.bind(null,e.syncEngine),n}function DV(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new PI({next:f=>{a.enqueueAndForget(()=>_I(i,h));const p=f.docs.has(l);!p&&f.fromCache?u.reject(new Y(V.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new Y(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new EI(fy(l.path),d,{includeMetadataChanges:!0,Z_:!0});return bI(i,h)}(await kI(t),t.asyncQueue,e,n,r)),r.promise}function OV(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new PI({next:f=>{a.enqueueAndForget(()=>_I(i,h)),f.fromCache&&c.source==="server"?u.reject(new Y(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new EI(l,d,{includeMetadataChanges:!0,Z_:!0});return bI(i,h)}(await kI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e,n){if(!n)throw new Y(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LV(t,e,n,r){if(e===!0&&r===!0)throw new Y(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qb(t){if(!te.isDocumentKey(t))throw new Y(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gb(t){if(te.isDocumentKey(t))throw new Y(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(t);throw new Y(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tL;switch(r.type){case"firstParty":return new iL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Wb.get(n);r&&(q("ComponentProvider","Removing Datastore"),Wb.delete(n),r.terminate())}(this),Promise.resolve()}}function MV(t,e,n,r={}){var s;const i=(t=lr(t,Qh))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Ot.MOCK_USER;else{l=gS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Y(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ot(u)}t._authCredentials=new nL(new j1(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class Ds extends bo{constructor(e,n,r){super(e,n,fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new te(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Se(t,e,...n){if(t=Me(t),DI("collection","path",e),t instanceof Qh){const r=Oe.fromString(e,...n);return Gb(r),new Ds(t,null,r)}{if(!(t instanceof Yt||t instanceof Ds))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Gb(r),new Ds(t.firestore,null,r)}}function ct(t,e,...n){if(t=Me(t),arguments.length===1&&(e=C1.newId()),DI("doc","path",e),t instanceof Qh){const r=Oe.fromString(e,...n);return qb(r),new Yt(t,null,new te(r))}{if(!(t instanceof Yt||t instanceof Ds))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return qb(r),new Yt(t.firestore,t instanceof Ds?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new hI(this,"async_queue_retry"),this._u=()=>{const n=ip();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=ip();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new xr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!jc(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Nr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=Ty.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&ae()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Qi extends Qh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new VV}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||OI(this),this._firestoreClient.terminate()}}function FV(t,e){const n=typeof t=="object"?t:Eh(),r=typeof t=="string"?t:e||"(default)",s=Gs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=fS("firestore");i&&MV(s,...i)}return s}function jy(t){return t._firestoreClient||OI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OI(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new wL(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new PV(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao($t.fromBase64String(e))}catch(n){throw new Y(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ao($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=/^__.*__$/;class $V{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(e,this.data,n,this.fieldTransforms)}}class LI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Jh{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.mu(e),s}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.Eu(),s}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Od(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(MI(this.du)&&UV.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class BV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Su(e,n,r,s=!1){return new Jh({du:e,methodName:n,wu:r,path:It.emptyPath(),Vu:!1,yu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new BV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VI(t,e,n,r,s,i={}){const a=t.Su(i.merge||i.mergeFields?2:0,e,n,s);ky("Data must be an object, but it was:",a,r);const l=UI(r,a);let c,u;if(i.merge)c=new xn(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=ig(e,h,n);if(!a.contains(f))throw new Y(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);BI(d,f)||d.push(f)}c=new xn(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new $V(new on(l),c,u)}class ef extends Dc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function FI(t,e,n){return new Jh({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Py extends Dc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=FI(this,e,!0),r=this.bu.map(i=>Xi(i,n)),s=new no(r);return new X1(e.path,s)}isEqual(e){return e instanceof Py&&ji(this.bu,e.bu)}}class Ay extends Dc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=FI(this,e,!0),r=this.bu.map(i=>Xi(i,n)),s=new ro(r);return new X1(e.path,s)}isEqual(e){return e instanceof Ay&&ji(this.bu,e.bu)}}function zV(t,e,n,r){const s=t.Su(1,e,n);ky("Data must be an object, but it was:",s,r);const i=[],a=on.empty();Ki(r,(c,u)=>{const d=Ry(e,c,n);u=Me(u);const h=s.fu(d);if(u instanceof ef)i.push(d);else{const f=Xi(u,h);f!=null&&(i.push(d),a.set(d,f))}});const l=new xn(i);return new LI(a,l,s.fieldTransforms)}function HV(t,e,n,r,s,i){const a=t.Su(1,e,n),l=[ig(e,r,n)],c=[s];if(i.length%2!=0)throw new Y(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(ig(e,i[f])),c.push(i[f+1]);const u=[],d=on.empty();for(let f=l.length-1;f>=0;--f)if(!BI(u,l[f])){const p=l[f];let g=c[f];g=Me(g);const w=a.fu(p);if(g instanceof ef)u.push(p);else{const y=Xi(g,w);y!=null&&(u.push(p),d.set(p,y))}}const h=new xn(u);return new LI(d,h,a.fieldTransforms)}function WV(t,e,n,r=!1){return Xi(n,t.Su(r?4:3,e))}function Xi(t,e){if($I(t=Me(t)))return ky("Unsupported field value:",e,t),UI(t,e);if(t instanceof Dc)return function(r,s){if(!MI(s.du))throw s.pu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.pu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Xi(l,s.gu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ft.fromDate(r);return{timestampValue:Rd(s.serializer,i)}}if(r instanceof ft){const i=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rd(s.serializer,i)}}if(r instanceof Cy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ao)return{bytesValue:rI(s.serializer,r._byteString)};if(r instanceof Yt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.pu(`Unsupported field value: ${Yh(r)}`)}(t,e)}function UI(t,e){const n={};return P1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,s)=>{const i=Xi(s,e.Ru(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Cy||t instanceof ao||t instanceof Yt||t instanceof Dc)}function ky(t,e,n){if(!$I(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Yh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function ig(t,e,n){if((e=Me(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Ry(t,e);throw Od("Field path arguments must be of type string or ",t,!1,void 0,n)}const qV=new RegExp("[~\\*/\\[\\]]");function Ry(t,e,n){if(e.search(qV)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Od(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Y(V.INVALID_ARGUMENT,l+t+c)}function BI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GV extends zI{data(){return super.data()}}function Dy(t,e){return typeof e=="string"?Ry(t,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oy{}class YV extends Oy{}function HI(t,e,...n){let r=[];e instanceof Oy&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Ly).length,l=i.filter(c=>c instanceof tf).length;if(a>1||a>0&&l>0)throw new Y(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class tf extends YV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tf(e,n,r)}_apply(e){const n=this._parse(e);return qI(e._query,n),new bo(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=Zh(e.firestore);return function(i,a,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Qb(h,d);const p=[];for(const g of h)p.push(Yb(c,i,g));f={arrayValue:{values:p}}}else f=Yb(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Qb(h,d),f=WV(l,a,h,d==="in"||d==="not-in");return it.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function WI(t,e,n){const r=e,s=Dy("where",t);return tf._create(s,r,n)}class Ly extends Oy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ly(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)qI(a,c),a=Xm(a,c)}(e._query,n),new bo(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Yb(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F1(e)&&n.indexOf("/")!==-1)throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!te.isDocumentKey(r))throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wb(t,new te(r))}if(n instanceof Yt)return wb(t,n._key);throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function Qb(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qI(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QV{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Cy(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=Us(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);ke(cI(r));const s=new tc(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Nr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KI extends zI{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mu extends KI{data(e={}){return super.data(e)}}class XV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mu(this._firestore,this._userDataWriter,r.key,r,new nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Mu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new nl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Mu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new nl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:JV(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){t=lr(t,Yt);const e=lr(t.firestore,Qi);return DV(jy(e),t._key).then(n=>e2(e,t,n))}class YI extends QV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function Bt(t){t=lr(t,bo);const e=lr(t.firestore,Qi),n=jy(e),r=new YI(e);return KV(t._query),OV(n,t._query).then(s=>new XV(e,r,t,s))}function ZV(t,e,n){t=lr(t,Yt);const r=lr(t.firestore,Qi),s=GI(t.converter,e,n);return nf(r,[VI(Zh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Bn.none())])}function Ri(t,e,n,...r){t=lr(t,Yt);const s=lr(t.firestore,Qi),i=Zh(s);let a;return a=typeof(e=Me(e))=="string"||e instanceof Xh?HV(i,"updateDoc",t._key,e,n,r):zV(i,"updateDoc",t._key,e),nf(s,[a.toMutation(t._key,Bn.exists(!0))])}function Pn(t){return nf(lr(t.firestore,Qi),[new py(t._key,Bn.none())])}function Jt(t,e){const n=lr(t.firestore,Qi),r=ct(t),s=GI(t.converter,e);return nf(n,[VI(Zh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function nf(t,e){return function(r,s){const i=new xr;return r.asyncQueue.enqueueAndForget(async()=>xV(await RV(r),s,i)),i.promise}(jy(t),e)}function e2(t,e,n){const r=n.docs.get(e._key),s=new YI(t);return new KI(t,s,e._key,r,new nl(n.hasPendingWrites,n.fromCache),e.converter)}function t2(...t){return new Py("arrayUnion",t)}function QI(...t){return new Ay("arrayRemove",t)}(function(e,n=!0){(function(s){yo=s})(qi),ir(new Wn("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Qi(new rL(r.getProvider("auth-internal")),new oL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(u.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),hn(pb,"4.4.2",e),hn(pb,"4.4.2","esm2017")})();var n2="firebase",r2="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn(n2,r2,"app");const XI="@firebase/installations",My="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1e4,ZI=`w:${My}`,eN="FIS_v2",s2="https://firebaseinstallations.googleapis.com/v1",i2=60*60*1e3,a2="installations",o2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Di=new Wi(a2,o2,l2);function tN(t){return t instanceof Gn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN({projectId:t}){return`${s2}/projects/${t}/installations`}function rN(t){return{token:t.token,requestStatus:2,expiresIn:u2(t.expiresIn),creationTime:Date.now()}}async function sN(t,e){const r=(await e.json()).error;return Di.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function c2(t,{refreshToken:e}){const n=iN(t);return n.append("Authorization",d2(e)),n}async function aN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function u2(t){return Number(t.replace("s","000"))}function d2(t){return`${eN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nN(t),s=iN(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:eN,appId:t.appId,sdkVersion:ZI},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await aN(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:rN(u.authToken)}}else throw await sN("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=/^[cdef][\w-]{21}$/,ag="";function m2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=g2(t);return p2.test(n)?n:ag}catch{return ag}}function g2(t){return f2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Map;function cN(t,e){const n=rf(t);uN(n,e),v2(n,e)}function uN(t,e){const n=lN.get(t);if(n)for(const r of n)r(e)}function v2(t,e){const n=y2();n&&n.postMessage({key:t,fid:e}),w2()}let pi=null;function y2(){return!pi&&"BroadcastChannel"in self&&(pi=new BroadcastChannel("[Firebase] FID Change"),pi.onmessage=t=>{uN(t.data.key,t.data.fid)}),pi}function w2(){lN.size===0&&pi&&(pi.close(),pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebase-installations-database",b2=1,Oi="firebase-installations-store";let op=null;function Vy(){return op||(op=bS(x2,b2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Oi)}}})),op}async function Ld(t,e){const n=rf(t),s=(await Vy()).transaction(Oi,"readwrite"),i=s.objectStore(Oi),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&cN(t,e.fid),e}async function dN(t){const e=rf(t),r=(await Vy()).transaction(Oi,"readwrite");await r.objectStore(Oi).delete(e),await r.done}async function sf(t,e){const n=rf(t),s=(await Vy()).transaction(Oi,"readwrite"),i=s.objectStore(Oi),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&cN(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t){let e;const n=await sf(t.appConfig,r=>{const s=_2(r),i=E2(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===ag?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _2(t){const e=t||{fid:m2(),registrationStatus:0};return hN(e)}function E2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Di.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=T2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:S2(t)}:{installationEntry:e}}async function T2(t,e){try{const n=await h2(t,e);return Ld(t.appConfig,n)}catch(n){throw tN(n)&&n.customData.serverCode===409?await dN(t.appConfig):await Ld(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function S2(t){let e=await Xb(t.appConfig);for(;e.registrationStatus===1;)await oN(100),e=await Xb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fy(t);return r||n}return e}function Xb(t){return sf(t,e=>{if(!e)throw Di.create("installation-not-found");return hN(e)})}function hN(t){return I2(t)?{fid:t.fid,registrationStatus:0}:t}function I2(t){return t.registrationStatus===1&&t.registrationTime+JI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2({appConfig:t,heartbeatServiceProvider:e},n){const r=j2(t,n),s=c2(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:ZI,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await aN(()=>fetch(r,l));if(c.ok){const u=await c.json();return rN(u)}else throw await sN("Generate Auth Token",c)}function j2(t,{fid:e}){return`${nN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t,e=!1){let n;const r=await sf(t.appConfig,i=>{if(!fN(i))throw Di.create("not-registered");const a=i.authToken;if(!e&&A2(a))return i;if(a.requestStatus===1)return n=C2(t,e),i;{if(!navigator.onLine)throw Di.create("app-offline");const l=R2(i);return n=P2(t,l),l}});return n?await n:r.authToken}async function C2(t,e){let n=await Jb(t.appConfig);for(;n.authToken.requestStatus===1;)await oN(100),n=await Jb(t.appConfig);const r=n.authToken;return r.requestStatus===0?Uy(t,e):r}function Jb(t){return sf(t,e=>{if(!fN(e))throw Di.create("not-registered");const n=e.authToken;return D2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function P2(t,e){try{const n=await N2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ld(t.appConfig,r),n}catch(n){if(tN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ld(t.appConfig,r)}throw n}}function fN(t){return t!==void 0&&t.registrationStatus===2}function A2(t){return t.requestStatus===2&&!k2(t)}function k2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+i2}function R2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function D2(t){return t.requestStatus===1&&t.requestTime+JI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fy(e);return r?r.catch(console.error):Uy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(t,e=!1){const n=t;return await M2(n),(await Uy(n,e)).token}async function M2(t){const{registrationPromise:e}=await Fy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){if(!t||!t.options)throw lp("App Configuration");if(!t.name)throw lp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lp(t){return Di.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="installations",F2="installations-internal",U2=t=>{const e=t.getProvider("app").getImmediate(),n=V2(e),r=Gs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$2=t=>{const e=t.getProvider("app").getImmediate(),n=Gs(e,pN).getImmediate();return{getId:()=>O2(n),getToken:s=>L2(n,s)}};function B2(){ir(new Wn(pN,U2,"PUBLIC")),ir(new Wn(F2,$2,"PRIVATE"))}B2();hn(XI,My);hn(XI,My,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="analytics",z2="firebase_id",H2="origin",W2=60*1e3,q2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$y="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new _h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Wi("analytics","Analytics",G2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){if(!t.startsWith($y)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function mN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Y2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Q2(t,e){const n=Y2("firebase-js-sdk-policy",{createScriptURL:K2}),r=document.createElement("script"),s=`${$y}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function X2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function J2(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await mN(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(l){fn.error(l)}t("config",s,i)}async function Z2(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await mN(n);for(const c of a){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){fn.error(i)}}function eF(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await Z2(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await J2(t,e,n,r,l,c)}else if(i==="consent"){const[l]=a;t("consent","update",l)}else if(i==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){fn.error(l)}}return s}function tF(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=eF(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function nF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($y)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=30,sF=1e3;class iF{constructor(e={},n=sF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gN=new iF;function aF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function oF(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:aF(r)},i=q2.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function lF(t,e=gN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Tn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Tn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new dF;return setTimeout(async()=>{l.abort()},n!==void 0?n:W2),vN({appId:r,apiKey:s,measurementId:i},a,l,e)}async function vN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=gN){var i;const{appId:a,measurementId:l}=t;try{await cF(r,e)}catch(c){if(l)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await oF(t);return s.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!uF(u)){if(s.deleteThrottleMetadata(a),l)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?qx(n,s.intervalMillis,rF):qx(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(a,h),fn.debug(`Calling attemptFetch again in ${d} millis`),vN(t,h,r,s)}}function cF(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uF(t){if(!(t instanceof Gn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class dF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hF(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a=Object.assign(Object.assign({},r),{send_to:i});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(){if(Dv())try{await yS()}catch(t){return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pF(t,e,n,r,s,i,a){var l;const c=lF(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>fn.error(p)),e.push(c);const u=fF().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([c,u]);nF(i)||Q2(i,d.measurementId),s("js",new Date);const f=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return f[H2]="firebase",f.update=!0,h!=null&&(f[z2]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.app=e}_delete(){return delete wl[this.app.options.appId],Promise.resolve()}}let wl={},Zb=[];const e0={};let cp="dataLayer",gF="gtag",t0,yN,n0=!1;function vF(){const t=[];if(vS()&&t.push("This is a browser extension environment."),RR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function yF(t,e,n){vF();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(wl[r]!=null)throw Tn.create("already-exists",{id:r});if(!n0){X2(cp);const{wrappedGtag:i,gtagCore:a}=tF(wl,Zb,e0,cp,gF);yN=i,t0=a,n0=!0}return wl[r]=pF(t,Zb,e0,e,t0,cp,n),new mF(t)}function wF(t=Eh()){t=Me(t);const e=Gs(t,Md);return e.isInitialized()?e.getImmediate():xF(t)}function xF(t,e={}){const n=Gs(t,Md);if(n.isInitialized()){const s=n.getImmediate();if(ji(e,n.getOptions()))return s;throw Tn.create("already-initialized")}return n.initialize({options:e})}function bF(t,e,n,r){t=Me(t),hF(yN,wl[t.app.options.appId],e,n,r).catch(s=>fn.error(s))}const r0="@firebase/analytics",s0="0.10.1";function _F(){ir(new Wn(Md,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return yF(r,s,n)},"PUBLIC")),ir(new Wn("analytics-internal",t,"PRIVATE")),hn(r0,s0),hn(r0,s0,"esm2017");function t(e){try{const n=e.getProvider(Md).getImmediate();return{logEvent:(r,s,i)=>bF(n,r,s,i)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}_F();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firebasestorage.googleapis.com",xN="storageBucket",EF=2*60*1e3,TF=10*60*1e3,SF=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends Gn{constructor(e,n,r=0){super(up(e),`Firebase Storage: ${n} (${up(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ve;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ve||(Ve={}));function up(t){return"storage/"+t}function By(){const t="An unknown error occurred, please check the error payload for server response.";return new Qe(Ve.UNKNOWN,t)}function IF(t){return new Qe(Ve.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function NF(t){return new Qe(Ve.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(Ve.UNAUTHENTICATED,t)}function CF(){return new Qe(Ve.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PF(t){return new Qe(Ve.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bN(){return new Qe(Ve.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _N(){return new Qe(Ve.CANCELED,"User canceled the upload/download.")}function AF(t){return new Qe(Ve.INVALID_URL,"Invalid URL '"+t+"'.")}function kF(t){return new Qe(Ve.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function RF(){return new Qe(Ve.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xN+"' property when initializing the app?")}function EN(){return new Qe(Ve.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DF(){return new Qe(Ve.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function OF(){return new Qe(Ve.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LF(t){return new Qe(Ve.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function og(t){return new Qe(Ve.INVALID_ARGUMENT,t)}function TN(){return new Qe(Ve.APP_DELETED,"The Firebase app was deleted.")}function MF(t){return new Qe(Ve.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xl(t,e){return new Qe(Ve.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vo(t){throw new Qe(Ve.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw kF(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},w=n===wN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${w}/${s}/${y}`,"i"),x=[{regex:l,indices:c,postModify:i},{regex:p,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<x.length;b++){const I=x[b],_=I.regex.exec(e);if(_){const j=_[I.indices.bucket];let E=_[I.indices.path];E||(E=""),r=new bn(j,E),I.postModify(r);break}}if(r==null)throw AF(e);return r}}class VF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function h(y){s=setTimeout(()=>{s=null,t(p,c())},y)}function f(){i&&clearTimeout(i)}function p(y,...m){if(u){f();return}if(y){f(),d.call(null,y,...m);return}if(c()||a){f(),d.call(null,y,...m);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,h(x)}let g=!1;function w(y){g||(g=!0,f(),!u&&(s!==null?(y||(l=2),clearTimeout(s),h(0)):y||(l=1)))}return h(0),i=setTimeout(()=>{a=!0,w(!0)},n),w}function UF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t){return t!==void 0}function BF(t){return typeof t=="function"}function zF(t){return typeof t=="object"&&!Array.isArray(t)}function af(t){return typeof t=="string"||t instanceof String}function i0(t){return zy()&&t instanceof Blob}function zy(){return typeof Blob<"u"}function a0(t,e,n,r){if(r<e)throw og(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw og(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xi||(xi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,s,i,a,l,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new fu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===xi.NO_ERROR,c=i.getStatus();if(!l||IN(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===xi.ABORT;r(!1,new fu(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new fu(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());$F(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=By();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?TN():_N();a(c)}else{const c=bN();a(c)}};this.canceled_?n(!1,new fu(!1,null,!0)):this.backoffId_=FF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function WF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function YF(t,e,n,r,s,i,a=!0){const l=SN(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return GF(u,e),WF(u,n),qF(u,i),KF(u,r),new HF(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XF(...t){const e=QF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(zy())return new Blob(t);throw new Qe(Ve.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){if(typeof atob>"u")throw LF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dp{constructor(e,n){this.data=e,this.contentType=n||null}}function eU(t,e){switch(t){case gr.RAW:return new dp(NN(e));case gr.BASE64:case gr.BASE64URL:return new dp(jN(t,e));case gr.DATA_URL:return new dp(nU(e),rU(e))}throw By()}function NN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tU(t){let e;try{e=decodeURIComponent(t)}catch{throw xl(gr.DATA_URL,"Malformed data URL.")}return NN(e)}function jN(t,e){switch(t){case gr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw xl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case gr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw xl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ZF(e)}catch(s){throw s.message.includes("polyfill")?s:xl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class CN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xl(gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nU(t){const e=new CN(t);return e.base64?jN(gr.BASE64,e.rest):tU(e.rest)}function rU(t){return new CN(t).contentType}function sU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){let r=0,s="";i0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(i0(this.data_)){const r=this.data_,s=JF(r,e,n);return s===null?null:new Mr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Mr(r,!0)}}static getBlob(...e){if(zy()){const n=e.map(r=>r instanceof Mr?r.data_:r);return new Mr(XF.apply(null,n))}else{const n=e.map(a=>af(a)?eU(gr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new Mr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){let e;try{e=JSON.parse(t)}catch{return null}return zF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function AN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e){return e}class Wt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||oU}}let pu=null;function lU(t){return!af(t)||t.length<2?t:AN(t)}function Hy(){if(pu)return pu;const t=[];t.push(new Wt("bucket")),t.push(new Wt("generation")),t.push(new Wt("metageneration")),t.push(new Wt("name","fullPath",!0));function e(i,a){return lU(a)}const n=new Wt("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Wt("size");return s.xform=r,t.push(s),t.push(new Wt("timeCreated")),t.push(new Wt("updated")),t.push(new Wt("md5Hash",null,!0)),t.push(new Wt("cacheControl",null,!0)),t.push(new Wt("contentDisposition",null,!0)),t.push(new Wt("contentEncoding",null,!0)),t.push(new Wt("contentLanguage",null,!0)),t.push(new Wt("contentType",null,!0)),t.push(new Wt("metadata","customMetadata",!0)),pu=t,pu}function cU(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new bn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function uU(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return cU(r,t),r}function kN(t,e,n){const r=PN(e);return r===null?null:uU(t,r,n)}function dU(t,e,n,r){const s=PN(e);if(s===null||!af(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+a(d)+"/o/"+a(h),p=_o(f,n,r),g=SN({alt:"media",token:u});return p+g})[0]}function RN(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Zi{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){if(!t)throw By()}function Wy(t,e){function n(r,s){const i=kN(t,s,e);return Wr(i!==null),i}return n}function hU(t,e){function n(r,s){const i=kN(t,s,e);return Wr(i!==null),dU(i,s,t.host,t._protocol)}return n}function Oc(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=CF():s=jF():n.getStatus()===402?s=NF(t.bucket):n.getStatus()===403?s=PF(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function qy(t){const e=Oc(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=IF(t.path)),i.serverResponse=s.serverResponse,i}return n}function fU(t,e,n){const r=e.fullServerUrl(),s=_o(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new Zi(s,i,Wy(t,n),a);return l.errorHandler=qy(e),l}function pU(t,e,n){const r=e.fullServerUrl(),s=_o(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new Zi(s,i,hU(t,n),a);return l.errorHandler=qy(e),l}function mU(t,e){const n=e.fullServerUrl(),r=_o(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function a(c,u){}const l=new Zi(r,s,a,i);return l.successCodes=[200,204],l.errorHandler=qy(e),l}function gU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function DN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=gU(null,e)),r}function ON(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let x="";for(let b=0;b<2;b++)x=x+Math.random().toString().slice(2);return x}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=DN(e,r,s),d=RN(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=Mr.getBlob(h,r,f);if(p===null)throw EN();const g={name:u.fullPath},w=_o(i,t.host,t._protocol),y="POST",m=t.maxUploadRetryTime,v=new Zi(w,y,Wy(t,n),m);return v.urlParams=g,v.headers=a,v.body=p.uploadData(),v.errorHandler=Oc(e),v}class Vd{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Gy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Wr(!1)}return Wr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function vU(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a=DN(e,r,s),l={name:a.fullPath},c=_o(i,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=RN(a,n),f=t.maxUploadRetryTime;function p(w){Gy(w);let y;try{y=w.getResponseHeader("X-Goog-Upload-URL")}catch{Wr(!1)}return Wr(af(y)),y}const g=new Zi(c,u,p,f);return g.urlParams=l,g.headers=d,g.body=h,g.errorHandler=Oc(e),g}function yU(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const d=Gy(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wr(!1)}h||Wr(!1);const f=Number(h);return Wr(!isNaN(f)),new Vd(f,r.size(),d==="final")}const a="POST",l=t.maxUploadRetryTime,c=new Zi(n,a,i,l);return c.headers=s,c.errorHandler=Oc(e),c}const o0=256*1024;function wU(t,e,n,r,s,i,a,l){const c=new Vd(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw DF();const u=c.total-c.current;let d=u;s>0&&(d=Math.min(d,s));const h=c.current,f=h+d;let p="";d===0?p="finalize":u===d?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},w=r.slice(h,f);if(w===null)throw EN();function y(b,I){const _=Gy(b,["active","final"]),j=c.current+d,E=r.size();let T;return _==="final"?T=Wy(e,i)(b,I):T=null,new Vd(j,E,_==="final",T)}const m="POST",v=e.maxUploadRetryTime,x=new Zi(n,m,y,v);return x.headers=g,x.body=w.uploadData(),x.progressCallback=l||null,x.errorHandler=Oc(t),x}const rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hp(t){switch(t){case"running":case"pausing":case"canceling":return rn.RUNNING;case"paused":return rn.PAUSED;case"success":return rn.SUCCESS;case"canceled":return rn.CANCELED;case"error":return rn.ERROR;default:return rn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xU=class{constructor(e,n,r){if(BF(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class bU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Vo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _U extends bU{initXhr(){this.xhr_.responseType="text"}}function ds(){return new _U}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Hy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ve.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(IN(s.status,[]))if(i)s=bN();else{this.sleepTime=Math.max(this.sleepTime*2,SF),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ve.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=vU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ds,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=yU(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,ds,n,r);this._request=i,i.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=o0*this._chunkMultiplier,n=new Vd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let a;try{a=wU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(a,ds,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){o0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=fU(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,ds,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=ON(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ds,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_N(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=hp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new xU(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(hp(this._state)){case rn.SUCCESS:aa(this._resolve.bind(null,this.snapshot))();break;case rn.CANCELED:case rn.ERROR:const n=this._reject;aa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(hp(this._state)){case rn.RUNNING:case rn.PAUSED:e.next&&aa(e.next.bind(e,this.snapshot))();break;case rn.SUCCESS:e.complete&&aa(e.complete.bind(e))();break;case rn.CANCELED:case rn.ERROR:e.error&&aa(e.error.bind(e,this._error))();break;default:e.error&&aa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Li(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AN(this._location.path)}get storage(){return this._service}get parent(){const e=iU(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new Li(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MF(e)}}function TU(t,e,n){t._throwIfRoot("uploadBytes");const r=ON(t.storage,t._location,Hy(),new Mr(e,!0),n);return t.storage.makeRequestWithTokens(r,ds).then(s=>({metadata:s,ref:t}))}function SU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new EU(t,new Mr(e),n)}function IU(t){t._throwIfRoot("getDownloadURL");const e=pU(t.storage,t._location,Hy());return t.storage.makeRequestWithTokens(e,ds).then(n=>{if(n===null)throw OF();return n})}function NU(t){t._throwIfRoot("deleteObject");const e=mU(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ds)}function jU(t,e){const n=aU(t._location.path,e),r=new bn(t._location.bucket,n);return new Li(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){return/^[A-Za-z]+:\/\//.test(t)}function PU(t,e){return new Li(t,e)}function LN(t,e){if(t instanceof Ky){const n=t;if(n._bucket==null)throw RF();const r=new Li(n,n._bucket);return e!=null?LN(r,e):r}else return e!==void 0?jU(t,e):t}function AU(t,e){if(e&&CU(e)){if(t instanceof Ky)return PU(t,e);throw og("To use ref(service, url), the first argument must be a Storage instance.")}else return LN(t,e)}function l0(t,e){const n=e==null?void 0:e[xN];return n==null?null:bn.makeFromBucketSpec(n,t)}function kU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:gS(s,t.app.options.projectId))}class Ky{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=wN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EF,this._maxUploadRetryTime=TF,this._requests=new Set,s!=null?this._bucket=bn.makeFromBucketSpec(s,this._host):this._bucket=l0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=l0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){a0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){a0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Li(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new VF(TN());{const a=YF(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const c0="@firebase/storage",u0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="storage";function ea(t,e,n){return t=Me(t),TU(t,e,n)}function RU(t,e,n){return t=Me(t),SU(t,e,n)}function ta(t){return t=Me(t),IU(t)}function na(t){return t=Me(t),NU(t)}function Ze(t,e){return t=Me(t),AU(t,e)}function DU(t=Eh(),e){t=Me(t);const r=Gs(t,MN).getImmediate({identifier:e}),s=fS("storage");return s&&OU(r,...s),r}function OU(t,e,n,r={}){kU(t,e,n,r)}function LU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ky(n,r,s,e,qi)}function MU(){ir(new Wn(MN,LU,"PUBLIC").setMultipleInstances(!0)),hn(c0,u0,""),hn(c0,u0,"esm2017")}MU();function Yy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VU=VN,FN=new Wi("auth","Firebase",VN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new _h("@firebase/auth");function FU(t,...e){Fd.logLevel<=ge.WARN&&Fd.warn(`Auth (${qi}): ${t}`,...e)}function Vu(t,...e){Fd.logLevel<=ge.ERROR&&Fd.error(`Auth (${qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw Qy(t,...e)}function Er(t,...e){return Qy(t,...e)}function UN(t,e,n){const r=Object.assign(Object.assign({},VU()),{[e]:n});return new Wi("auth","Firebase",r).create(e,{appName:t.name})}function UU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(t,"argument-error"),UN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FN.create(t,...e)}function ne(t,e,...n){if(!t)throw Qy(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function Zr(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $U(){return d0()==="http:"||d0()==="https:"}function d0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($U()||vS()||"connection"in navigator)?navigator.onLine:!0}function zU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=jR()||PR()}get(){return BU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=new Lc(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pr(t,e,n,r,s={}){return BN(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=yc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),$N.fetch()(zN(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function BN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HU),e);try{const s=new GU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw mu(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw mu(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw mu(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UN(t,d,u);qn(t,d)}}catch(s){if(s instanceof Gn)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function of(t,e,n,r,s={}){const i=await Pr(t,e,n,r,s);return"mfaPendingCredential"in i&&qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function zN(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Xy(t.config,s):`${t.config.apiScheme}://${s}`}function qU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),WU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Er(t,e,r);return s.customData._tokenResponse=n,s}function h0(t){return t!==void 0&&t.enterprise!==void 0}class KU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function YU(t,e){return Pr(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t,e){return Pr(t,"POST","/v1/accounts:delete",e)}async function XU(t,e){return Pr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JU(t,e=!1){const n=Me(t),r=await n.getIdToken(e),s=Jy(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:bl(fp(s.auth_time)),issuedAtTime:bl(fp(s.iat)),expirationTime:bl(fp(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function fp(t){return Number(t)*1e3}function Jy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const s=dS(n);return s?JSON.parse(s):(Vu("Failed to decode base64 JWT payload"),null)}catch(s){return Vu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ZU(t){const e=Jy(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gn&&e$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){var e;const n=t.auth,r=await t.getIdToken(),s=await oo(t,XU(n,{idToken:r}));ne(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?s$(i.providerUserInfo):[],l=r$(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new HN(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function n$(t){const e=Me(t);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function s$(t){return t.map(e=>{var{providerId:n}=e,r=Yy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t,e){const n=await BN(t,{},async()=>{const r=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=zN(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",$N.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a$(t,e){return Pr(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await i$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new rc;return r&&(ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ne(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rc,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new HN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await oo(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JU(this,e)}reload(){return n$(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await oo(this,QU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:b,isAnonymous:I,providerData:_,stsTokenManager:j}=n;ne(x&&j,e,"internal-error");const E=rc.fromJSON(this.name,j);ne(typeof x=="string",e,"internal-error"),is(h,e.name),is(f,e.name),ne(typeof b=="boolean",e,"internal-error"),ne(typeof I=="boolean",e,"internal-error"),is(p,e.name),is(g,e.name),is(w,e.name),is(y,e.name),is(m,e.name),is(v,e.name);const T=new bi({uid:x,auth:e,email:f,emailVerified:b,displayName:h,isAnonymous:I,photoURL:g,phoneNumber:p,tenantId:w,stsTokenManager:E,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(T.providerData=_.map(S=>Object.assign({},S))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new rc;s.updateFromServerResponse(n);const i=new bi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ud(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function zr(t){Zr(t instanceof Function,"Expected a class definition");let e=f0.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WN.type="NONE";const p0=WN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e,n){return`firebase:${t}:${e}:${n}`}class La{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Fu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Fu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new La(zr(p0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||zr(p0);const a=Fu(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){const h=bi._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new La(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new La(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QN(e))return"Blackberry";if(XN(e))return"Webos";if(Zy(e))return"Safari";if((e.includes("chrome/")||GN(e))&&!e.includes("edge/"))return"Chrome";if(YN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qN(t=lt()){return/firefox\//i.test(t)}function Zy(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GN(t=lt()){return/crios\//i.test(t)}function KN(t=lt()){return/iemobile/i.test(t)}function YN(t=lt()){return/android/i.test(t)}function QN(t=lt()){return/blackberry/i.test(t)}function XN(t=lt()){return/webos/i.test(t)}function lf(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o$(t=lt()){var e;return lf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l$(){return AR()&&document.documentMode===10}function JN(t=lt()){return lf(t)||YN(t)||XN(t)||QN(t)||/windows phone/i.test(t)||KN(t)}function c$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t,e=[]){let n;switch(t){case"Browser":n=m0(lt());break;case"Worker":n=`${m0(lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(t,e={}){return Pr(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=6;class f${constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:h$,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new u$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await La.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Me(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d$(this),n=new f$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Js(t){return Me(t)}class g0{constructor(e){this.auth=e,this.observer=null,this.addObserver=VR(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m$(t){cf=t}function ej(t){return cf.loadJS(t)}function g$(){return cf.recaptchaEnterpriseScript}function v$(){return cf.gapiScript}function y$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const w$="recaptcha-enterprise",x$="NO_RECAPTCHA";class b${constructor(e){this.type=w$,this.auth=Js(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{YU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new KU(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;h0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(x$)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&h0(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=g$();c.length!==0&&(c+=l),ej(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function v0(t,e,n,r=!1){const s=new b$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function cg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await v0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await v0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){const n=Gs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ji(i,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function E$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T$(t,e,n){const r=Js(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=tj(e),{host:a,port:l}=S$(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||I$()}function tj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S$(t){const e=tj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:y0(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:y0(a)}}}function y0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}async function N$(t,e){return Pr(t,"POST","/v1/accounts:update",e)}async function j$(t,e){return Pr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C$(t,e){return of(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}async function P$(t,e){return Pr(t,"POST","/v1/accounts:sendOobCode",Xs(t,e))}async function A$(t,e){return P$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function R$(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends ew{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,n,"signInWithPassword",C$);case"emailLink":return k$(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",j$);case"emailLink":return R$(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t,e){return of(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="http://localhost";class Mi extends ew{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Yy(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Mi(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ma(e,n)}buildRequest(){const e={requestUri:D$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L$(t){const e=Qo(Xo(t)).link,n=e?Qo(Xo(e)).deep_link_id:null,r=Qo(Xo(t)).deep_link_id;return(r?Qo(Xo(r)).link:null)||r||n||e||t}class tw{constructor(e){var n,r,s,i,a,l;const c=Qo(Xo(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=O$((s=c.mode)!==null&&s!==void 0?s:null);ne(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=L$(e);try{return new tw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tw.parseLink(n);return ne(r,"argument-error"),sc._fromEmailAndCode(e,r.code,r.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends nw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Mc{constructor(){super("facebook.com")}static credential(e){return Mi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Mc{constructor(){super("github.com")}static credential(e){return Mi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Mi._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await bi._fromIdTokenResponse(e,r,s),a=w0(r);return new lo({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=w0(r);return new lo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function w0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Gn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $d(e,n,r,s)}}function nj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(t,i,e,r):i})}async function M$(t,e,n=!1){const r=await oo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await oo(t,nj(r,s,e,t),n);ne(i.idToken,r,"internal-error");const a=Jy(i.idToken);ne(a,r,"internal-error");const{sub:l}=a;return ne(t.uid===l,r,"user-mismatch"),lo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e,n=!1){const r="signIn",s=await nj(t,r,e),i=await lo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function F$(t,e){return rj(Js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t,e,n){var r;ne(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(t){const e=Js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function B$(t,e,n){const r=Js(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&U$(r,s,n),await cg(r,s,"getOobCode",A$)}function z$(t,e,n){return F$(Me(t),Eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$$(t),r})}function H$(t,e){return W$(Me(t),null,e)}async function W$(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const a=await oo(t,N$(r,i));await t._updateTokensIfNecessary(a,!0)}function q$(t,e,n,r){return Me(t).onIdTokenChanged(e,n,r)}function G$(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}const Bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(){const t=lt();return Zy(t)||lf(t)}const Y$=1e3,Q$=10;class ij extends sj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=K$()&&c$(),this.fallbackToPolling=JN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);l$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Q$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ij.type="LOCAL";const X$=ij;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends sj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aj.type="SESSION";const oj=aj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await J$(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=rw("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function e4(t){Tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function t4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r4(){return lj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="firebaseLocalStorageDb",s4=1,zd="firebaseLocalStorage",uj="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(t,e){return t.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function i4(){const t=indexedDB.deleteDatabase(cj);return new Vc(t).toPromise()}function ug(){const t=indexedDB.open(cj,s4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zd,{keyPath:uj})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zd)?e(r):(r.close(),await i4(),e(await ug()))})})}async function x0(t,e,n){const r=df(t,!0).put({[uj]:e,value:n});return new Vc(r).toPromise()}async function a4(t,e){const n=df(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function b0(t,e){const n=df(t,!0).delete(e);return new Vc(n).toPromise()}const o4=800,l4=3;class dj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(r4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t4(),!this.activeServiceWorker)return;this.sender=new Z$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await x0(e,Bd,"1"),await b0(e,Bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=df(s,!1).getAll();return new Vc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dj.type="LOCAL";const c4=dj;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t,e){return e?zr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw extends ew{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u4(t){return rj(t.auth,new sw(t),t.bypassAuthState)}function d4(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),V$(n,new sw(t),t.bypassAuthState)}async function h4(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),M$(n,new sw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u4;case"linkViaPopup":case"linkViaRedirect":return h4;case"reauthViaPopup":case"reauthViaRedirect":return d4;default:qn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new Lc(2e3,1e4);async function p4(t,e,n){const r=Js(t);UU(t,e,nw);const s=hj(r,n);return new mi(r,"signInViaPopup",e,s).executeNotNull()}class mi extends fj{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,mi.currentPopupAction&&mi.currentPopupAction.cancel(),mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=rw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f4.get())};e()}}mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="pendingRedirect",Uu=new Map;class g4 extends fj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const r=await v4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v4(t,e){const n=x4(e),r=w4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function y4(t,e){Uu.set(t._key(),e)}function w4(t){return zr(t._redirectPersistence)}function x4(t){return Fu(m4,t.config.apiKey,t.name)}async function b4(t,e,n=!1){const r=Js(t),s=hj(r,e),a=await new g4(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=10*60*1e3;class E4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pj(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_4&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(e))}saveEventToCache(e){this.cachedEventUids.add(_0(e)),this.lastProcessedEventTime=Date.now()}}function _0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e={}){return Pr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N4=/^https?/;async function j4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S4(t);for(const n of e)try{if(C4(n))return}catch{}qn(t,"unauthorized-domain")}function C4(t){const e=lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!N4.test(n))return!1;if(I4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new Lc(3e4,6e4);function E0(){const t=Tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A4(t){return new Promise((e,n)=>{var r,s,i;function a(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),n(Er(t,"network-request-failed"))},timeout:P4.get()})}if(!((s=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Tr().gapi)===null||i===void 0)&&i.load)a();else{const l=y$("iframefcb");return Tr()[l]=()=>{gapi.load?a():n(Er(t,"network-request-failed"))},ej(`${v$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw $u=null,e})}let $u=null;function k4(t){return $u=$u||A4(t),$u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new Lc(5e3,15e3),D4="__/auth/iframe",O4="emulator/auth/iframe",L4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V4(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xy(e,O4):`https://${t.config.authDomain}/${D4}`,r={apiKey:e.apiKey,appName:t.name,v:qi},s=M4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yc(r).slice(1)}`}async function F4(t){const e=await k4(t),n=Tr().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:V4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Er(t,"network-request-failed"),l=Tr().setTimeout(()=>{i(a)},R4.get());function c(){Tr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$4=500,B4=600,z4="_blank",H4="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W4(t,e,n,r=$4,s=B4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},U4),{width:r.toString(),height:s.toString(),top:i,left:a}),u=lt().toLowerCase();n&&(l=GN(u)?z4:n),qN(u)&&(e=e||H4,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(o$(u)&&l!=="_self")return q4(e||"",l),new T0(null);const h=window.open(e||"",l,d);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new T0(h)}function q4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="__/auth/handler",K4="emulator/auth/handler",Y4=encodeURIComponent("fac");async function S0(t,e,n,r,s,i){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:s};if(e instanceof nw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",MR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))a[d]=h}if(e instanceof Mc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Y4}=${encodeURIComponent(c)}`:"";return`${Q4(t)}?${yc(l).slice(1)}${u}`}function Q4({config:t}){return t.emulator?Xy(t,K4):`https://${t.authDomain}/${G4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class X4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oj,this._completeRedirectFn=b4,this._overrideRedirectResult=y4}async _openPopup(e,n,r,s){var i;Zr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await S0(e,n,r,lg(),s);return W4(e,a,rw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await S0(e,n,r,lg(),s);return e4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Zr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F4(e),r=new E4(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pp,{type:pp},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[pp];a!==void 0&&n(!!a),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JN()||Zy()||lf()}}const J4=X4;var I0="@firebase/auth",N0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t3(t){ir(new Wn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZN(t)},u=new p$(r,s,i,c);return E$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ir(new Wn("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(r=>new Z4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(I0,N0,e3(t)),hn(I0,N0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=5*60,r3=mS("authIdTokenMaxAge")||n3;let j0=null;const s3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r3)return;const s=n==null?void 0:n.token;j0!==s&&(j0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function i3(t=Eh()){const e=Gs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_$(t,{popupRedirectResolver:J4,persistence:[c4,X$,oj]}),r=mS("authTokenSyncURL");if(r){const i=s3(r);G$(n,i,()=>i(n.currentUser)),q$(n,a=>i(a))}const s=hS("auth");return s&&T$(n,`http://${s}`),n}function a3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Er("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",a3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t3("Browser");const o3={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},iw=_S(o3),et=DU(iw);wF(iw);const se=FV(iw),gi=i3(),l3=new Vr;function er(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Bs(t){return!!t&&!!t[ze]}function es(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===v3}(t)||Array.isArray(t)||!!t[O0]||!!(!((e=t.constructor)===null||e===void 0)&&e[O0])||aw(t)||ow(t))}function Vi(t,e,n){n===void 0&&(n=!1),To(t)===0?(n?Object.keys:Fa)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function To(t){var e=t[ze];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:aw(t)?2:ow(t)?3:0}function Va(t,e){return To(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function c3(t,e){return To(t)===2?t.get(e):t[e]}function mj(t,e,n){var r=To(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function gj(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function aw(t){return m3&&t instanceof Map}function ow(t){return g3&&t instanceof Set}function si(t){return t.o||t.t}function lw(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=yj(t);delete e[ze];for(var n=Fa(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function cw(t,e){return e===void 0&&(e=!1),uw(t)||Bs(t)||!es(t)||(To(t)>1&&(t.set=t.add=t.clear=t.delete=u3),Object.freeze(t),e&&Vi(t,function(n,r){return cw(r,!0)},!0)),t}function u3(){er(2)}function uw(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Sr(t){var e=pg[t];return e||er(18,t),e}function d3(t,e){pg[t]||(pg[t]=e)}function dg(){return ic}function mp(t,e){e&&(Sr("Patches"),t.u=[],t.s=[],t.v=e)}function Hd(t){hg(t),t.p.forEach(h3),t.p=null}function hg(t){t===ic&&(ic=t.l)}function C0(t){return ic={p:[],l:ic,h:t,m:!0,_:0}}function h3(t){var e=t[ze];e.i===0||e.i===1?e.j():e.g=!0}function gp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Sr("ES5").S(e,t,r),r?(n[ze].P&&(Hd(e),er(4)),es(t)&&(t=Wd(e,t),e.l||qd(e,t)),e.u&&Sr("Patches").M(n[ze].t,t,e.u,e.s)):t=Wd(e,n,[]),Hd(e),e.u&&e.v(e.u,e.s),t!==vj?t:void 0}function Wd(t,e,n){if(uw(e))return e;var r=e[ze];if(!r)return Vi(e,function(l,c){return P0(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return qd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=lw(r.k):r.o,i=s,a=!1;r.i===3&&(i=new Set(s),s.clear(),a=!0),Vi(i,function(l,c){return P0(t,r,s,l,c,n,a)}),qd(t,s,!1),n&&t.u&&Sr("Patches").N(r,n,t.u,t.s)}return r.o}function P0(t,e,n,r,s,i,a){if(Bs(s)){var l=Wd(t,s,i&&e&&e.i!==3&&!Va(e.R,r)?i.concat(r):void 0);if(mj(n,r,l),!Bs(l))return;t.m=!1}else a&&n.add(s);if(es(s)&&!uw(s)){if(!t.h.D&&t._<1)return;Wd(t,s),e&&e.A.l||qd(t,s)}}function qd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&cw(e,n)}function vp(t,e){var n=t[ze];return(n?si(n):t)[e]}function A0(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ms(t){t.P||(t.P=!0,t.l&&ms(t.l))}function yp(t){t.o||(t.o=lw(t.t))}function fg(t,e,n){var r=aw(e)?Sr("MapSet").F(e,n):ow(e)?Sr("MapSet").T(e,n):t.O?function(s,i){var a=Array.isArray(s),l={i:a?1:0,A:i?i.A:dg(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},c=l,u=ac;a&&(c=[l],u=rl);var d=Proxy.revocable(c,u),h=d.revoke,f=d.proxy;return l.k=f,l.j=h,f}(e,n):Sr("ES5").J(e,n);return(n?n.A:dg()).p.push(r),r}function f3(t){return Bs(t)||er(22,t),function e(n){if(!es(n))return n;var r,s=n[ze],i=To(n);if(s){if(!s.P&&(s.i<4||!Sr("ES5").K(s)))return s.t;s.I=!0,r=k0(n,i),s.I=!1}else r=k0(n,i);return Vi(r,function(a,l){s&&c3(s.t,a)===l||mj(r,a,e(l))}),i===3?new Set(r):r}(t)}function k0(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return lw(t)}function p3(){function t(i,a){var l=s[i];return l?l.enumerable=a:s[i]=l={configurable:!0,enumerable:a,get:function(){var c=this[ze];return ac.get(c,i)},set:function(c){var u=this[ze];ac.set(u,i,c)}},l}function e(i){for(var a=i.length-1;a>=0;a--){var l=i[a][ze];if(!l.P)switch(l.i){case 5:r(l)&&ms(l);break;case 4:n(l)&&ms(l)}}}function n(i){for(var a=i.t,l=i.k,c=Fa(l),u=c.length-1;u>=0;u--){var d=c[u];if(d!==ze){var h=a[d];if(h===void 0&&!Va(a,d))return!0;var f=l[d],p=f&&f[ze];if(p?p.t!==h:!gj(f,h))return!0}}var g=!!a[ze];return c.length!==Fa(a).length+(g?0:1)}function r(i){var a=i.k;if(a.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(a,a.length-1);if(l&&!l.get)return!0;for(var c=0;c<a.length;c++)if(!a.hasOwnProperty(c))return!0;return!1}var s={};d3("ES5",{J:function(i,a){var l=Array.isArray(i),c=function(d,h){if(d){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=yj(h);delete g[ze];for(var w=Fa(g),y=0;y<w.length;y++){var m=w[y];g[m]=t(m,d||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,i),u={i:l?5:4,A:a?a.A:dg(),P:!1,I:!1,R:{},l:a,t:i,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,ze,{value:u,writable:!0}),c},S:function(i,a,l){l?Bs(a)&&a[ze].A===i&&e(i.p):(i.u&&function c(u){if(u&&typeof u=="object"){var d=u[ze];if(d){var h=d.t,f=d.k,p=d.R,g=d.i;if(g===4)Vi(f,function(x){x!==ze&&(h[x]!==void 0||Va(h,x)?p[x]||c(f[x]):(p[x]=!0,ms(d)))}),Vi(h,function(x){f[x]!==void 0||Va(f,x)||(p[x]=!1,ms(d))});else if(g===5){if(r(d)&&(ms(d),p.length=!0),f.length<h.length)for(var w=f.length;w<h.length;w++)p[w]=!1;else for(var y=h.length;y<f.length;y++)p[y]=!0;for(var m=Math.min(f.length,h.length),v=0;v<m;v++)f.hasOwnProperty(v)||(p[v]=!0),p[v]===void 0&&c(f[v])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var R0,ic,dw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",m3=typeof Map<"u",g3=typeof Set<"u",D0=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",vj=dw?Symbol.for("immer-nothing"):((R0={})["immer-nothing"]=!0,R0),O0=dw?Symbol.for("immer-draftable"):"__$immer_draftable",ze=dw?Symbol.for("immer-state"):"__$immer_state",v3=""+Object.prototype.constructor,Fa=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,yj=Object.getOwnPropertyDescriptors||function(t){var e={};return Fa(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},pg={},ac={get:function(t,e){if(e===ze)return t;var n=si(t);if(!Va(n,e))return function(s,i,a){var l,c=A0(i,a);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!es(r)?r:r===vp(t.t,e)?(yp(t),t.o[e]=fg(t.A.h,r,t)):r},has:function(t,e){return e in si(t)},ownKeys:function(t){return Reflect.ownKeys(si(t))},set:function(t,e,n){var r=A0(si(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=vp(si(t),e),i=s==null?void 0:s[ze];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(gj(n,s)&&(n!==void 0||Va(t.t,e)))return!0;yp(t),ms(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return vp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,yp(t),ms(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=si(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){er(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){er(12)}},rl={};Vi(ac,function(t,e){rl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),rl.deleteProperty=function(t,e){return rl.set.call(this,t,e,void 0)},rl.set=function(t,e,n){return ac.set.call(this,t[0],e,n,t[0])};var y3=function(){function t(n){var r=this;this.O=D0,this.D=!0,this.produce=function(s,i,a){if(typeof s=="function"&&typeof i!="function"){var l=i;i=s;var c=r;return function(w){var y=this;w===void 0&&(w=l);for(var m=arguments.length,v=Array(m>1?m-1:0),x=1;x<m;x++)v[x-1]=arguments[x];return c.produce(w,function(b){var I;return(I=i).call.apply(I,[y,b].concat(v))})}}var u;if(typeof i!="function"&&er(6),a!==void 0&&typeof a!="function"&&er(7),es(s)){var d=C0(r),h=fg(r,s,void 0),f=!0;try{u=i(h),f=!1}finally{f?Hd(d):hg(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(w){return mp(d,a),gp(w,d)},function(w){throw Hd(d),w}):(mp(d,a),gp(u,d))}if(!s||typeof s!="object"){if((u=i(s))===void 0&&(u=s),u===vj&&(u=void 0),r.D&&cw(u,!0),a){var p=[],g=[];Sr("Patches").M(s,u,p,g),a(p,g)}return u}er(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(u){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return s.apply(void 0,[p].concat(h))})};var a,l,c=r.produce(s,i,function(u,d){a=u,l=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,a,l]}):[c,a,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){es(n)||er(8),Bs(n)&&(n=f3(n));var r=C0(this),s=fg(this,n,void 0);return s[ze].C=!0,hg(r),s},e.finishDraft=function(n,r){var s=n&&n[ze],i=s.A;return mp(i,r),gp(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!D0&&er(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var a=Sr("Patches").$;return Bs(n)?a(n,r):this.produce(n,function(l){return a(l,r)})},t}(),Nn=new y3,wj=Nn.produce;Nn.produceWithPatches.bind(Nn);Nn.setAutoFreeze.bind(Nn);Nn.setUseProxies.bind(Nn);Nn.applyPatches.bind(Nn);Nn.createDraft.bind(Nn);Nn.finishDraft.bind(Nn);function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function w3(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x3(t){var e=w3(t,"string");return oc(e)=="symbol"?e:String(e)}function b3(t,e,n){return e=x3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function M0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L0(Object(n),!0).forEach(function(r){b3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var V0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Gd={INIT:"@@redux/INIT"+wp(),REPLACE:"@@redux/REPLACE"+wp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wp()}};function _3(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function hw(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dt(1));return n(hw)(t,e)}if(typeof t!="function")throw new Error(Dt(2));var s=t,i=e,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function d(){if(c)throw new Error(Dt(3));return i}function h(w){if(typeof w!="function")throw new Error(Dt(4));if(c)throw new Error(Dt(5));var y=!0;return u(),l.push(w),function(){if(y){if(c)throw new Error(Dt(6));y=!1,u();var v=l.indexOf(w);l.splice(v,1),a=null}}}function f(w){if(!_3(w))throw new Error(Dt(7));if(typeof w.type>"u")throw new Error(Dt(8));if(c)throw new Error(Dt(9));try{c=!0,i=s(i,w)}finally{c=!1}for(var y=a=l,m=0;m<y.length;m++){var v=y[m];v()}return w}function p(w){if(typeof w!="function")throw new Error(Dt(10));s=w,f({type:Gd.REPLACE})}function g(){var w,y=h;return w={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Dt(11));function x(){v.next&&v.next(d())}x();var b=y(x);return{unsubscribe:b}}},w[V0]=function(){return this},w}return f({type:Gd.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:p},r[V0]=g,r}function E3(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Gd.INIT});if(typeof r>"u")throw new Error(Dt(12));if(typeof n(void 0,{type:Gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function xj(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),a;try{E3(n)}catch(l){a=l}return function(c,u){if(c===void 0&&(c={}),a)throw a;for(var d=!1,h={},f=0;f<i.length;f++){var p=i[f],g=n[p],w=c[p],y=g(w,u);if(typeof y>"u")throw u&&u.type,new Error(Dt(14));h[p]=y,d=d||y!==w}return d=d||i.length!==Object.keys(c).length,d?h:c}}function Kd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function T3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(Dt(15))},a={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(a)});return i=Kd.apply(void 0,l)(s.dispatch),M0(M0({},s),{},{dispatch:i})}}}function bj(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(a){return function(l){return typeof l=="function"?l(s,i,t):a(l)}}};return e}var _j=bj();_j.withExtraArgument=bj;const mg=_j;var Ej=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),S3=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},co=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},I3=Object.defineProperty,N3=Object.defineProperties,j3=Object.getOwnPropertyDescriptors,F0=Object.getOwnPropertySymbols,C3=Object.prototype.hasOwnProperty,P3=Object.prototype.propertyIsEnumerable,U0=function(t,e,n){return e in t?I3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Os=function(t,e){for(var n in e||(e={}))C3.call(e,n)&&U0(t,n,e[n]);if(F0)for(var r=0,s=F0(e);r<s.length;r++){var n=s[r];P3.call(e,n)&&U0(t,n,e[n])}return t},xp=function(t,e){return N3(t,j3(e))},A3=function(t,e,n){return new Promise(function(r,s){var i=function(c){try{l(n.next(c))}catch(u){s(u)}},a=function(c){try{l(n.throw(c))}catch(u){s(u)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(i,a)};l((n=n.apply(t,e)).next())})},k3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kd:Kd.apply(null,arguments)};function R3(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function Ls(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return Os(Os({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var D3=function(t){Ej(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,co([void 0],n[0].concat(this)))):new(e.bind.apply(e,co([void 0],n.concat(this))))},e}(Array),O3=function(t){Ej(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,co([void 0],n[0].concat(this)))):new(e.bind.apply(e,co([void 0],n.concat(this))))},e}(Array);function gg(t){return es(t)?wj(t,function(){}):t}function L3(t){return typeof t=="boolean"}function M3(){return function(e){return V3(e)}}function V3(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new D3;return n&&(L3(n)?r.push(mg):r.push(mg.withExtraArgument(n.extraArgument))),r}var F3=!0;function U3(t){var e=M3(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,a=i===void 0?e():i,l=n.devTools,c=l===void 0?!0:l,u=n.preloadedState,d=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof s=="function")p=s;else if(R3(s))p=xj(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=a;typeof g=="function"&&(g=g(e));var w=T3.apply(void 0,g),y=Kd;c&&(y=k3(Os({trace:!F3},typeof c=="object"&&c)));var m=new O3(w),v=m;Array.isArray(f)?v=co([w],f):typeof f=="function"&&(v=f(m));var x=y.apply(void 0,v);return hw(p,d,x)}function Tj(t){var e={},n=[],r,s={addCase:function(i,a){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=a,s},addMatcher:function(i,a){return n.push({matcher:i,reducer:a}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function $3(t){return typeof t=="function"}function B3(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?Tj(e):[e,n,r],i=s[0],a=s[1],l=s[2],c;if($3(t))c=function(){return gg(t())};else{var u=gg(t);c=function(){return u}}function d(h,f){h===void 0&&(h=c());var p=co([i[f.type]],a.filter(function(g){var w=g.matcher;return w(f)}).map(function(g){var w=g.reducer;return w}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,w){if(w)if(Bs(g)){var y=g,m=w(y,f);return m===void 0?g:m}else{if(es(g))return wj(g,function(v){return w(v,f)});var m=w(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return d.getInitialState=c,d}function z3(t,e){return t+"/"+e}function mn(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:gg(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},a={},l={};s.forEach(function(d){var h=r[d],f=z3(e,d),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,i[d]=p,a[f]=p,l[d]=g?Ls(f,g):Ls(f)});function c(){var d=typeof t.extraReducers=="function"?Tj(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,p=d[1],g=p===void 0?[]:p,w=d[2],y=w===void 0?void 0:w,m=Os(Os({},f),a);return B3(n,function(v){for(var x in m)v.addCase(x,m[x]);for(var b=0,I=g;b<I.length;b++){var _=I[b];v.addMatcher(_.matcher,_.reducer)}y&&v.addDefaultCase(y)})}var u;return{name:e,reducer:function(d,h){return u||(u=c()),u(d,h)},actions:l,caseReducers:i,getInitialState:function(){return u||(u=c()),u.getInitialState()}}}var H3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",W3=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=H3[Math.random()*64|0];return e},q3=["name","message","stack","code"],bp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),$0=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),G3=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=q3;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=Ls(e+"/fulfilled",function(u,d,h,f){return{payload:u,meta:xp(Os({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),i=Ls(e+"/pending",function(u,d,h){return{payload:void 0,meta:xp(Os({},h||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),a=Ls(e+"/rejected",function(u,d,h,f,p){return{payload:f,error:(r&&r.serializeError||G3)(u||"Rejected"),meta:xp(Os({},p||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function c(u){return function(d,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):W3(),g=new l,w;function y(v){w=v,g.abort()}var m=function(){return A3(this,null,function(){var v,x,b,I,_,j,E;return S3(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),I=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:h,extra:f}),Y3(I)?[4,I]:[3,2];case 1:I=T.sent(),T.label=2;case 2:if(I===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return _=new Promise(function(S,A){return g.signal.addEventListener("abort",function(){return A({name:"AbortError",message:w||"Aborted"})})}),d(i(p,u,(x=r==null?void 0:r.getPendingMeta)==null?void 0:x.call(r,{requestId:p,arg:u},{getState:h,extra:f}))),[4,Promise.race([_,Promise.resolve(n(u,{dispatch:d,getState:h,extra:f,requestId:p,signal:g.signal,abort:y,rejectWithValue:function(S,A){return new bp(S,A)},fulfillWithValue:function(S,A){return new $0(S,A)}})).then(function(S){if(S instanceof bp)throw S;return S instanceof $0?s(S.payload,p,u,S.meta):s(S,p,u)})])];case 3:return b=T.sent(),[3,5];case 4:return j=T.sent(),b=j instanceof bp?a(null,p,u,j.payload,j.meta):a(j,p,u),[3,5];case 5:return E=r&&!r.dispatchConditionRejection&&a.match(b)&&b.meta.condition,E||d(b),[2,b]}})})}();return Object.assign(m,{abort:y,requestId:p,arg:u,unwrap:function(){return m.then(K3)}})}}return Object.assign(c,{pending:i,rejected:a,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function K3(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Y3(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var fw="listenerMiddleware";Ls(fw+"/add");Ls(fw+"/removeAll");Ls(fw+"/remove");var B0;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);p3();const _p={data:{name:"",email:"",designation:"",token:"",message:""},isLoading:!1,isSuccessful:!1,isExpired:!1,error:{}},Q3=mn({name:"UserAuth",initialState:_p,reducers:{getUserAuthRequestAction:(t,e)=>{console.log(e),t.isLoading=!0},getTokenExpiredAction:(t,e)=>{console.log(e),t.isExpired=!0,t.isLoading=!0},getUserAuthExpiredTokenAction:(t,e)=>{t.data.token.access=e.payload,t.isLoading=!1,t.result={},t.isSuccessful=!1,t.isExpired=!1},getUserAuthSuccessAction:(t,e)=>{t.data=e.payload,t.isLoading=!1,t.result={},t.isSuccessful=!0,t.isExpired=!1},getUserAuthFailedAction:(t,e)=>{t.isSuccessful=!1,t.isLoading=!1,t.result=e.payload,t.isExpired=!1,t.data=_p.data},getUserAuthLogoutAction:t=>{t.isSuccessful=!1,t.isLoading=!1,t.data=_p.data,t.error={},t.isExpired=!1}}}),z0={data:[]},Sj=mn({name:"News",initialState:z0,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=z0.data}}}),{getNewsSuccessAction:X3,getNewsFailedAction:tW}=Sj.actions,H0={data:[]},Ij=mn({name:"Slider",initialState:H0,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=H0.data}}}),{getSliderSuccessAction:J3,getSliderFailedAction:nW}=Ij.actions,W0={data:[]},Nj=mn({name:"Publications",initialState:W0,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=W0.data}}}),{getPublicationsSuccessAction:Z3,getPublicationsFailedAction:rW}=Nj.actions,q0={data:[]},jj=mn({name:"Supervisors",initialState:q0,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=q0.data}}}),{getSupervisorsSuccessAction:eB,getSupervisorsFailedAction:sW}=jj.actions,G0={data:[]},Cj=mn({name:"Phd",initialState:G0,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=G0.data}}}),{getPhdSuccessAction:tB,getPhdFailedAction:iW}=Cj.actions,K0={data:[]},Pj=mn({name:"PHUG",initialState:K0,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=K0.data}}}),{getPHUGSuccessAction:nB,getPHUGFailedAction:aW}=Pj.actions,Y0={data:[]},Aj=mn({name:"VisitorsAndInterns",initialState:Y0,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=Y0.data}}}),{getVisitorsAndInternsSuccessAction:rB,getVisitorsAndInternsFailedAction:oW}=Aj.actions,Q0={data:[]},kj=mn({name:"Datasets",initialState:Q0,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=Q0.data}}}),{getDatasetsSuccessAction:sB,getDatasetsFailedAction:lW}=kj.actions,X0={data:[]},Rj=mn({name:"ResearchArea",initialState:X0,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=X0.data}}}),{getResearchAreaSuccessAction:iB,getResearchAreaFailedAction:cW}=Rj.actions,J0={data:[]},Dj=mn({name:"SubAreas",initialState:J0,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=J0.data}}}),{getSubAreasSuccessAction:aB,getSubAreasFailedAction:uW}=Dj.actions,Z0={data:[]},Oj=mn({name:"ProjectsItems",initialState:Z0,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=Z0.data}}}),{getProjectsItemsSuccessAction:oB,getProjectsItemsFailedAction:dW}=Oj.actions,e_={data:[]},Lj=mn({name:"ProjectsMain",initialState:e_,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=e_.data}}}),{getProjectsMainSuccessAction:lB,getProjectsMainFailedAction:hW}=Lj.actions,t_={data:[]},Mj=mn({name:"Gallery",initialState:t_,reducers:{getGallerySuccessAction:(t,e)=>{t.data=e.payload},getGalleryFailedAction:t=>{t.data=t_.data}}}),{getGallerySuccessAction:cB,getGalleryFailedAction:fW}=Mj.actions,uB=xj({getauth:Q3.reducer,getnews:Sj.reducer,getslider:Ij.reducer,getpublications:Nj.reducer,getsupervisors:jj.reducer,getphdStudents:Cj.reducer,getpgugStudents:Pj.reducer,getvisitorsandinterns:Aj.reducer,getdatasets:kj.reducer,getresearcharea:Rj.reducer,getsubareas:Dj.reducer,getprojectitems:Oj.reducer,getprojectsmain:Lj.reducer,getgallery:Mj.reducer});var pw="persist:",Vj="persist/FLUSH",mw="persist/REHYDRATE",Fj="persist/PAUSE",Uj="persist/PERSIST",$j="persist/PURGE",Bj="persist/REGISTER",dB=-1;function Bu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(n){return typeof n}:Bu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bu(t)}function n_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n_(n,!0).forEach(function(r){fB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t,e,n,r){r.debug;var s=hB({},n);return t&&Bu(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function mB(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:pw).concat(t.key),a=t.storage,l;t.serialize===!1?l=function(I){return I}:typeof t.serialize=="function"?l=t.serialize:l=gB;var c=t.writeFailHandler||null,u={},d={},h=[],f=null,p=null,g=function(I){Object.keys(I).forEach(function(_){m(_)&&u[_]!==I[_]&&h.indexOf(_)===-1&&h.push(_)}),Object.keys(u).forEach(function(_){I[_]===void 0&&m(_)&&h.indexOf(_)===-1&&u[_]!==void 0&&h.push(_)}),f===null&&(f=setInterval(w,s)),u=I};function w(){if(h.length===0){f&&clearInterval(f),f=null;return}var b=h.shift(),I=r.reduce(function(_,j){return j.in(_,b,u)},u[b]);if(I!==void 0)try{d[b]=l(I)}catch(_){console.error("redux-persist/createPersistoid: error serializing state",_)}else delete d[b];h.length===0&&y()}function y(){Object.keys(d).forEach(function(b){u[b]===void 0&&delete d[b]}),p=a.setItem(i,l(d)).catch(v)}function m(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||e&&e.indexOf(b)!==-1)}function v(b){c&&c(b)}var x=function(){for(;h.length!==0;)w();return p||Promise.resolve()};return{update:g,flush:x}}function gB(t){return JSON.stringify(t)}function vB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:pw).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(a){return a}:typeof t.deserialize=="function"?s=t.deserialize:s=yB,r.getItem(n).then(function(i){if(i)try{var a={},l=s(i);return Object.keys(l).forEach(function(c){a[c]=e.reduceRight(function(u,d){return d.out(u,c,l)},s(l[c]))}),a}catch(c){throw c}else return})}function yB(t){return JSON.parse(t)}function wB(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:pw).concat(t.key);return e.removeItem(n,xB)}function xB(t){}function r_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r_(n,!0).forEach(function(r){bB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _B(t,e){if(t==null)return{};var n=EB(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var TB=5e3;function SB(t,e){var n=t.version!==void 0?t.version:dB;t.debug;var r=t.stateReconciler===void 0?pB:t.stateReconciler,s=t.getStoredState||vB,i=t.timeout!==void 0?t.timeout:TB,a=null,l=!1,c=!0,u=function(h){return h._persist.rehydrated&&a&&!c&&a.update(h),h};return function(d,h){var f=d||{},p=f._persist,g=_B(f,["_persist"]),w=g;if(h.type===Uj){var y=!1,m=function(E,T){y||(h.rehydrate(t.key,E,T),y=!0)};if(i&&setTimeout(function(){!y&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,a||(a=mB(t)),p)return kr({},e(w,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(j){var E=t.migrate||function(T,S){return Promise.resolve(T)};E(j,n).then(function(T){m(T)},function(T){m(void 0,T)})},function(j){m(void 0,j)}),kr({},e(w,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===$j)return l=!0,h.result(wB(t)),kr({},e(w,h),{_persist:p});if(h.type===Vj)return h.result(a&&a.flush()),kr({},e(w,h),{_persist:p});if(h.type===Fj)c=!0;else if(h.type===mw){if(l)return kr({},w,{_persist:kr({},p,{rehydrated:!0})});if(h.key===t.key){var v=e(w,h),x=h.payload,b=r!==!1&&x!==void 0?r(x,d,v,t):v,I=kr({},b,{_persist:kr({},p,{rehydrated:!0})});return u(I)}}}if(!p)return e(d,h);var _=e(w,h);return _===w?d:u(kr({},_,{_persist:p}))}}function s_(t){return jB(t)||NB(t)||IB()}function IB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function NB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function jB(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function i_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i_(n,!0).forEach(function(r){CB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zj={registry:[],bootstrapped:!1},PB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zj,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Bj:return vg({},e,{registry:[].concat(s_(e.registry),[n.key])});case mw:var r=e.registry.indexOf(n.key),s=s_(e.registry);return s.splice(r,1),vg({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function AB(t,e,n){var r=n||!1,s=hw(PB,zj,e&&e.enhancer?e.enhancer:void 0),i=function(u){s.dispatch({type:Bj,key:u})},a=function(u,d,h){var f={type:mw,payload:d,err:h,key:u};t.dispatch(f),s.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=vg({},s,{purge:function(){var u=[];return t.dispatch({type:$j,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:Vj,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:Fj})},persist:function(){t.dispatch({type:Uj,register:i,rehydrate:a})}});return e&&e.manualPersist||l.persist(),l}var Hj={},gw={},vw={};Object.defineProperty(vw,"__esModule",{value:!0});function gu(){}const kB={getItem:gu,setItem:gu,removeItem:gu,keys:[],getAllKeys:gu};function RB(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function DB(t){const e=`${t}Storage`;return RB(e)?self[e]:kB}vw.default=DB;var OB=Tl&&Tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gw,"__esModule",{value:!0});const LB=OB(vw);function MB(t){const e=(0,LB.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(s=>{s(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}gw.default=MB;var VB=Tl&&Tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hj,"__esModule",{value:!0});const FB=VB(gw),UB=(0,FB.default)("session");var $B=Hj.default=UB;const BB={key:"root",storage:$B},zB=SB(BB,uB),Zt=U3({reducer:zB,middleware:[mg]}),HB=AB(Zt),Fc=async()=>{try{const t=Se(se,"publications"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),Zt.dispatch(Z3(n))}catch(t){console.error("Error fetching Publications:",t)}};async function WB(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=ct(se,"publications",t);await Pn(e),alert("Publications deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Publications!")}}}var Wj={exports:{}},qj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=N;function qB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var GB=typeof Object.is=="function"?Object.is:qB,KB=Uc.useSyncExternalStore,YB=Uc.useRef,QB=Uc.useEffect,XB=Uc.useMemo,JB=Uc.useDebugValue;qj.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=YB(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=XB(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&a.hasValue){var g=a.value;if(s(g,p))return h=g}return h=p}if(g=h,GB(d,p))return g;var w=r(p);return s!==void 0&&s(g,w)?g:(d=p,h=w)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=KB(t,i[0],i[1]);return QB(function(){a.hasValue=!0,a.value=l},[l]),JB(l),l};Wj.exports=qj;var ZB=Wj.exports,_n="default"in Rp?Ee:Rp,a_=Symbol.for("react-redux-context"),o_=typeof globalThis<"u"?globalThis:{};function ez(){if(!_n.createContext)return{};const t=o_[a_]??(o_[a_]=new Map);let e=t.get(_n.createContext);return e||(e=_n.createContext(null),t.set(_n.createContext,e)),e}var Yd=ez(),tz=()=>{throw new Error("uSES not initialized!")};function Gj(t=Yd){return function(){return _n.useContext(t)}}var nz=Gj(),Kj=tz,rz=t=>{Kj=t},sz=(t,e)=>t===e;function iz(t=Yd){const e=t===Yd?nz:Gj(t),n=(r,s={})=>{const{equalityFn:i=sz,devModeChecks:a={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();_n.useRef(!0);const f=_n.useCallback({[r.name](g){return r(g)}}[r.name],[r,d,a.stabilityCheck]),p=Kj(c.addNestedSub,l.getState,u||l.getState,f,i);return _n.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var re=iz();function az(t){t()}function oz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){az(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var l_={notify(){},get:()=>[]};function lz(t,e){let n,r=l_,s=0,i=!1;function a(w){d();const y=r.subscribe(w);let m=!1;return()=>{m||(m=!0,y(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=oz())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=l_)}function f(){i||(i=!0,d())}function p(){i&&(i=!1,h())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var cz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uz=cz?_n.useLayoutEffect:_n.useEffect;function dz({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const a=_n.useMemo(()=>{const u=lz(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=_n.useMemo(()=>t.getState(),[t]);uz(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const c=e||Yd;return _n.createElement(c.Provider,{value:a},n)}var hz=dz;rz(ZB.useSyncExternalStoreWithSelector);const So=async()=>{try{const t=Se(se,"supervisors"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await fz(l):null;n.push({_id:a,data:i,profileImage:c})});await Promise.all(r),Zt.dispatch(eB(n))}catch(t){console.error("Error fetching Supervisors:",t)}},fz=async t=>{try{const e=Ze(et,`/peoples/supervisor_profile_images/${t}`);return await ta(e)}catch{return null}};async function pz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=ct(se,"supervisors",t),s=(await Ji(e)).data().profileImage;if(await Pn(e),s){const i=Ze(et,`/peoples/supervisor_profile_images/${s}`);await na(i)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Supervisors!")}}}var Yj={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Tl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,a={},l=0,c={parse:function(E,T){var S=(T=T||{}).dynamicTyping||!1;if(j(S)&&(T.dynamicTypingFunction=S,S={}),T.dynamicTyping=S,T.transform=!!j(T.transform)&&T.transform,T.worker&&c.WORKERS_SUPPORTED){var A=function(){if(!c.WORKERS_SUPPORTED)return!1;var C=(M=r.URL||r.webkitURL||null,B=n.toString(),c.BLOB_URL||(c.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))),P=new r.Worker(C),M,B;return P.onmessage=v,P.id=l++,a[P.id]=P}();return A.userStep=T.step,A.userChunk=T.chunk,A.userComplete=T.complete,A.userError=T.error,T.step=j(T.step),T.chunk=j(T.chunk),T.complete=j(T.complete),T.error=j(T.error),delete T.worker,void A.postMessage({input:E,config:T,workerId:A.id})}var O=null;return c.NODE_STREAM_INPUT,typeof E=="string"?(E=function(C){return C.charCodeAt(0)===65279?C.slice(1):C}(E),O=T.download?new h(T):new p(T)):E.readable===!0&&j(E.read)&&j(E.on)?O=new g(T):(r.File&&E instanceof File||E instanceof Object)&&(O=new f(T)),O.stream(E)},unparse:function(E,T){var S=!1,A=!0,O=",",C=`\r
`,P='"',M=P+P,B=!1,D=null,R=!1;(function(){if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(k){return T.delimiter.indexOf(k)!==-1}).length||(O=T.delimiter),(typeof T.quotes=="boolean"||typeof T.quotes=="function"||Array.isArray(T.quotes))&&(S=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(B=T.skipEmptyLines),typeof T.newline=="string"&&(C=T.newline),typeof T.quoteChar=="string"&&(P=T.quoteChar),typeof T.header=="boolean"&&(A=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");D=T.columns}T.escapeChar!==void 0&&(M=T.escapeChar+P),(typeof T.escapeFormulae=="boolean"||T.escapeFormulae instanceof RegExp)&&(R=T.escapeFormulae instanceof RegExp?T.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var L=new RegExp(y(P),"g");if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return F(null,E,B);if(typeof E[0]=="object")return F(D||Object.keys(E[0]),E,B)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||D),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),F(E.fields||[],E.data||[],B);throw new Error("Unable to serialize unrecognized input");function F(k,z,X){var J="";typeof k=="string"&&(k=JSON.parse(k)),typeof z=="string"&&(z=JSON.parse(z));var ie=Array.isArray(k)&&0<k.length,ue=!Array.isArray(z[0]);if(ie&&A){for(var Ce=0;Ce<k.length;Ce++)0<Ce&&(J+=O),J+=W(k[Ce],Ce);0<z.length&&(J+=C)}for(var Q=0;Q<z.length;Q++){var he=ie?k.length:z[Q].length,H=!1,we=ie?Object.keys(z[Q]).length===0:z[Q].length===0;if(X&&!ie&&(H=X==="greedy"?z[Q].join("").trim()==="":z[Q].length===1&&z[Q][0].length===0),X==="greedy"&&ie){for(var be=[],ut=0;ut<he;ut++){var Fe=ue?k[ut]:ut;be.push(z[Q][Fe])}H=be.join("").trim()===""}if(!H){for(var Pe=0;Pe<he;Pe++){0<Pe&&!we&&(J+=O);var en=ie&&ue?k[Pe]:Pe;J+=W(z[Q][en],Pe)}Q<z.length-1&&(!X||0<he&&!we)&&(J+=C)}}return J}function W(k,z){if(k==null)return"";if(k.constructor===Date)return JSON.stringify(k).slice(1,25);var X=!1;R&&typeof k=="string"&&R.test(k)&&(k="'"+k,X=!0);var J=k.toString().replace(L,M);return(X=X||S===!0||typeof S=="function"&&S(k,z)||Array.isArray(S)&&S[z]||function(ie,ue){for(var Ce=0;Ce<ue.length;Ce++)if(-1<ie.indexOf(ue[Ce]))return!0;return!1}(J,c.BAD_DELIMITERS)||-1<J.indexOf(O)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?P+J+P:J}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=w,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var u=r.jQuery;u.fn.parse=function(E){var T=E.config||{},S=[];return this.each(function(C){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)S.push({file:this.files[P],inputElem:this,instanceConfig:u.extend({},T)})}),A(),this;function A(){if(S.length!==0){var C,P,M,B,D=S[0];if(j(E.before)){var R=E.before(D.file,D.inputElem);if(typeof R=="object"){if(R.action==="abort")return C="AbortError",P=D.file,M=D.inputElem,B=R.reason,void(j(E.error)&&E.error({name:C},P,M,B));if(R.action==="skip")return void O();typeof R.config=="object"&&(D.instanceConfig=u.extend(D.instanceConfig,R.config))}else if(R==="skip")return void O()}var L=D.instanceConfig.complete;D.instanceConfig.complete=function(F){j(L)&&L(F,D.file,D.inputElem),O()},c.parse(D.file,D.instanceConfig)}else j(E.complete)&&E.complete()}function O(){S.splice(0,1),A()}}}function d(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var S=I(T);S.chunkSize=parseInt(S.chunkSize),T.step||T.chunk||(S.chunkSize=null),this._handle=new w(S),(this._handle.streamer=this)._config=S}).call(this,E),this.parseChunk=function(T,S){if(this.isFirstChunk&&j(this._config.beforeFirstChunk)){var A=this._config.beforeFirstChunk(T);A!==void 0&&(T=A)}this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+T;this._partialLine="";var C=this._handle.parse(O,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var P=C.meta.cursor;this._finished||(this._partialLine=O.substring(P-this._baseIndex),this._baseIndex=P),C&&C.data&&(this._rowCount+=C.data.length);var M=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:C,workerId:c.WORKER_ID,finished:M});else if(j(this._config.chunk)&&!S){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);C=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!M||!j(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(T){j(this._config.error)?this._config.error(T):i&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function h(E){var T;(E=E||{}).chunkSize||(E.chunkSize=c.RemoteChunkSize),d.call(this,E),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),s||(T.onload=_(this._chunkLoaded,this),T.onerror=_(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var S=this._config.downloadRequestHeaders;for(var A in S)T.setRequestHeader(A,S[A])}if(this._config.chunkSize){var O=this._start+this._config.chunkSize-1;T.setRequestHeader("Range","bytes="+this._start+"-"+O)}try{T.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}s&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:T.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(S){var A=S.getResponseHeader("Content-Range");return A===null?-1:parseInt(A.substring(A.lastIndexOf("/")+1))}(T),this.parseChunk(T.responseText)))},this._chunkError=function(S){var A=T.statusText||S;this._sendError(new Error(A))}}function f(E){var T,S;(E=E||{}).chunkSize||(E.chunkSize=c.LocalChunkSize),d.call(this,E);var A=typeof FileReader<"u";this.stream=function(O){this._input=O,S=O.slice||O.webkitSlice||O.mozSlice,A?((T=new FileReader).onload=_(this._chunkLoaded,this),T.onerror=_(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input;if(this._config.chunkSize){var C=Math.min(this._start+this._config.chunkSize,this._input.size);O=S.call(O,this._start,C)}var P=T.readAsText(O,this._config.encoding);A||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(E){var T;d.call(this,E=E||{}),this.stream=function(S){return T=S,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var S,A=this._config.chunkSize;return A?(S=T.substring(0,A),T=T.substring(A)):(S=T,T=""),this._finished=!T,this.parseChunk(S)}}}function g(E){d.call(this,E=E||{});var T=[],S=!0,A=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):S=!0},this._streamData=_(function(O){try{T.push(typeof O=="string"?O:O.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(C){this._streamError(C)}},this),this._streamError=_(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=_(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(E){var T,S,A,O=Math.pow(2,53),C=-O,P=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,D=0,R=0,L=!1,F=!1,W=[],k={data:[],errors:[],meta:{}};if(j(E.step)){var z=E.step;E.step=function(Q){if(k=Q,ie())J();else{if(J(),k.data.length===0)return;D+=Q.data.length,E.preview&&D>E.preview?S.abort():(k.data=k.data[0],z(k,B))}}}function X(Q){return E.skipEmptyLines==="greedy"?Q.join("").trim()==="":Q.length===1&&Q[0].length===0}function J(){return k&&A&&(Ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),A=!1),E.skipEmptyLines&&(k.data=k.data.filter(function(Q){return!X(Q)})),ie()&&function(){if(!k)return;function Q(H,we){j(E.transformHeader)&&(H=E.transformHeader(H,we)),W.push(H)}if(Array.isArray(k.data[0])){for(var he=0;ie()&&he<k.data.length;he++)k.data[he].forEach(Q);k.data.splice(0,1)}else k.data.forEach(Q)}(),function(){if(!k||!E.header&&!E.dynamicTyping&&!E.transform)return k;function Q(H,we){var be,ut=E.header?{}:[];for(be=0;be<H.length;be++){var Fe=be,Pe=H[be];E.header&&(Fe=be>=W.length?"__parsed_extra":W[be]),E.transform&&(Pe=E.transform(Pe,Fe)),Pe=ue(Fe,Pe),Fe==="__parsed_extra"?(ut[Fe]=ut[Fe]||[],ut[Fe].push(Pe)):ut[Fe]=Pe}return E.header&&(be>W.length?Ce("FieldMismatch","TooManyFields","Too many fields: expected "+W.length+" fields but parsed "+be,R+we):be<W.length&&Ce("FieldMismatch","TooFewFields","Too few fields: expected "+W.length+" fields but parsed "+be,R+we)),ut}var he=1;return!k.data.length||Array.isArray(k.data[0])?(k.data=k.data.map(Q),he=k.data.length):k.data=Q(k.data,0),E.header&&k.meta&&(k.meta.fields=W),R+=he,k}()}function ie(){return E.header&&W.length===0}function ue(Q,he){return H=Q,E.dynamicTypingFunction&&E.dynamicTyping[H]===void 0&&(E.dynamicTyping[H]=E.dynamicTypingFunction(H)),(E.dynamicTyping[H]||E.dynamicTyping)===!0?he==="true"||he==="TRUE"||he!=="false"&&he!=="FALSE"&&(function(we){if(P.test(we)){var be=parseFloat(we);if(C<be&&be<O)return!0}return!1}(he)?parseFloat(he):M.test(he)?new Date(he):he===""?null:he):he;var H}function Ce(Q,he,H,we){var be={type:Q,code:he,message:H};we!==void 0&&(be.row=we),k.errors.push(be)}this.parse=function(Q,he,H){var we=E.quoteChar||'"';if(E.newline||(E.newline=function(Fe,Pe){Fe=Fe.substring(0,1048576);var en=new RegExp(y(Pe)+"([^]*?)"+y(Pe),"gm"),zt=(Fe=Fe.replace(en,"")).split("\r"),gn=Fe.split(`
`),kn=1<gn.length&&gn[0].length<zt[0].length;if(zt.length===1||kn)return`
`;for(var Ht=0,K=0;K<zt.length;K++)zt[K][0]===`
`&&Ht++;return Ht>=zt.length/2?`\r
`:"\r"}(Q,we)),A=!1,E.delimiter)j(E.delimiter)&&(E.delimiter=E.delimiter(Q),k.meta.delimiter=E.delimiter);else{var be=function(Fe,Pe,en,zt,gn){var kn,Ht,K,ve;gn=gn||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var bt=0;bt<gn.length;bt++){var _e=gn[bt],Ar=0,Rn=0,cr=0;K=void 0;for(var Kn=new m({comments:zt,delimiter:_e,newline:Pe,preview:10}).parse(Fe),ns=0;ns<Kn.data.length;ns++)if(en&&X(Kn.data[ns]))cr++;else{var rs=Kn.data[ns].length;Rn+=rs,K!==void 0?0<rs&&(Ar+=Math.abs(rs-K),K=rs):K=rs}0<Kn.data.length&&(Rn/=Kn.data.length-cr),(Ht===void 0||Ar<=Ht)&&(ve===void 0||ve<Rn)&&1.99<Rn&&(Ht=Ar,kn=_e,ve=Rn)}return{successful:!!(E.delimiter=kn),bestDelimiter:kn}}(Q,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess);be.successful?E.delimiter=be.bestDelimiter:(A=!0,E.delimiter=c.DefaultDelimiter),k.meta.delimiter=E.delimiter}var ut=I(E);return E.preview&&E.header&&ut.preview++,T=Q,S=new m(ut),k=S.parse(T,he,H),J(),L?{meta:{paused:!0}}:k||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,S.abort(),T=j(E.chunk)?"":T.substring(S.getCharIndex())},this.resume=function(){B.streamer._halted?(L=!1,B.streamer.parseChunk(T,!0)):setTimeout(B.resume,3)},this.aborted=function(){return F},this.abort=function(){F=!0,S.abort(),k.meta.aborted=!0,j(E.complete)&&E.complete(k),T=""}}function y(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(E){var T,S=(E=E||{}).delimiter,A=E.newline,O=E.comments,C=E.step,P=E.preview,M=E.fastMode,B=T=E.quoteChar===void 0||E.quoteChar===null?'"':E.quoteChar;if(E.escapeChar!==void 0&&(B=E.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),O===S)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<c.BAD_DELIMITERS.indexOf(O))&&(O=!1),A!==`
`&&A!=="\r"&&A!==`\r
`&&(A=`
`);var D=0,R=!1;this.parse=function(L,F,W){if(typeof L!="string")throw new Error("Input must be a string");var k=L.length,z=S.length,X=A.length,J=O.length,ie=j(C),ue=[],Ce=[],Q=[],he=D=0;if(!L)return Dn();if(E.header&&!F){var H=L.split(A)[0].split(S),we=[],be={},ut=!1;for(var Fe in H){var Pe=H[Fe];j(E.transformHeader)&&(Pe=E.transformHeader(Pe,Fe));var en=Pe,zt=be[Pe]||0;for(0<zt&&(ut=!0,en=Pe+"_"+zt),be[Pe]=zt+1;we.includes(en);)en=en+"_"+zt;we.push(en)}if(ut){var gn=L.split(A);gn[0]=we.join(S),L=gn.join(A)}}if(M||M!==!1&&L.indexOf(T)===-1){for(var kn=L.split(A),Ht=0;Ht<kn.length;Ht++){if(Q=kn[Ht],D+=Q.length,Ht!==kn.length-1)D+=A.length;else if(W)return Dn();if(!O||Q.substring(0,J)!==O){if(ie){if(ue=[],cr(Q.split(S)),$c(),R)return Dn()}else cr(Q.split(S));if(P&&P<=Ht)return ue=ue.slice(0,P),Dn(!0)}}return Dn()}for(var K=L.indexOf(S,D),ve=L.indexOf(A,D),bt=new RegExp(y(B)+y(T),"g"),_e=L.indexOf(T,D);;)if(L[D]!==T)if(O&&Q.length===0&&L.substring(D,D+J)===O){if(ve===-1)return Dn();D=ve+X,ve=L.indexOf(A,D),K=L.indexOf(S,D)}else if(K!==-1&&(K<ve||ve===-1))Q.push(L.substring(D,K)),D=K+z,K=L.indexOf(S,D);else{if(ve===-1)break;if(Q.push(L.substring(D,ve)),rs(ve+X),ie&&($c(),R))return Dn();if(P&&ue.length>=P)return Dn(!0)}else for(_e=D,D++;;){if((_e=L.indexOf(T,_e+1))===-1)return W||Ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ue.length,index:D}),ns();if(_e===k-1)return ns(L.substring(D,_e).replace(bt,T));if(T!==B||L[_e+1]!==B){if(T===B||_e===0||L[_e-1]!==B){K!==-1&&K<_e+1&&(K=L.indexOf(S,_e+1)),ve!==-1&&ve<_e+1&&(ve=L.indexOf(A,_e+1));var Ar=Kn(ve===-1?K:Math.min(K,ve));if(L.substr(_e+1+Ar,z)===S){Q.push(L.substring(D,_e).replace(bt,T)),L[D=_e+1+Ar+z]!==T&&(_e=L.indexOf(T,D)),K=L.indexOf(S,D),ve=L.indexOf(A,D);break}var Rn=Kn(ve);if(L.substring(_e+1+Rn,_e+1+Rn+X)===A){if(Q.push(L.substring(D,_e).replace(bt,T)),rs(_e+1+Rn+X),K=L.indexOf(S,D),_e=L.indexOf(T,D),ie&&($c(),R))return Dn();if(P&&ue.length>=P)return Dn(!0);break}Ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ue.length,index:D}),_e++}}else _e++}return ns();function cr(On){ue.push(On),he=D}function Kn(On){var Iw=0;if(On!==-1){var gf=L.substring(_e+1,On);gf&&gf.trim()===""&&(Iw=gf.length)}return Iw}function ns(On){return W||(On===void 0&&(On=L.substring(D)),Q.push(On),D=k,cr(Q),ie&&$c()),Dn()}function rs(On){D=On,cr(Q),Q=[],ve=L.indexOf(A,D)}function Dn(On){return{data:ue,errors:Ce,meta:{delimiter:S,linebreak:A,aborted:R,truncated:!!On,cursor:he+(F||0)}}}function $c(){C(Dn()),ue=[],Ce=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return D}}function v(E){var T=E.data,S=a[T.workerId],A=!1;if(T.error)S.userError(T.error,T.file);else if(T.results&&T.results.data){var O={abort:function(){A=!0,x(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(j(S.userStep)){for(var C=0;C<T.results.data.length&&(S.userStep({data:T.results.data[C],errors:T.results.errors,meta:T.results.meta},O),!A);C++);delete T.results}else j(S.userChunk)&&(S.userChunk(T.results,O,T.file),delete T.results)}T.finished&&!A&&x(T.workerId,T.results)}function x(E,T){var S=a[E];j(S.userComplete)&&S.userComplete(T),S.terminate(),delete a[E]}function b(){throw new Error("Not implemented.")}function I(E){if(typeof E!="object"||E===null)return E;var T=Array.isArray(E)?[]:{};for(var S in E)T[S]=I(E[S]);return T}function _(E,T){return function(){E.apply(T,arguments)}}function j(E){return typeof E=="function"}return i&&(r.onmessage=function(E){var T=E.data;if(c.WORKER_ID===void 0&&T&&(c.WORKER_ID=T.workerId),typeof T.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(T.input,T.config),finished:!0});else if(r.File&&T.input instanceof File||T.input instanceof Object){var S=c.parse(T.input,T.config);S&&r.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}}),(h.prototype=Object.create(d.prototype)).constructor=h,(f.prototype=Object.create(d.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,c})})(Yj);var mz=Yj.exports;const Qj=uo(mz);function Xj(t,e,n){const r=t+e,s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const a=URL.createObjectURL(s);i.setAttribute("href",a),i.setAttribute("download",`${n}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const gz=`Type of Article,Authors,Paper Title,Publisher,Publication Year,Name of Journal,Volume,DOI Link,Impact Factor,No. of Pages,ISBN
`,vz=`Conference,"Kulkarni A, Phutke SS, Vipparthi SK, Murala S",C2AIR: Consolidated Compact Aerial Image Haze Removal,IEEE Transactions on Cognitive and Developmental Systems,2020,Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision,4,304-402,7,300,5
`,yz=()=>{const t=re(C=>C.getpublications.data),e=re(C=>C.getsupervisors.data),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[f,p]=N.useState(""),[g,w]=N.useState(""),[y,m]=N.useState(""),[v,x]=N.useState(""),[b,I]=N.useState(""),[_,j]=N.useState(""),[E,T]=N.useState([]),[S,A]=N.useState(!1);N.useEffect(()=>{Fc(),So()},[]);const O=C=>{if(C.preventDefault(),!n||!s||!a||!c||!d||!f||!g||!y||!v||!b||!_){console.log("Please fill all required fields!");return}A(!0),Jt(Se(se,"publications"),{paperTitle:n,paperType:s,publisher:a,publicationDate:c,link:d,author:f,journalName:g,pages:y,volume:v,impact:b,isbn:_,users:E}).then(()=>{alert("Publication has been saved! You can view it in the admin panel."),A(!1),window.location.reload()}).catch(P=>{alert(`Error adding document: ${P.message}`),A(!1)})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"List of Publications"}),o.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add Publication"}),o.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[o.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contributors"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Impact Factor"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Pages"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publisher"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publication Date"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Volume"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Journal Name"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper Type"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"ISBN"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((C,P)=>{const{paperTitle:M,author:B,impact:D,link:R,pages:L,publisher:F,publicationDate:W,volume:k,journalName:z,paperType:X,isbn:J}=C==null?void 0:C.data;return o.jsxs("tr",{children:[o.jsx("td",{children:P+1}),o.jsx("td",{className:"fw-bold text-danger",children:M==null?void 0:M.stringValue}),o.jsx("td",{children:B==null?void 0:B.stringValue}),o.jsx("td",{children:D==null?void 0:D.stringValue}),o.jsx("td",{children:L==null?void 0:L.stringValue}),o.jsx("td",{children:F==null?void 0:F.stringValue}),o.jsx("td",{children:W==null?void 0:W.stringValue}),o.jsx("td",{children:k==null?void 0:k.stringValue}),o.jsx("td",{children:z==null?void 0:z.stringValue}),o.jsx("td",{children:X==null?void 0:X.stringValue}),o.jsx("td",{children:J==null?void 0:J.stringValue}),o.jsx("td",{children:o.jsx("a",{href:R==null?void 0:R.stringValue,target:"_blank",rel:"noopener noreferrer",className:"btn btn-link",children:"Link"})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx(ee,{className:"dropdown-item text-primary",to:C==null?void 0:C._id,children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>WB(C._id),children:"Delete"})})]})]})})]},C._id)})})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:O,noValidate:!0,children:[o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:n,onChange:C=>r(C.target.value),required:!0,disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:C=>{const P=C.target.value;if(E)if(P==="other"){let M=prompt("Please enter supervisor name:");M&&T([...E,M])}else E.includes(P)?alert("User with this name already existed."):T([...E,P])},children:[o.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((C,P)=>{var M,B,D,R,L,F;return o.jsxs("option",{value:(B=(M=C==null?void 0:C.data)==null?void 0:M.name)==null?void 0:B.stringValue,children:[(R=(D=C==null?void 0:C.data)==null?void 0:D.name)==null?void 0:R.stringValue,"-",(F=(L=C==null?void 0:C.data)==null?void 0:L.email)==null?void 0:F.stringValue]},P)}),o.jsx("option",{value:"other",children:"Other"})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:E==null?void 0:E.map((C,P)=>o.jsxs("span",{className:"badge bg-success",children:[C," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const M=E.filter(B=>B!==C);T(M)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},P))})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"paperType",value:s,onChange:C=>i(C.target.value),required:!0,disabled:S,children:[o.jsx("option",{value:"",children:"---select type---"}),o.jsx("option",{value:"Conference",children:"Conference"}),o.jsx("option",{value:"Patent",children:"Patent"}),o.jsx("option",{value:"Journal",children:"Journal"}),o.jsx("option",{value:"Book",children:"Book"}),o.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),o.jsx("option",{value:"Publications",children:"Publications"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:a,onChange:C=>l(C.target.value),required:!0,disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:c,onChange:C=>u(C.target.value),required:!0,disabled:S,children:[o.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((C,P)=>o.jsx("option",{value:2008+P,children:2008+P},P))]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),o.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:d,onChange:C=>h(C.target.value),disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 mb-2",children:[o.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:C=>p(C.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:S})]}),o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:g,onChange:C=>w(C.target.value),required:!0,disabled:S}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),o.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:y,onChange:C=>m(C.target.value),disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),o.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:v,onChange:C=>x(C.target.value),disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),o.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:b,onChange:C=>I(C.target.value),disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),o.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:_,onChange:C=>j(C.target.value),disabled:S})]})]}),o.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:S,children:S?"Please Wait...":"Submit"})]})})]})})}),o.jsx(wz,{getsupervisors:e})]})},wz=({getsupervisors:t})=>{const e=N.useRef(null),[n,r]=N.useState(!1),[s,i]=N.useState([]),[a,l]=N.useState([]),c=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];f&&Qj.parse(f,{complete:g=>{const w=g.data.filter(y=>Object.values(y).some(m=>m!==""));l(w)},header:!0})},u=async h=>{try{return!(await Bt(HI(Se(se,"publications"),WI("paperTitle","==",h)))).empty}catch{return!1}},d=async h=>{if(h.preventDefault(),!s.length){alert("Please select supervisors!");return}if(!a.length){alert("ERROR! Invalid CSV File Selected.");return}r(!0);const f=a.map(async p=>{const g=Object.values(p);if(!await u(g[2]))return Jt(Se(se,"publications"),{paperTitle:g[2],paperType:g[0],publisher:g[3],publicationDate:g[4],link:g[7],author:g[1],journalName:g[5],pages:g[9],volume:g[6],impact:g[8],isbn:g[10],users:s})});await Promise.all(f),alert("Publications has been saved!"),r(!1),window.location.reload()};return o.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Import Publications"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these publications will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:h=>{const f=h.target.value;!s||f===""||(s.includes(f)?alert("User with this name already existed."):i([...s,f]))},children:[o.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((h,f)=>{var p,g,w,y,m,v;return o.jsxs("option",{value:(g=(p=h==null?void 0:h.data)==null?void 0:p.name)==null?void 0:g.stringValue,children:[(y=(w=h==null?void 0:h.data)==null?void 0:w.name)==null?void 0:y.stringValue,"-",(v=(m=h==null?void 0:h.data)==null?void 0:m.email)==null?void 0:v.stringValue]},f)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:s==null?void 0:s.map((h,f)=>o.jsxs("span",{className:"badge bg-success",children:[h," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const p=s.filter(g=>g!==h);i(p)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},f))})]}),o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",o.jsx("button",{className:"btn btn-link",onClick:()=>Xj(gz,vz,"sample_publications_csv"),children:"Download Sample CSV file"}),")"]}),o.jsx("input",{ref:e,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:c})]}),o.jsx("div",{className:"d-flex gap-1 flex-wrap",children:a.length>0&&o.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[o.jsxs("table",{className:"table table-bordered",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(a[0]).map(h=>o.jsx("th",{children:h},h))})}),o.jsx("tbody",{children:a.map((h,f)=>o.jsx("tr",{children:Object.values(h).map((p,g)=>o.jsx("td",{children:p},g))},f))})]}),o.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:n,onClick:d,children:n?"Please Wait...":"Submit"})]})]})})})},Jj=async()=>{try{const t=Se(se,"news"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.description.stringValue,c=i.timestamp.stringValue,u=i.title.stringValue;n.push({_id:a,title:u,datetime1:c,description:l})});await Promise.all(r),Zt.dispatch(X3(n))}catch(t){console.error("Error fetching news:",t)}};async function xz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=ct(se,"news",t);await Pn(e),alert("News item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting News!")}}}async function bz(t,e){try{const n=ct(se,"news",t),i={...(await Ji(n)).data(),...e};await ZV(n,i,{merge:!0}),alert("News item edited successfully.")}catch(n){console.log(n),alert("Error editing news!")}}const c_=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:s,setTitle:i,submitHandler:a,_id:l})=>o.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog ",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>i(c.target.value),disabled:t,value:e})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),o.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",onChange:c=>s(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:a,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),_z=()=>{const t=re(h=>h.getnews).data,[e,n]=N.useState(),[r,s]=N.useState(),[i,a]=N.useState(),[l,c]=N.useState(!1);N.useEffect(()=>{Jj()},[]);const u=()=>{if(!e||!r||!i){console.log("Please fill all required fields.");return}c(!0),Jt(Se(se,"news"),{title:r,timestamp:i,description:e}).then(()=>{alert("News has been saved! You can view it in the admin panel."),s(""),n(""),c(!1),window.location.reload()}).catch(h=>{console.error("Error saving image data:",h),c(!1)})},d=h=>{a(h.datetime1),s(h.title)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Latest News"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>o.jsxs("tr",{children:[o.jsx("td",{children:f+1}),o.jsx("td",{children:h.title}),o.jsx("td",{children:Ez(h==null?void 0:h.datetime1)}),o.jsx("td",{children:h.description}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>xz(h._id),children:"Delete"})}),o.jsxs("li",{children:[o.jsx("button",{className:"dropdown-item text-primary",onClick:()=>d(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),o.jsx(c_,{_id:`EditNewsModal${h._id}`,submitHandler:()=>bz(h._id,{title:r,datetime:i}),datetime:i,loading:l,setDescription:n,setDateTime:a,setTitle:s})]})]})]})})]},f))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"News Not Found!"})})})]})]}),o.jsx(c_,{_id:"AddNewsModal",submitHandler:u,datetime:i,loading:l,setDescription:n,setDateTime:a,setTitle:s})]})},Ez=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},Tz=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(!1),a=async l=>{if(l.preventDefault(),t!==n||t===""||n===""){alert("Passwords do not match");return}const c=gi.currentUser;if(!c){location.href="/CVPR_LAB/#/";return}c?H$(c,n).then(()=>{alert("Password updated successfully"),location.href="/CVPR_LAB/#/dashboard"}).catch(()=>{alert("Logout and try again!")}):console.error("No user is currently signed in."),r(""),e("")};return N.useEffect(()=>{t===n&&t!=""&&n!=""?i(!0):i(!1)},[t,n]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsx("div",{className:"w-100 d-flex justify-content-between",children:o.jsx("h3",{children:"Change Password"})}),o.jsx("hr",{}),o.jsxs("form",{className:"row g-3",onSubmit:a,noValidate:!0,children:[o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),o.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:l=>e(l.target.value),required:!0}),o.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:l=>r(l.target.value),required:!0}),o.jsx("div",{className:`rounded-0 p-2 mt-2 ${s?"alert alert-success":"alert alert-danger"}`,role:"alert",children:s?"Password and Confirm Password Matched!":"Password and Confirm Password do not Match!"})]}),o.jsx("div",{className:"mb-3",children:o.jsx("button",{type:"submit",className:"btn btn-danger text-uppercase w-full",children:"Submit"})})]})]})})};/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(n),!0).forEach(function(r){Nz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function Sz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tC(r.key),r)}}function Iz(t,e,n){return e&&d_(t.prototype,e),n&&d_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nz(t,e,n){return e=tC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eC(t){return jz(t)||Cz(t)||Pz(t)||Az()}function jz(t){if(Array.isArray(t))return wg(t)}function Cz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pz(t,e){if(t){if(typeof t=="string")return wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wg(t,e)}}function wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kz(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tC(t){var e=kz(t,"string");return typeof e=="symbol"?e:String(e)}var hf=typeof window<"u"&&typeof window.document<"u",Cr=hf?window:{},yw=hf&&Cr.document.documentElement?"ontouchstart"in Cr.document.documentElement:!1,ww=hf?"PointerEvent"in Cr:!1,$e="cropper",xw="all",nC="crop",rC="move",sC="zoom",Zs="e",ei="w",oa="s",as="n",Fo="ne",Uo="nw",$o="se",Bo="sw",xg="".concat($e,"-crop"),h_="".concat($e,"-disabled"),sn="".concat($e,"-hidden"),f_="".concat($e,"-hide"),Rz="".concat($e,"-invisible"),Qd="".concat($e,"-modal"),bg="".concat($e,"-move"),lc="".concat($e,"Action"),vu="".concat($e,"Preview"),bw="crop",iC="move",aC="none",_g="crop",Eg="cropend",Tg="cropmove",Sg="cropstart",p_="dblclick",Dz=yw?"touchstart":"mousedown",Oz=yw?"touchmove":"mousemove",Lz=yw?"touchend touchcancel":"mouseup",m_=ww?"pointerdown":Dz,g_=ww?"pointermove":Oz,v_=ww?"pointerup pointercancel":Lz,y_="ready",w_="resize",x_="wheel",Ig="zoom",b_="image/jpeg",Mz=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Vz=/^data:/,Fz=/^data:image\/jpeg;base64,/,Uz=/^img|canvas$/i,oC=200,lC=100,__={viewMode:0,dragMode:bw,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:oC,minContainerHeight:lC,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},$z='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Bz=Number.isNaN||Cr.isNaN;function fe(t){return typeof t=="number"&&!Bz(t)}var E_=function(e){return e>0&&e<1/0};function Ep(t){return typeof t>"u"}function Fi(t){return yg(t)==="object"&&t!==null}var zz=Object.prototype.hasOwnProperty;function Sa(t){if(!Fi(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&zz.call(n,"isPrototypeOf")}catch{return!1}}function nn(t){return typeof t=="function"}var Hz=Array.prototype.slice;function cC(t){return Array.from?Array.from(t):Hz.call(t)}function at(t,e){return t&&nn(e)&&(Array.isArray(t)||fe(t.length)?cC(t).forEach(function(n,r){e.call(t,n,r,t)}):Fi(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var He=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Fi(e)&&r.length>0&&r.forEach(function(i){Fi(i)&&Object.keys(i).forEach(function(a){e[a]=i[a]})}),e},Wz=/\.\d*(?:0|9){12}\d*$/;function Ua(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Wz.test(t)?Math.round(t*e)/e:t}var qz=/^width|height|left|top|marginLeft|marginTop$/;function xs(t,e){var n=t.style;at(e,function(r,s){qz.test(s)&&fe(r)&&(r="".concat(r,"px")),n[s]=r})}function Gz(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function pt(t,e){if(e){if(fe(t.length)){at(t,function(r){pt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Ir(t,e){if(e){if(fe(t.length)){at(t,function(n){Ir(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Ia(t,e,n){if(e){if(fe(t.length)){at(t,function(r){Ia(r,e,n)});return}n?pt(t,e):Ir(t,e)}}var Kz=/([a-z\d])([A-Z])/g;function _w(t){return t.replace(Kz,"$1-$2").toLowerCase()}function Ng(t,e){return Fi(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(_w(e)))}function cc(t,e,n){Fi(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(_w(e)),n)}function Yz(t,e){if(Fi(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(_w(e)))}var uC=/\s\s*/,dC=function(){var t=!1;if(hf){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Cr.addEventListener("test",n,r),Cr.removeEventListener("test",n,r)}return t}();function Qn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(uC).forEach(function(i){if(!dC){var a=t.listeners;a&&a[i]&&a[i][n]&&(s=a[i][n],delete a[i][n],Object.keys(a[i]).length===0&&delete a[i],Object.keys(a).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Ln(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(uC).forEach(function(i){if(r.once&&!dC){var a=t.listeners,l=a===void 0?{}:a;s=function(){delete l[i][n],t.removeEventListener(i,s,r);for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];n.apply(t,d)},l[i]||(l[i]={}),l[i][n]&&t.removeEventListener(i,l[i][n],r),l[i][n]=s,t.listeners=l}t.addEventListener(i,s,r)})}function $a(t,e,n){var r;return nn(Event)&&nn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function hC(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Tp=Cr.location,Qz=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function T_(t){var e=t.match(Qz);return e!==null&&(e[1]!==Tp.protocol||e[2]!==Tp.hostname||e[3]!==Tp.port)}function S_(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function _l(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,a=[];fe(s)&&s!==0&&a.push("translateX(".concat(s,"px)")),fe(i)&&i!==0&&a.push("translateY(".concat(i,"px)")),fe(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),fe(n)&&n!==1&&a.push("scaleX(".concat(n,")")),fe(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var l=a.length?a.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function Xz(t){var e=Zj({},t),n=0;return at(t,function(r,s){delete e[s],at(e,function(i){var a=Math.abs(r.startX-i.startX),l=Math.abs(r.startY-i.startY),c=Math.abs(r.endX-i.endX),u=Math.abs(r.endY-i.endY),d=Math.sqrt(a*a+l*l),h=Math.sqrt(c*c+u*u),f=(h-d)/d;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function yu(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:Zj({startX:n,startY:r},s)}function Jz(t){var e=0,n=0,r=0;return at(t,function(s){var i=s.startX,a=s.startY;e+=i,n+=a,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function bs(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=E_(r),a=E_(n);if(i&&a){var l=n*e;s==="contain"&&l>r||s==="cover"&&l<r?n=r/e:r=n*e}else i?n=r/e:a&&(r=n*e);return{width:r,height:n}}function Zz(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),a=Math.cos(s),l=e*a+n*i,c=e*i+n*a;return r>90?{width:c,height:l}:{width:l,height:c}}function e9(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,a=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,u=e.scaleX,d=u===void 0?1:u,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,w=n.naturalHeight,y=r.fillColor,m=y===void 0?"transparent":y,v=r.imageSmoothingEnabled,x=v===void 0?!0:v,b=r.imageSmoothingQuality,I=b===void 0?"low":b,_=r.maxWidth,j=_===void 0?1/0:_,E=r.maxHeight,T=E===void 0?1/0:E,S=r.minWidth,A=S===void 0?0:S,O=r.minHeight,C=O===void 0?0:O,P=document.createElement("canvas"),M=P.getContext("2d"),B=bs({aspectRatio:p,width:j,height:T}),D=bs({aspectRatio:p,width:A,height:C},"cover"),R=Math.min(B.width,Math.max(D.width,g)),L=Math.min(B.height,Math.max(D.height,w)),F=bs({aspectRatio:s,width:j,height:T}),W=bs({aspectRatio:s,width:A,height:C},"cover"),k=Math.min(F.width,Math.max(W.width,i)),z=Math.min(F.height,Math.max(W.height,a)),X=[-k/2,-z/2,k,z];return P.width=Ua(R),P.height=Ua(L),M.fillStyle=m,M.fillRect(0,0,R,L),M.save(),M.translate(R/2,L/2),M.rotate(c*Math.PI/180),M.scale(d,f),M.imageSmoothingEnabled=x,M.imageSmoothingQuality=I,M.drawImage.apply(M,[t].concat(eC(X.map(function(J){return Math.floor(Ua(J))})))),M.restore(),P}var fC=String.fromCharCode;function t9(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=fC(t.getUint8(s));return r}var n9=/^data:.*,/;function r9(t){var e=t.replace(n9,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return at(s,function(i,a){s[a]=n.charCodeAt(a)}),r}function s9(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(fC.apply(null,cC(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function i9(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var a=e.byteLength,l=2;l+1<a;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break}l+=1}if(s){var c=s+4,u=s+10;if(t9(e,c,4)==="Exif"){var d=e.getUint16(u);if(r=d===18761,(r||d===19789)&&e.getUint16(u+2,r)===42){var h=e.getUint32(u+4,r);h>=8&&(i=u+h)}}}if(i){var f=e.getUint16(i,r),p,g;for(g=0;g<f;g+=1)if(p=i+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function a9(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var o9={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),a=Number(n.minContainerHeight);pt(s,sn),Ir(e,sn);var l={width:Math.max(r.offsetWidth,i>=0?i:oC),height:Math.max(r.offsetHeight,a>=0?a:lC)};this.containerData=l,xs(s,{width:l.width,height:l.height}),pt(e,sn),Ir(s,sn)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,a=s?n.naturalWidth:n.naturalHeight,l=i/a,c=e.width,u=e.height;e.height*l>e.width?r===3?c=e.height*l:u=e.width/l:r===3?u=e.width/l:c=e.height*l;var d={aspectRatio:l,naturalWidth:i,naturalHeight:a,width:c,height:u};this.canvasData=d,this.limited=r===1||r===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=He({},d)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,l=r.viewMode,c=i.aspectRatio,u=this.cropped&&a;if(e){var d=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(d=Math.max(d,s.width),h=Math.max(h,s.height),l===3&&(h*c>d?d=h*c:h=d/c)):l>0&&(d?d=Math.max(d,u?a.width:0):h?h=Math.max(h,u?a.height:0):u&&(d=a.width,h=a.height,h*c>d?d=h*c:h=d/c));var f=bs({aspectRatio:c,width:d,height:h});d=f.width,h=f.height,i.minWidth=d,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(l>(u?0:1)){var p=s.width-i.width,g=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,g),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,g),u&&this.limited&&(i.minLeft=Math.min(a.left,a.left+(a.width-i.width)),i.minTop=Math.min(a.top,a.top+(a.height-i.height)),i.maxLeft=a.left,i.maxTop=a.top,l===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,g),i.maxTop=Math.max(0,g))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=Zz({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),a=i.width,l=i.height,c=r.width*(a/r.naturalWidth),u=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(u-r.height)/2,r.width=c,r.height=u,r.aspectRatio=a/l,r.naturalWidth=a,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,xs(this.canvas,He({width:r.width,height:r.height},_l({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);He(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),xs(this.image,He({width:r.width,height:r.height},_l(He({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=He({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var u=Number(r.minCropBoxWidth)||0,d=Number(r.minCropBoxHeight)||0,h=l?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,f=l?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;u=Math.min(u,s.width),d=Math.min(d,s.height),c&&(u&&d?d*c>u?d=u/c:u=d*c:u?d=u/c:d&&(u=d*c),f*c>h?f=h/c:h=f*c),a.minWidth=Math.min(u,h),a.minHeight=Math.min(d,f),a.maxWidth=h,a.maxHeight=f}n&&(l?(a.minLeft=Math.max(0,i.left),a.minTop=Math.max(0,i.top),a.maxLeft=Math.min(s.width,i.left+i.width)-a.width,a.maxTop=Math.min(s.height,i.top+i.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=s.width-a.width,a.maxTop=s.height-a.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&cc(this.face,lc,r.width>=n.width&&r.height>=n.height?rC:xw),xs(this.cropBox,He({width:r.width,height:r.height},_l({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),$a(this.element,_g,this.getData())}},l9={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=s,a.alt=i,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,at(l,function(c){var u=document.createElement("img");cc(c,vu,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(u.crossOrigin=n),u.src=s,u.alt=i,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){at(this.previews,function(e){var n=Ng(e,vu);xs(e,{width:n.width,height:n.height}),e.innerHTML=n.html,Yz(e,vu)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,a=e.width,l=e.height,c=r.left-n.left-e.left,u=r.top-n.top-e.top;!this.cropped||this.disabled||(xs(this.viewBoxImage,He({width:a,height:l},_l(He({translateX:-c,translateY:-u},e)))),at(this.previews,function(d){var h=Ng(d,vu),f=h.width,p=h.height,g=f,w=p,y=1;s&&(y=f/s,w=i*y),i&&w>p&&(y=p/i,g=s*y,w=p),xs(d,{width:g,height:w}),xs(d.getElementsByTagName("img")[0],He({width:a*y,height:l*y},_l(He({translateX:-c*y,translateY:-u*y},e))))}))}},c9={bind:function(){var e=this.element,n=this.options,r=this.cropper;nn(n.cropstart)&&Ln(e,Sg,n.cropstart),nn(n.cropmove)&&Ln(e,Tg,n.cropmove),nn(n.cropend)&&Ln(e,Eg,n.cropend),nn(n.crop)&&Ln(e,_g,n.crop),nn(n.zoom)&&Ln(e,Ig,n.zoom),Ln(r,m_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Ln(r,x_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Ln(r,p_,this.onDblclick=this.dblclick.bind(this)),Ln(e.ownerDocument,g_,this.onCropMove=this.cropMove.bind(this)),Ln(e.ownerDocument,v_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Ln(window,w_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;nn(n.cropstart)&&Qn(e,Sg,n.cropstart),nn(n.cropmove)&&Qn(e,Tg,n.cropmove),nn(n.cropend)&&Qn(e,Eg,n.cropend),nn(n.crop)&&Qn(e,_g,n.crop),nn(n.zoom)&&Qn(e,Ig,n.zoom),Qn(r,m_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Qn(r,x_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Qn(r,p_,this.onDblclick),Qn(e.ownerDocument,g_,this.onCropMove),Qn(e.ownerDocument,v_,this.onCropEnd),n.responsive&&Qn(window,w_,this.onResize)}},u9={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,a=Math.abs(s-1)>Math.abs(i-1)?s:i;if(a!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(at(l,function(u,d){l[d]=u*a})),this.setCropBoxData(at(c,function(u,d){c[d]=u*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===aC||this.setDragMode(Gz(this.dragBox,xg)?iC:bw)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(fe(n)&&n!==1||fe(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,a;e.changedTouches?at(e.changedTouches,function(l){i[l.identifier]=yu(l)}):i[e.pointerId||0]=yu(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?a=sC:a=Ng(e.target,lc),Mz.test(a)&&$a(this.element,Sg,{originalEvent:e,action:a})!==!1&&(e.preventDefault(),this.action=a,this.cropping=!1,a===nC&&(this.cropping=!0,pt(this.dragBox,Qd)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),$a(this.element,Tg,{originalEvent:e,action:n})!==!1&&(e.changedTouches?at(e.changedTouches,function(s){He(r[s.identifier]||{},yu(s,!0))}):He(r[e.pointerId||0]||{},yu(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?at(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Ia(this.dragBox,Qd,this.cropped&&this.options.modal)),$a(this.element,Eg,{originalEvent:e,action:n}))}}},d9={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,a=this.pointers,l=this.action,c=n.aspectRatio,u=i.left,d=i.top,h=i.width,f=i.height,p=u+h,g=d+f,w=0,y=0,m=s.width,v=s.height,x=!0,b;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(w=i.minLeft,y=i.minTop,m=w+Math.min(s.width,r.width,r.left+r.width),v=y+Math.min(s.height,r.height,r.top+r.height));var I=a[Object.keys(a)[0]],_={x:I.endX-I.startX,y:I.endY-I.startY},j=function(T){switch(T){case Zs:p+_.x>m&&(_.x=m-p);break;case ei:u+_.x<w&&(_.x=w-u);break;case as:d+_.y<y&&(_.y=y-d);break;case oa:g+_.y>v&&(_.y=v-g);break}};switch(l){case xw:u+=_.x,d+=_.y;break;case Zs:if(_.x>=0&&(p>=m||c&&(d<=y||g>=v))){x=!1;break}j(Zs),h+=_.x,h<0&&(l=ei,h=-h,u-=h),c&&(f=h/c,d+=(i.height-f)/2);break;case as:if(_.y<=0&&(d<=y||c&&(u<=w||p>=m))){x=!1;break}j(as),f-=_.y,d+=_.y,f<0&&(l=oa,f=-f,d-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case ei:if(_.x<=0&&(u<=w||c&&(d<=y||g>=v))){x=!1;break}j(ei),h-=_.x,u+=_.x,h<0&&(l=Zs,h=-h,u-=h),c&&(f=h/c,d+=(i.height-f)/2);break;case oa:if(_.y>=0&&(g>=v||c&&(u<=w||p>=m))){x=!1;break}j(oa),f+=_.y,f<0&&(l=as,f=-f,d-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case Fo:if(c){if(_.y<=0&&(d<=y||p>=m)){x=!1;break}j(as),f-=_.y,d+=_.y,h=f*c}else j(as),j(Zs),_.x>=0?p<m?h+=_.x:_.y<=0&&d<=y&&(x=!1):h+=_.x,_.y<=0?d>y&&(f-=_.y,d+=_.y):(f-=_.y,d+=_.y);h<0&&f<0?(l=Bo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Uo,h=-h,u-=h):f<0&&(l=$o,f=-f,d-=f);break;case Uo:if(c){if(_.y<=0&&(d<=y||u<=w)){x=!1;break}j(as),f-=_.y,d+=_.y,h=f*c,u+=i.width-h}else j(as),j(ei),_.x<=0?u>w?(h-=_.x,u+=_.x):_.y<=0&&d<=y&&(x=!1):(h-=_.x,u+=_.x),_.y<=0?d>y&&(f-=_.y,d+=_.y):(f-=_.y,d+=_.y);h<0&&f<0?(l=$o,f=-f,h=-h,d-=f,u-=h):h<0?(l=Fo,h=-h,u-=h):f<0&&(l=Bo,f=-f,d-=f);break;case Bo:if(c){if(_.x<=0&&(u<=w||g>=v)){x=!1;break}j(ei),h-=_.x,u+=_.x,f=h/c}else j(oa),j(ei),_.x<=0?u>w?(h-=_.x,u+=_.x):_.y>=0&&g>=v&&(x=!1):(h-=_.x,u+=_.x),_.y>=0?g<v&&(f+=_.y):f+=_.y;h<0&&f<0?(l=Fo,f=-f,h=-h,d-=f,u-=h):h<0?(l=$o,h=-h,u-=h):f<0&&(l=Uo,f=-f,d-=f);break;case $o:if(c){if(_.x>=0&&(p>=m||g>=v)){x=!1;break}j(Zs),h+=_.x,f=h/c}else j(oa),j(Zs),_.x>=0?p<m?h+=_.x:_.y>=0&&g>=v&&(x=!1):h+=_.x,_.y>=0?g<v&&(f+=_.y):f+=_.y;h<0&&f<0?(l=Uo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Bo,h=-h,u-=h):f<0&&(l=Fo,f=-f,d-=f);break;case rC:this.move(_.x,_.y),x=!1;break;case sC:this.zoom(Xz(a),e),x=!1;break;case nC:if(!_.x||!_.y){x=!1;break}b=hC(this.cropper),u=I.startX-b.left,d=I.startY-b.top,h=i.minWidth,f=i.minHeight,_.x>0?l=_.y>0?$o:Fo:_.x<0&&(u-=h,l=_.y>0?Bo:Uo),_.y<0&&(d-=f),this.cropped||(Ir(this.cropBox,sn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}x&&(i.width=h,i.height=f,i.left=u,i.top=d,this.action=l,this.renderCropBox()),at(a,function(E){E.startX=E.endX,E.startY=E.endY})}},h9={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&pt(this.dragBox,Qd),Ir(this.cropBox,sn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=He({},this.initialImageData),this.canvasData=He({},this.initialCanvasData),this.cropBoxData=He({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(He(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ir(this.dragBox,Qd),pt(this.cropBox,sn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,at(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ir(this.cropper,h_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,pt(this.cropper,h_)),this},destroy:function(){var e=this.element;return e[$e]?(e[$e]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(Ep(e)?e:s+Number(e),Ep(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(fe(e)&&(r.left=e,s=!0),fe(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,a=i.width,l=i.height,c=i.naturalWidth,u=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var d=c*e,h=u*e;if($a(this.element,Ig,{ratio:e,oldRatio:a/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=hC(this.cropper),g=f&&Object.keys(f).length?Jz(f):{pageX:r.pageX,pageY:r.pageY};i.left-=(d-a)*((g.pageX-p.left-i.left)/a),i.top-=(h-l)*((g.pageY-p.top-i.top)/l)}else Sa(n)&&fe(n.x)&&fe(n.y)?(i.left-=(d-a)*((n.x-i.left)/a),i.top-=(h-l)*((n.y-i.top)/l)):(i.left-=(d-a)/2,i.top-=(h-l)/2);i.width=d,i.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),fe(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,fe(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(fe(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(fe(e)&&(r.scaleX=e,s=!0),fe(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var l=r.width/r.naturalWidth;if(at(a,function(d,h){a[h]=d/l}),e){var c=Math.round(a.y+a.height),u=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=u-a.x,a.height=c-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&Sa(e)){var a=!1;n.rotatable&&fe(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,a=!0),n.scalable&&(fe(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,a=!0),fe(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;fe(e.x)&&(i.left=e.x*l+s.left),fe(e.y)&&(i.top=e.y*l+s.top),fe(e.width)&&(i.width=e.width*l),fe(e.height)&&(i.height=e.height*l),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?He({},this.containerData):{}},getImageData:function(){return this.sized?He({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&at(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Sa(e)&&(fe(e.left)&&(n.left=e.left),fe(e.top)&&(n.top=e.top),fe(e.width)?(n.width=e.width,n.height=e.width/r):fe(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&Sa(e)&&(fe(e.left)&&(n.left=e.left),fe(e.top)&&(n.top=e.top),fe(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),fe(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=e9(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,a=s.y,l=s.width,c=s.height,u=r.width/Math.floor(n.naturalWidth);u!==1&&(i*=u,a*=u,l*=u,c*=u);var d=l/c,h=bs({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=bs({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=bs({aspectRatio:d,width:e.width||(u!==1?r.width:l),height:e.height||(u!==1?r.height:c)}),g=p.width,w=p.height;g=Math.min(h.width,Math.max(f.width,g)),w=Math.min(h.height,Math.max(f.height,w));var y=document.createElement("canvas"),m=y.getContext("2d");y.width=Ua(g),y.height=Ua(w),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,w);var v=e.imageSmoothingEnabled,x=v===void 0?!0:v,b=e.imageSmoothingQuality;m.imageSmoothingEnabled=x,b&&(m.imageSmoothingQuality=b);var I=r.width,_=r.height,j=i,E=a,T,S,A,O,C,P;j<=-l||j>I?(j=0,T=0,A=0,C=0):j<=0?(A=-j,j=0,T=Math.min(I,l+j),C=T):j<=I&&(A=0,T=Math.min(l,I-j),C=T),T<=0||E<=-c||E>_?(E=0,S=0,O=0,P=0):E<=0?(O=-E,E=0,S=Math.min(_,c+E),P=S):E<=_&&(O=0,S=Math.min(c,_-E),P=S);var M=[j,E,T,S];if(C>0&&P>0){var B=g/l;M.push(A*B,O*B,C*B,P*B)}return m.drawImage.apply(m,[r].concat(eC(M.map(function(D){return Math.floor(Ua(D))})))),y},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!Ep(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===bw,a=n.movable&&e===iC;e=i||a?e:aC,n.dragMode=e,cc(r,lc,e),Ia(r,xg,i),Ia(r,bg,a),n.cropBoxMovable||(cc(s,lc,e),Ia(s,xg,i),Ia(s,bg,a))}return this}},f9=Cr.Cropper,pC=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Sz(this,t),!e||!Uz.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=He({},__,Sa(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Iz(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[$e]){if(n[$e]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Vz.test(n)){Fz.test(n)?this.read(r9(n)):this.clone();return}var a=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=l,a.onerror=l,a.ontimeout=l,a.onprogress=function(){a.getResponseHeader("content-type")!==b_&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&T_(n)&&s.crossOrigin&&(n=S_(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=s.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=i9(n),a=0,l=1,c=1;if(i>1){this.url=s9(n,b_);var u=a9(i);a=u.rotate,l=u.scaleX,c=u.scaleY}r.rotatable&&(s.rotate=a),r.scalable&&(s.scaleX=l,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&T_(r)&&(s||(s="anonymous"),i=S_(r)),this.crossOrigin=s,this.crossOriginUrl=i;var a=document.createElement("img");s&&(a.crossOrigin=s),a.src=i||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),pt(a,f_),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Cr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Cr.navigator.userAgent),i=function(u,d){He(n.imageData,{naturalWidth:u,naturalHeight:d,aspectRatio:u/d}),n.initialImageData=He({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){i(a.width,a.height),s||l.removeChild(a)},a.src=r.src,s||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,a=document.createElement("div");a.innerHTML=$z;var l=a.querySelector(".".concat($e,"-container")),c=l.querySelector(".".concat($e,"-canvas")),u=l.querySelector(".".concat($e,"-drag-box")),d=l.querySelector(".".concat($e,"-crop-box")),h=d.querySelector(".".concat($e,"-face"));this.container=i,this.cropper=l,this.canvas=c,this.dragBox=u,this.cropBox=d,this.viewBox=l.querySelector(".".concat($e,"-view-box")),this.face=h,c.appendChild(s),pt(n,sn),i.insertBefore(l,n.nextSibling),Ir(s,f_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,pt(d,sn),r.guides||pt(d.getElementsByClassName("".concat($e,"-dashed")),sn),r.center||pt(d.getElementsByClassName("".concat($e,"-center")),sn),r.background&&pt(l,"".concat($e,"-bg")),r.highlight||pt(h,Rz),r.cropBoxMovable&&(pt(h,bg),cc(h,lc,xw)),r.cropBoxResizable||(pt(d.getElementsByClassName("".concat($e,"-line")),sn),pt(d.getElementsByClassName("".concat($e,"-point")),sn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),nn(r.ready)&&Ln(n,y_,r.ready,{once:!0}),$a(n,y_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Ir(this.element,sn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=f9,t}},{key:"setDefaults",value:function(n){He(__,Sa(n)&&n)}}]),t}();He(pC.prototype,o9,l9,c9,u9,d9,h9);var ai=function(){return ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},ai.apply(this,arguments)};function Sp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var p9=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],m9={opacity:0,maxWidth:"100%"},mC=Ee.forwardRef(function(t,e){var n=Sp(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,a=n.style,l=n.className,c=n.crossOrigin,u=n.scaleX,d=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,w=g===void 0?"picture":g,y=n.ready,m=n.onInitialized,v=Sp(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),x={scaleY:d,scaleX:u,enable:h,zoomTo:f,rotateTo:p},b=function(){for(var _=[],j=0;j<arguments.length;j++)_[j]=arguments[j];var E=N.useRef(null);return Ee.useEffect(function(){_.forEach(function(T){T&&(typeof T=="function"?T(E.current):T.current=E.current)})},[_]),E}(e,N.useRef(null));N.useEffect(function(){var _;!((_=b.current)===null||_===void 0)&&_.cropper&&typeof f=="number"&&b.current.cropper.zoomTo(f)},[n.zoomTo]),N.useEffect(function(){var _;!((_=b.current)===null||_===void 0)&&_.cropper&&i!==void 0&&b.current.cropper.reset().clear().replace(i)},[i]),N.useEffect(function(){if(b.current!==null){var _=new pC(b.current,ai(ai({dragMode:s},v),{ready:function(j){j.currentTarget!==null&&function(E,T){T===void 0&&(T={});var S=T.enable,A=S===void 0||S,O=T.scaleX,C=O===void 0?1:O,P=T.scaleY,M=P===void 0?1:P,B=T.zoomTo,D=B===void 0?0:B,R=T.rotateTo;A?E.enable():E.disable(),E.scaleX(C),E.scaleY(M),R!==void 0&&E.rotateTo(R),D>0&&E.zoomTo(D)}(j.currentTarget.cropper,x),y&&y(j)}}));m&&m(_)}return function(){var j,E;(E=(j=b.current)===null||j===void 0?void 0:j.cropper)===null||E===void 0||E.destroy()}},[b]);var I=function(_){return p9.reduce(function(j,E){var T=j,S=E;return T[S],Sp(T,[typeof S=="symbol"?S:S+""])},_)}(ai(ai({},v),{crossOrigin:c,src:i,alt:w}));return Ee.createElement("div",{style:a,className:l},Ee.createElement("img",ai({},I,{style:m9,ref:b})))});const gC=async()=>{try{const t=Se(se,"slider_images"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i.title.stringValue,u=l?await g9(l):null;n.push({_id:a,title:c,bannerURL:u})});await Promise.all(r),Zt.dispatch(J3(n))}catch(t){console.error("Error fetching Slider:",t)}},g9=async t=>{try{const e=Ze(et,`slider_images/${t}`);return await ta(e)}catch{return null}};async function v9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=ct(se,"slider_images",t),s=(await Ji(e)).data().banner;if(await Pn(e),s){const i=Ze(et,`slider_images/${s}`);await na(i)}alert("Slider item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Slider!")}}}const y9=()=>{const t=re(p=>p.getslider).data,[e,n]=N.useState(),[r,s]=N.useState(""),[i,a]=N.useState(!1),[l,c]=N.useState("");N.useEffect(()=>{gC()},[]);const u=N.useRef(null),d=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(u&&u.current){const p=u.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){alert("Please select an image and provide a title!");return}a(!0);const p=Ze(et,`slider_images/${r}`),g=await fetch(l).then(y=>y.blob()),w=new FileReader;w.readAsDataURL(g),w.onloadend=async()=>{ea(p,g).then(async()=>{await Jt(Se(se,"slider_images"),{title:r,bannerURL:r}),alert("Slider Image has been saved!"),s(""),n(null),a(!1),window.location.reload()}).catch(()=>{alert("Error uploading image!"),a(!1)})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Slider Images"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{children:g+1}),o.jsx("td",{children:p.title}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ee,{target:"_blank",to:p.bannerURL,children:o.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>v9(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog ",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:i,value:r})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:i}),o.jsx("div",{className:"my-2",children:o.jsx(mC,{src:e,ref:u,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Ew=async()=>{try{const t=Se(se,"phdStudents"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await x9(l):null;n.push({_id:a,data:i,profileImage:c})});await Promise.all(r),Zt.dispatch(tB(n))}catch(t){console.error("Error fetching phd:",t)}};async function w9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=ct(se,"phdStudents",t);await Pn(e),alert("phd item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting phd!")}}}const x9=async t=>{try{const e=Ze(et,`/peoples/phd_profile_images/${t}`);return await ta(e)}catch{return null}},vC=async()=>{try{const t=Se(se,"pgusStudents"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),Zt.dispatch(nB(n))}catch(t){console.error("Error fetching pgug:",t)}};async function b9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=ct(se,"pgusStudents",t);await Pn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting pgug!")}}}const yC=async()=>{try{const t=Se(se,"visitorsAndInterns"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),Zt.dispatch(rB(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function _9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=ct(se,"visitorsAndInterns",t);await Pn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Visitor/Intern!")}}}const E9=()=>{const t=re(l=>l.getphdStudents.data),e=re(l=>l.getpgugStudents.data),n=re(l=>l.getvisitorsandinterns.data),[r,s]=N.useState(1),[i,a]=N.useState("");return N.useEffect(()=>{Ew(),vC(),yC()},[]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Peoples"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"w-100",children:o.jsxs(o.Fragment,{children:[o.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>s(1),children:"Ph.D. Scholars"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(2),children:"Post Graduate students"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(3),children:"Alumni PhD"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(4),children:"Alumni Masters and Bachelors"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(5),children:"Interns and Visitors"})})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[(r===1||r===3)&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),r!==5&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(r===2||r===4)&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),r!==5&&o.jsxs(o.Fragment,{children:[" ",o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:r===3||r===1?"Research Interests":"Currently Working At"})]}),r===5&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsxs("tbody",{children:[(r===1||r===3)&&(t==null?void 0:t.map(l=>{var g,w;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p}=l==null?void 0:l.data;return r===1&&(d!=null&&d.booleanValue)||r===3&&!(d!=null&&d.booleanValue)?null:o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("a",{href:l==null?void 0:l.profileImage,target:"_blank",children:o.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{width:"80px"}})})}),o.jsxs("td",{children:[c==null?void 0:c.stringValue,(d==null?void 0:d.booleanValue)&&o.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("td",{children:o.jsx("a",{href:"mailto:"+(h==null?void 0:h.stringValue),target:"_blank",children:(h==null?void 0:h.stringValue)||"N/A"})}),o.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),o.jsx("td",{children:f==null?void 0:f.stringValue}),o.jsx("td",{children:o.jsx("ol",{children:(w=(g=p==null?void 0:p.arrayValue)==null?void 0:g.values)==null?void 0:w.map((y,m)=>o.jsx("li",{children:y.stringValue},m))})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>w9(l._id),children:"Delete"})})})]})})]},l._id)})),(r===2||r===4)&&(e==null?void 0:e.map(l=>{const{name:c,batch:u,isAlumni:d,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return r===2&&(d!=null&&d.booleanValue)||r===4&&!(d!=null&&d.booleanValue)?null:o.jsxs("tr",{children:[o.jsxs("td",{children:[c==null?void 0:c.stringValue,(d==null?void 0:d.booleanValue)&&o.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("td",{children:o.jsx("a",{href:"mailto:"+(h==null?void 0:h.stringValue),target:"_blank",children:(h==null?void 0:h.stringValue)||"N/A"})}),o.jsx("td",{children:(p==null?void 0:p.stringValue)||"N/A"}),o.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),o.jsx("td",{children:f==null?void 0:f.stringValue}),o.jsx("td",{children:g==null?void 0:g.stringValue}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>b9(l._id),children:"Delete"})})})]})})]},l._id)})),r===5&&(n==null?void 0:n.map(l=>{const{name:c,collegeName:u}=l==null?void 0:l.data;return o.jsxs("tr",{children:[o.jsx("td",{children:c==null?void 0:c.stringValue}),o.jsx("td",{children:u==null?void 0:u.stringValue}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>_9(l._id),children:"Delete"})})})]})})]},l._id)}))]})]}),!n.length&&r===5&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!t.length&&(r===1||r===3)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!e.length&&(r===2||r===4)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]})})]}),o.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),o.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:l=>a(l.target.value),children:[o.jsx("option",{value:"",children:"--select designation--"}),o.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),o.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),o.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),o.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),o.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"mb-2",children:[(i==="Ph.D. Scholars"||i==="Alumni Ph.D.")&&o.jsx(T9,{}),(i==="Post Graduate students"||i==="Alumni Masters and Bachelors")&&o.jsx(S9,{}),i==="Visitors and Interns"&&o.jsx(I9,{})]})]})})]})})})]})},T9=()=>{const t=re(b=>b.getsupervisors.data),[e,n]=N.useState(""),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState({name:"",email:""}),[h,f]=N.useState(""),[p,g]=N.useState(!1),[w,y]=N.useState(!1),[m,v]=N.useState(),x=async b=>{if(b.preventDefault(),!e||!r||!i||!l||!h){alert("Please fill all required fields.");return}if(!m){console.log("Please upload a profile image.");return}y(!0);const I=Ze(et,`/peoples/phd_profile_images/${e}_${m.name}`);await ea(I,m).then(async()=>{console.log("Profile image uploaded successfully"),Jt(Se(se,"phdStudents"),{name:e,email:r,mobile:i,batch:l,supervisor:u,researchInterests:h.split(",").map(_=>_.trim()),isAlumni:p,profileImage:e+"_"+m.name}).then(()=>{alert("PhD student data has been saved!"),n(""),s(""),a(""),c(""),f(""),g(!1),y(!1),window.location.reload()}).catch(_=>{console.error("Error saving PhD student data:",_),y(!1)})})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:x,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:b=>n(b.target.value)})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",onChange:b=>s(b.target.value),placeholder:"ie. user@gmail.com"})]}),o.jsxs("div",{className:"col",children:[o.jsxs("label",{htmlFor:"useremail",children:["Supervisor",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:b=>{var I,_,j;d({name:b.target.value,email:(j=(_=(I=t.filter(E=>{var T,S;return((S=(T=E==null?void 0:E.data)==null?void 0:T.name)==null?void 0:S.stringValue)==b.target.value})[0])==null?void 0:I.data)==null?void 0:_.email)==null?void 0:j.stringValue})},children:[o.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((b,I)=>{var _,j,E,T,S,A;return o.jsxs("option",{value:(j=(_=b==null?void 0:b.data)==null?void 0:_.name)==null?void 0:j.stringValue,children:[(T=(E=b==null?void 0:b.data)==null?void 0:E.name)==null?void 0:T.stringValue,"-",(A=(S=b==null?void 0:b.data)==null?void 0:S.email)==null?void 0:A.stringValue]},I)})]})]})]}),o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Mobile"}),o.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:b=>a(b.target.value),placeholder:"ie. 10 digits mobile number"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:b=>{var _;const I=(_=b.target.files)==null?void 0:_[0];v(I)},disabled:w})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Batch"}),o.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:b=>c(b.target.value)})]})]}),o.jsxs("div",{className:"mb-1",children:[o.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),o.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:b=>f(b.target.value)})]}),o.jsx("div",{className:"mb-1 mt-2",children:o.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[o.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:b=>g(b.target.checked)}),o.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:w,children:w?"Submitting...":"Submit"})})]})})},S9=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[f,p]=N.useState(!1),[g,w]=N.useState(!1),y=m=>{if(m.preventDefault(),!t||!n||!s||!a||!c||!d){alert("Please fill all required fields.");return}w(!0),Jt(Se(se,"pgusStudents"),{degree:t,name:n,email:s,mobile:a,batch:c,currentlyWorkingAt:d,isAlumni:f}).then(()=>{alert("PG/UG student data has been saved!"),e(""),r(""),i(""),l(""),u(""),h(""),p(!1),w(!1),location.reload()}).catch(v=>{console.error("Error saving PG/UG student data:",v),w(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:y,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),o.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[o.jsx("option",{value:"",children:"--select--"}),o.jsx("option",{value:"B.Tech",children:"B.Tech"}),o.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>i(m.target.value)})]})]}),o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Mobile"}),o.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Batch"}),o.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>u(m.target.value)})]})]}),o.jsxs("div",{className:"mb-1",children:[o.jsx("label",{htmlFor:"name",children:"Currently Working At"}),o.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),o.jsx("div",{className:"mb-1 mt-2",children:o.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[o.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:m=>p(m.target.checked)}),o.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},I9=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(!1),a=l=>{if(l.preventDefault(),!t||!n){alert("Please fill all required fields.");return}i(!0),Jt(Se(se,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{alert("Visitor/Intern data has been saved!"),e(""),r(""),i(!1),location.reload()}).catch(c=>{console.error("Error saving Visitor/Intern data:",c),i(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:a,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"College Name"}),o.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:s,children:s?"Submitting...":"Submit"})})]})})},I_=()=>{const t=re(u=>u.getsupervisors.data),[e,n]=N.useState(!1),[r,s]=N.useState(),[i,a]=N.useState({name:"",email:"",phone:"",researchInterests:"",introduction:"",googleScholarLink:"",researchGateLink:"",personalProfileLink:"",otherLink:""});N.useEffect(()=>{So()},[]);const l=u=>{const{name:d,value:h}=u.target;a(f=>({...f,[d]:h}))},c=async()=>{const{name:u,email:d,phone:h,researchInterests:f,introduction:p,googleScholarLink:g,researchGateLink:w,personalProfileLink:y,otherLink:m}=i;if(!u||!d||!h||!f||!p){console.log("Please fill all required fields.");return}if(!r){console.log("Please upload a profile image.");return}n(!0);const v=Ze(et,`/peoples/supervisor_profile_images/${u}_${r.name}`);await ea(v,r).then(async()=>{console.log("Profile image uploaded successfully"),Jt(Se(se,"supervisors"),{name:u,email:d,phone:h,researchInterests:f,introduction:p,googleScholarLink:g,researchGateLink:w,personalProfileLink:y,otherLink:m,profileImage:u+"_"+r.name,startDate:new Date,endDate:"NA"}).then(()=>{alert("Supervisor details along with profile image have been saved successfully!"),a({name:"",email:"",phone:"",researchInterests:"",introduction:"",googleScholarLink:"",researchGateLink:"",personalProfileLink:"",otherLink:""}),s(void 0),n(!1),window.location.reload()}).catch(x=>{console.error("Error saving supervisor data:",x),n(!1)})}).catch(x=>{console.error("Error uploading profile image:",x),n(!1)})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Supervisor"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>{const{name:h,email:f,phone:p,researchInterests:g,introduction:w,googleScholarLink:y,researchGateLink:m,personalProfileLink:v,otherLink:x,startDate:b,endDate:I}=u==null?void 0:u.data;return o.jsxs("tr",{children:[o.jsx("td",{children:d+1}),o.jsx("td",{children:o.jsx("a",{href:u==null?void 0:u.profileImage,target:"_blank",children:o.jsx("img",{src:u==null?void 0:u.profileImage,alt:`${h}'s profile`,style:{width:"50px",height:"auto"}})})}),o.jsxs("td",{children:[h==null?void 0:h.stringValue,o.jsx("hr",{}),"(From ",b==null?void 0:b.timestampValue," to",I!=null&&I.timestampValue?I==null?void 0:I.timestampValue:" NA",")"]}),o.jsxs("td",{children:["Email:"," ",o.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:f==null?void 0:f.stringValue}),o.jsx("hr",{}),"Mobile: ",p==null?void 0:p.stringValue]}),o.jsx("td",{children:g==null?void 0:g.stringValue}),o.jsx("td",{children:o.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:w==null?void 0:w.stringValue})}),o.jsx("td",{children:o.jsxs("ol",{children:[o.jsx("li",{children:o.jsx(ee,{to:y==null?void 0:y.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Google Scholar"})}),o.jsx("li",{children:o.jsx(ee,{to:m==null?void 0:m.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Researchgate"})}),o.jsx("li",{children:o.jsx(ee,{to:v==null?void 0:v.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Personal Profile"})}),o.jsx("li",{children:o.jsx(ee,{to:x==null?void 0:x.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Other Link"})})]})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${d}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${d}`,children:[o.jsx("li",{children:o.jsx(ee,{className:"dropdown-item text-primary",to:"supervisors/"+(u==null?void 0:u._id),children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>pz(u._id),children:"Delete"})})]})]})})]},u._id)})})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:i.name,onChange:l})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:i.email,onChange:l})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),o.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:i.phone,onChange:l})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:u=>{var h;const d=(h=u.target.files)==null?void 0:h[0];s(d)}})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:i.researchInterests,onChange:l})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),o.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:i.introduction,onChange:l})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"googleScholarLink",className:"form-label",children:"Google Scholar Link"}),o.jsx("input",{type:"text",className:"form-control",name:"googleScholarLink",value:i.googleScholarLink,onChange:l})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchGateLink",className:"form-label",children:"Research Gate Link"}),o.jsx("input",{type:"text",className:"form-control",name:"researchGateLink",value:i.researchGateLink,onChange:l})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"personalProfileLink",className:"form-label",children:"Personal Profile Link"}),o.jsx("input",{type:"text",className:"form-control",name:"personalProfileLink",value:i.personalProfileLink,onChange:l})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"otherLink",className:"form-label",children:"Other Link (if any)"}),o.jsx("input",{type:"text",className:"form-control",name:"otherLink",value:i.otherLink,onChange:l})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:e,children:e?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Io=async()=>{try{const t=Se(se,"datasets"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i==null?void 0:i.title.stringValue,u=i==null?void 0:i.description.stringValue,d=l?await N9(l):null;n.push({_id:a,title:c,description:u,bannerURL:d})});await Promise.all(r),Zt.dispatch(sB(n))}catch(t){console.error("Error fetching Datasets:",t)}},N9=async t=>{try{const e=Ze(et,`dataset_images/${t}`);return await ta(e)}catch{return null}};async function j9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=ct(se,"datasets",t),s=(await Ji(e)).data().banner;if(await Pn(e),s){const i=Ze(et,`dataset_images/${s}`);await na(i)}alert("Datasets item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Datasets!")}}}const C9=()=>{const t=re(w=>w.getdatasets).data,[e,n]=N.useState(),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(""),h=N.useRef(null);N.useEffect(()=>{Io()},[]);const f=w=>{if(w.target.files&&w.target.files.length>0){const y=new FileReader;y.onload=()=>{n(y.result)},y.readAsDataURL(w.target.files[0])}},p=()=>{if(h&&h.current){const w=h.current.cropper;d(w.getCroppedCanvas().toDataURL())}},g=async()=>{if(!u||!r||!i){alert("Please select an image and provide a required fields!");return}c(!0);const w=Ze(et,`dataset_images/${r}`),y=await fetch(u).then(v=>v.blob()),m=new FileReader;m.readAsDataURL(y),m.onloadend=async()=>{ea(w,y).then(async()=>{await Jt(Se(se,"datasets"),{title:r,description:i,bannerURL:r}),alert("Datasets has been saved!"),s(""),n(null),c(!1),window.location.reload()}).catch(()=>{alert("Error uploading image!"),c(!1)})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Datasets"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((w,y)=>o.jsxs("tr",{children:[o.jsx("td",{children:y+1}),o.jsx("td",{children:w==null?void 0:w.title}),o.jsxs("td",{children:[" ",o.jsx("div",{className:"overflow-auto p-2",style:{height:"300px"},children:w==null?void 0:w.description})]}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ee,{target:"_blank",to:w.bannerURL,children:o.jsx("img",{className:"rounded-2",src:w.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>j9(w._id),children:"Delete"})})})]})})]},y))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:w=>s(w.target.value),disabled:l,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),o.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:w=>a(w.target.value),disabled:l,value:i||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/jpeg",onChange:f,disabled:l}),o.jsx("div",{className:"my-2",children:o.jsx(mC,{src:e,ref:h,aspectRatio:16/9,guides:!0,crop:p})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:g,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},ff=async()=>{try{const t=Se(se,"ResearchArea"),e=await Bt(t),n=[],r=e.docs.map(async s=>{var d,h;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=((h=(d=i==null?void 0:i.subareas)==null?void 0:d.arrayValue)==null?void 0:h.values)||[],u=l?await P9(l):null;n.push({_id:a,title:l,subareas:c,bannerURL:u})});await Promise.all(r),Zt.dispatch(iB(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},P9=async t=>{try{const e=Ze(et,`research_areas_images/${t}`);return await ta(e)}catch{return null}};async function A9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=ct(se,"ResearchArea",t),s=(await Ji(e)).data().banner;if(await Pn(e),s){const i=Ze(et,`research_areas_images/${s}`);await na(i)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ResearchArea!")}}}const pf=async()=>{try{const t=Se(se,"research_subitems"),e=await Bt(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i==null?void 0:i.description.stringValue,c=i==null?void 0:i.researchArea,u=(f=(h=i==null?void 0:i.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,d=(p=i==null?void 0:i.title)==null?void 0:p.stringValue;n.push({_id:a,title:d,description:l,researchArea:c,projects:u})});await Promise.all(r),Zt.dispatch(aB(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function k9(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=ct(se,"research_subitems",t);await Pn(n);const r=ct(se,"ResearchArea",e);await Ri(r,{subareas:QI(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const R9=()=>{const t=re(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),[e,n]=N.useState(null),[r,s]=N.useState(""),[i,a]=N.useState(!1);N.useEffect(()=>{ff(),pf()},[]);const l=u=>{if(u.target.files&&u.target.files.length>0){const d=new FileReader;d.onload=()=>{n(d.result)},d.readAsDataURL(u.target.files[0])}},c=async()=>{if(!e||!r){alert("Please select an image and provide a title!");return}a(!0);const u=Ze(et,`research_areas_images/${r}`),d=await fetch(e).then(h=>h.blob());try{await ea(u,d),await Jt(Se(se,"ResearchArea"),{title:r,subareas:[]}),alert("Research area has been saved!"),s(""),n(null),a(!1),location.reload()}catch{alert("Error uploading image!"),a(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Research Area"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>o.jsxs("tr",{children:[o.jsx("td",{children:d+1}),o.jsx("td",{children:u==null?void 0:u.title}),o.jsx("td",{children:o.jsx(ee,{to:u._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ee,{target:"_blank",to:u==null?void 0:u.bannerURL,children:o.jsx("img",{className:"rounded-2",src:u.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>A9(u._id),children:"Delete"})})})]})})]},d))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:u=>s(u.target.value),disabled:i,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]}),o.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:o.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),o.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},ra=async()=>{try{const t=Se(se,"projects_items"),e=await Bt(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=(h=i==null?void 0:i.title)==null?void 0:h.stringValue,c=(f=i==null?void 0:i.pptLink)==null?void 0:f.stringValue,u=(p=i==null?void 0:i.pdfLink)==null?void 0:p.stringValue,d=l?await D9(l):null;n.push({_id:a,title:l,bannerURL:d,pdfLink:u,pptLink:c})});await Promise.all(r),Zt.dispatch(oB(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},D9=async t=>{try{const e=Ze(et,`project_items_images/${t}`);return await ta(e)}catch{return null}};async function O9(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=ct(se,"projects_items",t),s=(await Ji(e)).data().banner;if(await Pn(e),s){const c=Ze(et,`projects_items_images/${s}`);await na(c)}const i=Se(se,"research_subitems"),l=(await Bt(i)).docs.map(async c=>{const u=c.ref;await Ri(u,{projects:QI(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsItems!")}}}const L9=()=>{const{id:t}=mo();N.useEffect(()=>{pf(),ff(),ra()},[]);const n=re(y=>{var m;return(m=y.getresearcharea)==null?void 0:m.data}).find(y=>y._id===t);n||(window.location.href="/CVPR_LAB/#/dashboard/research");const r=re(y=>y.getsubareas).data,s=(n==null?void 0:n.subareas)||[],i=r==null?void 0:r.filter(y=>s.some(m=>m.stringValue===(y==null?void 0:y._id))),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(!1),[f,p]=N.useState([]),g=re(y=>{var m;return(m=y.getprojectitems)==null?void 0:m.data}),w=async()=>{if(!a){alert("Please select an image and provide a title!");return}h(!0);try{const m=(await Jt(Se(se,"research_subitems"),{title:a,researcharea:n._id,description:c,projects:f})).id;await Ri(ct(se,"ResearchArea",n._id),{subareas:t2(m)}),alert("Subitem has been saved!"),l(""),u(""),p([]),h(!1),window.location.reload()}catch{alert("Something went wrong!")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{className:"fw-bold text-danger",children:n==null?void 0:n.title}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"w-100 my-2",children:o.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:i==null?void 0:i.map((y,m)=>{var v;return o.jsxs("tr",{children:[o.jsx("td",{children:m+1}),o.jsx("td",{children:y==null?void 0:y.title}),o.jsx("td",{children:y==null?void 0:y.description}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(v=y==null?void 0:y.projects)==null?void 0:v.map((x,b)=>{const I=g==null?void 0:g.find(_=>(_==null?void 0:_._id)==(x==null?void 0:x.stringValue));return o.jsxs("div",{children:[b+1,". ",I==null?void 0:I.title," (",o.jsx(ee,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>k9(y._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!i.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:y=>l(y.target.value),disabled:d,value:a})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),o.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:y=>u(y.target.value),disabled:d,placeholder:"describe in some words.."})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),o.jsxs("select",{name:"project",className:"form-control",onChange:y=>{const m=y.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[o.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:f==null?void 0:f.map((y,m)=>{const v=g==null?void 0:g.find(x=>(x==null?void 0:x._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(x=>x!==y))},children:"Remove"})})]})})})]}),!f.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:w,disabled:d,children:d?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},M9=()=>{const t=re(p=>{var g;return(g=p.getprojectitems)==null?void 0:g.data}),[e,n]=N.useState(null),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1);N.useEffect(()=>{ra()},[]);const h=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},f=async()=>{if(!e||!r){alert("Please select an image and provide a title!");return}d(!0);const p=Ze(et,`project_items_images/${r}`),g=await fetch(e).then(w=>w.blob());try{await ea(p,g),await Jt(Se(se,"projects_items"),{title:r,pptLink:i,pdfLink:l}),alert("Project has been saved!"),s(""),c(""),a(""),n(null),d(!1),location.reload()}catch{alert("Error uploading image!"),s(""),c(""),a(""),n(null),d(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Projects"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{children:g+1}),o.jsx("td",{children:p==null?void 0:p.title}),o.jsx("td",{children:o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx(ee,{to:p==null?void 0:p.pdfLink,target:"_blank",children:"PDF Link"})}),o.jsx("li",{children:o.jsx(ee,{to:p==null?void 0:p.pptLink,target:"_blank",children:"PPT Link"})})]})}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ee,{target:"_blank",to:p==null?void 0:p.bannerURL,children:o.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>O9(p._id),children:"Delete"})})})]})})]},g))})]})})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:u,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>a(p.target.value),disabled:u,value:i||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>c(p.target.value),disabled:u,value:l||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:u})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},mf=async()=>{try{const t=Se(se,"projects_main"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,...i})});await Promise.all(r),Zt.dispatch(lB(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function V9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=ct(se,"projects_main",t);await Pn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsMain!")}}}const F9=`Type of Project(Sponsored/Consultancy),Project Title,Funding Agency,Funding Amount in Inr.,JRF/PHD Scholars,Project Description(100 to 400 words),Names of the PI (comma separated),Names of the Co-PI (comma separated)
`,U9=`Consultancy,"Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",SERB-CRG,4500000,Kuldeep Marotirao Biradar,"The proposed system removes the onus of detecting aberrance situations from the manual operator; and rather, places it on the video surveillance system. The present technologies are fails to recognize aberration in video sequences. These aberrances occur over a small-time window. Thus, recognizing with its timeframe from a big visual data is really challenging task. Hence, our focus is on problems, where we are given a set of nominal training videos samples. Based on these samples need to determine whether or not a test video contains an aberration and what instant it occurs. Similarly, we aim to significantly reduce the time and human effort by automating the task and improving the accuracy by recognizing aberrances with its timestamp. Further, exploit the aberrance activity of the object by modeling the rich motion patterns in selected region, effectively capturing the underlying intrinsic structure they form in the video. Implementation of this system can be beneficial for intelligent agencies, banks, departmental stores, traffic monitoring on highway, airport terminal check-in, sports, medical field, and robotics etc.",Dr. Santosh Kumar Vipparthi,NA
`,N_={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},$9=()=>{var f,p,g,w;const[t,e]=N.useState(!1),n=re(y=>y.getsupervisors.data),r=re(y=>{var m;return(m=y.getprojectitems)==null?void 0:m.data}),s=re(y=>{var m;return(m=y.getdatasets)==null?void 0:m.data}),i=re(y=>{var m;return(m=y.getprojectsmain)==null?void 0:m.data}),[a,l]=N.useState([]),[c,u]=N.useState(N_);N.useEffect(()=>{Io(),ra(),mf()},[]);const d=y=>{const{id:m,value:v}=y.target;u(x=>({...x,[m]:v}))},h=async()=>{if(!c.title||!c.description||!c.type||!c.copis||!c.total_fund||!c.funding_agency||!c.pis||!c.jrf_phd_scholar||!a){alert("Please fill out all fields.");return}e(!0);try{await Jt(Se(se,"projects_main"),{...c,users:a}),alert("Project has been saved!"),u(N_),e(!1),window.location.reload()}catch{alert("Something went wrong!")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Projects"}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),o.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[o.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:i==null?void 0:i.map((y,m)=>{var v,x,b,I,_,j,E,T,S,A,O,C,P;return o.jsxs("tr",{children:[o.jsx("td",{children:m+1}),o.jsx("td",{className:"fw-bold text-danger",children:(v=y==null?void 0:y.title)==null?void 0:v.stringValue}),o.jsxs("td",{children:[o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"PIs:"})," ",o.jsx("p",{children:(x=y==null?void 0:y.pis)==null?void 0:x.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Co-PIs:"})," ",o.jsx("p",{children:(b=y==null?void 0:y.copis)==null?void 0:b.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Funding Agency:"})," ",o.jsx("p",{children:(I=y==null?void 0:y.funding_agency)==null?void 0:I.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Total Fund(Inr):"})," ",o.jsxs("p",{children:["Rs. ",(_=y==null?void 0:y.total_fund)==null?void 0:_.stringValue]})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Ph.D./JRF Students:"})," ",o.jsx("p",{children:(j=y==null?void 0:y.jrf_phd_scholar)==null?void 0:j.stringValue})]})]}),o.jsx("td",{children:o.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(E=y==null?void 0:y.description)==null?void 0:E.stringValue})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(A=(S=(T=y==null?void 0:y.related_datasets)==null?void 0:T.arrayValue)==null?void 0:S.values)==null?void 0:A.map((M,B)=>{const D=s==null?void 0:s.find(R=>(R==null?void 0:R._id)==(M==null?void 0:M.stringValue));return o.jsxs("div",{children:[B+1,". ",D==null?void 0:D.title," (",o.jsx(ee,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(D==null?void 0:D._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(D==null?void 0:D._id)+"Modal",tabIndex:-1,"aria-labelledby":(D==null?void 0:D._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(D==null?void 0:D._id)+"ModalLabel",children:D==null?void 0:D.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:D==null?void 0:D.description}),o.jsx("img",{className:"w-100",src:D==null?void 0:D.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(P=(C=(O=y==null?void 0:y.related_projectitems)==null?void 0:O.arrayValue)==null?void 0:C.values)==null?void 0:P.map((M,B)=>{const D=r==null?void 0:r.find(R=>(R==null?void 0:R._id)==(M==null?void 0:M.stringValue));return o.jsxs("div",{children:[B+1,". ",D==null?void 0:D.title," (",o.jsx(ee,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(D==null?void 0:D._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(D==null?void 0:D._id)+"Modal",tabIndex:-1,"aria-labelledby":(D==null?void 0:D._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(D==null?void 0:D._id)+"ModalLabel",children:[D==null?void 0:D.title,"("," ",o.jsx(ee,{className:"btn-primary",style:{textDecoration:"none"},to:D==null?void 0:D.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(ee,{to:D==null?void 0:D.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:D==null?void 0:D.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx(ee,{className:"dropdown-item text-primary",to:y==null?void 0:y._id,children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>V9(y._id),children:"Delete"})})]})]})})]},m)})})]}),!i.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col mb-2",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:y=>{const m=y.target.value;!a||m===""||(a.includes(m)?alert("User with this name already existed."):l([...a,m]))},children:[o.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((y,m)=>{var v,x,b,I,_,j;return o.jsxs("option",{value:(x=(v=y==null?void 0:y.data)==null?void 0:v.name)==null?void 0:x.stringValue,children:[(I=(b=y==null?void 0:y.data)==null?void 0:b.name)==null?void 0:I.stringValue,"-",(j=(_=y==null?void 0:y.data)==null?void 0:_.email)==null?void 0:j.stringValue]},m)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:a==null?void 0:a.map((y,m)=>o.jsxs("span",{className:"badge bg-success",children:[y," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const v=a.filter(x=>x!==y);l(v)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},m))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:d,value:c.title,disabled:t})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[" ",o.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),o.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:d,value:c.funding_agency,disabled:t})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),o.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:d,value:c.total_fund,disabled:t})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:d,value:c.pis,disabled:t})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:d,value:c.copis,disabled:t})]})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),o.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:d,value:c.jrf_phd_scholar,disabled:t})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:d,value:c.type,disabled:t,children:[o.jsx("option",{value:"",children:"--select type--"}),o.jsx("option",{value:"consultancy",children:"Consultancy"}),o.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:d,value:c.description,placeholder:"describe project in 50 to 200 words..",disabled:t})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),o.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:y=>{const m=y.target.value;m!==""&&(c.related_datasets.includes(m)||u(v=>({...v,related_datasets:[...v.related_datasets,m]})))},value:c.type,disabled:t,children:[o.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(f=c.related_datasets)==null?void 0:f.map((y,m)=>{const v=s==null?void 0:s.find(x=>(x==null?void 0:x._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(x=>{var b;return{...x,related_datasets:(b=c==null?void 0:c.related_datasets)==null?void 0:b.filter(I=>I!==y)}})},children:"Remove"})})]})})})]}),!((p=c.related_datasets)!=null&&p.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:y=>{const m=y.target.value;m!==""&&(c.related_projectitems.includes(m)||u(v=>({...v,related_projectitems:[...v.related_projectitems,m]})))},disabled:t,children:[o.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(g=c.related_projectitems)==null?void 0:g.map((y,m)=>{const v=r==null?void 0:r.find(x=>(x==null?void 0:x._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(x=>{var b;return{...x,related_projectitems:(b=c==null?void 0:c.related_projectitems)==null?void 0:b.filter(I=>I!==y)}})},children:"Remove"})})]})})})]}),!((w=c.related_projectitems)!=null&&w.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),o.jsx(B9,{getsupervisors:n})]})},B9=({getsupervisors:t})=>{const[e,n]=N.useState(!1),[r,s]=N.useState([]),[i,a]=N.useState([]),l=d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];h&&Qj.parse(h,{complete:p=>{const g=p.data.filter(w=>Object.values(w).some(y=>y!==""));a(g)},header:!0})},c=async d=>{try{return!(await Bt(HI(Se(se,"projects_main"),WI("title","==",d)))).empty}catch{return!1}},u=async d=>{if(d.preventDefault(),!r.length){alert("Please select supervisors!");return}if(!i.length){alert("ERROR! Invalid CSV File Selected.");return}n(!0);const h=i.map(async f=>{const p=Object.values(f);if(!await c(p[2]))return Jt(Se(se,"projects_main"),{title:p[1],description:p[5],funding_agency:p[2],pis:p[6],copis:p[7],jrf_phd_scholar:p[4],related_datasets:[],related_projectitems:[],total_fund:p[3],type:p[0],users:r})});await Promise.all(h),alert("Porjects has been saved!"),n(!1),window.location.reload()};return o.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Import Projects"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:d=>{const h=d.target.value;!r||h===""||(r.includes(h)?alert("User with this name already existed."):s([...r,h]))},children:[o.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((d,h)=>{var f,p,g,w,y,m;return o.jsxs("option",{value:(p=(f=d==null?void 0:d.data)==null?void 0:f.name)==null?void 0:p.stringValue,children:[(w=(g=d==null?void 0:d.data)==null?void 0:g.name)==null?void 0:w.stringValue,"-",(m=(y=d==null?void 0:d.data)==null?void 0:y.email)==null?void 0:m.stringValue]},h)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:r==null?void 0:r.map((d,h)=>o.jsxs("span",{className:"badge bg-success",children:[d," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const f=r.filter(p=>p!==d);s(f)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},h))})]}),o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",o.jsx("button",{className:"btn btn-link",onClick:()=>Xj(F9,U9,"sample_projects_csv"),children:"Download Sample CSV file"}),")"]}),o.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:l})]}),o.jsx("div",{className:"d-flex gap-1 flex-wrap",children:i.length>0&&o.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[o.jsxs("table",{className:"table table-bordered",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(i[0]).map(d=>o.jsx("th",{children:d},d))})}),o.jsx("tbody",{children:i.map((d,h)=>o.jsx("tr",{children:Object.values(d).map((f,p)=>o.jsx("td",{children:f},p))},h))})]}),o.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:e,onClick:u,children:e?"Please Wait...":"Submit"})]})]})})})};var wC={exports:{}},z9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",H9=z9,W9=H9;function xC(){}function bC(){}bC.resetWarningCache=xC;var q9=function(){function t(r,s,i,a,l,c){if(c!==W9){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bC,resetWarningCache:xC};return n.PropTypes=n,n};wC.exports=q9();var G9=wC.exports;const Ue=uo(G9);function K9(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var _C=N,Y9=K9(_C);function j_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q9(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var X9=!!(typeof window<"u"&&window.document&&window.document.createElement);function J9(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){Q9(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,a=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){a.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=a.indexOf(this);a.splice(g,1),c()},f.render=function(){return Y9.createElement(i,this.props)},h}(_C.PureComponent);return j_(u,"displayName","SideEffect("+r(i)+")"),j_(u,"canUseDOM",X9),u}}var Z9=J9;const e6=uo(Z9);var t6=typeof Element<"u",n6=typeof Map=="function",r6=typeof Set=="function",s6=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!zu(t[r],e[r]))return!1;return!0}var i;if(n6&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!zu(r.value[1],e.get(r.value[0])))return!1;return!0}if(r6&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(s6&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(t6&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!zu(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var i6=function(e,n){try{return zu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const a6=uo(i6);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var C_=Object.getOwnPropertySymbols,o6=Object.prototype.hasOwnProperty,l6=Object.prototype.propertyIsEnumerable;function c6(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function u6(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var d6=u6()?Object.assign:function(t,e){for(var n,r=c6(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)o6.call(n,a)&&(r[a]=n[a]);if(C_){s=C_(n);for(var l=0;l<s.length;l++)l6.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const h6=uo(d6);var _i={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ce={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ce).map(function(t){return ce[t]});var Be={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Xd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},uc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},f6=Object.keys(Xd).reduce(function(t,e){return t[Xd[e]]=e,t},{}),p6=[ce.NOSCRIPT,ce.SCRIPT,ce.STYLE],tr="data-react-helmet",m6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g6=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},v6=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y6=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},P_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},w6=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},jg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},x6=function(e){var n=Ba(e,ce.TITLE),r=Ba(e,uc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Ba(e,uc.DEFAULT_TITLE);return n||s||void 0},b6=function(e){return Ba(e,uc.ON_CHANGE_CLIENT_STATE)||function(){}},Ip=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return tn({},r,s)},{})},_6=function(e,n){return n.filter(function(r){return typeof r[ce.BASE]<"u"}).map(function(r){return r[ce.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),a=0;a<i.length;a++){var l=i[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},zo=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&I6("Helmet: "+e+' should be of type "Array". Instead found type "'+m6(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,a){var l={};a.filter(function(f){for(var p=void 0,g=Object.keys(f),w=0;w<g.length;w++){var y=g[w],m=y.toLowerCase();n.indexOf(m)!==-1&&!(p===Be.REL&&f[p].toLowerCase()==="canonical")&&!(m===Be.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(y)!==-1&&(y===Be.INNER_HTML||y===Be.CSS_TEXT||y===Be.ITEM_PROP)&&(p=y)}if(!p||!f[p])return!1;var v=f[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=h6({},s[d],l[d]);s[d]=h}return i},[]).reverse()},Ba=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},E6=function(e){return{baseTag:_6([Be.HREF,Be.TARGET],e),bodyAttributes:Ip(_i.BODY,e),defer:Ba(e,uc.DEFER),encode:Ba(e,uc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ip(_i.HTML,e),linkTags:zo(ce.LINK,[Be.REL,Be.HREF],e),metaTags:zo(ce.META,[Be.NAME,Be.CHARSET,Be.HTTPEQUIV,Be.PROPERTY,Be.ITEM_PROP],e),noscriptTags:zo(ce.NOSCRIPT,[Be.INNER_HTML],e),onChangeClientState:b6(e),scriptTags:zo(ce.SCRIPT,[Be.SRC,Be.INNER_HTML],e),styleTags:zo(ce.STYLE,[Be.CSS_TEXT],e),title:x6(e),titleAttributes:Ip(_i.TITLE,e)}},Cg=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Cg(e)},0)}}(),A_=function(e){return clearTimeout(e)},T6=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Cg:global.requestAnimationFrame||Cg,S6=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||A_:global.cancelAnimationFrame||A_,I6=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Ho=null,N6=function(e){Ho&&S6(Ho),e.defer?Ho=T6(function(){k_(e,function(){Ho=null})}):(k_(e),Ho=null)},k_=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;Pg(ce.BODY,s),Pg(ce.HTML,i),j6(f,p);var g={baseTag:la(ce.BASE,r),linkTags:la(ce.LINK,a),metaTags:la(ce.META,l),noscriptTags:la(ce.NOSCRIPT,c),scriptTags:la(ce.SCRIPT,d),styleTags:la(ce.STYLE,h)},w={},y={};Object.keys(g).forEach(function(m){var v=g[m],x=v.newTags,b=v.oldTags;x.length&&(w[m]=x),b.length&&(y[m]=g[m].oldTags)}),n&&n(),u(e,w,y)},EC=function(e){return Array.isArray(e)?e.join(""):e},j6=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=EC(e)),Pg(ce.TITLE,n)},Pg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(tr),i=s?s.split(","):[],a=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var h=a.indexOf(u);h!==-1&&a.splice(h,1)}for(var f=a.length-1;f>=0;f--)r.removeAttribute(a[f]);i.length===a.length?r.removeAttribute(tr):r.getAttribute(tr)!==l.join(",")&&r.setAttribute(tr,l.join(","))}},la=function(e,n){var r=document.head||document.querySelector(ce.HEAD),s=r.querySelectorAll(e+"["+tr+"]"),i=Array.prototype.slice.call(s),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Be.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Be.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(tr,"true"),i.some(function(f,p){return l=p,u.isEqualNode(f)})?i.splice(l,1):a.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:a}},TC=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},C6=function(e,n,r,s){var i=TC(r),a=EC(n);return i?"<"+e+" "+tr+'="true" '+i+">"+jg(a,s)+"</"+e+">":"<"+e+" "+tr+'="true">'+jg(a,s)+"</"+e+">"},P6=function(e,n,r){return n.reduce(function(s,i){var a=Object.keys(i).filter(function(u){return!(u===Be.INNER_HTML||u===Be.CSS_TEXT)}).reduce(function(u,d){var h=typeof i[d]>"u"?d:d+'="'+jg(i[d],r)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=p6.indexOf(e)===-1;return s+"<"+e+" "+tr+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},SC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Xd[s]||s]=e[s],r},n)},A6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[f6[s]||s]=e[s],r},n)},k6=function(e,n,r){var s,i=(s={key:n},s[tr]=!0,s),a=SC(r,i);return[Ee.createElement(ce.TITLE,a,n)]},R6=function(e,n){return n.map(function(r,s){var i,a=(i={key:s},i[tr]=!0,i);return Object.keys(r).forEach(function(l){var c=Xd[l]||l;if(c===Be.INNER_HTML||c===Be.CSS_TEXT){var u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=r[l]}),Ee.createElement(e,a)})},Rr=function(e,n,r){switch(e){case ce.TITLE:return{toComponent:function(){return k6(e,n.title,n.titleAttributes)},toString:function(){return C6(e,n.title,n.titleAttributes,r)}};case _i.BODY:case _i.HTML:return{toComponent:function(){return SC(n)},toString:function(){return TC(n)}};default:return{toComponent:function(){return R6(e,n)},toString:function(){return P6(e,n,r)}}}},IC=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:Rr(ce.BASE,n,s),bodyAttributes:Rr(_i.BODY,r,s),htmlAttributes:Rr(_i.HTML,i,s),link:Rr(ce.LINK,a,s),meta:Rr(ce.META,l,s),noscript:Rr(ce.NOSCRIPT,c,s),script:Rr(ce.SCRIPT,u,s),style:Rr(ce.STYLE,d,s),title:Rr(ce.TITLE,{title:f,titleAttributes:p},s)}},D6=function(e){var n,r;return r=n=function(s){y6(i,s);function i(){return g6(this,i),w6(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!a6(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case ce.SCRIPT:case ce.NOSCRIPT:return{innerHTML:c};case ce.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return tn({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[tn({},h,this.mapNestedChildrenToProps(u,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(d.type){case ce.TITLE:return tn({},h,(c={},c[d.type]=p,c.titleAttributes=tn({},f),c));case ce.BODY:return tn({},h,{bodyAttributes:tn({},f)});case ce.HTML:return tn({},h,{htmlAttributes:tn({},f)})}return tn({},h,(u={},u[d.type]=tn({},f),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=tn({},c);return Object.keys(l).forEach(function(d){var h;u=tn({},u,(h={},h[d]=l[d],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Ee.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=P_(f,["children"]),w=A6(g);switch(u.warnOnInvalidChildren(h,p),h.type){case ce.LINK:case ce.META:case ce.NOSCRIPT:case ce.SCRIPT:case ce.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:w,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:w,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=P_(l,["children"]),d=tn({},u);return c&&(d=this.mapChildrenToProps(c,d)),Ee.createElement(e,d)},v6(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Ee.Component),n.propTypes={base:Ue.object,bodyAttributes:Ue.object,children:Ue.oneOfType([Ue.arrayOf(Ue.node),Ue.node]),defaultTitle:Ue.string,defer:Ue.bool,encodeSpecialCharacters:Ue.bool,htmlAttributes:Ue.object,link:Ue.arrayOf(Ue.object),meta:Ue.arrayOf(Ue.object),noscript:Ue.arrayOf(Ue.object),onChangeClientState:Ue.func,script:Ue.arrayOf(Ue.object),style:Ue.arrayOf(Ue.object),title:Ue.string,titleAttributes:Ue.object,titleTemplate:Ue.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=IC({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},O6=function(){return null},L6=e6(E6,N6,IC)(O6),pn=D6(L6);pn.renderStatic=pn.rewind;const M6=()=>{var B,D,R,L,F,W,k,z,X,J,ie,ue,Ce,Q,he,H,we,be,ut,Fe,Pe,en,zt,gn,kn,Ht;const[t,e]=N.useState(!1);N.useEffect(()=>{(async()=>{e(!0),await Fc(),await So(),e(!1)})()},[]);const{id:n}=mo(),s=re(K=>K.getpublications.data).filter(K=>K._id==n)[0],i=re(K=>K.getsupervisors.data),[a,l]=N.useState((D=(B=s==null?void 0:s.data)==null?void 0:B.paperTitle)==null?void 0:D.stringValue),[c,u]=N.useState((L=(R=s==null?void 0:s.data)==null?void 0:R.paperType)==null?void 0:L.stringValue),[d,h]=N.useState((W=(F=s==null?void 0:s.data)==null?void 0:F.publisher)==null?void 0:W.stringValue),[f,p]=N.useState((z=(k=s==null?void 0:s.data)==null?void 0:k.publicationDate)==null?void 0:z.stringValue),[g,w]=N.useState((J=(X=s==null?void 0:s.data)==null?void 0:X.link)==null?void 0:J.stringValue),[y,m]=N.useState((ue=(ie=s==null?void 0:s.data)==null?void 0:ie.author)==null?void 0:ue.stringValue),[v,x]=N.useState((Q=(Ce=s==null?void 0:s.data)==null?void 0:Ce.journalName)==null?void 0:Q.stringValue),[b,I]=N.useState((H=(he=s==null?void 0:s.data)==null?void 0:he.pages)==null?void 0:H.stringValue),[_,j]=N.useState((be=(we=s==null?void 0:s.data)==null?void 0:we.volume)==null?void 0:be.stringValue),[E,T]=N.useState((Fe=(ut=s==null?void 0:s.data)==null?void 0:ut.impact)==null?void 0:Fe.stringValue),[S,A]=N.useState((en=(Pe=s==null?void 0:s.data)==null?void 0:Pe.isbn)==null?void 0:en.stringValue),O=[];(Ht=(kn=(gn=(zt=s==null?void 0:s.data)==null?void 0:zt.users)==null?void 0:gn.arrayValue)==null?void 0:kn.values)==null||Ht.map(K=>{O==null||O.push(K.stringValue)});const[C,P]=N.useState(O),M=K=>{if(K.preventDefault(),!a||!c||!d||!f||!g||!y||!v||!b||!_||!E||!S){console.log("Please fill all required fields!");return}e(!0);const ve=ct(se,"publications",s==null?void 0:s._id);Ri(ve,{paperTitle:a,paperType:c,publisher:d,publicationDate:f,link:g,author:y,journalName:v,pages:b,volume:_,impact:E,isbn:S,users:C}).then(()=>{alert("Publication has been updated!"),e(!1),window.location.href="/CVPR_LAB/#/dashboard/publications"}).catch(bt=>{alert(`Error updating document: ${bt.message}`),e(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Edit Publication"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.location.href="/CVPR_LAB/#/dashboard/publications",children:"Back to Publications"})]}),o.jsx("hr",{}),o.jsx("div",{className:"card p-3",children:o.jsxs("form",{onSubmit:M,noValidate:!0,children:[o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:a,onChange:K=>l(K.target.value),required:!0,disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",disabled:t,onChange:K=>{const ve=K.target.value;if(C)if(ve==="other"){let bt=prompt("Please enter supervisor name:");bt&&P([...C,bt])}else C.includes(ve)?alert("User with this name already existed."):P([...C,ve])},children:[o.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((K,ve)=>{var bt,_e,Ar,Rn,cr,Kn;return o.jsxs("option",{value:(_e=(bt=K==null?void 0:K.data)==null?void 0:bt.name)==null?void 0:_e.stringValue,children:[(Rn=(Ar=K==null?void 0:K.data)==null?void 0:Ar.name)==null?void 0:Rn.stringValue,"-",(Kn=(cr=K==null?void 0:K.data)==null?void 0:cr.email)==null?void 0:Kn.stringValue]},ve)}),o.jsx("option",{value:"other",children:"Other"})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:C==null?void 0:C.map((K,ve)=>o.jsxs("span",{className:"badge bg-success",children:[K," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const bt=C.filter(_e=>_e!==K);P(bt)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},ve))})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"paperType",value:c,onChange:K=>u(K.target.value),required:!0,disabled:t,children:[o.jsx("option",{value:"",children:"---select type---"}),o.jsx("option",{value:"Conference",children:"Conference"}),o.jsx("option",{value:"Patent",children:"Patent"}),o.jsx("option",{value:"Journal",children:"Journal"}),o.jsx("option",{value:"Book",children:"Book"}),o.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),o.jsx("option",{value:"Publications",children:"Publications"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:d,onChange:K=>h(K.target.value),required:!0,disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:f,onChange:K=>p(K.target.value),required:!0,disabled:t,children:[o.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((K,ve)=>o.jsx("option",{value:2008+ve,children:2008+ve},ve))]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),o.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:g,onChange:K=>w(K.target.value),disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 mb-2",children:[o.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:K=>m(K.target.value),id:"authors",value:y,placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:t})]}),o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:v,onChange:K=>x(K.target.value),required:!0,disabled:t}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),o.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:b,onChange:K=>I(K.target.value),disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),o.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:_,onChange:K=>j(K.target.value),disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),o.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:E,onChange:K=>T(K.target.value),disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),o.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:S,onChange:K=>A(K.target.value),disabled:t})]})]}),o.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:t,children:t?"Please Wait...":"Submit"})]})})]})})},V6=()=>{var h,f,p,g,w,y,m,v,x,b,I,_,j,E,T,S,A,O;const{id:t}=mo(),e=re(C=>C.getsupervisors.data),n=e==null?void 0:e.filter(C=>(C==null?void 0:C._id)==t)[0],[r,s]=N.useState(!1),[i,a]=N.useState(),[l,c]=N.useState({name:(f=(h=n==null?void 0:n.data)==null?void 0:h.name)==null?void 0:f.stringValue,email:(g=(p=n==null?void 0:n.data)==null?void 0:p.email)==null?void 0:g.stringValue,phone:(y=(w=n==null?void 0:n.data)==null?void 0:w.phone)==null?void 0:y.stringValue,researchInterests:(v=(m=n==null?void 0:n.data)==null?void 0:m.researchInterests)==null?void 0:v.stringValue,introduction:(b=(x=n==null?void 0:n.data)==null?void 0:x.introduction)==null?void 0:b.stringValue,googleScholarLink:(_=(I=n==null?void 0:n.data)==null?void 0:I.googleScholarLink)==null?void 0:_.stringValue,researchGateLink:(E=(j=n==null?void 0:n.data)==null?void 0:j.researchGateLink)==null?void 0:E.stringValue,personalProfileLink:(S=(T=n==null?void 0:n.data)==null?void 0:T.personalProfileLink)==null?void 0:S.stringValue,otherLink:(O=(A=n==null?void 0:n.data)==null?void 0:A.otherLink)==null?void 0:O.stringValue});N.useEffect(()=>{So()},[]);const u=C=>{const{name:P,value:M}=C.target;c(B=>({...B,[P]:M}))},d=async()=>{var z,X;const{name:C,email:P,phone:M,researchInterests:B,introduction:D,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:W}=l;if(!C||!P||!M||!B||!D){console.log("Please fill all required fields.");return}s(!0);const k=ct(se,"supervisors",n==null?void 0:n._id);if(i){if(n&&n.data&&n.data.profileImage){const ie=Ze(et,`/peoples/supervisor_profile_images/${(X=(z=n==null?void 0:n.data)==null?void 0:z.profileImage)==null?void 0:X.stringValue}`);try{await na(ie),console.log("Old profile image deleted successfully")}catch(ue){console.error("Error deleting old profile image:",ue),s(!1);return}}const J=Ze(et,`/peoples/supervisor_profile_images/${C}_${i.name}`);try{await ea(J,i),console.log("Profile image uploaded successfully");const ie=`${C}_${i.name}`;await Ri(k,{name:C,email:P,phone:M,researchInterests:B,introduction:D,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:W,profileImage:ie}),alert("Supervisor details updated with profile image successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{alert("Error uploading profile image."),s(!1);return}}else try{await Ri(k,{name:C,email:P,phone:M,researchInterests:B,introduction:D,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:W}),alert("Supervisor details updated successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{alert("Error updating supervisor details."),s(!1);return}s(!1)};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Edit Supervisor"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),o.jsx("hr",{}),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-sm-12 mb-3",children:o.jsxs("div",{className:"col-sm-2",children:[" ",o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",o.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:u,disabled:!0})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col overflow-auto",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",o.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),o.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:u,disabled:!0})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),o.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:u})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",o.jsx("span",{className:"text-danger",children:"aspect ratio 3:4 only"}),")"]}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:C=>{var M;const P=(M=C.target.files)==null?void 0:M[0];a(P)}})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",o.jsx("span",{className:"text-danger",children:"Use comma separated for multiple"}),")"]}),o.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:u,rows:4})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),o.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:u})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"googleScholarLink",className:"form-label",children:"Google Scholar Link"}),o.jsx("input",{type:"text",className:"form-control",name:"googleScholarLink",value:l.googleScholarLink,onChange:u})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchGateLink",className:"form-label",children:"Research Gate Link"}),o.jsx("input",{type:"text",className:"form-control",name:"researchGateLink",value:l.researchGateLink,onChange:u})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"personalProfileLink",className:"form-label",children:"Personal Profile Link"}),o.jsx("input",{type:"text",className:"form-control",name:"personalProfileLink",value:l.personalProfileLink,onChange:u})]}),o.jsxs("div",{className:"col",children:[o.jsxs("label",{htmlFor:"otherLink",className:"form-label",children:["Other Link (",o.jsx("span",{className:"text-danger",children:"if any"}),")"]}),o.jsx("input",{type:"text",className:"form-control",name:"otherLink",value:l.otherLink,onChange:u})]})]})]}),o.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:d,disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},F6={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},U6=()=>{var m,v,x,b,I,_,j,E,T,S,A,O,C,P,M,B,D,R,L,F,W;const{id:t}=mo(),[e,n]=N.useState(!1),r=re(k=>{var z;return(z=k.getprojectitems)==null?void 0:z.data}),s=re(k=>{var z;return(z=k.getdatasets)==null?void 0:z.data}),i=re(k=>k.getsupervisors.data),a=re(k=>{var z;return(z=k.getprojectsmain)==null?void 0:z.data}),l=a==null?void 0:a.filter(k=>(k==null?void 0:k._id)==t)[0],c=[];(x=(v=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:v.values)==null||x.map(k=>{c==null||c.push(k.stringValue)});const u=[];(_=(I=(b=l==null?void 0:l.related_projectitems)==null?void 0:b.arrayValue)==null?void 0:I.values)==null||_.map(k=>{u==null||u.push(k.stringValue)});const[d,h]=N.useState({title:(j=l==null?void 0:l.title)==null?void 0:j.stringValue,description:(E=l==null?void 0:l.description)==null?void 0:E.stringValue,funding_agency:(T=l==null?void 0:l.description)==null?void 0:T.stringValue,pis:(S=l==null?void 0:l.pis)==null?void 0:S.stringValue,copis:(A=l==null?void 0:l.copis)==null?void 0:A.stringValue,jrf_phd_scholar:(O=l==null?void 0:l.jrf_phd_scholar)==null?void 0:O.stringValue,related_datasets:c,related_projectitems:u,total_fund:(C=l==null?void 0:l.total_fund)==null?void 0:C.stringValue,type:(P=l==null?void 0:l.type)==null?void 0:P.stringValue}),f=[];(D=(B=(M=l==null?void 0:l.users)==null?void 0:M.arrayValue)==null?void 0:B.values)==null||D.map(k=>{f==null||f.push(k.stringValue)});const[p,g]=N.useState(f);N.useEffect(()=>{Io(),ra(),mf()},[]);const w=k=>{const{id:z,value:X}=k.target;h(J=>({...J,[z]:X}))},y=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!p){alert("Please fill out all fields.");return}n(!0);try{const k=ct(se,"projects_main",l==null?void 0:l._id);await Ri(k,{...d,users:p}),alert("Project has been saved!"),h(F6),n(!1),window.location.href="/CVPR_LAB/#/dashboard/projects"}catch{alert("Something went wrong!")}};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),o.jsx("hr",{}),o.jsx("div",{className:"card p-3",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col mb-2",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:k=>{const z=k.target.value;!p||z===""||(p.includes(z)?alert("User with this name already existed."):g([...p,z]))},children:[o.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((k,z)=>{var X,J,ie,ue,Ce,Q;return o.jsxs("option",{value:(J=(X=k==null?void 0:k.data)==null?void 0:X.name)==null?void 0:J.stringValue,children:[(ue=(ie=k==null?void 0:k.data)==null?void 0:ie.name)==null?void 0:ue.stringValue,"-",(Q=(Ce=k==null?void 0:k.data)==null?void 0:Ce.email)==null?void 0:Q.stringValue]},z)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((k,z)=>o.jsxs("span",{className:"badge bg-success",children:[k," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const X=p.filter(J=>J!==k);g(X)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},z))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:w,value:d.title,disabled:!0})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[" ",o.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),o.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:w,value:d.funding_agency,disabled:e})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),o.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:w,value:d.total_fund,disabled:e})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:w,value:d.pis,disabled:e})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:w,value:d.copis,disabled:e})]})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),o.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:w,value:d.jrf_phd_scholar,disabled:e})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:w,value:d.type,disabled:e,children:[o.jsx("option",{value:"",children:"--select type--"}),o.jsx("option",{value:"consultancy",children:"Consultancy"}),o.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:w,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),o.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:k=>{const z=k.target.value;z!==""&&(d.related_datasets.includes(z)||h(X=>({...X,related_datasets:[...X.related_datasets,z]})))},value:d.type,disabled:e,children:[o.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((k,z)=>o.jsx("option",{value:k==null?void 0:k._id,children:k==null?void 0:k.title},z))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(R=d.related_datasets)==null?void 0:R.map((k,z)=>{const X=s==null?void 0:s.find(J=>(J==null?void 0:J._id)==k);return o.jsxs("tr",{children:[o.jsx("th",{children:z+1}),o.jsx("th",{children:X==null?void 0:X.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(J=>{var ie;return{...J,related_datasets:(ie=d==null?void 0:d.related_datasets)==null?void 0:ie.filter(ue=>ue!==k)}})},children:"Remove"})})]})})})]}),!((L=d.related_datasets)!=null&&L.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:k=>{const z=k.target.value;z!==""&&(d.related_projectitems.includes(z)||h(X=>({...X,related_projectitems:[...X.related_projectitems,z]})))},disabled:e,children:[o.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((k,z)=>o.jsx("option",{value:k==null?void 0:k._id,children:k==null?void 0:k.title},z))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(F=d.related_projectitems)==null?void 0:F.map((k,z)=>{const X=r==null?void 0:r.find(J=>(J==null?void 0:J._id)==k);return o.jsxs("tr",{children:[o.jsx("th",{children:z+1}),o.jsx("th",{children:X==null?void 0:X.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(J=>{var ie;return{...J,related_projectitems:(ie=d==null?void 0:d.related_projectitems)==null?void 0:ie.filter(ue=>ue!==k)}})},children:"Remove"})})]})})})]}),!((W=d.related_projectitems)!=null&&W.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsx("div",{className:"p-3 mt-4  col-sm-12",children:o.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:y,disabled:e,children:e?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})};let wu;const $6=new Uint8Array(16);function B6(){if(!wu&&(wu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wu($6)}const _t=[];for(let t=0;t<256;++t)_t.push((t+256).toString(16).slice(1));function z6(t,e=0){return _t[t[e+0]]+_t[t[e+1]]+_t[t[e+2]]+_t[t[e+3]]+"-"+_t[t[e+4]]+_t[t[e+5]]+"-"+_t[t[e+6]]+_t[t[e+7]]+"-"+_t[t[e+8]]+_t[t[e+9]]+"-"+_t[t[e+10]]+_t[t[e+11]]+_t[t[e+12]]+_t[t[e+13]]+_t[t[e+14]]+_t[t[e+15]]}const H6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),R_={randomUUID:H6};function W6(t,e,n){if(R_.randomUUID&&!e&&!t)return R_.randomUUID();t=t||{};const r=t.random||(t.rng||B6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return z6(r)}const NC=async()=>{try{const t=Se(se,"gallery_images"),e=await Bt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.id.stringValue;console.log(i);const c=i.timestamp.timestampValue,u=l?await q6(l):null;n.push({_id:a,datetime:c,bannerURL:u})});await Promise.all(r),Zt.dispatch(cB(n))}catch(t){console.error("Error fetching Gallery:",t)}},q6=async t=>{try{const e=Ze(et,`gallery_images/${t}`);return await ta(e)}catch{return null}};async function G6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Gallery ID");return}try{const e=ct(se,"gallery_images",t),s=(await Ji(e)).data().banner;if(await Pn(e),s){const i=Ze(et,`gallery_images/${s}`);await na(i)}alert("Gallery item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Gallery!")}}}function jC(t){const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e.toLocaleString("en-US",n)}function K6(t){const e=new Date(t),n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<60?`${r} min ago`:s<24?`${s} hours ago`:`${i} days ago`}const Y6=()=>{const t=re(u=>u.getgallery).data,[e,n]=N.useState([]),[r,s]=N.useState(!1),[i,a]=N.useState(0);N.useEffect(()=>{NC()},[]);const l=u=>{const d=u.target.files;if(d){if(d.length>10){alert("Number of Images must be less than or equal to 10"),u.target.value="";return}const h=Array.from(d),f=[];h.forEach(p=>{const g=new FileReader;g.onload=()=>{typeof g.result=="string"&&f.push(g.result),f.length===h.length&&n(f)},g.readAsDataURL(p)})}},c=async()=>{if(!e){alert("Please select the images!");return}s(!0);try{const u=e.map(async d=>{const h=W6(),f=Ze(et,`gallery_images/${h}`),p=await fetch(d).then(w=>w.blob()),g=RU(f,p);return new Promise((w,y)=>{g.on("state_changed",m=>{const v=(m.bytesTransferred/m.totalBytes*100).toFixed(2);a(Number(v))},m=>{console.error("Error uploading image:",m),alert("Error uploading image!"),y(m)},async()=>{await Jt(Se(se,"gallery_images"),{id:h,timestamp:new Date(Date.now())}),w()})})});await Promise.all(u)}catch(u){console.error("Error uploading images:",u),alert("Error uploading images!")}a(0),n([]),s(!1),window.location.reload()};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Gallery Images"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Timestamp"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>o.jsxs("tr",{children:[o.jsx("td",{children:d+1}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(ee,{target:"_blank",to:u.bannerURL,children:o.jsx("img",{className:"rounded-2",src:u.bannerURL,alt:"",height:"200px"})})}),o.jsxs("td",{style:{width:"10px"},children:[K6(u.datetime)," on"," ",jC(u.datetime)]}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>G6(u._id),children:"Delete"})})})]})})]},d))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Gellary Images"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[r&&o.jsx("div",{className:"progress mb-3",children:o.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:i+"%"},"aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":100,children:[i,"%"]})}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Select Images"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:r,multiple:!0})]}),o.jsxs("div",{className:"alert alert-warning",role:"alert",children:["You can only upload"," ",o.jsx("strong",{className:"fw-bold text-danger",children:"10 Images at a time"}),"!"]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"}),o.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[o.jsxs("h4",{className:"my-2 text-danger",children:["Preview (",e.length," selected)"]}),o.jsx("button",{className:"btn btn-sm btn-danger",style:{height:"fit-content"},onClick:()=>n([]),children:"Remove All"})]}),o.jsx("div",{className:"my-4 d-flex justify-content-center align-items-start flex-wrap gap-2",children:e&&e.map((u,d)=>o.jsx("img",{src:u,alt:`Image ${d}`,style:{width:"300px",height:"auto",cursor:"pointer"},className:"rounded-1 shadow-lg"},d))})]})]})})})]})},Q6=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(0);N.useEffect(()=>{const i=gi.onAuthStateChanged(a=>{a?e(a.email):window.location.href="/CVPR_LAB/#/"});return()=>i()},[]);const s=async()=>{if(confirm("Are you sure want to logout?"))try{await gi.signOut(),window.close()}catch{console.error("Error logging out.")}};if(!t)return o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:o.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t)return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:o.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:o.jsxs("h4",{children:["Welcome, ",t]})})}),o.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[o.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:o.jsxs("div",{className:"list-group",children:[o.jsx(ee,{to:"",className:`list-group-item list-group-item-action ${n===0&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(0),children:"Supervisor"}),o.jsx(ee,{to:"publications",className:`list-group-item list-group-item-action ${n===1&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(1),children:"Publications"}),o.jsx(ee,{to:"peoples",className:`list-group-item list-group-item-action ${n===2&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(2),children:"Peoples"}),o.jsx(ee,{to:"projects-items",className:`list-group-item list-group-item-action ${n===3&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(3),children:"Projects Items"}),o.jsx(ee,{to:"datasets",className:`list-group-item list-group-item-action ${n===4&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(4),children:"Datasets"}),o.jsx(ee,{to:"news",className:`list-group-item list-group-item-action ${n===5&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(5),children:"News"}),o.jsx(ee,{to:"slider-images",className:`list-group-item list-group-item-action ${n===6&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(6),children:"Slider Images"}),o.jsx(ee,{to:"gallary-images",className:`list-group-item list-group-item-action ${n===7&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(7),children:"Gallery Images"}),o.jsx(ee,{to:"research",className:`list-group-item list-group-item-action ${n===8&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(8),children:"Research Areas"}),o.jsx(ee,{to:"projects",className:`list-group-item list-group-item-action ${n===9&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(9),children:"Research Projects"}),o.jsx(ee,{to:"change-password",className:`list-group-item list-group-item-action ${n===10&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(10),children:"Change Password"}),o.jsx(ee,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:"Website Home"}),o.jsxs(ee,{to:"#",onClick:s,className:"d-flex align-items-center list-group-item list-group-item-action text-danger",children:[o.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),o.jsx(pn,{children:o.jsxs("title",{children:["Dashboard | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs(Rv,{children:[o.jsx(Ie,{element:o.jsx(I_,{}),path:"*"}),o.jsx(Ie,{element:o.jsx(I_,{}),path:"/"}),o.jsx(Ie,{element:o.jsx(V6,{}),path:"/supervisors/:id"}),o.jsx(Ie,{element:o.jsx(yz,{userEmail:t}),path:"/publications"}),o.jsx(Ie,{element:o.jsx(M6,{}),path:"/publications/:id"}),o.jsx(Ie,{element:o.jsx(E9,{}),path:"/peoples"}),o.jsx(Ie,{element:o.jsx(R9,{}),path:"/research"}),o.jsx(Ie,{element:o.jsx(L9,{}),path:"/research/:id"}),o.jsx(Ie,{element:o.jsx(M9,{}),path:"/projects-items"}),o.jsx(Ie,{element:o.jsx($9,{}),path:"/projects"}),o.jsx(Ie,{element:o.jsx(U6,{}),path:"/projects/:id"}),o.jsx(Ie,{element:o.jsx(C9,{}),path:"/datasets"}),o.jsx(Ie,{element:o.jsx(_z,{}),path:"/news"}),o.jsx(Ie,{element:o.jsx(Tz,{}),path:"/change-password"}),o.jsx(Ie,{element:o.jsx(y9,{}),path:"/slider-images"}),o.jsx(Ie,{element:o.jsx(Y6,{}),path:"/gallary-images"})]})]})]})},X6="/CVPR_LAB/assets/logo-a-zcNRwG.png",J6=()=>o.jsx(o.Fragment,{children:o.jsxs("div",{role:"navigation",children:[o.jsx("div",{className:"p-3",children:o.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[o.jsx("div",{className:"col-lg-1 col-md-1 text-center",children:o.jsx("div",{className:"",children:o.jsx("img",{className:"img-fluid",src:X6,alt:"LOGO",style:{height:"50px",width:"auto"}})})}),o.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:o.jsxs("div",{className:"mt-2",children:[o.jsx("strong",{children:"Room Number :"})," 3rd Floor,EE Department"]})})]})}),o.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:o.jsx("nav",{className:"navbar navbar-expand-md",children:o.jsxs("div",{className:"container-fluid",children:[o.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[o.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),o.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:o.jsxs("ul",{className:"navbar-nav mx-auto ",children:[o.jsx("li",{className:"nav-item",children:o.jsx(ee,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ee,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"Peoples"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ee,{className:"nav-link mx-2 active","aria-current":"page",to:"/gallery",children:"Gallery"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ee,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ee,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ee,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ee,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),o.jsx("li",{className:"nav-item",children:o.jsx(ee,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})});function D_(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Tw(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:D_(e[n])&&D_(t[n])&&Object.keys(e[n]).length>0&&Tw(t[n],e[n])})}const CC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function qr(){const t=typeof document<"u"?document:{};return Tw(t,CC),t}const Z6={document:CC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function An(){const t=typeof window<"u"?window:{};return Tw(t,Z6),t}function e5(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function t5(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ag(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Jd(){return Date.now()}function n5(t){const e=An();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function r5(t,e){e===void 0&&(e="x");const n=An();let r,s,i;const a=n5(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function xu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function s5(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function yn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!s5(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,a=s.length;i<a;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(xu(t[l])&&xu(r[l])?r[l].__swiper__?t[l]=r[l]:yn(t[l],r[l]):!xu(t[l])&&xu(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:yn(t[l],r[l])):t[l]=r[l])}}}return t}function bu(t,e,n){t.style.setProperty(e,n)}function PC(t){let{swiper:e,targetPosition:n,side:r}=t;const s=An(),i=-e.translate;let a=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const u=n>i?"next":"prev",d=(f,p)=>u==="next"&&f>=p||u==="prev"&&f<=p,h=()=>{l=new Date().getTime(),a===null&&(a=l);const f=Math.max(Math.min((l-a)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=i+p*(n-i);if(d(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),d(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(h)};h()}function vr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function Zd(t){try{console.warn(t);return}catch{}}function eh(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:e5(e)),n}function i5(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function a5(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function _s(t,e){return An().getComputedStyle(t,null).getPropertyValue(e)}function th(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function AC(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function kg(t,e,n){const r=An();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function gt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Np;function o5(){const t=An(),e=qr();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function kC(){return Np||(Np=o5()),Np}let jp;function l5(t){let{userAgent:e}=t===void 0?{}:t;const n=kC(),r=An(),s=r.navigator.platform,i=e||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const w=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&g&&n.touch&&w.indexOf(`${l}x${c}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(d||f||h)&&(a.os="ios",a.ios=!0),a}function RC(t){return t===void 0&&(t={}),jp||(jp=l5(t)),jp}let Cp;function c5(){const t=An(),e=RC();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:s}}function u5(){return Cp||(Cp=c5()),Cp}function d5(t){let{swiper:e,on:n,emit:r}=t;const s=An();let i=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(h=>{a=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,w=p;h.forEach(y=>{let{contentBoxSize:m,contentRect:v,target:x}=y;x&&x!==e.el||(g=v?v.width:(m[0]||m).inlineSize,w=v?v.height:(m[0]||m).blockSize)}),(g!==f||w!==p)&&l()})}),i.observe(e.el))},u=()=>{a&&s.cancelAnimationFrame(a),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",d)})}function h5(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],a=An(),l=function(d,h){h===void 0&&(h={});const f=a.MutationObserver||a.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const w=function(){s("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(w):a.setTimeout(w,0)});p.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const d=AC(e.hostEl);for(let h=0;h<d.length;h+=1)l(d[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",u)}var f5={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];e.apply(r,a)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(u=>{u.apply(r,n)})}),t}};function p5(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(_s(r,"padding-left")||0,10)-parseInt(_s(r,"padding-right")||0,10),n=n-parseInt(_s(r,"padding-top")||0,10)-parseInt(_s(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function m5(){const t=this;function e(S,A){return parseFloat(S.getPropertyValue(t.getDirectionLabel(A))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:a,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,d=vr(s,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:d.length;let f=[];const p=[],g=[];let w=n.slidesOffsetBefore;typeof w=="function"&&(w=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,v=t.slidesGrid.length;let x=n.spaceBetween,b=-w,I=0,_=0;if(typeof i>"u")return;typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*i:typeof x=="string"&&(x=parseFloat(x)),t.virtualSize=-x,d.forEach(S=>{a?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(bu(r,"--swiper-centered-offset-before",""),bu(r,"--swiper-centered-offset-after",""));const j=n.grid&&n.grid.rows>1&&t.grid;j?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let E;const T=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<h;S+=1){E=0;let A;if(d[S]&&(A=d[S]),j&&t.grid.updateSlide(S,A,d),!(d[S]&&_s(A,"display")==="none")){if(n.slidesPerView==="auto"){T&&(d[S].style[t.getDirectionLabel("width")]="");const O=getComputedStyle(A),C=A.style.transform,P=A.style.webkitTransform;if(C&&(A.style.transform="none"),P&&(A.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?kg(A,"width",!0):kg(A,"height",!0);else{const M=e(O,"width"),B=e(O,"padding-left"),D=e(O,"padding-right"),R=e(O,"margin-left"),L=e(O,"margin-right"),F=O.getPropertyValue("box-sizing");if(F&&F==="border-box")E=M+R+L;else{const{clientWidth:W,offsetWidth:k}=A;E=M+B+D+R+L+(k-W)}}C&&(A.style.transform=C),P&&(A.style.webkitTransform=P),n.roundLengths&&(E=Math.floor(E))}else E=(i-(n.slidesPerView-1)*x)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),d[S]&&(d[S].style[t.getDirectionLabel("width")]=`${E}px`);d[S]&&(d[S].swiperSlideSize=E),g.push(E),n.centeredSlides?(b=b+E/2+I/2+x,I===0&&S!==0&&(b=b-i/2-x),S===0&&(b=b-i/2-x),Math.abs(b)<1/1e3&&(b=0),n.roundLengths&&(b=Math.floor(b)),_%n.slidesPerGroup===0&&f.push(b),p.push(b)):(n.roundLengths&&(b=Math.floor(b)),(_-Math.min(t.params.slidesPerGroupSkip,_))%t.params.slidesPerGroup===0&&f.push(b),p.push(b),b=b+E+x),t.virtualSize+=E+x,I=E,_+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+y,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+x}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+x}px`),j&&t.grid.updateWrapperSize(E,f),!n.centeredSlides){const S=[];for(let A=0;A<f.length;A+=1){let O=f[A];n.roundLengths&&(O=Math.floor(O)),f[A]<=t.virtualSize-i&&S.push(O)}f=S,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(c&&n.loop){const S=g[0]+x;if(n.slidesPerGroup>1){const A=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=S*n.slidesPerGroup;for(let C=0;C<A;C+=1)f.push(f[f.length-1]+O)}for(let A=0;A<t.virtual.slidesBefore+t.virtual.slidesAfter;A+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+S),p.push(p[p.length-1]+S),t.virtualSize+=S}if(f.length===0&&(f=[0]),x!==0){const S=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");d.filter((A,O)=>!n.cssMode||n.loop?!0:O!==d.length-1).forEach(A=>{A.style[S]=`${x}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;g.forEach(O=>{S+=O+(x||0)}),S-=x;const A=S-i;f=f.map(O=>O<=0?-w:O>A?A+y:O)}if(n.centerInsufficientSlides){let S=0;if(g.forEach(A=>{S+=A+(x||0)}),S-=x,S<i){const A=(i-S)/2;f.forEach((O,C)=>{f[C]=O-A}),p.forEach((O,C)=>{p[C]=O+A})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){bu(r,"--swiper-centered-offset-before",`${-f[0]}px`),bu(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const S=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+S),t.slidesGrid=t.slidesGrid.map(O=>O+A)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,A=t.el.classList.contains(S);h<=n.maxBackfaceHiddenSlides?A||t.el.classList.add(S):A&&t.el.classList.remove(S)}}function g5(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function v5(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function y5(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),f=(a-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=-(a-d),g=p+e.slidesSizesGrid[c],w=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),w&&r[c].classList.add(n.slideFullyVisibleClass),u.progress=s?-h:h,u.originalProgress=s?-f:f}}function w5(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,u=a;if(r===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,a=h||s>=1,d&&(s=0),h&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],w=Math.abs(t);w>=f?l=(w-f)/g:l=(w+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}function x5(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=h=>vr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,u,d;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.filter(h=>h.column===s)[0],d=e.filter(h=>h.column===s+1)[0],u=e.filter(h=>h.column===s-1)[0]):c=e[s];c&&(c.classList.add(n.slideActiveClass),a?(d&&d.classList.add(n.slideNextClass),u&&u.classList.add(n.slidePrevClass)):(d=a5(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),d&&d.classList.add(n.slideNextClass),u=i5(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Hu=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Pp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Rg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&Pp(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%n+n)%n;(l<s||l>i)&&Pp(t,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,n-1);a+=1)a!==s&&(a>i||a<s)&&Pp(t,a)};function b5(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function _5(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=t,u;const d=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=b5(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,c);u=p+Math.floor((c-p)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=d(c);else if(h){const p=e.slides.filter(w=>w.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/s.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:f,previousIndex:i,activeIndex:c}),e.initialized&&Rg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function E5(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,a=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var T5={updateSize:p5,updateSlides:m5,updateAutoHeight:g5,updateSlidesOffset:v5,updateSlidesProgress:y5,updateProgress:w5,updateSlidesClasses:x5,updateActiveIndex:_5,updateClickedSlide:E5};function S5(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let a=r5(i,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function I5(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function N5(){return-this.snapGrid[0]}function j5(){return-this.snapGrid[this.snapGrid.length-1]}function C5(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,i.updateProgress(d),a.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return PC({swiper:i,targetPosition:-d,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var P5={getTranslate:S5,setTranslate:I5,minTranslate:N5,maxTranslate:j5,translateTo:C5};function A5(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function DC(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:a}=e;let l=r;if(l||(i>a?l="next":i<a?l="prev":l="reset"),e.emit(`transition${s}`),n&&i!==a){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function k5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),DC({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function R5(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),DC({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var D5={setTransition:A5,transitionStart:k5,transitionEnd:R5};function O5(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=i;if(i.animating&&l.preventInteractionOnTransition||!g&&!r&&!s||i.destroyed)return!1;const w=Math.min(i.params.slidesPerGroupSkip,a);let y=w+Math.floor((a-w)/i.params.slidesPerGroup);y>=c.length&&(y=c.length-1);const m=-c[y];if(l.normalizeSlideIndex)for(let x=0;x<u.length;x+=1){const b=-Math.floor(m*100),I=Math.floor(u[x]*100),_=Math.floor(u[x+1]*100);typeof u[x+1]<"u"?b>=I&&b<_-(_-I)/2?a=x:b>=I&&b<_&&(a=x+1):b>=I&&(a=x)}if(i.initialized&&a!==h&&(!i.allowSlideNext&&(f?m>i.translate&&m>i.minTranslate():m<i.translate&&m<i.minTranslate())||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==a))return!1;a!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let v;if(a>h?v="next":a<h?v="prev":v="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(m),v!=="reset"&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1;if(l.cssMode){const x=i.isHorizontal(),b=f?m:-m;if(e===0){const I=i.virtual&&i.params.virtual.enabled;I&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),I&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[x?"scrollLeft":"scrollTop"]=b})):p[x?"scrollLeft":"scrollTop"]=b,I&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return PC({swiper:i,targetPosition:b,side:x?"left":"top"}),!0;p.scrollTo({[x?"left":"top"]:b,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),e===0?i.transitionEnd(n,v):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(b){!i||i.destroyed||b.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,v))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function L5(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const f=a*s.params.grid.rows;l=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u}=s.params;let d=s.params.slidesPerView;d==="auto"?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=c-l<d;if(u&&(h=h||l<Math.ceil(d/2)),h){const f=u?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=a*s.params.grid.rows;a=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,n,r)}),s}function M5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function V5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=i.map(m=>f(m));let w=i[g.indexOf(p)-1];if(typeof w>"u"&&s.cssMode){let m;i.forEach((v,x)=>{p>=v&&(m=x)}),typeof m<"u"&&(w=i[m>0?m-1:m])}let y=0;if(typeof w<"u"&&(y=a.indexOf(w),y<0&&(y=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(y=y-r.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(y,t,e,n)}),!0;return r.slideTo(y,t,e,n)}function F5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function U5(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function $5(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(vr(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),Ag(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(vr(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),Ag(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var B5={slideTo:O5,slideToLoop:L5,slideNext:M5,slidePrev:V5,slideReset:F5,slideToClosest:U5,slideToClickedSlide:$5};function z5(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{vr(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(i?n.grid.rows:1),l=e.slides.length%a!==0,c=i&&e.slides.length%n.grid.rows!==0,u=d=>{for(let h=0;h<d;h+=1){const f=e.isElement?eh("swiper-slide",[n.slideBlankClass]):eh("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const d=a-e.slides.length%a;u(d),e.recalcSlides(),e.updateSlides()}else Zd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const d=n.grid.rows-e.slides.length%n.grid.rows;u(d),e.recalcSlides(),e.updateSlides()}else Zd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function H5(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=h,c.emit("loopFix");return}let w=p.slidesPerView;w==="auto"?w=c.slidesPerViewDynamic():(w=Math.ceil(parseFloat(p.slidesPerView,10)),g&&w%2===0&&(w=w+1));const y=p.slidesPerGroupAuto?w:p.slidesPerGroup;let m=y;m%y!==0&&(m+=y-m%y),m+=p.loopAdditionalSlides,c.loopedSlides=m;const v=c.grid&&p.grid&&p.grid.rows>1;u.length<w+m?Zd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&p.grid.fill==="row"&&Zd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const x=[],b=[];let I=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(u.filter(C=>C.classList.contains(p.slideActiveClass))[0]):I=i;const _=r==="next"||!r,j=r==="prev"||!r;let E=0,T=0;const S=v?Math.ceil(u.length/p.grid.rows):u.length,O=(v?u[i].column:i)+(g&&typeof s>"u"?-w/2+.5:0);if(O<m){E=Math.max(m-O,y);for(let C=0;C<m-O;C+=1){const P=C-Math.floor(C/S)*S;if(v){const M=S-P-1;for(let B=u.length-1;B>=0;B-=1)u[B].column===M&&x.push(B)}else x.push(S-P-1)}}else if(O+w>S-m){T=Math.max(O-(S-m*2),y);for(let C=0;C<T;C+=1){const P=C-Math.floor(C/S)*S;v?u.forEach((M,B)=>{M.column===P&&b.push(B)}):b.push(P)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),j&&x.forEach(C=>{u[C].swiperLoopMoveDOM=!0,f.prepend(u[C]),u[C].swiperLoopMoveDOM=!1}),_&&b.forEach(C=>{u[C].swiperLoopMoveDOM=!0,f.append(u[C]),u[C].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():v&&(x.length>0&&j||b.length>0&&_)&&c.slides.forEach((C,P)=>{c.grid.updateSlide(P,C,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(x.length>0&&j){if(typeof e>"u"){const C=c.slidesGrid[I],M=c.slidesGrid[I+E]-C;l?c.setTranslate(c.translate-M):(c.slideTo(I+E,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-M,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-M))}else if(s){const C=v?x.length/p.grid.rows:x.length;c.slideTo(c.activeIndex+C,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(b.length>0&&_)if(typeof e>"u"){const C=c.slidesGrid[I],M=c.slidesGrid[I-T]-C;l?c.setTranslate(c.translate-M):(c.slideTo(I-T,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-M,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-M))}else{const C=v?b.length/p.grid.rows:b.length;c.slideTo(c.activeIndex-C,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const C={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(P=>{!P.destroyed&&P.params.loop&&P.loopFix({...C,slideTo:P.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...C,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function W5(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var q5={loopCreate:z5,loopFix:H5,loopDestroy:W5};function G5(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function K5(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Y5={setGrabCursor:G5,unsetGrabCursor:K5};function Q5(t,e){e===void 0&&(e=this);function n(r){if(!r||r===qr()||r===An())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function O_(t,e,n){const r=An(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function X5(t){const e=this,n=qr();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){O_(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?Q5(h,c):c.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const p=a.currentX,g=a.currentY;if(!O_(e,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=g,s.touchStartTime=Jd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let w=!0;c.matches(s.focusableElements)&&(w=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const y=w&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function J5(t){const e=qr(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].filter(_=>_.identifier===r.touchId)[0],!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,h=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=Jd());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let _;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(_=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?_>s.touchAngle:90-_>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,w=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(a?1:-1),w=Math.abs(w)*(a?1:-1)),i.diff=g,g*=s.touchRatio,a&&(g=-g,w=-w);const y=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=w>0?"prev":"next";const m=n.params.loop&&!s.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&v&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const _=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(_)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let x;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&y!==n.touchesDirection&&m&&v&&Math.abs(g)>=1){Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let b=!0,I=s.resistanceRatio;if(s.touchReleaseOnEdges&&(I=0),g>0?(m&&v&&!x&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(b=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**I))):g<0&&(m&&v&&!x&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(b=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**I))),b&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Z5(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(I=>I.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=Jd(),f=h-n.touchStartTime;if(e.allowClick){const I=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(I&&I[0]||r.target,I),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Jd(),Ag(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(a.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let w=0,y=e.slidesSizesGrid[0];for(let I=0;I<u.length;I+=I<a.slidesPerGroupSkip?1:a.slidesPerGroup){const _=I<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[I+_]<"u"?(g||p>=u[I]&&p<u[I+_])&&(w=I,y=u[I+_]-u[I]):(g||p>=u[I])&&(w=I,y=u[u.length-1]-u[u.length-2])}let m=null,v=null;a.rewind&&(e.isBeginning?v=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const x=(p-u[w])/y,b=w<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(f>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(x>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?m:w+b):e.slideTo(w)),e.swipeDirection==="prev"&&(x>1-a.longSwipesRatio?e.slideTo(w+b):v!==null&&x<0&&Math.abs(x)>a.longSwipesRatio?e.slideTo(v):e.slideTo(w))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(w+b):e.slideTo(w):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:w+b),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:w))}}function L_(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function eH(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function tH(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function nH(t){const e=this;Hu(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function rH(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const OC=(t,e)=>{const n=qr(),{params:r,el:s,wrapperEl:i,device:a}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",L_,!0):t[u]("observerUpdate",L_,!0),s[c]("load",t.onLoad,{capture:!0})};function sH(){const t=this,{params:e}=t;t.onTouchStart=X5.bind(t),t.onTouchMove=J5.bind(t),t.onTouchEnd=Z5.bind(t),t.onDocumentTouchStart=rH.bind(t),e.cssMode&&(t.onScroll=tH.bind(t)),t.onClick=eH.bind(t),t.onLoad=nH.bind(t),OC(t,"on")}function iH(){OC(this,"off")}var aH={attachEvents:sH,detachEvents:iH};const M_=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function oH(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in i?i[a]:void 0)||t.originalParams,u=M_(t,r),d=M_(t,c),h=r.enabled;u&&!d?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&d&&(s.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const v=r[m]&&r[m].enabled,x=c[m]&&c[m].enabled;v&&!x&&t[m].disable(),!v&&x&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),yn(t.params,c);const w=t.params.enabled,y=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!w?t.disable():!h&&w&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&y?(t.loopCreate(e),t.updateSlides()):g&&!y&&t.loopDestroy()),t.emit("breakpoint",c)}function lH(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=An(),i=e==="window"?s.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var cH={setBreakpoint:oH,getBreakpoint:lH};function uH(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function dH(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,a=uH(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function hH(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var fH={addClasses:dH,removeClasses:hH};function pH(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var mH={checkOverflow:pH},Dg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function gH(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){yn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){yn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),yn(e,r)}}const Ap={eventsEmitter:f5,update:T5,translate:P5,transition:D5,slide:B5,loop:q5,grabCursor:Y5,events:aH,breakpoints:cH,checkOverflow:mH,classes:fH},kp={};let Sw=class Dr{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=yn({},n),e&&!n.el&&(n.el=e);const a=qr();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const d=[];return a.querySelectorAll(n.el).forEach(h=>{const f=yn({},n,{el:h});d.push(new Dr(f))}),d}const l=this;l.__swiper__=!0,l.support=kC(),l.device=RC({userAgent:n.userAgent}),l.browser=u5(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(d=>{d({params:n,swiper:l,extendParams:gH(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=yn({},Dg,c);return l.params=yn({},u,kp,n),l.originalParams=yn({},l.params),l.passedParams=yn({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=vr(n,`.${r.slideClass}, swiper-slide`),i=th(s[0]);return th(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=vr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[u]?Math.ceil(i[u].swiperSlideSize):0,f;for(let p=u+1;p<i.length;p+=1)i[p]&&!f&&(h+=Math.ceil(i[p].swiperSlideSize),d+=1,h>c&&(f=!0));for(let p=u-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,d+=1,h>c&&(f=!0))}else if(e==="current")for(let h=u+1;h<i.length;h+=1)(n?a[h]+l[h]-a[u]<c:a[h]-a[u]<c)&&(d+=1);else for(let h=u-1;h>=0;h-=1)a[u]-a[h]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Hu(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):vr(r,s())[0];return!a&&n.params.createElements&&(a=eh("div",n.params.wrapperClass),r.append(a),vr(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||_s(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||_s(r,"direction")==="rtl"),wrongRTL:_s(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Hu(n,i):i.addEventListener("load",a=>{Hu(n,a.target)})}),Rg(n),n.initialized=!0,Rg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,t5(r)),r.destroyed=!0),null}static extendDefaults(e){yn(kp,e)}static get extendedDefaults(){return kp}static get defaults(){return Dg}static installModule(e){Dr.prototype.__modules__||(Dr.prototype.__modules__=[]);const n=Dr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Dr.installModule(n)),Dr):(Dr.installModule(e),Dr)}};Object.keys(Ap).forEach(t=>{Object.keys(Ap[t]).forEach(e=>{Sw.prototype[e]=Ap[t][e]})});Sw.use([d5,h5]);const LC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ui(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function za(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ui(e[r])&&Ui(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:za(t[r],e[r]):t[r]=e[r]})}function MC(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function VC(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function FC(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function UC(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function vH(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function yH(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:c}=t;const u=s.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:w}=e;let y,m,v,x,b,I,_,j;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(y=!0),s.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(m=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(v=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(x=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(b=!0);const E=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),d[T].prevEl=void 0,d[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),d[T].el=void 0,e[T].el=void 0))};s.includes("loop")&&e.isElement&&(d.loop&&!r.loop?I=!0:!d.loop&&r.loop?_=!0:j=!0),u.forEach(T=>{if(Ui(d[T])&&Ui(r[T]))Object.assign(d[T],r[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in r[T]&&!r[T].enabled&&E(T);else{const S=r[T];(S===!0||S===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?S===!1&&E(T):d[T]=r[T]}}),u.includes("controller")&&!m&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),s.includes("children")&&n&&g&&d.virtual.enabled?(g.slides=n,g.update(!0)):s.includes("virtual")&&g&&d.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),s.includes("children")&&n&&d.loop&&(j=!0),y&&w.init()&&w.update(!0),m&&(e.controller.control=d.controller.control),v&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(d.pagination.el=c),h.init(),h.render(),h.update()),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(d.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),b&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),i&&(d.navigation.nextEl=i),a&&(d.navigation.prevEl=a),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(I||j)&&e.loopDestroy(),(_||j)&&e.loopCreate(),e.update()}function wH(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};za(n,Dg),n._emitClasses=!0,n.init=!1;const i={},a=LC.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?Ui(t[c])?(n[c]={},s[c]={},za(n[c],t[c]),za(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function xH(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:a,swiper:l}=t;MC(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),VC(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),FC(e)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function bH(t,e,n,r,s){const i=[];if(!e)return i;const a=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),u=n.map(s);c.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return LC.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Ui(t[c])&&Ui(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?a(c):(u.forEach(h=>{t[c][h]!==e[c][h]&&a(c)}),d.forEach(h=>{t[c][h]!==e[c][h]&&a(c)}))}else t[c]!==e[c]&&a(c)}),i}const _H=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function $C(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function BC(t){const e=[];return Ee.Children.toArray(t).forEach(n=>{$C(n)?e.push(n):n.props&&n.props.children&&BC(n.props.children).forEach(r=>e.push(r))}),e}function EH(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ee.Children.toArray(t).forEach(r=>{if($C(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=BC(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function TH(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=a&&u.push(e[r(d)]);return u.map((d,h)=>Ee.cloneElement(d,{swiper:t,style:s,key:`slide-${h}`}))}function El(t,e){return typeof window>"u"?N.useEffect(t,e):N.useLayoutEffect(t,e)}const V_=N.createContext(null),SH=N.createContext(null),zC=N.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:a,...l}=t===void 0?{}:t,c=!1;const[u,d]=N.useState("swiper"),[h,f]=N.useState(null),[p,g]=N.useState(!1),w=N.useRef(!1),y=N.useRef(null),m=N.useRef(null),v=N.useRef(null),x=N.useRef(null),b=N.useRef(null),I=N.useRef(null),_=N.useRef(null),j=N.useRef(null),{params:E,passedParams:T,rest:S,events:A}=wH(l),{slides:O,slots:C}=EH(i),P=()=>{g(!p)};Object.assign(E.on,{_containerClasses(L,F){d(F)}});const M=()=>{Object.assign(E.on,A),c=!0;const L={...E};if(delete L.wrapperClass,m.current=new Sw(L),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=O;const F={cache:!1,slides:O,renderExternal:f,renderExternalUpdate:!1};za(m.current.params.virtual,F),za(m.current.originalParams.virtual,F)}};y.current||M(),m.current&&m.current.on("_beforeBreakpoint",P);const B=()=>{c||!A||!m.current||Object.keys(A).forEach(L=>{m.current.on(L,A[L])})},D=()=>{!A||!m.current||Object.keys(A).forEach(L=>{m.current.off(L,A[L])})};N.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",P)}),N.useEffect(()=>{!w.current&&m.current&&(m.current.emitSlidesClasses(),w.current=!0)}),El(()=>{if(e&&(e.current=y.current),!!y.current)return m.current.destroyed&&M(),xH({el:y.current,nextEl:b.current,prevEl:I.current,paginationEl:_.current,scrollbarEl:j.current,swiper:m.current},E),a&&!m.current.destroyed&&a(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),El(()=>{B();const L=bH(T,v.current,O,x.current,F=>F.key);return v.current=T,x.current=O,L.length&&m.current&&!m.current.destroyed&&yH({swiper:m.current,slides:O,passedParams:T,changedParams:L,nextEl:b.current,prevEl:I.current,scrollbarEl:j.current,paginationEl:_.current}),()=>{D()}}),El(()=>{_H(m.current)},[h]);function R(){return E.virtual?TH(m.current,O,h):O.map((L,F)=>Ee.cloneElement(L,{swiper:m.current,swiperSlideIndex:F}))}return Ee.createElement(r,nh({ref:y,className:UC(`${u}${n?` ${n}`:""}`)},S),Ee.createElement(SH.Provider,{value:m.current},C["container-start"],Ee.createElement(s,{className:vH(E.wrapperClass)},C["wrapper-start"],R(),C["wrapper-end"]),MC(E)&&Ee.createElement(Ee.Fragment,null,Ee.createElement("div",{ref:I,className:"swiper-button-prev"}),Ee.createElement("div",{ref:b,className:"swiper-button-next"})),FC(E)&&Ee.createElement("div",{ref:j,className:"swiper-scrollbar"}),VC(E)&&Ee.createElement("div",{ref:_,className:"swiper-pagination"}),C["container-end"]))});zC.displayName="Swiper";const HC=N.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=N.useRef(null),[f,p]=N.useState("swiper-slide"),[g,w]=N.useState(!1);function y(b,I,_){I===h.current&&p(_)}El(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",y),()=>{i&&i.off("_slideClass",y)}}}),El(()=>{i&&h.current&&!i.destroyed&&p(i.getSlideClasses(h.current))},[i]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},v=()=>typeof r=="function"?r(m):r,x=()=>{w(!0)};return Ee.createElement(n,nh({ref:h,className:UC(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:x},d),a&&Ee.createElement(V_.Provider,{value:m},Ee.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},v(),l&&!g&&Ee.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Ee.createElement(V_.Provider,{value:m},v(),l&&!g&&Ee.createElement("div",{className:"swiper-lazy-preloader"})))});HC.displayName="SwiperSlide";function WC(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=vr(t.el,`.${r[s]}`)[0];i||(i=eh("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function IH(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let w;return g&&typeof g=="string"&&e.isElement&&(w=e.el.querySelector(g),w)?w:(g&&(typeof g=="string"&&(w=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&w.length>1&&e.el.querySelectorAll(g).length===1&&(w=e.el.querySelector(g))),g&&!w?g:w)}function a(g,w){const y=e.params.navigation;g=gt(g),g.forEach(m=>{m&&(m.classList[w?"add":"remove"](...y.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=w),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](y.lockClass))})}function l(){const{nextEl:g,prevEl:w}=e.navigation;if(e.params.loop){a(w,!1),a(g,!1);return}a(w,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function u(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function d(){const g=e.params.navigation;if(e.params.navigation=WC(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let w=i(g.nextEl),y=i(g.prevEl);Object.assign(e.navigation,{nextEl:w,prevEl:y}),w=gt(w),y=gt(y);const m=(v,x)=>{v&&v.addEventListener("click",x==="next"?u:c),!e.enabled&&v&&v.classList.add(...g.lockClass.split(" "))};w.forEach(v=>m(v,"next")),y.forEach(v=>m(v,"prev"))}function h(){let{nextEl:g,prevEl:w}=e.navigation;g=gt(g),w=gt(w);const y=(m,v)=>{m.removeEventListener("click",v==="next"?u:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>y(m,"next")),w.forEach(m=>y(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:w}=e.navigation;if(g=gt(g),w=gt(w),e.enabled){l();return}[...g,...w].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),r("click",(g,w)=>{let{nextEl:y,prevEl:m}=e.navigation;y=gt(y),m=gt(m);const v=w.target;if(e.params.navigation.hideOnClick&&!m.includes(v)&&!y.includes(v)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let x;y.length?x=y[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(x=m[0].classList.contains(e.params.navigation.hiddenClass)),s(x===!0?"navigationShow":"navigationHide"),[...y,...m].filter(b=>!!b).forEach(b=>b.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:d,destroy:h})}function Wo(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function NH(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(m,v){const{bulletActiveClass:x}=e.params.pagination;m&&(m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${x}-${v}`),m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${x}-${v}-${v}`)))}function d(m){const v=m.target.closest(Wo(e.params.pagination.bulletClass));if(!v)return;m.preventDefault();const x=th(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;e.slideToLoop(x)}else e.slideTo(x)}function h(){const m=e.rtl,v=e.params.pagination;if(c())return;let x=e.pagination.el;x=gt(x);let b,I;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,j=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(I=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(b=e.snapIndex,I=e.previousSnapIndex):(I=e.previousIndex||0,b=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const E=e.pagination.bullets;let T,S,A;if(v.dynamicBullets&&(a=kg(E[0],e.isHorizontal()?"width":"height",!0),x.forEach(O=>{O.style[e.isHorizontal()?"width":"height"]=`${a*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&I!==void 0&&(l+=b-(I||0),l>v.dynamicMainBullets-1?l=v.dynamicMainBullets-1:l<0&&(l=0)),T=Math.max(b-l,0),S=T+(Math.min(E.length,v.dynamicMainBullets)-1),A=(S+T)/2),E.forEach(O=>{const C=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(P=>`${v.bulletActiveClass}${P}`)].map(P=>typeof P=="string"&&P.includes(" ")?P.split(" "):P).flat();O.classList.remove(...C)}),x.length>1)E.forEach(O=>{const C=th(O);C===b?O.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&O.setAttribute("part","bullet"),v.dynamicBullets&&(C>=T&&C<=S&&O.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),C===T&&u(O,"prev"),C===S&&u(O,"next"))});else{const O=E[b];if(O&&O.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&E.forEach((C,P)=>{C.setAttribute("part",P===b?"bullet-active":"bullet")}),v.dynamicBullets){const C=E[T],P=E[S];for(let M=T;M<=S;M+=1)E[M]&&E[M].classList.add(...`${v.bulletActiveClass}-main`.split(" "));u(C,"prev"),u(P,"next")}}if(v.dynamicBullets){const O=Math.min(E.length,v.dynamicMainBullets+4),C=(a*O-a)/2-A*a,P=m?"right":"left";E.forEach(M=>{M.style[e.isHorizontal()?P:"top"]=`${C}px`})}}x.forEach((E,T)=>{if(v.type==="fraction"&&(E.querySelectorAll(Wo(v.currentClass)).forEach(S=>{S.textContent=v.formatFractionCurrent(b+1)}),E.querySelectorAll(Wo(v.totalClass)).forEach(S=>{S.textContent=v.formatFractionTotal(j)})),v.type==="progressbar"){let S;v.progressbarOpposite?S=e.isHorizontal()?"vertical":"horizontal":S=e.isHorizontal()?"horizontal":"vertical";const A=(b+1)/j;let O=1,C=1;S==="horizontal"?O=A:C=A,E.querySelectorAll(Wo(v.progressbarFillClass)).forEach(P=>{P.style.transform=`translate3d(0,0,0) scaleX(${O}) scaleY(${C})`,P.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(E.innerHTML=v.renderCustom(e,b+1,j),T===0&&s("paginationRender",E)):(T===0&&s("paginationRender",E),s("paginationUpdate",E)),e.params.watchOverflow&&e.enabled&&E.classList[e.isLocked?"add":"remove"](v.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=gt(x);let b="";if(m.type==="bullets"){let I=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&I>v&&(I=v);for(let _=0;_<I;_+=1)m.renderBullet?b+=m.renderBullet.call(e,_,m.bulletClass):b+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?b=m.renderFraction.call(e,m.currentClass,m.totalClass):b=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?b=m.renderProgressbar.call(e,m.progressbarFillClass):b=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(I=>{m.type!=="custom"&&(I.innerHTML=b||""),m.type==="bullets"&&e.pagination.bullets.push(...I.querySelectorAll(Wo(m.bulletClass)))}),m.type!=="custom"&&s("paginationRender",x[0])}function p(){e.params.pagination=WC(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let v;typeof m.el=="string"&&e.isElement&&(v=e.el.querySelector(m.el)),!v&&typeof m.el=="string"&&(v=[...document.querySelectorAll(m.el)]),v||(v=m.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(m.el)],v.length>1&&(v=v.filter(x=>AC(x,".swiper")[0]===e.el)[0])),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=gt(v),v.forEach(x=>{m.type==="bullets"&&m.clickable&&x.classList.add(...(m.clickableClass||"").split(" ")),x.classList.add(m.modifierClass+m.type),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(x.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&x.classList.add(m.progressbarOppositeClass),m.clickable&&x.addEventListener("click",d),e.enabled||x.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let v=e.pagination.el;v&&(v=gt(v),v.forEach(x=>{x.classList.remove(m.hiddenClass),x.classList.remove(m.modifierClass+m.type),x.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(x.classList.remove(...(m.clickableClass||"").split(" ")),x.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:v}=e.pagination;v=gt(v),v.forEach(x=>{x.classList.remove(m.horizontalClass,m.verticalClass),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?y():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=gt(m),m.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,v)=>{const x=v.target,b=gt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const I=b[0].classList.contains(e.params.pagination.hiddenClass);s(I===!0?"paginationShow":"paginationHide"),b.forEach(_=>_.classList.toggle(e.params.pagination.hiddenClass))}});const w=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=gt(m),m.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=gt(m),m.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:w,disable:y,render:f,update:h,init:p,destroy:g})}function jH(t){let{swiper:e,extendParams:n,on:r,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,c=i&&i.autoplay?i.autoplay.delay:3e3,u=i&&i.autoplay?i.autoplay.delay:3e3,d,h=new Date().getTime(),f,p,g,w,y,m,v;function x(R){!e||e.destroyed||!e.wrapperEl||R.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",x),!v&&S())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(u=d,f=!1);const R=e.autoplay.paused?d:h+u-new Date().getTime();e.autoplay.timeLeft=R,s("autoplayTimeLeft",R,R/c),l=requestAnimationFrame(()=>{b()})},I=()=>{let R;return e.virtual&&e.params.virtual.enabled?R=e.slides.filter(F=>F.classList.contains("swiper-slide-active"))[0]:R=e.slides[e.activeIndex],R?parseInt(R.getAttribute("data-swiper-autoplay"),10):void 0},_=R=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),b();let L=typeof R>"u"?e.params.autoplay.delay:R;c=e.params.autoplay.delay,u=e.params.autoplay.delay;const F=I();!Number.isNaN(F)&&F>0&&typeof R>"u"&&(L=F,c=F,u=F),d=L;const W=e.params.speed,k=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(W,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,W,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(W,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,W,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{_()})))};return L>0?(clearTimeout(a),a=setTimeout(()=>{k()},L)):requestAnimationFrame(()=>{k()}),L},j=()=>{h=new Date().getTime(),e.autoplay.running=!0,_(),s("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),s("autoplayStop")},T=(R,L)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),R||(m=!0);const F=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",x):S()};if(e.autoplay.paused=!0,L){y&&(d=e.params.autoplay.delay),y=!1,F();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),F())},S=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,_(d)):_(),e.autoplay.paused=!1,s("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const R=qr();R.visibilityState==="hidden"&&(m=!0,T(!0)),R.visibilityState==="visible"&&S()},O=R=>{R.pointerType==="mouse"&&(m=!0,v=!0,!(e.animating||e.autoplay.paused)&&T(!0))},C=R=>{R.pointerType==="mouse"&&(v=!1,e.autoplay.paused&&S())},P=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",O),e.el.addEventListener("pointerleave",C))},M=()=>{e.el.removeEventListener("pointerenter",O),e.el.removeEventListener("pointerleave",C)},B=()=>{qr().addEventListener("visibilitychange",A)},D=()=>{qr().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(P(),B(),j())}),r("destroy",()=>{M(),D(),e.autoplay.running&&E()}),r("_freeModeStaticRelease",()=>{(g||m)&&S()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():T(!0,!0)}),r("beforeTransitionStart",(R,L,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?T(!0,!0):E())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){E();return}p=!0,g=!1,m=!1,w=setTimeout(()=>{m=!0,g=!0,T(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(w),clearTimeout(a),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&S(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:j,stop:E,pause:T,resume:S})}const CH=()=>{const t=re(e=>e.getslider).data;return o.jsx(o.Fragment,{children:o.jsx("div",{className:"border_bottom_strip",children:o.jsx(zC,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[jH,NH,IH],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>o.jsxs(HC,{children:[o.jsx("img",{src:e.bannerURL,alt:e.title}),o.jsx("p",{children:e.title})]},n))})})})},PH=()=>o.jsx("div",{className:"col-sm-12 py-3 px-4 container my-3 mb-5",children:o.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[o.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 p-0",children:o.jsx("img",{src:"https://visionintelligence.github.io/assets/images/group.jpg",alt:"",className:"image-fluid rounded-3 image_up"})}),o.jsxs("div",{className:"col-md-6 col-sm-12",children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Our Objective"}),o.jsx("hr",{}),o.jsx("p",{children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning. Our lab aims to develop intelligent algorithms that perform important visual perception tasks such as object detection, human emotion recognition, aberrant event detection, image retrieval, Motion analysis, etc. Currently, we are dealing with:-"}),o.jsxs("ol",{children:[o.jsx("li",{children:"Moving Object Detection and Analysis"}),o.jsx("li",{children:"Facial Expression"}),o.jsx("li",{children:"Recognition"}),o.jsx("li",{children:"Anomaly Detection and Analysis"}),o.jsx("li",{children:"Content Based Image Retrieval"}),o.jsx("li",{children:"Hand Gesture Recognition"})]})]})]})}),qC=({ref_:t})=>{const e=re(s=>s.getpublications.data),[n,r]=N.useState(!1);return N.useEffect(()=>{t||(async()=>{r(!0),await Fc(),r(!1)})()},[]),n?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[o.jsxs("h1",{className:"fw-bold text-danger w-100 my-4",children:[t&&"Latest"," Publications"]}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("ul",{className:`p-2 ${t&&"marquee_scroll"}`,style:{height:t?"300px":"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((s,i)=>{const{paperTitle:a,author:l,impact:c,link:u,pages:d,publisher:h,publicationDate:f,volume:p,journalName:g,paperType:w,isbn:y}=s==null?void 0:s.data;return o.jsxs("li",{children:[o.jsx("p",{children:o.jsxs("cite",{children:[o.jsxs("span",{className:"author",children:[l==null?void 0:l.stringValue,","]}),o.jsxs("a",{href:`https://doi.org/${u.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[o.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',a.stringValue,'",']}),o.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),o.jsxs("span",{className:"journal",style:{display:"inline"},children:[o.jsx("i",{children:g.stringValue}),","]}),o.jsxs("span",{className:"volume",style:{display:"inline"},children:[p.stringValue,","," "]}),o.jsxs("span",{className:"pages",style:{display:"inline"},children:[d.stringValue,","," "]}),o.jsxs("span",{className:"date",style:{display:"inline"},children:[f.stringValue,"-",w.stringValue,"-",y.stringValue,"-",h.stringValue,"-",c.stringValue]})]})}),o.jsx("hr",{})]},i)})})}),t&&o.jsx("div",{className:"w-100 my-3",children:o.jsx(ee,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&o.jsx(pn,{children:o.jsxs("title",{children:["Publications | ","Vision Intelligence Lab, IIT Ropar"]})})]})},AH=()=>{const t=re(r=>r.getnews.data),[e,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{n(!0),await gC(),await Jj(),await Fc(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(CH,{}),o.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column p-4 container mt-4",children:[o.jsx("div",{className:"col-sm-8",children:o.jsx(qC,{ref_:!0})}),o.jsx("div",{className:"col-sm-4",children:o.jsxs("div",{className:"border d-flex flex-column mt-4",children:[o.jsx("div",{children:o.jsx("h3",{className:"py-2  px-4 bg-danger text-white",children:"Updates"})}),o.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:o.jsx("div",{className:"marquee_scroll ",children:o.jsx("div",{className:"text-secondary",children:o.jsx("ul",{style:{listStyle:"none"},children:t==null?void 0:t.map((r,s)=>{if(!(s>5))return o.jsxs("li",{children:[o.jsxs("strong",{className:"text-danger me-1",children:[s+1,"."]}),o.jsx("strong",{className:"text-danger",children:jC(r==null?void 0:r.datetime1)}),"-",r==null?void 0:r.title,"-",r==null?void 0:r.description]},s)})})})})}),o.jsx("div",{children:o.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:o.jsx(ee,{to:"#",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),o.jsx(PH,{})]})},kH=()=>o.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:o.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:o.jsxs("div",{className:"container py-4 p-3",children:[o.jsxs("div",{className:"row gy-4 gx-5",children:[o.jsxs("div",{className:"col-lg-4 col-md-6",children:[o.jsx("h5",{className:"h1 text-white",children:"Vision Intelligence Lab"}),o.jsx("p",{className:"small text-light",children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning."}),o.jsx("button",{className:"btn btn-danger",children:"More"})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Research"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Publications"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Projects"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Datasets"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Supervisor"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Ph.D."})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"PG and UG"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Interns and Visitors"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Alumni Students"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"About CVPR"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"IIT Ropar Website"})}),o.jsx("li",{children:o.jsx(ee,{className:"link_footer",to:"/login",target:"_blank",children:"Administration Login"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Address"}),o.jsx("p",{className:"text-white",children:"Indian Institute of Technology Ropar (IIT Ropar), Rupnagar, Punjab, 140001"})]})]}),o.jsx("hr",{className:"text-white"}),o.jsxs("p",{className:"small text-light w-100 text-center",children:["© Copyrights. All rights reserved."," ",o.jsx("a",{className:"text-danger fw-bold",href:"#",children:"CVPR LAB"})]})]})})}),RH=()=>{const[t,e]=N.useState(!0),n=re(a=>a.getsupervisors.data),r=re(a=>a.getphdStudents.data),s=re(a=>a.getpgugStudents.data),i=re(a=>a.getvisitorsandinterns.data);return N.useEffect(()=>{(async()=>{e(!0),await So(),await Ew(),await vC(),await yC(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:["Peoples | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Supervisor",o.jsx("hr",{})]}),n==null?void 0:n.map((a,l)=>{var c,u,d,h,f,p,g,w,y,m,v,x,b,I,_,j,E,T;return o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[o.jsx("div",{className:"col-sm-2 py-2 pe-2",children:o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"",className:"rounded-1"})})}),o.jsxs("div",{className:"col-sm-10",children:[o.jsx("h2",{className:"fw-bold text-dark",children:(u=(c=a==null?void 0:a.data)==null?void 0:c.name)==null?void 0:u.stringValue}),o.jsxs("p",{className:"text-muted",children:[(h=(d=a==null?void 0:a.data)==null?void 0:d.email)==null?void 0:h.stringValue," | +91-",(p=(f=a==null?void 0:a.data)==null?void 0:f.phone)==null?void 0:p.stringValue," |"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(g=a==null?void 0:a.data)==null?void 0:g.googleScholarLink.stringValue,target:"_blank",children:["Google Scholar ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(y=(w=a==null?void 0:a.data)==null?void 0:w.researchGateLink)==null?void 0:y.stringValue,target:"_blank",children:["Researchgate ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(v=(m=a==null?void 0:a.data)==null?void 0:m.personalProfileLink)==null?void 0:v.stringValue,target:"_blank",children:["Personal Profile ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(b=(x=a==null?void 0:a.data)==null?void 0:x.otherLink)==null?void 0:b.stringValue,target:"_blank",children:["Other ",o.jsx("i",{className:"bx bx-link-external"})]}),o.jsx("br",{}),o.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/profile/"+a._id,"_blank"),children:["Detailed Profile ",o.jsx("i",{className:"bx bx-link-external"})]})]}),o.jsx("hr",{}),o.jsx("h5",{children:"Research Interests"}),o.jsx("ul",{className:"d-flex flex-wrap",children:(j=(_=(I=a==null?void 0:a.data)==null?void 0:I.researchInterests)==null?void 0:_.stringValue)==null?void 0:j.split(",").map((S,A)=>o.jsx("li",{className:"mx-3",children:S},A))})]})]}),o.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[o.jsx("h3",{className:"fw-bold",children:"Introduction"}),o.jsx("hr",{}),o.jsx("p",{children:(T=(E=a==null?void 0:a.data)==null?void 0:E.introduction)==null?void 0:T.stringValue})]})]},l)}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((a,l)=>{var y,m,v,x,b,I;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p,supervisor:g}=a==null?void 0:a.data,w=(y=n.filter(_=>{var j,E,T,S,A;return((E=(j=_==null?void 0:_.data)==null?void 0:j.email)==null?void 0:E.stringValue)===((A=(S=(T=g==null?void 0:g.mapValue)==null?void 0:T.fields)==null?void 0:S.email)==null?void 0:A.stringValue)})[0])==null?void 0:y._id;return d!=null&&d.booleanValue?null:o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:c==null?void 0:c.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),o.jsx("br",{}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(v=(m=p==null?void 0:p.arrayValue)==null?void 0:m.values)==null?void 0:v.map((_,j)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:_.stringValue},j))]}),o.jsx("br",{}),o.jsxs("h6",{children:["Supervisor:",o.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+w,target:"_blank",children:[(I=(b=(x=g==null?void 0:g.mapValue)==null?void 0:x.fields)==null?void 0:b.name)==null?void 0:I.stringValue,o.jsx("i",{className:"bx bx-link-external"})]})]})]})]},l)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((a,l)=>{var y,m,v,x,b,I;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p,supervisor:g}=a==null?void 0:a.data,w=(y=n.filter(_=>{var j,E,T,S,A;return((E=(j=_==null?void 0:_.data)==null?void 0:j.email)==null?void 0:E.stringValue)===((A=(S=(T=g==null?void 0:g.mapValue)==null?void 0:T.fields)==null?void 0:S.email)==null?void 0:A.stringValue)})[0])==null?void 0:y._id;return d!=null&&d.booleanValue?o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("h3",{children:c==null?void 0:c.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),o.jsx("br",{}),o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(v=(m=p==null?void 0:p.arrayValue)==null?void 0:m.values)==null?void 0:v.map((_,j)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:_.stringValue},j))]}),o.jsx("br",{}),o.jsxs("h6",{children:["Supervisor:",o.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+w,target:"_blank",children:[(I=(b=(x=g==null?void 0:g.mapValue)==null?void 0:x.fields)==null?void 0:b.name)==null?void 0:I.stringValue,o.jsx("i",{className:"bx bx-link-external"})]})]})]},l):null})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(a=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=a==null?void 0:a.data;return u.booleanValue?null:o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:l==null?void 0:l.stringValue}),o.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),o.jsx("br",{}),o.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("hr",{}),o.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),o.jsx("br",{}),o.jsx("small",{children:"Currently Working at"}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),o.jsx("br",{})]})},a==null?void 0:a._id)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["PG and UG Alumnis",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(a=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=a==null?void 0:a.data;return u.booleanValue?o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:l==null?void 0:l.stringValue}),o.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),o.jsx("br",{}),o.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("hr",{}),o.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),o.jsx("br",{}),o.jsx("small",{children:"Currently Working at"}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),o.jsx("br",{})]})},a==null?void 0:a._id):null})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Vistors and Inters",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(a=>{const{name:l,collegeName:c}=a==null?void 0:a.data;return o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h4",{children:l==null?void 0:l.stringValue}),o.jsx("hr",{}),o.jsx("p",{className:"fw-bold text-dark",children:c==null?void 0:c.stringValue})]})},a==null?void 0:a._id)})})]})]})},DH=()=>{const t=re(r=>{var s;return(s=r.getdatasets)==null?void 0:s.data}),[e,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{n(!0),await Io(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:["Datasets | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Datasets",o.jsx("hr",{})]}),t==null?void 0:t.map((r,s)=>o.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[s+1,". "]}),r==null?void 0:r.title]}),o.jsx("p",{children:r==null?void 0:r.description}),o.jsx("img",{src:r==null?void 0:r.bannerURL,alt:"Banner Image",className:"rounded-3 border border-1 border-secondary"})]},s))]})]})},OH=()=>{const[t,e]=N.useState(!0),n=re(s=>{var i;return(i=s.getresearcharea)==null?void 0:i.data}),r=re(s=>s.getsubareas).data;return N.useEffect(()=>{(async()=>{e(!0),await ff(),await pf(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:["Research Areas | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Areas",o.jsx("hr",{})]}),n==null?void 0:n.map((s,i)=>{const a=(s==null?void 0:s.subareas)||[],l=r==null?void 0:r.filter(c=>a.some(u=>u.stringValue===(c==null?void 0:c._id)));return(i+1)%2!==0?o.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[o.jsx("div",{className:"col-sm-6 pe-3",children:o.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),o.jsxs("div",{className:"col-sm-8=6",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),o.jsxs("p",{children:[o.jsx("ul",{children:l==null?void 0:l.map((c,u)=>o.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&o.jsx(ee,{to:"/research-areas/"+(s==null?void 0:s._id),children:o.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]})]},i):o.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-6",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),o.jsxs("p",{children:[o.jsx("ul",{children:l==null?void 0:l.map((c,u)=>o.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&o.jsx(ee,{to:"/research-areas/"+(s==null?void 0:s._id),children:o.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]}),o.jsx("div",{className:"col-sm-6 pe-3",children:o.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},i)})]})]})},LH=()=>{const[t,e]=N.useState(!0),{id:n}=mo(),r=re(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),s=re(u=>u.getsubareas).data,i=re(u=>{var d;return(d=u.getprojectitems)==null?void 0:d.data}),a=r.find(u=>u._id===n);a||(window.location.href="/CVPR_LAB/#/dashboard/research-areas");const l=(a==null?void 0:a.subareas)||[],c=s==null?void 0:s.filter(u=>l.some(d=>d.stringValue===(u==null?void 0:u._id)));return N.useEffect(()=>{(async()=>{e(!0),await ff(),await pf(),await ra(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:[a==null?void 0:a.title," | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsx("div",{className:"col-sm-12 text-start w-100",children:o.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[o.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[a==null?void 0:a.title,o.jsx("hr",{})]}),o.jsx("div",{className:"col-sm-12",children:o.jsx("div",{className:"card p-3",children:o.jsx("img",{src:a==null?void 0:a.bannerURL,alt:"Banner URL"})})}),o.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((u,d)=>{var h;return o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("h1",{children:[o.jsxs("strong",{className:"fw-bold text-danger",children:[d+1,". "]}),u==null?void 0:u.title]}),o.jsx("hr",{}),o.jsx("p",{children:u==null?void 0:u.description}),o.jsx("h3",{className:"fw-bold text-danger mb-3",children:"Related Projects"}),o.jsx("div",{className:"col-sm-12",children:(h=u==null?void 0:u.projects)==null?void 0:h.map((f,p)=>{const g=i==null?void 0:i.find(w=>(w==null?void 0:w._id)==(f==null?void 0:f.stringValue));return o.jsxs("div",{className:"card p-2 mb-4",children:[o.jsxs("h6",{children:[" ",o.jsxs("strong",{className:"fw-bold text-danger",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",o.jsx(ee,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(ee,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},d)})})]})]})},MH=()=>o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:["Contact | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"my-5 container",children:[o.jsxs("h1",{className:"fw-bold mb-4 text-danger text-center text-lg-start",children:["Contact Us",o.jsx("hr",{})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-sm-8",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"500px",style:{border:"none"},allowFullScreen:!0})}),o.jsxs("div",{className:"col-sm-4",id:"contact2",children:[o.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),o.jsx("hr",{className:"text-left w-50"}),o.jsx("h4",{className:"pt-2",children:"Address"}),o.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),"CVPR Lab, Department of Electrical Engineering, J.C.Block, IIT Ropar, Rupnagar, Punjab, 140001",o.jsx("br",{}),o.jsx("h4",{className:"pt-2",children:"Mobile"}),o.jsx("i",{className:"fas fa-phone",style:{color:"#000"}}),o.jsxs("a",{href:"tel:+91-3612583507",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[o.jsx("i",{className:"bx bxs-phone me-1"}),"+91-3612583507"]}),o.jsx("br",{}),o.jsx("h4",{className:"pt-2",children:"Email"}),o.jsx("i",{className:"fa fa-envelope",style:{color:"#000"}}),o.jsxs("a",{href:"mailto:visionintelligencelab@gmail.com",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[o.jsx("i",{className:"bx bx-envelope me-1"})," ","visionintelligencelab[at]gmail[dot]com"]}),o.jsx("br",{})]})]})]})]}),VH=()=>{const[t,e]=N.useState(!0),n=re(i=>{var a;return(a=i.getprojectitems)==null?void 0:a.data}),r=re(i=>{var a;return(a=i.getdatasets)==null?void 0:a.data}),s=re(i=>{var a;return(a=i.getprojectsmain)==null?void 0:a.data});return N.useEffect(()=>{(async()=>{e(!0),mf(),ra(),Io(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:["Projects | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Projects",o.jsx("hr",{})]}),s==null?void 0:s.map((i,a)=>{var l,c,u,d,h,f,p,g,w,y,m,v,x;return o.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[a+1,". "]}),(l=i==null?void 0:i.title)==null?void 0:l.stringValue]}),o.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[o.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),o.jsx("td",{children:(c=i==null?void 0:i.funding_agency)==null?void 0:c.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(u=i==null?void 0:i.total_fund)==null?void 0:u.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),o.jsx("td",{children:(d=i==null?void 0:i.pis)==null?void 0:d.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),o.jsx("td",{children:(h=i==null?void 0:i.copis)==null?void 0:h.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(f=i==null?void 0:i.jrf_phd_scholar)==null?void 0:f.stringValue})]})]})})}),o.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[o.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),o.jsx("hr",{className:"mx-1 mt-0 mb-2"}),o.jsx("p",{className:"",children:(p=i==null?void 0:i.description)==null?void 0:p.stringValue}),o.jsxs("div",{className:"px-1 mb-3",children:[o.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(y=(w=(g=i==null?void 0:i.related_datasets)==null?void 0:g.arrayValue)==null?void 0:w.values)==null?void 0:y.map((b,I)=>{const _=r==null?void 0:r.find(j=>(j==null?void 0:j._id)==(b==null?void 0:b.stringValue));return o.jsxs("div",{children:[I+1,". ",_==null?void 0:_.title," (",o.jsx(ee,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(_==null?void 0:_._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(_==null?void 0:_._id)+"Modal",tabIndex:-1,"aria-labelledby":(_==null?void 0:_._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(_==null?void 0:_._id)+"ModalLabel",children:_==null?void 0:_.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:_==null?void 0:_.description}),o.jsx("img",{className:"w-100",src:_==null?void 0:_.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I)})}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(x=(v=(m=i==null?void 0:i.related_projectitems)==null?void 0:m.arrayValue)==null?void 0:v.values)==null?void 0:x.map((b,I)=>{const _=n==null?void 0:n.find(j=>(j==null?void 0:j._id)==(b==null?void 0:b.stringValue));return o.jsxs("div",{children:[I+1,". ",_==null?void 0:_.title," (",o.jsx(ee,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(_==null?void 0:_._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(_==null?void 0:_._id)+"Modal",tabIndex:-1,"aria-labelledby":(_==null?void 0:_._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(_==null?void 0:_._id)+"ModalLabel",children:[_==null?void 0:_.title,"("," ",o.jsx(ee,{className:"btn-primary",style:{textDecoration:"none"},to:_==null?void 0:_.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(ee,{to:_==null?void 0:_.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:_==null?void 0:_.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I)})})]})]})]})]},a)})]})]})},FH=()=>{const[t,e]=N.useState(!0),[n,r]=N.useState(""),[s,i]=N.useState(!1),a=re(l=>l.getgallery.data);return N.useEffect(()=>{(async()=>{e(!0),await NC(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:["Gallery | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Image Gallery",o.jsx("hr",{})]}),o.jsx("div",{className:"row1 row",children:UH(a,4).map((l,c)=>o.jsx("div",{className:"column1 column",children:l.map((u,d)=>o.jsx("img",{className:"shadow-lg rounded-3",src:u==null?void 0:u.bannerURL,style:{width:"100%"},onClick:()=>{r(u==null?void 0:u.bannerURL),i(!0)}},d))},c))})]}),s&&o.jsxs("div",{className:"full_screen_image",children:[o.jsx("img",{src:n,alt:"full screen image"}),o.jsx("button",{onClick:()=>{i(!1),r("")},className:"btn btn-danger",children:"Close"})]})]})},UH=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},$H=()=>o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:["Welcome | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsx(J6,{}),o.jsxs(Rv,{children:[o.jsx(Ie,{path:"/",element:o.jsx(AH,{})}),o.jsx(Ie,{path:"/peoples",element:o.jsx(RH,{})}),o.jsx(Ie,{path:"/gallery",element:o.jsx(FH,{})}),o.jsx(Ie,{path:"/datasets",element:o.jsx(DH,{})}),o.jsx(Ie,{path:"/projects",element:o.jsx(VH,{})}),o.jsx(Ie,{path:"/research-areas",element:o.jsx(OH,{})}),o.jsx(Ie,{path:"/research-areas/:id",element:o.jsx(LH,{})}),o.jsx(Ie,{path:"/publications",element:o.jsx(qC,{ref_:!1})}),o.jsx(Ie,{path:"/contact",element:o.jsx(MH,{})})]}),o.jsx(kH,{})]}),BH=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(!1),[c,u]=N.useState(!1),d=async p=>{if(p.preventDefault(),!t||!s){alert("Email and Password fields are required!");return}l(!0),u(!1);try{await z$(gi,t,s),window.location.href="/CVPR_LAB/#/dashboard"}catch(g){console.log(g),u(!0)}l(!1)},h=async()=>{l(!0),gi.languageCode="it",p4(gi,l3).then(p=>{console.log(p)}).catch(p=>{console.log(p==null?void 0:p.message),alert(`Error While Login with Google! ${JSON.stringify(p)}`)}).finally(()=>{l(!1)})},f=()=>{if(l(!0),!n){alert("Email should not be empty!");return}B$(gi,n).then(()=>{alert("Password reset email sent!"),window.close()}).catch(p=>{console.error("Error sending password reset email:",p)}),l(!1)};return o.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[o.jsxs("div",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[o.jsxs("form",{children:[o.jsx("h1",{className:"w-100 text-center",children:"Admin Login"}),c&&o.jsx("div",{className:"alert alert-danger p-2",role:"alert",children:"Error signing in. Please check your credentials and try again."}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:p=>e(p.target.value),disabled:a})]}),o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:p=>i(p.target.value),disabled:a})]}),o.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[o.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forget Password"}),o.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forget Pasword"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:p=>r(p.target.value),placeholder:"ie. user@gmail.com"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-danger",onClick:f,disabled:a,children:a?"Please Wait..":"Send"})]})]})})})]}),o.jsx("button",{onClick:d,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:a,children:a?"Please Wait..":"Submit"})]}),o.jsx("hr",{}),o.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2 border-1 border-secondary",onClick:h,disabled:a,children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]})]}),o.jsx(pn,{children:o.jsxs("title",{children:["Login | ","Vision Intelligence Lab, IIT Ropar"]})})]})},zH=()=>{const{pathname:t}=vc();return N.useEffect(()=>{window.scrollTo(0,0)},[t]),null},HH=()=>{var d,h,f,p,g,w,y,m,v,x,b,I,_,j,E,T,S,A,O,C;const{id:t}=mo(),[e,n]=N.useState(!0),s=re(P=>P.getsupervisors.data).filter(P=>P._id==t)[0],i=re(P=>P.getpublications.data),a=re(P=>{var M;return(M=P.getprojectitems)==null?void 0:M.data}),l=re(P=>{var M;return(M=P.getdatasets)==null?void 0:M.data}),c=re(P=>{var M;return(M=P.getprojectsmain)==null?void 0:M.data}),u=re(P=>P.getphdStudents.data);return N.useEffect(()=>{(async()=>{n(!0),await So(),await Fc(),await Ew(),await mf(),await Io(),await ra(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{children:o.jsxs("title",{children:[(h=(d=s==null?void 0:s.data)==null?void 0:d.name)==null?void 0:h.stringValue," |"," ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[(p=(f=s==null?void 0:s.data)==null?void 0:f.name)==null?void 0:p.stringValue,o.jsx("hr",{})]}),o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[o.jsx("div",{className:"col-sm-2 py-2 pe-2",children:o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:s==null?void 0:s.profileImage,alt:"",className:"rounded-1"})})}),o.jsxs("div",{className:"col-sm-10",children:[o.jsxs("p",{className:"text-muted",children:[o.jsxs("div",{className:"my-3",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",(w=(g=s==null?void 0:s.data)==null?void 0:g.email)==null?void 0:w.stringValue]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Mobile:"})," +91-",(m=(y=s==null?void 0:s.data)==null?void 0:y.phone)==null?void 0:m.stringValue]})]}),o.jsxs("a",{style:{textDecoration:"none"},href:(v=s==null?void 0:s.data)==null?void 0:v.googleScholarLink.stringValue,target:"_blank",children:["Google Scholar ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(b=(x=s==null?void 0:s.data)==null?void 0:x.researchGateLink)==null?void 0:b.stringValue,target:"_blank",children:["Researchgate ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(_=(I=s==null?void 0:s.data)==null?void 0:I.personalProfileLink)==null?void 0:_.stringValue,target:"_blank",children:["Personal Profile ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(E=(j=s==null?void 0:s.data)==null?void 0:j.otherLink)==null?void 0:E.stringValue,target:"_blank",children:["Other ",o.jsx("i",{className:"bx bx-link-external"})]})]}),o.jsx("hr",{}),o.jsx("h5",{children:"Research Interests"}),o.jsx("ul",{className:"",children:(A=(S=(T=s==null?void 0:s.data)==null?void 0:T.researchInterests)==null?void 0:S.stringValue)==null?void 0:A.split(",").map((P,M)=>o.jsx("li",{className:"mx-3",children:P},M))})]})]}),o.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[o.jsx("h3",{className:"fw-bold",children:"Introduction"}),o.jsx("hr",{}),o.jsx("p",{children:(C=(O=s==null?void 0:s.data)==null?void 0:O.introduction)==null?void 0:C.stringValue})]})]}),o.jsx("div",{className:"card p-3 mb-4",children:o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[o.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Publications"}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("ul",{style:{height:"fit-content",overflow:"hidden"},children:i==null?void 0:i.map((P,M)=>{var Q,he;const{paperTitle:B,author:D,impact:R,link:L,pages:F,publisher:W,publicationDate:k,volume:z,journalName:X,paperType:J,isbn:ie,users:ue}=P==null?void 0:P.data;if((he=(Q=ue==null?void 0:ue.arrayValue)==null?void 0:Q.values)!=null&&he.filter(H=>{var we,be;return H.stringValue==((be=(we=s==null?void 0:s.data)==null?void 0:we.name)==null?void 0:be.stringValue)})[0])return o.jsxs("li",{children:[o.jsx("span",{children:o.jsxs("cite",{children:[o.jsxs("span",{className:"author",children:[D==null?void 0:D.stringValue,","]}),o.jsxs("a",{href:`https://doi.org/${L.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[o.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',B.stringValue,'",']}),o.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),o.jsxs("span",{className:"journal",style:{display:"inline"},children:[o.jsx("i",{children:X.stringValue}),","]}),o.jsxs("span",{className:"volume",style:{display:"inline"},children:[z.stringValue,","," "]}),o.jsxs("span",{className:"pages",style:{display:"inline"},children:[F.stringValue,","," "]}),o.jsxs("span",{className:"date",style:{display:"inline"},children:[k.stringValue,"-",J.stringValue,"-",ie.stringValue,"-",W.stringValue,"-",R.stringValue]})]})}),o.jsx("hr",{})]},M)})})})]})}),o.jsx("div",{className:"card p-3 mb-4",children:o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[o.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),o.jsx("hr",{}),o.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:c==null?void 0:c.map((P,M)=>{var B,D,R,L,F,W,k,z,X,J,ie,ue,Ce;return o.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[o.jsx("h1",{className:"accordion-header",id:"heading"+M,children:o.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+M,"aria-expanded":"true","aria-controls":"collapse"+M,children:o.jsxs("h5",{children:[o.jsxs("strong",{className:"text-danger",children:[M+1,". "]}),(B=P==null?void 0:P.title)==null?void 0:B.stringValue]})})}),o.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:o.jsx("div",{id:"collapse"+M,className:"accordion-collapse collapse","aria-labelledby":"heading"+M,"data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body",children:o.jsx("div",{className:"col-sm-12 mb-3 overflow-auto",children:o.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-column flex-lg-column gap-3 pe-2 mt-2",children:[o.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["1."," "]}),"Funding Agency"]})}),o.jsx("td",{children:(D=P==null?void 0:P.funding_agency)==null?void 0:D.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["2."," "]}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(R=P==null?void 0:P.total_fund)==null?void 0:R.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["3."," "]}),"Project Investigators"]})}),o.jsx("td",{children:(L=P==null?void 0:P.pis)==null?void 0:L.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["4."," "]}),"Co-Project Investigators"]})}),o.jsx("td",{children:(F=P==null?void 0:P.copis)==null?void 0:F.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["5."," "]}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(W=P==null?void 0:P.jrf_phd_scholar)==null?void 0:W.stringValue})]})]})})}),o.jsxs("div",{className:"col-sm-12 col-lg-12 col-md-12  card px-2 rounded-0",children:[o.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),o.jsx("hr",{className:"mx-1 mt-0 mb-2"}),o.jsx("p",{className:"w-100 overflow-auto",children:(k=P==null?void 0:P.description)==null?void 0:k.stringValue}),o.jsxs("div",{className:"px-1 mb-3",children:[o.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(J=(X=(z=P==null?void 0:P.related_datasets)==null?void 0:z.arrayValue)==null?void 0:X.values)==null?void 0:J.map((Q,he)=>{const H=l==null?void 0:l.find(we=>(we==null?void 0:we._id)==(Q==null?void 0:Q.stringValue));return o.jsxs("div",{children:[he+1,". ",H==null?void 0:H.title," (",o.jsx(ee,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(H==null?void 0:H._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(H==null?void 0:H._id)+"Modal",tabIndex:-1,"aria-labelledby":(H==null?void 0:H._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(H==null?void 0:H._id)+"ModalLabel",children:H==null?void 0:H.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:H==null?void 0:H.description}),o.jsx("img",{className:"w-100",src:H==null?void 0:H.bannerURL,alt:"Banner Image"})]})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},he)})}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(Ce=(ue=(ie=P==null?void 0:P.related_projectitems)==null?void 0:ie.arrayValue)==null?void 0:ue.values)==null?void 0:Ce.map((Q,he)=>{const H=a==null?void 0:a.find(we=>(we==null?void 0:we._id)==(Q==null?void 0:Q.stringValue));return o.jsxs("div",{children:[he+1,". ",H==null?void 0:H.title," (",o.jsx(ee,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(H==null?void 0:H._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(H==null?void 0:H._id)+"Modal",tabIndex:-1,"aria-labelledby":(H==null?void 0:H._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(H==null?void 0:H._id)+"ModalLabel",children:[H==null?void 0:H.title,"("," ",o.jsx(ee,{className:"btn-primary",style:{textDecoration:"none"},to:H==null?void 0:H.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(ee,{to:H==null?void 0:H.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:H==null?void 0:H.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},he)})})]})]})]})},"item_"+M)})})})]},M)})})]})}),o.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:u==null?void 0:u.map((P,M)=>{var k,z;const{name:B,batch:D,isAlumni:R,email:L,mobile:F,researchInterests:W}=P==null?void 0:P.data;return R!=null&&R.booleanValue?null:o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:P==null?void 0:P.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:B==null?void 0:B.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(L==null?void 0:L.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(D==null?void 0:D.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",F==null?void 0:F.stringValue]}),o.jsx("br",{}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(z=(k=W==null?void 0:W.arrayValue)==null?void 0:k.values)==null?void 0:z.map((X,J)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:X.stringValue},J))]})]})]},M)})}),o.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:u==null?void 0:u.map((P,M)=>{var k,z;const{name:B,batch:D,isAlumni:R,email:L,mobile:F,researchInterests:W}=P==null?void 0:P.data;return R!=null&&R.booleanValue?o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:P==null?void 0:P.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("h3",{children:B==null?void 0:B.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(L==null?void 0:L.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(D==null?void 0:D.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",F==null?void 0:F.stringValue]}),o.jsx("br",{}),o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(z=(k=W==null?void 0:W.arrayValue)==null?void 0:k.values)==null?void 0:z.map((X,J)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:X.stringValue},J))]})]},M):null})})]})]})};function WH(){const[t,e]=N.useState(!1);return N.useEffect(()=>{e(navigator.onLine),navigator.onLine||setTimeout(()=>{window.location.reload()},1e3)},[navigator.onLine]),t?o.jsxs(o.Fragment,{children:[o.jsx(zH,{}),o.jsxs(Rv,{children:[o.jsx(Ie,{path:"/dashboard/*",element:o.jsx(Q6,{})}),o.jsx(Ie,{path:"/profile/:id",element:o.jsx(HH,{})}),o.jsx(Ie,{path:"/*",element:o.jsx($H,{})}),o.jsx(Ie,{path:"/login",element:o.jsx(BH,{})})]})]}):o.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:o.jsx("h1",{children:"You Are Offline. Trying to reconnect..."})})}function Wu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(n){return typeof n}:Wu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wu(t)}function qH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GH(t,e,n){return e&&F_(t.prototype,e),n&&F_(t,n),t}function KH(t,e){return e&&(Wu(e)==="object"||typeof e=="function")?e:qu(t)}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function qu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lg(t,e)}function Lg(t,e){return Lg=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Lg(t,e)}function Gu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GC=function(t){YH(e,t);function e(){var n,r;qH(this,e);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=KH(this,(n=Og(e)).call.apply(n,[this].concat(i))),Gu(qu(r),"state",{bootstrapped:!1}),Gu(qu(r),"_unsubscribe",void 0),Gu(qu(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return GH(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(N.PureComponent);Gu(GC,"defaultProps",{children:null,loading:null});Dp.createRoot(document.getElementById("root")).render(o.jsx(Ee.StrictMode,{children:o.jsx(hz,{store:Zt,children:o.jsx(GC,{loading:null,persistor:HB,children:o.jsx(gR,{children:o.jsx(WH,{})})})})}));
