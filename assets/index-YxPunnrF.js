function NC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function to(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S_={exports:{}},Gd={},I_={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),jC=Symbol.for("react.portal"),CC=Symbol.for("react.fragment"),AC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),RC=Symbol.for("react.context"),DC=Symbol.for("react.forward_ref"),OC=Symbol.for("react.suspense"),LC=Symbol.for("react.memo"),MC=Symbol.for("react.lazy"),mw=Symbol.iterator;function VC(t){return t===null||typeof t!="object"?null:(t=mw&&t[mw]||t["@@iterator"],typeof t=="function"?t:null)}var N_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j_=Object.assign,C_={};function no(t,e,n){this.props=t,this.context=e,this.refs=C_,this.updater=n||N_}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A_(){}A_.prototype=no.prototype;function Ig(t,e,n){this.props=t,this.context=e,this.refs=C_,this.updater=n||N_}var Ng=Ig.prototype=new A_;Ng.constructor=Ig;j_(Ng,no.prototype);Ng.isPureReactComponent=!0;var gw=Array.isArray,P_=Object.prototype.hasOwnProperty,jg={current:null},k_={key:!0,ref:!0,__self:!0,__source:!0};function R_(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)P_.call(e,r)&&!k_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:sc,type:t,key:i,ref:a,props:s,_owner:jg.current}}function FC(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function $C(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vw=/\/+/g;function of(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$C(""+t.key):e.toString(36)}function fu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case sc:case jC:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+of(a,0):r,gw(s)?(n="",t!=null&&(n=t.replace(vw,"$&/")+"/"),fu(s,e,n,"",function(u){return u})):s!=null&&(Cg(s)&&(s=FC(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(vw,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",gw(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+of(i,l);a+=fu(i,e,n,c,s)}else if(c=VC(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+of(i,l++),a+=fu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Dc(t,e,n){if(t==null)return t;var r=[],s=0;return fu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function UC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},pu={transition:null},BC={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:pu,ReactCurrentOwner:jg};me.Children={map:Dc,forEach:function(t,e,n){Dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dc(t,function(){e++}),e},toArray:function(t){return Dc(t,function(e){return e})||[]},only:function(t){if(!Cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=no;me.Fragment=CC;me.Profiler=PC;me.PureComponent=Ig;me.StrictMode=AC;me.Suspense=OC;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BC;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=j_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=jg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)P_.call(e,c)&&!k_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:sc,type:t.type,key:s,ref:i,props:r,_owner:a}};me.createContext=function(t){return t={$$typeof:RC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kC,_context:t},t.Consumer=t};me.createElement=R_;me.createFactory=function(t){var e=R_.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:DC,render:t}};me.isValidElement=Cg;me.lazy=function(t){return{$$typeof:MC,_payload:{_status:-1,_result:t},_init:UC}};me.memo=function(t,e){return{$$typeof:LC,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=pu.transition;pu.transition={};try{t()}finally{pu.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return Kt.current.useCallback(t,e)};me.useContext=function(t){return Kt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Kt.current.useEffect(t,e)};me.useId=function(){return Kt.current.useId()};me.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Kt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};me.useRef=function(t){return Kt.current.useRef(t)};me.useState=function(t){return Kt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Kt.current.useTransition()};me.version="18.2.0";I_.exports=me;var N=I_.exports;const Ee=to(N),_p=NC({__proto__:null,default:Ee},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=N,HC=Symbol.for("react.element"),WC=Symbol.for("react.fragment"),qC=Object.prototype.hasOwnProperty,GC=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KC={key:!0,ref:!0,__self:!0,__source:!0};function D_(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)qC.call(e,r)&&!KC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:HC,type:t,key:i,ref:a,props:s,_owner:GC.current}}Gd.Fragment=WC;Gd.jsx=D_;Gd.jsxs=D_;S_.exports=Gd;var o=S_.exports,Ep={},O_={exports:{}},Sn={},L_={exports:{}},M_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var F=R.length;R.push(L);e:for(;0<F;){var W=F-1>>>1,k=R[W];if(0<s(k,L))R[W]=L,R[F]=k,F=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],F=R.pop();if(F!==L){R[0]=F;e:for(var W=0,k=R.length,z=k>>>1;W<z;){var X=2*(W+1)-1,J=R[X],se=X+1,ue=R[se];if(0>s(J,F))se<k&&0>s(ue,J)?(R[W]=ue,R[se]=F,W=se):(R[W]=J,R[X]=F,W=X);else if(se<k&&0>s(ue,F))R[W]=ue,R[se]=F,W=se;else break e}}return L}function s(R,L){var F=R.sortIndex-L.sortIndex;return F!==0?F:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function b(R){if(x=!1,w(R),!g)if(n(c)!==null)g=!0,B(I);else{var L=n(u);L!==null&&D(b,L.startTime-R)}}function I(R,L){g=!1,x&&(x=!1,m(E),E=-1),p=!0;var F=f;try{for(w(L),h=n(c);h!==null&&(!(h.expirationTime>L)||R&&!P());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var k=W(h.expirationTime<=L);L=t.unstable_now(),typeof k=="function"?h.callback=k:h===n(c)&&r(c),w(L)}else r(c);h=n(c)}if(h!==null)var z=!0;else{var X=n(u);X!==null&&D(b,X.startTime-L),z=!1}return z}finally{h=null,f=F,p=!1}}var _=!1,j=null,E=-1,T=5,S=-1;function P(){return!(t.unstable_now()-S<T)}function O(){if(j!==null){var R=t.unstable_now();S=R;var L=!0;try{L=j(!0,R)}finally{L?C():(_=!1,j=null)}}else _=!1}var C;if(typeof v=="function")C=function(){v(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,M=A.port2;A.port1.onmessage=O,C=function(){M.postMessage(null)}}else C=function(){y(O,0)};function B(R){j=R,_||(_=!0,C())}function D(R,L){E=y(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,B(I))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var F=f;f=L;try{return R()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=f;f=R;try{return L()}finally{f=F}},t.unstable_scheduleCallback=function(R,L,F){var W=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,R){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=F+k,R={id:d++,callback:L,priorityLevel:R,startTime:F,expirationTime:k,sortIndex:-1},F>W?(R.sortIndex=F,e(u,R),n(c)===null&&R===n(u)&&(x?(m(E),E=-1):x=!0,D(b,F-W))):(R.sortIndex=k,e(c,R),g||p||(g=!0,B(I))),R},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(R){var L=f;return function(){var F=f;f=L;try{return R.apply(this,arguments)}finally{f=F}}}})(M_);L_.exports=M_;var YC=L_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=N,bn=YC;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F_=new Set,yl={};function Mi(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(yl[t]=e,t=0;t<e.length;t++)F_.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=Object.prototype.hasOwnProperty,QC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yw={},ww={};function XC(t){return Tp.call(ww,t)?!0:Tp.call(yw,t)?!1:QC.test(t)?ww[t]=!0:(yw[t]=!0,!1)}function JC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZC(t,e,n,r){if(e===null||typeof e>"u"||JC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ag=/[\-:]([a-z])/g;function Pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ag,Pg);Ct[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ag,Pg);Ct[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ag,Pg);Ct[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function kg(t,e,n,r){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZC(e,n,s,r)&&(n=null),r||s===null?XC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=V_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),ra=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Sp=Symbol.for("react.profiler"),$_=Symbol.for("react.provider"),U_=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Np=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),B_=Symbol.for("react.offscreen"),xw=Symbol.iterator;function xo(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,lf;function Fo(t){if(lf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lf=e&&e[1]||""}return`
`+lf+t}var cf=!1;function uf(t,e){if(!t||cf)return"";cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fo(t):""}function eA(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=uf(t.type,!1),t;case 11:return t=uf(t.type.render,!1),t;case 1:return t=uf(t.type,!0),t;default:return""}}function jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case ra:return"Portal";case Sp:return"Profiler";case Rg:return"StrictMode";case Ip:return"Suspense";case Np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U_:return(t.displayName||"Context")+".Consumer";case $_:return(t._context.displayName||"Context")+".Provider";case Dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Og:return e=t.displayName||null,e!==null?e:jp(t.type)||"Memo";case rs:e=t._payload,t=t._init;try{return jp(t(e))}catch{}}return null}function tA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jp(e);case 8:return e===Rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nA(t){var e=z_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lc(t){t._valueTracker||(t._valueTracker=nA(t))}function H_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=z_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cp(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function W_(t,e){e=e.checked,e!=null&&kg(t,"checked",e,!1)}function Ap(t,e){W_(t,e);var n=Rs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pp(t,e.type,Rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _w(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pp(t,e,n){(e!=="number"||Fu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $o=Array.isArray;function ya(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ew(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if($o(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rs(n)}}function q_(t,e){var n=Rs(e.value),r=Rs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mc,K_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rA=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(t){rA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xo[e]=Xo[t]})});function Y_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xo.hasOwnProperty(t)&&Xo[t]?(""+e).trim():e+"px"}function Q_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Y_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sA=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dp(t,e){if(e){if(sA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Op(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lp=null;function Lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mp=null,wa=null,xa=null;function Sw(t){if(t=oc(t)){if(typeof Mp!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Jd(e),Mp(t.stateNode,t.type,e))}}function X_(t){wa?xa?xa.push(t):xa=[t]:wa=t}function J_(){if(wa){var t=wa,e=xa;if(xa=wa=null,Sw(t),e)for(t=0;t<e.length;t++)Sw(e[t])}}function Z_(t,e){return t(e)}function eE(){}var df=!1;function tE(t,e,n){if(df)return t(e,n);df=!0;try{return Z_(t,e,n)}finally{df=!1,(wa!==null||xa!==null)&&(eE(),J_())}}function xl(t,e){var n=t.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Vp=!1;if(zr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Vp=!1}function iA(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Jo=!1,$u=null,Uu=!1,Fp=null,aA={onError:function(t){Jo=!0,$u=t}};function oA(t,e,n,r,s,i,a,l,c){Jo=!1,$u=null,iA.apply(aA,arguments)}function lA(t,e,n,r,s,i,a,l,c){if(oA.apply(this,arguments),Jo){if(Jo){var u=$u;Jo=!1,$u=null}else throw Error(U(198));Uu||(Uu=!0,Fp=u)}}function Vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Iw(t){if(Vi(t)!==t)throw Error(U(188))}function cA(t){var e=t.alternate;if(!e){if(e=Vi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Iw(s),t;if(i===r)return Iw(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function rE(t){return t=cA(t),t!==null?sE(t):null}function sE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sE(t);if(e!==null)return e;t=t.sibling}return null}var iE=bn.unstable_scheduleCallback,Nw=bn.unstable_cancelCallback,uA=bn.unstable_shouldYield,dA=bn.unstable_requestPaint,Ze=bn.unstable_now,hA=bn.unstable_getCurrentPriorityLevel,Mg=bn.unstable_ImmediatePriority,aE=bn.unstable_UserBlockingPriority,Bu=bn.unstable_NormalPriority,fA=bn.unstable_LowPriority,oE=bn.unstable_IdlePriority,Kd=null,gr=null;function pA(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Kd,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:vA,mA=Math.log,gA=Math.LN2;function vA(t){return t>>>=0,t===0?32:31-(mA(t)/gA|0)|0}var Vc=64,Fc=4194304;function Uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Uo(l):(i&=a,i!==0&&(r=Uo(i)))}else a=n&~s,a!==0?r=Uo(a):i!==0&&(r=Uo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),s=1<<n,r|=t[n],e&=~s;return r}function yA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-er(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=yA(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function $p(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lE(){var t=Vc;return Vc<<=1,!(Vc&4194240)&&(Vc=64),t}function hf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function xA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-er(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Vg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Se=0;function cE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uE,Fg,dE,hE,fE,Up=!1,$c=[],ws=null,xs=null,bs=null,bl=new Map,_l=new Map,is=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jw(t,e){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(e.pointerId)}}function _o(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=oc(e),e!==null&&Fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _A(t,e,n,r,s){switch(e){case"focusin":return ws=_o(ws,t,e,n,r,s),!0;case"dragenter":return xs=_o(xs,t,e,n,r,s),!0;case"mouseover":return bs=_o(bs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return bl.set(i,_o(bl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_l.set(i,_o(_l.get(i)||null,t,e,n,r,s)),!0}return!1}function pE(t){var e=ri(t.target);if(e!==null){var n=Vi(e);if(n!==null){if(e=n.tag,e===13){if(e=nE(n),e!==null){t.blockedOn=e,fE(t.priority,function(){dE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lp=r,n.target.dispatchEvent(r),Lp=null}else return e=oc(n),e!==null&&Fg(e),t.blockedOn=n,!1;e.shift()}return!0}function Cw(t,e,n){mu(t)&&n.delete(e)}function EA(){Up=!1,ws!==null&&mu(ws)&&(ws=null),xs!==null&&mu(xs)&&(xs=null),bs!==null&&mu(bs)&&(bs=null),bl.forEach(Cw),_l.forEach(Cw)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,Up||(Up=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,EA)))}function El(t){function e(s){return Eo(s,t)}if(0<$c.length){Eo($c[0],t);for(var n=1;n<$c.length;n++){var r=$c[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ws!==null&&Eo(ws,t),xs!==null&&Eo(xs,t),bs!==null&&Eo(bs,t),bl.forEach(e),_l.forEach(e),n=0;n<is.length;n++)r=is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<is.length&&(n=is[0],n.blockedOn===null);)pE(n),n.blockedOn===null&&is.shift()}var ba=Xr.ReactCurrentBatchConfig,Hu=!0;function TA(t,e,n,r){var s=Se,i=ba.transition;ba.transition=null;try{Se=1,$g(t,e,n,r)}finally{Se=s,ba.transition=i}}function SA(t,e,n,r){var s=Se,i=ba.transition;ba.transition=null;try{Se=4,$g(t,e,n,r)}finally{Se=s,ba.transition=i}}function $g(t,e,n,r){if(Hu){var s=Bp(t,e,n,r);if(s===null)_f(t,e,r,Wu,n),jw(t,r);else if(_A(s,t,e,n,r))r.stopPropagation();else if(jw(t,r),e&4&&-1<bA.indexOf(t)){for(;s!==null;){var i=oc(s);if(i!==null&&uE(i),i=Bp(t,e,n,r),i===null&&_f(t,e,r,Wu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _f(t,e,r,null,n)}}var Wu=null;function Bp(t,e,n,r){if(Wu=null,t=Lg(r),t=ri(t),t!==null)if(e=Vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wu=t,null}function mE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hA()){case Mg:return 1;case aE:return 4;case Bu:case fA:return 16;case oE:return 536870912;default:return 16}default:return 16}}var hs=null,Ug=null,gu=null;function gE(){if(gu)return gu;var t,e=Ug,n=e.length,r,s="value"in hs?hs.value:hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return gu=s.slice(t,1<r?1-r:void 0)}function vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uc(){return!0}function Aw(){return!1}function In(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Uc:Aw,this.isPropagationStopped=Aw,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bg=In(ro),ac=Ge({},ro,{view:0,detail:0}),IA=In(ac),ff,pf,To,Yd=Ge({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==To&&(To&&t.type==="mousemove"?(ff=t.screenX-To.screenX,pf=t.screenY-To.screenY):pf=ff=0,To=t),ff)},movementY:function(t){return"movementY"in t?t.movementY:pf}}),Pw=In(Yd),NA=Ge({},Yd,{dataTransfer:0}),jA=In(NA),CA=Ge({},ac,{relatedTarget:0}),mf=In(CA),AA=Ge({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),PA=In(AA),kA=Ge({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RA=In(kA),DA=Ge({},ro,{data:0}),kw=In(DA),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MA[t])?!!e[t]:!1}function zg(){return VA}var FA=Ge({},ac,{key:function(t){if(t.key){var e=OA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zg,charCode:function(t){return t.type==="keypress"?vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$A=In(FA),UA=Ge({},Yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rw=In(UA),BA=Ge({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zg}),zA=In(BA),HA=Ge({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),WA=In(HA),qA=Ge({},Yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GA=In(qA),KA=[9,13,27,32],Hg=zr&&"CompositionEvent"in window,Zo=null;zr&&"documentMode"in document&&(Zo=document.documentMode);var YA=zr&&"TextEvent"in window&&!Zo,vE=zr&&(!Hg||Zo&&8<Zo&&11>=Zo),Dw=" ",Ow=!1;function yE(t,e){switch(t){case"keyup":return KA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ia=!1;function QA(t,e){switch(t){case"compositionend":return wE(e);case"keypress":return e.which!==32?null:(Ow=!0,Dw);case"textInput":return t=e.data,t===Dw&&Ow?null:t;default:return null}}function XA(t,e){if(ia)return t==="compositionend"||!Hg&&yE(t,e)?(t=gE(),gu=Ug=hs=null,ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vE&&e.locale!=="ko"?null:e.data;default:return null}}var JA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JA[t.type]:e==="textarea"}function xE(t,e,n,r){X_(r),e=qu(e,"onChange"),0<e.length&&(n=new Bg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var el=null,Tl=null;function ZA(t){PE(t,0)}function Qd(t){var e=la(t);if(H_(e))return t}function eP(t,e){if(t==="change")return e}var bE=!1;if(zr){var gf;if(zr){var vf="oninput"in document;if(!vf){var Mw=document.createElement("div");Mw.setAttribute("oninput","return;"),vf=typeof Mw.oninput=="function"}gf=vf}else gf=!1;bE=gf&&(!document.documentMode||9<document.documentMode)}function Vw(){el&&(el.detachEvent("onpropertychange",_E),Tl=el=null)}function _E(t){if(t.propertyName==="value"&&Qd(Tl)){var e=[];xE(e,Tl,t,Lg(t)),tE(ZA,e)}}function tP(t,e,n){t==="focusin"?(Vw(),el=e,Tl=n,el.attachEvent("onpropertychange",_E)):t==="focusout"&&Vw()}function nP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qd(Tl)}function rP(t,e){if(t==="click")return Qd(e)}function sP(t,e){if(t==="input"||t==="change")return Qd(e)}function iP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:iP;function Sl(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tp.call(e,s)||!nr(t[s],e[s]))return!1}return!0}function Fw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $w(t,e){var n=Fw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fw(n)}}function EE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TE(){for(var t=window,e=Fu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fu(t.document)}return e}function Wg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aP(t){var e=TE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&EE(n.ownerDocument.documentElement,n)){if(r!==null&&Wg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$w(n,i);var a=$w(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oP=zr&&"documentMode"in document&&11>=document.documentMode,aa=null,zp=null,tl=null,Hp=!1;function Uw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hp||aa==null||aa!==Fu(r)||(r=aa,"selectionStart"in r&&Wg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&Sl(tl,r)||(tl=r,r=qu(zp,"onSelect"),0<r.length&&(e=new Bg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function Bc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oa={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},yf={},SE={};zr&&(SE=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function Xd(t){if(yf[t])return yf[t];if(!oa[t])return t;var e=oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SE)return yf[t]=e[n];return t}var IE=Xd("animationend"),NE=Xd("animationiteration"),jE=Xd("animationstart"),CE=Xd("transitionend"),AE=new Map,Bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(t,e){AE.set(t,e),Mi(e,[t])}for(var wf=0;wf<Bw.length;wf++){var xf=Bw[wf],lP=xf.toLowerCase(),cP=xf[0].toUpperCase()+xf.slice(1);Fs(lP,"on"+cP)}Fs(IE,"onAnimationEnd");Fs(NE,"onAnimationIteration");Fs(jE,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(CE,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function zw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lA(r,e,void 0,t),t.currentTarget=null}function PE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;zw(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;zw(s,l,u),i=c}}}if(Uu)throw t=Fp,Uu=!1,Fp=null,t}function Re(t,e){var n=e[Yp];n===void 0&&(n=e[Yp]=new Set);var r=t+"__bubble";n.has(r)||(kE(e,t,2,!1),n.add(r))}function bf(t,e,n){var r=0;e&&(r|=4),kE(n,t,r,e)}var zc="_reactListening"+Math.random().toString(36).slice(2);function Il(t){if(!t[zc]){t[zc]=!0,F_.forEach(function(n){n!=="selectionchange"&&(uP.has(n)||bf(n,!1,t),bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zc]||(e[zc]=!0,bf("selectionchange",!1,e))}}function kE(t,e,n,r){switch(mE(e)){case 1:var s=TA;break;case 4:s=SA;break;default:s=$g}n=s.bind(null,e,n,t),s=void 0,!Vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _f(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ri(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}tE(function(){var u=i,d=Lg(n),h=[];e:{var f=AE.get(t);if(f!==void 0){var p=Bg,g=t;switch(t){case"keypress":if(vu(n)===0)break e;case"keydown":case"keyup":p=$A;break;case"focusin":g="focus",p=mf;break;case"focusout":g="blur",p=mf;break;case"beforeblur":case"afterblur":p=mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zA;break;case IE:case NE:case jE:p=PA;break;case CE:p=WA;break;case"scroll":p=IA;break;case"wheel":p=GA;break;case"copy":case"cut":case"paste":p=RA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rw}var x=(e&4)!==0,y=!x&&t==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var v=u,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,m!==null&&(b=xl(v,m),b!=null&&x.push(Nl(v,b,w)))),y)break;v=v.return}0<x.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Lp&&(g=n.relatedTarget||n.fromElement)&&(ri(g)||g[Hr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ri(g):null,g!==null&&(y=Vi(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(x=Pw,b="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Rw,b="onPointerLeave",m="onPointerEnter",v="pointer"),y=p==null?f:la(p),w=g==null?f:la(g),f=new x(b,v+"leave",p,n,d),f.target=y,f.relatedTarget=w,b=null,ri(d)===u&&(x=new x(m,v+"enter",g,n,d),x.target=w,x.relatedTarget=y,b=x),y=b,p&&g)t:{for(x=p,m=g,v=0,w=x;w;w=Qi(w))v++;for(w=0,b=m;b;b=Qi(b))w++;for(;0<v-w;)x=Qi(x),v--;for(;0<w-v;)m=Qi(m),w--;for(;v--;){if(x===m||m!==null&&x===m.alternate)break t;x=Qi(x),m=Qi(m)}x=null}else x=null;p!==null&&Hw(h,f,p,x,!1),g!==null&&y!==null&&Hw(h,y,g,x,!0)}}e:{if(f=u?la(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=eP;else if(Lw(f))if(bE)I=sP;else{I=nP;var _=tP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=rP);if(I&&(I=I(t,u))){xE(h,I,n,d);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Pp(f,"number",f.value)}switch(_=u?la(u):window,t){case"focusin":(Lw(_)||_.contentEditable==="true")&&(aa=_,zp=u,tl=null);break;case"focusout":tl=zp=aa=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,Uw(h,n,d);break;case"selectionchange":if(oP)break;case"keydown":case"keyup":Uw(h,n,d)}var j;if(Hg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ia?yE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(vE&&n.locale!=="ko"&&(ia||E!=="onCompositionStart"?E==="onCompositionEnd"&&ia&&(j=gE()):(hs=d,Ug="value"in hs?hs.value:hs.textContent,ia=!0)),_=qu(u,E),0<_.length&&(E=new kw(E,t,null,n,d),h.push({event:E,listeners:_}),j?E.data=j:(j=wE(n),j!==null&&(E.data=j)))),(j=YA?QA(t,n):XA(t,n))&&(u=qu(u,"onBeforeInput"),0<u.length&&(d=new kw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}PE(h,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xl(t,n),i!=null&&r.unshift(Nl(t,i,s)),i=xl(t,e),i!=null&&r.push(Nl(t,i,s))),t=t.return}return r}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hw(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=xl(n,i),c!=null&&a.unshift(Nl(n,c,l))):s||(c=xl(n,i),c!=null&&a.push(Nl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var dP=/\r\n?/g,hP=/\u0000|\uFFFD/g;function Ww(t){return(typeof t=="string"?t:""+t).replace(dP,`
`).replace(hP,"")}function Hc(t,e,n){if(e=Ww(e),Ww(t)!==e&&n)throw Error(U(425))}function Gu(){}var Wp=null,qp=null;function Gp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,fP=typeof clearTimeout=="function"?clearTimeout:void 0,qw=typeof Promise=="function"?Promise:void 0,pP=typeof queueMicrotask=="function"?queueMicrotask:typeof qw<"u"?function(t){return qw.resolve(null).then(t).catch(mP)}:Kp;function mP(t){setTimeout(function(){throw t})}function Ef(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);El(e)}function _s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var so=Math.random().toString(36).slice(2),ur="__reactFiber$"+so,jl="__reactProps$"+so,Hr="__reactContainer$"+so,Yp="__reactEvents$"+so,gP="__reactListeners$"+so,vP="__reactHandles$"+so;function ri(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gw(t);t!==null;){if(n=t[ur])return n;t=Gw(t)}return e}t=n,n=t.parentNode}return null}function oc(t){return t=t[ur]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function la(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Jd(t){return t[jl]||null}var Qp=[],ca=-1;function $s(t){return{current:t}}function Le(t){0>ca||(t.current=Qp[ca],Qp[ca]=null,ca--)}function Pe(t,e){ca++,Qp[ca]=t.current,t.current=e}var Ds={},Ft=$s(Ds),sn=$s(!1),wi=Ds;function La(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function an(t){return t=t.childContextTypes,t!=null}function Ku(){Le(sn),Le(Ft)}function Kw(t,e,n){if(Ft.current!==Ds)throw Error(U(168));Pe(Ft,e),Pe(sn,n)}function RE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,tA(t)||"Unknown",s));return Ge({},n,r)}function Yu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,wi=Ft.current,Pe(Ft,t),Pe(sn,sn.current),!0}function Yw(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=RE(t,e,wi),r.__reactInternalMemoizedMergedChildContext=t,Le(sn),Le(Ft),Pe(Ft,t)):Le(sn),Pe(sn,n)}var Dr=null,Zd=!1,Tf=!1;function DE(t){Dr===null?Dr=[t]:Dr.push(t)}function yP(t){Zd=!0,DE(t)}function Us(){if(!Tf&&Dr!==null){Tf=!0;var t=0,e=Se;try{var n=Dr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,Zd=!1}catch(s){throw Dr!==null&&(Dr=Dr.slice(t+1)),iE(Mg,Us),s}finally{Se=e,Tf=!1}}return null}var ua=[],da=0,Qu=null,Xu=0,Dn=[],On=0,xi=null,Lr=1,Mr="";function Xs(t,e){ua[da++]=Xu,ua[da++]=Qu,Qu=t,Xu=e}function OE(t,e,n){Dn[On++]=Lr,Dn[On++]=Mr,Dn[On++]=xi,xi=t;var r=Lr;t=Mr;var s=32-er(r)-1;r&=~(1<<s),n+=1;var i=32-er(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Lr=1<<32-er(e)+s|n<<s|r,Mr=i+t}else Lr=1<<i|n<<s|r,Mr=t}function qg(t){t.return!==null&&(Xs(t,1),OE(t,1,0))}function Gg(t){for(;t===Qu;)Qu=ua[--da],ua[da]=null,Xu=ua[--da],ua[da]=null;for(;t===xi;)xi=Dn[--On],Dn[On]=null,Mr=Dn[--On],Dn[On]=null,Lr=Dn[--On],Dn[On]=null}var wn=null,mn=null,ze=!1,Xn=null;function LE(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,mn=_s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xi!==null?{id:Lr,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,mn=null,!0):!1;default:return!1}}function Xp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jp(t){if(ze){var e=mn;if(e){var n=e;if(!Qw(t,e)){if(Xp(t))throw Error(U(418));e=_s(n.nextSibling);var r=wn;e&&Qw(t,e)?LE(r,n):(t.flags=t.flags&-4097|2,ze=!1,wn=t)}}else{if(Xp(t))throw Error(U(418));t.flags=t.flags&-4097|2,ze=!1,wn=t}}}function Xw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Wc(t){if(t!==wn)return!1;if(!ze)return Xw(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gp(t.type,t.memoizedProps)),e&&(e=mn)){if(Xp(t))throw ME(),Error(U(418));for(;e;)LE(t,e),e=_s(e.nextSibling)}if(Xw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=_s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=wn?_s(t.stateNode.nextSibling):null;return!0}function ME(){for(var t=mn;t;)t=_s(t.nextSibling)}function Ma(){mn=wn=null,ze=!1}function Kg(t){Xn===null?Xn=[t]:Xn.push(t)}var wP=Xr.ReactCurrentBatchConfig;function Yn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ju=$s(null),Zu=null,ha=null,Yg=null;function Qg(){Yg=ha=Zu=null}function Xg(t){var e=Ju.current;Le(Ju),t._currentValue=e}function Zp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){Zu=t,Yg=ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(Yg!==t)if(t={context:t,memoizedValue:e,next:null},ha===null){if(Zu===null)throw Error(U(308));ha=t,Zu.dependencies={lanes:0,firstContext:t}}else ha=ha.next=t;return e}var si=null;function Jg(t){si===null?si=[t]:si.push(t)}function VE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Jg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wr(t,r)}function Wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function Zg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Es(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wr(t,n)}return s=r.interleaved,s===null?(e.next=e,Jg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wr(t,n)}function yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}function Jw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ed(t,e,n,r){var s=t.updateQueue;ss=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(f=e,p=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Ge({},h,f);break e;case 2:ss=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_i|=a,t.lanes=a,t.memoizedState=h}}function Zw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var $E=new V_.Component().refs;function em(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eh={isMounted:function(t){return(t=t._reactInternals)?Vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Ss(t),i=Ur(r,s);i.payload=e,n!=null&&(i.callback=n),e=Es(t,i,s),e!==null&&(tr(e,t,s,r),yu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Ss(t),i=Ur(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Es(t,i,s),e!==null&&(tr(e,t,s,r),yu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=Ss(t),s=Ur(n,r);s.tag=2,e!=null&&(s.callback=e),e=Es(t,s,r),e!==null&&(tr(e,t,r,n),yu(e,t,r))}};function ex(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Sl(n,r)||!Sl(s,i):!0}function UE(t,e,n){var r=!1,s=Ds,i=e.contextType;return typeof i=="object"&&i!==null?i=$n(i):(s=an(e)?wi:Ft.current,r=e.contextTypes,i=(r=r!=null)?La(t,s):Ds),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function tx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eh.enqueueReplaceState(e,e.state,null)}function tm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=$E,Zg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$n(i):(i=an(e)?wi:Ft.current,s.context=La(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(em(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eh.enqueueReplaceState(s,s.state,null),ed(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;l===$E&&(l=s.refs={}),a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function qc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nx(t){var e=t._init;return e(t._payload)}function BE(t){function e(m,v){if(t){var w=m.deletions;w===null?(m.deletions=[v],m.flags|=16):w.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=Is(m,v),m.index=0,m.sibling=null,m}function i(m,v,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<v?(m.flags|=2,v):w):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,v,w,b){return v===null||v.tag!==6?(v=Pf(w,m.mode,b),v.return=m,v):(v=s(v,w),v.return=m,v)}function c(m,v,w,b){var I=w.type;return I===sa?d(m,v,w.props.children,b,w.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===rs&&nx(I)===v.type)?(b=s(v,w.props),b.ref=So(m,v,w),b.return=m,b):(b=Tu(w.type,w.key,w.props,null,m.mode,b),b.ref=So(m,v,w),b.return=m,b)}function u(m,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=kf(w,m.mode,b),v.return=m,v):(v=s(v,w.children||[]),v.return=m,v)}function d(m,v,w,b,I){return v===null||v.tag!==7?(v=pi(w,m.mode,b,I),v.return=m,v):(v=s(v,w),v.return=m,v)}function h(m,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Pf(""+v,m.mode,w),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Oc:return w=Tu(v.type,v.key,v.props,null,m.mode,w),w.ref=So(m,null,v),w.return=m,w;case ra:return v=kf(v,m.mode,w),v.return=m,v;case rs:var b=v._init;return h(m,b(v._payload),w)}if($o(v)||xo(v))return v=pi(v,m.mode,w,null),v.return=m,v;qc(m,v)}return null}function f(m,v,w,b){var I=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:l(m,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Oc:return w.key===I?c(m,v,w,b):null;case ra:return w.key===I?u(m,v,w,b):null;case rs:return I=w._init,f(m,v,I(w._payload),b)}if($o(w)||xo(w))return I!==null?null:d(m,v,w,b,null);qc(m,w)}return null}function p(m,v,w,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(w)||null,l(v,m,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oc:return m=m.get(b.key===null?w:b.key)||null,c(v,m,b,I);case ra:return m=m.get(b.key===null?w:b.key)||null,u(v,m,b,I);case rs:var _=b._init;return p(m,v,w,_(b._payload),I)}if($o(b)||xo(b))return m=m.get(w)||null,d(v,m,b,I,null);qc(v,b)}return null}function g(m,v,w,b){for(var I=null,_=null,j=v,E=v=0,T=null;j!==null&&E<w.length;E++){j.index>E?(T=j,j=null):T=j.sibling;var S=f(m,j,w[E],b);if(S===null){j===null&&(j=T);break}t&&j&&S.alternate===null&&e(m,j),v=i(S,v,E),_===null?I=S:_.sibling=S,_=S,j=T}if(E===w.length)return n(m,j),ze&&Xs(m,E),I;if(j===null){for(;E<w.length;E++)j=h(m,w[E],b),j!==null&&(v=i(j,v,E),_===null?I=j:_.sibling=j,_=j);return ze&&Xs(m,E),I}for(j=r(m,j);E<w.length;E++)T=p(j,m,E,w[E],b),T!==null&&(t&&T.alternate!==null&&j.delete(T.key===null?E:T.key),v=i(T,v,E),_===null?I=T:_.sibling=T,_=T);return t&&j.forEach(function(P){return e(m,P)}),ze&&Xs(m,E),I}function x(m,v,w,b){var I=xo(w);if(typeof I!="function")throw Error(U(150));if(w=I.call(w),w==null)throw Error(U(151));for(var _=I=null,j=v,E=v=0,T=null,S=w.next();j!==null&&!S.done;E++,S=w.next()){j.index>E?(T=j,j=null):T=j.sibling;var P=f(m,j,S.value,b);if(P===null){j===null&&(j=T);break}t&&j&&P.alternate===null&&e(m,j),v=i(P,v,E),_===null?I=P:_.sibling=P,_=P,j=T}if(S.done)return n(m,j),ze&&Xs(m,E),I;if(j===null){for(;!S.done;E++,S=w.next())S=h(m,S.value,b),S!==null&&(v=i(S,v,E),_===null?I=S:_.sibling=S,_=S);return ze&&Xs(m,E),I}for(j=r(m,j);!S.done;E++,S=w.next())S=p(j,m,E,S.value,b),S!==null&&(t&&S.alternate!==null&&j.delete(S.key===null?E:S.key),v=i(S,v,E),_===null?I=S:_.sibling=S,_=S);return t&&j.forEach(function(O){return e(m,O)}),ze&&Xs(m,E),I}function y(m,v,w,b){if(typeof w=="object"&&w!==null&&w.type===sa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Oc:e:{for(var I=w.key,_=v;_!==null;){if(_.key===I){if(I=w.type,I===sa){if(_.tag===7){n(m,_.sibling),v=s(_,w.props.children),v.return=m,m=v;break e}}else if(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===rs&&nx(I)===_.type){n(m,_.sibling),v=s(_,w.props),v.ref=So(m,_,w),v.return=m,m=v;break e}n(m,_);break}else e(m,_);_=_.sibling}w.type===sa?(v=pi(w.props.children,m.mode,b,w.key),v.return=m,m=v):(b=Tu(w.type,w.key,w.props,null,m.mode,b),b.ref=So(m,v,w),b.return=m,m=b)}return a(m);case ra:e:{for(_=w.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(m,v.sibling),v=s(v,w.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=kf(w,m.mode,b),v.return=m,m=v}return a(m);case rs:return _=w._init,y(m,v,_(w._payload),b)}if($o(w))return g(m,v,w,b);if(xo(w))return x(m,v,w,b);qc(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,w),v.return=m,m=v):(n(m,v),v=Pf(w,m.mode,b),v.return=m,m=v),a(m)):n(m,v)}return y}var Va=BE(!0),zE=BE(!1),lc={},vr=$s(lc),Cl=$s(lc),Al=$s(lc);function ii(t){if(t===lc)throw Error(U(174));return t}function ev(t,e){switch(Pe(Al,e),Pe(Cl,t),Pe(vr,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rp(e,t)}Le(vr),Pe(vr,e)}function Fa(){Le(vr),Le(Cl),Le(Al)}function HE(t){ii(Al.current);var e=ii(vr.current),n=Rp(e,t.type);e!==n&&(Pe(Cl,t),Pe(vr,n))}function tv(t){Cl.current===t&&(Le(vr),Le(Cl))}var We=$s(0);function td(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sf=[];function nv(){for(var t=0;t<Sf.length;t++)Sf[t]._workInProgressVersionPrimary=null;Sf.length=0}var wu=Xr.ReactCurrentDispatcher,If=Xr.ReactCurrentBatchConfig,bi=0,qe=null,lt=null,vt=null,nd=!1,nl=!1,Pl=0,xP=0;function At(){throw Error(U(321))}function rv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function sv(t,e,n,r,s,i){if(bi=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wu.current=t===null||t.memoizedState===null?TP:SP,t=n(r,s),nl){i=0;do{if(nl=!1,Pl=0,25<=i)throw Error(U(301));i+=1,vt=lt=null,e.updateQueue=null,wu.current=IP,t=n(r,s)}while(nl)}if(wu.current=rd,e=lt!==null&&lt.next!==null,bi=0,vt=lt=qe=null,nd=!1,e)throw Error(U(300));return t}function iv(){var t=Pl!==0;return Pl=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?qe.memoizedState=vt=t:vt=vt.next=t,vt}function Un(){if(lt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=vt===null?qe.memoizedState:vt.next;if(e!==null)vt=e,lt=t;else{if(t===null)throw Error(U(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},vt===null?qe.memoizedState=vt=t:vt=vt.next=t}return vt}function kl(t,e){return typeof e=="function"?e(t):e}function Nf(t){var e=Un(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=lt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((bi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,qe.lanes|=d,_i|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,nr(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qe.lanes|=i,_i|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jf(t){var e=Un(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);nr(i,e.memoizedState)||(rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function WE(){}function qE(t,e){var n=qe,r=Un(),s=e(),i=!nr(r.memoizedState,s);if(i&&(r.memoizedState=s,rn=!0),r=r.queue,av(YE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Rl(9,KE.bind(null,n,r,s,e),void 0,null),yt===null)throw Error(U(349));bi&30||GE(n,e,s)}return s}function GE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KE(t,e,n,r){e.value=n,e.getSnapshot=r,QE(e)&&XE(t)}function YE(t,e,n){return n(function(){QE(e)&&XE(t)})}function QE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function XE(t){var e=Wr(t,1);e!==null&&tr(e,t,1,-1)}function rx(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:t},e.queue=t,t=t.dispatch=EP.bind(null,qe,t),[e.memoizedState,t]}function Rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JE(){return Un().memoizedState}function xu(t,e,n,r){var s=cr();qe.flags|=t,s.memoizedState=Rl(1|e,n,void 0,r===void 0?null:r)}function th(t,e,n,r){var s=Un();r=r===void 0?null:r;var i=void 0;if(lt!==null){var a=lt.memoizedState;if(i=a.destroy,r!==null&&rv(r,a.deps)){s.memoizedState=Rl(e,n,i,r);return}}qe.flags|=t,s.memoizedState=Rl(1|e,n,i,r)}function sx(t,e){return xu(8390656,8,t,e)}function av(t,e){return th(2048,8,t,e)}function ZE(t,e){return th(4,2,t,e)}function eT(t,e){return th(4,4,t,e)}function tT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nT(t,e,n){return n=n!=null?n.concat([t]):null,th(4,4,tT.bind(null,e,t),n)}function ov(){}function rT(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sT(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iT(t,e,n){return bi&21?(nr(n,e)||(n=lE(),qe.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function bP(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=If.transition;If.transition={};try{t(!1),e()}finally{Se=n,If.transition=r}}function aT(){return Un().memoizedState}function _P(t,e,n){var r=Ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oT(t))lT(e,n);else if(n=VE(t,e,n,r),n!==null){var s=qt();tr(n,t,r,s),cT(n,e,r)}}function EP(t,e,n){var r=Ss(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oT(t))lT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,nr(l,a)){var c=e.interleaved;c===null?(s.next=s,Jg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=VE(t,e,s,r),n!==null&&(s=qt(),tr(n,t,r,s),cT(n,e,r))}}function oT(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function lT(t,e){nl=nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}var rd={readContext:$n,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},TP={readContext:$n,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:sx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xu(4194308,4,tT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return xu(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_P.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:rx,useDebugValue:ov,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=rx(!1),e=t[0];return t=bP.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,s=cr();if(ze){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),yt===null)throw Error(U(349));bi&30||GE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sx(YE.bind(null,r,i,t),[t]),r.flags|=2048,Rl(9,KE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cr(),e=yt.identifierPrefix;if(ze){var n=Mr,r=Lr;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SP={readContext:$n,useCallback:rT,useContext:$n,useEffect:av,useImperativeHandle:nT,useInsertionEffect:ZE,useLayoutEffect:eT,useMemo:sT,useReducer:Nf,useRef:JE,useState:function(){return Nf(kl)},useDebugValue:ov,useDeferredValue:function(t){var e=Un();return iT(e,lt.memoizedState,t)},useTransition:function(){var t=Nf(kl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:qE,useId:aT,unstable_isNewReconciler:!1},IP={readContext:$n,useCallback:rT,useContext:$n,useEffect:av,useImperativeHandle:nT,useInsertionEffect:ZE,useLayoutEffect:eT,useMemo:sT,useReducer:jf,useRef:JE,useState:function(){return jf(kl)},useDebugValue:ov,useDeferredValue:function(t){var e=Un();return lt===null?e.memoizedState=t:iT(e,lt.memoizedState,t)},useTransition:function(){var t=jf(kl)[0],e=Un().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:qE,useId:aT,unstable_isNewReconciler:!1};function $a(t,e){try{var n="",r=e;do n+=eA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NP=typeof WeakMap=="function"?WeakMap:Map;function uT(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){id||(id=!0,hm=r),nm(t,e)},n}function dT(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){nm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nm(t,e),typeof r!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ix(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=UP.bind(null,t,e,n),e.then(t,t))}function ax(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ox(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,Es(n,e,1))),n.lanes|=1),t)}var jP=Xr.ReactCurrentOwner,rn=!1;function Ht(t,e,n,r){e.child=t===null?zE(e,null,n,r):Va(e,t.child,n,r)}function lx(t,e,n,r,s){n=n.render;var i=e.ref;return _a(e,s),r=sv(t,e,n,r,i,s),n=iv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qr(t,e,s)):(ze&&n&&qg(e),e.flags|=1,Ht(t,e,r,s),e.child)}function cx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!mv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,hT(t,e,i,r,s)):(t=Tu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sl,n(a,r)&&t.ref===e.ref)return qr(t,e,s)}return e.flags|=1,t=Is(i,r),t.ref=e.ref,t.return=e,e.child=t}function hT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Sl(i,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,qr(t,e,s)}return rm(t,e,n,r,s)}function fT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(pa,fn),fn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(pa,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pe(pa,fn),fn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pe(pa,fn),fn|=r;return Ht(t,e,s,n),e.child}function pT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rm(t,e,n,r,s){var i=an(n)?wi:Ft.current;return i=La(e,i),_a(e,s),n=sv(t,e,n,r,i,s),r=iv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qr(t,e,s)):(ze&&r&&qg(e),e.flags|=1,Ht(t,e,n,s),e.child)}function ux(t,e,n,r,s){if(an(n)){var i=!0;Yu(e)}else i=!1;if(_a(e,s),e.stateNode===null)bu(t,e),UE(e,n,r),tm(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=$n(u):(u=an(n)?wi:Ft.current,u=La(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&tx(e,a,r,u),ss=!1;var f=e.memoizedState;a.state=f,ed(e,r,a,s),c=e.memoizedState,l!==r||f!==c||sn.current||ss?(typeof d=="function"&&(em(e,n,d,r),c=e.memoizedState),(l=ss||ex(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,FE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Yn(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=$n(c):(c=an(n)?wi:Ft.current,c=La(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&tx(e,a,r,c),ss=!1,f=e.memoizedState,a.state=f,ed(e,r,a,s);var g=e.memoizedState;l!==h||f!==g||sn.current||ss?(typeof p=="function"&&(em(e,n,p,r),g=e.memoizedState),(u=ss||ex(e,n,u,r,f,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return sm(t,e,n,r,i,s)}function sm(t,e,n,r,s,i){pT(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Yw(e,n,!1),qr(t,e,i);r=e.stateNode,jP.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Va(e,t.child,null,i),e.child=Va(e,null,l,i)):Ht(t,e,l,i),e.memoizedState=r.state,s&&Yw(e,n,!0),e.child}function mT(t){var e=t.stateNode;e.pendingContext?Kw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kw(t,e.context,!1),ev(t,e.containerInfo)}function dx(t,e,n,r,s){return Ma(),Kg(s),e.flags|=256,Ht(t,e,n,r),e.child}var im={dehydrated:null,treeContext:null,retryLane:0};function am(t){return{baseLanes:t,cachePool:null,transitions:null}}function gT(t,e,n){var r=e.pendingProps,s=We.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pe(We,s&1),t===null)return Jp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=sh(a,r,0,null),t=pi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=am(n),e.memoizedState=im,t):lv(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return CP(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Is(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Is(l,i):(i=pi(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?am(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=im,r}return i=t.child,t=i.sibling,r=Is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lv(t,e){return e=sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gc(t,e,n,r){return r!==null&&Kg(r),Va(e,t.child,null,n),t=lv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CP(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Cf(Error(U(422))),Gc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=sh({mode:"visible",children:r.children},s,0,null),i=pi(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Va(e,t.child,null,a),e.child.memoizedState=am(a),e.memoizedState=im,i);if(!(e.mode&1))return Gc(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=Cf(i,r,void 0),Gc(t,e,a,r)}if(l=(a&t.childLanes)!==0,rn||l){if(r=yt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wr(t,s),tr(r,t,s,-1))}return pv(),r=Cf(Error(U(421))),Gc(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mn=_s(s.nextSibling),wn=e,ze=!0,Xn=null,t!==null&&(Dn[On++]=Lr,Dn[On++]=Mr,Dn[On++]=xi,Lr=t.id,Mr=t.overflow,xi=e),e=lv(e,r.children),e.flags|=4096,e)}function hx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zp(t.return,e,n)}function Af(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ht(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hx(t,n,e);else if(t.tag===19)hx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&td(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Af(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&td(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Af(e,!0,n,null,i);break;case"together":Af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AP(t,e,n){switch(e.tag){case 3:mT(e),Ma();break;case 5:HE(e);break;case 1:an(e.type)&&Yu(e);break;case 4:ev(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pe(Ju,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?gT(t,e,n):(Pe(We,We.current&1),t=qr(t,e,n),t!==null?t.sibling:null);Pe(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,fT(t,e,n)}return qr(t,e,n)}var yT,om,wT,xT;yT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};om=function(){};wT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ii(vr.current);var i=null;switch(n){case"input":s=Cp(t,s),r=Cp(t,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=kp(t,s),r=kp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gu)}Dp(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};xT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Io(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PP(t,e,n){var r=e.pendingProps;switch(Gg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return an(e.type)&&Ku(),Pt(e),null;case 3:return r=e.stateNode,Fa(),Le(sn),Le(Ft),nv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(mm(Xn),Xn=null))),om(t,e),Pt(e),null;case 5:tv(e);var s=ii(Al.current);if(n=e.type,t!==null&&e.stateNode!=null)wT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Pt(e),null}if(t=ii(vr.current),Wc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ur]=e,r[jl]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<Bo.length;s++)Re(Bo[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":bw(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Ew(r,i),Re("invalid",r)}Dp(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Hc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Hc(r.textContent,l,t),s=["children",""+l]):yl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Re("scroll",r)}switch(n){case"input":Lc(r),_w(r,i,!0);break;case"textarea":Lc(r),Tw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ur]=e,t[jl]=r,yT(t,e,!1,!1),e.stateNode=t;e:{switch(a=Op(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bo.length;s++)Re(Bo[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":bw(t,r),s=Cp(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Ew(t,r),s=kp(t,r),Re("invalid",t);break;default:s=r}Dp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Q_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&K_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wl(t,c):typeof c=="number"&&wl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",t):c!=null&&kg(t,i,c,a))}switch(n){case"input":Lc(t),_w(t,r,!1);break;case"textarea":Lc(t),Tw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ya(t,!!r.multiple,i,!1):r.defaultValue!=null&&ya(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)xT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ii(Al.current),ii(vr.current),Wc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(i=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Hc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return Pt(e),null;case 13:if(Le(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&mn!==null&&e.mode&1&&!(e.flags&128))ME(),Ma(),e.flags|=98560,i=!1;else if(i=Wc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[ur]=e}else Ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Xn!==null&&(mm(Xn),Xn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ct===0&&(ct=3):pv())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Fa(),om(t,e),t===null&&Il(e.stateNode.containerInfo),Pt(e),null;case 10:return Xg(e.type._context),Pt(e),null;case 17:return an(e.type)&&Ku(),Pt(e),null;case 19:if(Le(We),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Io(i,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=td(t),a!==null){for(e.flags|=128,Io(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ze()>Ua&&(e.flags|=128,r=!0,Io(i,!1),e.lanes=4194304)}else{if(!r)if(t=td(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Io(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ze)return Pt(e),null}else 2*Ze()-i.renderingStartTime>Ua&&n!==1073741824&&(e.flags|=128,r=!0,Io(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ze(),e.sibling=null,n=We.current,Pe(We,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return fv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function kP(t,e){switch(Gg(e),e.tag){case 1:return an(e.type)&&Ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fa(),Le(sn),Le(Ft),nv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tv(e),null;case 13:if(Le(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(We),null;case 4:return Fa(),null;case 10:return Xg(e.type._context),null;case 22:case 23:return fv(),null;case 24:return null;default:return null}}var Kc=!1,Ot=!1,RP=typeof WeakSet=="function"?WeakSet:Set,Z=null;function fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function lm(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var fx=!1;function DP(t,e){if(Wp=Hu,t=TE(),Wg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:t,selectionRange:n},Hu=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,y=g.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:Yn(e.type,x),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){Ye(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return g=fx,fx=!1,g}function rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&lm(e,n,i)}s=s.next}while(s!==r)}}function nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bT(t){var e=t.alternate;e!==null&&(t.alternate=null,bT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[jl],delete e[Yp],delete e[gP],delete e[vP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _T(t){return t.tag===5||t.tag===3||t.tag===4}function px(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_T(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gu));else if(r!==4&&(t=t.child,t!==null))for(um(t,e,n),t=t.sibling;t!==null;)um(t,e,n),t=t.sibling}function dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dm(t,e,n),t=t.sibling;t!==null;)dm(t,e,n),t=t.sibling}var _t=null,Qn=!1;function es(t,e,n){for(n=n.child;n!==null;)ET(t,e,n),n=n.sibling}function ET(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:Ot||fa(n,e);case 6:var r=_t,s=Qn;_t=null,es(t,e,n),_t=r,Qn=s,_t!==null&&(Qn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Qn?(t=_t,n=n.stateNode,t.nodeType===8?Ef(t.parentNode,n):t.nodeType===1&&Ef(t,n),El(t)):Ef(_t,n.stateNode));break;case 4:r=_t,s=Qn,_t=n.stateNode.containerInfo,Qn=!0,es(t,e,n),_t=r,Qn=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&lm(n,e,a),s=s.next}while(s!==r)}es(t,e,n);break;case 1:if(!Ot&&(fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ye(n,e,l)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,es(t,e,n),Ot=r):es(t,e,n);break;default:es(t,e,n)}}function mx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RP),e.forEach(function(r){var s=zP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,Qn=!1;break e;case 3:_t=l.stateNode.containerInfo,Qn=!0;break e;case 4:_t=l.stateNode.containerInfo,Qn=!0;break e}l=l.return}if(_t===null)throw Error(U(160));ET(i,a,s),_t=null,Qn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ye(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TT(e,t),e=e.sibling}function TT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),lr(t),r&4){try{rl(3,t,t.return),nh(3,t)}catch(x){Ye(t,t.return,x)}try{rl(5,t,t.return)}catch(x){Ye(t,t.return,x)}}break;case 1:Gn(e,t),lr(t),r&512&&n!==null&&fa(n,n.return);break;case 5:if(Gn(e,t),lr(t),r&512&&n!==null&&fa(n,n.return),t.flags&32){var s=t.stateNode;try{wl(s,"")}catch(x){Ye(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&W_(s,i),Op(l,a);var u=Op(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Q_(s,h):d==="dangerouslySetInnerHTML"?K_(s,h):d==="children"?wl(s,h):kg(s,d,h,u)}switch(l){case"input":Ap(s,i);break;case"textarea":q_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ya(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ya(s,!!i.multiple,i.defaultValue,!0):ya(s,!!i.multiple,i.multiple?[]:"",!1))}s[jl]=i}catch(x){Ye(t,t.return,x)}}break;case 6:if(Gn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Ye(t,t.return,x)}}break;case 3:if(Gn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(x){Ye(t,t.return,x)}break;case 4:Gn(e,t),lr(t);break;case 13:Gn(e,t),lr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dv=Ze())),r&4&&mx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||d,Gn(e,t),Ot=u):Gn(e,t),lr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:fa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Ye(r,n,x)}}break;case 5:fa(f,f.return);break;case 22:if(f.memoizedState!==null){vx(h);continue}}p!==null?(p.return=f,Z=p):vx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y_("display",a))}catch(x){Ye(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ye(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(e,t),lr(t),r&4&&mx(t);break;case 21:break;default:Gn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_T(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wl(s,""),r.flags&=-33);var i=px(t);dm(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=px(t);um(t,l,a);break;default:throw Error(U(161))}}catch(c){Ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OP(t,e,n){Z=t,ST(t)}function ST(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Kc;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ot;l=Kc;var u=Ot;if(Kc=a,(Ot=c)&&!u)for(Z=s;Z!==null;)a=Z,c=a.child,a.tag===22&&a.memoizedState!==null?yx(s):c!==null?(c.return=a,Z=c):yx(s);for(;i!==null;)Z=i,ST(i),i=i.sibling;Z=s,Kc=l,Ot=u}gx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):gx(t)}}function gx(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||nh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zw(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zw(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&El(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ot||e.flags&512&&cm(e)}catch(f){Ye(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function vx(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function yx(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nh(4,e)}catch(c){Ye(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ye(e,s,c)}}var i=e.return;try{cm(e)}catch(c){Ye(e,i,c)}break;case 5:var a=e.return;try{cm(e)}catch(c){Ye(e,a,c)}}}catch(c){Ye(e,e.return,c)}if(e===t){Z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Z=l;break}Z=e.return}}var LP=Math.ceil,sd=Xr.ReactCurrentDispatcher,cv=Xr.ReactCurrentOwner,Vn=Xr.ReactCurrentBatchConfig,xe=0,yt=null,nt=null,It=0,fn=0,pa=$s(0),ct=0,Dl=null,_i=0,rh=0,uv=0,sl=null,tn=null,dv=0,Ua=1/0,Rr=null,id=!1,hm=null,Ts=null,Yc=!1,fs=null,ad=0,il=0,fm=null,_u=-1,Eu=0;function qt(){return xe&6?Ze():_u!==-1?_u:_u=Ze()}function Ss(t){return t.mode&1?xe&2&&It!==0?It&-It:wP.transition!==null?(Eu===0&&(Eu=lE()),Eu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:mE(t.type)),t):1}function tr(t,e,n,r){if(50<il)throw il=0,fm=null,Error(U(185));ic(t,n,r),(!(xe&2)||t!==yt)&&(t===yt&&(!(xe&2)&&(rh|=n),ct===4&&as(t,It)),on(t,r),n===1&&xe===0&&!(e.mode&1)&&(Ua=Ze()+500,Zd&&Us()))}function on(t,e){var n=t.callbackNode;wA(t,e);var r=zu(t,t===yt?It:0);if(r===0)n!==null&&Nw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nw(n),e===1)t.tag===0?yP(wx.bind(null,t)):DE(wx.bind(null,t)),pP(function(){!(xe&6)&&Us()}),n=null;else{switch(cE(r)){case 1:n=Mg;break;case 4:n=aE;break;case 16:n=Bu;break;case 536870912:n=oE;break;default:n=Bu}n=RT(n,IT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IT(t,e){if(_u=-1,Eu=0,xe&6)throw Error(U(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=zu(t,t===yt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=od(t,r);else{e=r;var s=xe;xe|=2;var i=jT();(yt!==t||It!==e)&&(Rr=null,Ua=Ze()+500,fi(t,e));do try{FP();break}catch(l){NT(t,l)}while(!0);Qg(),sd.current=i,xe=s,nt!==null?e=0:(yt=null,It=0,e=ct)}if(e!==0){if(e===2&&(s=$p(t),s!==0&&(r=s,e=pm(t,s))),e===1)throw n=Dl,fi(t,0),as(t,r),on(t,Ze()),n;if(e===6)as(t,r);else{if(s=t.current.alternate,!(r&30)&&!MP(s)&&(e=od(t,r),e===2&&(i=$p(t),i!==0&&(r=i,e=pm(t,i))),e===1))throw n=Dl,fi(t,0),as(t,r),on(t,Ze()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Js(t,tn,Rr);break;case 3:if(as(t,r),(r&130023424)===r&&(e=dv+500-Ze(),10<e)){if(zu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Kp(Js.bind(null,t,tn,Rr),e);break}Js(t,tn,Rr);break;case 4:if(as(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-er(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LP(r/1960))-r,10<r){t.timeoutHandle=Kp(Js.bind(null,t,tn,Rr),r);break}Js(t,tn,Rr);break;case 5:Js(t,tn,Rr);break;default:throw Error(U(329))}}}return on(t,Ze()),t.callbackNode===n?IT.bind(null,t):null}function pm(t,e){var n=sl;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=od(t,e),t!==2&&(e=tn,tn=n,e!==null&&mm(e)),t}function mm(t){tn===null?tn=t:tn.push.apply(tn,t)}function MP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!nr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~uv,e&=~rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function wx(t){if(xe&6)throw Error(U(327));Ea();var e=zu(t,0);if(!(e&1))return on(t,Ze()),null;var n=od(t,e);if(t.tag!==0&&n===2){var r=$p(t);r!==0&&(e=r,n=pm(t,r))}if(n===1)throw n=Dl,fi(t,0),as(t,e),on(t,Ze()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Js(t,tn,Rr),on(t,Ze()),null}function hv(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(Ua=Ze()+500,Zd&&Us())}}function Ei(t){fs!==null&&fs.tag===0&&!(xe&6)&&Ea();var e=xe;xe|=1;var n=Vn.transition,r=Se;try{if(Vn.transition=null,Se=1,t)return t()}finally{Se=r,Vn.transition=n,xe=e,!(xe&6)&&Us()}}function fv(){fn=pa.current,Le(pa)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fP(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Gg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ku();break;case 3:Fa(),Le(sn),Le(Ft),nv();break;case 5:tv(r);break;case 4:Fa();break;case 13:Le(We);break;case 19:Le(We);break;case 10:Xg(r.type._context);break;case 22:case 23:fv()}n=n.return}if(yt=t,nt=t=Is(t.current,null),It=fn=e,ct=0,Dl=null,uv=rh=_i=0,tn=sl=null,si!==null){for(e=0;e<si.length;e++)if(n=si[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}si=null}return t}function NT(t,e){do{var n=nt;try{if(Qg(),wu.current=rd,nd){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nd=!1}if(bi=0,vt=lt=qe=null,nl=!1,Pl=0,cv.current=null,n===null||n.return===null){ct=1,Dl=e,nt=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=It,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ax(a);if(p!==null){p.flags&=-257,ox(p,a,l,i,e),p.mode&1&&ix(i,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){ix(i,u,e),pv();break e}c=Error(U(426))}}else if(ze&&l.mode&1){var y=ax(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ox(y,a,l,i,e),Kg($a(c,l));break e}}i=c=$a(c,l),ct!==4&&(ct=2),sl===null?sl=[i]:sl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=uT(i,c,e);Jw(i,m);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ts===null||!Ts.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=dT(i,l,e);Jw(i,b);break e}}i=i.return}while(i!==null)}AT(n)}catch(I){e=I,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function jT(){var t=sd.current;return sd.current=rd,t===null?rd:t}function pv(){(ct===0||ct===3||ct===2)&&(ct=4),yt===null||!(_i&268435455)&&!(rh&268435455)||as(yt,It)}function od(t,e){var n=xe;xe|=2;var r=jT();(yt!==t||It!==e)&&(Rr=null,fi(t,e));do try{VP();break}catch(s){NT(t,s)}while(!0);if(Qg(),xe=n,sd.current=r,nt!==null)throw Error(U(261));return yt=null,It=0,ct}function VP(){for(;nt!==null;)CT(nt)}function FP(){for(;nt!==null&&!uA();)CT(nt)}function CT(t){var e=kT(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?AT(t):nt=e,cv.current=null}function AT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kP(n,e),n!==null){n.flags&=32767,nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,nt=null;return}}else if(n=PP(n,e,fn),n!==null){nt=n;return}if(e=e.sibling,e!==null){nt=e;return}nt=e=t}while(e!==null);ct===0&&(ct=5)}function Js(t,e,n){var r=Se,s=Vn.transition;try{Vn.transition=null,Se=1,$P(t,e,n,r)}finally{Vn.transition=s,Se=r}return null}function $P(t,e,n,r){do Ea();while(fs!==null);if(xe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(xA(t,i),t===yt&&(nt=yt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yc||(Yc=!0,RT(Bu,function(){return Ea(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var a=Se;Se=1;var l=xe;xe|=4,cv.current=null,DP(t,n),TT(n,t),aP(qp),Hu=!!Wp,qp=Wp=null,t.current=n,OP(n),dA(),xe=l,Se=a,Vn.transition=i}else t.current=n;if(Yc&&(Yc=!1,fs=t,ad=s),i=t.pendingLanes,i===0&&(Ts=null),pA(n.stateNode),on(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(id)throw id=!1,t=hm,hm=null,t;return ad&1&&t.tag!==0&&Ea(),i=t.pendingLanes,i&1?t===fm?il++:(il=0,fm=t):il=0,Us(),null}function Ea(){if(fs!==null){var t=cE(ad),e=Vn.transition,n=Se;try{if(Vn.transition=null,Se=16>t?16:t,fs===null)var r=!1;else{if(t=fs,fs=null,ad=0,xe&6)throw Error(U(331));var s=xe;for(xe|=4,Z=t.current;Z!==null;){var i=Z,a=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if(bT(d),d===u){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Z=a;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Z=m;break e}Z=i.return}}var v=t.current;for(Z=v;Z!==null;){a=Z;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Z=w;else e:for(a=v;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nh(9,l)}}catch(I){Ye(l,l.return,I)}if(l===a){Z=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Z=b;break e}Z=l.return}}if(xe=s,Us(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Kd,t)}catch{}r=!0}return r}finally{Se=n,Vn.transition=e}}return!1}function xx(t,e,n){e=$a(n,e),e=uT(t,e,1),t=Es(t,e,1),e=qt(),t!==null&&(ic(t,1,e),on(t,e))}function Ye(t,e,n){if(t.tag===3)xx(t,t,n);else for(;e!==null;){if(e.tag===3){xx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ts===null||!Ts.has(r))){t=$a(n,t),t=dT(e,t,1),e=Es(e,t,1),t=qt(),e!==null&&(ic(e,1,t),on(e,t));break}}e=e.return}}function UP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(It&n)===n&&(ct===4||ct===3&&(It&130023424)===It&&500>Ze()-dv?fi(t,0):uv|=n),on(t,e)}function PT(t,e){e===0&&(t.mode&1?(e=Fc,Fc<<=1,!(Fc&130023424)&&(Fc=4194304)):e=1);var n=qt();t=Wr(t,e),t!==null&&(ic(t,e,n),on(t,n))}function BP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PT(t,n)}function zP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),PT(t,n)}var kT;kT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,AP(t,e,n);rn=!!(t.flags&131072)}else rn=!1,ze&&e.flags&1048576&&OE(e,Xu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bu(t,e),t=e.pendingProps;var s=La(e,Ft.current);_a(e,n),s=sv(null,e,r,t,s,n);var i=iv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(i=!0,Yu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zg(e),s.updater=eh,e.stateNode=s,s._reactInternals=e,tm(e,r,t,n),e=sm(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&qg(e),Ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=WP(r),t=Yn(r,t),s){case 0:e=rm(null,e,r,t,n);break e;case 1:e=ux(null,e,r,t,n);break e;case 11:e=lx(null,e,r,t,n);break e;case 14:e=cx(null,e,r,Yn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),rm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),ux(t,e,r,s,n);case 3:e:{if(mT(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,FE(t,e),ed(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$a(Error(U(423)),e),e=dx(t,e,r,n,s);break e}else if(r!==s){s=$a(Error(U(424)),e),e=dx(t,e,r,n,s);break e}else for(mn=_s(e.stateNode.containerInfo.firstChild),wn=e,ze=!0,Xn=null,n=zE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),r===s){e=qr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return HE(e),t===null&&Jp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Gp(r,s)?a=null:i!==null&&Gp(r,i)&&(e.flags|=32),pT(t,e),Ht(t,e,a,n),e.child;case 6:return t===null&&Jp(e),null;case 13:return gT(t,e,n);case 4:return ev(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Va(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),lx(t,e,r,s,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Pe(Ju,r._currentValue),r._currentValue=a,i!==null)if(nr(i.value,a)){if(i.children===s.children&&!sn.current){e=qr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ur(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Zp(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(U(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zp(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_a(e,n),s=$n(s),r=r(s),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,s=Yn(r,e.pendingProps),s=Yn(r.type,s),cx(t,e,r,s,n);case 15:return hT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),bu(t,e),e.tag=1,an(r)?(t=!0,Yu(e)):t=!1,_a(e,n),UE(e,r,s),tm(e,r,s,n),sm(null,e,r,!0,t,n);case 19:return vT(t,e,n);case 22:return fT(t,e,n)}throw Error(U(156,e.tag))};function RT(t,e){return iE(t,e)}function HP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new HP(t,e,n,r)}function mv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WP(t){if(typeof t=="function")return mv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dg)return 11;if(t===Og)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tu(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")mv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case sa:return pi(n.children,s,i,e);case Rg:a=8,s|=8;break;case Sp:return t=Mn(12,n,e,s|2),t.elementType=Sp,t.lanes=i,t;case Ip:return t=Mn(13,n,e,s),t.elementType=Ip,t.lanes=i,t;case Np:return t=Mn(19,n,e,s),t.elementType=Np,t.lanes=i,t;case B_:return sh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $_:a=10;break e;case U_:a=9;break e;case Dg:a=11;break e;case Og:a=14;break e;case rs:a=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Mn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function pi(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function sh(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=B_,t.lanes=n,t.stateNode={isHidden:!1},t}function Pf(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function kf(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hf(0),this.expirationTimes=hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gv(t,e,n,r,s,i,a,l,c){return t=new qP(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zg(i),t}function GP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ra,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DT(t){if(!t)return Ds;t=t._reactInternals;e:{if(Vi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(an(n))return RE(t,n,e)}return e}function OT(t,e,n,r,s,i,a,l,c){return t=gv(n,r,!0,t,s,i,a,l,c),t.context=DT(null),n=t.current,r=qt(),s=Ss(n),i=Ur(r,s),i.callback=e??null,Es(n,i,s),t.current.lanes=s,ic(t,s,r),on(t,r),t}function ih(t,e,n,r){var s=e.current,i=qt(),a=Ss(s);return n=DT(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Es(s,e,a),t!==null&&(tr(t,s,a,i),yu(t,s,a)),a}function ld(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vv(t,e){bx(t,e),(t=t.alternate)&&bx(t,e)}function KP(){return null}var LT=typeof reportError=="function"?reportError:function(t){console.error(t)};function yv(t){this._internalRoot=t}ah.prototype.render=yv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));ih(t,e,null,null)};ah.prototype.unmount=yv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){ih(null,t,null,null)}),e[Hr]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=hE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<is.length&&e!==0&&e<is[n].priority;n++);is.splice(n,0,t),n===0&&pE(t)}};function wv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _x(){}function YP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ld(a);i.call(u)}}var a=OT(e,r,t,0,null,!1,!1,"",_x);return t._reactRootContainer=a,t[Hr]=a.current,Il(t.nodeType===8?t.parentNode:t),Ei(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ld(c);l.call(u)}}var c=gv(t,0,!1,null,null,!1,!1,"",_x);return t._reactRootContainer=c,t[Hr]=c.current,Il(t.nodeType===8?t.parentNode:t),Ei(function(){ih(e,c,n,r)}),c}function lh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ld(a);l.call(c)}}ih(e,a,t,s)}else a=YP(n,e,t,s,r);return ld(a)}uE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uo(e.pendingLanes);n!==0&&(Vg(e,n|1),on(e,Ze()),!(xe&6)&&(Ua=Ze()+500,Us()))}break;case 13:Ei(function(){var r=Wr(t,1);if(r!==null){var s=qt();tr(r,t,1,s)}}),vv(t,1)}};Fg=function(t){if(t.tag===13){var e=Wr(t,134217728);if(e!==null){var n=qt();tr(e,t,134217728,n)}vv(t,134217728)}};dE=function(t){if(t.tag===13){var e=Ss(t),n=Wr(t,e);if(n!==null){var r=qt();tr(n,t,e,r)}vv(t,e)}};hE=function(){return Se};fE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Mp=function(t,e,n){switch(e){case"input":if(Ap(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Jd(r);if(!s)throw Error(U(90));H_(r),Ap(r,s)}}}break;case"textarea":q_(t,n);break;case"select":e=n.value,e!=null&&ya(t,!!n.multiple,e,!1)}};Z_=hv;eE=Ei;var QP={usingClientEntryPoint:!1,Events:[oc,la,Jd,X_,J_,hv]},No={findFiberByHostInstance:ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XP={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rE(t),t===null?null:t.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||KP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Kd=Qc.inject(XP),gr=Qc}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QP;Sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wv(e))throw Error(U(200));return GP(t,e,null,n)};Sn.createRoot=function(t,e){if(!wv(t))throw Error(U(299));var n=!1,r="",s=LT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gv(t,1,!1,null,null,n,!1,r,s),t[Hr]=e.current,Il(t.nodeType===8?t.parentNode:t),new yv(e)};Sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=rE(e),t=t===null?null:t.stateNode,t};Sn.flushSync=function(t){return Ei(t)};Sn.hydrate=function(t,e,n){if(!oh(e))throw Error(U(200));return lh(null,t,e,!0,n)};Sn.hydrateRoot=function(t,e,n){if(!wv(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=LT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=OT(e,null,t,1,n??null,s,!1,i,a),t[Hr]=e.current,Il(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ah(e)};Sn.render=function(t,e,n){if(!oh(e))throw Error(U(200));return lh(null,t,e,!1,n)};Sn.unmountComponentAtNode=function(t){if(!oh(t))throw Error(U(40));return t._reactRootContainer?(Ei(function(){lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};Sn.unstable_batchedUpdates=hv;Sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oh(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return lh(t,e,n,!1,r)};Sn.version="18.2.0-next-9e3b772b8-20220608";function MT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MT)}catch(t){console.error(t)}}MT(),O_.exports=Sn;var JP=O_.exports,Ex=JP;Ep.createRoot=Ex.createRoot,Ep.hydrateRoot=Ex.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}var ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ps||(ps={}));const Tx="popstate";function ZP(t){t===void 0&&(t={});function e(s,i){let{pathname:a="/",search:l="",hash:c=""}=Fi(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),gm("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:cd(i))}function r(s,i){ch(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return tk(e,n,r,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ch(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ek(){return Math.random().toString(36).substr(2,8)}function Sx(t,e){return{usr:t.state,key:t.key,idx:e}}function gm(t,e,n,r){return n===void 0&&(n=null),Ol({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fi(e):e,{state:n,key:e&&e.key||r||ek()})}function cd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=ps.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Ol({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=ps.Pop;let y=d(),m=y==null?null:y-u;u=y,c&&c({action:l,location:x.location,delta:m})}function f(y,m){l=ps.Push;let v=gm(x.location,y,m);n&&n(v,y),u=d()+1;let w=Sx(v,u),b=x.createHref(v);try{a.pushState(w,"",b)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(b)}i&&c&&c({action:l,location:x.location,delta:1})}function p(y,m){l=ps.Replace;let v=gm(x.location,y,m);n&&n(v,y),u=d();let w=Sx(v,u),b=x.createHref(v);a.replaceState(w,"",b),i&&c&&c({action:l,location:x.location,delta:0})}function g(y){let m=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:cd(y);return it(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let x={get action(){return l},get location(){return t(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Tx,h),c=y,()=>{s.removeEventListener(Tx,h),c=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let m=g(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(y){return a.go(y)}};return x}var Ix;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ix||(Ix={}));function nk(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fi(e):e,s=xv(r.pathname||"/",n);if(s==null)return null;let i=VT(t);rk(i);let a=null;for(let l=0;a==null&&l<i.length;++l)a=hk(i[l],mk(s));return a}function VT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ns([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VT(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:uk(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of FT(i.path))s(i,a,c)}),e}function FT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=FT(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function rk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sk=/^:[\w-]+$/,ik=3,ak=2,ok=1,lk=10,ck=-2,Nx=t=>t==="*";function uk(t,e){let n=t.split("/"),r=n.length;return n.some(Nx)&&(r+=ck),e&&(r+=ak),n.filter(s=>!Nx(s)).reduce((s,i)=>s+(sk.test(i)?ik:i===""?ok:lk),r)}function dk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hk(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=fk({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=l.route;i.push({params:r,pathname:Ns([s,d.pathname]),pathnameBase:xk(Ns([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ns([s,d.pathnameBase]))}return i}function fk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?u[f]=void 0:u[f]=gk(g||"",f),u},{}),pathname:i,pathnameBase:a,pattern:t}}function pk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ch(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mk(t){try{return decodeURI(t)}catch(e){return ch(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gk(t,e){try{return decodeURIComponent(t)}catch(n){return ch(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function xv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fi(t):t;return{pathname:n?n.startsWith("/")?n:yk(n,e):e,search:bk(r),hash:_k(s)}}function yk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $T(t,e){let n=wk(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UT(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fi(t):(s=Ol({},t),it(!s.pathname||!s.pathname.includes("?"),Rf("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),Rf("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),Rf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=vk(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ns=t=>t.join("/").replace(/\/\/+/g,"/"),xk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_k=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ek(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BT=["post","put","patch","delete"];new Set(BT);const Tk=["get",...BT];new Set(Tk);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}const bv=N.createContext(null),Sk=N.createContext(null),$i=N.createContext(null),uh=N.createContext(null),Bs=N.createContext({outlet:null,matches:[],isDataRoute:!1}),zT=N.createContext(null);function Ik(t,e){let{relative:n}=e===void 0?{}:e;cc()||it(!1);let{basename:r,navigator:s}=N.useContext($i),{hash:i,pathname:a,search:l}=WT(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Ns([r,a])),s.createHref({pathname:c,search:l,hash:i})}function cc(){return N.useContext(uh)!=null}function uc(){return cc()||it(!1),N.useContext(uh).location}function HT(t){N.useContext($i).static||N.useLayoutEffect(t)}function Nk(){let{isDataRoute:t}=N.useContext(Bs);return t?$k():jk()}function jk(){cc()||it(!1);let t=N.useContext(bv),{basename:e,future:n,navigator:r}=N.useContext($i),{matches:s}=N.useContext(Bs),{pathname:i}=uc(),a=JSON.stringify($T(s,n.v7_relativeSplatPath)),l=N.useRef(!1);return HT(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=UT(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ns([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}function io(){let{matches:t}=N.useContext(Bs),e=t[t.length-1];return e?e.params:{}}function WT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext($i),{matches:s}=N.useContext(Bs),{pathname:i}=uc(),a=JSON.stringify($T(s,r.v7_relativeSplatPath));return N.useMemo(()=>UT(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function Ck(t,e){return Ak(t,e)}function Ak(t,e,n,r){cc()||it(!1);let{navigator:s}=N.useContext($i),{matches:i}=N.useContext(Bs),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=uc(),d;if(e){var h;let y=typeof e=="string"?Fi(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||it(!1),d=y}else d=u;let f=d.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=nk(t,{pathname:p}),x=Ok(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ns([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ns([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&x?N.createElement(uh.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ps.Pop}},x):x}function Pk(){let t=Fk(),e=Ek(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,null)}const kk=N.createElement(Pk,null);class Rk extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Bs.Provider,{value:this.props.routeContext},N.createElement(zT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dk(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(bv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Bs.Provider,{value:e},r)}function Ok(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));d>=0||it(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,g=!1,x=null,y=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||kk,c&&(u<0&&f===0?(Uk("route-fallback",!1),g=!0,y=null):u===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),v=()=>{let w;return p?w=x:g?w=y:h.route.Component?w=N.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,N.createElement(Dk,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(Rk,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var qT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qT||{}),ud=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ud||{});function Lk(t){let e=N.useContext(bv);return e||it(!1),e}function Mk(t){let e=N.useContext(Sk);return e||it(!1),e}function Vk(t){let e=N.useContext(Bs);return e||it(!1),e}function GT(t){let e=Vk(),n=e.matches[e.matches.length-1];return n.route.id||it(!1),n.route.id}function Fk(){var t;let e=N.useContext(zT),n=Mk(ud.UseRouteError),r=GT(ud.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $k(){let{router:t}=Lk(qT.UseNavigateStable),e=GT(ud.UseNavigateStable),n=N.useRef(!1);return HT(()=>{n.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ll({fromRouteId:e},i)))},[t,e])}const jx={};function Uk(t,e,n){!e&&!jx[t]&&(jx[t]=!0)}function Ae(t){it(!1)}function Bk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ps.Pop,navigator:i,static:a=!1,future:l}=t;cc()&&it(!1);let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:a,future:Ll({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Fi(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,x=N.useMemo(()=>{let y=xv(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:g},navigationType:s}},[c,d,h,f,p,g,s]);return x==null?null:N.createElement($i.Provider,{value:u},N.createElement(uh.Provider,{children:n,value:x}))}function _v(t){let{children:e,location:n}=t;return Ck(vm(e),n)}new Promise(()=>{});function vm(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let i=[...e,s];if(r.type===N.Fragment){n.push.apply(n,vm(r.props.children,i));return}r.type!==Ae&&it(!1),!r.props.index||!r.props.children||it(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=vm(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function zk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Hk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wk(t,e){return t.button===0&&(!e||e==="_self")&&!Hk(t)}const qk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Gk="6";try{window.__reactRouterVersion=Gk}catch{}const Kk="startTransition",Cx=_p[Kk];function Yk(t){let{basename:e,children:n,future:r,window:s}=t,i=N.useRef();i.current==null&&(i.current=ZP({window:s,v5Compat:!0}));let a=i.current,[l,c]=N.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=N.useCallback(h=>{u&&Cx?Cx(()=>c(h)):c(h)},[c,u]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(Bk,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=N.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=zk(e,qk),{basename:p}=N.useContext($i),g,x=!1;if(typeof u=="string"&&Xk.test(u)&&(g=u,Qk))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),I=xv(b.pathname,p);b.origin===w.origin&&I!=null?u=I+b.search+b.hash:x=!0}catch{}let y=Ik(u,{relative:s}),m=Jk(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||m(w)}return N.createElement("a",ym({},f,{href:g||y,onClick:x||i?r:v,ref:n,target:c}))});var Ax;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ax||(Ax={}));var Px;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Px||(Px={}));function Jk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,unstable_viewTransition:l}=e===void 0?{}:e,c=Nk(),u=uc(),d=WT(t,{relative:a});return N.useCallback(h=>{if(Wk(h,n)){h.preventDefault();let f=r!==void 0?r:cd(u)===cd(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,unstable_viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Zk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,a||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new eR;const f=i<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(t){const e=KT(t);return YT.encodeByteArray(e,!0)},dd=function(t){return tR(t).replace(/\./g,"")},QT=function(t){try{return YT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=()=>nR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QT(t[1]);return e&&JSON.parse(e)},dh=()=>{try{return rR()||sR()||iR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XT=t=>{var e,n;return(n=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JT=t=>{const e=XT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZT=()=>{var t;return(t=dh())===null||t===void 0?void 0:t.config},eS=t=>{var e;return(e=dh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dd(JSON.stringify(n)),dd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function lR(){var t;const e=(t=dh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uR(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dR(){return!lR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ev(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function hR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fR,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ui.prototype.create)}}class Ui{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?pR(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Hn(s,l,r)}}function pR(t,e){return t.replace(mR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mR=/\{\$([^}]+)}/g;function gR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ti(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Rx(i)&&Rx(a)){if(!Ti(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Rx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ho(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vR(t,e){const n=new yR(t,e);return n.subscribe.bind(n)}class yR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Df),s.error===void 0&&(s.error=Df),s.complete===void 0&&(s.complete=Df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,bR=2,_R=4*60*60*1e3,ER=.5;function Dx(t,e=xR,n=bR){const r=e*Math.pow(n,t),s=Math.round(ER*r*(Math.random()-.5)*2);return Math.min(_R,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class Bn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TR=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SR(t){return t===Zs?void 0:t}function IR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const jR={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},CR=ge.INFO,AR={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},PR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=AR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hh{constructor(e){this.name=e,this._logLevel=CR,this._logHandler=PR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const kR=(t,e)=>e.some(n=>t instanceof n);let Ox,Lx;function RR(){return Ox||(Ox=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DR(){return Lx||(Lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sS=new WeakMap,wm=new WeakMap,iS=new WeakMap,Of=new WeakMap,Tv=new WeakMap;function OR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(js(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&sS.set(n,t)}).catch(()=>{}),Tv.set(e,t),e}function LR(t){if(wm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});wm.set(t,e)}let xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MR(t){xm=t(xm)}function VR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lf(this),e,...n);return iS.set(r,e.sort?e.sort():[e]),js(r)}:DR().includes(t)?function(...e){return t.apply(Lf(this),e),js(sS.get(this))}:function(...e){return js(t.apply(Lf(this),e))}}function FR(t){return typeof t=="function"?VR(t):(t instanceof IDBTransaction&&LR(t),kR(t,RR())?new Proxy(t,xm):t)}function js(t){if(t instanceof IDBRequest)return OR(t);if(Of.has(t))return Of.get(t);const e=FR(t);return e!==t&&(Of.set(t,e),Tv.set(e,t)),e}const Lf=t=>Tv.get(t);function aS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=js(a);return r&&a.addEventListener("upgradeneeded",c=>{r(js(a.result),c.oldVersion,c.newVersion,js(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const $R=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],Mf=new Map;function Mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=UR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$R.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Mf.set(e,i),i}MR(t=>({...t,get:(e,n,r)=>Mx(e,n)||t.get(e,n,r),has:(e,n)=>!!Mx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",Vx="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new hh("@firebase/app"),HR="@firebase/app-compat",WR="@firebase/analytics-compat",qR="@firebase/analytics",GR="@firebase/app-check-compat",KR="@firebase/app-check",YR="@firebase/auth",QR="@firebase/auth-compat",XR="@firebase/database",JR="@firebase/database-compat",ZR="@firebase/functions",eD="@firebase/functions-compat",tD="@firebase/installations",nD="@firebase/installations-compat",rD="@firebase/messaging",sD="@firebase/messaging-compat",iD="@firebase/performance",aD="@firebase/performance-compat",oD="@firebase/remote-config",lD="@firebase/remote-config-compat",cD="@firebase/storage",uD="@firebase/storage-compat",dD="@firebase/firestore",hD="@firebase/firestore-compat",fD="firebase",pD="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",mD={[bm]:"fire-core",[HR]:"fire-core-compat",[qR]:"fire-analytics",[WR]:"fire-analytics-compat",[KR]:"fire-app-check",[GR]:"fire-app-check-compat",[YR]:"fire-auth",[QR]:"fire-auth-compat",[XR]:"fire-rtdb",[JR]:"fire-rtdb-compat",[ZR]:"fire-fn",[eD]:"fire-fn-compat",[tD]:"fire-iid",[nD]:"fire-iid-compat",[rD]:"fire-fcm",[sD]:"fire-fcm-compat",[iD]:"fire-perf",[aD]:"fire-perf-compat",[oD]:"fire-rc",[lD]:"fire-rc-compat",[cD]:"fire-gcs",[uD]:"fire-gcs-compat",[dD]:"fire-fst",[hD]:"fire-fst-compat","fire-js":"fire-js",[fD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,Em=new Map;function gD(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rr(t){const e=t.name;if(Em.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of hd.values())gD(n,t);return!0}function zs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cs=new Ui("app","Firebase",vD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=pD;function oS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Cs.create("bad-app-name",{appName:String(s)});if(n||(n=ZT()),!n)throw Cs.create("no-options");const i=hd.get(s);if(i){if(Ti(n,i.options)&&Ti(r,i.config))return i;throw Cs.create("duplicate-app",{appName:s})}const a=new NR(s);for(const c of Em.values())a.addComponent(c);const l=new yD(n,r,a);return hd.set(s,l),l}function fh(t=_m){const e=hd.get(t);if(!e&&t===_m&&ZT())return oS();if(!e)throw Cs.create("no-app",{appName:t});return e}function ln(t,e,n){var r;let s=(r=mD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(l.join(" "));return}rr(new Bn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="firebase-heartbeat-database",xD=1,Ml="firebase-heartbeat-store";let Vf=null;function lS(){return Vf||(Vf=aS(wD,xD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cs.create("idb-open",{originalErrorMessage:t.message})})),Vf}async function bD(t){try{const n=(await lS()).transaction(Ml),r=await n.objectStore(Ml).get(cS(t));return await n.done,r}catch(e){if(e instanceof Hn)Si.warn(e.message);else{const n=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function Fx(t,e){try{const r=(await lS()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,cS(t)),await r.done}catch(n){if(n instanceof Hn)Si.warn(n.message);else{const r=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function cS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=1024,ED=30*24*60*60*1e3;class TD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ID(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$x();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=ED}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$x(),{heartbeatsToSend:r,unsentEntries:s}=SD(this._heartbeatsCache.heartbeats),i=dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $x(){return new Date().toISOString().substring(0,10)}function SD(t,e=_D){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Ux(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ux(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ID{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ev()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ux(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){rr(new Bn("platform-logger",e=>new BR(e),"PRIVATE")),rr(new Bn("heartbeat",e=>new TD(e),"PRIVATE")),ln(bm,Vx,t),ln(bm,Vx,"esm2017"),ln("fire-js","")}ND("");var jD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,Sv=Sv||{},oe=jD||self;function ph(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function hc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function CD(t){return Object.prototype.hasOwnProperty.call(t,Ff)&&t[Ff]||(t[Ff]=++AD)}var Ff="closure_uid_"+(1e9*Math.random()>>>0),AD=0;function PD(t,e,n){return t.call.apply(t.bind,arguments)}function kD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mt=PD:Mt=kD,Mt.apply(null,arguments)}function Xc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[s].apply(r,a)}}function Hs(){this.s=this.s,this.o=this.o}var RD=0;Hs.prototype.s=!1;Hs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),RD!=0)&&CD(this)};Hs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Iv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bx(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ph(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let a=0;a<i;a++)t[s+a]=r[a]}else t.push(r)}}function Vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var DD=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};oe.addEventListener("test",n,e),oe.removeEventListener("test",n,e)}catch{}return t}();function Vl(t){return/^[\s\xa0]*$/.test(t)}function mh(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return mh().indexOf(t)!=-1}function Nv(t){return Nv[" "](t),t}Nv[" "]=function(){};function OD(t,e){var n=NO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var LD=dr("Opera"),Ba=dr("Trident")||dr("MSIE"),dS=dr("Edge"),Tm=dS||Ba,hS=dr("Gecko")&&!(mh().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),MD=mh().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function fS(){var t=oe.document;return t?t.documentMode:void 0}var Sm;e:{var $f="",Uf=function(){var t=mh();if(hS)return/rv:([^\);]+)(\)|;)/.exec(t);if(dS)return/Edge\/([\d\.]+)/.exec(t);if(Ba)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(MD)return/WebKit\/(\S+)/.exec(t);if(LD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Uf&&($f=Uf?Uf[1]:""),Ba){var Bf=fS();if(Bf!=null&&Bf>parseFloat($f)){Sm=String(Bf);break e}}Sm=$f}var Im;if(oe.document&&Ba){var zx=fS();Im=zx||parseInt(Sm,10)||void 0}else Im=void 0;var VD=Im;function Fl(t,e){if(Vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(hS){e:{try{Nv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:FD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Fl.$.h.call(this)}}xt(Fl,Vt);var FD={2:"touch",3:"pen",4:"mouse"};Fl.prototype.h=function(){Fl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fc="closure_listenable_"+(1e6*Math.random()|0),$D=0;function UD(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++$D,this.fa=this.ia=!1}function gh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function BD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function pS(t){const e={};for(const n in t)e[n]=t[n];return e}const Hx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Hx.length;i++)n=Hx[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vh(t){this.src=t,this.g={},this.h=0}vh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var a=jm(t,e,r,s);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new UD(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Nm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=uS(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(gh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Cv="closure_lm_"+(1e6*Math.random()|0),zf={};function gS(t,e,n,r,s){if(r&&r.once)return yS(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)gS(t,e[i],n,r,s);return null}return n=kv(n),t&&t[fc]?t.O(e,n,hc(r)?!!r.capture:!!r,s):vS(t,e,n,!1,r,s)}function vS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var a=hc(s)?!!s.capture:!!s,l=Pv(t);if(l||(t[Cv]=l=new vh(t)),n=l.add(e,n,r,a,i),n.proxy)return n;if(r=zD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)DD||(s=a),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(xS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zD(){function t(n){return e.call(t.src,t.listener,n)}const e=HD;return t}function yS(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)yS(t,e[i],n,r,s);return null}return n=kv(n),t&&t[fc]?t.P(e,n,hc(r)?!!r.capture:!!r,s):vS(t,e,n,!0,r,s)}function wS(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)wS(t,e[i],n,r,s);else r=hc(r)?!!r.capture:!!r,n=kv(n),t&&t[fc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=jm(i,n,r,s),-1<n&&(gh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Pv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jm(e,n,r,s)),(n=-1<t?e[t]:null)&&Av(n))}function Av(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[fc])Nm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pv(e))?(Nm(n,t),n.h==0&&(n.src=null,e[Cv]=null)):gh(t)}}}function xS(t){return t in zf?zf[t]:zf[t]="on"+t}function HD(t,e){if(t.fa)t=!0;else{e=new Fl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Av(t),t=n.call(r,e)}return t}function Pv(t){return t=t[Cv],t instanceof vh?t:null}var Hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function kv(t){return typeof t=="function"?t:(t[Hf]||(t[Hf]=function(e){return t.handleEvent(e)}),t[Hf])}function wt(){Hs.call(this),this.i=new vh(this),this.S=this,this.J=null}xt(wt,Hs);wt.prototype[fc]=!0;wt.prototype.removeEventListener=function(t,e,n,r){wS(this,t,e,n,r)};function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vt(e,t);else if(e instanceof Vt)e.target=e.target||t;else{var s=e;e=new Vt(r,t),mS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=e.g=n[i];s=Jc(a,r,!0,e)&&s}if(a=e.g=t,s=Jc(a,r,!0,e)&&s,s=Jc(a,r,!1,e)&&s,n)for(i=0;i<n.length;i++)a=e.g=n[i],s=Jc(a,r,!1,e)&&s}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gh(n[r]);delete t.g[e],t.h--}}this.J=null};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Jc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.fa&&a.capture==n){var l=a.listener,c=a.la||a.src;a.ia&&Nm(t.i,a),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Rv=oe.JSON.stringify;class WD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function qD(){var t=Dv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class GD{constructor(){this.h=this.g=null}add(e,n){const r=bS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bS=new WD(()=>new KD,t=>t.reset());class KD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function YD(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function QD(t){oe.setTimeout(()=>{throw t},0)}let $l,Ul=!1,Dv=new GD,_S=()=>{const t=oe.Promise.resolve(void 0);$l=()=>{t.then(XD)}};var XD=()=>{for(var t;t=qD();){try{t.h.call(t.g)}catch(n){QD(n)}var e=bS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ul=!1};function yh(t,e){wt.call(this),this.h=t||1,this.g=e||oe,this.j=Mt(this.qb,this),this.l=Date.now()}xt(yh,wt);G=yh.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(Ov(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ov(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}G.N=function(){yh.$.N.call(this),Ov(this),delete this.g};function Lv(t,e,n){if(typeof t=="function")n&&(t=Mt(t,n));else if(t&&typeof t.handleEvent=="function")t=Mt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function ES(t){t.g=Lv(()=>{t.g=null,t.i&&(t.i=!1,ES(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class JD extends Hs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ES(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bl(t){Hs.call(this),this.h=t,this.g={}}xt(Bl,Hs);var Wx=[];function TS(t,e,n,r){Array.isArray(n)||(n&&(Wx[0]=n.toString()),n=Wx);for(var s=0;s<n.length;s++){var i=gS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function SS(t){jv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Av(e)},t),t.g={}}Bl.prototype.N=function(){Bl.$.N.call(this),SS(this)};Bl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wh(){this.g=!0}wh.prototype.Ea=function(){this.g=!1};function ZD(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var a="",l=i.split("&"),c=0;c<l.length;c++){var u=l[c].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");a=2<=h.length&&h[1]=="type"?a+(d+"="+u+"&"):a+(d+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+a})}function eO(t,e,n,r,s,i,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+a})}function ma(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+nO(t,n)+(r?" "+r:"")})}function tO(t,e){t.info(function(){return"TIMEOUT: "+e})}wh.prototype.info=function(){};function nO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Rv(n)}catch{return e}}var zi={},qx=null;function xh(){return qx=qx||new wt}zi.Ta="serverreachability";function IS(t){Vt.call(this,zi.Ta,t)}xt(IS,Vt);function zl(t){const e=xh();Nt(e,new IS(e))}zi.STAT_EVENT="statevent";function NS(t,e){Vt.call(this,zi.STAT_EVENT,t),this.stat=e}xt(NS,Vt);function Wt(t){const e=xh();Nt(e,new NS(e,t))}zi.Ua="timingevent";function jS(t,e){Vt.call(this,zi.Ua,t),this.size=e}xt(jS,Vt);function pc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var bh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mv(){}Mv.prototype.h=null;function Gx(t){return t.h||(t.h=t.i())}function AS(){}var mc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vv(){Vt.call(this,"d")}xt(Vv,Vt);function Fv(){Vt.call(this,"c")}xt(Fv,Vt);var Cm;function _h(){}xt(_h,Mv);_h.prototype.g=function(){return new XMLHttpRequest};_h.prototype.i=function(){return{}};Cm=new _h;function gc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Bl(this),this.P=rO,t=Tm?125:void 0,this.V=new yh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PS}function PS(){this.i=null,this.g="",this.h=!1}var rO=45e3,kS={},Am={};G=gc.prototype;G.setTimeout=function(t){this.P=t};function Pm(t,e,n){t.L=1,t.A=Th(Gr(e)),t.u=n,t.S=!0,RS(t,null)}function RS(t,e){t.G=Date.now(),vc(t),t.B=Gr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),US(n.i,"t",r),t.o=0,n=t.l.J,t.h=new PS,t.g=l1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new JD(Mt(t.Pa,t,t.g),t.O)),TS(t.U,t.g,"readystatechange",t.nb),e=t.I?pS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),zl(),ZD(t.j,t.v,t.B,t.m,t.W,t.u)}G.nb=function(t){t=t.target;const e=this.M;e&&hr(t)==3?e.l():this.Pa(t)};G.Pa=function(t){try{if(t==this.g)e:{const d=hr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Tm||this.g&&(this.h.h||this.g.ja()||Xx(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?zl(3):zl(2)),Eh(this);var n=this.g.da();this.ca=n;t:if(DS(this)){var r=Xx(this.g);t="";var s=r.length,i=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),al(this);var a="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,eO(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vl(l)){var u=l;break t}}u=null}if(n=u)ma(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,km(this,n);else{this.i=!1,this.s=3,Wt(12),ai(this),al(this);break e}}this.S?(OS(this,d,a),Tm&&this.i&&d==3&&(TS(this.U,this.V,"tick",this.mb),this.V.start())):(ma(this.j,this.m,a,null),km(this,a)),d==4&&ai(this),this.i&&!this.J&&(d==4?s1(this.l,this):(this.i=!1,vc(this)))}else TO(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),ai(this),al(this)}}}catch{}finally{}};function DS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function OS(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=sO(t,n),s==Am){e==4&&(t.s=4,Wt(14),r=!1),ma(t.j,t.m,null,"[Incomplete Response]");break}else if(s==kS){t.s=4,Wt(15),ma(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ma(t.j,t.m,s,null),km(t,s);DS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Wt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wv(e),e.M=!0,Wt(11))):(ma(t.j,t.m,n,"[Invalid Chunked Response]"),ai(t),al(t))}G.mb=function(){if(this.g){var t=hr(this.g),e=this.g.ja();this.o<e.length&&(Eh(this),OS(this,t,e),this.i&&t!=4&&vc(this))}};function sO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Am:(n=Number(e.substring(n,r)),isNaN(n)?kS:(r+=1,r+n>e.length?Am:(e=e.slice(r,r+n),t.o=r+n,e)))}G.cancel=function(){this.J=!0,ai(this)};function vc(t){t.Y=Date.now()+t.P,LS(t,t.P)}function LS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=pc(Mt(t.lb,t),e)}function Eh(t){t.C&&(oe.clearTimeout(t.C),t.C=null)}G.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(tO(this.j,this.B),this.L!=2&&(zl(),Wt(17)),ai(this),this.s=2,al(this)):LS(this,this.Y-t)};function al(t){t.l.H==0||t.J||s1(t.l,t)}function ai(t){Eh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ov(t.V),SS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function km(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Rm(n.i,t))){if(!t.K&&Rm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)md(n),jh(n);else break e;Hv(n),Wt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=pc(Mt(n.ib,n),6e3));if(1>=HS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else oi(n,11)}else if((t.K||n.g==t)&&md(n),!Vl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&($v(i,i.h),i.h=null))}if(r.F){const x=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,De(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=o1(r,r.J?r.pa:null,r.Y),a.K){WS(r.i,a);var l=a,c=r.L;c&&l.setTimeout(c),l.C&&(Eh(l),vc(l)),r.g=a}else n1(r);0<n.j.length&&Ch(n)}else u[0]!="stop"&&u[0]!="close"||oi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?oi(n,7):zv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}zl(4)}catch{}}function iO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ph(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function aO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ph(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function MS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ph(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=aO(t),r=iO(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var VS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function mi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof mi){this.h=t.h,fd(this,t.j),this.s=t.s,this.g=t.g,pd(this,t.m),this.l=t.l;var e=t.i,n=new Hl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Kx(this,n),this.o=t.o}else t&&(e=String(t).match(VS))?(this.h=!1,fd(this,e[1]||"",!0),this.s=Wo(e[2]||""),this.g=Wo(e[3]||"",!0),pd(this,e[4]),this.l=Wo(e[5]||"",!0),Kx(this,e[6]||"",!0),this.o=Wo(e[7]||"")):(this.h=!1,this.i=new Hl(null,this.h))}mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qo(e,Yx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qo(e,Yx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qo(n,n.charAt(0)=="/"?uO:cO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qo(n,hO)),t.join("")};function Gr(t){return new mi(t)}function fd(t,e,n){t.j=n?Wo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Kx(t,e,n){e instanceof Hl?(t.i=e,fO(t.i,t.h)):(n||(e=qo(e,dO)),t.i=new Hl(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Th(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Yx=/[#\/\?@]/g,cO=/[#\?:]/g,uO=/[#\?]/g,dO=/[#\?@]/g,hO=/#/g;function Hl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ws(t){t.g||(t.g=new Map,t.h=0,t.i&&oO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=Hl.prototype;G.add=function(t,e){Ws(this),this.i=null,t=ao(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FS(t,e){Ws(t),e=ao(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $S(t,e){return Ws(t),e=ao(t,e),t.g.has(e)}G.forEach=function(t,e){Ws(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};G.ta=function(){Ws(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};G.Z=function(t){Ws(this);let e=[];if(typeof t=="string")$S(this,t)&&(e=e.concat(this.g.get(ao(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return Ws(this),this.i=null,t=ao(this,t),$S(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function US(t,e,n){FS(t,e),0<n.length&&(t.i=null,t.g.set(ao(t,e),Iv(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;a[r]!==""&&(s+="="+encodeURIComponent(String(a[r]))),t.push(s)}}return this.i=t.join("&")};function ao(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fO(t,e){e&&!t.j&&(Ws(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(FS(this,r),US(this,s,n))},t)),t.j=e}var pO=class{constructor(t,e){this.g=t,this.map=e}};function BS(t){this.l=t||mO,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mO=10;function zS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function HS(t){return t.h?1:t.g?t.g.size:0}function Rm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function $v(t,e){t.g?t.g.add(e):t.h=e}function WS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}BS.prototype.cancel=function(){if(this.i=qS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function qS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Iv(t.i)}var gO=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function vO(){this.g=new gO}function yO(t,e,n){const r=n||"";try{MS(t,function(s,i){let a=s;hc(s)&&(a=Rv(s)),e.push(r+i+"="+encodeURIComponent(a))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function wO(t,e){const n=new wh;if(oe.Image){const r=new Image;r.onload=Xc(Zc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xc(Zc,n,r,"TestLoadImage: error",!1,e),r.onabort=Xc(Zc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xc(Zc,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Zc(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Sh(t){this.l=t.ec||null,this.j=t.ob||!1}xt(Sh,Mv);Sh.prototype.g=function(){return new Ih(this.l,this.j)};Sh.prototype.i=function(t){return function(){return t}}({});function Ih(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Uv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Ih,wt);var Uv=0;G=Ih.prototype;G.open=function(t,e){if(this.readyState!=Uv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wl(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yc(this)),this.readyState=Uv};G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function GS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?yc(this):Wl(this),this.readyState==3&&GS(this)}};G.Za=function(t){this.g&&(this.response=this.responseText=t,yc(this))};G.Ya=function(t){this.g&&(this.response=t,yc(this))};G.ka=function(){this.g&&yc(this)};function yc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wl(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Wl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var xO=oe.JSON.parse;function Qe(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=KS,this.L=this.M=!1}xt(Qe,wt);var KS="",bO=/^https?$/i,_O=["POST","PUT"];G=Qe.prototype;G.Oa=function(t){this.M=t};G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cm.g(),this.C=this.u?Gx(this.u):Gx(Cm),this.g.onreadystatechange=Mt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Qx(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=oe.FormData&&t instanceof oe.FormData,!(0<=uS(_O,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XS(this),0<this.B&&((this.L=EO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.ua,this)):this.A=Lv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Qx(this,i)}};function EO(t){return Ba&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.ua=function(){typeof Sv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function Qx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,YS(t),Nh(t)}function YS(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Nh(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nh(this,!0)),Qe.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?QS(this):this.kb())};G.kb=function(){QS(this)};function QS(t){if(t.h&&typeof Sv<"u"&&(!t.C[1]||hr(t)!=4||t.da()!=2)){if(t.v&&hr(t)==4)Lv(t.La,0,t);else if(Nt(t,"readystatechange"),hr(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var s=String(t.I).match(VS)[1]||null;!s&&oe.self&&oe.self.location&&(s=oe.self.location.protocol.slice(0,-1)),r=!bO.test(s?s.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var i=2<hr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",YS(t)}}finally{Nh(t)}}}}function Nh(t,e){if(t.g){XS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function XS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}G.isActive=function(){return!!this.g};function hr(t){return t.g?t.g.readyState:0}G.da=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),xO(e)}};function Xx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case KS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TO(t){const e={};t=(t.g&&2<=hr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Vl(t[r]))continue;var n=YD(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}BD(e,function(r){return r.join(", ")})}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function JS(t){let e="";return jv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function jo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ZS(t){this.Ga=0,this.j=[],this.l=new wh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jo("baseRetryDelayMs",5e3,t),this.hb=jo("retryDelaySeedMs",1e4,t),this.eb=jo("forwardChannelMaxRetries",2,t),this.xa=jo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new BS(t&&t.concurrentRequestLimit),this.Ja=new vO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}G=ZS.prototype;G.ra=8;G.H=1;function zv(t){if(e1(t),t.H==3){var e=t.W++,n=Gr(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),wc(t,n),e=new gc(t,t.l,e),e.L=2,e.A=Th(Gr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.A,n=!0),n||(e.g=l1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),vc(e)}a1(t)}function jh(t){t.g&&(Wv(t),t.g.cancel(),t.g=null)}function e1(t){jh(t),t.u&&(oe.clearTimeout(t.u),t.u=null),md(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function Ch(t){if(!zS(t.i)&&!t.m){t.m=!0;var e=t.Na;$l||_S(),Ul||($l(),Ul=!0),Dv.add(e,t),t.C=0}}function SO(t,e){return HS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=pc(Mt(t.Na,t,e),i1(t,t.C)),t.C++,!0)}G.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new gc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=pS(i),mS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=t1(this,s,e),n=Gr(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),wc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(JS(i)))+"&"+e:this.o&&Bv(n,this.o,i)),$v(this.i,s),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),s.aa=!0,Pm(s,n,null)):Pm(s,n,e),this.H=2}}else this.H==3&&(t?Jx(this,t):this.j.length==0||zS(this.i)||Jx(this))};function Jx(t,e){var n;e?n=e.m:n=t.W++;const r=Gr(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),wc(t,r),t.o&&t.s&&Bv(r,t.o,t.s),n=new gc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=t1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$v(t.i,n),Pm(n,r,e)}function wc(t,e){t.na&&jv(t.na,function(n,r){De(e,r,n)}),t.h&&MS({},function(n,r){De(e,r,n)})}function t1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Mt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const a=["count="+n];i==-1?0<n?(i=s[0].g,a.push("ofs="+i)):i=0:a.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let u=s[c].g;const d=s[c].map;if(u-=i,0>u)i=Math.max(0,s[c].g-100),l=!1;else try{yO(d,a,"req"+u+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function n1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$l||_S(),Ul||($l(),Ul=!0),Dv.add(e,t),t.A=0}}function Hv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=pc(Mt(t.Ma,t),i1(t,t.A)),t.A++,!0)}G.Ma=function(){if(this.u=null,r1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=pc(Mt(this.jb,this),t)}};G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wt(10),jh(this),r1(this))};function Wv(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function r1(t){t.g=new gc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Gr(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),wc(t,e),t.o&&t.s&&Bv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Th(Gr(e)),n.u=null,n.S=!0,RS(n,t)}G.ib=function(){this.v!=null&&(this.v=null,jh(this),Hv(this),Wt(19))};function md(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function s1(t,e){var n=null;if(t.g==e){md(t),Wv(t),t.g=null;var r=2}else if(Rm(t.i,e))n=e.F,WS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=xh(),Nt(r,new jS(r,n)),Ch(t)}else n1(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&SO(t,e)||r==2&&Hv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:oi(t,5);break;case 4:oi(t,10);break;case 3:oi(t,6);break;default:oi(t,2)}}}function i1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function oi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Mt(t.pb,t);n||(n=new mi("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||fd(n,"https"),Th(n)),wO(n.toString(),r)}else Wt(2);t.H=0,t.h&&t.h.za(e),a1(t),e1(t)}G.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wt(2)):(this.l.info("Failed to ping google.com"),Wt(1))};function a1(t){if(t.H=0,t.ma=[],t.h){const e=qS(t.i);(e.length!=0||t.j.length!=0)&&(Bx(t.ma,e),Bx(t.ma,t.j),t.i.i.length=0,Iv(t.j),t.j.length=0),t.h.ya()}}function o1(t,e,n){var r=n instanceof mi?Gr(n):new mi(n);if(r.g!="")e&&(r.g=e+"."+r.g),pd(r,r.m);else{var s=oe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new mi(null);r&&fd(i,r),e&&(i.g=e),s&&pd(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),wc(t,r),r}function l1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Qe(new Sh({ob:n})):new Qe(t.va),e.Oa(t.J),e}G.isActive=function(){return!!this.h&&this.h.isActive(this)};function c1(){}G=c1.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.isActive=function(){return!0};G.Va=function(){};function gd(){if(Ba&&!(10<=Number(VD)))throw Error("Environmental error: no available transport.")}gd.prototype.g=function(t,e){return new _n(t,e)};function _n(t,e){wt.call(this),this.g=new ZS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Vl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new oo(this)}xt(_n,wt);_n.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=o1(t,null,t.Y),Ch(t)};_n.prototype.close=function(){zv(this.g)};_n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Rv(t),t=n);e.j.push(new pO(e.fb++,t)),e.H==3&&Ch(e)};_n.prototype.N=function(){this.g.h=null,delete this.j,zv(this.g),delete this.g,_n.$.N.call(this)};function u1(t){Vv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(u1,Vv);function d1(){Fv.call(this),this.status=1}xt(d1,Fv);function oo(t){this.g=t}xt(oo,c1);oo.prototype.Ba=function(){Nt(this.g,"a")};oo.prototype.Aa=function(t){Nt(this.g,new u1(t))};oo.prototype.za=function(t){Nt(this.g,new d1)};oo.prototype.ya=function(){Nt(this.g,"b")};function IO(){this.blockSize=-1}function sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(sr,IO);sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Wf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],a=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(a<<12&4294967295|a>>>20),a=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(a<<17&4294967295|a>>>15),a=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(a<<14&4294967295|a>>>18),a=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(a<<11&4294967295|a>>>21),a=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(a<<16&4294967295|a>>>16),a=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(a<<10&4294967295|a>>>22),a=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(a<<15&4294967295|a>>>17),a=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}sr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Wf(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Wf(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Wf(this,r),s=0;break}}this.h=s,this.i+=e};sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ie(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var NO={};function qv(t){return-128<=t&&128>t?OD(t,function(e){return new Ie([e|0],0>e?-1:0)}):new Ie([t|0],0>t?-1:0)}function fr(t){if(isNaN(t)||!isFinite(t))return Ta;if(0>t)return Tt(fr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dm;return new Ie(e,0)}function h1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Tt(h1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fr(Math.pow(e,8)),r=Ta,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+i),e);8>i?(i=fr(Math.pow(e,i)),r=r.R(i).add(fr(a))):(r=r.R(n),r=r.add(fr(a)))}return r}var Dm=4294967296,Ta=qv(0),Om=qv(1),Zx=qv(16777216);G=Ie.prototype;G.ea=function(){if(Ln(this))return-Tt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dm+r)*e,e*=Dm}return t};G.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Vr(this))return"0";if(Ln(this))return"-"+Tt(this).toString(t);for(var e=fr(Math.pow(t,6)),n=this,r="";;){var s=yd(n,e).g;n=vd(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Vr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Vr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ln(t){return t.h==-1}G.X=function(t){return t=vd(this,t),Ln(t)?-1:Vr(t)?0:1};function Tt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(Om)}G.abs=function(){return Ln(this)?Tt(this):this};G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),a=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,n[s]=a<<16|i}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function vd(t,e){return t.add(Tt(e))}G.R=function(t){if(Vr(this)||Vr(t))return Ta;if(Ln(this))return Ln(t)?Tt(this).R(Tt(t)):Tt(Tt(this).R(t));if(Ln(t))return Tt(this.R(Tt(t)));if(0>this.X(Zx)&&0>t.X(Zx))return fr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,a=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=a*c,eu(n,2*r+2*s),n[2*r+2*s+1]+=i*c,eu(n,2*r+2*s+1),n[2*r+2*s+1]+=a*l,eu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,eu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)};function eu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Co(t,e){this.g=t,this.h=e}function yd(t,e){if(Vr(e))throw Error("division by zero");if(Vr(t))return new Co(Ta,Ta);if(Ln(t))return e=yd(Tt(t),e),new Co(Tt(e.g),Tt(e.h));if(Ln(e))return e=yd(t,Tt(e)),new Co(Tt(e.g),e.h);if(30<t.g.length){if(Ln(t)||Ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Om,r=e;0>=r.X(t);)n=e0(n),r=e0(r);var s=Xi(n,1),i=Xi(r,1);for(r=Xi(r,2),n=Xi(n,2);!Vr(r);){var a=i.add(r);0>=a.X(t)&&(s=s.add(n),i=a),r=Xi(r,1),n=Xi(n,1)}return e=vd(t,s.R(e)),new Co(s,e)}for(s=Ta;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=fr(n),a=i.R(e);Ln(a)||0<a.X(t);)n-=r,i=fr(n),a=i.R(e);Vr(i)&&(i=Om),s=s.add(i),t=vd(t,a)}return new Co(s,t)}G.gb=function(t){return yd(this,t).h};G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)};G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)};G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)};function e0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function Xi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ie(s,t.h)}gd.prototype.createWebChannel=gd.prototype.g;_n.prototype.send=_n.prototype.u;_n.prototype.open=_n.prototype.m;_n.prototype.close=_n.prototype.close;bh.NO_ERROR=0;bh.TIMEOUT=8;bh.HTTP_ERROR=6;CS.COMPLETE="complete";AS.EventType=mc;mc.OPEN="a";mc.CLOSE="b";mc.ERROR="c";mc.MESSAGE="d";wt.prototype.listen=wt.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;sr.prototype.digest=sr.prototype.l;sr.prototype.reset=sr.prototype.reset;sr.prototype.update=sr.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=fr;Ie.fromString=h1;var jO=function(){return new gd},CO=function(){return xh()},qf=bh,AO=CS,PO=zi,t0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tu=AS,kO=Qe,RO=sr,Sa=Ie;const n0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new hh("@firebase/firestore");function Ao(){return Ii.logLevel}function q(t,...e){if(Ii.logLevel<=ge.DEBUG){const n=e.map(Gv);Ii.debug(`Firestore (${lo}): ${t}`,...n)}}function Sr(t,...e){if(Ii.logLevel<=ge.ERROR){const n=e.map(Gv);Ii.error(`Firestore (${lo}): ${t}`,...n)}}function za(t,...e){if(Ii.logLevel<=ge.WARN){const n=e.map(Gv);Ii.warn(`Firestore (${lo}): ${t}`,...n)}}function Gv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+t;throw Sr(e),new Error(e)}function ke(t,e){t||ae()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class OO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LO{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new f1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Dt(e)}}class MO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $O{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new FO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=UO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Ha(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new ut(0,0))}static max(){return new le(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends ql{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const BO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends ql{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return BO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Y(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Y(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Oe.fromString(e))}static fromName(e){return new ee(Oe.fromString(e).popFirst(5))}static empty(){return new ee(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Oe(e.slice()))}}function zO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new Os(s,ee.empty(),e)}function HO(t){return new Os(t.readTime,t.key,-1)}class Os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Os(le.min(),ee.empty(),-1)}static max(){return new Os(le.max(),ee.empty(),-1)}}function WO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==qO)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new yr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ol(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Yv(r.target.error);this.V.reject(new ol(e,s))}}static open(e,n,r,s){try{return new Kv(n,e.transaction(s,r))}catch(i){throw new ol(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new YO(n)}}class li{constructor(e,n,r){this.name=e,this.version=n,this.p=r,li.S(at())===12.2&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return q("SimpleDb","Removing database:",e),ti(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ev())return!1;if(li.C())return!0;const e=at(),n=li.S(e),r=0<n&&n<10,s=li.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new ol(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new Y(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Y(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new ol(e,a))},s.onupgradeneeded=i=>{q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.p.N(a,s.transaction,i.oldVersion,this.version).next(()=>{q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const l=Kv.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),$.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&a<3;if(q("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class KO{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ti(this.k.delete())}}class ol extends Y{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function bc(t){return t.name==="IndexedDbTransactionError"}class YO{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ti(r)}add(e){return q("SimpleDb","ADD",this.store.name,e,e),ti(this.store.add(e))}get(e){return ti(this.store.get(e)).next(n=>(n===void 0&&(n=null),q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return q("SimpleDb","DELETE",this.store.name,e),ti(this.store.delete(e))}count(){return q("SimpleDb","COUNT",this.store.name),ti(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new $((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}})}{const i=this.cursor(r),a=[];return this.G(i,(l,c)=>{a.push(c)}).next(()=>a)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}H(e,n){q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,a,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new $((r,s)=>{n.onerror=i=>{const a=Yv(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():r()}):r()}})}G(e,n){const r=[];return new $((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void s();const c=new KO(l),u=n(l.primaryKey,l.value,c);if(u instanceof $){const d=u.catch(h=>(c.done(),$.reject(h)));r.push(d)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ti(t){return new $((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Yv(r.target.error);n(s)}})}let r0=!1;function Yv(t){const e=li.S(at());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return r0||(r0=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Qv._e=-1;function Ah(t){return t==null}function wd(t){return t===0&&1/t==-1/0}function QO(t){return typeof t=="number"&&Number.isInteger(t)&&!wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}}class nu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Et.RED,this.left=s??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Et(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i0(this.data.getIterator())}getIteratorFrom(e){return new i0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class i0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new gn([])}unionWith(e){let n=new jt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new g1("Invalid base64 string: "+i):i}}(e);return new $t(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const XO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(ke(!!t),typeof t=="string"){let e=0;const n=XO.exec(t);if(ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jv(t){const e=t.mapValue.fields.__previous_value__;return Xv(e)?Jv(e):e}function Gl(t){const e=Ls(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,r,s,i,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Kl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xv(t)?4:ZO(t)?9007199254740991:10:ae()}function Ir(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gl(t).isEqual(Gl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ls(s.timestampValue),l=Ls(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ni(s.bytesValue).isEqual(Ni(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=tt(s.doubleValue),l=tt(i.doubleValue);return a===l?wd(a)===wd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(s0(a)!==s0(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ir(a[c],l[c])))return!1;return!0}(t,e);default:return ae()}}function Yl(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=tt(i.integerValue||i.doubleValue),c=tt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return a0(t.timestampValue,e.timestampValue);case 4:return a0(Gl(t),Gl(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ni(i),c=Ni(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Te(l[u],c[u]);if(d!==0)return d}return Te(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Te(tt(i.latitude),tt(a.latitude));return l!==0?l:Te(tt(i.longitude),tt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],c=a.values||[];for(let u=0;u<l.length&&u<c.length;++u){const d=Wa(l[u],c[u]);if(d)return d}return Te(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===ru.mapValue&&a===ru.mapValue)return 0;if(i===ru.mapValue)return 1;if(a===ru.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=Te(c[h],d[h]);if(f!==0)return f;const p=Wa(l[c[h]],u[d[h]]);if(p!==0)return p}return Te(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function a0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Ls(t),r=Ls(e),s=Te(n.seconds,r.seconds);return s!==0?s:Te(n.nanos,r.nanos)}function qa(t){return Lm(t)}function Lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Lm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Lm(n.fields[a])}`;return s+"}"}(t.mapValue):ae()}function o0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mm(t){return!!t&&"integerValue"in t}function Zv(t){return!!t&&"arrayValue"in t}function l0(t){return!!t&&"nullValue"in t}function c0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Su(t){return!!t&&"mapValue"in t}function ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(n)}setAll(e){let n=St.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=ll(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Su(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new nn(ll(this.value))}}function v1(t){const e=[];return Hi(t.fields,(n,r)=>{const s=new St([n]);if(Su(r)){const i=v1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Lt(e,0,le.min(),le.min(),le.min(),nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Lt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Lt(e,2,n,le.min(),le.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,le.min(),le.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.position=e,this.inclusive=n}}function u0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(a.referenceValue),n.key):r=Wa(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function d0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function eL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{}class rt extends y1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nL(e,n,r):n==="array-contains"?new iL(e,r):n==="in"?new aL(e,r):n==="not-in"?new oL(e,r):n==="array-contains-any"?new lL(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rL(e,r):new sL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends y1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ir(e,n)}matches(e){return w1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function w1(t){return t.op==="and"}function x1(t){return tL(t)&&w1(t)}function tL(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function Vm(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+qa(t.value);if(x1(t))return t.filters.map(e=>Vm(e)).join(",");{const e=t.filters.map(n=>Vm(n)).join(",");return`${t.op}(${e})`}}function b1(t,e){return t instanceof rt?function(r,s){return s instanceof rt&&r.op===s.op&&r.field.isEqual(s.field)&&Ir(r.value,s.value)}(t,e):t instanceof ir?function(r,s){return s instanceof ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&b1(a,s.filters[l]),!0):!1}(t,e):void ae()}function _1(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${qa(n.value)}`}(t):t instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(_1).join(" ,")+"}"}(t):"Filter"}class nL extends rt{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class rL extends rt{constructor(e,n){super(e,"in",n),this.keys=E1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sL extends rt{constructor(e,n){super(e,"not-in",n),this.keys=E1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function E1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class iL extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zv(n)&&Yl(n.arrayValue,this.value)}}class aL extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class oL extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yl(this.value.arrayValue,n)}}class lL extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ce=null}}function h0(t,e=null,n=[],r=[],s=null,i=null,a=null){return new cL(t,e,n,r,s,i,a)}function ey(t){const e=de(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qa(r)).join(",")),e.ce=n}return e.ce}function ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d0(t.startAt,e.startAt)&&d0(t.endAt,e.endAt)}function Fm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function uL(t,e,n,r,s,i,a,l){return new _c(t,e,n,r,s,i,a,l)}function ny(t){return new _c(t)}function f0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T1(t){return t.collectionGroup!==null}function cl(t){const e=de(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new jt(St.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new bd(i,r))}),n.has(St.keyField().canonicalString())||e.le.push(new bd(St.keyField(),r))}return e.le}function wr(t){const e=de(t);return e.he||(e.he=dL(e,cl(t))),e.he}function dL(t,e){if(t.limitType==="F")return h0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bd(s.field,i)});const n=t.endAt?new xd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xd(t.startAt.position,t.startAt.inclusive):null;return h0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $m(t,e){const n=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Um(t,e,n){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return ty(wr(t),wr(e))&&t.limitType===e.limitType}function S1(t){return`${ey(wr(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>_1(s)).join(", ")}]`),Ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>qa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>qa(s)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function kh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of cl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=u0(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,cl(r),s)||r.endAt&&!function(a,l,c){const u=u0(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,cl(r),s))}(t,e)}function hL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I1(t){return(e,n)=>{let r=!1;for(const s of cl(t)){const i=fL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function fL(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Wa(c,u):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Ke(ee.comparator);function Kr(){return pL}const N1=new Ke(ee.comparator);function Go(...t){let e=N1;for(const n of t)e=e.insert(n.key,n);return e}function j1(t){let e=N1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return ul()}function C1(){return ul()}function ul(){return new co(t=>t.toString(),(t,e)=>t.isEqual(e))}const mL=new Ke(ee.comparator),gL=new jt(ee.comparator);function pe(...t){let e=gL;for(const n of t)e=e.add(n);return e}const vL=new jt(Te);function yL(){return vL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function P1(t){return{integerValue:""+t}}function wL(t,e){return QO(e)?P1(e):A1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function xL(t,e,n){return t instanceof _d?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Xv(i)&&(i=Jv(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Ga?R1(t,e):t instanceof Ka?D1(t,e):function(s,i){const a=k1(s,i),l=p0(a)+p0(s.Ie);return Mm(a)&&Mm(s.Ie)?P1(l):A1(s.serializer,l)}(t,e)}function bL(t,e,n){return t instanceof Ga?R1(t,e):t instanceof Ka?D1(t,e):n}function k1(t,e){return t instanceof Ed?function(r){return Mm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class _d extends Rh{}class Ga extends Rh{constructor(e){super(),this.elements=e}}function R1(t,e){const n=O1(e);for(const r of t.elements)n.some(s=>Ir(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ka extends Rh{constructor(e){super(),this.elements=e}}function D1(t,e){let n=O1(e);for(const r of t.elements)n=n.filter(s=>!Ir(s,r));return{arrayValue:{values:n}}}class Ed extends Rh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function p0(t){return tt(t.integerValue||t.doubleValue)}function O1(t){return Zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.field=e,this.transform=n}}function _L(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ga&&s instanceof Ga||r instanceof Ka&&s instanceof Ka?Ha(r.elements,s.elements,Ir):r instanceof Ed&&s instanceof Ed?Ir(r.Ie,s.Ie):r instanceof _d&&s instanceof _d}(t.transform,e.transform)}class EL{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dh{}function M1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ry(t.key,Fn.none()):new Ec(t.key,t.data,Fn.none());{const n=t.data,r=nn.empty();let s=new jt(St.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new qs(t.key,r,new gn(s.toArray()),Fn.none())}}function TL(t,e,n){t instanceof Ec?function(s,i,a){const l=s.value.clone(),c=g0(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qs?function(s,i,a){if(!Iu(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=g0(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(V1(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof Ec?function(i,a,l,c){if(!Iu(i.precondition,a))return l;const u=i.value.clone(),d=v0(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qs?function(i,a,l,c){if(!Iu(i.precondition,a))return l;const u=v0(i.fieldTransforms,c,a),d=a.data;return d.setAll(V1(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,a,l){return Iu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function SL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=k1(r.transform,s||null);i!=null&&(n===null&&(n=nn.empty()),n.set(r.field,i))}return n||null}function m0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ha(r,s,(i,a)=>_L(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ec extends Dh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qs extends Dh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function V1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function g0(t,e,n){const r=new Map;ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,bL(a,l,n[s]))}return r}function v0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,xL(i,a,e))}return r}class ry extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IL extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&TL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C1();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=M1(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,r)=>m0(n,r))&&Ha(this.baseMutations,e.baseMutations,(n,r)=>m0(n,r))}}class sy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length);let s=function(){return mL}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new sy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,ye;function AL(t){switch(t){default:return ae();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function F1(t){if(t===void 0)return Sr("GRPC error has no .code"),V.UNKNOWN;switch(t){case et.OK:return V.OK;case et.CANCELLED:return V.CANCELLED;case et.UNKNOWN:return V.UNKNOWN;case et.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case et.INTERNAL:return V.INTERNAL;case et.UNAVAILABLE:return V.UNAVAILABLE;case et.UNAUTHENTICATED:return V.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case et.NOT_FOUND:return V.NOT_FOUND;case et.ALREADY_EXISTS:return V.ALREADY_EXISTS;case et.PERMISSION_DENIED:return V.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case et.ABORTED:return V.ABORTED;case et.OUT_OF_RANGE:return V.OUT_OF_RANGE;case et.UNIMPLEMENTED:return V.UNIMPLEMENTED;case et.DATA_LOSS:return V.DATA_LOSS;default:return ae()}}(ye=et||(et={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new Sa([4294967295,4294967295],0);function y0(t){const e=PL().encode(t),n=new RO;return n.update(e),new Uint8Array(n.digest())}function w0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Sa([n,r],0),new Sa([s,i],0)]}class iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ko(`Invalid padding: ${n}`);if(r<0)throw new Ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ko(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ko(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Sa.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Sa.fromNumber(r)));return s.compare(kL)===1&&(s=new Sa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=y0(e),[r,s]=w0(n);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);if(!this.Ae(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new iy(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;const n=y0(e),[r,s]=w0(n);for(let i=0;i<this.hashCount;i++){const a=this.de(r,s,i);this.Re(a)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Oh(le.min(),s,new Ke(Te),Kr(),pe())}}class Tc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class $1{constructor(e,n){this.targetId=e,this.fe=n}}class U1{constructor(e,n,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class x0{constructor(){this.ge=0,this.pe=_0(),this.ye=$t.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pe(),n=pe(),r=pe();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae()}}),new Tc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=_0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ke(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class RL{constructor(e){this.Le=e,this.ke=new Map,this.qe=Kr(),this.Qe=b0(),this.Ke=new Ke(Te)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Fm(i))if(r===0){const a=new ee(i.path);this.We(n,a,Lt.newNoDocument(a,le.min()))}else ke(r===1);else{const a=this.Ze(n);if(a!==r){const l=this.Xe(e),c=l?this.et(l,e,a):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Ni(r).toUint8Array()}catch(c){if(c instanceof g1)return za("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new iy(a,s,i)}catch(c){return za(c instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,a)=>{const l=this.Ye(a);if(l){if(i.current&&Fm(l.target)){const c=new ee(l.target.path);this.qe.get(c)!==null||this.st(a,c)||this.We(a,c,Lt.newNoDocument(c,e))}i.De&&(n.set(a,i.ve()),i.Fe())}});let r=pe();this.Qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,a)=>a.setReadTime(e));const s=new Oh(e,n,this.Ke,this.qe,r);return this.qe=Kr(),this.Qe=b0(),this.Ke=new Ke(Te),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new x0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new jt(Te),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new x0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function b0(){return new Ke(ee.comparator)}function _0(){return new Ke(ee.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},OL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LL={and:"AND",or:"OR"};class ML{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(t,e){return t.useProto3Json||Ah(e)?e:{value:e}}function Td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VL(t,e){return Td(t,e.toTimestamp())}function xr(t){return ke(!!t),le.fromTimestamp(function(n){const r=Ls(n);return new ut(r.seconds,r.nanos)}(t))}function ay(t,e){return zm(t,e).canonicalString()}function zm(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function z1(t){const e=Oe.fromString(t);return ke(K1(e)),e}function Hm(t,e){return ay(t.databaseId,e.path)}function Gf(t,e){const n=z1(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(W1(n))}function H1(t,e){return ay(t.databaseId,e)}function FL(t){const e=z1(t);return e.length===4?Oe.emptyPath():W1(e)}function Wm(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W1(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function E0(t,e,n){return{name:Hm(t,e),fields:n.value.mapValue.fields}}function $L(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(ke(d===void 0||typeof d=="string"),$t.fromBase64String(d||"")):(ke(d===void 0||d instanceof Uint8Array),$t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?V.UNKNOWN:F1(u.code);return new Y(d,u.message||"")}(a);n=new U1(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gf(t,r.document.name),i=xr(r.document.updateTime),a=r.document.createTime?xr(r.document.createTime):le.min(),l=new nn({mapValue:{fields:r.document.fields}}),c=Lt.newFoundDocument(s,i,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Nu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gf(t,r.document),i=r.readTime?xr(r.readTime):le.min(),a=Lt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Nu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gf(t,r.document),i=r.removedTargetIds||[];n=new Nu([],i,s,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new CL(s,i),l=r.targetId;n=new $1(l,a)}}return n}function UL(t,e){let n;if(e instanceof Ec)n={update:E0(t,e.key,e.value)};else if(e instanceof ry)n={delete:Hm(t,e.key)};else if(e instanceof qs)n={update:E0(t,e.key,e.data),updateMask:QL(e.fieldMask)};else{if(!(e instanceof IL))return ae();n={verify:Hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof _d)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ga)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ka)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ed)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:VL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function BL(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?xr(s.updateTime):xr(i);return a.isEqual(le.min())&&(a=xr(i)),new EL(a,s.transformResults||[])}(n,e))):[]}function zL(t,e){return{documents:[H1(t,e.path)]}}function HL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=H1(t,s);const i=function(u){if(u.length!==0)return G1(ir.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:ta(f.field),direction:GL(f.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Bm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:s}}function WL(t){let e=FL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=q1(h);return f instanceof ir&&x1(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(f=>function(g){return new bd(na(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Ah(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new xd(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new xd(p,f)}(n.endAt)),uL(e,s,a,i,l,"F",c,u)}function qL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=na(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=na(n.unaryFilter.field);return rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=na(n.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=na(n.unaryFilter.field);return rt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(na(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>q1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function GL(t){return DL[t]}function KL(t){return OL[t]}function YL(t){return LL[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return St.fromServerFormat(t.fieldPath)}function G1(t){return t instanceof rt?function(n){if(n.op==="=="){if(c0(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(l0(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c0(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(l0(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:KL(n.op),value:n.value}}}(t):t instanceof ir?function(n){const r=n.getFilters().map(s=>G1(s));return r.length===1?r[0]:{compositeFilter:{op:YL(n.op),filters:r}}}(t):ae()}function QL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function K1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r,s,i=le.min(),a=le.min(),l=$t.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.ct=e}}function JL(t){const e=WL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this._n=new eM}addToCollectionParentIndex(e,n){return this._n.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Os.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class eM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new jt(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new jt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ya(0)}static Bn(){return new Ya(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.changes=new co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&dl(r.mutation,s,gn.empty(),ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Go();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Kr();const a=ul(),l=function(){return ul()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof qs)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),dl(d.mutation,u,d.mutation.getFieldMask(),ut.now())):a.set(u.key,gn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new nM(d,(h=a.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ul();let s=new Ke((a,l)=>a-l),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||gn.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||pe()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=C1();d.forEach(f=>{if(!i.has(f)){const p=M1(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(ci());let l=-1,c=i;return a.next(u=>$.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,pe())).next(d=>({batchId:l,changes:j1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=Go();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Go();return this.indexManager.getCollectionParents(e,i).next(l=>$.forEach(l,c=>{const u=function(h,f){return new _c(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{a=a.insert(h,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Lt.newInvalidDocument(d)))});let l=Go();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&dl(d.mutation,u,gn.empty(),ut.now()),kh(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return $.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:JL(s.bundledQuery),readTime:xr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.overlays=new Ke(ee.comparator),this.hr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=ci(),i=n.length+1,a=new ee(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=ci(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=ci(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return $.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new jL(n,r));let i=this.hr.get(n);i===void 0&&(i=pe(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.Pr=new jt(mt.Ir),this.Tr=new jt(mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new mt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ee(new Oe([])),r=new mt(n,e),s=new mt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],a=>{this.Ar(a),i.push(a.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ee(new Oe([])),r=new mt(n,e),s=new mt(n,e+1);let i=pe();return this.Tr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new mt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ee.comparator(e.key,n.key)||Te(e.pr,n.pr)}static Er(e,n){return Te(e.pr,n.pr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new jt(mt.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new NL(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.wr=this.wr.add(new mt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return $.resolve(a)}lookupMutationBatch(e,n){return $.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),s=new mt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],a=>{const l=this.Sr(a.pr);i.push(l)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(Te);return n.forEach(s=>{const i=new mt(s,0),a=new mt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,a],l=>{r=r.add(l.pr)})}),$.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const a=new mt(new ee(i),0);let l=new jt(Te);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.pr)),!0)},a),$.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return $.forEach(n.mutations,s=>{const i=new mt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new mt(n,0),s=this.wr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.vr=e,this.docs=function(){return new Ke(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Lt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Kr();const a=n.path,l=new ee(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||WO(HO(d),r)<=0||(s.has(d.key)||kh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae()}Fr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lM(this)}getSize(e){return $.resolve(this.size)}}class lM extends tM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.persistence=e,this.Mr=new co(n=>ey(n),ty),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oy,this.targetCount=0,this.Br=Ya.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),$.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.qn(n),$.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Qv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new cM(this),this.indexManager=new ZL,this.remoteDocumentCache=function(s){return new oM(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new XL(n),this.$r=new sM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new aM(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new dM(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return $.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class dM extends GO{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.zr=new oy,this.jr=null}static Hr(e){return new ly(e)}get Jr(){if(this.jr)return this.jr;throw ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),$.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,r=>{const s=ee.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return $.or([()=>$.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new cy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dR()?8:li.v(at())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new hM;return this.Ji(e,n,a).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Ao()<=ge.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(Ao()<=ge.DEBUG&&q("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Ao()<=ge.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):$.resolve())}ji(e,n){if(f0(n))return $.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Um(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=pe(...i);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,a,c.readTime)?this.ji(e,Um(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,s){return f0(n)||s.isEqual(le.min())?$.resolve(null):this.zi.getDocuments(e,r).next(i=>{const a=this.Zi(n,i);return this.Xi(n,a,r,s)?$.resolve(null):(Ao()<=ge.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ea(n)),this.es(e,a,n,zO(s,-1)).next(l=>l))})}Zi(e,n){let r=new jt(I1(e));return n.forEach((s,i)=>{kh(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Ao()<=ge.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ea(n)),this.zi.getDocumentsMatchingQuery(e,n,Os.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Ke(Te),this.rs=new co(i=>ey(i),ty),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function mM(t,e,n,r){return new pM(t,e,n,r)}async function Y1(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=pe();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:a,addedBatchIds:l}))})})}function gM(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let p=$.resolve();return f.forEach(g=>{p=p.next(()=>d.getEntry(c,g)).next(x=>{const y=u.docVersions.get(g);ke(y!==null),x.version.compareTo(y)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=pe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Q1(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function vM(t,e){const n=de(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken($t.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(x,y,m){return x.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,d)&&l.push(n.Qr.updateTargetData(i,p))});let c=Kr(),u=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(yM(i,a,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(le.min())){const d=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return $.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.ns=s,i))}function yM(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Kr();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:a,ls:s}})}function wM(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xM(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Qr.allocateTargetId(r).next(a=>(s=new ms(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function qm(t,e,n){const r=de(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!bc(a))throw a;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function T0(t,e,n){const r=de(t);let s=le.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=de(c),f=h.rs.get(d);return f!==void 0?$.resolve(h.ns.get(f)):h.Qr.getTargetData(u,d)}(r,a,wr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?s:le.min(),n?i:pe())).next(l=>(bM(r,hL(e),l),{documents:l,hs:i})))}function bM(t,e,n){let r=t.ss.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class S0{constructor(){this.activeTargetIds=yL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _M{constructor(){this.no=new S0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new S0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su=null;function Kf(){return su===null?su=function(){return 268435456+Math.round(2147483648*Math.random())}():su++,"0x"+su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class IM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,a){const l=Kf(),c=this.bo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,a),this.Co(n,c,u,s).then(d=>(q("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw za("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}vo(n,r,s,i,a,l){return this.So(n,r,s,i,a)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}bo(n,r){const s=TM[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Kf();return new Promise((a,l)=>{const c=new kO;c.setWithCredentials(!0),c.listenOnce(AO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qf.NO_ERROR:const d=c.getResponseJson();q(kt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case qf.TIMEOUT:q(kt,`RPC '${e}' ${i} timed out`),l(new Y(V.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const h=c.getStatus();if(q(kt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(m)>=0?m:V.UNKNOWN}(p.status);l(new Y(g,p.message))}else l(new Y(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Y(V.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{q(kt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);q(kt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=Kf(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jO(),l=CO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");q(kt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=a.createWebChannel(d,c);let f=!1,p=!1;const g=new SM({lo:y=>{p?q(kt,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(f||(q(kt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),q(kt,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},ho:()=>h.close()}),x=(y,m,v)=>{y.listen(m,w=>{try{v(w)}catch(b){setTimeout(()=>{throw b},0)}})};return x(h,tu.EventType.OPEN,()=>{p||q(kt,`RPC '${e}' stream ${s} transport opened.`)}),x(h,tu.EventType.CLOSE,()=>{p||(p=!0,q(kt,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),x(h,tu.EventType.ERROR,y=>{p||(p=!0,za(kt,`RPC '${e}' stream ${s} transport errored:`,y),g.Vo(new Y(V.UNAVAILABLE,"The operation could not be completed")))}),x(h,tu.EventType.MESSAGE,y=>{var m;if(!p){const v=y.data[0];ke(!!v);const w=v,b=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(b){q(kt,`RPC '${e}' stream ${s} received error:`,b);const I=b.status;let _=function(T){const S=et[T];if(S!==void 0)return F1(S)}(I),j=b.message;_===void 0&&(_=V.INTERNAL,j="Unknown error status: "+I+" with message "+b.message),p=!0,g.Vo(new Y(_,j)),h.close()}else q(kt,`RPC '${e}' stream ${s} received:`,v),g.mo(v)}}),x(l,PO.STAT_EVENT,y=>{y.stat===t0.PROXY?q(kt,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===t0.NOPROXY&&q(kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){return new ML(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,s,i,a,l,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new X1(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new Y(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NM extends J1{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=$L(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?le.min():a.readTime?xr(a.readTime):le.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Wm(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Fm(c)?{documents:zL(i,c)}:{query:HL(i,c).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=B1(i,a.resumeToken);const u=Bm(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(le.min())>0){l.readTime=Td(i,a.snapshotVersion.toTimestamp());const u=Bm(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=qL(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.t_(n)}}class jM extends J1{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=BL(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.T_(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Wm(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UL(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.So(e,zm(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(V.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,zm(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(V.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class AM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Sr(n),this.g_=!1):q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(a=>{r.enqueueAndForget(async()=>{Wi(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=de(c);u.v_.add(4),await Sc(u),u.x_.set("Unknown"),u.v_.delete(4),await Mh(u)}(this))})}),this.x_=new AM(r,s)}}async function Mh(t){if(Wi(t))for(const e of t.F_)await e(!0)}async function Sc(t){for(const e of t.F_)await e(!1)}function Z1(t,e){const n=de(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),hy(n)?dy(n):uo(n).Jo()&&uy(n,e))}function eI(t,e){const n=de(t),r=uo(n);n.C_.delete(e),r.Jo()&&tI(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Wi(n)&&n.x_.set("Unknown"))}function uy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(t).c_(e)}function tI(t,e){t.O_.Oe(e),uo(t).l_(e)}function dy(t){t.O_=new RL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),uo(t).start(),t.x_.p_()}function hy(t){return Wi(t)&&!uo(t).Ho()&&t.C_.size>0}function Wi(t){return de(t).v_.size===0}function nI(t){t.O_=void 0}async function kM(t){t.C_.forEach((e,n)=>{uy(t,e)})}async function RM(t,e){nI(t),hy(t)?(t.x_.S_(e),dy(t)):t.x_.set("Unknown")}async function DM(t,e,n){if(t.x_.set("Online"),e instanceof U1&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sd(t,r)}else if(e instanceof Nu?t.O_.$e(e):e instanceof $1?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(le.min()))try{const r=await Q1(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.O_.it(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.C_.get(u);d&&i.C_.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.C_.get(c);if(!d)return;i.C_.set(c,d.withResumeToken($t.EMPTY_BYTE_STRING,d.snapshotVersion)),tI(i,c);const h=new ms(d.target,c,u,d.sequenceNumber);uy(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Sd(t,r)}}async function Sd(t,e,n){if(!bc(e))throw e;t.v_.add(1),await Sc(t),t.x_.set("Offline"),n||(n=()=>Q1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Mh(t)})}function rI(t,e){return e().catch(n=>Sd(t,n,e))}async function Vh(t){const e=de(t),n=Ms(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;OM(e);)try{const s=await wM(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,LM(e,s)}catch(s){await Sd(e,s)}sI(e)&&iI(e)}function OM(t){return Wi(t)&&t.D_.length<10}function LM(t,e){t.D_.push(e);const n=Ms(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function sI(t){return Wi(t)&&!Ms(t).Ho()&&t.D_.length>0}function iI(t){Ms(t).start()}async function MM(t){Ms(t).d_()}async function VM(t){const e=Ms(t);for(const n of t.D_)e.I_(n.mutations)}async function FM(t,e,n){const r=t.D_.shift(),s=sy.from(r,e,n);await rI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Vh(t)}async function $M(t,e){e&&Ms(t).P_&&await async function(r,s){if(function(a){return AL(a)&&a!==V.ABORTED}(s.code)){const i=r.D_.shift();Ms(r).Zo(),await rI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Vh(r)}}(t,e),sI(t)&&iI(t)}async function N0(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Wi(n);n.v_.add(3),await Sc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Mh(n)}async function UM(t,e){const n=de(t);e?(n.v_.delete(2),await Mh(n)):e||(n.v_.add(2),await Sc(n),n.x_.set("Unknown"))}function uo(t){return t.N_||(t.N_=function(n,r,s){const i=de(n);return i.R_(),new NM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:kM.bind(null,t),To:RM.bind(null,t),u_:DM.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),hy(t)?dy(t):t.x_.set("Unknown")):(await t.N_.stop(),nI(t))})),t.N_}function Ms(t){return t.B_||(t.B_=function(n,r,s){const i=de(n);return i.R_(),new jM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:MM.bind(null,t),To:$M.bind(null,t),E_:VM.bind(null,t),T_:FM.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Vh(t)):(await t.B_.stop(),t.D_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new fy(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),bc(t))return new Y(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Go(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Ia(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.L_=new Ke(ee.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ae():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qa{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Qa(e,n,Ia.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.q_=void 0,this.Q_=[]}}class zM{constructor(){this.queries=new co(e=>S1(e),Ph),this.onlineState="Unknown",this.K_=new Set}}async function aI(t,e){const n=de(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new BM),s)try{i.q_=await n.onListen(r)}catch(a){const l=py(a,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&my(n)}async function oI(t,e){const n=de(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const a=i.Q_.indexOf(e);a>=0&&(i.Q_.splice(a,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function HM(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Q_)l.W_(s)&&(r=!0);a.q_=s}}r&&my(n)}function WM(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function my(t){t.K_.forEach(e=>{e.next()})}class lI{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.key=e}}class uI{constructor(e){this.key=e}}class qM{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=pe(),this.mutatedKeys=pe(),this.ua=I1(e),this.ca=new Ia(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new j0,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=kh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?g!==x&&(r.track({type:3,doc:p}),y=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),y=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(c||u)&&(l=!0)),y&&(p?(a=a.add(p),i=x?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ca:a,Pa:r,Xi:l,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.k_();a.sort((d,h)=>function(p,g){const x=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return x(p)-x(g)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(r),s=s!=null&&s;const l=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,u=c!==this._a;return this._a=c,a.length!==0||u?{snapshot:new Qa(this.query,e.ca,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new j0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=pe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new uI(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new cI(r))}),n}Ra(e){this.oa=e.hs,this.aa=pe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Qa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class GM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KM{constructor(e){this.key=e,this.ma=!1}}class YM{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new co(l=>S1(l),Ph),this.pa=new Map,this.ya=new Set,this.wa=new Ke(ee.comparator),this.Sa=new Map,this.ba=new oy,this.Da={},this.Ca=new Map,this.va=Ya.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function QM(t,e){const n=aV(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const a=await xM(n.localStore,wr(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,s=await XM(n,e,r,l==="current",a.resumeToken),n.isPrimaryClient&&Z1(n.remoteStore,a)}return s}async function XM(t,e,n,r,s){t.Ma=(h,f,p)=>async function(x,y,m,v){let w=y.view.ha(m);w.Xi&&(w=await T0(x.localStore,y.query,!1).then(({documents:j})=>y.view.ha(j,w)));const b=v&&v.targetChanges.get(y.targetId),I=v&&v.targetMismatches.get(y.targetId)!=null,_=y.view.applyChanges(w,x.isPrimaryClient,b,I);return A0(x,y.targetId,_.da),_.snapshot}(t,h,f,p);const i=await T0(t.localStore,e,!0),a=new qM(e,i.hs),l=a.ha(i.documents),c=Tc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);A0(t,n,u.da);const d=new GM(e,n,a);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function JM(t,e){const n=de(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!Ph(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),eI(n.remoteStore,r.targetId),Gm(n,r.targetId)}).catch(xc)):(Gm(n,r.targetId),await qm(n.localStore,r.targetId,!0))}async function ZM(t,e,n){const r=oV(t);try{const s=await function(a,l){const c=de(a),u=ut.now(),d=l.reduce((p,g)=>p.add(g.key),pe());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Kr(),x=pe();return c.os.getEntries(p,d).next(y=>{g=y,g.forEach((m,v)=>{v.isValidDocument()||(x=x.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(y=>{h=y;const m=[];for(const v of l){const w=SL(v,h.get(v.key).overlayedDocument);w!=null&&m.push(new qs(v.key,w,v1(w.value.mapValue),Fn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,m,l)}).next(y=>{f=y;const m=y.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(p,y.batchId,m)})}).then(()=>({batchId:f.batchId,changes:j1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Da[a.currentUser.toKey()];u||(u=new Ke(Te)),u=u.insert(l,c),a.Da[a.currentUser.toKey()]=u}(r,s.batchId,n),await Ic(r,s.changes),await Vh(r.remoteStore)}catch(s){const i=py(s,"Failed to persist write");n.reject(i)}}async function dI(t,e){const n=de(t);try{const r=await vM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Sa.get(i);a&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.ma=!0:s.modifiedDocuments.size>0?ke(a.ma):s.removedDocuments.size>0&&(ke(a.ma),a.ma=!1))}),await Ic(n,r,e)}catch(r){await xc(r)}}function C0(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,a)=>{const l=a.view.U_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=de(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Q_)f.U_(l)&&(u=!0)}),u&&my(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eV(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let a=new Ke(ee.comparator);a=a.insert(i,Lt.newNoDocument(i,le.min()));const l=pe().add(i),c=new Oh(le.min(),new Map,new Ke(Te),a,l);await dI(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),gy(r)}else await qm(r.localStore,e,!1).then(()=>Gm(r,e,n)).catch(xc)}async function tV(t,e){const n=de(t),r=e.batch.batchId;try{const s=await gM(n.localStore,e);fI(n,r,null),hI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ic(n,s)}catch(s){await xc(s)}}async function nV(t,e,n){const r=de(t);try{const s=await function(a,l){const c=de(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(ke(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);fI(r,e,n),hI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ic(r,s)}catch(s){await xc(s)}}function hI(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function fI(t,e,n){const r=de(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function Gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||pI(t,r)})}function pI(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(eI(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),gy(t))}function A0(t,e,n){for(const r of n)r instanceof cI?(t.ba.addReference(r.key,e),rV(t,r)):r instanceof uI?(q("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||pI(t,r.key)):ae()}function rV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(q("SyncEngine","New document in limbo: "+n),t.ya.add(r),gy(t))}function gy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ee(Oe.fromString(e)),r=t.va.next();t.Sa.set(r,new KM(n)),t.wa=t.wa.insert(n,r),Z1(t.remoteStore,new ms(wr(ny(n.path)),r,"TargetPurposeLimboResolution",Qv._e))}}async function Ic(t,e,n){const r=de(t),s=[],i=[],a=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{a.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=cy.Ki(c.targetId,u);i.push(d)}}))}),await Promise.all(a),r.fa.u_(s),await async function(c,u){const d=de(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,f=>$.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>$.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!bc(h))throw h;q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),g=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(g);d.ns=d.ns.insert(f,x)}}}(r.localStore,i))}async function sV(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await Y1(n.localStore,e);n.currentUser=e,function(i,a){i.Ca.forEach(l=>{l.forEach(c=>{c.reject(new Y(V.CANCELLED,a))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ic(n,r.us)}}function iV(t,e){const n=de(t),r=n.Sa.get(e);if(r&&r.ma)return pe().add(r.key);{let s=pe();const i=n.pa.get(e);if(!i)return s;for(const a of i){const l=n.ga.get(a);s=s.unionWith(l.view.la)}return s}}function aV(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eV.bind(null,e),e.fa.u_=HM.bind(null,e.eventManager),e.fa.xa=WM.bind(null,e.eventManager),e}function oV(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nV.bind(null,e),e}class P0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mM(this.persistence,new fM,e.initialUser,this.serializer)}createPersistence(e){return new uM(ly.Hr,this.serializer)}createSharedClientState(e){return new _M}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sV.bind(null,this.syncEngine),await UM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zM}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),r=function(i){return new IM(i)}(e.databaseInfo);return function(i,a,l,c){return new CM(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new PM(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>C0(this.syncEngine,n,0),function(){return I0.D()?new I0:new EM}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,d){const h=new YM(s,i,a,l,c,u);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=de(r);q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Sc(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=p1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=py(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qf(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Y1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function k0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dV(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>N0(e.remoteStore,s)),t._onlineComponents=e}function uV(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uV(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Qf(t,new P0)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Qf(t,new P0);return t._offlineComponents}async function gI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await k0(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await k0(t,new lV))),t._onlineComponents}function hV(t){return gI(t).then(e=>e.syncEngine)}async function vI(t){const e=await gI(t),n=e.eventManager;return n.onListen=QM.bind(null,e.syncEngine),n.onUnlisten=JM.bind(null,e.syncEngine),n}function fV(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new mI({next:f=>{a.enqueueAndForget(()=>oI(i,h));const p=f.docs.has(l);!p&&f.fromCache?u.reject(new Y(V.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new Y(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new lI(ny(l.path),d,{includeMetadataChanges:!0,Z_:!0});return aI(i,h)}(await vI(t),t.asyncQueue,e,n,r)),r.promise}function pV(t,e,n={}){const r=new yr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new mI({next:f=>{a.enqueueAndForget(()=>oI(i,h)),f.fromCache&&c.source==="server"?u.reject(new Y(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new lI(l,d,{includeMetadataChanges:!0,Z_:!0});return aI(i,h)}(await vI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){if(!n)throw new Y(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mV(t,e,n,r){if(e===!0&&r===!0)throw new Y(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D0(t){if(!ee.isDocumentKey(t))throw new Y(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O0(t){if(ee.isDocumentKey(t))throw new Y(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(t);throw new Y(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DO;switch(r.type){case"firstParty":return new VO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R0.get(n);r&&(q("ComponentProvider","Removing Datastore"),R0.delete(n),r.terminate())}(this),Promise.resolve()}}function gV(t,e,n,r={}){var s;const i=(t=ar(t,$h))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Dt.MOCK_USER;else{l=tS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Y(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Dt(u)}t._authCredentials=new OO(new f1(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}}class As extends ho{constructor(e,n,r){super(e,n,ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ee(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Ne(t,e,...n){if(t=He(t),wI("collection","path",e),t instanceof $h){const r=Oe.fromString(e,...n);return O0(r),new As(t,null,r)}{if(!(t instanceof Gt||t instanceof As))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return O0(r),new As(t.firestore,null,r)}}function dt(t,e,...n){if(t=He(t),arguments.length===1&&(e=p1.newId()),wI("doc","path",e),t instanceof $h){const r=Oe.fromString(e,...n);return D0(r),new Gt(t,null,new ee(r))}{if(!(t instanceof Gt||t instanceof As))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return D0(r),new Gt(t.firestore,t instanceof As?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new X1(this,"async_queue_retry"),this._u=()=>{const n=Yf();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Yf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new yr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!bc(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Sr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=fy.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&ae()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class qi extends $h{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new vV}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xI(this),this._firestoreClient.terminate()}}function yV(t,e){const n=typeof t=="object"?t:fh(),r=typeof t=="string"?t:e||"(default)",s=zs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=JT("firestore");i&&gV(s,...i)}return s}function vy(t){return t._firestoreClient||xI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xI(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new JO(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new cV(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa($t.fromBase64String(e))}catch(n){throw new Y(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xa($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=/^__.*__$/;class xV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ec(e,this.data,n,this.fieldTransforms)}}class bI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _I(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Bh{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.mu(e),s}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.Eu(),s}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Id(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(_I(this.du)&&wV.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class bV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}Su(e,n,r,s=!1){return new Bh({du:e,methodName:n,wu:r,path:St.emptyPath(),Vu:!1,yu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zh(t){const e=t._freezeSettings(),n=Lh(t._databaseId);return new bV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EI(t,e,n,r,s,i={}){const a=t.Su(i.merge||i.mergeFields?2:0,e,n,s);by("Data must be an object, but it was:",a,r);const l=SI(r,a);let c,u;if(i.merge)c=new gn(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=Km(e,h,n);if(!a.contains(f))throw new Y(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);NI(d,f)||d.push(f)}c=new gn(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new xV(new nn(l),c,u)}class Hh extends Nc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function TI(t,e,n){return new Bh({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wy extends Nc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=TI(this,e,!0),r=this.bu.map(i=>Gi(i,n)),s=new Ga(r);return new L1(e.path,s)}isEqual(e){return e instanceof wy&&Ti(this.bu,e.bu)}}class xy extends Nc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=TI(this,e,!0),r=this.bu.map(i=>Gi(i,n)),s=new Ka(r);return new L1(e.path,s)}isEqual(e){return e instanceof xy&&Ti(this.bu,e.bu)}}function _V(t,e,n,r){const s=t.Su(1,e,n);by("Data must be an object, but it was:",s,r);const i=[],a=nn.empty();Hi(r,(c,u)=>{const d=_y(e,c,n);u=He(u);const h=s.fu(d);if(u instanceof Hh)i.push(d);else{const f=Gi(u,h);f!=null&&(i.push(d),a.set(d,f))}});const l=new gn(i);return new bI(a,l,s.fieldTransforms)}function EV(t,e,n,r,s,i){const a=t.Su(1,e,n),l=[Km(e,r,n)],c=[s];if(i.length%2!=0)throw new Y(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(Km(e,i[f])),c.push(i[f+1]);const u=[],d=nn.empty();for(let f=l.length-1;f>=0;--f)if(!NI(u,l[f])){const p=l[f];let g=c[f];g=He(g);const x=a.fu(p);if(g instanceof Hh)u.push(p);else{const y=Gi(g,x);y!=null&&(u.push(p),d.set(p,y))}}const h=new gn(u);return new bI(d,h,a.fieldTransforms)}function TV(t,e,n,r=!1){return Gi(n,t.Su(r?4:3,e))}function Gi(t,e){if(II(t=He(t)))return by("Unsupported field value:",e,t),SI(t,e);if(t instanceof Nc)return function(r,s){if(!_I(s.du))throw s.pu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.pu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Gi(l,s.gu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ut.fromDate(r);return{timestampValue:Td(s.serializer,i)}}if(r instanceof ut){const i=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(s.serializer,i)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xa)return{bytesValue:B1(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ay(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.pu(`Unsupported field value: ${Fh(r)}`)}(t,e)}function SI(t,e){const n={};return m1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,s)=>{const i=Gi(s,e.Ru(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function II(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof yy||t instanceof Xa||t instanceof Gt||t instanceof Nc)}function by(t,e,n){if(!II(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Fh(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Km(t,e,n){if((e=He(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return _y(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}const SV=new RegExp("[~\\*/\\[\\]]");function _y(t,e,n){if(e.search(SV)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uh(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Y(V.INVALID_ARGUMENT,l+t+c)}function NI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ey("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IV extends jI{data(){return super.data()}}function Ey(t,e){return typeof e=="string"?_y(t,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class jV extends Ty{}function CI(t,e,...n){let r=[];e instanceof Ty&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof Sy).length,l=i.filter(c=>c instanceof Wh).length;if(a>1||a>0&&l>0)throw new Y(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Wh extends jV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wh(e,n,r)}_apply(e){const n=this._parse(e);return PI(e._query,n),new ho(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=zh(e.firestore);return function(i,a,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){V0(h,d);const p=[];for(const g of h)p.push(M0(c,i,g));f={arrayValue:{values:p}}}else f=M0(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||V0(h,d),f=TV(l,a,h,d==="in"||d==="not-in");return rt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function AI(t,e,n){const r=e,s=Ey("where",t);return Wh._create(s,r,n)}class Sy extends Ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)PI(a,c),a=$m(a,c)}(e._query,n),new ho(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function M0(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T1(e)&&n.indexOf("/")!==-1)throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!ee.isDocumentKey(r))throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return o0(t,new ee(r))}if(n instanceof Gt)return o0(t,n._key);throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function V0(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PI(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CV{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new yy(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);ke(K1(r));const s=new Kl(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Sr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RI extends jI{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ey("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ju extends RI{data(e={}){return super.data(e)}}class AV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ju(this._firestore,this._userDataWriter,r.key,r,new Yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new ju(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Yo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new ju(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Yo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:PV(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){t=ar(t,Gt);const e=ar(t.firestore,qi);return fV(vy(e),t._key).then(n=>RV(e,t,n))}class DI extends CV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function Qt(t){t=ar(t,ho);const e=ar(t.firestore,qi),n=vy(e),r=new DI(e);return NV(t._query),pV(n,t._query).then(s=>new AV(e,r,t,s))}function kV(t,e,n){t=ar(t,Gt);const r=ar(t.firestore,qi),s=kI(t.converter,e,n);return qh(r,[EI(zh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Fn.none())])}function Ci(t,e,n,...r){t=ar(t,Gt);const s=ar(t.firestore,qi),i=zh(s);let a;return a=typeof(e=He(e))=="string"||e instanceof Uh?EV(i,"updateDoc",t._key,e,n,r):_V(i,"updateDoc",t._key,e),qh(s,[a.toMutation(t._key,Fn.exists(!0))])}function Wn(t){return qh(ar(t.firestore,qi),[new ry(t._key,Fn.none())])}function un(t,e){const n=ar(t.firestore,qi),r=dt(t),s=kI(t.converter,e);return qh(n,[EI(zh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}function qh(t,e){return function(r,s){const i=new yr;return r.asyncQueue.enqueueAndForget(async()=>ZM(await hV(r),s,i)),i.promise}(vy(t),e)}function RV(t,e,n){const r=n.docs.get(e._key),s=new DI(t);return new RI(t,s,e._key,r,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}function DV(...t){return new wy("arrayUnion",t)}function OI(...t){return new xy("arrayRemove",t)}(function(e,n=!0){(function(s){lo=s})(Bi),rr(new Bn("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new qi(new LO(r.getProvider("auth-internal")),new $O(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(u.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ln(n0,"4.4.2",e),ln(n0,"4.4.2","esm2017")})();var OV="firebase",LV="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln(OV,LV,"app");const LI="@firebase/installations",Iy="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e4,VI=`w:${Iy}`,FI="FIS_v2",MV="https://firebaseinstallations.googleapis.com/v1",VV=60*60*1e3,FV="installations",$V="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ai=new Ui(FV,$V,UV);function $I(t){return t instanceof Hn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI({projectId:t}){return`${MV}/projects/${t}/installations`}function BI(t){return{token:t.token,requestStatus:2,expiresIn:zV(t.expiresIn),creationTime:Date.now()}}async function zI(t,e){const r=(await e.json()).error;return Ai.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function HI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BV(t,{refreshToken:e}){const n=HI(t);return n.append("Authorization",HV(e)),n}async function WI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zV(t){return Number(t.replace("s","000"))}function HV(t){return`${FI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=UI(t),s=HI(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:FI,appId:t.appId,sdkVersion:VI},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await WI(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:BI(u.authToken)}}else throw await zI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^[cdef][\w-]{21}$/,Ym="";function KV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YV(t);return GV.test(n)?n:Ym}catch{return Ym}}function YV(t){return qV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Map;function KI(t,e){const n=Gh(t);YI(n,e),QV(n,e)}function YI(t,e){const n=GI.get(t);if(n)for(const r of n)r(e)}function QV(t,e){const n=XV();n&&n.postMessage({key:t,fid:e}),JV()}let ui=null;function XV(){return!ui&&"BroadcastChannel"in self&&(ui=new BroadcastChannel("[Firebase] FID Change"),ui.onmessage=t=>{YI(t.data.key,t.data.fid)}),ui}function JV(){GI.size===0&&ui&&(ui.close(),ui=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="firebase-installations-database",e2=1,Pi="firebase-installations-store";let Xf=null;function Ny(){return Xf||(Xf=aS(ZV,e2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pi)}}})),Xf}async function Nd(t,e){const n=Gh(t),s=(await Ny()).transaction(Pi,"readwrite"),i=s.objectStore(Pi),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&KI(t,e.fid),e}async function QI(t){const e=Gh(t),r=(await Ny()).transaction(Pi,"readwrite");await r.objectStore(Pi).delete(e),await r.done}async function Kh(t,e){const n=Gh(t),s=(await Ny()).transaction(Pi,"readwrite"),i=s.objectStore(Pi),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&KI(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jy(t){let e;const n=await Kh(t.appConfig,r=>{const s=t2(r),i=n2(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ym?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function t2(t){const e=t||{fid:KV(),registrationStatus:0};return XI(e)}function n2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ai.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=r2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:s2(t)}:{installationEntry:e}}async function r2(t,e){try{const n=await WV(t,e);return Nd(t.appConfig,n)}catch(n){throw $I(n)&&n.customData.serverCode===409?await QI(t.appConfig):await Nd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function s2(t){let e=await F0(t.appConfig);for(;e.registrationStatus===1;)await qI(100),e=await F0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jy(t);return r||n}return e}function F0(t){return Kh(t,e=>{if(!e)throw Ai.create("installation-not-found");return XI(e)})}function XI(t){return i2(t)?{fid:t.fid,registrationStatus:0}:t}function i2(t){return t.registrationStatus===1&&t.registrationTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2({appConfig:t,heartbeatServiceProvider:e},n){const r=o2(t,n),s=BV(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:VI,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await WI(()=>fetch(r,l));if(c.ok){const u=await c.json();return BI(u)}else throw await zI("Generate Auth Token",c)}function o2(t,{fid:e}){return`${UI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(t,e=!1){let n;const r=await Kh(t.appConfig,i=>{if(!JI(i))throw Ai.create("not-registered");const a=i.authToken;if(!e&&u2(a))return i;if(a.requestStatus===1)return n=l2(t,e),i;{if(!navigator.onLine)throw Ai.create("app-offline");const l=h2(i);return n=c2(t,l),l}});return n?await n:r.authToken}async function l2(t,e){let n=await $0(t.appConfig);for(;n.authToken.requestStatus===1;)await qI(100),n=await $0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Cy(t,e):r}function $0(t){return Kh(t,e=>{if(!JI(e))throw Ai.create("not-registered");const n=e.authToken;return f2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function c2(t,e){try{const n=await a2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Nd(t.appConfig,r),n}catch(n){if($I(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nd(t.appConfig,r)}throw n}}function JI(t){return t!==void 0&&t.registrationStatus===2}function u2(t){return t.requestStatus===2&&!d2(t)}function d2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+VV}function h2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function f2(t){return t.requestStatus===1&&t.requestTime+MI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(t){const e=t,{installationEntry:n,registrationPromise:r}=await jy(e);return r?r.catch(console.error):Cy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(t,e=!1){const n=t;return await g2(n),(await Cy(n,e)).token}async function g2(t){const{registrationPromise:e}=await jy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){if(!t||!t.options)throw Jf("App Configuration");if(!t.name)throw Jf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jf(t){return Ai.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="installations",y2="installations-internal",w2=t=>{const e=t.getProvider("app").getImmediate(),n=v2(e),r=zs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},x2=t=>{const e=t.getProvider("app").getImmediate(),n=zs(e,ZI).getImmediate();return{getId:()=>p2(n),getToken:s=>m2(n,s)}};function b2(){rr(new Bn(ZI,w2,"PUBLIC")),rr(new Bn(y2,x2,"PRIVATE"))}b2();ln(LI,Iy);ln(LI,Iy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="analytics",_2="firebase_id",E2="origin",T2=60*1e3,S2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ay="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new hh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new Ui("analytics","Analytics",I2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){if(!t.startsWith(Ay)){const e=xn.create("invalid-gtag-resource",{gtagURL:t});return cn.warn(e.message),""}return t}function eN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function j2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function C2(t,e){const n=j2("firebase-js-sdk-policy",{createScriptURL:N2}),r=document.createElement("script"),s=`${Ay}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function A2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function P2(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await eN(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(l){cn.error(l)}t("config",s,i)}async function k2(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await eN(n);for(const c of a){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){cn.error(i)}}function R2(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await k2(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await P2(t,e,n,r,l,c)}else if(i==="consent"){const[l]=a;t("consent","update",l)}else if(i==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){cn.error(l)}}return s}function D2(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=R2(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function O2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ay)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=30,M2=1e3;class V2{constructor(e={},n=M2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tN=new V2;function F2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $2(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:F2(r)},i=S2.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function U2(t,e=tN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw xn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw xn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new H2;return setTimeout(async()=>{l.abort()},n!==void 0?n:T2),nN({appId:r,apiKey:s,measurementId:i},a,l,e)}async function nN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=tN){var i;const{appId:a,measurementId:l}=t;try{await B2(r,e)}catch(c){if(l)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await $2(t);return s.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!z2(u)){if(s.deleteThrottleMetadata(a),l)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?Dx(n,s.intervalMillis,L2):Dx(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(a,h),cn.debug(`Calling attemptFetch again in ${d} millis`),nN(t,h,r,s)}}function B2(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function z2(t){if(!(t instanceof Hn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class H2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function W2(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a=Object.assign(Object.assign({},r),{send_to:i});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(){if(Ev())try{await rS()}catch(t){return cn.warn(xn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return cn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function G2(t,e,n,r,s,i,a){var l;const c=U2(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>cn.error(p)),e.push(c);const u=q2().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([c,u]);O2(i)||C2(i,d.measurementId),s("js",new Date);const f=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return f[E2]="firebase",f.update=!0,h!=null&&(f[_2]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.app=e}_delete(){return delete hl[this.app.options.appId],Promise.resolve()}}let hl={},U0=[];const B0={};let Zf="dataLayer",Y2="gtag",z0,rN,H0=!1;function Q2(){const t=[];if(nS()&&t.push("This is a browser extension environment."),hR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});cn.warn(n.message)}}function X2(t,e,n){Q2();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(hl[r]!=null)throw xn.create("already-exists",{id:r});if(!H0){A2(Zf);const{wrappedGtag:i,gtagCore:a}=D2(hl,U0,B0,Zf,Y2);rN=i,z0=a,H0=!0}return hl[r]=G2(t,U0,B0,e,z0,Zf,n),new K2(t)}function J2(t=fh()){t=He(t);const e=zs(t,jd);return e.isInitialized()?e.getImmediate():Z2(t)}function Z2(t,e={}){const n=zs(t,jd);if(n.isInitialized()){const s=n.getImmediate();if(Ti(e,n.getOptions()))return s;throw xn.create("already-initialized")}return n.initialize({options:e})}function eF(t,e,n,r){t=He(t),W2(rN,hl[t.app.options.appId],e,n,r).catch(s=>cn.error(s))}const W0="@firebase/analytics",q0="0.10.1";function tF(){rr(new Bn(jd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return X2(r,s,n)},"PUBLIC")),rr(new Bn("analytics-internal",t,"PRIVATE")),ln(W0,q0),ln(W0,q0,"esm2017");function t(e){try{const n=e.getProvider(jd).getImmediate();return{logEvent:(r,s,i)=>eF(n,r,s,i)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}}}tF();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebasestorage.googleapis.com",iN="storageBucket",nF=2*60*1e3,rF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Hn{constructor(e,n,r=0){super(ep(e),`Firebase Storage: ${n} (${ep(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function ep(t){return"storage/"+t}function Py(){const t="An unknown error occurred, please check the error payload for server response.";return new Je(Xe.UNKNOWN,t)}function sF(t){return new Je(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iF(t){return new Je(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(Xe.UNAUTHENTICATED,t)}function oF(){return new Je(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lF(t){return new Je(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cF(){return new Je(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uF(){return new Je(Xe.CANCELED,"User canceled the upload/download.")}function dF(t){return new Je(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function hF(t){return new Je(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fF(){return new Je(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iN+"' property when initializing the app?")}function pF(){return new Je(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mF(){return new Je(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gF(t){return new Je(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qm(t){return new Je(Xe.INVALID_ARGUMENT,t)}function aN(){return new Je(Xe.APP_DELETED,"The Firebase app was deleted.")}function vF(t){return new Je(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fl(t,e){return new Je(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Po(t){throw new Je(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw hF(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},x=n===sN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${x}/${s}/${y}`,"i"),w=[{regex:l,indices:c,postModify:i},{regex:p,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<w.length;b++){const I=w[b],_=I.regex.exec(e);if(_){const j=_[I.indices.bucket];let E=_[I.indices.path];E||(E=""),r=new vn(j,E),I.postModify(r);break}}if(r==null)throw dF(e);return r}}class yF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function h(y){s=setTimeout(()=>{s=null,t(p,c())},y)}function f(){i&&clearTimeout(i)}function p(y,...m){if(u){f();return}if(y){f(),d.call(null,y,...m);return}if(c()||a){f(),d.call(null,y,...m);return}r<64&&(r*=2);let w;l===1?(l=2,w=0):w=(r+Math.random())*1e3,h(w)}let g=!1;function x(y){g||(g=!0,f(),!u&&(s!==null?(y||(l=2),clearTimeout(s),h(0)):y||(l=1)))}return h(0),i=setTimeout(()=>{a=!0,x(!0)},n),x}function xF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){return t!==void 0}function _F(t){return typeof t=="object"&&!Array.isArray(t)}function ky(t){return typeof t=="string"||t instanceof String}function G0(t){return Ry()&&t instanceof Blob}function Ry(){return typeof Blob<"u"}function K0(t,e,n,r){if(r<e)throw Qm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function oN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gi||(gi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r,s,i,a,l,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new iu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===gi.NO_ERROR,c=i.getStatus();if(!l||EF(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===gi.ABORT;r(!1,new iu(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new iu(u,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());bF(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=Py();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?aN():uF();a(c)}else{const c=cF();a(c)}};this.canceled_?n(!1,new iu(!1,null,!0)):this.backoffId_=wF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class iu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function SF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CF(t,e,n,r,s,i,a=!0){const l=oN(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return NF(u,e),SF(u,n),IF(u,i),jF(u,r),new TF(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PF(...t){const e=AF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ry())return new Blob(t);throw new Je(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){if(typeof atob>"u")throw gF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tp{constructor(e,n){this.data=e,this.contentType=n||null}}function DF(t,e){switch(t){case pr.RAW:return new tp(lN(e));case pr.BASE64:case pr.BASE64URL:return new tp(cN(t,e));case pr.DATA_URL:return new tp(LF(e),MF(e))}throw Py()}function lN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OF(t){let e;try{e=decodeURIComponent(t)}catch{throw fl(pr.DATA_URL,"Malformed data URL.")}return lN(e)}function cN(t,e){switch(t){case pr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw fl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw fl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RF(e)}catch(s){throw s.message.includes("polyfill")?s:fl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class uN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw fl(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function LF(t){const e=new uN(t);return e.base64?cN(pr.BASE64,e.rest):OF(e.rest)}function MF(t){return new uN(t).contentType}function VF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){let r=0,s="";G0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(G0(this.data_)){const r=this.data_,s=kF(r,e,n);return s===null?null:new os(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new os(r,!0)}}static getBlob(...e){if(Ry()){const n=e.map(r=>r instanceof os?r.data_:r);return new os(PF.apply(null,n))}else{const n=e.map(a=>ky(a)?DF(pr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new os(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){let e;try{e=JSON.parse(t)}catch{return null}return _F(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $F(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function hN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t,e){return e}class zt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||UF}}let au=null;function BF(t){return!ky(t)||t.length<2?t:hN(t)}function fN(){if(au)return au;const t=[];t.push(new zt("bucket")),t.push(new zt("generation")),t.push(new zt("metageneration")),t.push(new zt("name","fullPath",!0));function e(i,a){return BF(a)}const n=new zt("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new zt("size");return s.xform=r,t.push(s),t.push(new zt("timeCreated")),t.push(new zt("updated")),t.push(new zt("md5Hash",null,!0)),t.push(new zt("cacheControl",null,!0)),t.push(new zt("contentDisposition",null,!0)),t.push(new zt("contentEncoding",null,!0)),t.push(new zt("contentLanguage",null,!0)),t.push(new zt("contentType",null,!0)),t.push(new zt("metadata","customMetadata",!0)),au=t,au}function zF(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new vn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function HF(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return zF(r,t),r}function pN(t,e,n){const r=dN(e);return r===null?null:HF(t,r,n)}function WF(t,e,n,r){const s=dN(e);if(s===null||!ky(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+a(d)+"/o/"+a(h),p=Yh(f,n,r),g=oN({alt:"media",token:u});return p+g})[0]}function qF(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Dy{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t){if(!t)throw Py()}function GF(t,e){function n(r,s){const i=pN(t,s,e);return mN(i!==null),i}return n}function KF(t,e){function n(r,s){const i=pN(t,s,e);return mN(i!==null),WF(i,s,t.host,t._protocol)}return n}function gN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=oF():s=aF():n.getStatus()===402?s=iF(t.bucket):n.getStatus()===403?s=lF(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function vN(t){const e=gN(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=sF(t.path)),i.serverResponse=s.serverResponse,i}return n}function YF(t,e,n){const r=e.fullServerUrl(),s=Yh(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new Dy(s,i,KF(t,n),a);return l.errorHandler=vN(e),l}function QF(t,e){const n=e.fullServerUrl(),r=Yh(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function a(c,u){}const l=new Dy(r,s,a,i);return l.successCodes=[200,204],l.errorHandler=vN(e),l}function XF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XF(null,e)),r}function ZF(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let w="";for(let b=0;b<2;b++)w=w+Math.random().toString().slice(2);return w}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const u=JF(e,r,s),d=qF(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=os.getBlob(h,r,f);if(p===null)throw pF();const g={name:u.fullPath},x=Yh(i,t.host,t._protocol),y="POST",m=t.maxUploadRetryTime,v=new Dy(x,y,GF(t,n),m);return v.urlParams=g,v.headers=a,v.body=p.uploadData(),v.errorHandler=gN(e),v}class e${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Po("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Po("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Po("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Po("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Po("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t$ extends e${initXhr(){this.xhr_.responseType="text"}}function Oy(){return new t$}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ki(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hN(this._location.path)}get storage(){return this._service}get parent(){const e=FF(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new ki(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vF(e)}}function n$(t,e,n){t._throwIfRoot("uploadBytes");const r=ZF(t.storage,t._location,fN(),new os(e,!0),n);return t.storage.makeRequestWithTokens(r,Oy).then(s=>({metadata:s,ref:t}))}function r$(t){t._throwIfRoot("getDownloadURL");const e=YF(t.storage,t._location,fN());return t.storage.makeRequestWithTokens(e,Oy).then(n=>{if(n===null)throw mF();return n})}function s$(t){t._throwIfRoot("deleteObject");const e=QF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Oy)}function i$(t,e){const n=$F(t._location.path,e),r=new vn(t._location.bucket,n);return new ki(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){return/^[A-Za-z]+:\/\//.test(t)}function o$(t,e){return new ki(t,e)}function yN(t,e){if(t instanceof Ly){const n=t;if(n._bucket==null)throw fF();const r=new ki(n,n._bucket);return e!=null?yN(r,e):r}else return e!==void 0?i$(t,e):t}function l$(t,e){if(e&&a$(e)){if(t instanceof Ly)return o$(t,e);throw Qm("To use ref(service, url), the first argument must be a Storage instance.")}else return yN(t,e)}function Y0(t,e){const n=e==null?void 0:e[iN];return n==null?null:vn.makeFromBucketSpec(n,t)}function c$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:tS(s,t.app.options.projectId))}class Ly{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=sN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nF,this._maxUploadRetryTime=rF,this._requests=new Set,s!=null?this._bucket=vn.makeFromBucketSpec(s,this._host):this._bucket=Y0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=Y0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ki(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new yF(aN());{const a=CF(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Q0="@firebase/storage",X0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="storage";function Ki(t,e,n){return t=He(t),n$(t,e,n)}function po(t){return t=He(t),r$(t)}function mo(t){return t=He(t),s$(t)}function ht(t,e){return t=He(t),l$(t,e)}function u$(t=fh(),e){t=He(t);const r=zs(t,wN).getImmediate({identifier:e}),s=JT("storage");return s&&d$(r,...s),r}function d$(t,e,n,r={}){c$(t,e,n,r)}function h$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ly(n,r,s,e,Bi)}function f$(){rr(new Bn(wN,h$,"PUBLIC").setMultipleInstances(!0)),ln(Q0,X0,""),ln(Q0,X0,"esm2017")}f$();function My(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function xN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p$=xN,bN=new Ui("auth","Firebase",xN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new hh("@firebase/auth");function m$(t,...e){Cd.logLevel<=ge.WARN&&Cd.warn(`Auth (${Bi}): ${t}`,...e)}function Cu(t,...e){Cd.logLevel<=ge.ERROR&&Cd.error(`Auth (${Bi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw Vy(t,...e)}function br(t,...e){return Vy(t,...e)}function _N(t,e,n){const r=Object.assign(Object.assign({},p$()),{[e]:n});return new Ui("auth","Firebase",r).create(e,{appName:t.name})}function g$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&zn(t,"argument-error"),_N(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bN.create(t,...e)}function ne(t,e,...n){if(!t)throw Vy(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function Yr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v$(){return J0()==="http:"||J0()==="https:"}function J0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v$()||nS()||"connection"in navigator)?navigator.onLine:!0}function w$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=oR()||cR()}get(){return y$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$=new jc(3e4,6e4);function Gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jr(t,e,n,r,s={}){return TN(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=dc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),EN.fetch()(SN(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function TN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x$),e);try{const s=new E$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw ou(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw ou(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _N(t,d,u);zn(t,d)}}catch(s){if(s instanceof Hn)throw s;zn(t,"network-request-failed",{message:String(s)})}}async function Qh(t,e,n,r,s={}){const i=await jr(t,e,n,r,s);return"mfaPendingCredential"in i&&zn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function SN(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Fy(t.config,s):`${t.config.apiScheme}://${s}`}function _$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),b$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=br(t,e,r);return s.customData._tokenResponse=n,s}function Z0(t){return t!==void 0&&t.enterprise!==void 0}class T${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function S$(t,e){return jr(t,"GET","/v2/recaptchaConfig",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(t,e){return jr(t,"POST","/v1/accounts:delete",e)}async function N$(t,e){return jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j$(t,e=!1){const n=He(t),r=await n.getIdToken(e),s=$y(r);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pl(np(s.auth_time)),issuedAtTime:pl(np(s.iat)),expirationTime:pl(np(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function np(t){return Number(t)*1e3}function $y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const s=QT(n);return s?JSON.parse(s):(Cu("Failed to decode base64 JWT payload"),null)}catch(s){return Cu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function C$(t){const e=$y(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&A$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ja(t,N$(n,{idToken:r}));ne(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?D$(i.providerUserInfo):[],l=R$(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new IN(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function k$(t){const e=He(t);await Ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function D$(t){return t.map(e=>{var{providerId:n}=e,r=My(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e){const n=await TN(t,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=SN(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",EN.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L$(t,e){return jr(t,"POST","/v2/accounts:revokeToken",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await O$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Ql;return r&&(ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(ne(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ne(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=My(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new IN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j$(this,e)}reload(){return k$(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ad(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ja(this,I$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:b,isAnonymous:I,providerData:_,stsTokenManager:j}=n;ne(w&&j,e,"internal-error");const E=Ql.fromJSON(this.name,j);ne(typeof w=="string",e,"internal-error"),ts(h,e.name),ts(f,e.name),ne(typeof b=="boolean",e,"internal-error"),ne(typeof I=="boolean",e,"internal-error"),ts(p,e.name),ts(g,e.name),ts(x,e.name),ts(y,e.name),ts(m,e.name),ts(v,e.name);const T=new vi({uid:w,auth:e,email:f,emailVerified:b,displayName:h,isAnonymous:I,photoURL:g,phoneNumber:p,tenantId:x,stsTokenManager:E,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(T.providerData=_.map(S=>Object.assign({},S))),y&&(T._redirectEventId=y),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ql;s.updateFromServerResponse(n);const i=new vi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ad(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;function $r(t){Yr(t instanceof Function,"Expected a class definition");let e=eb.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NN.type="NONE";const tb=NN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Au(this.userKey,s.apiKey,i),this.fullPersistenceKey=Au("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Na($r(tb),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||$r(tb);const a=Au(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){const h=vi._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Na(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Na(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kN(e))return"Blackberry";if(RN(e))return"Webos";if(Uy(e))return"Safari";if((e.includes("chrome/")||CN(e))&&!e.includes("edge/"))return"Chrome";if(PN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jN(t=at()){return/firefox\//i.test(t)}function Uy(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CN(t=at()){return/crios\//i.test(t)}function AN(t=at()){return/iemobile/i.test(t)}function PN(t=at()){return/android/i.test(t)}function kN(t=at()){return/blackberry/i.test(t)}function RN(t=at()){return/webos/i.test(t)}function Xh(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M$(t=at()){var e;return Xh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V$(){return uR()&&document.documentMode===10}function DN(t=at()){return Xh(t)||PN(t)||RN(t)||kN(t)||/windows phone/i.test(t)||AN(t)}function F$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e=[]){let n;switch(t){case"Browser":n=nb(at());break;case"Worker":n=`${nb(at())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e={}){return jr(t,"GET","/v2/passwordPolicy",Gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=6;class z${constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:B$,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rb(this),this.idTokenSubscription=new rb(this),this.beforeStateQueue=new $$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?He(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U$(this),n=new z$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ui("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await L$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ON(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&m$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ks(t){return He(t)}class rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=vR(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W$(t){Jh=t}function LN(t){return Jh.loadJS(t)}function q$(){return Jh.recaptchaEnterpriseScript}function G$(){return Jh.gapiScript}function K$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Y$="recaptcha-enterprise",Q$="NO_RECAPTCHA";class X${constructor(e){this.type=Y$,this.auth=Ks(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{S$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new T$(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;Z0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(Q$)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&Z0(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=q$();c.length!==0&&(c+=l),LN(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function sb(t,e,n,r=!1){const s=new X$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Jm(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await sb(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await sb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t,e){const n=zs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ti(i,e??{}))return s;zn(s,"already-initialized")}return n.initialize({options:e})}function Z$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function eU(t,e,n){const r=Ks(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=MN(e),{host:a,port:l}=tU(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||nU()}function MN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tU(t){const e=MN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ib(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:ib(a)}}}function ib(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function rU(t,e){return jr(t,"POST","/v1/accounts:update",e)}async function sU(t,e){return jr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e){return Qh(t,"POST","/v1/accounts:signInWithPassword",Gs(t,e))}async function aU(t,e){return jr(t,"POST","/v1/accounts:sendOobCode",Gs(t,e))}async function oU(t,e){return aU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e){return Qh(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}async function cU(t,e){return Qh(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends By{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Xl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",iU);case"emailLink":return lU(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,r,"signUpPassword",sU);case"emailLink":return cU(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return Qh(t,"POST","/v1/accounts:signInWithIdp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="http://localhost";class Ri extends By{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=My(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Ri(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:uU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hU(t){const e=zo(Ho(t)).link,n=e?zo(Ho(e)).deep_link_id:null,r=zo(Ho(t)).deep_link_id;return(r?zo(Ho(r)).link:null)||r||n||e||t}class zy{constructor(e){var n,r,s,i,a,l;const c=zo(Ho(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=dU((s=c.mode)!==null&&s!==void 0?s:null);ne(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=hU(e);try{return new zy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zy.parseLink(n);return ne(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Cc{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ri._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Cc{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Cc{constructor(){super("twitter.com")}static credential(e,n){return Ri._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return us.credential(n,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await vi._fromIdTokenResponse(e,r,s),a=ab(r);return new Za({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ab(r);return new Za({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ab(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends Hn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pd(e,n,r,s)}}function VN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Pd._fromErrorAndOperation(t,i,e,r):i})}async function fU(t,e,n=!1){const r=await Ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Za._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Ja(t,VN(r,s,e,t),n);ne(i.idToken,r,"internal-error");const a=$y(i.idToken);ne(a,r,"internal-error");const{sub:l}=a;return ne(t.uid===l,r,"user-mismatch"),Za._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e,n=!1){const r="signIn",s=await VN(t,r,e),i=await Za._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function mU(t,e){return FN(Ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e,n){var r;ne(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t){const e=Ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yU(t,e,n){const r=Ks(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&gU(r,s,n),await Jm(r,s,"getOobCode",oU)}function wU(t,e,n){return mU(He(t),go.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vU(t),r})}function xU(t,e){return bU(He(t),null,e)}async function bU(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const a=await Ja(t,rU(r,i));await t._updateTokensIfNecessary(a,!0)}function _U(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function EU(t,e,n){return He(t).beforeAuthStateChanged(e,n)}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(){const t=at();return Uy(t)||Xh(t)}const SU=1e3,IU=10;class UN extends $N{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=TU()&&F$(),this.fallbackToPolling=DN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);V$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UN.type="LOCAL";const NU=UN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN extends $N{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BN.type="SESSION";const zN=BN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await jU(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=Wy("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function AU(t){_r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function PU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RU(){return HN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebaseLocalStorageDb",DU=1,Rd="firebaseLocalStorage",qN="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(t,e){return t.transaction([Rd],e?"readwrite":"readonly").objectStore(Rd)}function OU(){const t=indexedDB.deleteDatabase(WN);return new Ac(t).toPromise()}function Zm(){const t=indexedDB.open(WN,DU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rd,{keyPath:qN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rd)?e(r):(r.close(),await OU(),e(await Zm()))})})}async function ob(t,e,n){const r=ef(t,!0).put({[qN]:e,value:n});return new Ac(r).toPromise()}async function LU(t,e){const n=ef(t,!1).get(e),r=await new Ac(n).toPromise();return r===void 0?null:r.value}function lb(t,e){const n=ef(t,!0).delete(e);return new Ac(n).toPromise()}const MU=800,VU=3;class GN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(RU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PU(),!this.activeServiceWorker)return;this.sender=new CU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await ob(e,kd,"1"),await lb(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ob(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ef(s,!1).getAll();return new Ac(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GN.type="LOCAL";const FU=GN;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){return e?$r(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends By{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $U(t){return FN(t.auth,new qy(t),t.bypassAuthState)}function UU(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),pU(n,new qy(t),t.bypassAuthState)}async function BU(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),fU(n,new qy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $U;case"linkViaPopup":case"linkViaRedirect":return BU;case"reauthViaPopup":case"reauthViaRedirect":return UU;default:zn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new jc(2e3,1e4);async function HU(t,e,n){const r=Ks(t);g$(t,e,Hy);const s=KN(r,n);return new di(r,"signInViaPopup",e,s).executeNotNull()}class di extends YN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,di.currentPopupAction&&di.currentPopupAction.cancel(),di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zU.get())};e()}}di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="pendingRedirect",Pu=new Map;class qU extends YN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const r=await GU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GU(t,e){const n=QU(e),r=YU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function KU(t,e){Pu.set(t._key(),e)}function YU(t){return $r(t._redirectPersistence)}function QU(t){return Au(WU,t.config.apiKey,t.name)}async function XU(t,e,n=!1){const r=Ks(t),s=KN(r,e),a=await new qU(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=10*60*1e3;class ZU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QN(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(br(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JU&&this.cachedEventUids.clear(),this.cachedEventUids.has(cb(e))}saveEventToCache(e){this.cachedEventUids.add(cb(e)),this.lastProcessedEventTime=Date.now()}}function cb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e={}){return jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r4=/^https?/;async function s4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t4(t);for(const n of e)try{if(i4(n))return}catch{}zn(t,"unauthorized-domain")}function i4(t){const e=Xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!r4.test(n))return!1;if(n4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new jc(3e4,6e4);function ub(){const t=_r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o4(t){return new Promise((e,n)=>{var r,s,i;function a(){ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ub(),n(br(t,"network-request-failed"))},timeout:a4.get()})}if(!((s=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=_r().gapi)===null||i===void 0)&&i.load)a();else{const l=K$("iframefcb");return _r()[l]=()=>{gapi.load?a():n(br(t,"network-request-failed"))},LN(`${G$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ku=null,e})}let ku=null;function l4(t){return ku=ku||o4(t),ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new jc(5e3,15e3),u4="__/auth/iframe",d4="emulator/auth/iframe",h4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p4(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fy(e,d4):`https://${t.config.authDomain}/${u4}`,r={apiKey:e.apiKey,appName:t.name,v:Bi},s=f4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${dc(r).slice(1)}`}async function m4(t){const e=await l4(t),n=_r().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:p4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=br(t,"network-request-failed"),l=_r().setTimeout(()=>{i(a)},c4.get());function c(){_r().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v4=500,y4=600,w4="_blank",x4="http://localhost";class db{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b4(t,e,n,r=v4,s=y4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},g4),{width:r.toString(),height:s.toString(),top:i,left:a}),u=at().toLowerCase();n&&(l=CN(u)?w4:n),jN(u)&&(e=e||x4,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(M$(u)&&l!=="_self")return _4(e||"",l),new db(null);const h=window.open(e||"",l,d);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new db(h)}function _4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="__/auth/handler",T4="emulator/auth/handler",S4=encodeURIComponent("fac");async function hb(t,e,n,r,s,i){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bi,eventId:s};if(e instanceof Hy){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",gR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))a[d]=h}if(e instanceof Cc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${S4}=${encodeURIComponent(c)}`:"";return`${I4(t)}?${dc(l).slice(1)}${u}`}function I4({config:t}){return t.emulator?Fy(t,T4):`https://${t.authDomain}/${E4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class N4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zN,this._completeRedirectFn=XU,this._overrideRedirectResult=KU}async _openPopup(e,n,r,s){var i;Yr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await hb(e,n,r,Xm(),s);return b4(e,a,Wy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await hb(e,n,r,Xm(),s);return AU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m4(e),r=new ZU(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rp,{type:rp},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[rp];a!==void 0&&n(!!a),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DN()||Uy()||Xh()}}const j4=N4;var fb="@firebase/auth",pb="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P4(t){rr(new Bn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ON(t)},u=new H$(r,s,i,c);return Z$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rr(new Bn("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(r=>new C4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ln(fb,pb,A4(t)),ln(fb,pb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=5*60,R4=eS("authIdTokenMaxAge")||k4;let mb=null;const D4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R4)return;const s=n==null?void 0:n.token;mb!==s&&(mb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function O4(t=fh()){const e=zs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=J$(t,{popupRedirectResolver:j4,persistence:[FU,NU,zN]}),r=eS("authTokenSyncURL");if(r){const i=D4(r);EU(n,i,()=>i(n.currentUser)),_U(n,a=>i(a))}const s=XT("auth");return s&&eU(n,`http://${s}`),n}function L4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=br("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",L4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P4("Browser");const M4={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},Gy=oS(M4),ft=u$(Gy);J2(Gy);const ie=yV(Gy),hi=O4(),V4=new Or;function Jn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Vs(t){return!!t&&!!t[Ue]}function Qr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===G4}(t)||Array.isArray(t)||!!t[_b]||!!(!((e=t.constructor)===null||e===void 0)&&e[_b])||Ky(t)||Yy(t))}function Di(t,e,n){n===void 0&&(n=!1),vo(t)===0?(n?Object.keys:Aa)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function vo(t){var e=t[Ue];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ky(t)?2:Yy(t)?3:0}function Ca(t,e){return vo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function F4(t,e){return vo(t)===2?t.get(e):t[e]}function XN(t,e,n){var r=vo(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function JN(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Ky(t){return W4&&t instanceof Map}function Yy(t){return q4&&t instanceof Set}function ei(t){return t.o||t.t}function Qy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ej(t);delete e[Ue];for(var n=Aa(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function Xy(t,e){return e===void 0&&(e=!1),Jy(t)||Vs(t)||!Qr(t)||(vo(t)>1&&(t.set=t.add=t.clear=t.delete=$4),Object.freeze(t),e&&Di(t,function(n,r){return Xy(r,!0)},!0)),t}function $4(){Jn(2)}function Jy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Er(t){var e=rg[t];return e||Jn(18,t),e}function U4(t,e){rg[t]||(rg[t]=e)}function eg(){return Jl}function sp(t,e){e&&(Er("Patches"),t.u=[],t.s=[],t.v=e)}function Dd(t){tg(t),t.p.forEach(B4),t.p=null}function tg(t){t===Jl&&(Jl=t.l)}function gb(t){return Jl={p:[],l:Jl,h:t,m:!0,_:0}}function B4(t){var e=t[Ue];e.i===0||e.i===1?e.j():e.g=!0}function ip(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Er("ES5").S(e,t,r),r?(n[Ue].P&&(Dd(e),Jn(4)),Qr(t)&&(t=Od(e,t),e.l||Ld(e,t)),e.u&&Er("Patches").M(n[Ue].t,t,e.u,e.s)):t=Od(e,n,[]),Dd(e),e.u&&e.v(e.u,e.s),t!==ZN?t:void 0}function Od(t,e,n){if(Jy(e))return e;var r=e[Ue];if(!r)return Di(e,function(l,c){return vb(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ld(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=Qy(r.k):r.o,i=s,a=!1;r.i===3&&(i=new Set(s),s.clear(),a=!0),Di(i,function(l,c){return vb(t,r,s,l,c,n,a)}),Ld(t,s,!1),n&&t.u&&Er("Patches").N(r,n,t.u,t.s)}return r.o}function vb(t,e,n,r,s,i,a){if(Vs(s)){var l=Od(t,s,i&&e&&e.i!==3&&!Ca(e.R,r)?i.concat(r):void 0);if(XN(n,r,l),!Vs(l))return;t.m=!1}else a&&n.add(s);if(Qr(s)&&!Jy(s)){if(!t.h.D&&t._<1)return;Od(t,s),e&&e.A.l||Ld(t,s)}}function Ld(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Xy(e,n)}function ap(t,e){var n=t[Ue];return(n?ei(n):t)[e]}function yb(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ds(t){t.P||(t.P=!0,t.l&&ds(t.l))}function op(t){t.o||(t.o=Qy(t.t))}function ng(t,e,n){var r=Ky(e)?Er("MapSet").F(e,n):Yy(e)?Er("MapSet").T(e,n):t.O?function(s,i){var a=Array.isArray(s),l={i:a?1:0,A:i?i.A:eg(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},c=l,u=Zl;a&&(c=[l],u=Qo);var d=Proxy.revocable(c,u),h=d.revoke,f=d.proxy;return l.k=f,l.j=h,f}(e,n):Er("ES5").J(e,n);return(n?n.A:eg()).p.push(r),r}function z4(t){return Vs(t)||Jn(22,t),function e(n){if(!Qr(n))return n;var r,s=n[Ue],i=vo(n);if(s){if(!s.P&&(s.i<4||!Er("ES5").K(s)))return s.t;s.I=!0,r=wb(n,i),s.I=!1}else r=wb(n,i);return Di(r,function(a,l){s&&F4(s.t,a)===l||XN(r,a,e(l))}),i===3?new Set(r):r}(t)}function wb(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Qy(t)}function H4(){function t(i,a){var l=s[i];return l?l.enumerable=a:s[i]=l={configurable:!0,enumerable:a,get:function(){var c=this[Ue];return Zl.get(c,i)},set:function(c){var u=this[Ue];Zl.set(u,i,c)}},l}function e(i){for(var a=i.length-1;a>=0;a--){var l=i[a][Ue];if(!l.P)switch(l.i){case 5:r(l)&&ds(l);break;case 4:n(l)&&ds(l)}}}function n(i){for(var a=i.t,l=i.k,c=Aa(l),u=c.length-1;u>=0;u--){var d=c[u];if(d!==Ue){var h=a[d];if(h===void 0&&!Ca(a,d))return!0;var f=l[d],p=f&&f[Ue];if(p?p.t!==h:!JN(f,h))return!0}}var g=!!a[Ue];return c.length!==Aa(a).length+(g?0:1)}function r(i){var a=i.k;if(a.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(a,a.length-1);if(l&&!l.get)return!0;for(var c=0;c<a.length;c++)if(!a.hasOwnProperty(c))return!0;return!1}var s={};U4("ES5",{J:function(i,a){var l=Array.isArray(i),c=function(d,h){if(d){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=ej(h);delete g[Ue];for(var x=Aa(g),y=0;y<x.length;y++){var m=x[y];g[m]=t(m,d||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,i),u={i:l?5:4,A:a?a.A:eg(),P:!1,I:!1,R:{},l:a,t:i,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Ue,{value:u,writable:!0}),c},S:function(i,a,l){l?Vs(a)&&a[Ue].A===i&&e(i.p):(i.u&&function c(u){if(u&&typeof u=="object"){var d=u[Ue];if(d){var h=d.t,f=d.k,p=d.R,g=d.i;if(g===4)Di(f,function(w){w!==Ue&&(h[w]!==void 0||Ca(h,w)?p[w]||c(f[w]):(p[w]=!0,ds(d)))}),Di(h,function(w){f[w]!==void 0||Ca(f,w)||(p[w]=!1,ds(d))});else if(g===5){if(r(d)&&(ds(d),p.length=!0),f.length<h.length)for(var x=f.length;x<h.length;x++)p[x]=!1;else for(var y=h.length;y<f.length;y++)p[y]=!0;for(var m=Math.min(f.length,h.length),v=0;v<m;v++)f.hasOwnProperty(v)||(p[v]=!0),p[v]===void 0&&c(f[v])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var xb,Jl,Zy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",W4=typeof Map<"u",q4=typeof Set<"u",bb=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ZN=Zy?Symbol.for("immer-nothing"):((xb={})["immer-nothing"]=!0,xb),_b=Zy?Symbol.for("immer-draftable"):"__$immer_draftable",Ue=Zy?Symbol.for("immer-state"):"__$immer_state",G4=""+Object.prototype.constructor,Aa=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ej=Object.getOwnPropertyDescriptors||function(t){var e={};return Aa(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},rg={},Zl={get:function(t,e){if(e===Ue)return t;var n=ei(t);if(!Ca(n,e))return function(s,i,a){var l,c=yb(i,a);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!Qr(r)?r:r===ap(t.t,e)?(op(t),t.o[e]=ng(t.A.h,r,t)):r},has:function(t,e){return e in ei(t)},ownKeys:function(t){return Reflect.ownKeys(ei(t))},set:function(t,e,n){var r=yb(ei(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=ap(ei(t),e),i=s==null?void 0:s[Ue];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(JN(n,s)&&(n!==void 0||Ca(t.t,e)))return!0;op(t),ds(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return ap(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,op(t),ds(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ei(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Jn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Jn(12)}},Qo={};Di(Zl,function(t,e){Qo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Qo.deleteProperty=function(t,e){return Qo.set.call(this,t,e,void 0)},Qo.set=function(t,e,n){return Zl.set.call(this,t[0],e,n,t[0])};var K4=function(){function t(n){var r=this;this.O=bb,this.D=!0,this.produce=function(s,i,a){if(typeof s=="function"&&typeof i!="function"){var l=i;i=s;var c=r;return function(x){var y=this;x===void 0&&(x=l);for(var m=arguments.length,v=Array(m>1?m-1:0),w=1;w<m;w++)v[w-1]=arguments[w];return c.produce(x,function(b){var I;return(I=i).call.apply(I,[y,b].concat(v))})}}var u;if(typeof i!="function"&&Jn(6),a!==void 0&&typeof a!="function"&&Jn(7),Qr(s)){var d=gb(r),h=ng(r,s,void 0),f=!0;try{u=i(h),f=!1}finally{f?Dd(d):tg(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(x){return sp(d,a),ip(x,d)},function(x){throw Dd(d),x}):(sp(d,a),ip(u,d))}if(!s||typeof s!="object"){if((u=i(s))===void 0&&(u=s),u===ZN&&(u=void 0),r.D&&Xy(u,!0),a){var p=[],g=[];Er("Patches").M(s,u,p,g),a(p,g)}return u}Jn(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(u){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return s.apply(void 0,[p].concat(h))})};var a,l,c=r.produce(s,i,function(u,d){a=u,l=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,a,l]}):[c,a,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Qr(n)||Jn(8),Vs(n)&&(n=z4(n));var r=gb(this),s=ng(this,n,void 0);return s[Ue].C=!0,tg(r),s},e.finishDraft=function(n,r){var s=n&&n[Ue],i=s.A;return sp(i,r),ip(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!bb&&Jn(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var a=Er("Patches").$;return Vs(n)?a(n,r):this.produce(n,function(l){return a(l,r)})},t}(),En=new K4,tj=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseProxies.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Y4(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q4(t){var e=Y4(t,"string");return ec(e)=="symbol"?e:String(e)}function X4(t,e,n){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eb(Object(n),!0).forEach(function(r){X4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Sb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),lp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Md={INIT:"@@redux/INIT"+lp(),REPLACE:"@@redux/REPLACE"+lp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lp()}};function J4(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ew(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rt(1));return n(ew)(t,e)}if(typeof t!="function")throw new Error(Rt(2));var s=t,i=e,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function d(){if(c)throw new Error(Rt(3));return i}function h(x){if(typeof x!="function")throw new Error(Rt(4));if(c)throw new Error(Rt(5));var y=!0;return u(),l.push(x),function(){if(y){if(c)throw new Error(Rt(6));y=!1,u();var v=l.indexOf(x);l.splice(v,1),a=null}}}function f(x){if(!J4(x))throw new Error(Rt(7));if(typeof x.type>"u")throw new Error(Rt(8));if(c)throw new Error(Rt(9));try{c=!0,i=s(i,x)}finally{c=!1}for(var y=a=l,m=0;m<y.length;m++){var v=y[m];v()}return x}function p(x){if(typeof x!="function")throw new Error(Rt(10));s=x,f({type:Md.REPLACE})}function g(){var x,y=h;return x={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Rt(11));function w(){v.next&&v.next(d())}w();var b=y(w);return{unsubscribe:b}}},x[Sb]=function(){return this},x}return f({type:Md.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:p},r[Sb]=g,r}function Z4(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Md.INIT});if(typeof r>"u")throw new Error(Rt(12));if(typeof n(void 0,{type:Md.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rt(13))})}function nj(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),a;try{Z4(n)}catch(l){a=l}return function(c,u){if(c===void 0&&(c={}),a)throw a;for(var d=!1,h={},f=0;f<i.length;f++){var p=i[f],g=n[p],x=c[p],y=g(x,u);if(typeof y>"u")throw u&&u.type,new Error(Rt(14));h[p]=y,d=d||y!==x}return d=d||i.length!==Object.keys(c).length,d?h:c}}function Vd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function e3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(Rt(15))},a={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(a)});return i=Vd.apply(void 0,l)(s.dispatch),Tb(Tb({},s),{},{dispatch:i})}}}function rj(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(a){return function(l){return typeof l=="function"?l(s,i,t):a(l)}}};return e}var sj=rj();sj.withExtraArgument=rj;const sg=sj;var ij=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),t3=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},eo=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},n3=Object.defineProperty,r3=Object.defineProperties,s3=Object.getOwnPropertyDescriptors,Ib=Object.getOwnPropertySymbols,i3=Object.prototype.hasOwnProperty,a3=Object.prototype.propertyIsEnumerable,Nb=function(t,e,n){return e in t?n3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ps=function(t,e){for(var n in e||(e={}))i3.call(e,n)&&Nb(t,n,e[n]);if(Ib)for(var r=0,s=Ib(e);r<s.length;r++){var n=s[r];a3.call(e,n)&&Nb(t,n,e[n])}return t},cp=function(t,e){return r3(t,s3(e))},o3=function(t,e,n){return new Promise(function(r,s){var i=function(c){try{l(n.next(c))}catch(u){s(u)}},a=function(c){try{l(n.throw(c))}catch(u){s(u)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(i,a)};l((n=n.apply(t,e)).next())})},l3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vd:Vd.apply(null,arguments)};function c3(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function ks(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return Ps(Ps({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var u3=function(t){ij(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,eo([void 0],n[0].concat(this)))):new(e.bind.apply(e,eo([void 0],n.concat(this))))},e}(Array),d3=function(t){ij(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,eo([void 0],n[0].concat(this)))):new(e.bind.apply(e,eo([void 0],n.concat(this))))},e}(Array);function ig(t){return Qr(t)?tj(t,function(){}):t}function h3(t){return typeof t=="boolean"}function f3(){return function(e){return p3(e)}}function p3(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new u3;return n&&(h3(n)?r.push(sg):r.push(sg.withExtraArgument(n.extraArgument))),r}var m3=!0;function g3(t){var e=f3(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,a=i===void 0?e():i,l=n.devTools,c=l===void 0?!0:l,u=n.preloadedState,d=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof s=="function")p=s;else if(c3(s))p=nj(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=a;typeof g=="function"&&(g=g(e));var x=e3.apply(void 0,g),y=Vd;c&&(y=l3(Ps({trace:!m3},typeof c=="object"&&c)));var m=new d3(x),v=m;Array.isArray(f)?v=eo([x],f):typeof f=="function"&&(v=f(m));var w=y.apply(void 0,v);return ew(p,d,w)}function aj(t){var e={},n=[],r,s={addCase:function(i,a){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=a,s},addMatcher:function(i,a){return n.push({matcher:i,reducer:a}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function v3(t){return typeof t=="function"}function y3(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?aj(e):[e,n,r],i=s[0],a=s[1],l=s[2],c;if(v3(t))c=function(){return ig(t())};else{var u=ig(t);c=function(){return u}}function d(h,f){h===void 0&&(h=c());var p=eo([i[f.type]],a.filter(function(g){var x=g.matcher;return x(f)}).map(function(g){var x=g.reducer;return x}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,x){if(x)if(Vs(g)){var y=g,m=x(y,f);return m===void 0?g:m}else{if(Qr(g))return tj(g,function(v){return x(v,f)});var m=x(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return d.getInitialState=c,d}function w3(t,e){return t+"/"+e}function Nn(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:ig(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},a={},l={};s.forEach(function(d){var h=r[d],f=w3(e,d),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,i[d]=p,a[f]=p,l[d]=g?ks(f,g):ks(f)});function c(){var d=typeof t.extraReducers=="function"?aj(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,p=d[1],g=p===void 0?[]:p,x=d[2],y=x===void 0?void 0:x,m=Ps(Ps({},f),a);return y3(n,function(v){for(var w in m)v.addCase(w,m[w]);for(var b=0,I=g;b<I.length;b++){var _=I[b];v.addMatcher(_.matcher,_.reducer)}y&&v.addDefaultCase(y)})}var u;return{name:e,reducer:function(d,h){return u||(u=c()),u(d,h)},actions:l,caseReducers:i,getInitialState:function(){return u||(u=c()),u.getInitialState()}}}var x3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",b3=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=x3[Math.random()*64|0];return e},_3=["name","message","stack","code"],up=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),jb=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),E3=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=_3;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=ks(e+"/fulfilled",function(u,d,h,f){return{payload:u,meta:cp(Ps({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),i=ks(e+"/pending",function(u,d,h){return{payload:void 0,meta:cp(Ps({},h||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),a=ks(e+"/rejected",function(u,d,h,f,p){return{payload:f,error:(r&&r.serializeError||E3)(u||"Rejected"),meta:cp(Ps({},p||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function c(u){return function(d,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):b3(),g=new l,x;function y(v){x=v,g.abort()}var m=function(){return o3(this,null,function(){var v,w,b,I,_,j,E;return t3(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),I=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:h,extra:f}),S3(I)?[4,I]:[3,2];case 1:I=T.sent(),T.label=2;case 2:if(I===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return _=new Promise(function(S,P){return g.signal.addEventListener("abort",function(){return P({name:"AbortError",message:x||"Aborted"})})}),d(i(p,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:p,arg:u},{getState:h,extra:f}))),[4,Promise.race([_,Promise.resolve(n(u,{dispatch:d,getState:h,extra:f,requestId:p,signal:g.signal,abort:y,rejectWithValue:function(S,P){return new up(S,P)},fulfillWithValue:function(S,P){return new jb(S,P)}})).then(function(S){if(S instanceof up)throw S;return S instanceof jb?s(S.payload,p,u,S.meta):s(S,p,u)})])];case 3:return b=T.sent(),[3,5];case 4:return j=T.sent(),b=j instanceof up?a(null,p,u,j.payload,j.meta):a(j,p,u),[3,5];case 5:return E=r&&!r.dispatchConditionRejection&&a.match(b)&&b.meta.condition,E||d(b),[2,b]}})})}();return Object.assign(m,{abort:y,requestId:p,arg:u,unwrap:function(){return m.then(T3)}})}}return Object.assign(c,{pending:i,rejected:a,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function T3(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function S3(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var tw="listenerMiddleware";ks(tw+"/add");ks(tw+"/removeAll");ks(tw+"/remove");var Cb;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);H4();const dp={data:{name:"",email:"",designation:"",token:"",message:""},isLoading:!1,isSuccessful:!1,isExpired:!1,error:{}},I3=Nn({name:"UserAuth",initialState:dp,reducers:{getUserAuthRequestAction:(t,e)=>{console.log(e),t.isLoading=!0},getTokenExpiredAction:(t,e)=>{console.log(e),t.isExpired=!0,t.isLoading=!0},getUserAuthExpiredTokenAction:(t,e)=>{t.data.token.access=e.payload,t.isLoading=!1,t.result={},t.isSuccessful=!1,t.isExpired=!1},getUserAuthSuccessAction:(t,e)=>{t.data=e.payload,t.isLoading=!1,t.result={},t.isSuccessful=!0,t.isExpired=!1},getUserAuthFailedAction:(t,e)=>{t.isSuccessful=!1,t.isLoading=!1,t.result=e.payload,t.isExpired=!1,t.data=dp.data},getUserAuthLogoutAction:t=>{t.isSuccessful=!1,t.isLoading=!1,t.data=dp.data,t.error={},t.isExpired=!1}}}),Ab={data:[]},oj=Nn({name:"News",initialState:Ab,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=Ab.data}}}),{getNewsSuccessAction:N3,getNewsFailedAction:yH}=oj.actions,Pb={data:[]},lj=Nn({name:"Slider",initialState:Pb,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=Pb.data}}}),{getSliderSuccessAction:j3,getSliderFailedAction:wH}=lj.actions,kb={data:[]},cj=Nn({name:"Publications",initialState:kb,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=kb.data}}}),{getPublicationsSuccessAction:C3,getPublicationsFailedAction:xH}=cj.actions,Rb={data:[]},uj=Nn({name:"Supervisors",initialState:Rb,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=Rb.data}}}),{getSupervisorsSuccessAction:A3,getSupervisorsFailedAction:bH}=uj.actions,Db={data:[]},dj=Nn({name:"Phd",initialState:Db,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=Db.data}}}),{getPhdSuccessAction:P3,getPhdFailedAction:_H}=dj.actions,Ob={data:[]},hj=Nn({name:"PHUG",initialState:Ob,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=Ob.data}}}),{getPHUGSuccessAction:k3,getPHUGFailedAction:EH}=hj.actions,Lb={data:[]},fj=Nn({name:"VisitorsAndInterns",initialState:Lb,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=Lb.data}}}),{getVisitorsAndInternsSuccessAction:R3,getVisitorsAndInternsFailedAction:TH}=fj.actions,Mb={data:[]},pj=Nn({name:"Datasets",initialState:Mb,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=Mb.data}}}),{getDatasetsSuccessAction:D3,getDatasetsFailedAction:SH}=pj.actions,Vb={data:[]},mj=Nn({name:"ResearchArea",initialState:Vb,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=Vb.data}}}),{getResearchAreaSuccessAction:O3,getResearchAreaFailedAction:IH}=mj.actions,Fb={data:[]},gj=Nn({name:"SubAreas",initialState:Fb,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=Fb.data}}}),{getSubAreasSuccessAction:L3,getSubAreasFailedAction:NH}=gj.actions,$b={data:[]},vj=Nn({name:"ProjectsItems",initialState:$b,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=$b.data}}}),{getProjectsItemsSuccessAction:M3,getProjectsItemsFailedAction:jH}=vj.actions,Ub={data:[]},yj=Nn({name:"ProjectsMain",initialState:Ub,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=Ub.data}}}),{getProjectsMainSuccessAction:V3,getProjectsMainFailedAction:CH}=yj.actions,F3=nj({getauth:I3.reducer,getnews:oj.reducer,getslider:lj.reducer,getpublications:cj.reducer,getsupervisors:uj.reducer,getphdStudents:dj.reducer,getpgugStudents:hj.reducer,getvisitorsandinterns:fj.reducer,getdatasets:pj.reducer,getresearcharea:mj.reducer,getsubareas:gj.reducer,getprojectitems:vj.reducer,getprojectsmain:yj.reducer});var nw="persist:",wj="persist/FLUSH",rw="persist/REHYDRATE",xj="persist/PAUSE",bj="persist/PERSIST",_j="persist/PURGE",Ej="persist/REGISTER",$3=-1;function Ru(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=function(n){return typeof n}:Ru=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ru(t)}function Bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function U3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bb(n,!0).forEach(function(r){B3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bb(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z3(t,e,n,r){r.debug;var s=U3({},n);return t&&Ru(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function H3(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:nw).concat(t.key),a=t.storage,l;t.serialize===!1?l=function(I){return I}:typeof t.serialize=="function"?l=t.serialize:l=W3;var c=t.writeFailHandler||null,u={},d={},h=[],f=null,p=null,g=function(I){Object.keys(I).forEach(function(_){m(_)&&u[_]!==I[_]&&h.indexOf(_)===-1&&h.push(_)}),Object.keys(u).forEach(function(_){I[_]===void 0&&m(_)&&h.indexOf(_)===-1&&u[_]!==void 0&&h.push(_)}),f===null&&(f=setInterval(x,s)),u=I};function x(){if(h.length===0){f&&clearInterval(f),f=null;return}var b=h.shift(),I=r.reduce(function(_,j){return j.in(_,b,u)},u[b]);if(I!==void 0)try{d[b]=l(I)}catch(_){console.error("redux-persist/createPersistoid: error serializing state",_)}else delete d[b];h.length===0&&y()}function y(){Object.keys(d).forEach(function(b){u[b]===void 0&&delete d[b]}),p=a.setItem(i,l(d)).catch(v)}function m(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||e&&e.indexOf(b)!==-1)}function v(b){c&&c(b)}var w=function(){for(;h.length!==0;)x();return p||Promise.resolve()};return{update:g,flush:w}}function W3(t){return JSON.stringify(t)}function q3(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:nw).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(a){return a}:typeof t.deserialize=="function"?s=t.deserialize:s=G3,r.getItem(n).then(function(i){if(i)try{var a={},l=s(i);return Object.keys(l).forEach(function(c){a[c]=e.reduceRight(function(u,d){return d.out(u,c,l)},s(l[c]))}),a}catch(c){throw c}else return})}function G3(t){return JSON.parse(t)}function K3(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:nw).concat(t.key);return e.removeItem(n,Y3)}function Y3(t){}function zb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zb(n,!0).forEach(function(r){Q3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zb(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X3(t,e){if(t==null)return{};var n=J3(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J3(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var Z3=5e3;function eB(t,e){var n=t.version!==void 0?t.version:$3;t.debug;var r=t.stateReconciler===void 0?z3:t.stateReconciler,s=t.getStoredState||q3,i=t.timeout!==void 0?t.timeout:Z3,a=null,l=!1,c=!0,u=function(h){return h._persist.rehydrated&&a&&!c&&a.update(h),h};return function(d,h){var f=d||{},p=f._persist,g=X3(f,["_persist"]),x=g;if(h.type===bj){var y=!1,m=function(E,T){y||(h.rehydrate(t.key,E,T),y=!0)};if(i&&setTimeout(function(){!y&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,a||(a=H3(t)),p)return Ar({},e(x,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(j){var E=t.migrate||function(T,S){return Promise.resolve(T)};E(j,n).then(function(T){m(T)},function(T){m(void 0,T)})},function(j){m(void 0,j)}),Ar({},e(x,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===_j)return l=!0,h.result(K3(t)),Ar({},e(x,h),{_persist:p});if(h.type===wj)return h.result(a&&a.flush()),Ar({},e(x,h),{_persist:p});if(h.type===xj)c=!0;else if(h.type===rw){if(l)return Ar({},x,{_persist:Ar({},p,{rehydrated:!0})});if(h.key===t.key){var v=e(x,h),w=h.payload,b=r!==!1&&w!==void 0?r(w,d,v,t):v,I=Ar({},b,{_persist:Ar({},p,{rehydrated:!0})});return u(I)}}}if(!p)return e(d,h);var _=e(x,h);return _===x?d:u(Ar({},_,{_persist:p}))}}function Hb(t){return rB(t)||nB(t)||tB()}function tB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function rB(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Wb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wb(n,!0).forEach(function(r){sB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wb(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tj={registry:[],bootstrapped:!1},iB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tj,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ej:return ag({},e,{registry:[].concat(Hb(e.registry),[n.key])});case rw:var r=e.registry.indexOf(n.key),s=Hb(e.registry);return s.splice(r,1),ag({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function aB(t,e,n){var r=n||!1,s=ew(iB,Tj,e&&e.enhancer?e.enhancer:void 0),i=function(u){s.dispatch({type:Ej,key:u})},a=function(u,d,h){var f={type:rw,payload:d,err:h,key:u};t.dispatch(f),s.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=ag({},s,{purge:function(){var u=[];return t.dispatch({type:_j,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:wj,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:xj})},persist:function(){t.dispatch({type:bj,register:i,rehydrate:a})}});return e&&e.manualPersist||l.persist(),l}var Sj={},sw={},iw={};Object.defineProperty(iw,"__esModule",{value:!0});function lu(){}const oB={getItem:lu,setItem:lu,removeItem:lu,keys:[],getAllKeys:lu};function lB(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function cB(t){const e=`${t}Storage`;return lB(e)?self[e]:oB}iw.default=cB;var uB=vl&&vl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sw,"__esModule",{value:!0});const dB=uB(iw);function hB(t){const e=(0,dB.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(s=>{s(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}sw.default=hB;var fB=vl&&vl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sj,"__esModule",{value:!0});const pB=fB(sw),mB=(0,pB.default)("session");var gB=Sj.default=mB;const vB={key:"root",storage:gB},yB=eB(vB,F3),dn=g3({reducer:yB,middleware:[sg]}),wB=aB(dn),Pc=async()=>{try{const t=Ne(ie,"publications"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),dn.dispatch(C3(n))}catch(t){console.error("Error fetching Publications:",t)}};async function xB(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=dt(ie,"publications",t);await Wn(e),alert("Publications deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Publications!")}}}var Ij={exports:{}},Nj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=N;function bB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _B=typeof Object.is=="function"?Object.is:bB,EB=kc.useSyncExternalStore,TB=kc.useRef,SB=kc.useEffect,IB=kc.useMemo,NB=kc.useDebugValue;Nj.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=TB(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=IB(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&a.hasValue){var g=a.value;if(s(g,p))return h=g}return h=p}if(g=h,_B(d,p))return g;var x=r(p);return s!==void 0&&s(g,x)?g:(d=p,h=x)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=EB(t,i[0],i[1]);return SB(function(){a.hasValue=!0,a.value=l},[l]),NB(l),l};Ij.exports=Nj;var jB=Ij.exports,yn="default"in _p?Ee:_p,qb=Symbol.for("react-redux-context"),Gb=typeof globalThis<"u"?globalThis:{};function CB(){if(!yn.createContext)return{};const t=Gb[qb]??(Gb[qb]=new Map);let e=t.get(yn.createContext);return e||(e=yn.createContext(null),t.set(yn.createContext,e)),e}var Fd=CB(),AB=()=>{throw new Error("uSES not initialized!")};function jj(t=Fd){return function(){return yn.useContext(t)}}var PB=jj(),Cj=AB,kB=t=>{Cj=t},RB=(t,e)=>t===e;function DB(t=Fd){const e=t===Fd?PB:jj(t),n=(r,s={})=>{const{equalityFn:i=RB,devModeChecks:a={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();yn.useRef(!0);const f=yn.useCallback({[r.name](g){return r(g)}}[r.name],[r,d,a.stabilityCheck]),p=Cj(c.addNestedSub,l.getState,u||l.getState,f,i);return yn.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var re=DB();function OB(t){t()}function LB(){let t=null,e=null;return{clear(){t=null,e=null},notify(){OB(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var Kb={notify(){},get:()=>[]};function MB(t,e){let n,r=Kb,s=0,i=!1;function a(x){d();const y=r.subscribe(x);let m=!1;return()=>{m||(m=!0,y(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=LB())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Kb)}function f(){i||(i=!0,d())}function p(){i&&(i=!1,h())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var VB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FB=VB?yn.useLayoutEffect:yn.useEffect;function $B({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const a=yn.useMemo(()=>{const u=MB(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=yn.useMemo(()=>t.getState(),[t]);FB(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,l]);const c=e||Fd;return yn.createElement(c.Provider,{value:a},n)}var UB=$B;kB(jB.useSyncExternalStoreWithSelector);const yo=async()=>{try{const t=Ne(ie,"supervisors"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await BB(l):null;n.push({_id:a,data:i,profileImage:c})});await Promise.all(r),dn.dispatch(A3(n))}catch(t){console.error("Error fetching Supervisors:",t)}},BB=async t=>{try{const e=ht(ft,`/peoples/supervisor_profile_images/${t}`);return await po(e)}catch{return null}};async function zB(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=dt(ie,"supervisors",t),s=(await fo(e)).data().profileImage;if(await Wn(e),s){const i=ht(ft,`/peoples/supervisor_profile_images/${s}`);await mo(i)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Supervisors!")}}}var Aj={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(vl,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,a={},l=0,c={parse:function(E,T){var S=(T=T||{}).dynamicTyping||!1;if(j(S)&&(T.dynamicTypingFunction=S,S={}),T.dynamicTyping=S,T.transform=!!j(T.transform)&&T.transform,T.worker&&c.WORKERS_SUPPORTED){var P=function(){if(!c.WORKERS_SUPPORTED)return!1;var C=(M=r.URL||r.webkitURL||null,B=n.toString(),c.BLOB_URL||(c.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))),A=new r.Worker(C),M,B;return A.onmessage=v,A.id=l++,a[A.id]=A}();return P.userStep=T.step,P.userChunk=T.chunk,P.userComplete=T.complete,P.userError=T.error,T.step=j(T.step),T.chunk=j(T.chunk),T.complete=j(T.complete),T.error=j(T.error),delete T.worker,void P.postMessage({input:E,config:T,workerId:P.id})}var O=null;return c.NODE_STREAM_INPUT,typeof E=="string"?(E=function(C){return C.charCodeAt(0)===65279?C.slice(1):C}(E),O=T.download?new h(T):new p(T)):E.readable===!0&&j(E.read)&&j(E.on)?O=new g(T):(r.File&&E instanceof File||E instanceof Object)&&(O=new f(T)),O.stream(E)},unparse:function(E,T){var S=!1,P=!0,O=",",C=`\r
`,A='"',M=A+A,B=!1,D=null,R=!1;(function(){if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(k){return T.delimiter.indexOf(k)!==-1}).length||(O=T.delimiter),(typeof T.quotes=="boolean"||typeof T.quotes=="function"||Array.isArray(T.quotes))&&(S=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(B=T.skipEmptyLines),typeof T.newline=="string"&&(C=T.newline),typeof T.quoteChar=="string"&&(A=T.quoteChar),typeof T.header=="boolean"&&(P=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");D=T.columns}T.escapeChar!==void 0&&(M=T.escapeChar+A),(typeof T.escapeFormulae=="boolean"||T.escapeFormulae instanceof RegExp)&&(R=T.escapeFormulae instanceof RegExp?T.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var L=new RegExp(y(A),"g");if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return F(null,E,B);if(typeof E[0]=="object")return F(D||Object.keys(E[0]),E,B)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||D),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),F(E.fields||[],E.data||[],B);throw new Error("Unable to serialize unrecognized input");function F(k,z,X){var J="";typeof k=="string"&&(k=JSON.parse(k)),typeof z=="string"&&(z=JSON.parse(z));var se=Array.isArray(k)&&0<k.length,ue=!Array.isArray(z[0]);if(se&&P){for(var je=0;je<k.length;je++)0<je&&(J+=O),J+=W(k[je],je);0<z.length&&(J+=C)}for(var Q=0;Q<z.length;Q++){var he=se?k.length:z[Q].length,H=!1,we=se?Object.keys(z[Q]).length===0:z[Q].length===0;if(X&&!se&&(H=X==="greedy"?z[Q].join("").trim()==="":z[Q].length===1&&z[Q][0].length===0),X==="greedy"&&se){for(var be=[],ot=0;ot<he;ot++){var Me=ue?k[ot]:ot;be.push(z[Q][Me])}H=be.join("").trim()===""}if(!H){for(var Ce=0;Ce<he;Ce++){0<Ce&&!we&&(J+=O);var Xt=se&&ue?k[Ce]:Ce;J+=W(z[Q][Xt],Ce)}Q<z.length-1&&(!X||0<he&&!we)&&(J+=C)}}return J}function W(k,z){if(k==null)return"";if(k.constructor===Date)return JSON.stringify(k).slice(1,25);var X=!1;R&&typeof k=="string"&&R.test(k)&&(k="'"+k,X=!0);var J=k.toString().replace(L,M);return(X=X||S===!0||typeof S=="function"&&S(k,z)||Array.isArray(S)&&S[z]||function(se,ue){for(var je=0;je<ue.length;je++)if(-1<se.indexOf(ue[je]))return!0;return!1}(J,c.BAD_DELIMITERS)||-1<J.indexOf(O)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?A+J+A:J}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=x,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var u=r.jQuery;u.fn.parse=function(E){var T=E.config||{},S=[];return this.each(function(C){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var A=0;A<this.files.length;A++)S.push({file:this.files[A],inputElem:this,instanceConfig:u.extend({},T)})}),P(),this;function P(){if(S.length!==0){var C,A,M,B,D=S[0];if(j(E.before)){var R=E.before(D.file,D.inputElem);if(typeof R=="object"){if(R.action==="abort")return C="AbortError",A=D.file,M=D.inputElem,B=R.reason,void(j(E.error)&&E.error({name:C},A,M,B));if(R.action==="skip")return void O();typeof R.config=="object"&&(D.instanceConfig=u.extend(D.instanceConfig,R.config))}else if(R==="skip")return void O()}var L=D.instanceConfig.complete;D.instanceConfig.complete=function(F){j(L)&&L(F,D.file,D.inputElem),O()},c.parse(D.file,D.instanceConfig)}else j(E.complete)&&E.complete()}function O(){S.splice(0,1),P()}}}function d(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var S=I(T);S.chunkSize=parseInt(S.chunkSize),T.step||T.chunk||(S.chunkSize=null),this._handle=new x(S),(this._handle.streamer=this)._config=S}).call(this,E),this.parseChunk=function(T,S){if(this.isFirstChunk&&j(this._config.beforeFirstChunk)){var P=this._config.beforeFirstChunk(T);P!==void 0&&(T=P)}this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+T;this._partialLine="";var C=this._handle.parse(O,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var A=C.meta.cursor;this._finished||(this._partialLine=O.substring(A-this._baseIndex),this._baseIndex=A),C&&C.data&&(this._rowCount+=C.data.length);var M=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:C,workerId:c.WORKER_ID,finished:M});else if(j(this._config.chunk)&&!S){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);C=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!M||!j(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(T){j(this._config.error)?this._config.error(T):i&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function h(E){var T;(E=E||{}).chunkSize||(E.chunkSize=c.RemoteChunkSize),d.call(this,E),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),s||(T.onload=_(this._chunkLoaded,this),T.onerror=_(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var S=this._config.downloadRequestHeaders;for(var P in S)T.setRequestHeader(P,S[P])}if(this._config.chunkSize){var O=this._start+this._config.chunkSize-1;T.setRequestHeader("Range","bytes="+this._start+"-"+O)}try{T.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}s&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:T.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(S){var P=S.getResponseHeader("Content-Range");return P===null?-1:parseInt(P.substring(P.lastIndexOf("/")+1))}(T),this.parseChunk(T.responseText)))},this._chunkError=function(S){var P=T.statusText||S;this._sendError(new Error(P))}}function f(E){var T,S;(E=E||{}).chunkSize||(E.chunkSize=c.LocalChunkSize),d.call(this,E);var P=typeof FileReader<"u";this.stream=function(O){this._input=O,S=O.slice||O.webkitSlice||O.mozSlice,P?((T=new FileReader).onload=_(this._chunkLoaded,this),T.onerror=_(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input;if(this._config.chunkSize){var C=Math.min(this._start+this._config.chunkSize,this._input.size);O=S.call(O,this._start,C)}var A=T.readAsText(O,this._config.encoding);P||this._chunkLoaded({target:{result:A}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(E){var T;d.call(this,E=E||{}),this.stream=function(S){return T=S,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var S,P=this._config.chunkSize;return P?(S=T.substring(0,P),T=T.substring(P)):(S=T,T=""),this._finished=!T,this.parseChunk(S)}}}function g(E){d.call(this,E=E||{});var T=[],S=!0,P=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):S=!0},this._streamData=_(function(O){try{T.push(typeof O=="string"?O:O.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(C){this._streamError(C)}},this),this._streamError=_(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=_(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(E){var T,S,P,O=Math.pow(2,53),C=-O,A=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,D=0,R=0,L=!1,F=!1,W=[],k={data:[],errors:[],meta:{}};if(j(E.step)){var z=E.step;E.step=function(Q){if(k=Q,se())J();else{if(J(),k.data.length===0)return;D+=Q.data.length,E.preview&&D>E.preview?S.abort():(k.data=k.data[0],z(k,B))}}}function X(Q){return E.skipEmptyLines==="greedy"?Q.join("").trim()==="":Q.length===1&&Q[0].length===0}function J(){return k&&P&&(je("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),P=!1),E.skipEmptyLines&&(k.data=k.data.filter(function(Q){return!X(Q)})),se()&&function(){if(!k)return;function Q(H,we){j(E.transformHeader)&&(H=E.transformHeader(H,we)),W.push(H)}if(Array.isArray(k.data[0])){for(var he=0;se()&&he<k.data.length;he++)k.data[he].forEach(Q);k.data.splice(0,1)}else k.data.forEach(Q)}(),function(){if(!k||!E.header&&!E.dynamicTyping&&!E.transform)return k;function Q(H,we){var be,ot=E.header?{}:[];for(be=0;be<H.length;be++){var Me=be,Ce=H[be];E.header&&(Me=be>=W.length?"__parsed_extra":W[be]),E.transform&&(Ce=E.transform(Ce,Me)),Ce=ue(Me,Ce),Me==="__parsed_extra"?(ot[Me]=ot[Me]||[],ot[Me].push(Ce)):ot[Me]=Ce}return E.header&&(be>W.length?je("FieldMismatch","TooManyFields","Too many fields: expected "+W.length+" fields but parsed "+be,R+we):be<W.length&&je("FieldMismatch","TooFewFields","Too few fields: expected "+W.length+" fields but parsed "+be,R+we)),ot}var he=1;return!k.data.length||Array.isArray(k.data[0])?(k.data=k.data.map(Q),he=k.data.length):k.data=Q(k.data,0),E.header&&k.meta&&(k.meta.fields=W),R+=he,k}()}function se(){return E.header&&W.length===0}function ue(Q,he){return H=Q,E.dynamicTypingFunction&&E.dynamicTyping[H]===void 0&&(E.dynamicTyping[H]=E.dynamicTypingFunction(H)),(E.dynamicTyping[H]||E.dynamicTyping)===!0?he==="true"||he==="TRUE"||he!=="false"&&he!=="FALSE"&&(function(we){if(A.test(we)){var be=parseFloat(we);if(C<be&&be<O)return!0}return!1}(he)?parseFloat(he):M.test(he)?new Date(he):he===""?null:he):he;var H}function je(Q,he,H,we){var be={type:Q,code:he,message:H};we!==void 0&&(be.row=we),k.errors.push(be)}this.parse=function(Q,he,H){var we=E.quoteChar||'"';if(E.newline||(E.newline=function(Me,Ce){Me=Me.substring(0,1048576);var Xt=new RegExp(y(Ce)+"([^]*?)"+y(Ce),"gm"),Ut=(Me=Me.replace(Xt,"")).split("\r"),hn=Me.split(`
`),Cn=1<hn.length&&hn[0].length<Ut[0].length;if(Ut.length===1||Cn)return`
`;for(var Bt=0,K=0;K<Ut.length;K++)Ut[K][0]===`
`&&Bt++;return Bt>=Ut.length/2?`\r
`:"\r"}(Q,we)),P=!1,E.delimiter)j(E.delimiter)&&(E.delimiter=E.delimiter(Q),k.meta.delimiter=E.delimiter);else{var be=function(Me,Ce,Xt,Ut,hn){var Cn,Bt,K,ve;hn=hn||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var bt=0;bt<hn.length;bt++){var _e=hn[bt],Cr=0,An=0,or=0;K=void 0;for(var qn=new m({comments:Ut,delimiter:_e,newline:Ce,preview:10}).parse(Me),Jr=0;Jr<qn.data.length;Jr++)if(Xt&&X(qn.data[Jr]))or++;else{var Zr=qn.data[Jr].length;An+=Zr,K!==void 0?0<Zr&&(Cr+=Math.abs(Zr-K),K=Zr):K=Zr}0<qn.data.length&&(An/=qn.data.length-or),(Bt===void 0||Cr<=Bt)&&(ve===void 0||ve<An)&&1.99<An&&(Bt=Cr,Cn=_e,ve=An)}return{successful:!!(E.delimiter=Cn),bestDelimiter:Cn}}(Q,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess);be.successful?E.delimiter=be.bestDelimiter:(P=!0,E.delimiter=c.DefaultDelimiter),k.meta.delimiter=E.delimiter}var ot=I(E);return E.preview&&E.header&&ot.preview++,T=Q,S=new m(ot),k=S.parse(T,he,H),J(),L?{meta:{paused:!0}}:k||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,S.abort(),T=j(E.chunk)?"":T.substring(S.getCharIndex())},this.resume=function(){B.streamer._halted?(L=!1,B.streamer.parseChunk(T,!0)):setTimeout(B.resume,3)},this.aborted=function(){return F},this.abort=function(){F=!0,S.abort(),k.meta.aborted=!0,j(E.complete)&&E.complete(k),T=""}}function y(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(E){var T,S=(E=E||{}).delimiter,P=E.newline,O=E.comments,C=E.step,A=E.preview,M=E.fastMode,B=T=E.quoteChar===void 0||E.quoteChar===null?'"':E.quoteChar;if(E.escapeChar!==void 0&&(B=E.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),O===S)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<c.BAD_DELIMITERS.indexOf(O))&&(O=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var D=0,R=!1;this.parse=function(L,F,W){if(typeof L!="string")throw new Error("Input must be a string");var k=L.length,z=S.length,X=P.length,J=O.length,se=j(C),ue=[],je=[],Q=[],he=D=0;if(!L)return Pn();if(E.header&&!F){var H=L.split(P)[0].split(S),we=[],be={},ot=!1;for(var Me in H){var Ce=H[Me];j(E.transformHeader)&&(Ce=E.transformHeader(Ce,Me));var Xt=Ce,Ut=be[Ce]||0;for(0<Ut&&(ot=!0,Xt=Ce+"_"+Ut),be[Ce]=Ut+1;we.includes(Xt);)Xt=Xt+"_"+Ut;we.push(Xt)}if(ot){var hn=L.split(P);hn[0]=we.join(S),L=hn.join(P)}}if(M||M!==!1&&L.indexOf(T)===-1){for(var Cn=L.split(P),Bt=0;Bt<Cn.length;Bt++){if(Q=Cn[Bt],D+=Q.length,Bt!==Cn.length-1)D+=P.length;else if(W)return Pn();if(!O||Q.substring(0,J)!==O){if(se){if(ue=[],or(Q.split(S)),Rc(),R)return Pn()}else or(Q.split(S));if(A&&A<=Bt)return ue=ue.slice(0,A),Pn(!0)}}return Pn()}for(var K=L.indexOf(S,D),ve=L.indexOf(P,D),bt=new RegExp(y(B)+y(T),"g"),_e=L.indexOf(T,D);;)if(L[D]!==T)if(O&&Q.length===0&&L.substring(D,D+J)===O){if(ve===-1)return Pn();D=ve+X,ve=L.indexOf(P,D),K=L.indexOf(S,D)}else if(K!==-1&&(K<ve||ve===-1))Q.push(L.substring(D,K)),D=K+z,K=L.indexOf(S,D);else{if(ve===-1)break;if(Q.push(L.substring(D,ve)),Zr(ve+X),se&&(Rc(),R))return Pn();if(A&&ue.length>=A)return Pn(!0)}else for(_e=D,D++;;){if((_e=L.indexOf(T,_e+1))===-1)return W||je.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ue.length,index:D}),Jr();if(_e===k-1)return Jr(L.substring(D,_e).replace(bt,T));if(T!==B||L[_e+1]!==B){if(T===B||_e===0||L[_e-1]!==B){K!==-1&&K<_e+1&&(K=L.indexOf(S,_e+1)),ve!==-1&&ve<_e+1&&(ve=L.indexOf(P,_e+1));var Cr=qn(ve===-1?K:Math.min(K,ve));if(L.substr(_e+1+Cr,z)===S){Q.push(L.substring(D,_e).replace(bt,T)),L[D=_e+1+Cr+z]!==T&&(_e=L.indexOf(T,D)),K=L.indexOf(S,D),ve=L.indexOf(P,D);break}var An=qn(ve);if(L.substring(_e+1+An,_e+1+An+X)===P){if(Q.push(L.substring(D,_e).replace(bt,T)),Zr(_e+1+An+X),K=L.indexOf(S,D),_e=L.indexOf(T,D),se&&(Rc(),R))return Pn();if(A&&ue.length>=A)return Pn(!0);break}je.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ue.length,index:D}),_e++}}else _e++}return Jr();function or(kn){ue.push(kn),he=D}function qn(kn){var pw=0;if(kn!==-1){var af=L.substring(_e+1,kn);af&&af.trim()===""&&(pw=af.length)}return pw}function Jr(kn){return W||(kn===void 0&&(kn=L.substring(D)),Q.push(kn),D=k,or(Q),se&&Rc()),Pn()}function Zr(kn){D=kn,or(Q),Q=[],ve=L.indexOf(P,D)}function Pn(kn){return{data:ue,errors:je,meta:{delimiter:S,linebreak:P,aborted:R,truncated:!!kn,cursor:he+(F||0)}}}function Rc(){C(Pn()),ue=[],je=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return D}}function v(E){var T=E.data,S=a[T.workerId],P=!1;if(T.error)S.userError(T.error,T.file);else if(T.results&&T.results.data){var O={abort:function(){P=!0,w(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(j(S.userStep)){for(var C=0;C<T.results.data.length&&(S.userStep({data:T.results.data[C],errors:T.results.errors,meta:T.results.meta},O),!P);C++);delete T.results}else j(S.userChunk)&&(S.userChunk(T.results,O,T.file),delete T.results)}T.finished&&!P&&w(T.workerId,T.results)}function w(E,T){var S=a[E];j(S.userComplete)&&S.userComplete(T),S.terminate(),delete a[E]}function b(){throw new Error("Not implemented.")}function I(E){if(typeof E!="object"||E===null)return E;var T=Array.isArray(E)?[]:{};for(var S in E)T[S]=I(E[S]);return T}function _(E,T){return function(){E.apply(T,arguments)}}function j(E){return typeof E=="function"}return i&&(r.onmessage=function(E){var T=E.data;if(c.WORKER_ID===void 0&&T&&(c.WORKER_ID=T.workerId),typeof T.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(T.input,T.config),finished:!0});else if(r.File&&T.input instanceof File||T.input instanceof Object){var S=c.parse(T.input,T.config);S&&r.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}}),(h.prototype=Object.create(d.prototype)).constructor=h,(f.prototype=Object.create(d.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,c})})(Aj);var HB=Aj.exports;const Pj=to(HB);function kj(t,e,n){const r=t+e,s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const a=URL.createObjectURL(s);i.setAttribute("href",a),i.setAttribute("download",`${n}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const WB=`Type of Article,Authors,Paper Title,Publisher,Publication Year,Name of Journal,Volume,DOI Link,Impact Factor,No. of Pages,ISBN
`,qB=`Conference,"Kulkarni A, Phutke SS, Vipparthi SK, Murala S",C2AIR: Consolidated Compact Aerial Image Haze Removal,IEEE Transactions on Cognitive and Developmental Systems,2020,Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision,4,304-402,7,300,5
`,GB=()=>{const t=re(C=>C.getpublications.data),e=re(C=>C.getsupervisors.data),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[f,p]=N.useState(""),[g,x]=N.useState(""),[y,m]=N.useState(""),[v,w]=N.useState(""),[b,I]=N.useState(""),[_,j]=N.useState(""),[E,T]=N.useState([]),[S,P]=N.useState(!1);N.useEffect(()=>{Pc(),yo()},[]);const O=C=>{if(C.preventDefault(),!n||!s||!a||!c||!d||!f||!g||!y||!v||!b||!_){console.log("Please fill all required fields!");return}P(!0),un(Ne(ie,"publications"),{paperTitle:n,paperType:s,publisher:a,publicationDate:c,link:d,author:f,journalName:g,pages:y,volume:v,impact:b,isbn:_,users:E}).then(()=>{alert("Publication has been saved! You can view it in the admin panel."),P(!1),window.location.reload()}).catch(A=>{alert(`Error adding document: ${A.message}`),P(!1)})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"List of Publications"}),o.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add Publication"}),o.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[o.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contributors"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Impact Factor"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Pages"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publisher"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publication Date"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Volume"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Journal Name"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper Type"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"ISBN"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((C,A)=>{const{paperTitle:M,author:B,impact:D,link:R,pages:L,publisher:F,publicationDate:W,volume:k,journalName:z,paperType:X,isbn:J}=C==null?void 0:C.data;return o.jsxs("tr",{children:[o.jsx("td",{children:A+1}),o.jsx("td",{className:"fw-bold text-danger",children:M==null?void 0:M.stringValue}),o.jsx("td",{children:B==null?void 0:B.stringValue}),o.jsx("td",{children:D==null?void 0:D.stringValue}),o.jsx("td",{children:L==null?void 0:L.stringValue}),o.jsx("td",{children:F==null?void 0:F.stringValue}),o.jsx("td",{children:W==null?void 0:W.stringValue}),o.jsx("td",{children:k==null?void 0:k.stringValue}),o.jsx("td",{children:z==null?void 0:z.stringValue}),o.jsx("td",{children:X==null?void 0:X.stringValue}),o.jsx("td",{children:J==null?void 0:J.stringValue}),o.jsx("td",{children:o.jsx("a",{href:R==null?void 0:R.stringValue,target:"_blank",rel:"noopener noreferrer",className:"btn btn-link",children:"Link"})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx(te,{className:"dropdown-item text-primary",to:C==null?void 0:C._id,children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>xB(C._id),children:"Delete"})})]})]})})]},C._id)})})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("form",{onSubmit:O,noValidate:!0,children:[o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:n,onChange:C=>r(C.target.value),required:!0,disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:C=>{const A=C.target.value;if(E)if(A==="other"){let M=prompt("Please enter supervisor name:");M&&T([...E,M])}else E.includes(A)?alert("User with this name already existed."):T([...E,A])},children:[o.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((C,A)=>{var M,B,D,R,L,F;return o.jsxs("option",{value:(B=(M=C==null?void 0:C.data)==null?void 0:M.name)==null?void 0:B.stringValue,children:[(R=(D=C==null?void 0:C.data)==null?void 0:D.name)==null?void 0:R.stringValue,"-",(F=(L=C==null?void 0:C.data)==null?void 0:L.email)==null?void 0:F.stringValue]},A)}),o.jsx("option",{value:"other",children:"Other"})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:E==null?void 0:E.map((C,A)=>o.jsxs("span",{className:"badge bg-success",children:[C," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const M=E.filter(B=>B!==C);T(M)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},A))})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"paperType",value:s,onChange:C=>i(C.target.value),required:!0,disabled:S,children:[o.jsx("option",{value:"",children:"---select type---"}),o.jsx("option",{value:"Conference",children:"Conference"}),o.jsx("option",{value:"Patent",children:"Patent"}),o.jsx("option",{value:"Journal",children:"Journal"}),o.jsx("option",{value:"Book",children:"Book"}),o.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),o.jsx("option",{value:"Publications",children:"Publications"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021  47th Annual Conference of the IEEE Industrial Electronics Society",value:a,onChange:C=>l(C.target.value),required:!0,disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:c,onChange:C=>u(C.target.value),required:!0,disabled:S,children:[o.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((C,A)=>o.jsx("option",{value:2008+A,children:2008+A},A))]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),o.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:d,onChange:C=>h(C.target.value),disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 mb-2",children:[o.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:C=>p(C.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:S})]}),o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:g,onChange:C=>x(C.target.value),required:!0,disabled:S}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),o.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:y,onChange:C=>m(C.target.value),disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),o.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:v,onChange:C=>w(C.target.value),disabled:S})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),o.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:b,onChange:C=>I(C.target.value),disabled:S})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),o.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:_,onChange:C=>j(C.target.value),disabled:S})]})]}),o.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:S,children:S?"Please Wait...":"Submit"})]})})]})})}),o.jsx(KB,{getsupervisors:e})]})},KB=({getsupervisors:t})=>{const e=N.useRef(null),[n,r]=N.useState(!1),[s,i]=N.useState([]),[a,l]=N.useState([]),c=h=>{var p;const f=(p=h.target.files)==null?void 0:p[0];f&&Pj.parse(f,{complete:g=>{const x=g.data.filter(y=>Object.values(y).some(m=>m!==""));l(x)},header:!0})},u=async h=>{try{return!(await Qt(CI(Ne(ie,"publications"),AI("paperTitle","==",h)))).empty}catch{return!1}},d=async h=>{if(h.preventDefault(),!s.length){alert("Please select supervisors!");return}if(!a.length){alert("ERROR! Invalid CSV File Selected.");return}r(!0);const f=a.map(async p=>{const g=Object.values(p);if(!await u(g[2]))return un(Ne(ie,"publications"),{paperTitle:g[2],paperType:g[0],publisher:g[3],publicationDate:g[4],link:g[7],author:g[1],journalName:g[5],pages:g[9],volume:g[6],impact:g[8],isbn:g[10],users:s})});await Promise.all(f),alert("Publications has been saved!"),r(!1),window.location.reload()};return o.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Import Publications"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these publications will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:h=>{const f=h.target.value;!s||f===""||(s.includes(f)?alert("User with this name already existed."):i([...s,f]))},children:[o.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((h,f)=>{var p,g,x,y,m,v;return o.jsxs("option",{value:(g=(p=h==null?void 0:h.data)==null?void 0:p.name)==null?void 0:g.stringValue,children:[(y=(x=h==null?void 0:h.data)==null?void 0:x.name)==null?void 0:y.stringValue,"-",(v=(m=h==null?void 0:h.data)==null?void 0:m.email)==null?void 0:v.stringValue]},f)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:s==null?void 0:s.map((h,f)=>o.jsxs("span",{className:"badge bg-success",children:[h," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const p=s.filter(g=>g!==h);i(p)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},f))})]}),o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",o.jsx("button",{className:"btn btn-link",onClick:()=>kj(WB,qB,"sample_publications_csv"),children:"Download Sample CSV file"}),")"]}),o.jsx("input",{ref:e,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:c})]}),o.jsx("div",{className:"d-flex gap-1 flex-wrap",children:a.length>0&&o.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[o.jsxs("table",{className:"table table-bordered",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(a[0]).map(h=>o.jsx("th",{children:h},h))})}),o.jsx("tbody",{children:a.map((h,f)=>o.jsx("tr",{children:Object.values(h).map((p,g)=>o.jsx("td",{children:p},g))},f))})]}),o.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:n,onClick:d,children:n?"Please Wait...":"Submit"})]})]})})})},Rj=async()=>{try{const t=Ne(ie,"news"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.description.stringValue,c=i.timestamp.stringValue,u=i.title.stringValue;n.push({_id:a,title:u,datetime1:c,description:l})});await Promise.all(r),dn.dispatch(N3(n))}catch(t){console.error("Error fetching news:",t)}};async function YB(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=dt(ie,"news",t);await Wn(e),alert("News item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting News!")}}}async function QB(t,e){try{const n=dt(ie,"news",t),i={...(await fo(n)).data(),...e};await kV(n,i,{merge:!0}),alert("News item edited successfully.")}catch(n){console.log(n),alert("Error editing news!")}}const Yb=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:s,setTitle:i,submitHandler:a,_id:l})=>o.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog ",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>i(c.target.value),disabled:t,value:e})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),o.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",onChange:c=>s(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:a,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),XB=()=>{const t=re(h=>h.getnews).data,[e,n]=N.useState(),[r,s]=N.useState(),[i,a]=N.useState(),[l,c]=N.useState(!1);N.useEffect(()=>{Rj()},[]);const u=()=>{if(!e||!r||!i){console.log("Please fill all required fields.");return}c(!0),un(Ne(ie,"news"),{title:r,timestamp:i,description:e}).then(()=>{alert("News has been saved! You can view it in the admin panel."),s(""),n(""),c(!1),window.location.reload()}).catch(h=>{console.error("Error saving image data:",h),c(!1)})},d=h=>{a(h.datetime1),s(h.title)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Latest News"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>o.jsxs("tr",{children:[o.jsx("td",{children:f+1}),o.jsx("td",{children:h.title}),o.jsx("td",{children:JB(h==null?void 0:h.datetime1)}),o.jsx("td",{children:h.description}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>YB(h._id),children:"Delete"})}),o.jsxs("li",{children:[o.jsx("button",{className:"dropdown-item text-primary",onClick:()=>d(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),o.jsx(Yb,{_id:`EditNewsModal${h._id}`,submitHandler:()=>QB(h._id,{title:r,datetime:i}),datetime:i,loading:l,setDescription:n,setDateTime:a,setTitle:s})]})]})]})})]},f))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"News Not Found!"})})})]})]}),o.jsx(Yb,{_id:"AddNewsModal",submitHandler:u,datetime:i,loading:l,setDescription:n,setDateTime:a,setTitle:s})]})},JB=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},ZB=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(!1),a=async l=>{if(l.preventDefault(),t!==n||t===""||n===""){alert("Passwords do not match");return}const c=hi.currentUser;if(!c){location.href="/CVPR_LAB/#/";return}c?xU(c,n).then(()=>{alert("Password updated successfully"),location.href="/CVPR_LAB/#/dashboard"}).catch(()=>{alert("Logout and try again!")}):console.error("No user is currently signed in."),r(""),e("")};return N.useEffect(()=>{t===n&&t!=""&&n!=""?i(!0):i(!1)},[t,n]),o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsx("div",{className:"w-100 d-flex justify-content-between",children:o.jsx("h3",{children:"Change Password"})}),o.jsx("hr",{}),o.jsxs("form",{className:"row g-3",onSubmit:a,noValidate:!0,children:[o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),o.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:l=>e(l.target.value),required:!0}),o.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:l=>r(l.target.value),required:!0}),o.jsx("div",{className:`rounded-0 p-2 mt-2 ${s?"alert alert-success":"alert alert-danger"}`,role:"alert",children:s?"Password and Confirm Password Matched!":"Password and Confirm Password do not Match!"})]}),o.jsx("div",{className:"mb-3",children:o.jsx("button",{type:"submit",className:"btn btn-danger text-uppercase w-full",children:"Submit"})})]})]})})};/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function Qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qb(Object(n),!0).forEach(function(r){nz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lj(r.key),r)}}function tz(t,e,n){return e&&Xb(t.prototype,e),n&&Xb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nz(t,e,n){return e=Lj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oj(t){return rz(t)||sz(t)||iz(t)||az()}function rz(t){if(Array.isArray(t))return lg(t)}function sz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iz(t,e){if(t){if(typeof t=="string")return lg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lg(t,e)}}function lg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oz(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lj(t){var e=oz(t,"string");return typeof e=="symbol"?e:String(e)}var tf=typeof window<"u"&&typeof window.document<"u",Nr=tf?window:{},aw=tf&&Nr.document.documentElement?"ontouchstart"in Nr.document.documentElement:!1,ow=tf?"PointerEvent"in Nr:!1,Fe="cropper",lw="all",Mj="crop",Vj="move",Fj="zoom",Ys="e",Qs="w",Ji="s",ns="n",ko="ne",Ro="nw",Do="se",Oo="sw",cg="".concat(Fe,"-crop"),Jb="".concat(Fe,"-disabled"),en="".concat(Fe,"-hidden"),Zb="".concat(Fe,"-hide"),lz="".concat(Fe,"-invisible"),$d="".concat(Fe,"-modal"),ug="".concat(Fe,"-move"),tc="".concat(Fe,"Action"),cu="".concat(Fe,"Preview"),cw="crop",$j="move",Uj="none",dg="crop",hg="cropend",fg="cropmove",pg="cropstart",e_="dblclick",cz=aw?"touchstart":"mousedown",uz=aw?"touchmove":"mousemove",dz=aw?"touchend touchcancel":"mouseup",t_=ow?"pointerdown":cz,n_=ow?"pointermove":uz,r_=ow?"pointerup pointercancel":dz,s_="ready",i_="resize",a_="wheel",mg="zoom",o_="image/jpeg",hz=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,fz=/^data:/,pz=/^data:image\/jpeg;base64,/,mz=/^img|canvas$/i,Bj=200,zj=100,l_={viewMode:0,dragMode:cw,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Bj,minContainerHeight:zj,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},gz='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',vz=Number.isNaN||Nr.isNaN;function fe(t){return typeof t=="number"&&!vz(t)}var c_=function(e){return e>0&&e<1/0};function hp(t){return typeof t>"u"}function Oi(t){return og(t)==="object"&&t!==null}var yz=Object.prototype.hasOwnProperty;function ga(t){if(!Oi(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&yz.call(n,"isPrototypeOf")}catch{return!1}}function Zt(t){return typeof t=="function"}var wz=Array.prototype.slice;function Hj(t){return Array.from?Array.from(t):wz.call(t)}function st(t,e){return t&&Zt(e)&&(Array.isArray(t)||fe(t.length)?Hj(t).forEach(function(n,r){e.call(t,n,r,t)}):Oi(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var Be=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Oi(e)&&r.length>0&&r.forEach(function(i){Oi(i)&&Object.keys(i).forEach(function(a){e[a]=i[a]})}),e},xz=/\.\d*(?:0|9){12}\d*$/;function Pa(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return xz.test(t)?Math.round(t*e)/e:t}var bz=/^width|height|left|top|marginLeft|marginTop$/;function gs(t,e){var n=t.style;st(e,function(r,s){bz.test(s)&&fe(r)&&(r="".concat(r,"px")),n[s]=r})}function _z(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function pt(t,e){if(e){if(fe(t.length)){st(t,function(r){pt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Tr(t,e){if(e){if(fe(t.length)){st(t,function(n){Tr(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function va(t,e,n){if(e){if(fe(t.length)){st(t,function(r){va(r,e,n)});return}n?pt(t,e):Tr(t,e)}}var Ez=/([a-z\d])([A-Z])/g;function uw(t){return t.replace(Ez,"$1-$2").toLowerCase()}function gg(t,e){return Oi(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(uw(e)))}function nc(t,e,n){Oi(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(uw(e)),n)}function Tz(t,e){if(Oi(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(uw(e)))}var Wj=/\s\s*/,qj=function(){var t=!1;if(tf){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Nr.addEventListener("test",n,r),Nr.removeEventListener("test",n,r)}return t}();function Kn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(Wj).forEach(function(i){if(!qj){var a=t.listeners;a&&a[i]&&a[i][n]&&(s=a[i][n],delete a[i][n],Object.keys(a[i]).length===0&&delete a[i],Object.keys(a).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Rn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(Wj).forEach(function(i){if(r.once&&!qj){var a=t.listeners,l=a===void 0?{}:a;s=function(){delete l[i][n],t.removeEventListener(i,s,r);for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];n.apply(t,d)},l[i]||(l[i]={}),l[i][n]&&t.removeEventListener(i,l[i][n],r),l[i][n]=s,t.listeners=l}t.addEventListener(i,s,r)})}function ka(t,e,n){var r;return Zt(Event)&&Zt(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function Gj(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var fp=Nr.location,Sz=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function u_(t){var e=t.match(Sz);return e!==null&&(e[1]!==fp.protocol||e[2]!==fp.hostname||e[3]!==fp.port)}function d_(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function ml(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,a=[];fe(s)&&s!==0&&a.push("translateX(".concat(s,"px)")),fe(i)&&i!==0&&a.push("translateY(".concat(i,"px)")),fe(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),fe(n)&&n!==1&&a.push("scaleX(".concat(n,")")),fe(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var l=a.length?a.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function Iz(t){var e=Dj({},t),n=0;return st(t,function(r,s){delete e[s],st(e,function(i){var a=Math.abs(r.startX-i.startX),l=Math.abs(r.startY-i.startY),c=Math.abs(r.endX-i.endX),u=Math.abs(r.endY-i.endY),d=Math.sqrt(a*a+l*l),h=Math.sqrt(c*c+u*u),f=(h-d)/d;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function uu(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:Dj({startX:n,startY:r},s)}function Nz(t){var e=0,n=0,r=0;return st(t,function(s){var i=s.startX,a=s.startY;e+=i,n+=a,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function vs(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=c_(r),a=c_(n);if(i&&a){var l=n*e;s==="contain"&&l>r||s==="cover"&&l<r?n=r/e:r=n*e}else i?n=r/e:a&&(r=n*e);return{width:r,height:n}}function jz(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),a=Math.cos(s),l=e*a+n*i,c=e*i+n*a;return r>90?{width:c,height:l}:{width:l,height:c}}function Cz(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,a=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,u=e.scaleX,d=u===void 0?1:u,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,x=n.naturalHeight,y=r.fillColor,m=y===void 0?"transparent":y,v=r.imageSmoothingEnabled,w=v===void 0?!0:v,b=r.imageSmoothingQuality,I=b===void 0?"low":b,_=r.maxWidth,j=_===void 0?1/0:_,E=r.maxHeight,T=E===void 0?1/0:E,S=r.minWidth,P=S===void 0?0:S,O=r.minHeight,C=O===void 0?0:O,A=document.createElement("canvas"),M=A.getContext("2d"),B=vs({aspectRatio:p,width:j,height:T}),D=vs({aspectRatio:p,width:P,height:C},"cover"),R=Math.min(B.width,Math.max(D.width,g)),L=Math.min(B.height,Math.max(D.height,x)),F=vs({aspectRatio:s,width:j,height:T}),W=vs({aspectRatio:s,width:P,height:C},"cover"),k=Math.min(F.width,Math.max(W.width,i)),z=Math.min(F.height,Math.max(W.height,a)),X=[-k/2,-z/2,k,z];return A.width=Pa(R),A.height=Pa(L),M.fillStyle=m,M.fillRect(0,0,R,L),M.save(),M.translate(R/2,L/2),M.rotate(c*Math.PI/180),M.scale(d,f),M.imageSmoothingEnabled=w,M.imageSmoothingQuality=I,M.drawImage.apply(M,[t].concat(Oj(X.map(function(J){return Math.floor(Pa(J))})))),M.restore(),A}var Kj=String.fromCharCode;function Az(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=Kj(t.getUint8(s));return r}var Pz=/^data:.*,/;function kz(t){var e=t.replace(Pz,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return st(s,function(i,a){s[a]=n.charCodeAt(a)}),r}function Rz(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(Kj.apply(null,Hj(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function Dz(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var a=e.byteLength,l=2;l+1<a;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break}l+=1}if(s){var c=s+4,u=s+10;if(Az(e,c,4)==="Exif"){var d=e.getUint16(u);if(r=d===18761,(r||d===19789)&&e.getUint16(u+2,r)===42){var h=e.getUint32(u+4,r);h>=8&&(i=u+h)}}}if(i){var f=e.getUint16(i,r),p,g;for(g=0;g<f;g+=1)if(p=i+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function Oz(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var Lz={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),a=Number(n.minContainerHeight);pt(s,en),Tr(e,en);var l={width:Math.max(r.offsetWidth,i>=0?i:Bj),height:Math.max(r.offsetHeight,a>=0?a:zj)};this.containerData=l,gs(s,{width:l.width,height:l.height}),pt(e,en),Tr(s,en)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,a=s?n.naturalWidth:n.naturalHeight,l=i/a,c=e.width,u=e.height;e.height*l>e.width?r===3?c=e.height*l:u=e.width/l:r===3?u=e.width/l:c=e.height*l;var d={aspectRatio:l,naturalWidth:i,naturalHeight:a,width:c,height:u};this.canvasData=d,this.limited=r===1||r===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=Be({},d)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,l=r.viewMode,c=i.aspectRatio,u=this.cropped&&a;if(e){var d=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(d=Math.max(d,s.width),h=Math.max(h,s.height),l===3&&(h*c>d?d=h*c:h=d/c)):l>0&&(d?d=Math.max(d,u?a.width:0):h?h=Math.max(h,u?a.height:0):u&&(d=a.width,h=a.height,h*c>d?d=h*c:h=d/c));var f=vs({aspectRatio:c,width:d,height:h});d=f.width,h=f.height,i.minWidth=d,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(l>(u?0:1)){var p=s.width-i.width,g=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,g),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,g),u&&this.limited&&(i.minLeft=Math.min(a.left,a.left+(a.width-i.width)),i.minTop=Math.min(a.top,a.top+(a.height-i.height)),i.maxLeft=a.left,i.maxTop=a.top,l===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,g),i.maxTop=Math.max(0,g))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=jz({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),a=i.width,l=i.height,c=r.width*(a/r.naturalWidth),u=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(u-r.height)/2,r.width=c,r.height=u,r.aspectRatio=a/l,r.naturalWidth=a,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,gs(this.canvas,Be({width:r.width,height:r.height},ml({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);Be(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),gs(this.image,Be({width:r.width,height:r.height},ml(Be({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=Be({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,a=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var u=Number(r.minCropBoxWidth)||0,d=Number(r.minCropBoxHeight)||0,h=l?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,f=l?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;u=Math.min(u,s.width),d=Math.min(d,s.height),c&&(u&&d?d*c>u?d=u/c:u=d*c:u?d=u/c:d&&(u=d*c),f*c>h?f=h/c:h=f*c),a.minWidth=Math.min(u,h),a.minHeight=Math.min(d,f),a.maxWidth=h,a.maxHeight=f}n&&(l?(a.minLeft=Math.max(0,i.left),a.minTop=Math.max(0,i.top),a.maxLeft=Math.min(s.width,i.left+i.width)-a.width,a.maxTop=Math.min(s.height,i.top+i.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=s.width-a.width,a.maxTop=s.height-a.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&nc(this.face,tc,r.width>=n.width&&r.height>=n.height?Vj:lw),gs(this.cropBox,Be({width:r.width,height:r.height},ml({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ka(this.element,dg,this.getData())}},Mz={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=s,a.alt=i,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,st(l,function(c){var u=document.createElement("img");nc(c,cu,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(u.crossOrigin=n),u.src=s,u.alt=i,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){st(this.previews,function(e){var n=gg(e,cu);gs(e,{width:n.width,height:n.height}),e.innerHTML=n.html,Tz(e,cu)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,a=e.width,l=e.height,c=r.left-n.left-e.left,u=r.top-n.top-e.top;!this.cropped||this.disabled||(gs(this.viewBoxImage,Be({width:a,height:l},ml(Be({translateX:-c,translateY:-u},e)))),st(this.previews,function(d){var h=gg(d,cu),f=h.width,p=h.height,g=f,x=p,y=1;s&&(y=f/s,x=i*y),i&&x>p&&(y=p/i,g=s*y,x=p),gs(d,{width:g,height:x}),gs(d.getElementsByTagName("img")[0],Be({width:a*y,height:l*y},ml(Be({translateX:-c*y,translateY:-u*y},e))))}))}},Vz={bind:function(){var e=this.element,n=this.options,r=this.cropper;Zt(n.cropstart)&&Rn(e,pg,n.cropstart),Zt(n.cropmove)&&Rn(e,fg,n.cropmove),Zt(n.cropend)&&Rn(e,hg,n.cropend),Zt(n.crop)&&Rn(e,dg,n.crop),Zt(n.zoom)&&Rn(e,mg,n.zoom),Rn(r,t_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Rn(r,a_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Rn(r,e_,this.onDblclick=this.dblclick.bind(this)),Rn(e.ownerDocument,n_,this.onCropMove=this.cropMove.bind(this)),Rn(e.ownerDocument,r_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Rn(window,i_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;Zt(n.cropstart)&&Kn(e,pg,n.cropstart),Zt(n.cropmove)&&Kn(e,fg,n.cropmove),Zt(n.cropend)&&Kn(e,hg,n.cropend),Zt(n.crop)&&Kn(e,dg,n.crop),Zt(n.zoom)&&Kn(e,mg,n.zoom),Kn(r,t_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Kn(r,a_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Kn(r,e_,this.onDblclick),Kn(e.ownerDocument,n_,this.onCropMove),Kn(e.ownerDocument,r_,this.onCropEnd),n.responsive&&Kn(window,i_,this.onResize)}},Fz={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,a=Math.abs(s-1)>Math.abs(i-1)?s:i;if(a!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(st(l,function(u,d){l[d]=u*a})),this.setCropBoxData(st(c,function(u,d){c[d]=u*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===Uj||this.setDragMode(_z(this.dragBox,cg)?$j:cw)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(fe(n)&&n!==1||fe(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,a;e.changedTouches?st(e.changedTouches,function(l){i[l.identifier]=uu(l)}):i[e.pointerId||0]=uu(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?a=Fj:a=gg(e.target,tc),hz.test(a)&&ka(this.element,pg,{originalEvent:e,action:a})!==!1&&(e.preventDefault(),this.action=a,this.cropping=!1,a===Mj&&(this.cropping=!0,pt(this.dragBox,$d)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),ka(this.element,fg,{originalEvent:e,action:n})!==!1&&(e.changedTouches?st(e.changedTouches,function(s){Be(r[s.identifier]||{},uu(s,!0))}):Be(r[e.pointerId||0]||{},uu(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?st(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,va(this.dragBox,$d,this.cropped&&this.options.modal)),ka(this.element,hg,{originalEvent:e,action:n}))}}},$z={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,a=this.pointers,l=this.action,c=n.aspectRatio,u=i.left,d=i.top,h=i.width,f=i.height,p=u+h,g=d+f,x=0,y=0,m=s.width,v=s.height,w=!0,b;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(x=i.minLeft,y=i.minTop,m=x+Math.min(s.width,r.width,r.left+r.width),v=y+Math.min(s.height,r.height,r.top+r.height));var I=a[Object.keys(a)[0]],_={x:I.endX-I.startX,y:I.endY-I.startY},j=function(T){switch(T){case Ys:p+_.x>m&&(_.x=m-p);break;case Qs:u+_.x<x&&(_.x=x-u);break;case ns:d+_.y<y&&(_.y=y-d);break;case Ji:g+_.y>v&&(_.y=v-g);break}};switch(l){case lw:u+=_.x,d+=_.y;break;case Ys:if(_.x>=0&&(p>=m||c&&(d<=y||g>=v))){w=!1;break}j(Ys),h+=_.x,h<0&&(l=Qs,h=-h,u-=h),c&&(f=h/c,d+=(i.height-f)/2);break;case ns:if(_.y<=0&&(d<=y||c&&(u<=x||p>=m))){w=!1;break}j(ns),f-=_.y,d+=_.y,f<0&&(l=Ji,f=-f,d-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case Qs:if(_.x<=0&&(u<=x||c&&(d<=y||g>=v))){w=!1;break}j(Qs),h-=_.x,u+=_.x,h<0&&(l=Ys,h=-h,u-=h),c&&(f=h/c,d+=(i.height-f)/2);break;case Ji:if(_.y>=0&&(g>=v||c&&(u<=x||p>=m))){w=!1;break}j(Ji),f+=_.y,f<0&&(l=ns,f=-f,d-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case ko:if(c){if(_.y<=0&&(d<=y||p>=m)){w=!1;break}j(ns),f-=_.y,d+=_.y,h=f*c}else j(ns),j(Ys),_.x>=0?p<m?h+=_.x:_.y<=0&&d<=y&&(w=!1):h+=_.x,_.y<=0?d>y&&(f-=_.y,d+=_.y):(f-=_.y,d+=_.y);h<0&&f<0?(l=Oo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Ro,h=-h,u-=h):f<0&&(l=Do,f=-f,d-=f);break;case Ro:if(c){if(_.y<=0&&(d<=y||u<=x)){w=!1;break}j(ns),f-=_.y,d+=_.y,h=f*c,u+=i.width-h}else j(ns),j(Qs),_.x<=0?u>x?(h-=_.x,u+=_.x):_.y<=0&&d<=y&&(w=!1):(h-=_.x,u+=_.x),_.y<=0?d>y&&(f-=_.y,d+=_.y):(f-=_.y,d+=_.y);h<0&&f<0?(l=Do,f=-f,h=-h,d-=f,u-=h):h<0?(l=ko,h=-h,u-=h):f<0&&(l=Oo,f=-f,d-=f);break;case Oo:if(c){if(_.x<=0&&(u<=x||g>=v)){w=!1;break}j(Qs),h-=_.x,u+=_.x,f=h/c}else j(Ji),j(Qs),_.x<=0?u>x?(h-=_.x,u+=_.x):_.y>=0&&g>=v&&(w=!1):(h-=_.x,u+=_.x),_.y>=0?g<v&&(f+=_.y):f+=_.y;h<0&&f<0?(l=ko,f=-f,h=-h,d-=f,u-=h):h<0?(l=Do,h=-h,u-=h):f<0&&(l=Ro,f=-f,d-=f);break;case Do:if(c){if(_.x>=0&&(p>=m||g>=v)){w=!1;break}j(Ys),h+=_.x,f=h/c}else j(Ji),j(Ys),_.x>=0?p<m?h+=_.x:_.y>=0&&g>=v&&(w=!1):h+=_.x,_.y>=0?g<v&&(f+=_.y):f+=_.y;h<0&&f<0?(l=Ro,f=-f,h=-h,d-=f,u-=h):h<0?(l=Oo,h=-h,u-=h):f<0&&(l=ko,f=-f,d-=f);break;case Vj:this.move(_.x,_.y),w=!1;break;case Fj:this.zoom(Iz(a),e),w=!1;break;case Mj:if(!_.x||!_.y){w=!1;break}b=Gj(this.cropper),u=I.startX-b.left,d=I.startY-b.top,h=i.minWidth,f=i.minHeight,_.x>0?l=_.y>0?Do:ko:_.x<0&&(u-=h,l=_.y>0?Oo:Ro),_.y<0&&(d-=f),this.cropped||(Tr(this.cropBox,en),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}w&&(i.width=h,i.height=f,i.left=u,i.top=d,this.action=l,this.renderCropBox()),st(a,function(E){E.startX=E.endX,E.startY=E.endY})}},Uz={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&pt(this.dragBox,$d),Tr(this.cropBox,en),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Be({},this.initialImageData),this.canvasData=Be({},this.initialCanvasData),this.cropBoxData=Be({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Be(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Tr(this.dragBox,$d),pt(this.cropBox,en)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,st(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Tr(this.cropper,Jb)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,pt(this.cropper,Jb)),this},destroy:function(){var e=this.element;return e[Fe]?(e[Fe]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(hp(e)?e:s+Number(e),hp(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(fe(e)&&(r.left=e,s=!0),fe(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,a=i.width,l=i.height,c=i.naturalWidth,u=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var d=c*e,h=u*e;if(ka(this.element,mg,{ratio:e,oldRatio:a/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=Gj(this.cropper),g=f&&Object.keys(f).length?Nz(f):{pageX:r.pageX,pageY:r.pageY};i.left-=(d-a)*((g.pageX-p.left-i.left)/a),i.top-=(h-l)*((g.pageY-p.top-i.top)/l)}else ga(n)&&fe(n.x)&&fe(n.y)?(i.left-=(d-a)*((n.x-i.left)/a),i.top-=(h-l)*((n.y-i.top)/l)):(i.left-=(d-a)/2,i.top-=(h-l)/2);i.width=d,i.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),fe(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,fe(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(fe(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(fe(e)&&(r.scaleX=e,s=!0),fe(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var l=r.width/r.naturalWidth;if(st(a,function(d,h){a[h]=d/l}),e){var c=Math.round(a.y+a.height),u=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=u-a.x,a.height=c-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&ga(e)){var a=!1;n.rotatable&&fe(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,a=!0),n.scalable&&(fe(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,a=!0),fe(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;fe(e.x)&&(i.left=e.x*l+s.left),fe(e.y)&&(i.top=e.y*l+s.top),fe(e.width)&&(i.width=e.width*l),fe(e.height)&&(i.height=e.height*l),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?Be({},this.containerData):{}},getImageData:function(){return this.sized?Be({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&st(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&ga(e)&&(fe(e.left)&&(n.left=e.left),fe(e.top)&&(n.top=e.top),fe(e.width)?(n.width=e.width,n.height=e.width/r):fe(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&ga(e)&&(fe(e.left)&&(n.left=e.left),fe(e.top)&&(n.top=e.top),fe(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),fe(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=Cz(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,a=s.y,l=s.width,c=s.height,u=r.width/Math.floor(n.naturalWidth);u!==1&&(i*=u,a*=u,l*=u,c*=u);var d=l/c,h=vs({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=vs({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=vs({aspectRatio:d,width:e.width||(u!==1?r.width:l),height:e.height||(u!==1?r.height:c)}),g=p.width,x=p.height;g=Math.min(h.width,Math.max(f.width,g)),x=Math.min(h.height,Math.max(f.height,x));var y=document.createElement("canvas"),m=y.getContext("2d");y.width=Pa(g),y.height=Pa(x),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,x);var v=e.imageSmoothingEnabled,w=v===void 0?!0:v,b=e.imageSmoothingQuality;m.imageSmoothingEnabled=w,b&&(m.imageSmoothingQuality=b);var I=r.width,_=r.height,j=i,E=a,T,S,P,O,C,A;j<=-l||j>I?(j=0,T=0,P=0,C=0):j<=0?(P=-j,j=0,T=Math.min(I,l+j),C=T):j<=I&&(P=0,T=Math.min(l,I-j),C=T),T<=0||E<=-c||E>_?(E=0,S=0,O=0,A=0):E<=0?(O=-E,E=0,S=Math.min(_,c+E),A=S):E<=_&&(O=0,S=Math.min(c,_-E),A=S);var M=[j,E,T,S];if(C>0&&A>0){var B=g/l;M.push(P*B,O*B,C*B,A*B)}return m.drawImage.apply(m,[r].concat(Oj(M.map(function(D){return Math.floor(Pa(D))})))),y},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!hp(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===cw,a=n.movable&&e===$j;e=i||a?e:Uj,n.dragMode=e,nc(r,tc,e),va(r,cg,i),va(r,ug,a),n.cropBoxMovable||(nc(s,tc,e),va(s,cg,i),va(s,ug,a))}return this}},Bz=Nr.Cropper,Yj=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ez(this,t),!e||!mz.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Be({},l_,ga(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return tz(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[Fe]){if(n[Fe]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(fz.test(n)){pz.test(n)?this.read(kz(n)):this.clone();return}var a=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=l,a.onerror=l,a.ontimeout=l,a.onprogress=function(){a.getResponseHeader("content-type")!==o_&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&u_(n)&&s.crossOrigin&&(n=d_(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=s.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=Dz(n),a=0,l=1,c=1;if(i>1){this.url=Rz(n,o_);var u=Oz(i);a=u.rotate,l=u.scaleX,c=u.scaleY}r.rotatable&&(s.rotate=a),r.scalable&&(s.scaleX=l,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&u_(r)&&(s||(s="anonymous"),i=d_(r)),this.crossOrigin=s,this.crossOriginUrl=i;var a=document.createElement("img");s&&(a.crossOrigin=s),a.src=i||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),pt(a,Zb),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Nr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Nr.navigator.userAgent),i=function(u,d){Be(n.imageData,{naturalWidth:u,naturalHeight:d,aspectRatio:u/d}),n.initialImageData=Be({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){i(a.width,a.height),s||l.removeChild(a)},a.src=r.src,s||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,a=document.createElement("div");a.innerHTML=gz;var l=a.querySelector(".".concat(Fe,"-container")),c=l.querySelector(".".concat(Fe,"-canvas")),u=l.querySelector(".".concat(Fe,"-drag-box")),d=l.querySelector(".".concat(Fe,"-crop-box")),h=d.querySelector(".".concat(Fe,"-face"));this.container=i,this.cropper=l,this.canvas=c,this.dragBox=u,this.cropBox=d,this.viewBox=l.querySelector(".".concat(Fe,"-view-box")),this.face=h,c.appendChild(s),pt(n,en),i.insertBefore(l,n.nextSibling),Tr(s,Zb),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,pt(d,en),r.guides||pt(d.getElementsByClassName("".concat(Fe,"-dashed")),en),r.center||pt(d.getElementsByClassName("".concat(Fe,"-center")),en),r.background&&pt(l,"".concat(Fe,"-bg")),r.highlight||pt(h,lz),r.cropBoxMovable&&(pt(h,ug),nc(h,tc,lw)),r.cropBoxResizable||(pt(d.getElementsByClassName("".concat(Fe,"-line")),en),pt(d.getElementsByClassName("".concat(Fe,"-point")),en)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),Zt(r.ready)&&Rn(n,s_,r.ready,{once:!0}),ka(n,s_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Tr(this.element,en)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Bz,t}},{key:"setDefaults",value:function(n){Be(l_,ga(n)&&n)}}]),t}();Be(Yj.prototype,Lz,Mz,Vz,Fz,$z,Uz);var ni=function(){return ni=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},ni.apply(this,arguments)};function pp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var zz=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],Hz={opacity:0,maxWidth:"100%"},Qj=Ee.forwardRef(function(t,e){var n=pp(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,a=n.style,l=n.className,c=n.crossOrigin,u=n.scaleX,d=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,x=g===void 0?"picture":g,y=n.ready,m=n.onInitialized,v=pp(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),w={scaleY:d,scaleX:u,enable:h,zoomTo:f,rotateTo:p},b=function(){for(var _=[],j=0;j<arguments.length;j++)_[j]=arguments[j];var E=N.useRef(null);return Ee.useEffect(function(){_.forEach(function(T){T&&(typeof T=="function"?T(E.current):T.current=E.current)})},[_]),E}(e,N.useRef(null));N.useEffect(function(){var _;!((_=b.current)===null||_===void 0)&&_.cropper&&typeof f=="number"&&b.current.cropper.zoomTo(f)},[n.zoomTo]),N.useEffect(function(){var _;!((_=b.current)===null||_===void 0)&&_.cropper&&i!==void 0&&b.current.cropper.reset().clear().replace(i)},[i]),N.useEffect(function(){if(b.current!==null){var _=new Yj(b.current,ni(ni({dragMode:s},v),{ready:function(j){j.currentTarget!==null&&function(E,T){T===void 0&&(T={});var S=T.enable,P=S===void 0||S,O=T.scaleX,C=O===void 0?1:O,A=T.scaleY,M=A===void 0?1:A,B=T.zoomTo,D=B===void 0?0:B,R=T.rotateTo;P?E.enable():E.disable(),E.scaleX(C),E.scaleY(M),R!==void 0&&E.rotateTo(R),D>0&&E.zoomTo(D)}(j.currentTarget.cropper,w),y&&y(j)}}));m&&m(_)}return function(){var j,E;(E=(j=b.current)===null||j===void 0?void 0:j.cropper)===null||E===void 0||E.destroy()}},[b]);var I=function(_){return zz.reduce(function(j,E){var T=j,S=E;return T[S],pp(T,[typeof S=="symbol"?S:S+""])},_)}(ni(ni({},v),{crossOrigin:c,src:i,alt:x}));return Ee.createElement("div",{style:a,className:l},Ee.createElement("img",ni({},I,{style:Hz,ref:b})))});const Xj=async()=>{try{const t=Ne(ie,"slider_images"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i.title.stringValue,u=l?await Wz(l):null;n.push({_id:a,title:c,bannerURL:u})});await Promise.all(r),dn.dispatch(j3(n))}catch(t){console.error("Error fetching Slider:",t)}},Wz=async t=>{try{const e=ht(ft,`slider_images/${t}`);return await po(e)}catch{return null}};async function qz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=dt(ie,"slider_images",t),s=(await fo(e)).data().banner;if(await Wn(e),s){const i=ht(ft,`slider_images/${s}`);await mo(i)}alert("Slider item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Slider!")}}}const Gz=()=>{const t=re(p=>p.getslider).data,[e,n]=N.useState(),[r,s]=N.useState(""),[i,a]=N.useState(!1),[l,c]=N.useState("");N.useEffect(()=>{Xj()},[]);const u=N.useRef(null),d=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(u&&u.current){const p=u.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){alert("Please select an image and provide a title!");return}a(!0);const p=ht(ft,`slider_images/${r}`),g=await fetch(l).then(y=>y.blob()),x=new FileReader;x.readAsDataURL(g),x.onloadend=async()=>{Ki(p,g).then(async()=>{await un(Ne(ie,"slider_images"),{title:r,bannerURL:r}),alert("Slider Image has been saved!"),s(""),n(null),a(!1),window.location.reload()}).catch(()=>{alert("Error uploading image!"),a(!1)})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Slider Images"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{children:g+1}),o.jsx("td",{children:p.title}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(te,{target:"_blank",to:p.bannerURL,children:o.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>qz(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog ",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:i,value:r})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:i}),o.jsx("div",{className:"my-2",children:o.jsx(Qj,{src:e,ref:u,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},dw=async()=>{try{const t=Ne(ie,"phdStudents"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await Yz(l):null;n.push({_id:a,data:i,profileImage:c})});await Promise.all(r),dn.dispatch(P3(n))}catch(t){console.error("Error fetching phd:",t)}};async function Kz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=dt(ie,"phdStudents",t);await Wn(e),alert("phd item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting phd!")}}}const Yz=async t=>{try{const e=ht(ft,`/peoples/phd_profile_images/${t}`);return await po(e)}catch{return null}},Jj=async()=>{try{const t=Ne(ie,"pgusStudents"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),dn.dispatch(k3(n))}catch(t){console.error("Error fetching pgug:",t)}};async function Qz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=dt(ie,"pgusStudents",t);await Wn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting pgug!")}}}const Zj=async()=>{try{const t=Ne(ie,"visitorsAndInterns"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,data:i})});await Promise.all(r),dn.dispatch(R3(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function Xz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=dt(ie,"visitorsAndInterns",t);await Wn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Visitor/Intern!")}}}const Jz=()=>{const t=re(l=>l.getphdStudents.data),e=re(l=>l.getpgugStudents.data),n=re(l=>l.getvisitorsandinterns.data),[r,s]=N.useState(1),[i,a]=N.useState("");return N.useEffect(()=>{dw(),Jj(),Zj()},[]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Peoples"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"w-100",children:o.jsxs(o.Fragment,{children:[o.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>s(1),children:"Ph.D. Scholars"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(2),children:"Post Graduate students"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(3),children:"Alumni PhD"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(4),children:"Alumni Masters and Bachelors"})}),o.jsx("li",{className:"nav-item",role:"presentation",children:o.jsx("button",{className:`nav-link ${r===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>s(5),children:"Interns and Visitors"})})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[(r===1||r===3)&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),r!==5&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(r===2||r===4)&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),r!==5&&o.jsxs(o.Fragment,{children:[" ",o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:r===3||r===1?"Research Interests":"Currently Working At"})]}),r===5&&o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsxs("tbody",{children:[(r===1||r===3)&&(t==null?void 0:t.map(l=>{var g,x;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p}=l==null?void 0:l.data;return r===1&&(d!=null&&d.booleanValue)||r===3&&!(d!=null&&d.booleanValue)?null:o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("a",{href:l==null?void 0:l.profileImage,target:"_blank",children:o.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{width:"80px"}})})}),o.jsxs("td",{children:[c==null?void 0:c.stringValue,(d==null?void 0:d.booleanValue)&&o.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("td",{children:o.jsx("a",{href:"mailto:"+(h==null?void 0:h.stringValue),target:"_blank",children:(h==null?void 0:h.stringValue)||"N/A"})}),o.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),o.jsx("td",{children:f==null?void 0:f.stringValue}),o.jsx("td",{children:o.jsx("ol",{children:(x=(g=p==null?void 0:p.arrayValue)==null?void 0:g.values)==null?void 0:x.map((y,m)=>o.jsx("li",{children:y.stringValue},m))})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Kz(l._id),children:"Delete"})})})]})})]},l._id)})),(r===2||r===4)&&(e==null?void 0:e.map(l=>{const{name:c,batch:u,isAlumni:d,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return r===2&&(d!=null&&d.booleanValue)||r===4&&!(d!=null&&d.booleanValue)?null:o.jsxs("tr",{children:[o.jsxs("td",{children:[c==null?void 0:c.stringValue,(d==null?void 0:d.booleanValue)&&o.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("td",{children:o.jsx("a",{href:"mailto:"+(h==null?void 0:h.stringValue),target:"_blank",children:(h==null?void 0:h.stringValue)||"N/A"})}),o.jsx("td",{children:(p==null?void 0:p.stringValue)||"N/A"}),o.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),o.jsx("td",{children:f==null?void 0:f.stringValue}),o.jsx("td",{children:g==null?void 0:g.stringValue}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Qz(l._id),children:"Delete"})})})]})})]},l._id)})),r===5&&(n==null?void 0:n.map(l=>{const{name:c,collegeName:u}=l==null?void 0:l.data;return o.jsxs("tr",{children:[o.jsx("td",{children:c==null?void 0:c.stringValue}),o.jsx("td",{children:u==null?void 0:u.stringValue}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Xz(l._id),children:"Delete"})})})]})})]},l._id)}))]})]}),!n.length&&r===5&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!t.length&&(r===1||r===3)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!e.length&&(r===2||r===4)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]})})]}),o.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),o.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:l=>a(l.target.value),children:[o.jsx("option",{value:"",children:"--select designation--"}),o.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),o.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),o.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),o.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),o.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"mb-2",children:[(i==="Ph.D. Scholars"||i==="Alumni Ph.D.")&&o.jsx(Zz,{}),(i==="Post Graduate students"||i==="Alumni Masters and Bachelors")&&o.jsx(e9,{}),i==="Visitors and Interns"&&o.jsx(t9,{})]})]})})]})})})]})},Zz=()=>{const t=re(b=>b.getsupervisors.data),[e,n]=N.useState(""),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState({name:"",email:""}),[h,f]=N.useState(""),[p,g]=N.useState(!1),[x,y]=N.useState(!1),[m,v]=N.useState(),w=async b=>{if(b.preventDefault(),!e||!r||!i||!l||!h){alert("Please fill all required fields.");return}if(!m){console.log("Please upload a profile image.");return}y(!0);const I=ht(ft,`/peoples/phd_profile_images/${e}_${m.name}`);await Ki(I,m).then(async()=>{console.log("Profile image uploaded successfully"),un(Ne(ie,"phdStudents"),{name:e,email:r,mobile:i,batch:l,supervisor:u,researchInterests:h.split(",").map(_=>_.trim()),isAlumni:p,profileImage:e+"_"+m.name}).then(()=>{alert("PhD student data has been saved!"),n(""),s(""),a(""),c(""),f(""),g(!1),y(!1),window.location.reload()}).catch(_=>{console.error("Error saving PhD student data:",_),y(!1)})})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:w,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:b=>n(b.target.value)})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",onChange:b=>s(b.target.value),placeholder:"ie. user@gmail.com"})]}),o.jsxs("div",{className:"col",children:[o.jsxs("label",{htmlFor:"useremail",children:["Supervisor",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:b=>{var I,_,j;d({name:b.target.value,email:(j=(_=(I=t.filter(E=>{var T,S;return((S=(T=E==null?void 0:E.data)==null?void 0:T.name)==null?void 0:S.stringValue)==b.target.value})[0])==null?void 0:I.data)==null?void 0:_.email)==null?void 0:j.stringValue})},children:[o.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((b,I)=>{var _,j,E,T,S,P;return o.jsxs("option",{value:(j=(_=b==null?void 0:b.data)==null?void 0:_.name)==null?void 0:j.stringValue,children:[(T=(E=b==null?void 0:b.data)==null?void 0:E.name)==null?void 0:T.stringValue,"-",(P=(S=b==null?void 0:b.data)==null?void 0:S.email)==null?void 0:P.stringValue]},I)})]})]})]}),o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Mobile"}),o.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:b=>a(b.target.value),placeholder:"ie. 10 digits mobile number"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:b=>{var _;const I=(_=b.target.files)==null?void 0:_[0];v(I)},disabled:x})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Batch"}),o.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:b=>c(b.target.value)})]})]}),o.jsxs("div",{className:"mb-1",children:[o.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),o.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:b=>f(b.target.value)})]}),o.jsx("div",{className:"mb-1 mt-2",children:o.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[o.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:b=>g(b.target.checked)}),o.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:x,children:x?"Submitting...":"Submit"})})]})})},e9=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(""),[f,p]=N.useState(!1),[g,x]=N.useState(!1),y=m=>{if(m.preventDefault(),!t||!n||!s||!a||!c||!d){alert("Please fill all required fields.");return}x(!0),un(Ne(ie,"pgusStudents"),{degree:t,name:n,email:s,mobile:a,batch:c,currentlyWorkingAt:d,isAlumni:f}).then(()=>{alert("PG/UG student data has been saved!"),e(""),r(""),i(""),l(""),u(""),h(""),p(!1),x(!1),location.reload()}).catch(v=>{console.error("Error saving PG/UG student data:",v),x(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:y,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),o.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[o.jsx("option",{value:"",children:"--select--"}),o.jsx("option",{value:"B.Tech",children:"B.Tech"}),o.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>i(m.target.value)})]})]}),o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Mobile"}),o.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Batch"}),o.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>u(m.target.value)})]})]}),o.jsxs("div",{className:"mb-1",children:[o.jsx("label",{htmlFor:"name",children:"Currently Working At"}),o.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),o.jsx("div",{className:"mb-1 mt-2",children:o.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[o.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:m=>p(m.target.checked)}),o.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},t9=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(!1),a=l=>{if(l.preventDefault(),!t||!n){alert("Please fill all required fields.");return}i(!0),un(Ne(ie,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{alert("Visitor/Intern data has been saved!"),e(""),r(""),i(!1),location.reload()}).catch(c=>{console.error("Error saving Visitor/Intern data:",c),i(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("form",{onSubmit:a,noValidate:!0,children:[o.jsxs("div",{className:"mb-1 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"name",children:"College Name"}),o.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),o.jsx("div",{className:"mb-1 mt-3",children:o.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:s,children:s?"Submitting...":"Submit"})})]})})},h_=()=>{const t=re(u=>u.getsupervisors.data),[e,n]=N.useState(!1),[r,s]=N.useState(),[i,a]=N.useState({name:"",email:"",phone:"",researchInterests:"",introduction:"",googleScholarLink:"",researchGateLink:"",personalProfileLink:"",otherLink:""});N.useEffect(()=>{yo()},[]);const l=u=>{const{name:d,value:h}=u.target;a(f=>({...f,[d]:h}))},c=async()=>{const{name:u,email:d,phone:h,researchInterests:f,introduction:p,googleScholarLink:g,researchGateLink:x,personalProfileLink:y,otherLink:m}=i;if(!u||!d||!h||!f||!p){console.log("Please fill all required fields.");return}if(!r){console.log("Please upload a profile image.");return}n(!0);const v=ht(ft,`/peoples/supervisor_profile_images/${u}_${r.name}`);await Ki(v,r).then(async()=>{console.log("Profile image uploaded successfully"),un(Ne(ie,"supervisors"),{name:u,email:d,phone:h,researchInterests:f,introduction:p,googleScholarLink:g,researchGateLink:x,personalProfileLink:y,otherLink:m,profileImage:u+"_"+r.name,startDate:new Date,endDate:"NA"}).then(()=>{alert("Supervisor details along with profile image have been saved successfully!"),a({name:"",email:"",phone:"",researchInterests:"",introduction:"",googleScholarLink:"",researchGateLink:"",personalProfileLink:"",otherLink:""}),s(void 0),n(!1),window.location.reload()}).catch(w=>{console.error("Error saving supervisor data:",w),n(!1)})}).catch(w=>{console.error("Error uploading profile image:",w),n(!1)})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Supervisor"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>{const{name:h,email:f,phone:p,researchInterests:g,introduction:x,googleScholarLink:y,researchGateLink:m,personalProfileLink:v,otherLink:w,startDate:b,endDate:I}=u==null?void 0:u.data;return o.jsxs("tr",{children:[o.jsx("td",{children:d+1}),o.jsx("td",{children:o.jsx("a",{href:u==null?void 0:u.profileImage,target:"_blank",children:o.jsx("img",{src:u==null?void 0:u.profileImage,alt:`${h}'s profile`,style:{width:"50px",height:"auto"}})})}),o.jsxs("td",{children:[h==null?void 0:h.stringValue,o.jsx("hr",{}),"(From ",b==null?void 0:b.timestampValue," to",I!=null&&I.timestampValue?I==null?void 0:I.timestampValue:" NA",")"]}),o.jsxs("td",{children:["Email:"," ",o.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:f==null?void 0:f.stringValue}),o.jsx("hr",{}),"Mobile: ",p==null?void 0:p.stringValue]}),o.jsx("td",{children:g==null?void 0:g.stringValue}),o.jsx("td",{children:o.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:x==null?void 0:x.stringValue})}),o.jsx("td",{children:o.jsxs("ol",{children:[o.jsx("li",{children:o.jsx(te,{to:y==null?void 0:y.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Google Scholar"})}),o.jsx("li",{children:o.jsx(te,{to:m==null?void 0:m.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Researchgate"})}),o.jsx("li",{children:o.jsx(te,{to:v==null?void 0:v.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Personal Profile"})}),o.jsx("li",{children:o.jsx(te,{to:w==null?void 0:w.stringValue,target:"_blank",className:"btn-link bnt-sm p-0",children:"Other Link"})})]})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${d}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${d}`,children:[o.jsx("li",{children:o.jsx(te,{className:"dropdown-item text-primary",to:"supervisors/"+(u==null?void 0:u._id),children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>zB(u._id),children:"Delete"})})]})]})})]},u._id)})})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"name",className:"form-label",children:"Name"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:i.name,onChange:l})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:i.email,onChange:l})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),o.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:i.phone,onChange:l})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image"}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:u=>{var h;const d=(h=u.target.files)==null?void 0:h[0];s(d)}})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:i.researchInterests,onChange:l})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),o.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:i.introduction,onChange:l})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"googleScholarLink",className:"form-label",children:"Google Scholar Link"}),o.jsx("input",{type:"text",className:"form-control",name:"googleScholarLink",value:i.googleScholarLink,onChange:l})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchGateLink",className:"form-label",children:"Research Gate Link"}),o.jsx("input",{type:"text",className:"form-control",name:"researchGateLink",value:i.researchGateLink,onChange:l})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"personalProfileLink",className:"form-label",children:"Personal Profile Link"}),o.jsx("input",{type:"text",className:"form-control",name:"personalProfileLink",value:i.personalProfileLink,onChange:l})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"otherLink",className:"form-label",children:"Other Link (if any)"}),o.jsx("input",{type:"text",className:"form-control",name:"otherLink",value:i.otherLink,onChange:l})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:e,children:e?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},wo=async()=>{try{const t=Ne(ie,"datasets"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i==null?void 0:i.title.stringValue,u=i==null?void 0:i.description.stringValue,d=l?await n9(l):null;n.push({_id:a,title:c,description:u,bannerURL:d})});await Promise.all(r),dn.dispatch(D3(n))}catch(t){console.error("Error fetching Datasets:",t)}},n9=async t=>{try{const e=ht(ft,`dataset_images/${t}`);return await po(e)}catch{return null}};async function r9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=dt(ie,"datasets",t),s=(await fo(e)).data().banner;if(await Wn(e),s){const i=ht(ft,`dataset_images/${s}`);await mo(i)}alert("Datasets item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Datasets!")}}}const s9=()=>{const t=re(x=>x.getdatasets).data,[e,n]=N.useState(),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(""),h=N.useRef(null);N.useEffect(()=>{wo()},[]);const f=x=>{if(x.target.files&&x.target.files.length>0){const y=new FileReader;y.onload=()=>{n(y.result)},y.readAsDataURL(x.target.files[0])}},p=()=>{if(h&&h.current){const x=h.current.cropper;d(x.getCroppedCanvas().toDataURL())}},g=async()=>{if(!u||!r||!i){alert("Please select an image and provide a required fields!");return}c(!0);const x=ht(ft,`dataset_images/${r}`),y=await fetch(u).then(v=>v.blob()),m=new FileReader;m.readAsDataURL(y),m.onloadend=async()=>{Ki(x,y).then(async()=>{await un(Ne(ie,"datasets"),{title:r,description:i,bannerURL:r}),alert("Datasets has been saved!"),s(""),n(null),c(!1),window.location.reload()}).catch(()=>{alert("Error uploading image!"),c(!1)})}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Datasets"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((x,y)=>o.jsxs("tr",{children:[o.jsx("td",{children:y+1}),o.jsx("td",{children:x==null?void 0:x.title}),o.jsxs("td",{children:[" ",o.jsx("div",{className:"overflow-auto p-2",style:{height:"300px"},children:x==null?void 0:x.description})]}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(te,{target:"_blank",to:x.bannerURL,children:o.jsx("img",{className:"rounded-2",src:x.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>r9(x._id),children:"Delete"})})})]})})]},y))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:x=>s(x.target.value),disabled:l,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),o.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:x=>a(x.target.value),disabled:l,value:i||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/jpeg",onChange:f,disabled:l}),o.jsx("div",{className:"my-2",children:o.jsx(Qj,{src:e,ref:h,aspectRatio:16/9,guides:!0,crop:p})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:g,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},nf=async()=>{try{const t=Ne(ie,"ResearchArea"),e=await Qt(t),n=[],r=e.docs.map(async s=>{var d,h;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=((h=(d=i==null?void 0:i.subareas)==null?void 0:d.arrayValue)==null?void 0:h.values)||[],u=l?await i9(l):null;n.push({_id:a,title:l,subareas:c,bannerURL:u})});await Promise.all(r),dn.dispatch(O3(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},i9=async t=>{try{const e=ht(ft,`research_areas_images/${t}`);return await po(e)}catch{return null}};async function a9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=dt(ie,"ResearchArea",t),s=(await fo(e)).data().banner;if(await Wn(e),s){const i=ht(ft,`research_areas_images/${s}`);await mo(i)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ResearchArea!")}}}const rf=async()=>{try{const t=Ne(ie,"research_subitems"),e=await Qt(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=i==null?void 0:i.description.stringValue,c=i==null?void 0:i.researchArea,u=(f=(h=i==null?void 0:i.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,d=(p=i==null?void 0:i.title)==null?void 0:p.stringValue;n.push({_id:a,title:d,description:l,researchArea:c,projects:u})});await Promise.all(r),dn.dispatch(L3(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function o9(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=dt(ie,"research_subitems",t);await Wn(n);const r=dt(ie,"ResearchArea",e);await Ci(r,{subareas:OI(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const l9=()=>{const t=re(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),[e,n]=N.useState(null),[r,s]=N.useState(""),[i,a]=N.useState(!1);N.useEffect(()=>{nf(),rf()},[]);const l=u=>{if(u.target.files&&u.target.files.length>0){const d=new FileReader;d.onload=()=>{n(d.result)},d.readAsDataURL(u.target.files[0])}},c=async()=>{if(!e||!r){alert("Please select an image and provide a title!");return}a(!0);const u=ht(ft,`research_areas_images/${r}`),d=await fetch(e).then(h=>h.blob());try{await Ki(u,d),await un(Ne(ie,"ResearchArea"),{title:r,subareas:[]}),alert("Research area has been saved!"),s(""),n(null),a(!1),location.reload()}catch{alert("Error uploading image!"),a(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Research Area"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>o.jsxs("tr",{children:[o.jsx("td",{children:d+1}),o.jsx("td",{children:u==null?void 0:u.title}),o.jsx("td",{children:o.jsx(te,{to:u._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(te,{target:"_blank",to:u==null?void 0:u.bannerURL,children:o.jsx("img",{className:"rounded-2",src:u.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>a9(u._id),children:"Delete"})})})]})})]},d))})]}),!t.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:u=>s(u.target.value),disabled:i,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]}),o.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:o.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),o.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Yi=async()=>{try{const t=Ne(ie,"projects_items"),e=await Qt(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null,l=(h=i==null?void 0:i.title)==null?void 0:h.stringValue,c=(f=i==null?void 0:i.pptLink)==null?void 0:f.stringValue,u=(p=i==null?void 0:i.pdfLink)==null?void 0:p.stringValue,d=l?await c9(l):null;n.push({_id:a,title:l,bannerURL:d,pdfLink:u,pptLink:c})});await Promise.all(r),dn.dispatch(M3(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},c9=async t=>{try{const e=ht(ft,`project_items_images/${t}`);return await po(e)}catch{return null}};async function u9(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=dt(ie,"projects_items",t),s=(await fo(e)).data().banner;if(await Wn(e),s){const c=ht(ft,`projects_items_images/${s}`);await mo(c)}const i=Ne(ie,"research_subitems"),l=(await Qt(i)).docs.map(async c=>{const u=c.ref;await Ci(u,{projects:OI(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsItems!")}}}const d9=()=>{const{id:t}=io();N.useEffect(()=>{rf(),nf(),Yi()},[]);const n=re(y=>{var m;return(m=y.getresearcharea)==null?void 0:m.data}).find(y=>y._id===t);n||(window.location.href="/CVPR_LAB/#/dashboard/research");const r=re(y=>y.getsubareas).data,s=(n==null?void 0:n.subareas)||[],i=r==null?void 0:r.filter(y=>s.some(m=>m.stringValue===(y==null?void 0:y._id))),[a,l]=N.useState(""),[c,u]=N.useState(""),[d,h]=N.useState(!1),[f,p]=N.useState([]),g=re(y=>{var m;return(m=y.getprojectitems)==null?void 0:m.data}),x=async()=>{if(!a){alert("Please select an image and provide a title!");return}h(!0);try{const m=(await un(Ne(ie,"research_subitems"),{title:a,researcharea:n._id,description:c,projects:f})).id;await Ci(dt(ie,"ResearchArea",n._id),{subareas:DV(m)}),alert("Subitem has been saved!"),l(""),u(""),p([]),h(!1),window.location.reload()}catch{alert("Something went wrong!")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{className:"fw-bold text-danger",children:n==null?void 0:n.title}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"w-100 my-2",children:o.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:i==null?void 0:i.map((y,m)=>{var v;return o.jsxs("tr",{children:[o.jsx("td",{children:m+1}),o.jsx("td",{children:y==null?void 0:y.title}),o.jsx("td",{children:y==null?void 0:y.description}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(v=y==null?void 0:y.projects)==null?void 0:v.map((w,b)=>{const I=g==null?void 0:g.find(_=>(_==null?void 0:_._id)==(w==null?void 0:w.stringValue));return o.jsxs("div",{children:[b+1,". ",I==null?void 0:I.title," (",o.jsx(te,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>o9(y._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!i.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:y=>l(y.target.value),disabled:d,value:a})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),o.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:y=>u(y.target.value),disabled:d,placeholder:"describe in some words.."})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),o.jsxs("select",{name:"project",className:"form-control",onChange:y=>{const m=y.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[o.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:f==null?void 0:f.map((y,m)=>{const v=g==null?void 0:g.find(w=>(w==null?void 0:w._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(w=>w!==y))},children:"Remove"})})]})})})]}),!f.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:x,disabled:d,children:d?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},h9=()=>{const t=re(p=>{var g;return(g=p.getprojectitems)==null?void 0:g.data}),[e,n]=N.useState(null),[r,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1);N.useEffect(()=>{Yi()},[]);const h=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},f=async()=>{if(!e||!r){alert("Please select an image and provide a title!");return}d(!0);const p=ht(ft,`project_items_images/${r}`),g=await fetch(e).then(x=>x.blob());try{await Ki(p,g),await un(Ne(ie,"projects_items"),{title:r,pptLink:i,pdfLink:l}),alert("Project has been saved!"),s(""),c(""),a(""),n(null),d(!1),location.reload()}catch{alert("Error uploading image!"),s(""),c(""),a(""),n(null),d(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Projects"}),o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{children:g+1}),o.jsx("td",{children:p==null?void 0:p.title}),o.jsx("td",{children:o.jsxs("ul",{children:[o.jsx("li",{children:o.jsx(te,{to:p==null?void 0:p.pdfLink,target:"_blank",children:"PDF Link"})}),o.jsx("li",{children:o.jsx(te,{to:p==null?void 0:p.pptLink,target:"_blank",children:"PPT Link"})})]})}),o.jsx("td",{style:{width:"fit-content"},children:o.jsx(te,{target:"_blank",to:p==null?void 0:p.bannerURL,children:o.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>u9(p._id),children:"Delete"})})})]})})]},g))})]})})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog modal-lg",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:u,value:r||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>a(p.target.value),disabled:u,value:i||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>c(p.target.value),disabled:u,value:l||""})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),o.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:u})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},sf=async()=>{try{const t=Ne(ie,"projects_main"),e=await Qt(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,a=s._document.key.path.segments[6]||null;n.push({_id:a,...i})});await Promise.all(r),dn.dispatch(V3(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function f9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=dt(ie,"projects_main",t);await Wn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsMain!")}}}const p9=`Type of Project(Sponsored/Consultancy),Project Title,Funding Agency,Funding Amount in Inr.,JRF/PHD Scholars,Project Description(100 to 400 words),Names of the PI (comma separated),Names of the Co-PI (comma separated)
`,m9=`Consultancy,"Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",SERB-CRG,4500000,Kuldeep Marotirao Biradar,"The proposed system removes the onus of detecting aberrance situations from the manual operator; and rather, places it on the video surveillance system. The present technologies are fails to recognize aberration in video sequences. These aberrances occur over a small-time window. Thus, recognizing with its timeframe from a big visual data is really challenging task. Hence, our focus is on problems, where we are given a set of nominal training videos samples. Based on these samples need to determine whether or not a test video contains an aberration and what instant it occurs. Similarly, we aim to significantly reduce the time and human effort by automating the task and improving the accuracy by recognizing aberrances with its timestamp. Further, exploit the aberrance activity of the object by modeling the rich motion patterns in selected region, effectively capturing the underlying intrinsic structure they form in the video. Implementation of this system can be beneficial for intelligent agencies, banks, departmental stores, traffic monitoring on highway, airport terminal check-in, sports, medical field, and robotics etc.",Dr. Santosh Kumar Vipparthi,NA
`,f_={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},g9=()=>{var f,p,g,x;const[t,e]=N.useState(!1),n=re(y=>y.getsupervisors.data),r=re(y=>{var m;return(m=y.getprojectitems)==null?void 0:m.data}),s=re(y=>{var m;return(m=y.getdatasets)==null?void 0:m.data}),i=re(y=>{var m;return(m=y.getprojectsmain)==null?void 0:m.data}),[a,l]=N.useState([]),[c,u]=N.useState(f_);N.useEffect(()=>{wo(),Yi(),sf()},[]);const d=y=>{const{id:m,value:v}=y.target;u(w=>({...w,[m]:v}))},h=async()=>{if(!c.title||!c.description||!c.type||!c.copis||!c.total_fund||!c.funding_agency||!c.pis||!c.jrf_phd_scholar||!a){alert("Please fill out all fields.");return}e(!0);try{await un(Ne(ie,"projects_main"),{...c,users:a}),alert("Project has been saved!"),u(f_),e(!1),window.location.reload()}catch{alert("Something went wrong!")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Projects"}),o.jsxs("div",{className:"d-flex gap-2",children:[o.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),o.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[o.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[o.jsxs("table",{className:"table table-bordered table-hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),o.jsx("tbody",{children:i==null?void 0:i.map((y,m)=>{var v,w,b,I,_,j,E,T,S,P,O,C,A;return o.jsxs("tr",{children:[o.jsx("td",{children:m+1}),o.jsx("td",{className:"fw-bold text-danger",children:(v=y==null?void 0:y.title)==null?void 0:v.stringValue}),o.jsxs("td",{children:[o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"PIs:"})," ",o.jsx("p",{children:(w=y==null?void 0:y.pis)==null?void 0:w.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Co-PIs:"})," ",o.jsx("p",{children:(b=y==null?void 0:y.copis)==null?void 0:b.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Funding Agency:"})," ",o.jsx("p",{children:(I=y==null?void 0:y.funding_agency)==null?void 0:I.stringValue})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Total Fund(Inr):"})," ",o.jsxs("p",{children:["Rs. ",(_=y==null?void 0:y.total_fund)==null?void 0:_.stringValue]})]}),o.jsxs("div",{className:"row px-2",children:[o.jsx("strong",{children:"Ph.D./JRF Students:"})," ",o.jsx("p",{children:(j=y==null?void 0:y.jrf_phd_scholar)==null?void 0:j.stringValue})]})]}),o.jsx("td",{children:o.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(E=y==null?void 0:y.description)==null?void 0:E.stringValue})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(P=(S=(T=y==null?void 0:y.related_datasets)==null?void 0:T.arrayValue)==null?void 0:S.values)==null?void 0:P.map((M,B)=>{const D=s==null?void 0:s.find(R=>(R==null?void 0:R._id)==(M==null?void 0:M.stringValue));return o.jsxs("div",{children:[B+1,". ",D==null?void 0:D.title," (",o.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(D==null?void 0:D._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(D==null?void 0:D._id)+"Modal",tabIndex:-1,"aria-labelledby":(D==null?void 0:D._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(D==null?void 0:D._id)+"ModalLabel",children:D==null?void 0:D.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:D==null?void 0:D.description}),o.jsx("img",{className:"w-100",src:D==null?void 0:D.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),o.jsx("td",{children:o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(A=(C=(O=y==null?void 0:y.related_projectitems)==null?void 0:O.arrayValue)==null?void 0:C.values)==null?void 0:A.map((M,B)=>{const D=r==null?void 0:r.find(R=>(R==null?void 0:R._id)==(M==null?void 0:M.stringValue));return o.jsxs("div",{children:[B+1,". ",D==null?void 0:D.title," (",o.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(D==null?void 0:D._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(D==null?void 0:D._id)+"Modal",tabIndex:-1,"aria-labelledby":(D==null?void 0:D._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(D==null?void 0:D._id)+"ModalLabel",children:[D==null?void 0:D.title,"("," ",o.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:D==null?void 0:D.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(te,{to:D==null?void 0:D.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:D==null?void 0:D.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),o.jsx("td",{children:o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),o.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[o.jsx("li",{children:o.jsx(te,{className:"dropdown-item text-primary",to:y==null?void 0:y._id,children:"Edit"})}),o.jsx("li",{children:o.jsx("button",{className:"dropdown-item text-danger",onClick:()=>f9(y._id),children:"Delete"})})]})]})})]},m)})})]}),!i.length&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),o.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col mb-2",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:y=>{const m=y.target.value;!a||m===""||(a.includes(m)?alert("User with this name already existed."):l([...a,m]))},children:[o.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((y,m)=>{var v,w,b,I,_,j;return o.jsxs("option",{value:(w=(v=y==null?void 0:y.data)==null?void 0:v.name)==null?void 0:w.stringValue,children:[(I=(b=y==null?void 0:y.data)==null?void 0:b.name)==null?void 0:I.stringValue,"-",(j=(_=y==null?void 0:y.data)==null?void 0:_.email)==null?void 0:j.stringValue]},m)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:a==null?void 0:a.map((y,m)=>o.jsxs("span",{className:"badge bg-success",children:[y," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const v=a.filter(w=>w!==y);l(v)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},m))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:d,value:c.title,disabled:t})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[" ",o.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),o.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:d,value:c.funding_agency,disabled:t})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),o.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:d,value:c.total_fund,disabled:t})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:d,value:c.pis,disabled:t})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:d,value:c.copis,disabled:t})]})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),o.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:d,value:c.jrf_phd_scholar,disabled:t})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:d,value:c.type,disabled:t,children:[o.jsx("option",{value:"",children:"--select type--"}),o.jsx("option",{value:"consultancy",children:"Consultancy"}),o.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:d,value:c.description,placeholder:"describe project in 50 to 200 words..",disabled:t})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),o.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:y=>{const m=y.target.value;m!==""&&(c.related_datasets.includes(m)||u(v=>({...v,related_datasets:[...v.related_datasets,m]})))},value:c.type,disabled:t,children:[o.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(f=c.related_datasets)==null?void 0:f.map((y,m)=>{const v=s==null?void 0:s.find(w=>(w==null?void 0:w._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(w=>{var b;return{...w,related_datasets:(b=c==null?void 0:c.related_datasets)==null?void 0:b.filter(I=>I!==y)}})},children:"Remove"})})]})})})]}),!((p=c.related_datasets)!=null&&p.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:y=>{const m=y.target.value;m!==""&&(c.related_projectitems.includes(m)||u(v=>({...v,related_projectitems:[...v.related_projectitems,m]})))},disabled:t,children:[o.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((y,m)=>o.jsx("option",{value:y==null?void 0:y._id,children:y==null?void 0:y.title},m))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(g=c.related_projectitems)==null?void 0:g.map((y,m)=>{const v=r==null?void 0:r.find(w=>(w==null?void 0:w._id)==y);return o.jsxs("tr",{children:[o.jsx("th",{children:m+1}),o.jsx("th",{children:v==null?void 0:v.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(w=>{var b;return{...w,related_projectitems:(b=c==null?void 0:c.related_projectitems)==null?void 0:b.filter(I=>I!==y)}})},children:"Remove"})})]})})})]}),!((x=c.related_projectitems)!=null&&x.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})]})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),o.jsx(v9,{getsupervisors:n})]})},v9=({getsupervisors:t})=>{const[e,n]=N.useState(!1),[r,s]=N.useState([]),[i,a]=N.useState([]),l=d=>{var f;const h=(f=d.target.files)==null?void 0:f[0];h&&Pj.parse(h,{complete:p=>{const g=p.data.filter(x=>Object.values(x).some(y=>y!==""));a(g)},header:!0})},c=async d=>{try{return!(await Qt(CI(Ne(ie,"projects_main"),AI("title","==",d)))).empty}catch{return!1}},u=async d=>{if(d.preventDefault(),!r.length){alert("Please select supervisors!");return}if(!i.length){alert("ERROR! Invalid CSV File Selected.");return}n(!0);const h=i.map(async f=>{const p=Object.values(f);if(!await c(p[2]))return un(Ne(ie,"projects_main"),{title:p[1],description:p[5],funding_agency:p[2],pis:p[6],copis:p[7],jrf_phd_scholar:p[4],related_datasets:[],related_projectitems:[],total_fund:p[3],type:p[0],users:r})});await Promise.all(h),alert("Porjects has been saved!"),n(!1),window.location.reload()};return o.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",children:"Import Projects"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:d=>{const h=d.target.value;!r||h===""||(r.includes(h)?alert("User with this name already existed."):s([...r,h]))},children:[o.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((d,h)=>{var f,p,g,x,y,m;return o.jsxs("option",{value:(p=(f=d==null?void 0:d.data)==null?void 0:f.name)==null?void 0:p.stringValue,children:[(x=(g=d==null?void 0:d.data)==null?void 0:g.name)==null?void 0:x.stringValue,"-",(m=(y=d==null?void 0:d.data)==null?void 0:y.email)==null?void 0:m.stringValue]},h)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:r==null?void 0:r.map((d,h)=>o.jsxs("span",{className:"badge bg-success",children:[d," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const f=r.filter(p=>p!==d);s(f)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},h))})]}),o.jsxs("div",{className:"col mb-3",children:[o.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",o.jsx("button",{className:"btn btn-link",onClick:()=>kj(p9,m9,"sample_projects_csv"),children:"Download Sample CSV file"}),")"]}),o.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:l})]}),o.jsx("div",{className:"d-flex gap-1 flex-wrap",children:i.length>0&&o.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[o.jsxs("table",{className:"table table-bordered",children:[o.jsx("thead",{children:o.jsx("tr",{children:Object.keys(i[0]).map(d=>o.jsx("th",{children:d},d))})}),o.jsx("tbody",{children:i.map((d,h)=>o.jsx("tr",{children:Object.values(d).map((f,p)=>o.jsx("td",{children:f},p))},h))})]}),o.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:e,onClick:u,children:e?"Please Wait...":"Submit"})]})]})})})};var eC={exports:{}},y9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",w9=y9,x9=w9;function tC(){}function nC(){}nC.resetWarningCache=tC;var b9=function(){function t(r,s,i,a,l,c){if(c!==x9){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:nC,resetWarningCache:tC};return n.PropTypes=n,n};eC.exports=b9();var _9=eC.exports;const Ve=to(_9);function E9(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var rC=N,T9=E9(rC);function p_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S9(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var I9=!!(typeof window<"u"&&window.document&&window.document.createElement);function N9(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){S9(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,a=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){a.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=a.indexOf(this);a.splice(g,1),c()},f.render=function(){return T9.createElement(i,this.props)},h}(rC.PureComponent);return p_(u,"displayName","SideEffect("+r(i)+")"),p_(u,"canUseDOM",I9),u}}var j9=N9;const C9=to(j9);var A9=typeof Element<"u",P9=typeof Map=="function",k9=typeof Set=="function",R9=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Du(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Du(t[r],e[r]))return!1;return!0}var i;if(P9&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Du(r.value[1],e.get(r.value[0])))return!1;return!0}if(k9&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(R9&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(A9&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Du(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var D9=function(e,n){try{return Du(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const O9=to(D9);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var m_=Object.getOwnPropertySymbols,L9=Object.prototype.hasOwnProperty,M9=Object.prototype.propertyIsEnumerable;function V9(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function F9(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var $9=F9()?Object.assign:function(t,e){for(var n,r=V9(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)L9.call(n,a)&&(r[a]=n[a]);if(m_){s=m_(n);for(var l=0;l<s.length;l++)M9.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const U9=to($9);var yi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ce={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ce).map(function(t){return ce[t]});var $e={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Ud={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},rc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},B9=Object.keys(Ud).reduce(function(t,e){return t[Ud[e]]=e,t},{}),z9=[ce.NOSCRIPT,ce.SCRIPT,ce.STYLE],Zn="data-react-helmet",H9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W9=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},q9=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G9=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},g_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},K9=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},vg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Y9=function(e){var n=Ra(e,ce.TITLE),r=Ra(e,rc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Ra(e,rc.DEFAULT_TITLE);return n||s||void 0},Q9=function(e){return Ra(e,rc.ON_CHANGE_CLIENT_STATE)||function(){}},mp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return Jt({},r,s)},{})},X9=function(e,n){return n.filter(function(r){return typeof r[ce.BASE]<"u"}).map(function(r){return r[ce.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),a=0;a<i.length;a++){var l=i[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Lo=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&t6("Helmet: "+e+' should be of type "Array". Instead found type "'+H9(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,a){var l={};a.filter(function(f){for(var p=void 0,g=Object.keys(f),x=0;x<g.length;x++){var y=g[x],m=y.toLowerCase();n.indexOf(m)!==-1&&!(p===$e.REL&&f[p].toLowerCase()==="canonical")&&!(m===$e.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(y)!==-1&&(y===$e.INNER_HTML||y===$e.CSS_TEXT||y===$e.ITEM_PROP)&&(p=y)}if(!p||!f[p])return!1;var v=f[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=U9({},s[d],l[d]);s[d]=h}return i},[]).reverse()},Ra=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},J9=function(e){return{baseTag:X9([$e.HREF,$e.TARGET],e),bodyAttributes:mp(yi.BODY,e),defer:Ra(e,rc.DEFER),encode:Ra(e,rc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:mp(yi.HTML,e),linkTags:Lo(ce.LINK,[$e.REL,$e.HREF],e),metaTags:Lo(ce.META,[$e.NAME,$e.CHARSET,$e.HTTPEQUIV,$e.PROPERTY,$e.ITEM_PROP],e),noscriptTags:Lo(ce.NOSCRIPT,[$e.INNER_HTML],e),onChangeClientState:Q9(e),scriptTags:Lo(ce.SCRIPT,[$e.SRC,$e.INNER_HTML],e),styleTags:Lo(ce.STYLE,[$e.CSS_TEXT],e),title:Y9(e),titleAttributes:mp(yi.TITLE,e)}},yg=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){yg(e)},0)}}(),v_=function(e){return clearTimeout(e)},Z9=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||yg:global.requestAnimationFrame||yg,e6=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||v_:global.cancelAnimationFrame||v_,t6=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Mo=null,n6=function(e){Mo&&e6(Mo),e.defer?Mo=Z9(function(){y_(e,function(){Mo=null})}):(y_(e),Mo=null)},y_=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;wg(ce.BODY,s),wg(ce.HTML,i),r6(f,p);var g={baseTag:Zi(ce.BASE,r),linkTags:Zi(ce.LINK,a),metaTags:Zi(ce.META,l),noscriptTags:Zi(ce.NOSCRIPT,c),scriptTags:Zi(ce.SCRIPT,d),styleTags:Zi(ce.STYLE,h)},x={},y={};Object.keys(g).forEach(function(m){var v=g[m],w=v.newTags,b=v.oldTags;w.length&&(x[m]=w),b.length&&(y[m]=g[m].oldTags)}),n&&n(),u(e,x,y)},sC=function(e){return Array.isArray(e)?e.join(""):e},r6=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=sC(e)),wg(ce.TITLE,n)},wg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Zn),i=s?s.split(","):[],a=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var h=a.indexOf(u);h!==-1&&a.splice(h,1)}for(var f=a.length-1;f>=0;f--)r.removeAttribute(a[f]);i.length===a.length?r.removeAttribute(Zn):r.getAttribute(Zn)!==l.join(",")&&r.setAttribute(Zn,l.join(","))}},Zi=function(e,n){var r=document.head||document.querySelector(ce.HEAD),s=r.querySelectorAll(e+"["+Zn+"]"),i=Array.prototype.slice.call(s),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===$e.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===$e.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(Zn,"true"),i.some(function(f,p){return l=p,u.isEqualNode(f)})?i.splice(l,1):a.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:a}},iC=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},s6=function(e,n,r,s){var i=iC(r),a=sC(n);return i?"<"+e+" "+Zn+'="true" '+i+">"+vg(a,s)+"</"+e+">":"<"+e+" "+Zn+'="true">'+vg(a,s)+"</"+e+">"},i6=function(e,n,r){return n.reduce(function(s,i){var a=Object.keys(i).filter(function(u){return!(u===$e.INNER_HTML||u===$e.CSS_TEXT)}).reduce(function(u,d){var h=typeof i[d]>"u"?d:d+'="'+vg(i[d],r)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=z9.indexOf(e)===-1;return s+"<"+e+" "+Zn+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},aC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Ud[s]||s]=e[s],r},n)},a6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[B9[s]||s]=e[s],r},n)},o6=function(e,n,r){var s,i=(s={key:n},s[Zn]=!0,s),a=aC(r,i);return[Ee.createElement(ce.TITLE,a,n)]},l6=function(e,n){return n.map(function(r,s){var i,a=(i={key:s},i[Zn]=!0,i);return Object.keys(r).forEach(function(l){var c=Ud[l]||l;if(c===$e.INNER_HTML||c===$e.CSS_TEXT){var u=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=r[l]}),Ee.createElement(e,a)})},Pr=function(e,n,r){switch(e){case ce.TITLE:return{toComponent:function(){return o6(e,n.title,n.titleAttributes)},toString:function(){return s6(e,n.title,n.titleAttributes,r)}};case yi.BODY:case yi.HTML:return{toComponent:function(){return aC(n)},toString:function(){return iC(n)}};default:return{toComponent:function(){return l6(e,n)},toString:function(){return i6(e,n,r)}}}},oC=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:Pr(ce.BASE,n,s),bodyAttributes:Pr(yi.BODY,r,s),htmlAttributes:Pr(yi.HTML,i,s),link:Pr(ce.LINK,a,s),meta:Pr(ce.META,l,s),noscript:Pr(ce.NOSCRIPT,c,s),script:Pr(ce.SCRIPT,u,s),style:Pr(ce.STYLE,d,s),title:Pr(ce.TITLE,{title:f,titleAttributes:p},s)}},c6=function(e){var n,r;return r=n=function(s){G9(i,s);function i(){return W9(this,i),K9(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!O9(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case ce.SCRIPT:case ce.NOSCRIPT:return{innerHTML:c};case ce.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return Jt({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Jt({},h,this.mapNestedChildrenToProps(u,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(d.type){case ce.TITLE:return Jt({},h,(c={},c[d.type]=p,c.titleAttributes=Jt({},f),c));case ce.BODY:return Jt({},h,{bodyAttributes:Jt({},f)});case ce.HTML:return Jt({},h,{htmlAttributes:Jt({},f)})}return Jt({},h,(u={},u[d.type]=Jt({},f),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Jt({},c);return Object.keys(l).forEach(function(d){var h;u=Jt({},u,(h={},h[d]=l[d],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Ee.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=g_(f,["children"]),x=a6(g);switch(u.warnOnInvalidChildren(h,p),h.type){case ce.LINK:case ce.META:case ce.NOSCRIPT:case ce.SCRIPT:case ce.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:x,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:x,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=g_(l,["children"]),d=Jt({},u);return c&&(d=this.mapChildrenToProps(c,d)),Ee.createElement(e,d)},q9(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Ee.Component),n.propTypes={base:Ve.object,bodyAttributes:Ve.object,children:Ve.oneOfType([Ve.arrayOf(Ve.node),Ve.node]),defaultTitle:Ve.string,defer:Ve.bool,encodeSpecialCharacters:Ve.bool,htmlAttributes:Ve.object,link:Ve.arrayOf(Ve.object),meta:Ve.arrayOf(Ve.object),noscript:Ve.arrayOf(Ve.object),onChangeClientState:Ve.func,script:Ve.arrayOf(Ve.object),style:Ve.arrayOf(Ve.object),title:Ve.string,titleAttributes:Ve.object,titleTemplate:Ve.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=oC({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},u6=function(){return null},d6=C9(J9,n6,oC)(u6),Tn=c6(d6);Tn.renderStatic=Tn.rewind;const h6=()=>{var B,D,R,L,F,W,k,z,X,J,se,ue,je,Q,he,H,we,be,ot,Me,Ce,Xt,Ut,hn,Cn,Bt;const[t,e]=N.useState(!1);N.useEffect(()=>{(async()=>{e(!0),await Pc(),await yo(),e(!1)})()},[]);const{id:n}=io(),s=re(K=>K.getpublications.data).filter(K=>K._id==n)[0],i=re(K=>K.getsupervisors.data),[a,l]=N.useState((D=(B=s==null?void 0:s.data)==null?void 0:B.paperTitle)==null?void 0:D.stringValue),[c,u]=N.useState((L=(R=s==null?void 0:s.data)==null?void 0:R.paperType)==null?void 0:L.stringValue),[d,h]=N.useState((W=(F=s==null?void 0:s.data)==null?void 0:F.publisher)==null?void 0:W.stringValue),[f,p]=N.useState((z=(k=s==null?void 0:s.data)==null?void 0:k.publicationDate)==null?void 0:z.stringValue),[g,x]=N.useState((J=(X=s==null?void 0:s.data)==null?void 0:X.link)==null?void 0:J.stringValue),[y,m]=N.useState((ue=(se=s==null?void 0:s.data)==null?void 0:se.author)==null?void 0:ue.stringValue),[v,w]=N.useState((Q=(je=s==null?void 0:s.data)==null?void 0:je.journalName)==null?void 0:Q.stringValue),[b,I]=N.useState((H=(he=s==null?void 0:s.data)==null?void 0:he.pages)==null?void 0:H.stringValue),[_,j]=N.useState((be=(we=s==null?void 0:s.data)==null?void 0:we.volume)==null?void 0:be.stringValue),[E,T]=N.useState((Me=(ot=s==null?void 0:s.data)==null?void 0:ot.impact)==null?void 0:Me.stringValue),[S,P]=N.useState((Xt=(Ce=s==null?void 0:s.data)==null?void 0:Ce.isbn)==null?void 0:Xt.stringValue),O=[];(Bt=(Cn=(hn=(Ut=s==null?void 0:s.data)==null?void 0:Ut.users)==null?void 0:hn.arrayValue)==null?void 0:Cn.values)==null||Bt.map(K=>{O==null||O.push(K.stringValue)});const[C,A]=N.useState(O),M=K=>{if(K.preventDefault(),!a||!c||!d||!f||!g||!y||!v||!b||!_||!E||!S){console.log("Please fill all required fields!");return}e(!0);const ve=dt(ie,"publications",s==null?void 0:s._id);Ci(ve,{paperTitle:a,paperType:c,publisher:d,publicationDate:f,link:g,author:y,journalName:v,pages:b,volume:_,impact:E,isbn:S,users:C}).then(()=>{alert("Publication has been updated!"),e(!1),window.location.href="/CVPR_LAB/#/dashboard/publications"}).catch(bt=>{alert(`Error updating document: ${bt.message}`),e(!1)})};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Edit Publication"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.location.href="/CVPR_LAB/#/dashboard/publications",children:"Back to Publications"})]}),o.jsx("hr",{}),o.jsx("div",{className:"card p-3",children:o.jsxs("form",{onSubmit:M,noValidate:!0,children:[o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:a,onChange:K=>l(K.target.value),required:!0,disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",disabled:t,onChange:K=>{const ve=K.target.value;if(C)if(ve==="other"){let bt=prompt("Please enter supervisor name:");bt&&A([...C,bt])}else C.includes(ve)?alert("User with this name already existed."):A([...C,ve])},children:[o.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((K,ve)=>{var bt,_e,Cr,An,or,qn;return o.jsxs("option",{value:(_e=(bt=K==null?void 0:K.data)==null?void 0:bt.name)==null?void 0:_e.stringValue,children:[(An=(Cr=K==null?void 0:K.data)==null?void 0:Cr.name)==null?void 0:An.stringValue,"-",(qn=(or=K==null?void 0:K.data)==null?void 0:or.email)==null?void 0:qn.stringValue]},ve)}),o.jsx("option",{value:"other",children:"Other"})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:C==null?void 0:C.map((K,ve)=>o.jsxs("span",{className:"badge bg-success",children:[K," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const bt=C.filter(_e=>_e!==K);A(bt)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},ve))})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"paperType",value:c,onChange:K=>u(K.target.value),required:!0,disabled:t,children:[o.jsx("option",{value:"",children:"---select type---"}),o.jsx("option",{value:"Conference",children:"Conference"}),o.jsx("option",{value:"Patent",children:"Patent"}),o.jsx("option",{value:"Journal",children:"Journal"}),o.jsx("option",{value:"Book",children:"Book"}),o.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),o.jsx("option",{value:"Publications",children:"Publications"})]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021  47th Annual Conference of the IEEE Industrial Electronics Society",value:d,onChange:K=>h(K.target.value),required:!0,disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:f,onChange:K=>p(K.target.value),required:!0,disabled:t,children:[o.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((K,ve)=>o.jsx("option",{value:2008+ve,children:2008+ve},ve))]})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),o.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:g,onChange:K=>x(K.target.value),disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 mb-2",children:[o.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:K=>m(K.target.value),id:"authors",value:y,placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:t})]}),o.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",o.jsx("span",{className:"text-danger",children:"*"})]}),o.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:v,onChange:K=>w(K.target.value),required:!0,disabled:t}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),o.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:b,onChange:K=>I(K.target.value),disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),o.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:_,onChange:K=>j(K.target.value),disabled:t})]})]}),o.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),o.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:E,onChange:K=>T(K.target.value),disabled:t})]}),o.jsxs("div",{className:"col-md-6",children:[o.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),o.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:S,onChange:K=>P(K.target.value),disabled:t})]})]}),o.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),o.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:t,children:t?"Please Wait...":"Submit"})]})})]})})},f6=()=>{var h,f,p,g,x,y,m,v,w,b,I,_,j,E,T,S,P,O;const{id:t}=io(),e=re(C=>C.getsupervisors.data),n=e==null?void 0:e.filter(C=>(C==null?void 0:C._id)==t)[0],[r,s]=N.useState(!1),[i,a]=N.useState(),[l,c]=N.useState({name:(f=(h=n==null?void 0:n.data)==null?void 0:h.name)==null?void 0:f.stringValue,email:(g=(p=n==null?void 0:n.data)==null?void 0:p.email)==null?void 0:g.stringValue,phone:(y=(x=n==null?void 0:n.data)==null?void 0:x.phone)==null?void 0:y.stringValue,researchInterests:(v=(m=n==null?void 0:n.data)==null?void 0:m.researchInterests)==null?void 0:v.stringValue,introduction:(b=(w=n==null?void 0:n.data)==null?void 0:w.introduction)==null?void 0:b.stringValue,googleScholarLink:(_=(I=n==null?void 0:n.data)==null?void 0:I.googleScholarLink)==null?void 0:_.stringValue,researchGateLink:(E=(j=n==null?void 0:n.data)==null?void 0:j.researchGateLink)==null?void 0:E.stringValue,personalProfileLink:(S=(T=n==null?void 0:n.data)==null?void 0:T.personalProfileLink)==null?void 0:S.stringValue,otherLink:(O=(P=n==null?void 0:n.data)==null?void 0:P.otherLink)==null?void 0:O.stringValue});N.useEffect(()=>{yo()},[]);const u=C=>{const{name:A,value:M}=C.target;c(B=>({...B,[A]:M}))},d=async()=>{var z,X;const{name:C,email:A,phone:M,researchInterests:B,introduction:D,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:W}=l;if(!C||!A||!M||!B||!D){console.log("Please fill all required fields.");return}s(!0);const k=dt(ie,"supervisors",n==null?void 0:n._id);if(i){if(n&&n.data&&n.data.profileImage){const se=ht(ft,`/peoples/supervisor_profile_images/${(X=(z=n==null?void 0:n.data)==null?void 0:z.profileImage)==null?void 0:X.stringValue}`);try{await mo(se),console.log("Old profile image deleted successfully")}catch(ue){console.error("Error deleting old profile image:",ue),s(!1);return}}const J=ht(ft,`/peoples/supervisor_profile_images/${C}_${i.name}`);try{await Ki(J,i),console.log("Profile image uploaded successfully");const se=`${C}_${i.name}`;await Ci(k,{name:C,email:A,phone:M,researchInterests:B,introduction:D,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:W,profileImage:se}),alert("Supervisor details updated with profile image successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{alert("Error uploading profile image."),s(!1);return}}else try{await Ci(k,{name:C,email:A,phone:M,researchInterests:B,introduction:D,googleScholarLink:R,researchGateLink:L,personalProfileLink:F,otherLink:W}),alert("Supervisor details updated successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{alert("Error updating supervisor details."),s(!1);return}s(!1)};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{children:"Edit Supervisor"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),o.jsx("hr",{}),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"col-sm-12 mb-3",children:o.jsxs("div",{className:"col-sm-2",children:[" ",o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",o.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),o.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:u,disabled:!0})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col overflow-auto",children:[o.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",o.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),o.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:u,disabled:!0})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),o.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:u})]}),o.jsxs("div",{className:"col overflow-auto",children:[o.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",o.jsx("span",{className:"text-danger",children:"aspect ratio 3:4 only"}),")"]}),o.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:C=>{var M;const A=(M=C.target.files)==null?void 0:M[0];a(A)}})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",o.jsx("span",{className:"text-danger",children:"Use comma separated for multiple"}),")"]}),o.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:u,rows:4})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),o.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:u})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"googleScholarLink",className:"form-label",children:"Google Scholar Link"}),o.jsx("input",{type:"text",className:"form-control",name:"googleScholarLink",value:l.googleScholarLink,onChange:u})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"researchGateLink",className:"form-label",children:"Research Gate Link"}),o.jsx("input",{type:"text",className:"form-control",name:"researchGateLink",value:l.researchGateLink,onChange:u})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"personalProfileLink",className:"form-label",children:"Personal Profile Link"}),o.jsx("input",{type:"text",className:"form-control",name:"personalProfileLink",value:l.personalProfileLink,onChange:u})]}),o.jsxs("div",{className:"col",children:[o.jsxs("label",{htmlFor:"otherLink",className:"form-label",children:["Other Link (",o.jsx("span",{className:"text-danger",children:"if any"}),")"]}),o.jsx("input",{type:"text",className:"form-control",name:"otherLink",value:l.otherLink,onChange:u})]})]})]}),o.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:d,disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},p6={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},m6=()=>{var m,v,w,b,I,_,j,E,T,S,P,O,C,A,M,B,D,R,L,F,W;const{id:t}=io(),[e,n]=N.useState(!1),r=re(k=>{var z;return(z=k.getprojectitems)==null?void 0:z.data}),s=re(k=>{var z;return(z=k.getdatasets)==null?void 0:z.data}),i=re(k=>k.getsupervisors.data),a=re(k=>{var z;return(z=k.getprojectsmain)==null?void 0:z.data}),l=a==null?void 0:a.filter(k=>(k==null?void 0:k._id)==t)[0],c=[];(w=(v=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:v.values)==null||w.map(k=>{c==null||c.push(k.stringValue)});const u=[];(_=(I=(b=l==null?void 0:l.related_projectitems)==null?void 0:b.arrayValue)==null?void 0:I.values)==null||_.map(k=>{u==null||u.push(k.stringValue)});const[d,h]=N.useState({title:(j=l==null?void 0:l.title)==null?void 0:j.stringValue,description:(E=l==null?void 0:l.description)==null?void 0:E.stringValue,funding_agency:(T=l==null?void 0:l.description)==null?void 0:T.stringValue,pis:(S=l==null?void 0:l.pis)==null?void 0:S.stringValue,copis:(P=l==null?void 0:l.copis)==null?void 0:P.stringValue,jrf_phd_scholar:(O=l==null?void 0:l.jrf_phd_scholar)==null?void 0:O.stringValue,related_datasets:c,related_projectitems:u,total_fund:(C=l==null?void 0:l.total_fund)==null?void 0:C.stringValue,type:(A=l==null?void 0:l.type)==null?void 0:A.stringValue}),f=[];(D=(B=(M=l==null?void 0:l.users)==null?void 0:M.arrayValue)==null?void 0:B.values)==null||D.map(k=>{f==null||f.push(k.stringValue)});const[p,g]=N.useState(f);N.useEffect(()=>{wo(),Yi(),sf()},[]);const x=k=>{const{id:z,value:X}=k.target;h(J=>({...J,[z]:X}))},y=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!p){alert("Please fill out all fields.");return}n(!0);try{const k=dt(ie,"projects_main",l==null?void 0:l._id);await Ci(k,{...d,users:p}),alert("Project has been saved!"),h(p6),n(!1),window.location.href="/CVPR_LAB/#/dashboard/projects"}catch{alert("Something went wrong!")}};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[o.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[o.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),o.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),o.jsx("hr",{}),o.jsx("div",{className:"card p-3",children:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col mb-2",children:[o.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",o.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),o.jsxs("select",{name:"userEmail",className:"form-control",onChange:k=>{const z=k.target.value;!p||z===""||(p.includes(z)?alert("User with this name already existed."):g([...p,z]))},children:[o.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((k,z)=>{var X,J,se,ue,je,Q;return o.jsxs("option",{value:(J=(X=k==null?void 0:k.data)==null?void 0:X.name)==null?void 0:J.stringValue,children:[(ue=(se=k==null?void 0:k.data)==null?void 0:se.name)==null?void 0:ue.stringValue,"-",(Q=(je=k==null?void 0:k.data)==null?void 0:je.email)==null?void 0:Q.stringValue]},z)})]}),o.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((k,z)=>o.jsxs("span",{className:"badge bg-success",children:[k," ",o.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const X=p.filter(J=>J!==k);g(X)}},children:o.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},z))})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),o.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:x,value:d.title,disabled:!0})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[" ",o.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),o.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:x,value:d.funding_agency,disabled:e})]}),o.jsx("div",{className:"col",children:o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),o.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:x,value:d.total_fund,disabled:e})]})})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:x,value:d.pis,disabled:e})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),o.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:x,value:d.copis,disabled:e})]})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),o.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:x,value:d.jrf_phd_scholar,disabled:e})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:x,value:d.type,disabled:e,children:[o.jsx("option",{value:"",children:"--select type--"}),o.jsx("option",{value:"consultancy",children:"Consultancy"}),o.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),o.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:x,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),o.jsxs("div",{className:"mb-2 row",children:[o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),o.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:k=>{const z=k.target.value;z!==""&&(d.related_datasets.includes(z)||h(X=>({...X,related_datasets:[...X.related_datasets,z]})))},value:d.type,disabled:e,children:[o.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((k,z)=>o.jsx("option",{value:k==null?void 0:k._id,children:k==null?void 0:k.title},z))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(R=d.related_datasets)==null?void 0:R.map((k,z)=>{const X=s==null?void 0:s.find(J=>(J==null?void 0:J._id)==k);return o.jsxs("tr",{children:[o.jsx("th",{children:z+1}),o.jsx("th",{children:X==null?void 0:X.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(J=>{var se;return{...J,related_datasets:(se=d==null?void 0:d.related_datasets)==null?void 0:se.filter(ue=>ue!==k)}})},children:"Remove"})})]})})})]}),!((L=d.related_datasets)!=null&&L.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsxs("div",{className:"col",children:[o.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),o.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:k=>{const z=k.target.value;z!==""&&(d.related_projectitems.includes(z)||h(X=>({...X,related_projectitems:[...X.related_projectitems,z]})))},disabled:e,children:[o.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((k,z)=>o.jsx("option",{value:k==null?void 0:k._id,children:k==null?void 0:k.title},z))]}),o.jsxs("table",{className:"table table-bordered table-hover my-3",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),o.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),o.jsx("tbody",{children:(F=d.related_projectitems)==null?void 0:F.map((k,z)=>{const X=r==null?void 0:r.find(J=>(J==null?void 0:J._id)==k);return o.jsxs("tr",{children:[o.jsx("th",{children:z+1}),o.jsx("th",{children:X==null?void 0:X.title}),o.jsx("th",{children:o.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(J=>{var se;return{...J,related_projectitems:(se=d==null?void 0:d.related_projectitems)==null?void 0:se.filter(ue=>ue!==k)}})},children:"Remove"})})]})})})]}),!((W=d.related_projectitems)!=null&&W.length)&&o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 text-center",children:o.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),o.jsx("div",{className:"p-3 mt-4  col-sm-12",children:o.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:y,disabled:e,children:e?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})},g6=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(0);N.useEffect(()=>{const i=hi.onAuthStateChanged(a=>{a?e(a.email):window.location.href="/CVPR_LAB/#/"});return()=>i()},[]);const s=async()=>{if(confirm("Are you sure want to logout?"))try{await hi.signOut(),window.close()}catch{console.error("Error logging out.")}};if(!t)return o.jsx(o.Fragment,{children:o.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:o.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t)return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:o.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:o.jsxs("h4",{children:["Welcome, ",t]})})}),o.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[o.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:o.jsxs("div",{className:"list-group",children:[o.jsx(te,{to:"",className:`list-group-item list-group-item-action ${n===0&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(0),children:"Supervisor"}),o.jsx(te,{to:"publications",className:`list-group-item list-group-item-action ${n===1&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(1),children:"Publications"}),o.jsx(te,{to:"peoples",className:`list-group-item list-group-item-action ${n===2&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(2),children:"Peoples"}),o.jsx(te,{to:"projects-items",className:`list-group-item list-group-item-action ${n===3&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(3),children:"Projects Items"}),o.jsx(te,{to:"datasets",className:`list-group-item list-group-item-action ${n===4&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(4),children:"Datasets"}),o.jsx(te,{to:"news",className:`list-group-item list-group-item-action ${n===5&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(5),children:"News"}),o.jsx(te,{to:"slider-images",className:`list-group-item list-group-item-action ${n===6&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(6),children:"Slider Images"}),o.jsx(te,{to:"research",className:`list-group-item list-group-item-action ${n===7&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(7),children:"Research Areas"}),o.jsx(te,{to:"projects",className:`list-group-item list-group-item-action ${n===8&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(8),children:"Research Projects"}),o.jsx(te,{to:"change-password",className:`list-group-item list-group-item-action ${n===9&&"text-white bg-dark"} border-none`,"aria-current":"true",onClick:()=>r(9),children:"Change Password"}),o.jsx(te,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:"Website Home"}),o.jsxs(te,{to:"#",onClick:s,className:"d-flex align-items-center list-group-item list-group-item-action text-danger",children:[o.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),o.jsx(Tn,{children:o.jsxs("title",{children:["Dashboard | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs(_v,{children:[o.jsx(Ae,{element:o.jsx(h_,{}),path:"*"}),o.jsx(Ae,{element:o.jsx(h_,{}),path:"/"}),o.jsx(Ae,{element:o.jsx(f6,{}),path:"/supervisors/:id"}),o.jsx(Ae,{element:o.jsx(GB,{userEmail:t}),path:"/publications"}),o.jsx(Ae,{element:o.jsx(h6,{}),path:"/publications/:id"}),o.jsx(Ae,{element:o.jsx(Jz,{}),path:"/peoples"}),o.jsx(Ae,{element:o.jsx(l9,{}),path:"/research"}),o.jsx(Ae,{element:o.jsx(d9,{}),path:"/research/:id"}),o.jsx(Ae,{element:o.jsx(h9,{}),path:"/projects-items"}),o.jsx(Ae,{element:o.jsx(g9,{}),path:"/projects"}),o.jsx(Ae,{element:o.jsx(m6,{}),path:"/projects/:id"}),o.jsx(Ae,{element:o.jsx(s9,{}),path:"/datasets"}),o.jsx(Ae,{element:o.jsx(XB,{}),path:"/news"}),o.jsx(Ae,{element:o.jsx(ZB,{}),path:"/change-password"}),o.jsx(Ae,{element:o.jsx(Gz,{}),path:"/slider-images"})]})]})]})},v6="/CVPR_LAB/assets/logo-a-zcNRwG.png",y6=()=>o.jsx(o.Fragment,{children:o.jsxs("div",{role:"navigation",children:[o.jsx("div",{className:"p-3",children:o.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[o.jsx("div",{className:"col-lg-1 col-md-1 text-center",children:o.jsx("div",{className:"",children:o.jsx("img",{className:"img-fluid",src:v6,alt:"LOGO",style:{height:"50px",width:"auto"}})})}),o.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:o.jsxs("div",{className:"mt-2",children:[o.jsx("strong",{children:"Room Number :"})," 3rd Floor,EE Department"]})})]})}),o.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:o.jsx("nav",{className:"navbar navbar-expand-md",children:o.jsxs("div",{className:"container-fluid",children:[o.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[o.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),o.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:o.jsxs("ul",{className:"navbar-nav mx-auto ",children:[o.jsx("li",{className:"nav-item",children:o.jsx(te,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),o.jsx("li",{className:"nav-item",children:o.jsx(te,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"Peoples"})}),o.jsx("li",{className:"nav-item",children:o.jsx(te,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),o.jsx("li",{className:"nav-item",children:o.jsx(te,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),o.jsx("li",{className:"nav-item",children:o.jsx(te,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),o.jsx("li",{className:"nav-item",children:o.jsx(te,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),o.jsx("li",{className:"nav-item",children:o.jsx(te,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})});function w_(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function hw(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:w_(e[n])&&w_(t[n])&&Object.keys(e[n]).length>0&&hw(t[n],e[n])})}const lC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Br(){const t=typeof document<"u"?document:{};return hw(t,lC),t}const w6={document:lC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function jn(){const t=typeof window<"u"?window:{};return hw(t,w6),t}function x6(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function b6(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function xg(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Bd(){return Date.now()}function _6(t){const e=jn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function E6(t,e){e===void 0&&(e="x");const n=jn();let r,s,i;const a=_6(t);return n.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function du(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function T6(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function pn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!T6(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,a=s.length;i<a;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(du(t[l])&&du(r[l])?r[l].__swiper__?t[l]=r[l]:pn(t[l],r[l]):!du(t[l])&&du(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:pn(t[l],r[l])):t[l]=r[l])}}}return t}function hu(t,e,n){t.style.setProperty(e,n)}function cC(t){let{swiper:e,targetPosition:n,side:r}=t;const s=jn(),i=-e.translate;let a=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const u=n>i?"next":"prev",d=(f,p)=>u==="next"&&f>=p||u==="prev"&&f<=p,h=()=>{l=new Date().getTime(),a===null&&(a=l);const f=Math.max(Math.min((l-a)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=i+p*(n-i);if(d(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),d(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(h)};h()}function mr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function zd(t){try{console.warn(t);return}catch{}}function Hd(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:x6(e)),n}function S6(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function I6(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ys(t,e){return jn().getComputedStyle(t,null).getPropertyValue(e)}function Wd(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function uC(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function bg(t,e,n){const r=jn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function gt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let gp;function N6(){const t=jn(),e=Br();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function dC(){return gp||(gp=N6()),gp}let vp;function j6(t){let{userAgent:e}=t===void 0?{}:t;const n=dC(),r=jn(),s=r.navigator.platform,i=e||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&g&&n.touch&&x.indexOf(`${l}x${c}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(d||f||h)&&(a.os="ios",a.ios=!0),a}function hC(t){return t===void 0&&(t={}),vp||(vp=j6(t)),vp}let yp;function C6(){const t=jn(),e=hC();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),a=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:a,isWebView:s}}function A6(){return yp||(yp=C6()),yp}function P6(t){let{swiper:e,on:n,emit:r}=t;const s=jn();let i=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(h=>{a=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,x=p;h.forEach(y=>{let{contentBoxSize:m,contentRect:v,target:w}=y;w&&w!==e.el||(g=v?v.width:(m[0]||m).inlineSize,x=v?v.height:(m[0]||m).blockSize)}),(g!==f||x!==p)&&l()})}),i.observe(e.el))},u=()=>{a&&s.cancelAnimationFrame(a),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",d)})}function k6(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],a=jn(),l=function(d,h){h===void 0&&(h={});const f=a.MutationObserver||a.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const x=function(){s("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(x):a.setTimeout(x,0)});p.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const d=uC(e.hostEl);for(let h=0;h<d.length;h+=1)l(d[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",u)}var R6={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];e.apply(r,a)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(u=>{u.apply(r,n)})}),t}};function D6(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ys(r,"padding-left")||0,10)-parseInt(ys(r,"padding-right")||0,10),n=n-parseInt(ys(r,"padding-top")||0,10)-parseInt(ys(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function O6(){const t=this;function e(S,P){return parseFloat(S.getPropertyValue(t.getDirectionLabel(P))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:a,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,d=mr(s,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:d.length;let f=[];const p=[],g=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,v=t.slidesGrid.length;let w=n.spaceBetween,b=-x,I=0,_=0;if(typeof i>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*i:typeof w=="string"&&(w=parseFloat(w)),t.virtualSize=-w,d.forEach(S=>{a?S.style.marginLeft="":S.style.marginRight="",S.style.marginBottom="",S.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(hu(r,"--swiper-centered-offset-before",""),hu(r,"--swiper-centered-offset-after",""));const j=n.grid&&n.grid.rows>1&&t.grid;j?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let E;const T=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(S=>typeof n.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<h;S+=1){E=0;let P;if(d[S]&&(P=d[S]),j&&t.grid.updateSlide(S,P,d),!(d[S]&&ys(P,"display")==="none")){if(n.slidesPerView==="auto"){T&&(d[S].style[t.getDirectionLabel("width")]="");const O=getComputedStyle(P),C=P.style.transform,A=P.style.webkitTransform;if(C&&(P.style.transform="none"),A&&(P.style.webkitTransform="none"),n.roundLengths)E=t.isHorizontal()?bg(P,"width",!0):bg(P,"height",!0);else{const M=e(O,"width"),B=e(O,"padding-left"),D=e(O,"padding-right"),R=e(O,"margin-left"),L=e(O,"margin-right"),F=O.getPropertyValue("box-sizing");if(F&&F==="border-box")E=M+R+L;else{const{clientWidth:W,offsetWidth:k}=P;E=M+B+D+R+L+(k-W)}}C&&(P.style.transform=C),A&&(P.style.webkitTransform=A),n.roundLengths&&(E=Math.floor(E))}else E=(i-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),d[S]&&(d[S].style[t.getDirectionLabel("width")]=`${E}px`);d[S]&&(d[S].swiperSlideSize=E),g.push(E),n.centeredSlides?(b=b+E/2+I/2+w,I===0&&S!==0&&(b=b-i/2-w),S===0&&(b=b-i/2-w),Math.abs(b)<1/1e3&&(b=0),n.roundLengths&&(b=Math.floor(b)),_%n.slidesPerGroup===0&&f.push(b),p.push(b)):(n.roundLengths&&(b=Math.floor(b)),(_-Math.min(t.params.slidesPerGroupSkip,_))%t.params.slidesPerGroup===0&&f.push(b),p.push(b),b=b+E+w),t.virtualSize+=E+w,I=E,_+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+y,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+w}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+w}px`),j&&t.grid.updateWrapperSize(E,f),!n.centeredSlides){const S=[];for(let P=0;P<f.length;P+=1){let O=f[P];n.roundLengths&&(O=Math.floor(O)),f[P]<=t.virtualSize-i&&S.push(O)}f=S,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(c&&n.loop){const S=g[0]+w;if(n.slidesPerGroup>1){const P=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=S*n.slidesPerGroup;for(let C=0;C<P;C+=1)f.push(f[f.length-1]+O)}for(let P=0;P<t.virtual.slidesBefore+t.virtual.slidesAfter;P+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+S),p.push(p[p.length-1]+S),t.virtualSize+=S}if(f.length===0&&(f=[0]),w!==0){const S=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");d.filter((P,O)=>!n.cssMode||n.loop?!0:O!==d.length-1).forEach(P=>{P.style[S]=`${w}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let S=0;g.forEach(O=>{S+=O+(w||0)}),S-=w;const P=S-i;f=f.map(O=>O<=0?-x:O>P?P+y:O)}if(n.centerInsufficientSlides){let S=0;if(g.forEach(P=>{S+=P+(w||0)}),S-=w,S<i){const P=(i-S)/2;f.forEach((O,C)=>{f[C]=O-P}),p.forEach((O,C)=>{p[C]=O+P})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){hu(r,"--swiper-centered-offset-before",`${-f[0]}px`),hu(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const S=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+S),t.slidesGrid=t.slidesGrid.map(O=>O+P)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const S=`${n.containerModifierClass}backface-hidden`,P=t.el.classList.contains(S);h<=n.maxBackfaceHiddenSlides?P||t.el.classList.add(S):P&&t.el.classList.remove(S)}}function L6(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(a(l))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function M6(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function V6(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;s&&(a=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(a+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),f=(a-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=-(a-d),g=p+e.slidesSizesGrid[c],x=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),x&&r[c].classList.add(n.slideFullyVisibleClass),u.progress=s?-h:h,u.originalProgress=s?-f:f}}function F6(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:a,progressLoop:l}=e;const c=i,u=a;if(r===0)s=0,i=!0,a=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,a=h||s>=1,d&&(s=0),h&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],x=Math.abs(t);x>=f?l=(x-f)/g:l=(x+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!i||u&&!a)&&e.emit("fromEdge"),e.emit("progress",s)}function $6(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,l=h=>mr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,u,d;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=e.filter(h=>h.column===s)[0],d=e.filter(h=>h.column===s+1)[0],u=e.filter(h=>h.column===s-1)[0]):c=e[s];c&&(c.classList.add(n.slideActiveClass),a?(d&&d.classList.add(n.slideNextClass),u&&u.classList.add(n.slidePrevClass)):(d=I6(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),d&&d.classList.add(n.slideNextClass),u=S6(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Ou=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},wp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},_g=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=s,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&wp(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let a=s-e;a<=i+e;a+=1){const l=(a%n+n)%n;(l<s||l>i)&&wp(t,l)}else for(let a=Math.max(s-e,0);a<=Math.min(i+e,n-1);a+=1)a!==s&&(a>i||a<s)&&wp(t,a)};function U6(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function B6(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:a,snapIndex:l}=e;let c=t,u;const d=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=U6(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,c);u=p+Math.floor((c-p)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=d(c);else if(h){const p=e.slides.filter(x=>x.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/s.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:f,previousIndex:i,activeIndex:c}),e.initialized&&_g(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function z6(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,a;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,a=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var H6={updateSize:D6,updateSlides:O6,updateAutoHeight:L6,updateSlidesOffset:M6,updateSlidesProgress:V6,updateProgress:F6,updateSlidesClasses:$6,updateActiveIndex:B6,updateClickedSlide:z6};function W6(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let a=E6(i,t);return a+=e.cssOverflowAdjustment(),r&&(a=-a),a||0}function q6(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function G6(){return-this.snapGrid[0]}function K6(){return-this.snapGrid[this.snapGrid.length-1]}function Y6(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:a,wrapperEl:l}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,i.updateProgress(d),a.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return cC({swiper:i,targetPosition:-d,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var Q6={getTranslate:W6,setTranslate:q6,minTranslate:G6,maxTranslate:K6,translateTo:Y6};function X6(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function fC(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:a}=e;let l=r;if(l||(i>a?l="next":i<a?l="prev":l="reset"),e.emit(`transition${s}`),n&&i!==a){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function J6(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),fC({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Z6(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),fC({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var e5={setTransition:X6,transitionStart:J6,transitionEnd:Z6};function t5(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=i;if(i.animating&&l.preventInteractionOnTransition||!g&&!r&&!s||i.destroyed)return!1;const x=Math.min(i.params.slidesPerGroupSkip,a);let y=x+Math.floor((a-x)/i.params.slidesPerGroup);y>=c.length&&(y=c.length-1);const m=-c[y];if(l.normalizeSlideIndex)for(let w=0;w<u.length;w+=1){const b=-Math.floor(m*100),I=Math.floor(u[w]*100),_=Math.floor(u[w+1]*100);typeof u[w+1]<"u"?b>=I&&b<_-(_-I)/2?a=w:b>=I&&b<_&&(a=w+1):b>=I&&(a=w)}if(i.initialized&&a!==h&&(!i.allowSlideNext&&(f?m>i.translate&&m>i.minTranslate():m<i.translate&&m<i.minTranslate())||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==a))return!1;a!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let v;if(a>h?v="next":a<h?v="prev":v="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(a),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(m),v!=="reset"&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1;if(l.cssMode){const w=i.isHorizontal(),b=f?m:-m;if(e===0){const I=i.virtual&&i.params.virtual.enabled;I&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),I&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[w?"scrollLeft":"scrollTop"]=b})):p[w?"scrollLeft":"scrollTop"]=b,I&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return cC({swiper:i,targetPosition:b,side:w?"left":"top"}),!0;p.scrollTo({[w?"left":"top"]:b,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),e===0?i.transitionEnd(n,v):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(b){!i||i.destroyed||b.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,v))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function n5(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(i){const f=a*s.params.grid.rows;l=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=s.getSlideIndexByData(a);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u}=s.params;let d=s.params.slidesPerView;d==="auto"?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=c-l<d;if(u&&(h=h||l<Math.ceil(d/2)),h){const f=u?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=a*s.params.grid.rows;a=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,e,n,r)}),s}function r5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:a}=r;if(!s||r.destroyed)return r;let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(a&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function s5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=i.map(m=>f(m));let x=i[g.indexOf(p)-1];if(typeof x>"u"&&s.cssMode){let m;i.forEach((v,w)=>{p>=v&&(m=w)}),typeof m<"u"&&(x=i[m>0?m-1:m])}let y=0;if(typeof x<"u"&&(y=a.indexOf(x),y<0&&(y=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(y=y-r.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(y,t,e,n)}),!0;return r.slideTo(y,t,e,n)}function i5(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function a5(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;let i=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,i),l=a+Math.floor((i-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function o5(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(mr(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),xg(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(mr(n,`${a}[data-swiper-slide-index="${i}"]`)[0]),xg(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var l5={slideTo:t5,slideToLoop:n5,slideNext:r5,slidePrev:s5,slideReset:i5,slideToClosest:a5,slideToClickedSlide:o5};function c5(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{mr(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(i?n.grid.rows:1),l=e.slides.length%a!==0,c=i&&e.slides.length%n.grid.rows!==0,u=d=>{for(let h=0;h<d;h+=1){const f=e.isElement?Hd("swiper-slide",[n.slideBlankClass]):Hd("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const d=a-e.slides.length%a;u(d),e.recalcSlides(),e.updateSlides()}else zd("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const d=n.grid.rows-e.slides.length%n.grid.rows;u(d),e.recalcSlides(),e.updateSlides()}else zd("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function u5(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=h,c.emit("loopFix");return}let x=p.slidesPerView;x==="auto"?x=c.slidesPerViewDynamic():(x=Math.ceil(parseFloat(p.slidesPerView,10)),g&&x%2===0&&(x=x+1));const y=p.slidesPerGroupAuto?x:p.slidesPerGroup;let m=y;m%y!==0&&(m+=y-m%y),m+=p.loopAdditionalSlides,c.loopedSlides=m;const v=c.grid&&p.grid&&p.grid.rows>1;u.length<x+m?zd("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&p.grid.fill==="row"&&zd("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],b=[];let I=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(u.filter(C=>C.classList.contains(p.slideActiveClass))[0]):I=i;const _=r==="next"||!r,j=r==="prev"||!r;let E=0,T=0;const S=v?Math.ceil(u.length/p.grid.rows):u.length,O=(v?u[i].column:i)+(g&&typeof s>"u"?-x/2+.5:0);if(O<m){E=Math.max(m-O,y);for(let C=0;C<m-O;C+=1){const A=C-Math.floor(C/S)*S;if(v){const M=S-A-1;for(let B=u.length-1;B>=0;B-=1)u[B].column===M&&w.push(B)}else w.push(S-A-1)}}else if(O+x>S-m){T=Math.max(O-(S-m*2),y);for(let C=0;C<T;C+=1){const A=C-Math.floor(C/S)*S;v?u.forEach((M,B)=>{M.column===A&&b.push(B)}):b.push(A)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),j&&w.forEach(C=>{u[C].swiperLoopMoveDOM=!0,f.prepend(u[C]),u[C].swiperLoopMoveDOM=!1}),_&&b.forEach(C=>{u[C].swiperLoopMoveDOM=!0,f.append(u[C]),u[C].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():v&&(w.length>0&&j||b.length>0&&_)&&c.slides.forEach((C,A)=>{c.grid.updateSlide(A,C,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(w.length>0&&j){if(typeof e>"u"){const C=c.slidesGrid[I],M=c.slidesGrid[I+E]-C;l?c.setTranslate(c.translate-M):(c.slideTo(I+E,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-M,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-M))}else if(s){const C=v?w.length/p.grid.rows:w.length;c.slideTo(c.activeIndex+C,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(b.length>0&&_)if(typeof e>"u"){const C=c.slidesGrid[I],M=c.slidesGrid[I-T]-C;l?c.setTranslate(c.translate-M):(c.slideTo(I-T,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-M,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-M))}else{const C=v?b.length/p.grid.rows:b.length;c.slideTo(c.activeIndex-C,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const C={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(A=>{!A.destroyed&&A.params.loop&&A.loopFix({...C,slideTo:A.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...C,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function d5(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var h5={loopCreate:c5,loopFix:u5,loopDestroy:d5};function f5(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function p5(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var m5={setGrabCursor:f5,unsetGrabCursor:p5};function g5(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Br()||r===jn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function x_(t,e,n){const r=jn(),{params:s}=t,i=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return i&&(n<=a||n>=r.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function v5(t){const e=this,n=Br();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){x_(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?g5(h,c):c.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const p=a.currentX,g=a.currentY;if(!x_(e,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=g,s.touchStartTime=Bd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let x=!0;c.matches(s.focusableElements)&&(x=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const y=x&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function y5(t){const e=Br(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:a,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].filter(_=>_.identifier===r.touchId)[0],!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,h=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=Bd());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let _;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(_=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?_>s.touchAngle:90-_>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,x=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(a?1:-1),x=Math.abs(x)*(a?1:-1)),i.diff=g,g*=s.touchRatio,a&&(g=-g,x=-x);const y=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=x>0?"prev":"next";const m=n.params.loop&&!s.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&v&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const _=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(_)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let w;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&y!==n.touchesDirection&&m&&v&&Math.abs(g)>=1){Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let b=!0,I=s.resistanceRatio;if(s.touchReleaseOnEdges&&(I=0),g>0?(m&&v&&!w&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(b=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**I))):g<0&&(m&&v&&!w&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(b=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**I))),b&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function w5(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(I=>I.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=Bd(),f=h-n.touchStartTime;if(e.allowClick){const I=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(I&&I[0]||r.target,I),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Bd(),xg(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(a.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let x=0,y=e.slidesSizesGrid[0];for(let I=0;I<u.length;I+=I<a.slidesPerGroupSkip?1:a.slidesPerGroup){const _=I<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[I+_]<"u"?(g||p>=u[I]&&p<u[I+_])&&(x=I,y=u[I+_]-u[I]):(g||p>=u[I])&&(x=I,y=u[u.length-1]-u[u.length-2])}let m=null,v=null;a.rewind&&(e.isBeginning?v=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const w=(p-u[x])/y,b=x<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(f>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(w>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?m:x+b):e.slideTo(x)),e.swipeDirection==="prev"&&(w>1-a.longSwipesRatio?e.slideTo(x+b):v!==null&&w<0&&Math.abs(w)>a.longSwipesRatio?e.slideTo(v):e.slideTo(x))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(x+b):e.slideTo(x):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:x+b),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:x))}}function b_(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function x5(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function b5(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function _5(t){const e=this;Ou(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function E5(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const pC=(t,e)=>{const n=Br(),{params:r,el:s,wrapperEl:i,device:a}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",b_,!0):t[u]("observerUpdate",b_,!0),s[c]("load",t.onLoad,{capture:!0})};function T5(){const t=this,{params:e}=t;t.onTouchStart=v5.bind(t),t.onTouchMove=y5.bind(t),t.onTouchEnd=w5.bind(t),t.onDocumentTouchStart=E5.bind(t),e.cssMode&&(t.onScroll=b5.bind(t)),t.onClick=x5.bind(t),t.onLoad=_5.bind(t),pC(t,"on")}function S5(){pC(this,"off")}var I5={attachEvents:T5,detachEvents:S5};const __=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function N5(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in i?i[a]:void 0)||t.originalParams,u=__(t,r),d=__(t,c),h=r.enabled;u&&!d?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&d&&(s.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const v=r[m]&&r[m].enabled,w=c[m]&&c[m].enabled;v&&!w&&t[m].disable(),!v&&w&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),pn(t.params,c);const x=t.params.enabled,y=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!x?t.disable():!h&&x&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&y?(t.loopCreate(e),t.updateSlides()):g&&!y&&t.loopDestroy()),t.emit("breakpoint",c)}function j5(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=jn(),i=e==="window"?s.innerHeight:n.clientHeight,a=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var C5={setBreakpoint:N5,getBreakpoint:j5};function A5(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function P5(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,a=A5(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.classList.add(...e),t.emitContainerClasses()}function k5(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var R5={addClasses:P5,removeClasses:k5};function D5(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var O5={checkOverflow:D5},Eg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function L5(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){pn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){pn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),pn(e,r)}}const xp={eventsEmitter:R6,update:H6,translate:Q6,transition:e5,slide:l5,loop:h5,grabCursor:m5,events:I5,breakpoints:C5,checkOverflow:O5,classes:R5},bp={};let fw=class kr{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=pn({},n),e&&!n.el&&(n.el=e);const a=Br();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const d=[];return a.querySelectorAll(n.el).forEach(h=>{const f=pn({},n,{el:h});d.push(new kr(f))}),d}const l=this;l.__swiper__=!0,l.support=dC(),l.device=hC({userAgent:n.userAgent}),l.browser=A6(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(d=>{d({params:n,swiper:l,extendParams:L5(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=pn({},Eg,c);return l.params=pn({},u,bp,n),l.originalParams=pn({},l.params),l.passedParams=pn({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=mr(n,`.${r.slideClass}, swiper-slide`),i=Wd(s[0]);return Wd(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=mr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),a=(r.maxTranslate()-s)*e+s;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[u]?Math.ceil(i[u].swiperSlideSize):0,f;for(let p=u+1;p<i.length;p+=1)i[p]&&!f&&(h+=Math.ceil(i[p].swiperSlideSize),d+=1,h>c&&(f=!0));for(let p=u-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,d+=1,h>c&&(f=!0))}else if(e==="current")for(let h=u+1;h<i.length;h+=1)(n?a[h]+l[h]-a[u]<c:a[h]-a[u]<c)&&(d+=1);else for(let h=u-1;h>=0;h-=1)a[u]-a[h]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Ou(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const a=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):mr(r,s())[0];return!a&&n.params.createElements&&(a=Hd("div",n.params.wrapperClass),r.append(a),mr(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ys(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ys(r,"direction")==="rtl"),wrongRTL:ys(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Ou(n,i):i.addEventListener("load",a=>{Ou(n,a.target)})}),_g(n),n.initialized=!0,_g(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,b6(r)),r.destroyed=!0),null}static extendDefaults(e){pn(bp,e)}static get extendedDefaults(){return bp}static get defaults(){return Eg}static installModule(e){kr.prototype.__modules__||(kr.prototype.__modules__=[]);const n=kr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>kr.installModule(n)),kr):(kr.installModule(e),kr)}};Object.keys(xp).forEach(t=>{Object.keys(xp[t]).forEach(e=>{fw.prototype[e]=xp[t][e]})});fw.use([P6,k6]);const mC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Li(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Da(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Li(e[r])&&Li(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Da(t[r],e[r]):t[r]=e[r]})}function gC(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function vC(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function yC(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function wC(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function M5(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function V5(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:c}=t;const u=s.filter(T=>T!=="children"&&T!=="direction"&&T!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:x}=e;let y,m,v,w,b,I,_,j;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(y=!0),s.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(m=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(v=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(w=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(b=!0);const E=T=>{e[T]&&(e[T].destroy(),T==="navigation"?(e.isElement&&(e[T].prevEl.remove(),e[T].nextEl.remove()),d[T].prevEl=void 0,d[T].nextEl=void 0,e[T].prevEl=void 0,e[T].nextEl=void 0):(e.isElement&&e[T].el.remove(),d[T].el=void 0,e[T].el=void 0))};s.includes("loop")&&e.isElement&&(d.loop&&!r.loop?I=!0:!d.loop&&r.loop?_=!0:j=!0),u.forEach(T=>{if(Li(d[T])&&Li(r[T]))Object.assign(d[T],r[T]),(T==="navigation"||T==="pagination"||T==="scrollbar")&&"enabled"in r[T]&&!r[T].enabled&&E(T);else{const S=r[T];(S===!0||S===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?S===!1&&E(T):d[T]=r[T]}}),u.includes("controller")&&!m&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),s.includes("children")&&n&&g&&d.virtual.enabled?(g.slides=n,g.update(!0)):s.includes("virtual")&&g&&d.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),s.includes("children")&&n&&d.loop&&(j=!0),y&&x.init()&&x.update(!0),m&&(e.controller.control=d.controller.control),v&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(d.pagination.el=c),h.init(),h.render(),h.update()),w&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(d.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),b&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),i&&(d.navigation.nextEl=i),a&&(d.navigation.prevEl=a),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(I||j)&&e.loopDestroy(),(_||j)&&e.loopCreate(),e.update()}function F5(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};Da(n,Eg),n._emitClasses=!0,n.init=!1;const i={},a=mC.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(a.indexOf(c)>=0?Li(t[c])?(n[c]={},s[c]={},Da(n[c],t[c]),Da(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function $5(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:a,swiper:l}=t;gC(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),vC(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),yC(e)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function U5(t,e,n,r,s){const i=[];if(!e)return i;const a=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),u=n.map(s);c.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}return mC.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Li(t[c])&&Li(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?a(c):(u.forEach(h=>{t[c][h]!==e[c][h]&&a(c)}),d.forEach(h=>{t[c][h]!==e[c][h]&&a(c)}))}else t[c]!==e[c]&&a(c)}),i}const B5=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function xC(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function bC(t){const e=[];return Ee.Children.toArray(t).forEach(n=>{xC(n)?e.push(n):n.props&&n.props.children&&bC(n.props.children).forEach(r=>e.push(r))}),e}function z5(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ee.Children.toArray(t).forEach(r=>{if(xC(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=bC(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function H5(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:a}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=a&&u.push(e[r(d)]);return u.map((d,h)=>Ee.cloneElement(d,{swiper:t,style:s,key:`slide-${h}`}))}function gl(t,e){return typeof window>"u"?N.useEffect(t,e):N.useLayoutEffect(t,e)}const E_=N.createContext(null),W5=N.createContext(null),_C=N.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:a,...l}=t===void 0?{}:t,c=!1;const[u,d]=N.useState("swiper"),[h,f]=N.useState(null),[p,g]=N.useState(!1),x=N.useRef(!1),y=N.useRef(null),m=N.useRef(null),v=N.useRef(null),w=N.useRef(null),b=N.useRef(null),I=N.useRef(null),_=N.useRef(null),j=N.useRef(null),{params:E,passedParams:T,rest:S,events:P}=F5(l),{slides:O,slots:C}=z5(i),A=()=>{g(!p)};Object.assign(E.on,{_containerClasses(L,F){d(F)}});const M=()=>{Object.assign(E.on,P),c=!0;const L={...E};if(delete L.wrapperClass,m.current=new fw(L),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=O;const F={cache:!1,slides:O,renderExternal:f,renderExternalUpdate:!1};Da(m.current.params.virtual,F),Da(m.current.originalParams.virtual,F)}};y.current||M(),m.current&&m.current.on("_beforeBreakpoint",A);const B=()=>{c||!P||!m.current||Object.keys(P).forEach(L=>{m.current.on(L,P[L])})},D=()=>{!P||!m.current||Object.keys(P).forEach(L=>{m.current.off(L,P[L])})};N.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",A)}),N.useEffect(()=>{!x.current&&m.current&&(m.current.emitSlidesClasses(),x.current=!0)}),gl(()=>{if(e&&(e.current=y.current),!!y.current)return m.current.destroyed&&M(),$5({el:y.current,nextEl:b.current,prevEl:I.current,paginationEl:_.current,scrollbarEl:j.current,swiper:m.current},E),a&&!m.current.destroyed&&a(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),gl(()=>{B();const L=U5(T,v.current,O,w.current,F=>F.key);return v.current=T,w.current=O,L.length&&m.current&&!m.current.destroyed&&V5({swiper:m.current,slides:O,passedParams:T,changedParams:L,nextEl:b.current,prevEl:I.current,scrollbarEl:j.current,paginationEl:_.current}),()=>{D()}}),gl(()=>{B5(m.current)},[h]);function R(){return E.virtual?H5(m.current,O,h):O.map((L,F)=>Ee.cloneElement(L,{swiper:m.current,swiperSlideIndex:F}))}return Ee.createElement(r,qd({ref:y,className:wC(`${u}${n?` ${n}`:""}`)},S),Ee.createElement(W5.Provider,{value:m.current},C["container-start"],Ee.createElement(s,{className:M5(E.wrapperClass)},C["wrapper-start"],R(),C["wrapper-end"]),gC(E)&&Ee.createElement(Ee.Fragment,null,Ee.createElement("div",{ref:I,className:"swiper-button-prev"}),Ee.createElement("div",{ref:b,className:"swiper-button-next"})),yC(E)&&Ee.createElement("div",{ref:j,className:"swiper-scrollbar"}),vC(E)&&Ee.createElement("div",{ref:_,className:"swiper-pagination"}),C["container-end"]))});_C.displayName="Swiper";const EC=N.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=N.useRef(null),[f,p]=N.useState("swiper-slide"),[g,x]=N.useState(!1);function y(b,I,_){I===h.current&&p(_)}gl(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",y),()=>{i&&i.off("_slideClass",y)}}}),gl(()=>{i&&h.current&&!i.destroyed&&p(i.getSlideClasses(h.current))},[i]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},v=()=>typeof r=="function"?r(m):r,w=()=>{x(!0)};return Ee.createElement(n,qd({ref:h,className:wC(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:w},d),a&&Ee.createElement(E_.Provider,{value:m},Ee.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},v(),l&&!g&&Ee.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Ee.createElement(E_.Provider,{value:m},v(),l&&!g&&Ee.createElement("div",{className:"swiper-lazy-preloader"})))});EC.displayName="SwiperSlide";function TC(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=mr(t.el,`.${r[s]}`)[0];i||(i=Hd("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function q5(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let x;return g&&typeof g=="string"&&e.isElement&&(x=e.el.querySelector(g),x)?x:(g&&(typeof g=="string"&&(x=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&x.length>1&&e.el.querySelectorAll(g).length===1&&(x=e.el.querySelector(g))),g&&!x?g:x)}function a(g,x){const y=e.params.navigation;g=gt(g),g.forEach(m=>{m&&(m.classList[x?"add":"remove"](...y.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=x),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](y.lockClass))})}function l(){const{nextEl:g,prevEl:x}=e.navigation;if(e.params.loop){a(x,!1),a(g,!1);return}a(x,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function u(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function d(){const g=e.params.navigation;if(e.params.navigation=TC(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let x=i(g.nextEl),y=i(g.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:y}),x=gt(x),y=gt(y);const m=(v,w)=>{v&&v.addEventListener("click",w==="next"?u:c),!e.enabled&&v&&v.classList.add(...g.lockClass.split(" "))};x.forEach(v=>m(v,"next")),y.forEach(v=>m(v,"prev"))}function h(){let{nextEl:g,prevEl:x}=e.navigation;g=gt(g),x=gt(x);const y=(m,v)=>{m.removeEventListener("click",v==="next"?u:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>y(m,"next")),x.forEach(m=>y(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:x}=e.navigation;if(g=gt(g),x=gt(x),e.enabled){l();return}[...g,...x].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),r("click",(g,x)=>{let{nextEl:y,prevEl:m}=e.navigation;y=gt(y),m=gt(m);const v=x.target;if(e.params.navigation.hideOnClick&&!m.includes(v)&&!y.includes(v)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let w;y.length?w=y[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(w=m[0].classList.contains(e.params.navigation.hiddenClass)),s(w===!0?"navigationShow":"navigationHide"),[...y,...m].filter(b=>!!b).forEach(b=>b.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:d,destroy:h})}function Vo(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function G5(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(m,v){const{bulletActiveClass:w}=e.params.pagination;m&&(m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${w}-${v}`),m=m[`${v==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${w}-${v}-${v}`)))}function d(m){const v=m.target.closest(Vo(e.params.pagination.bulletClass));if(!v)return;m.preventDefault();const w=Wd(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;e.slideToLoop(w)}else e.slideTo(w)}function h(){const m=e.rtl,v=e.params.pagination;if(c())return;let w=e.pagination.el;w=gt(w);let b,I;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,j=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(I=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(b=e.snapIndex,I=e.previousSnapIndex):(I=e.previousIndex||0,b=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const E=e.pagination.bullets;let T,S,P;if(v.dynamicBullets&&(a=bg(E[0],e.isHorizontal()?"width":"height",!0),w.forEach(O=>{O.style[e.isHorizontal()?"width":"height"]=`${a*(v.dynamicMainBullets+4)}px`}),v.dynamicMainBullets>1&&I!==void 0&&(l+=b-(I||0),l>v.dynamicMainBullets-1?l=v.dynamicMainBullets-1:l<0&&(l=0)),T=Math.max(b-l,0),S=T+(Math.min(E.length,v.dynamicMainBullets)-1),P=(S+T)/2),E.forEach(O=>{const C=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(A=>`${v.bulletActiveClass}${A}`)].map(A=>typeof A=="string"&&A.includes(" ")?A.split(" "):A).flat();O.classList.remove(...C)}),w.length>1)E.forEach(O=>{const C=Wd(O);C===b?O.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&O.setAttribute("part","bullet"),v.dynamicBullets&&(C>=T&&C<=S&&O.classList.add(...`${v.bulletActiveClass}-main`.split(" ")),C===T&&u(O,"prev"),C===S&&u(O,"next"))});else{const O=E[b];if(O&&O.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&E.forEach((C,A)=>{C.setAttribute("part",A===b?"bullet-active":"bullet")}),v.dynamicBullets){const C=E[T],A=E[S];for(let M=T;M<=S;M+=1)E[M]&&E[M].classList.add(...`${v.bulletActiveClass}-main`.split(" "));u(C,"prev"),u(A,"next")}}if(v.dynamicBullets){const O=Math.min(E.length,v.dynamicMainBullets+4),C=(a*O-a)/2-P*a,A=m?"right":"left";E.forEach(M=>{M.style[e.isHorizontal()?A:"top"]=`${C}px`})}}w.forEach((E,T)=>{if(v.type==="fraction"&&(E.querySelectorAll(Vo(v.currentClass)).forEach(S=>{S.textContent=v.formatFractionCurrent(b+1)}),E.querySelectorAll(Vo(v.totalClass)).forEach(S=>{S.textContent=v.formatFractionTotal(j)})),v.type==="progressbar"){let S;v.progressbarOpposite?S=e.isHorizontal()?"vertical":"horizontal":S=e.isHorizontal()?"horizontal":"vertical";const P=(b+1)/j;let O=1,C=1;S==="horizontal"?O=P:C=P,E.querySelectorAll(Vo(v.progressbarFillClass)).forEach(A=>{A.style.transform=`translate3d(0,0,0) scaleX(${O}) scaleY(${C})`,A.style.transitionDuration=`${e.params.speed}ms`})}v.type==="custom"&&v.renderCustom?(E.innerHTML=v.renderCustom(e,b+1,j),T===0&&s("paginationRender",E)):(T===0&&s("paginationRender",E),s("paginationUpdate",E)),e.params.watchOverflow&&e.enabled&&E.classList[e.isLocked?"add":"remove"](v.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=gt(w);let b="";if(m.type==="bullets"){let I=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&I>v&&(I=v);for(let _=0;_<I;_+=1)m.renderBullet?b+=m.renderBullet.call(e,_,m.bulletClass):b+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?b=m.renderFraction.call(e,m.currentClass,m.totalClass):b=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?b=m.renderProgressbar.call(e,m.progressbarFillClass):b=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(I=>{m.type!=="custom"&&(I.innerHTML=b||""),m.type==="bullets"&&e.pagination.bullets.push(...I.querySelectorAll(Vo(m.bulletClass)))}),m.type!=="custom"&&s("paginationRender",w[0])}function p(){e.params.pagination=TC(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let v;typeof m.el=="string"&&e.isElement&&(v=e.el.querySelector(m.el)),!v&&typeof m.el=="string"&&(v=[...document.querySelectorAll(m.el)]),v||(v=m.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(m.el)],v.length>1&&(v=v.filter(w=>uC(w,".swiper")[0]===e.el)[0])),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=gt(v),v.forEach(w=>{m.type==="bullets"&&m.clickable&&w.classList.add(...(m.clickableClass||"").split(" ")),w.classList.add(m.modifierClass+m.type),w.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(w.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&w.classList.add(m.progressbarOppositeClass),m.clickable&&w.addEventListener("click",d),e.enabled||w.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let v=e.pagination.el;v&&(v=gt(v),v.forEach(w=>{w.classList.remove(m.hiddenClass),w.classList.remove(m.modifierClass+m.type),w.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(w.classList.remove(...(m.clickableClass||"").split(" ")),w.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:v}=e.pagination;v=gt(v),v.forEach(w=>{w.classList.remove(m.horizontalClass,m.verticalClass),w.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?y():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=gt(m),m.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,v)=>{const w=v.target,b=gt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const I=b[0].classList.contains(e.params.pagination.hiddenClass);s(I===!0?"paginationShow":"paginationHide"),b.forEach(_=>_.classList.toggle(e.params.pagination.hiddenClass))}});const x=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=gt(m),m.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=gt(m),m.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:x,disable:y,render:f,update:h,init:p,destroy:g})}function K5(t){let{swiper:e,extendParams:n,on:r,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,c=i&&i.autoplay?i.autoplay.delay:3e3,u=i&&i.autoplay?i.autoplay.delay:3e3,d,h=new Date().getTime(),f,p,g,x,y,m,v;function w(R){!e||e.destroyed||!e.wrapperEl||R.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",w),!v&&S())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(u=d,f=!1);const R=e.autoplay.paused?d:h+u-new Date().getTime();e.autoplay.timeLeft=R,s("autoplayTimeLeft",R,R/c),l=requestAnimationFrame(()=>{b()})},I=()=>{let R;return e.virtual&&e.params.virtual.enabled?R=e.slides.filter(F=>F.classList.contains("swiper-slide-active"))[0]:R=e.slides[e.activeIndex],R?parseInt(R.getAttribute("data-swiper-autoplay"),10):void 0},_=R=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),b();let L=typeof R>"u"?e.params.autoplay.delay:R;c=e.params.autoplay.delay,u=e.params.autoplay.delay;const F=I();!Number.isNaN(F)&&F>0&&typeof R>"u"&&(L=F,c=F,u=F),d=L;const W=e.params.speed,k=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(W,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,W,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(W,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,W,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{_()})))};return L>0?(clearTimeout(a),a=setTimeout(()=>{k()},L)):requestAnimationFrame(()=>{k()}),L},j=()=>{h=new Date().getTime(),e.autoplay.running=!0,_(),s("autoplayStart")},E=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),s("autoplayStop")},T=(R,L)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),R||(m=!0);const F=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",w):S()};if(e.autoplay.paused=!0,L){y&&(d=e.params.autoplay.delay),y=!1,F();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),F())},S=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,_(d)):_(),e.autoplay.paused=!1,s("autoplayResume"))},P=()=>{if(e.destroyed||!e.autoplay.running)return;const R=Br();R.visibilityState==="hidden"&&(m=!0,T(!0)),R.visibilityState==="visible"&&S()},O=R=>{R.pointerType==="mouse"&&(m=!0,v=!0,!(e.animating||e.autoplay.paused)&&T(!0))},C=R=>{R.pointerType==="mouse"&&(v=!1,e.autoplay.paused&&S())},A=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",O),e.el.addEventListener("pointerleave",C))},M=()=>{e.el.removeEventListener("pointerenter",O),e.el.removeEventListener("pointerleave",C)},B=()=>{Br().addEventListener("visibilitychange",P)},D=()=>{Br().removeEventListener("visibilitychange",P)};r("init",()=>{e.params.autoplay.enabled&&(A(),B(),j())}),r("destroy",()=>{M(),D(),e.autoplay.running&&E()}),r("_freeModeStaticRelease",()=>{(g||m)&&S()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?E():T(!0,!0)}),r("beforeTransitionStart",(R,L,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?T(!0,!0):E())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){E();return}p=!0,g=!1,m=!1,x=setTimeout(()=>{m=!0,g=!0,T(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(x),clearTimeout(a),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&S(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:j,stop:E,pause:T,resume:S})}const Y5=()=>{const t=re(e=>e.getslider).data;return o.jsx(o.Fragment,{children:o.jsx("div",{className:"border_bottom_strip",children:o.jsx(_C,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[K5,G5,q5],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>o.jsxs(EC,{children:[o.jsx("img",{src:e.bannerURL,alt:e.title}),o.jsx("p",{children:e.title})]},n))})})})},Q5=()=>o.jsx("div",{className:"col-sm-12 py-3 px-4 container my-3 mb-5",children:o.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[o.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 p-0",children:o.jsx("img",{src:"https://visionintelligence.github.io/assets/images/group.jpg",alt:"",className:"image-fluid rounded-3 image_up"})}),o.jsxs("div",{className:"col-md-6 col-sm-12",children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Our Objective"}),o.jsx("hr",{}),o.jsx("p",{children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning. Our lab aims to develop intelligent algorithms that perform important visual perception tasks such as object detection, human emotion recognition, aberrant event detection, image retrieval, Motion analysis, etc. Currently, we are dealing with:-"}),o.jsxs("ol",{children:[o.jsx("li",{children:"Moving Object Detection and Analysis"}),o.jsx("li",{children:"Facial Expression"}),o.jsx("li",{children:"Recognition"}),o.jsx("li",{children:"Anomaly Detection and Analysis"}),o.jsx("li",{children:"Content Based Image Retrieval"}),o.jsx("li",{children:"Hand Gesture Recognition"})]})]})]})}),SC=({ref_:t})=>{const e=re(s=>s.getpublications.data),[n,r]=N.useState(!1);return N.useEffect(()=>{t||(async()=>{r(!0),await Pc(),r(!1)})()},[]),n?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[o.jsxs("h1",{className:"fw-bold text-danger w-100 my-4",children:[t&&"Latest"," Publications"]}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("ul",{className:`p-2 ${t&&"marquee_scroll"}`,style:{height:t?"300px":"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((s,i)=>{const{paperTitle:a,author:l,impact:c,link:u,pages:d,publisher:h,publicationDate:f,volume:p,journalName:g,paperType:x,isbn:y}=s==null?void 0:s.data;return o.jsxs("li",{children:[o.jsx("p",{children:o.jsxs("cite",{children:[o.jsxs("span",{className:"author",children:[l==null?void 0:l.stringValue,","]}),o.jsxs("a",{href:`https://doi.org/${u.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[o.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',a.stringValue,'",']}),o.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),o.jsxs("span",{className:"journal",style:{display:"inline"},children:[o.jsx("i",{children:g.stringValue}),","]}),o.jsxs("span",{className:"volume",style:{display:"inline"},children:[p.stringValue,","," "]}),o.jsxs("span",{className:"pages",style:{display:"inline"},children:[d.stringValue,","," "]}),o.jsxs("span",{className:"date",style:{display:"inline"},children:[f.stringValue,"-",x.stringValue,"-",y.stringValue,"-",h.stringValue,"-",c.stringValue]})]})}),o.jsx("hr",{})]},i)})})}),t&&o.jsx("div",{className:"w-100 my-3",children:o.jsx(te,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&o.jsx(Tn,{children:o.jsxs("title",{children:["Publications | ","Vision Intelligence Lab, IIT Ropar"]})})]})},X5=()=>{const t=re(r=>r.getnews.data),[e,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{n(!0),await Xj(),await Rj(),await Pc(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Y5,{}),o.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column p-4 container mt-4",children:[o.jsx("div",{className:"col-sm-8",children:o.jsx(SC,{ref_:!0})}),o.jsx("div",{className:"col-sm-4",children:o.jsxs("div",{className:"border d-flex flex-column mt-4",children:[o.jsx("div",{children:o.jsx("h3",{className:"py-2  px-4 bg-danger text-white",children:"Updates"})}),o.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:o.jsx("div",{className:"marquee_scroll ",children:o.jsx("div",{className:"text-secondary",children:o.jsx("ul",{style:{listStyle:"none"},children:t==null?void 0:t.map((r,s)=>{if(!(s>5))return o.jsxs("li",{children:[o.jsxs("strong",{className:"text-danger me-1",children:[s+1,"."]}),r==null?void 0:r.title,"-",r==null?void 0:r.datetime1,"-",r==null?void 0:r.description,"|"]},s)})})})})}),o.jsx("div",{children:o.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:o.jsx(te,{to:"#",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),o.jsx(Q5,{})]})},J5=()=>o.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:o.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:o.jsxs("div",{className:"container py-4 p-3",children:[o.jsxs("div",{className:"row gy-4 gx-5",children:[o.jsxs("div",{className:"col-lg-4 col-md-6",children:[o.jsx("h5",{className:"h1 text-white",children:"Vision Intelligence Lab"}),o.jsx("p",{className:"small text-light",children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning."}),o.jsx("button",{className:"btn btn-danger",children:"More"})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Research"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Publications"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Projects"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Datasets"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Supervisor"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Ph.D."})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"PG and UG"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Interns and Visitors"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"Alumni Students"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),o.jsxs("ul",{className:"list-unstyled text-muted",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"About CVPR"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"link_footer",children:"IIT Ropar Website"})}),o.jsx("li",{children:o.jsx(te,{className:"link_footer",to:"/login",target:"_blank",children:"Administration Login"})})]})]}),o.jsxs("div",{className:"col-lg-2 col-md-6",children:[o.jsx("h5",{className:"text-white mb-3",children:"Address"}),o.jsx("p",{className:"text-white",children:"Indian Institute of Technology Ropar (IIT Ropar), Rupnagar, Punjab, 140001"})]})]}),o.jsx("hr",{className:"text-white"}),o.jsxs("p",{className:"small text-light w-100 text-center",children:[" Copyrights. All rights reserved."," ",o.jsx("a",{className:"text-danger fw-bold",href:"#",children:"CVPR LAB"})]})]})})}),Z5=()=>{const[t,e]=N.useState(!0),n=re(a=>a.getsupervisors.data),r=re(a=>a.getphdStudents.data),s=re(a=>a.getpgugStudents.data),i=re(a=>a.getvisitorsandinterns.data);return N.useEffect(()=>{(async()=>{e(!0),await yo(),await dw(),await Jj(),await Zj(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tn,{children:o.jsxs("title",{children:["Peoples | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Supervisor",o.jsx("hr",{})]}),n==null?void 0:n.map((a,l)=>{var c,u,d,h,f,p,g,x,y,m,v,w,b,I,_,j,E,T;return o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[o.jsx("div",{className:"col-sm-2 py-2 pe-2",children:o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"",className:"rounded-1"})})}),o.jsxs("div",{className:"col-sm-10",children:[o.jsx("h2",{className:"fw-bold text-dark",children:(u=(c=a==null?void 0:a.data)==null?void 0:c.name)==null?void 0:u.stringValue}),o.jsxs("p",{className:"text-muted",children:[(h=(d=a==null?void 0:a.data)==null?void 0:d.email)==null?void 0:h.stringValue," | +91-",(p=(f=a==null?void 0:a.data)==null?void 0:f.phone)==null?void 0:p.stringValue," |"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(g=a==null?void 0:a.data)==null?void 0:g.googleScholarLink.stringValue,target:"_blank",children:["Google Scholar ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(y=(x=a==null?void 0:a.data)==null?void 0:x.researchGateLink)==null?void 0:y.stringValue,target:"_blank",children:["Researchgate ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(v=(m=a==null?void 0:a.data)==null?void 0:m.personalProfileLink)==null?void 0:v.stringValue,target:"_blank",children:["Personal Profile ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(b=(w=a==null?void 0:a.data)==null?void 0:w.otherLink)==null?void 0:b.stringValue,target:"_blank",children:["Other ",o.jsx("i",{className:"bx bx-link-external"})]}),o.jsx("br",{}),o.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/profile/"+a._id,"_blank"),children:["Detailed Profile ",o.jsx("i",{className:"bx bx-link-external"})]})]}),o.jsx("hr",{}),o.jsx("h5",{children:"Research Interests"}),o.jsx("ul",{className:"d-flex flex-wrap",children:(j=(_=(I=a==null?void 0:a.data)==null?void 0:I.researchInterests)==null?void 0:_.stringValue)==null?void 0:j.split(",").map((S,P)=>o.jsx("li",{className:"mx-3",children:S},P))})]})]}),o.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[o.jsx("h3",{className:"fw-bold",children:"Introduction"}),o.jsx("hr",{}),o.jsx("p",{children:(T=(E=a==null?void 0:a.data)==null?void 0:E.introduction)==null?void 0:T.stringValue})]})]},l)}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((a,l)=>{var y,m,v,w,b,I;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p,supervisor:g}=a==null?void 0:a.data,x=(y=n.filter(_=>{var j,E,T,S,P;return((E=(j=_==null?void 0:_.data)==null?void 0:j.email)==null?void 0:E.stringValue)===((P=(S=(T=g==null?void 0:g.mapValue)==null?void 0:T.fields)==null?void 0:S.email)==null?void 0:P.stringValue)})[0])==null?void 0:y._id;return d!=null&&d.booleanValue?null:o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:c==null?void 0:c.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),o.jsx("br",{}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(v=(m=p==null?void 0:p.arrayValue)==null?void 0:m.values)==null?void 0:v.map((_,j)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:_.stringValue},j))]}),o.jsx("br",{}),o.jsxs("h6",{children:["Supervisor:",o.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+x,target:"_blank",children:[(I=(b=(w=g==null?void 0:g.mapValue)==null?void 0:w.fields)==null?void 0:b.name)==null?void 0:I.stringValue,o.jsx("i",{className:"bx bx-link-external"})]})]})]})]},l)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((a,l)=>{var y,m,v,w,b,I;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,researchInterests:p,supervisor:g}=a==null?void 0:a.data,x=(y=n.filter(_=>{var j,E,T,S,P;return((E=(j=_==null?void 0:_.data)==null?void 0:j.email)==null?void 0:E.stringValue)===((P=(S=(T=g==null?void 0:g.mapValue)==null?void 0:T.fields)==null?void 0:S.email)==null?void 0:P.stringValue)})[0])==null?void 0:y._id;return d!=null&&d.booleanValue?o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:a==null?void 0:a.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("h3",{children:c==null?void 0:c.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),o.jsx("br",{}),o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(v=(m=p==null?void 0:p.arrayValue)==null?void 0:m.values)==null?void 0:v.map((_,j)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:_.stringValue},j))]}),o.jsx("br",{}),o.jsxs("h6",{children:["Supervisor:",o.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+x,target:"_blank",children:[(I=(b=(w=g==null?void 0:g.mapValue)==null?void 0:w.fields)==null?void 0:b.name)==null?void 0:I.stringValue,o.jsx("i",{className:"bx bx-link-external"})]})]})]},l):null})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(a=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=a==null?void 0:a.data;return u.booleanValue?null:o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:l==null?void 0:l.stringValue}),o.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),o.jsx("br",{}),o.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("hr",{}),o.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),o.jsx("br",{}),o.jsx("small",{children:"Currently Working at"}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),o.jsx("br",{})]})},a==null?void 0:a._id)})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["PG and UG Alumnis",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(a=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=a==null?void 0:a.data;return u.booleanValue?o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:l==null?void 0:l.stringValue}),o.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),o.jsx("br",{}),o.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),o.jsx("hr",{}),o.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),o.jsx("br",{}),o.jsx("small",{children:"Currently Working at"}),o.jsx("br",{}),o.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),o.jsx("br",{})]})},a==null?void 0:a._id):null})}),o.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Vistors and Inters",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(a=>{const{name:l,collegeName:c}=a==null?void 0:a.data;return o.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:o.jsxs("div",{className:"p-2",children:[o.jsx("h4",{children:l==null?void 0:l.stringValue}),o.jsx("hr",{}),o.jsx("p",{className:"fw-bold text-dark",children:c==null?void 0:c.stringValue})]})},a==null?void 0:a._id)})})]})]})},eH=()=>{const t=re(r=>{var s;return(s=r.getdatasets)==null?void 0:s.data}),[e,n]=N.useState(!0);return N.useEffect(()=>{(async()=>{n(!0),await wo(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tn,{children:o.jsxs("title",{children:["Datasets | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Datasets",o.jsx("hr",{})]}),t==null?void 0:t.map((r,s)=>o.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[s+1,". "]}),r==null?void 0:r.title]}),o.jsx("p",{children:r==null?void 0:r.description}),o.jsx("img",{src:r==null?void 0:r.bannerURL,alt:"Banner Image",className:"rounded-3 border border-1 border-secondary"})]},s))]})]})},tH=()=>{const[t,e]=N.useState(!0),n=re(s=>{var i;return(i=s.getresearcharea)==null?void 0:i.data}),r=re(s=>s.getsubareas).data;return N.useEffect(()=>{(async()=>{e(!0),await nf(),await rf(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tn,{children:o.jsxs("title",{children:["Research Areas | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Areas",o.jsx("hr",{})]}),n==null?void 0:n.map((s,i)=>{const a=(s==null?void 0:s.subareas)||[],l=r==null?void 0:r.filter(c=>a.some(u=>u.stringValue===(c==null?void 0:c._id)));return(i+1)%2!==0?o.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[o.jsx("div",{className:"col-sm-6 pe-3",children:o.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),o.jsxs("div",{className:"col-sm-8=6",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),o.jsxs("p",{children:[o.jsx("ul",{children:l==null?void 0:l.map((c,u)=>o.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&o.jsx(te,{to:"/research-areas/"+(s==null?void 0:s._id),children:o.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]})]},i):o.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-6",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),o.jsxs("p",{children:[o.jsx("ul",{children:l==null?void 0:l.map((c,u)=>o.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&o.jsx(te,{to:"/research-areas/"+(s==null?void 0:s._id),children:o.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]}),o.jsx("div",{className:"col-sm-6 pe-3",children:o.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},i)})]})]})},nH=()=>{const[t,e]=N.useState(!0),{id:n}=io(),r=re(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),s=re(u=>u.getsubareas).data,i=re(u=>{var d;return(d=u.getprojectitems)==null?void 0:d.data}),a=r.find(u=>u._id===n);a||(window.location.href="/CVPR_LAB/#/dashboard/research-areas");const l=(a==null?void 0:a.subareas)||[],c=s==null?void 0:s.filter(u=>l.some(d=>d.stringValue===(u==null?void 0:u._id)));return N.useEffect(()=>{(async()=>{e(!0),await nf(),await rf(),await Yi(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tn,{children:o.jsxs("title",{children:[a==null?void 0:a.title," | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsx("div",{className:"col-sm-12 text-start w-100",children:o.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[o.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[a==null?void 0:a.title,o.jsx("hr",{})]}),o.jsx("div",{className:"col-sm-12",children:o.jsx("div",{className:"card p-3",children:o.jsx("img",{src:a==null?void 0:a.bannerURL,alt:"Banner URL"})})}),o.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((u,d)=>{var h;return o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("h1",{children:[o.jsxs("strong",{className:"fw-bold text-danger",children:[d+1,". "]}),u==null?void 0:u.title]}),o.jsx("hr",{}),o.jsx("p",{children:u==null?void 0:u.description}),o.jsx("h3",{className:"fw-bold text-danger mb-3",children:"Related Projects"}),o.jsx("div",{className:"col-sm-12",children:(h=u==null?void 0:u.projects)==null?void 0:h.map((f,p)=>{const g=i==null?void 0:i.find(x=>(x==null?void 0:x._id)==(f==null?void 0:f.stringValue));return o.jsxs("div",{className:"card p-2 mb-4",children:[o.jsxs("h6",{children:[" ",o.jsxs("strong",{className:"fw-bold text-danger",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",o.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(te,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},d)})})]})]})},rH=()=>o.jsxs(o.Fragment,{children:[o.jsx(Tn,{children:o.jsxs("title",{children:["Contact | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"my-5 container",children:[o.jsxs("h1",{className:"fw-bold mb-4 text-danger text-center text-lg-start",children:["Contact Us",o.jsx("hr",{})]}),o.jsxs("div",{className:"row",children:[o.jsx("div",{className:"col-sm-8",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"500px",style:{border:"none"},allowFullScreen:!0})}),o.jsxs("div",{className:"col-sm-4",id:"contact2",children:[o.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),o.jsx("hr",{className:"text-left w-50"}),o.jsx("h4",{className:"pt-2",children:"Address"}),o.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),"CVPR Lab, Department of Electrical Engineering, J.C.Block, IIT Ropar, Rupnagar, Punjab, 140001",o.jsx("br",{}),o.jsx("h4",{className:"pt-2",children:"Mobile"}),o.jsx("i",{className:"fas fa-phone",style:{color:"#000"}}),o.jsxs("a",{href:"tel:+91-3612583507",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[o.jsx("i",{className:"bx bxs-phone me-1"}),"+91-3612583507"]}),o.jsx("br",{}),o.jsx("h4",{className:"pt-2",children:"Email"}),o.jsx("i",{className:"fa fa-envelope",style:{color:"#000"}}),o.jsxs("a",{href:"mailto:visionintelligencelab@gmail.com",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[o.jsx("i",{className:"bx bx-envelope me-1"})," ","visionintelligencelab[at]gmail[dot]com"]}),o.jsx("br",{})]})]})]})]}),sH=()=>{const[t,e]=N.useState(!0),n=re(i=>{var a;return(a=i.getprojectitems)==null?void 0:a.data}),r=re(i=>{var a;return(a=i.getdatasets)==null?void 0:a.data}),s=re(i=>{var a;return(a=i.getprojectsmain)==null?void 0:a.data});return N.useEffect(()=>{(async()=>{e(!0),sf(),Yi(),wo(),e(!1)})()},[]),t?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tn,{children:o.jsxs("title",{children:["Projects | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Projects",o.jsx("hr",{})]}),s==null?void 0:s.map((i,a)=>{var l,c,u,d,h,f,p,g,x,y,m,v,w;return o.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[o.jsxs("h3",{children:[o.jsxs("strong",{className:"text-danger",children:[a+1,". "]}),(l=i==null?void 0:i.title)==null?void 0:l.stringValue]}),o.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[o.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),o.jsx("td",{children:(c=i==null?void 0:i.funding_agency)==null?void 0:c.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(u=i==null?void 0:i.total_fund)==null?void 0:u.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),o.jsx("td",{children:(d=i==null?void 0:i.pis)==null?void 0:d.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),o.jsx("td",{children:(h=i==null?void 0:i.copis)==null?void 0:h.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(f=i==null?void 0:i.jrf_phd_scholar)==null?void 0:f.stringValue})]})]})})}),o.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[o.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),o.jsx("hr",{className:"mx-1 mt-0 mb-2"}),o.jsx("p",{className:"",children:(p=i==null?void 0:i.description)==null?void 0:p.stringValue}),o.jsxs("div",{className:"px-1 mb-3",children:[o.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(y=(x=(g=i==null?void 0:i.related_datasets)==null?void 0:g.arrayValue)==null?void 0:x.values)==null?void 0:y.map((b,I)=>{const _=r==null?void 0:r.find(j=>(j==null?void 0:j._id)==(b==null?void 0:b.stringValue));return o.jsxs("div",{children:[I+1,". ",_==null?void 0:_.title," (",o.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(_==null?void 0:_._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(_==null?void 0:_._id)+"Modal",tabIndex:-1,"aria-labelledby":(_==null?void 0:_._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(_==null?void 0:_._id)+"ModalLabel",children:_==null?void 0:_.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:_==null?void 0:_.description}),o.jsx("img",{className:"w-100",src:_==null?void 0:_.bannerURL,alt:"Banner Image"})]})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I)})}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(w=(v=(m=i==null?void 0:i.related_projectitems)==null?void 0:m.arrayValue)==null?void 0:v.values)==null?void 0:w.map((b,I)=>{const _=n==null?void 0:n.find(j=>(j==null?void 0:j._id)==(b==null?void 0:b.stringValue));return o.jsxs("div",{children:[I+1,". ",_==null?void 0:_.title," (",o.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(_==null?void 0:_._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(_==null?void 0:_._id)+"Modal",tabIndex:-1,"aria-labelledby":(_==null?void 0:_._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(_==null?void 0:_._id)+"ModalLabel",children:[_==null?void 0:_.title,"("," ",o.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:_==null?void 0:_.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(te,{to:_==null?void 0:_.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:_==null?void 0:_.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},I)})})]})]})]})]},a)})]})]})},iH=()=>o.jsxs(o.Fragment,{children:[o.jsx(Tn,{children:o.jsxs("title",{children:["Welcome | ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsx(y6,{}),o.jsxs(_v,{children:[o.jsx(Ae,{path:"/",element:o.jsx(X5,{})}),o.jsx(Ae,{path:"/peoples",element:o.jsx(Z5,{})}),o.jsx(Ae,{path:"/datasets",element:o.jsx(eH,{})}),o.jsx(Ae,{path:"/projects",element:o.jsx(sH,{})}),o.jsx(Ae,{path:"/research-areas",element:o.jsx(tH,{})}),o.jsx(Ae,{path:"/research-areas/:id",element:o.jsx(nH,{})}),o.jsx(Ae,{path:"/publications",element:o.jsx(SC,{ref_:!1})}),o.jsx(Ae,{path:"/contact",element:o.jsx(rH,{})})]}),o.jsx(J5,{})]}),aH=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState(!1),[c,u]=N.useState(!1),d=async p=>{if(p.preventDefault(),!n||!s){alert("Email and Password fields are required!");return}l(!0),u(!1);try{await wU(hi,t,s),window.location.href="/CVPR_LAB/#/dashboard"}catch(g){console.log(g),u(!0)}l(!1)},h=async()=>{l(!0),hi.languageCode="it",HU(hi,V4).then(p=>{console.log(p)}).catch(p=>{console.log(p==null?void 0:p.message),alert(`Error While Login with Google! ${JSON.stringify(p)}`)}).finally(()=>{l(!1)})},f=()=>{if(l(!0),!n){alert("Email should not be empty!");return}yU(hi,n).then(()=>{alert("Password reset email sent!"),window.close()}).catch(p=>{console.error("Error sending password reset email:",p)}),l(!1)};return o.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[o.jsxs("div",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[o.jsxs("form",{children:[o.jsx("h1",{className:"w-100 text-center",children:"Admin Login"}),c&&o.jsx("div",{className:"alert alert-danger p-2",role:"alert",children:"Error signing in. Please check your credentials and try again."}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),o.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:p=>e(p.target.value),disabled:a})]}),o.jsxs("div",{className:"mb-0",children:[o.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:p=>i(p.target.value),disabled:a})]}),o.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[o.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forget Password"}),o.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:o.jsx("div",{className:"modal-dialog",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forget Pasword"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:p=>r(p.target.value),placeholder:"ie. user@gmail.com"})}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-danger",onClick:f,disabled:a,children:a?"Please Wait..":"Send"})]})]})})})]}),o.jsx("button",{onClick:d,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:a,children:a?"Please Wait..":"Submit"})]}),o.jsx("hr",{}),o.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2 border-1 border-secondary",onClick:h,disabled:a,children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]})]}),o.jsx(Tn,{children:o.jsxs("title",{children:["Login | ","Vision Intelligence Lab, IIT Ropar"]})})]})},oH=()=>{const{pathname:t}=uc();return N.useEffect(()=>{window.scrollTo(0,0)},[t]),null},lH=()=>{var d,h,f,p,g,x,y,m,v,w,b,I,_,j,E,T,S,P,O,C;const{id:t}=io(),[e,n]=N.useState(!0),s=re(A=>A.getsupervisors.data).filter(A=>A._id==t)[0],i=re(A=>A.getpublications.data),a=re(A=>{var M;return(M=A.getprojectitems)==null?void 0:M.data}),l=re(A=>{var M;return(M=A.getdatasets)==null?void 0:M.data}),c=re(A=>{var M;return(M=A.getprojectsmain)==null?void 0:M.data}),u=re(A=>A.getphdStudents.data);return N.useEffect(()=>{(async()=>{n(!0),await yo(),await Pc(),await dw(),await sf(),await wo(),await Yi(),n(!1)})()},[]),e?o.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[o.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),o.jsx("h4",{children:"Please Wait.."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tn,{children:o.jsxs("title",{children:[(h=(d=s==null?void 0:s.data)==null?void 0:d.name)==null?void 0:h.stringValue," |"," ","Vision Intelligence Lab, IIT Ropar"]})}),o.jsxs("div",{className:"container my-5 ",children:[o.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[(p=(f=s==null?void 0:s.data)==null?void 0:f.name)==null?void 0:p.stringValue,o.jsx("hr",{})]}),o.jsxs("div",{className:"card p-3 mb-4",children:[o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[o.jsx("div",{className:"col-sm-2 py-2 pe-2",children:o.jsx("div",{className:"card p-2",children:o.jsx("img",{src:s==null?void 0:s.profileImage,alt:"",className:"rounded-1"})})}),o.jsxs("div",{className:"col-sm-10",children:[o.jsxs("p",{className:"text-muted",children:[o.jsxs("div",{className:"my-3",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",(x=(g=s==null?void 0:s.data)==null?void 0:g.email)==null?void 0:x.stringValue]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Mobile:"})," +91-",(m=(y=s==null?void 0:s.data)==null?void 0:y.phone)==null?void 0:m.stringValue]})]}),o.jsxs("a",{style:{textDecoration:"none"},href:(v=s==null?void 0:s.data)==null?void 0:v.googleScholarLink.stringValue,target:"_blank",children:["Google Scholar ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(b=(w=s==null?void 0:s.data)==null?void 0:w.researchGateLink)==null?void 0:b.stringValue,target:"_blank",children:["Researchgate ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(_=(I=s==null?void 0:s.data)==null?void 0:I.personalProfileLink)==null?void 0:_.stringValue,target:"_blank",children:["Personal Profile ",o.jsx("i",{className:"bx bx-link-external"})]})," ","|"," ",o.jsxs("a",{style:{textDecoration:"none"},href:(E=(j=s==null?void 0:s.data)==null?void 0:j.otherLink)==null?void 0:E.stringValue,target:"_blank",children:["Other ",o.jsx("i",{className:"bx bx-link-external"})]})]}),o.jsx("hr",{}),o.jsx("h5",{children:"Research Interests"}),o.jsx("ul",{className:"",children:(P=(S=(T=s==null?void 0:s.data)==null?void 0:T.researchInterests)==null?void 0:S.stringValue)==null?void 0:P.split(",").map((A,M)=>o.jsx("li",{className:"mx-3",children:A},M))})]})]}),o.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[o.jsx("h3",{className:"fw-bold",children:"Introduction"}),o.jsx("hr",{}),o.jsx("p",{children:(C=(O=s==null?void 0:s.data)==null?void 0:O.introduction)==null?void 0:C.stringValue})]})]}),o.jsx("div",{className:"card p-3 mb-4",children:o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[o.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Publications"}),o.jsx("hr",{}),o.jsx("div",{className:"overflow-hidden",children:o.jsx("ul",{style:{height:"fit-content",overflow:"hidden"},children:i==null?void 0:i.map((A,M)=>{var Q,he;const{paperTitle:B,author:D,impact:R,link:L,pages:F,publisher:W,publicationDate:k,volume:z,journalName:X,paperType:J,isbn:se,users:ue}=A==null?void 0:A.data;if((he=(Q=ue==null?void 0:ue.arrayValue)==null?void 0:Q.values)!=null&&he.filter(H=>{var we,be;return H.stringValue==((be=(we=s==null?void 0:s.data)==null?void 0:we.name)==null?void 0:be.stringValue)})[0])return o.jsxs("li",{children:[o.jsx("span",{children:o.jsxs("cite",{children:[o.jsxs("span",{className:"author",children:[D==null?void 0:D.stringValue,","]}),o.jsxs("a",{href:`https://doi.org/${L.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[o.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',B.stringValue,'",']}),o.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),o.jsxs("span",{className:"journal",style:{display:"inline"},children:[o.jsx("i",{children:X.stringValue}),","]}),o.jsxs("span",{className:"volume",style:{display:"inline"},children:[z.stringValue,","," "]}),o.jsxs("span",{className:"pages",style:{display:"inline"},children:[F.stringValue,","," "]}),o.jsxs("span",{className:"date",style:{display:"inline"},children:[k.stringValue,"-",J.stringValue,"-",se.stringValue,"-",W.stringValue,"-",R.stringValue]})]})}),o.jsx("hr",{})]},M)})})})]})}),o.jsx("div",{className:"card p-3 mb-4",children:o.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[o.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),o.jsx("hr",{}),o.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:c==null?void 0:c.map((A,M)=>{var B,D,R,L,F,W,k,z,X,J,se,ue,je;return o.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[o.jsx("h1",{className:"accordion-header",id:"heading"+M,children:o.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+M,"aria-expanded":"true","aria-controls":"collapse"+M,children:o.jsxs("h5",{children:[o.jsxs("strong",{className:"text-danger",children:[M+1,". "]}),(B=A==null?void 0:A.title)==null?void 0:B.stringValue]})})}),o.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:o.jsx("div",{id:"collapse"+M,className:"accordion-collapse collapse","aria-labelledby":"heading"+M,"data-bs-parent":"#accordionExample",children:o.jsx("div",{className:"accordion-body",children:o.jsx("div",{className:"col-sm-12 mb-3 overflow-auto",children:o.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-column flex-lg-column gap-3 pe-2 mt-2",children:[o.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:o.jsx("table",{className:"table table-bordered",children:o.jsxs("tbody",{children:[o.jsx("tr",{children:o.jsx("td",{colSpan:2,children:o.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["1."," "]}),"Funding Agency"]})}),o.jsx("td",{children:(D=A==null?void 0:A.funding_agency)==null?void 0:D.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["2."," "]}),"Total Fund"]})}),o.jsxs("td",{children:["Rs. ",(R=A==null?void 0:A.total_fund)==null?void 0:R.stringValue]})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["3."," "]}),"Project Investigators"]})}),o.jsx("td",{children:(L=A==null?void 0:A.pis)==null?void 0:L.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["4."," "]}),"Co-Project Investigators"]})}),o.jsx("td",{children:(F=A==null?void 0:A.copis)==null?void 0:F.stringValue})]}),o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("h6",{className:"fw-bold mt-2",children:[o.jsxs("strong",{className:"text-danger",children:["5."," "]}),"Ph.D./JRF Students"]})}),o.jsx("td",{children:(W=A==null?void 0:A.jrf_phd_scholar)==null?void 0:W.stringValue})]})]})})}),o.jsxs("div",{className:"col-sm-12 col-lg-12 col-md-12  card px-2 rounded-0",children:[o.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),o.jsx("hr",{className:"mx-1 mt-0 mb-2"}),o.jsx("p",{className:"w-100 overflow-auto",children:(k=A==null?void 0:A.description)==null?void 0:k.stringValue}),o.jsxs("div",{className:"px-1 mb-3",children:[o.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(J=(X=(z=A==null?void 0:A.related_datasets)==null?void 0:z.arrayValue)==null?void 0:X.values)==null?void 0:J.map((Q,he)=>{const H=l==null?void 0:l.find(we=>(we==null?void 0:we._id)==(Q==null?void 0:Q.stringValue));return o.jsxs("div",{children:[he+1,". ",H==null?void 0:H.title," (",o.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(H==null?void 0:H._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(H==null?void 0:H._id)+"Modal",tabIndex:-1,"aria-labelledby":(H==null?void 0:H._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:(H==null?void 0:H._id)+"ModalLabel",children:H==null?void 0:H.title}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsxs("div",{className:"",children:[o.jsx("p",{children:H==null?void 0:H.description}),o.jsx("img",{className:"w-100",src:H==null?void 0:H.bannerURL,alt:"Banner Image"})]})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},he)})}),o.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),o.jsx("div",{className:"d-flex flex-column flex-wrap",children:(je=(ue=(se=A==null?void 0:A.related_projectitems)==null?void 0:se.arrayValue)==null?void 0:ue.values)==null?void 0:je.map((Q,he)=>{const H=a==null?void 0:a.find(we=>(we==null?void 0:we._id)==(Q==null?void 0:Q.stringValue));return o.jsxs("div",{children:[he+1,". ",H==null?void 0:H.title," (",o.jsx(te,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(H==null?void 0:H._id)+"Modal",children:"Open"}),")",o.jsx("div",{className:"modal fade",id:(H==null?void 0:H._id)+"Modal",tabIndex:-1,"aria-labelledby":(H==null?void 0:H._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:o.jsx("div",{className:"modal-dialog modal-xl",children:o.jsxs("div",{className:"modal-content rounded-0 border-none",children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h5",{className:"modal-title",id:(H==null?void 0:H._id)+"ModalLabel",children:[H==null?void 0:H.title,"("," ",o.jsx(te,{className:"btn-primary",style:{textDecoration:"none"},to:H==null?void 0:H.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",o.jsx(te,{to:H==null?void 0:H.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),o.jsx("div",{className:"modal-body",children:o.jsx(o.Fragment,{children:o.jsx("div",{className:"p-3",children:o.jsx("img",{className:"w-100",src:H==null?void 0:H.bannerURL,alt:"Banner Image"})})})}),o.jsx("div",{className:"modal-footer",children:o.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},he)})})]})]})]})},"item_"+M)})})})]},M)})})]})}),o.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:u==null?void 0:u.map((A,M)=>{var k,z;const{name:B,batch:D,isAlumni:R,email:L,mobile:F,researchInterests:W}=A==null?void 0:A.data;return R!=null&&R.booleanValue?null:o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:A==null?void 0:A.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("div",{className:"p-2",children:[o.jsx("h3",{children:B==null?void 0:B.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(L==null?void 0:L.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(D==null?void 0:D.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",F==null?void 0:F.stringValue]}),o.jsx("br",{}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(z=(k=W==null?void 0:W.arrayValue)==null?void 0:k.values)==null?void 0:z.map((X,J)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:X.stringValue},J))]})]})]},M)})}),o.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",o.jsx("hr",{})]}),o.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:u==null?void 0:u.map((A,M)=>{var k,z;const{name:B,batch:D,isAlumni:R,email:L,mobile:F,researchInterests:W}=A==null?void 0:A.data;return R!=null&&R.booleanValue?o.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[o.jsx("div",{className:"p-2",children:o.jsx("img",{src:A==null?void 0:A.profileImage,alt:"Profile Image",style:{height:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),o.jsxs("strong",{className:"mt-2 d-inline",children:[o.jsx("h3",{children:B==null?void 0:B.stringValue}),o.jsx("hr",{}),o.jsxs("small",{children:["Email: ",(L==null?void 0:L.stringValue)||"N/A",o.jsx("br",{}),"Batch: ",(D==null?void 0:D.stringValue)||"N/A",o.jsx("br",{}),"Mobile: ",F==null?void 0:F.stringValue]}),o.jsx("br",{}),o.jsx("div",{className:"d-flex flex-nowrap justify-content-center",children:"Research Interests:"}),(z=(k=W==null?void 0:W.arrayValue)==null?void 0:k.values)==null?void 0:z.map((X,J)=>o.jsx("small",{className:"bg-secondary mx-1 rounded-2 px-1 text-white",style:{textWrap:"nowrap",fontSize:"0.8rem"},children:X.stringValue},J))]})]},M):null})})]})]})};function cH(){const[t,e]=N.useState(!1);return N.useEffect(()=>{e(navigator.onLine),navigator.onLine||setTimeout(()=>{window.location.reload()},1e3)},[navigator.onLine]),t?o.jsxs(o.Fragment,{children:[o.jsx(oH,{}),o.jsxs(_v,{children:[o.jsx(Ae,{path:"/dashboard/*",element:o.jsx(g6,{})}),o.jsx(Ae,{path:"/profile/:id",element:o.jsx(lH,{})}),o.jsx(Ae,{path:"/*",element:o.jsx(iH,{})}),o.jsx(Ae,{path:"/login",element:o.jsx(aH,{})})]})]}):o.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:o.jsx("h1",{children:"You Are Offline. Trying to reconnect..."})})}function Lu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lu=function(n){return typeof n}:Lu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lu(t)}function uH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dH(t,e,n){return e&&T_(t.prototype,e),n&&T_(t,n),t}function hH(t,e){return e&&(Lu(e)==="object"||typeof e=="function")?e:Mu(t)}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function Mu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sg(t,e)}function Sg(t,e){return Sg=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Sg(t,e)}function Vu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IC=function(t){fH(e,t);function e(){var n,r;uH(this,e);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=hH(this,(n=Tg(e)).call.apply(n,[this].concat(i))),Vu(Mu(r),"state",{bootstrapped:!1}),Vu(Mu(r),"_unsubscribe",void 0),Vu(Mu(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return dH(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(N.PureComponent);Vu(IC,"defaultProps",{children:null,loading:null});Ep.createRoot(document.getElementById("root")).render(o.jsx(Ee.StrictMode,{children:o.jsx(UB,{store:dn,children:o.jsx(IC,{loading:null,persistor:wB,children:o.jsx(Yk,{children:o.jsx(cH,{})})})})}));
