function gC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eE={exports:{}},ch={},tE={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),vC=Symbol.for("react.portal"),yC=Symbol.for("react.fragment"),xC=Symbol.for("react.strict_mode"),wC=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),_C=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),jC=Symbol.for("react.suspense"),SC=Symbol.for("react.memo"),TC=Symbol.for("react.lazy"),Mx=Symbol.iterator;function NC(t){return t===null||typeof t!="object"?null:(t=Mx&&t[Mx]||t["@@iterator"],typeof t=="function"?t:null)}var nE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rE=Object.assign,sE={};function xo(t,e,n){this.props=t,this.context=e,this.refs=sE,this.updater=n||nE}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iE(){}iE.prototype=xo.prototype;function Wg(t,e,n){this.props=t,this.context=e,this.refs=sE,this.updater=n||nE}var qg=Wg.prototype=new iE;qg.constructor=Wg;rE(qg,xo.prototype);qg.isPureReactComponent=!0;var Vx=Array.isArray,aE=Object.prototype.hasOwnProperty,Gg={current:null},oE={key:!0,ref:!0,__self:!0,__source:!0};function lE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)aE.call(e,r)&&!oE.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:gc,type:t,key:i,ref:o,props:s,_owner:Gg.current}}function IC(t,e){return{$$typeof:gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kg(t){return typeof t=="object"&&t!==null&&t.$$typeof===gc}function AC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fx=/\/+/g;function _f(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AC(""+t.key):e.toString(36)}function Iu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gc:case vC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+_f(o,0):r,Vx(s)?(n="",t!=null&&(n=t.replace(Fx,"$&/")+"/"),Iu(s,e,n,"",function(u){return u})):s!=null&&(Kg(s)&&(s=IC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Fx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Vx(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+_f(i,l);o+=Iu(i,e,n,c,s)}else if(c=NC(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+_f(i,l++),o+=Iu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kc(t,e,n){if(t==null)return t;var r=[],s=0;return Iu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function CC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},Au={transition:null},PC={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:Au,ReactCurrentOwner:Gg};be.Children={map:Kc,forEach:function(t,e,n){Kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kc(t,function(){e++}),e},toArray:function(t){return Kc(t,function(e){return e})||[]},only:function(t){if(!Kg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=xo;be.Fragment=yC;be.Profiler=wC;be.PureComponent=Wg;be.StrictMode=xC;be.Suspense=jC;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Gg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)aE.call(e,c)&&!oE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:gc,type:t.type,key:s,ref:i,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:_C,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bC,_context:t},t.Consumer=t};be.createElement=lE;be.createFactory=function(t){var e=lE.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:EC,render:t}};be.isValidElement=Kg;be.lazy=function(t){return{$$typeof:TC,_payload:{_status:-1,_result:t},_init:CC}};be.memo=function(t,e){return{$$typeof:SC,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Au.transition;Au.transition={};try{t()}finally{Au.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return cn.current.useCallback(t,e)};be.useContext=function(t){return cn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};be.useEffect=function(t,e){return cn.current.useEffect(t,e)};be.useId=function(){return cn.current.useId()};be.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return cn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};be.useRef=function(t){return cn.current.useRef(t)};be.useState=function(t){return cn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return cn.current.useTransition()};be.version="18.2.0";tE.exports=be;var A=tE.exports;const Ie=yo(A),Bp=gC({__proto__:null,default:Ie},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=A,RC=Symbol.for("react.element"),DC=Symbol.for("react.fragment"),OC=Object.prototype.hasOwnProperty,LC=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MC={key:!0,ref:!0,__self:!0,__source:!0};function cE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OC.call(e,r)&&!MC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:RC,type:t,key:i,ref:o,props:s,_owner:LC.current}}ch.Fragment=DC;ch.jsx=cE;ch.jsxs=cE;eE.exports=ch;var a=eE.exports,zp={},uE={exports:{}},Mn={},dE={exports:{}},hE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,O){var U=D.length;D.push(O);e:for(;0<U;){var G=U-1>>>1,k=D[G];if(0<s(k,O))D[G]=O,D[U]=k,U=G;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var O=D[0],U=D.pop();if(U!==O){D[0]=U;e:for(var G=0,k=D.length,M=k>>>1;G<M;){var Y=2*(G+1)-1,ne=D[Y],oe=Y+1,ue=D[oe];if(0>s(ne,U))oe<k&&0>s(ue,ne)?(D[G]=ue,D[oe]=U,G=oe):(D[G]=ne,D[Y]=U,G=Y);else if(oe<k&&0>s(ue,U))D[G]=ue,D[oe]=U,G=oe;else break e}}return O}function s(D,O){var U=D.sortIndex-O.sortIndex;return U!==0?U:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=D)r(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(u)}}function E(D){if(y=!1,v(D),!g)if(n(c)!==null)g=!0,z(S);else{var O=n(u);O!==null&&F(E,O.startTime-D)}}function S(D,O){g=!1,y&&(y=!1,m(w),w=-1),p=!0;var U=f;try{for(v(O),h=n(c);h!==null&&(!(h.expirationTime>O)||D&&!C());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var k=G(h.expirationTime<=O);O=t.unstable_now(),typeof k=="function"?h.callback=k:h===n(c)&&r(c),v(O)}else r(c);h=n(c)}if(h!==null)var M=!0;else{var Y=n(u);Y!==null&&F(E,Y.startTime-O),M=!1}return M}finally{h=null,f=U,p=!1}}var j=!1,N=null,w=-1,_=5,T=-1;function C(){return!(t.unstable_now()-T<_)}function P(){if(N!==null){var D=t.unstable_now();T=D;var O=!0;try{O=N(!0,D)}finally{O?R():(j=!1,N=null)}}else j=!1}var R;if(typeof x=="function")R=function(){x(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=P,R=function(){L.postMessage(null)}}else R=function(){b(P,0)};function z(D){N=D,j||(j=!0,R())}function F(D,O){w=b(function(){D(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,z(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var U=f;f=O;try{return D()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=f;f=D;try{return O()}finally{f=U}},t.unstable_scheduleCallback=function(D,O,U){var G=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,D){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=U+k,D={id:d++,callback:O,priorityLevel:D,startTime:U,expirationTime:k,sortIndex:-1},U>G?(D.sortIndex=U,e(u,D),n(c)===null&&D===n(u)&&(y?(m(w),w=-1):y=!0,F(E,U-G))):(D.sortIndex=k,e(c,D),g||p||(g=!0,z(S))),D},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(D){var O=f;return function(){var U=f;f=O;try{return D.apply(this,arguments)}finally{f=U}}}})(hE);dE.exports=hE;var VC=dE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE=A,Rn=VC;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pE=new Set,Cl={};function Ji(t,e){Ja(t,e),Ja(t+"Capture",e)}function Ja(t,e){for(Cl[t]=e,t=0;t<e.length;t++)pE.add(e[t])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hp=Object.prototype.hasOwnProperty,FC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ux={},$x={};function UC(t){return Hp.call($x,t)?!0:Hp.call(Ux,t)?!1:FC.test(t)?$x[t]=!0:(Ux[t]=!0,!1)}function $C(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BC(t,e,n,r){if(e===null||typeof e>"u"||$C(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yg=/[\-:]([a-z])/g;function Qg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yg,Qg);Ft[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yg,Qg);Ft[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yg,Qg);Ft[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xg(t,e,n,r){var s=Ft.hasOwnProperty(e)?Ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BC(e,n,s,r)&&(n=null),r||s===null?UC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=fE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yc=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ba=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),mE=Symbol.for("react.provider"),gE=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),ev=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),vE=Symbol.for("react.offscreen"),Bx=Symbol.iterator;function ko(t){return t===null||typeof t!="object"?null:(t=Bx&&t[Bx]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Ef;function Xo(t){if(Ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||""}return`
`+Ef+t}var jf=!1;function Sf(t,e){if(!t||jf)return"";jf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{jf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xo(t):""}function zC(t){switch(t.tag){case 5:return Xo(t.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return t=Sf(t.type,!1),t;case 11:return t=Sf(t.type.render,!1),t;case 1:return t=Sf(t.type,!0),t;default:return""}}function Kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ba:return"Fragment";case wa:return"Portal";case Wp:return"Profiler";case Jg:return"StrictMode";case qp:return"Suspense";case Gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gE:return(t.displayName||"Context")+".Consumer";case mE:return(t._context.displayName||"Context")+".Provider";case Zg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ev:return e=t.displayName||null,e!==null?e:Kp(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return Kp(t(e))}catch{}}return null}function HC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kp(e);case 8:return e===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WC(t){var e=yE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=WC(t))}function xE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ed(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yp(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wE(t,e){e=e.checked,e!=null&&Xg(t,"checked",e,!1)}function Qp(t,e){wE(t,e);var n=Ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xp(t,e.type,Ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xp(t,e,n){(e!=="number"||ed(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Oa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ys(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Jo(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ys(n)}}function bE(t,e){var n=Ys(e.value),r=Ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _E(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_E(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xc,EE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qC=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(t){qC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cl[e]=cl[t]})});function jE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cl.hasOwnProperty(t)&&cl[t]?(""+e).trim():e+"px"}function SE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var GC=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function em(t,e){if(e){if(GC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=null;function tv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rm=null,La=null,Ma=null;function Gx(t){if(t=xc(t)){if(typeof rm!="function")throw Error(q(280));var e=t.stateNode;e&&(e=ph(e),rm(t.stateNode,t.type,e))}}function TE(t){La?Ma?Ma.push(t):Ma=[t]:La=t}function NE(){if(La){var t=La,e=Ma;if(Ma=La=null,Gx(t),e)for(t=0;t<e.length;t++)Gx(e[t])}}function IE(t,e){return t(e)}function AE(){}var Tf=!1;function CE(t,e,n){if(Tf)return t(e,n);Tf=!0;try{return IE(t,e,n)}finally{Tf=!1,(La!==null||Ma!==null)&&(AE(),NE())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=ph(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var sm=!1;if(ts)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){sm=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{sm=!1}function KC(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ul=!1,td=null,nd=!1,im=null,YC={onError:function(t){ul=!0,td=t}};function QC(t,e,n,r,s,i,o,l,c){ul=!1,td=null,KC.apply(YC,arguments)}function XC(t,e,n,r,s,i,o,l,c){if(QC.apply(this,arguments),ul){if(ul){var u=td;ul=!1,td=null}else throw Error(q(198));nd||(nd=!0,im=u)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kx(t){if(Zi(t)!==t)throw Error(q(188))}function JC(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kx(s),t;if(i===r)return Kx(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function kE(t){return t=JC(t),t!==null?RE(t):null}function RE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RE(t);if(e!==null)return e;t=t.sibling}return null}var DE=Rn.unstable_scheduleCallback,Yx=Rn.unstable_cancelCallback,ZC=Rn.unstable_shouldYield,eP=Rn.unstable_requestPaint,ct=Rn.unstable_now,tP=Rn.unstable_getCurrentPriorityLevel,nv=Rn.unstable_ImmediatePriority,OE=Rn.unstable_UserBlockingPriority,rd=Rn.unstable_NormalPriority,nP=Rn.unstable_LowPriority,LE=Rn.unstable_IdlePriority,uh=null,Tr=null;function rP(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(uh,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:aP,sP=Math.log,iP=Math.LN2;function aP(t){return t>>>=0,t===0?32:31-(sP(t)/iP|0)|0}var Jc=64,Zc=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zo(l):(i&=o,i!==0&&(r=Zo(i)))}else o=n&~s,o!==0?r=Zo(o):i!==0&&(r=Zo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),s=1<<n,r|=t[n],e&=~s;return r}function oP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ur(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=oP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function am(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ME(){var t=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),t}function Nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function cP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function rv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Re=0;function VE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FE,sv,UE,$E,BE,om=!1,eu=[],Os=null,Ls=null,Ms=null,Rl=new Map,Dl=new Map,bs=[],uP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qx(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function Do(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xc(e),e!==null&&sv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dP(t,e,n,r,s){switch(e){case"focusin":return Os=Do(Os,t,e,n,r,s),!0;case"dragenter":return Ls=Do(Ls,t,e,n,r,s),!0;case"mouseover":return Ms=Do(Ms,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rl.set(i,Do(Rl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dl.set(i,Do(Dl.get(i)||null,t,e,n,r,s)),!0}return!1}function zE(t){var e=xi(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=PE(n),e!==null){t.blockedOn=e,BE(t.priority,function(){UE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nm=r,n.target.dispatchEvent(r),nm=null}else return e=xc(n),e!==null&&sv(e),t.blockedOn=n,!1;e.shift()}return!0}function Xx(t,e,n){Cu(t)&&n.delete(e)}function hP(){om=!1,Os!==null&&Cu(Os)&&(Os=null),Ls!==null&&Cu(Ls)&&(Ls=null),Ms!==null&&Cu(Ms)&&(Ms=null),Rl.forEach(Xx),Dl.forEach(Xx)}function Oo(t,e){t.blockedOn===e&&(t.blockedOn=null,om||(om=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,hP)))}function Ol(t){function e(s){return Oo(s,t)}if(0<eu.length){Oo(eu[0],t);for(var n=1;n<eu.length;n++){var r=eu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Os!==null&&Oo(Os,t),Ls!==null&&Oo(Ls,t),Ms!==null&&Oo(Ms,t),Rl.forEach(e),Dl.forEach(e),n=0;n<bs.length;n++)r=bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bs.length&&(n=bs[0],n.blockedOn===null);)zE(n),n.blockedOn===null&&bs.shift()}var Va=us.ReactCurrentBatchConfig,id=!0;function fP(t,e,n,r){var s=Re,i=Va.transition;Va.transition=null;try{Re=1,iv(t,e,n,r)}finally{Re=s,Va.transition=i}}function pP(t,e,n,r){var s=Re,i=Va.transition;Va.transition=null;try{Re=4,iv(t,e,n,r)}finally{Re=s,Va.transition=i}}function iv(t,e,n,r){if(id){var s=lm(t,e,n,r);if(s===null)Mf(t,e,r,ad,n),Qx(t,r);else if(dP(s,t,e,n,r))r.stopPropagation();else if(Qx(t,r),e&4&&-1<uP.indexOf(t)){for(;s!==null;){var i=xc(s);if(i!==null&&FE(i),i=lm(t,e,n,r),i===null&&Mf(t,e,r,ad,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mf(t,e,r,null,n)}}var ad=null;function lm(t,e,n,r){if(ad=null,t=tv(r),t=xi(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ad=t,null}function HE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tP()){case nv:return 1;case OE:return 4;case rd:case nP:return 16;case LE:return 536870912;default:return 16}default:return 16}}var Is=null,av=null,Pu=null;function WE(){if(Pu)return Pu;var t,e=av,n=e.length,r,s="value"in Is?Is.value:Is.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pu=s.slice(t,1<r?1-r:void 0)}function ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tu(){return!0}function Jx(){return!1}function Vn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tu:Jx,this.isPropagationStopped=Jx,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),e}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ov=Vn(wo),yc=st({},wo,{view:0,detail:0}),mP=Vn(yc),If,Af,Lo,dh=st({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lo&&(Lo&&t.type==="mousemove"?(If=t.screenX-Lo.screenX,Af=t.screenY-Lo.screenY):Af=If=0,Lo=t),If)},movementY:function(t){return"movementY"in t?t.movementY:Af}}),Zx=Vn(dh),gP=st({},dh,{dataTransfer:0}),vP=Vn(gP),yP=st({},yc,{relatedTarget:0}),Cf=Vn(yP),xP=st({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),wP=Vn(xP),bP=st({},wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_P=Vn(bP),EP=st({},wo,{data:0}),ew=Vn(EP),jP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TP[t])?!!e[t]:!1}function lv(){return NP}var IP=st({},yc,{key:function(t){if(t.key){var e=jP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lv,charCode:function(t){return t.type==="keypress"?ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AP=Vn(IP),CP=st({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tw=Vn(CP),PP=st({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lv}),kP=Vn(PP),RP=st({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),DP=Vn(RP),OP=st({},dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LP=Vn(OP),MP=[9,13,27,32],cv=ts&&"CompositionEvent"in window,dl=null;ts&&"documentMode"in document&&(dl=document.documentMode);var VP=ts&&"TextEvent"in window&&!dl,qE=ts&&(!cv||dl&&8<dl&&11>=dl),nw=" ",rw=!1;function GE(t,e){switch(t){case"keyup":return MP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function FP(t,e){switch(t){case"compositionend":return KE(e);case"keypress":return e.which!==32?null:(rw=!0,nw);case"textInput":return t=e.data,t===nw&&rw?null:t;default:return null}}function UP(t,e){if(_a)return t==="compositionend"||!cv&&GE(t,e)?(t=WE(),Pu=av=Is=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qE&&e.locale!=="ko"?null:e.data;default:return null}}var $P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$P[t.type]:e==="textarea"}function YE(t,e,n,r){TE(r),e=od(e,"onChange"),0<e.length&&(n=new ov("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,Ll=null;function BP(t){aj(t,0)}function hh(t){var e=Sa(t);if(xE(e))return t}function zP(t,e){if(t==="change")return e}var QE=!1;if(ts){var Pf;if(ts){var kf="oninput"in document;if(!kf){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),kf=typeof iw.oninput=="function"}Pf=kf}else Pf=!1;QE=Pf&&(!document.documentMode||9<document.documentMode)}function aw(){hl&&(hl.detachEvent("onpropertychange",XE),Ll=hl=null)}function XE(t){if(t.propertyName==="value"&&hh(Ll)){var e=[];YE(e,Ll,t,tv(t)),CE(BP,e)}}function HP(t,e,n){t==="focusin"?(aw(),hl=e,Ll=n,hl.attachEvent("onpropertychange",XE)):t==="focusout"&&aw()}function WP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hh(Ll)}function qP(t,e){if(t==="click")return hh(e)}function GP(t,e){if(t==="input"||t==="change")return hh(e)}function KP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:KP;function Ml(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hp.call(e,s)||!hr(t[s],e[s]))return!1}return!0}function ow(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lw(t,e){var n=ow(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ow(n)}}function JE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZE(){for(var t=window,e=ed();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ed(t.document)}return e}function uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YP(t){var e=ZE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JE(n.ownerDocument.documentElement,n)){if(r!==null&&uv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=lw(n,i);var o=lw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QP=ts&&"documentMode"in document&&11>=document.documentMode,Ea=null,cm=null,fl=null,um=!1;function cw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;um||Ea==null||Ea!==ed(r)||(r=Ea,"selectionStart"in r&&uv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Ml(fl,r)||(fl=r,r=od(cm,"onSelect"),0<r.length&&(e=new ov("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ea)))}function nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ja={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},Rf={},ej={};ts&&(ej=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function fh(t){if(Rf[t])return Rf[t];if(!ja[t])return t;var e=ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ej)return Rf[t]=e[n];return t}var tj=fh("animationend"),nj=fh("animationiteration"),rj=fh("animationstart"),sj=fh("transitionend"),ij=new Map,uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){ij.set(t,e),Ji(e,[t])}for(var Df=0;Df<uw.length;Df++){var Of=uw[Df],XP=Of.toLowerCase(),JP=Of[0].toUpperCase()+Of.slice(1);ni(XP,"on"+JP)}ni(tj,"onAnimationEnd");ni(nj,"onAnimationIteration");ni(rj,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(sj,"onTransitionEnd");Ja("onMouseEnter",["mouseout","mouseover"]);Ja("onMouseLeave",["mouseout","mouseover"]);Ja("onPointerEnter",["pointerout","pointerover"]);Ja("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZP=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function dw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XC(r,e,void 0,t),t.currentTarget=null}function aj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;dw(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;dw(s,l,u),i=c}}}if(nd)throw t=im,nd=!1,im=null,t}function Be(t,e){var n=e[mm];n===void 0&&(n=e[mm]=new Set);var r=t+"__bubble";n.has(r)||(oj(e,t,2,!1),n.add(r))}function Lf(t,e,n){var r=0;e&&(r|=4),oj(n,t,r,e)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Vl(t){if(!t[ru]){t[ru]=!0,pE.forEach(function(n){n!=="selectionchange"&&(ZP.has(n)||Lf(n,!1,t),Lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ru]||(e[ru]=!0,Lf("selectionchange",!1,e))}}function oj(t,e,n,r){switch(HE(e)){case 1:var s=fP;break;case 4:s=pP;break;default:s=iv}n=s.bind(null,e,n,t),s=void 0,!sm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xi(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}CE(function(){var u=i,d=tv(n),h=[];e:{var f=ij.get(t);if(f!==void 0){var p=ov,g=t;switch(t){case"keypress":if(ku(n)===0)break e;case"keydown":case"keyup":p=AP;break;case"focusin":g="focus",p=Cf;break;case"focusout":g="blur",p=Cf;break;case"beforeblur":case"afterblur":p=Cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=vP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kP;break;case tj:case nj:case rj:p=wP;break;case sj:p=DP;break;case"scroll":p=mP;break;case"wheel":p=LP;break;case"copy":case"cut":case"paste":p=_P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tw}var y=(e&4)!==0,b=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var x=u,v;x!==null;){v=x;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=kl(x,m),E!=null&&y.push(Fl(x,E,v)))),b)break;x=x.return}0<y.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==nm&&(g=n.relatedTarget||n.fromElement)&&(xi(g)||g[ns]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?xi(g):null,g!==null&&(b=Zi(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=Zx,E="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=tw,E="onPointerLeave",m="onPointerEnter",x="pointer"),b=p==null?f:Sa(p),v=g==null?f:Sa(g),f=new y(E,x+"leave",p,n,d),f.target=b,f.relatedTarget=v,E=null,xi(d)===u&&(y=new y(m,x+"enter",g,n,d),y.target=v,y.relatedTarget=b,E=y),b=E,p&&g)t:{for(y=p,m=g,x=0,v=y;v;v=ha(v))x++;for(v=0,E=m;E;E=ha(E))v++;for(;0<x-v;)y=ha(y),x--;for(;0<v-x;)m=ha(m),v--;for(;x--;){if(y===m||m!==null&&y===m.alternate)break t;y=ha(y),m=ha(m)}y=null}else y=null;p!==null&&hw(h,f,p,y,!1),g!==null&&b!==null&&hw(h,b,g,y,!0)}}e:{if(f=u?Sa(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=zP;else if(sw(f))if(QE)S=GP;else{S=WP;var j=HP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=qP);if(S&&(S=S(t,u))){YE(h,S,n,d);break e}j&&j(t,f,u),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Xp(f,"number",f.value)}switch(j=u?Sa(u):window,t){case"focusin":(sw(j)||j.contentEditable==="true")&&(Ea=j,cm=u,fl=null);break;case"focusout":fl=cm=Ea=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,cw(h,n,d);break;case"selectionchange":if(QP)break;case"keydown":case"keyup":cw(h,n,d)}var N;if(cv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else _a?GE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(qE&&n.locale!=="ko"&&(_a||w!=="onCompositionStart"?w==="onCompositionEnd"&&_a&&(N=WE()):(Is=d,av="value"in Is?Is.value:Is.textContent,_a=!0)),j=od(u,w),0<j.length&&(w=new ew(w,t,null,n,d),h.push({event:w,listeners:j}),N?w.data=N:(N=KE(n),N!==null&&(w.data=N)))),(N=VP?FP(t,n):UP(t,n))&&(u=od(u,"onBeforeInput"),0<u.length&&(d=new ew("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}aj(h,e)})}function Fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function od(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kl(t,n),i!=null&&r.unshift(Fl(t,i,s)),i=kl(t,e),i!=null&&r.push(Fl(t,i,s))),t=t.return}return r}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=kl(n,i),c!=null&&o.unshift(Fl(n,c,l))):s||(c=kl(n,i),c!=null&&o.push(Fl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function fw(t){return(typeof t=="string"?t:""+t).replace(ek,`
`).replace(tk,"")}function su(t,e,n){if(e=fw(e),fw(t)!==e&&n)throw Error(q(425))}function ld(){}var dm=null,hm=null;function fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pm=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(t){return pw.resolve(null).then(t).catch(sk)}:pm;function sk(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ol(e)}function Vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bo=Math.random().toString(36).slice(2),xr="__reactFiber$"+bo,Ul="__reactProps$"+bo,ns="__reactContainer$"+bo,mm="__reactEvents$"+bo,ik="__reactListeners$"+bo,ak="__reactHandles$"+bo;function xi(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ns]||n[xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mw(t);t!==null;){if(n=t[xr])return n;t=mw(t)}return e}t=n,n=t.parentNode}return null}function xc(t){return t=t[xr]||t[ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function ph(t){return t[Ul]||null}var gm=[],Ta=-1;function ri(t){return{current:t}}function qe(t){0>Ta||(t.current=gm[Ta],gm[Ta]=null,Ta--)}function Ve(t,e){Ta++,gm[Ta]=t.current,t.current=e}var Qs={},Jt=ri(Qs),xn=ri(!1),Di=Qs;function Za(t,e){var n=t.type.contextTypes;if(!n)return Qs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wn(t){return t=t.childContextTypes,t!=null}function cd(){qe(xn),qe(Jt)}function gw(t,e,n){if(Jt.current!==Qs)throw Error(q(168));Ve(Jt,e),Ve(xn,n)}function lj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,HC(t)||"Unknown",s));return st({},n,r)}function ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,Di=Jt.current,Ve(Jt,t),Ve(xn,xn.current),!0}function vw(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=lj(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,qe(xn),qe(Jt),Ve(Jt,t)):qe(xn),Ve(xn,n)}var zr=null,mh=!1,Ff=!1;function cj(t){zr===null?zr=[t]:zr.push(t)}function ok(t){mh=!0,cj(t)}function si(){if(!Ff&&zr!==null){Ff=!0;var t=0,e=Re;try{var n=zr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,mh=!1}catch(s){throw zr!==null&&(zr=zr.slice(t+1)),DE(nv,si),s}finally{Re=e,Ff=!1}}return null}var Na=[],Ia=0,dd=null,hd=0,zn=[],Hn=0,Oi=null,qr=1,Gr="";function fi(t,e){Na[Ia++]=hd,Na[Ia++]=dd,dd=t,hd=e}function uj(t,e,n){zn[Hn++]=qr,zn[Hn++]=Gr,zn[Hn++]=Oi,Oi=t;var r=qr;t=Gr;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,qr=1<<32-ur(e)+s|n<<s|r,Gr=i+t}else qr=1<<i|n<<s|r,Gr=t}function dv(t){t.return!==null&&(fi(t,1),uj(t,1,0))}function hv(t){for(;t===dd;)dd=Na[--Ia],Na[Ia]=null,hd=Na[--Ia],Na[Ia]=null;for(;t===Oi;)Oi=zn[--Hn],zn[Hn]=null,Gr=zn[--Hn],zn[Hn]=null,qr=zn[--Hn],zn[Hn]=null}var Pn=null,Nn=null,et=!1,or=null;function dj(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,Nn=Vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:qr,overflow:Gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,Nn=null,!0):!1;default:return!1}}function vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ym(t){if(et){var e=Nn;if(e){var n=e;if(!yw(t,e)){if(vm(t))throw Error(q(418));e=Vs(n.nextSibling);var r=Pn;e&&yw(t,e)?dj(r,n):(t.flags=t.flags&-4097|2,et=!1,Pn=t)}}else{if(vm(t))throw Error(q(418));t.flags=t.flags&-4097|2,et=!1,Pn=t}}}function xw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function iu(t){if(t!==Pn)return!1;if(!et)return xw(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fm(t.type,t.memoizedProps)),e&&(e=Nn)){if(vm(t))throw hj(),Error(q(418));for(;e;)dj(t,e),e=Vs(e.nextSibling)}if(xw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Pn?Vs(t.stateNode.nextSibling):null;return!0}function hj(){for(var t=Nn;t;)t=Vs(t.nextSibling)}function eo(){Nn=Pn=null,et=!1}function fv(t){or===null?or=[t]:or.push(t)}var lk=us.ReactCurrentBatchConfig;function ir(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var fd=ri(null),pd=null,Aa=null,pv=null;function mv(){pv=Aa=pd=null}function gv(t){var e=fd.current;qe(fd),t._currentValue=e}function xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fa(t,e){pd=t,pv=Aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(pv!==t)if(t={context:t,memoizedValue:e,next:null},Aa===null){if(pd===null)throw Error(q(308));Aa=t,pd.dependencies={lanes:0,firstContext:t}}else Aa=Aa.next=t;return e}var wi=null;function vv(t){wi===null?wi=[t]:wi.push(t)}function fj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,vv(e)):(n.next=s.next,s.next=n),e.interleaved=n,rs(t,r)}function rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,rs(t,n)}return s=r.interleaved,s===null?(e.next=e,vv(r)):(e.next=s.next,s.next=e),r.interleaved=e,rs(t,n)}function Ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rv(t,n)}}function ww(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function md(t,e,n,r){var s=t.updateQueue;ws=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=st({},h,f);break e;case 2:ws=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mi|=o,t.lanes=o,t.memoizedState=h}}function bw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var mj=new fE.Component().refs;function wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gh={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),s=$s(t),i=Jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(dr(e,t,s,r),Ru(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),s=$s(t),i=Jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(dr(e,t,s,r),Ru(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=$s(t),s=Jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fs(t,s,r),e!==null&&(dr(e,t,r,n),Ru(e,t,r))}};function _w(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ml(n,r)||!Ml(s,i):!0}function gj(t,e,n){var r=!1,s=Qs,i=e.contextType;return typeof i=="object"&&i!==null?i=Yn(i):(s=wn(e)?Di:Jt.current,r=e.contextTypes,i=(r=r!=null)?Za(t,s):Qs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ew(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gh.enqueueReplaceState(e,e.state,null)}function bm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=mj,yv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Yn(i):(i=wn(e)?Di:Jt.current,s.context=Za(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gh.enqueueReplaceState(s,s.state,null),md(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;l===mj&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function au(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jw(t){var e=t._init;return e(t._payload)}function vj(t){function e(m,x){if(t){var v=m.deletions;v===null?(m.deletions=[x],m.flags|=16):v.push(x)}}function n(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function s(m,x){return m=Bs(m,x),m.index=0,m.sibling=null,m}function i(m,x,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<x?(m.flags|=2,x):v):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,x,v,E){return x===null||x.tag!==6?(x=qf(v,m.mode,E),x.return=m,x):(x=s(x,v),x.return=m,x)}function c(m,x,v,E){var S=v.type;return S===ba?d(m,x,v.props.children,E,v.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xs&&jw(S)===x.type)?(E=s(x,v.props),E.ref=Mo(m,x,v),E.return=m,E):(E=Fu(v.type,v.key,v.props,null,m.mode,E),E.ref=Mo(m,x,v),E.return=m,E)}function u(m,x,v,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Gf(v,m.mode,E),x.return=m,x):(x=s(x,v.children||[]),x.return=m,x)}function d(m,x,v,E,S){return x===null||x.tag!==7?(x=Ai(v,m.mode,E,S),x.return=m,x):(x=s(x,v),x.return=m,x)}function h(m,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qf(""+x,m.mode,v),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yc:return v=Fu(x.type,x.key,x.props,null,m.mode,v),v.ref=Mo(m,null,x),v.return=m,v;case wa:return x=Gf(x,m.mode,v),x.return=m,x;case xs:var E=x._init;return h(m,E(x._payload),v)}if(Jo(x)||ko(x))return x=Ai(x,m.mode,v,null),x.return=m,x;au(m,x)}return null}function f(m,x,v,E){var S=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(m,x,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yc:return v.key===S?c(m,x,v,E):null;case wa:return v.key===S?u(m,x,v,E):null;case xs:return S=v._init,f(m,x,S(v._payload),E)}if(Jo(v)||ko(v))return S!==null?null:d(m,x,v,E,null);au(m,v)}return null}function p(m,x,v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,l(x,m,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Yc:return m=m.get(E.key===null?v:E.key)||null,c(x,m,E,S);case wa:return m=m.get(E.key===null?v:E.key)||null,u(x,m,E,S);case xs:var j=E._init;return p(m,x,v,j(E._payload),S)}if(Jo(E)||ko(E))return m=m.get(v)||null,d(x,m,E,S,null);au(x,E)}return null}function g(m,x,v,E){for(var S=null,j=null,N=x,w=x=0,_=null;N!==null&&w<v.length;w++){N.index>w?(_=N,N=null):_=N.sibling;var T=f(m,N,v[w],E);if(T===null){N===null&&(N=_);break}t&&N&&T.alternate===null&&e(m,N),x=i(T,x,w),j===null?S=T:j.sibling=T,j=T,N=_}if(w===v.length)return n(m,N),et&&fi(m,w),S;if(N===null){for(;w<v.length;w++)N=h(m,v[w],E),N!==null&&(x=i(N,x,w),j===null?S=N:j.sibling=N,j=N);return et&&fi(m,w),S}for(N=r(m,N);w<v.length;w++)_=p(N,m,w,v[w],E),_!==null&&(t&&_.alternate!==null&&N.delete(_.key===null?w:_.key),x=i(_,x,w),j===null?S=_:j.sibling=_,j=_);return t&&N.forEach(function(C){return e(m,C)}),et&&fi(m,w),S}function y(m,x,v,E){var S=ko(v);if(typeof S!="function")throw Error(q(150));if(v=S.call(v),v==null)throw Error(q(151));for(var j=S=null,N=x,w=x=0,_=null,T=v.next();N!==null&&!T.done;w++,T=v.next()){N.index>w?(_=N,N=null):_=N.sibling;var C=f(m,N,T.value,E);if(C===null){N===null&&(N=_);break}t&&N&&C.alternate===null&&e(m,N),x=i(C,x,w),j===null?S=C:j.sibling=C,j=C,N=_}if(T.done)return n(m,N),et&&fi(m,w),S;if(N===null){for(;!T.done;w++,T=v.next())T=h(m,T.value,E),T!==null&&(x=i(T,x,w),j===null?S=T:j.sibling=T,j=T);return et&&fi(m,w),S}for(N=r(m,N);!T.done;w++,T=v.next())T=p(N,m,w,T.value,E),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?w:T.key),x=i(T,x,w),j===null?S=T:j.sibling=T,j=T);return t&&N.forEach(function(P){return e(m,P)}),et&&fi(m,w),S}function b(m,x,v,E){if(typeof v=="object"&&v!==null&&v.type===ba&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Yc:e:{for(var S=v.key,j=x;j!==null;){if(j.key===S){if(S=v.type,S===ba){if(j.tag===7){n(m,j.sibling),x=s(j,v.props.children),x.return=m,m=x;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xs&&jw(S)===j.type){n(m,j.sibling),x=s(j,v.props),x.ref=Mo(m,j,v),x.return=m,m=x;break e}n(m,j);break}else e(m,j);j=j.sibling}v.type===ba?(x=Ai(v.props.children,m.mode,E,v.key),x.return=m,m=x):(E=Fu(v.type,v.key,v.props,null,m.mode,E),E.ref=Mo(m,x,v),E.return=m,m=E)}return o(m);case wa:e:{for(j=v.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(m,x.sibling),x=s(x,v.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else e(m,x);x=x.sibling}x=Gf(v,m.mode,E),x.return=m,m=x}return o(m);case xs:return j=v._init,b(m,x,j(v._payload),E)}if(Jo(v))return g(m,x,v,E);if(ko(v))return y(m,x,v,E);au(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(m,x.sibling),x=s(x,v),x.return=m,m=x):(n(m,x),x=qf(v,m.mode,E),x.return=m,m=x),o(m)):n(m,x)}return b}var to=vj(!0),yj=vj(!1),wc={},Nr=ri(wc),$l=ri(wc),Bl=ri(wc);function bi(t){if(t===wc)throw Error(q(174));return t}function xv(t,e){switch(Ve(Bl,e),Ve($l,t),Ve(Nr,wc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zp(e,t)}qe(Nr),Ve(Nr,e)}function no(){qe(Nr),qe($l),qe(Bl)}function xj(t){bi(Bl.current);var e=bi(Nr.current),n=Zp(e,t.type);e!==n&&(Ve($l,t),Ve(Nr,n))}function wv(t){$l.current===t&&(qe(Nr),qe($l))}var tt=ri(0);function gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uf=[];function bv(){for(var t=0;t<Uf.length;t++)Uf[t]._workInProgressVersionPrimary=null;Uf.length=0}var Du=us.ReactCurrentDispatcher,$f=us.ReactCurrentBatchConfig,Li=0,rt=null,yt=null,Tt=null,vd=!1,pl=!1,zl=0,ck=0;function Bt(){throw Error(q(321))}function _v(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function Ev(t,e,n,r,s,i){if(Li=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Du.current=t===null||t.memoizedState===null?fk:pk,t=n(r,s),pl){i=0;do{if(pl=!1,zl=0,25<=i)throw Error(q(301));i+=1,Tt=yt=null,e.updateQueue=null,Du.current=mk,t=n(r,s)}while(pl)}if(Du.current=yd,e=yt!==null&&yt.next!==null,Li=0,Tt=yt=rt=null,vd=!1,e)throw Error(q(300));return t}function jv(){var t=zl!==0;return zl=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?rt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Qn(){if(yt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Tt===null?rt.memoizedState:Tt.next;if(e!==null)Tt=e,yt=t;else{if(t===null)throw Error(q(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?rt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Hl(t,e){return typeof e=="function"?e(t):e}function Bf(t){var e=Qn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Li&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,rt.lanes|=d,Mi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,hr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,Mi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zf(t){var e=Qn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);hr(i,e.memoizedState)||(yn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function wj(){}function bj(t,e){var n=rt,r=Qn(),s=e(),i=!hr(r.memoizedState,s);if(i&&(r.memoizedState=s,yn=!0),r=r.queue,Sv(jj.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Wl(9,Ej.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(q(349));Li&30||_j(n,e,s)}return s}function _j(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ej(t,e,n,r){e.value=n,e.getSnapshot=r,Sj(e)&&Tj(t)}function jj(t,e,n){return n(function(){Sj(e)&&Tj(t)})}function Sj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function Tj(t){var e=rs(t,1);e!==null&&dr(e,t,1,-1)}function Sw(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hl,lastRenderedState:t},e.queue=t,t=t.dispatch=hk.bind(null,rt,t),[e.memoizedState,t]}function Wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Nj(){return Qn().memoizedState}function Ou(t,e,n,r){var s=yr();rt.flags|=t,s.memoizedState=Wl(1|e,n,void 0,r===void 0?null:r)}function vh(t,e,n,r){var s=Qn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&_v(r,o.deps)){s.memoizedState=Wl(e,n,i,r);return}}rt.flags|=t,s.memoizedState=Wl(1|e,n,i,r)}function Tw(t,e){return Ou(8390656,8,t,e)}function Sv(t,e){return vh(2048,8,t,e)}function Ij(t,e){return vh(4,2,t,e)}function Aj(t,e){return vh(4,4,t,e)}function Cj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pj(t,e,n){return n=n!=null?n.concat([t]):null,vh(4,4,Cj.bind(null,e,t),n)}function Tv(){}function kj(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_v(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Rj(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_v(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Dj(t,e,n){return Li&21?(hr(n,e)||(n=ME(),rt.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function uk(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=$f.transition;$f.transition={};try{t(!1),e()}finally{Re=n,$f.transition=r}}function Oj(){return Qn().memoizedState}function dk(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lj(t))Mj(e,n);else if(n=fj(t,e,n,r),n!==null){var s=on();dr(n,t,r,s),Vj(n,e,r)}}function hk(t,e,n){var r=$s(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lj(t))Mj(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,hr(l,o)){var c=e.interleaved;c===null?(s.next=s,vv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=fj(t,e,s,r),n!==null&&(s=on(),dr(n,t,r,s),Vj(n,e,r))}}function Lj(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function Mj(t,e){pl=vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rv(t,n)}}var yd={readContext:Yn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},fk={readContext:Yn,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:Tw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ou(4194308,4,Cj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ou(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ou(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dk.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:Sw,useDebugValue:Tv,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=Sw(!1),e=t[0];return t=uk.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=yr();if(et){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Nt===null)throw Error(q(349));Li&30||_j(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Tw(jj.bind(null,r,i,t),[t]),r.flags|=2048,Wl(9,Ej.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yr(),e=Nt.identifierPrefix;if(et){var n=Gr,r=qr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ck++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pk={readContext:Yn,useCallback:kj,useContext:Yn,useEffect:Sv,useImperativeHandle:Pj,useInsertionEffect:Ij,useLayoutEffect:Aj,useMemo:Rj,useReducer:Bf,useRef:Nj,useState:function(){return Bf(Hl)},useDebugValue:Tv,useDeferredValue:function(t){var e=Qn();return Dj(e,yt.memoizedState,t)},useTransition:function(){var t=Bf(Hl)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:wj,useSyncExternalStore:bj,useId:Oj,unstable_isNewReconciler:!1},mk={readContext:Yn,useCallback:kj,useContext:Yn,useEffect:Sv,useImperativeHandle:Pj,useInsertionEffect:Ij,useLayoutEffect:Aj,useMemo:Rj,useReducer:zf,useRef:Nj,useState:function(){return zf(Hl)},useDebugValue:Tv,useDeferredValue:function(t){var e=Qn();return yt===null?e.memoizedState=t:Dj(e,yt.memoizedState,t)},useTransition:function(){var t=zf(Hl)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:wj,useSyncExternalStore:bj,useId:Oj,unstable_isNewReconciler:!1};function ro(t,e){try{var n="",r=e;do n+=zC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _m(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function Fj(t,e,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wd||(wd=!0,km=r),_m(t,e)},n}function Uj(t,e,n){n=Jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_m(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_m(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Nw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ck.bind(null,t,e,n),e.then(t,t))}function Iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Aw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jr(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var vk=us.ReactCurrentOwner,yn=!1;function sn(t,e,n,r){e.child=t===null?yj(e,null,n,r):to(e,t.child,n,r)}function Cw(t,e,n,r,s){n=n.render;var i=e.ref;return Fa(e,s),r=Ev(t,e,n,r,i,s),n=jv(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ss(t,e,s)):(et&&n&&dv(e),e.flags|=1,sn(t,e,r,s),e.child)}function Pw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Dv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$j(t,e,i,r,s)):(t=Fu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(o,r)&&t.ref===e.ref)return ss(t,e,s)}return e.flags|=1,t=Bs(i,r),t.ref=e.ref,t.return=e,e.child=t}function $j(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ml(i,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,ss(t,e,s)}return Em(t,e,n,r,s)}function Bj(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Pa,Sn),Sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Pa,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ve(Pa,Sn),Sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ve(Pa,Sn),Sn|=r;return sn(t,e,s,n),e.child}function zj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Em(t,e,n,r,s){var i=wn(n)?Di:Jt.current;return i=Za(e,i),Fa(e,s),n=Ev(t,e,n,r,i,s),r=jv(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ss(t,e,s)):(et&&r&&dv(e),e.flags|=1,sn(t,e,n,s),e.child)}function kw(t,e,n,r,s){if(wn(n)){var i=!0;ud(e)}else i=!1;if(Fa(e,s),e.stateNode===null)Lu(t,e),gj(e,n,r),bm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=wn(n)?Di:Jt.current,u=Za(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Ew(e,o,r,u),ws=!1;var f=e.memoizedState;o.state=f,md(e,r,o,s),c=e.memoizedState,l!==r||f!==c||xn.current||ws?(typeof d=="function"&&(wm(e,n,d,r),c=e.memoizedState),(l=ws||_w(e,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ir(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yn(c):(c=wn(n)?Di:Jt.current,c=Za(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Ew(e,o,r,c),ws=!1,f=e.memoizedState,o.state=f,md(e,r,o,s);var g=e.memoizedState;l!==h||f!==g||xn.current||ws?(typeof p=="function"&&(wm(e,n,p,r),g=e.memoizedState),(u=ws||_w(e,n,u,r,f,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return jm(t,e,n,r,i,s)}function jm(t,e,n,r,s,i){zj(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&vw(e,n,!1),ss(t,e,i);r=e.stateNode,vk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=to(e,t.child,null,i),e.child=to(e,null,l,i)):sn(t,e,l,i),e.memoizedState=r.state,s&&vw(e,n,!0),e.child}function Hj(t){var e=t.stateNode;e.pendingContext?gw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gw(t,e.context,!1),xv(t,e.containerInfo)}function Rw(t,e,n,r,s){return eo(),fv(s),e.flags|=256,sn(t,e,n,r),e.child}var Sm={dehydrated:null,treeContext:null,retryLane:0};function Tm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wj(t,e,n){var r=e.pendingProps,s=tt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ve(tt,s&1),t===null)return ym(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wh(o,r,0,null),t=Ai(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tm(n),e.memoizedState=Sm,t):Nv(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yk(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Bs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Bs(l,i):(i=Ai(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Sm,r}return i=t.child,t=i.sibling,r=Bs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nv(t,e){return e=wh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ou(t,e,n,r){return r!==null&&fv(r),to(e,t.child,null,n),t=Nv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(q(422))),ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wh({mode:"visible",children:r.children},s,0,null),i=Ai(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&to(e,t.child,null,o),e.child.memoizedState=Tm(o),e.memoizedState=Sm,i);if(!(e.mode&1))return ou(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=Hf(i,r,void 0),ou(t,e,o,r)}if(l=(o&t.childLanes)!==0,yn||l){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rs(t,s),dr(r,t,s,-1))}return Rv(),r=Hf(Error(q(421))),ou(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Pk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Nn=Vs(s.nextSibling),Pn=e,et=!0,or=null,t!==null&&(zn[Hn++]=qr,zn[Hn++]=Gr,zn[Hn++]=Oi,qr=t.id,Gr=t.overflow,Oi=e),e=Nv(e,r.children),e.flags|=4096,e)}function Dw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xm(t.return,e,n)}function Wf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qj(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dw(t,n,e);else if(t.tag===19)Dw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(tt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&gd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wf(e,!0,n,null,i);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xk(t,e,n){switch(e.tag){case 3:Hj(e),eo();break;case 5:xj(e);break;case 1:wn(e.type)&&ud(e);break;case 4:xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ve(fd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?Wj(t,e,n):(Ve(tt,tt.current&1),t=ss(t,e,n),t!==null?t.sibling:null);Ve(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ve(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,Bj(t,e,n)}return ss(t,e,n)}var Gj,Nm,Kj,Yj;Gj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nm=function(){};Kj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bi(Nr.current);var i=null;switch(n){case"input":s=Yp(t,s),r=Yp(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=Jp(t,s),r=Jp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ld)}em(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Yj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vo(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wk(t,e,n){var r=e.pendingProps;switch(hv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return wn(e.type)&&cd(),zt(e),null;case 3:return r=e.stateNode,no(),qe(xn),qe(Jt),bv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Om(or),or=null))),Nm(t,e),zt(e),null;case 5:wv(e);var s=bi(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)Kj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return zt(e),null}if(t=bi(Nr.current),iu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xr]=e,r[Ul]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<el.length;s++)Be(el[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":zx(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":Wx(r,i),Be("invalid",r)}em(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&su(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&su(r.textContent,l,t),s=["children",""+l]):Cl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Qc(r),Hx(r,i,!0);break;case"textarea":Qc(r),qx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ld)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_E(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xr]=e,t[Ul]=r,Gj(t,e,!1,!1),e.stateNode=t;e:{switch(o=tm(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<el.length;s++)Be(el[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":zx(t,r),s=Yp(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Wx(t,r),s=Jp(t,r),Be("invalid",t);break;default:s=r}em(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?SE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&EE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pl(t,c):typeof c=="number"&&Pl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",t):c!=null&&Xg(t,i,c,o))}switch(n){case"input":Qc(t),Hx(t,r,!1);break;case"textarea":Qc(t),qx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ys(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Oa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ld)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)Yj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=bi(Bl.current),bi(Nr.current),iu(e)){if(r=e.stateNode,n=e.memoizedProps,r[xr]=e,(i=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&su(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=e,e.stateNode=r}return zt(e),null;case 13:if(qe(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Nn!==null&&e.mode&1&&!(e.flags&128))hj(),eo(),e.flags|=98560,i=!1;else if(i=iu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[xr]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else or!==null&&(Om(or),or=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?xt===0&&(xt=3):Rv())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return no(),Nm(t,e),t===null&&Vl(e.stateNode.containerInfo),zt(e),null;case 10:return gv(e.type._context),zt(e),null;case 17:return wn(e.type)&&cd(),zt(e),null;case 19:if(qe(tt),i=e.memoizedState,i===null)return zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Vo(i,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gd(t),o!==null){for(e.flags|=128,Vo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(tt,tt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>so&&(e.flags|=128,r=!0,Vo(i,!1),e.lanes=4194304)}else{if(!r)if(t=gd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return zt(e),null}else 2*ct()-i.renderingStartTime>so&&n!==1073741824&&(e.flags|=128,r=!0,Vo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=tt.current,Ve(tt,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return kv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function bk(t,e){switch(hv(e),e.tag){case 1:return wn(e.type)&&cd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),qe(xn),qe(Jt),bv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wv(e),null;case 13:if(qe(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(tt),null;case 4:return no(),null;case 10:return gv(e.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var lu=!1,Gt=!1,_k=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Im(t,e,n){try{n()}catch(r){ot(t,e,r)}}var Ow=!1;function Ek(t,e){if(dm=id,t=ZE(),uv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hm={focusedElem:t,selectionRange:n},id=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ir(e.type,y),b);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(E){ot(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return g=Ow,Ow=!1,g}function ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Im(e,n,i)}s=s.next}while(s!==r)}}function yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Am(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qj(t){var e=t.alternate;e!==null&&(t.alternate=null,Qj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xr],delete e[Ul],delete e[mm],delete e[ik],delete e[ak])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xj(t){return t.tag===5||t.tag===3||t.tag===4}function Lw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ld));else if(r!==4&&(t=t.child,t!==null))for(Cm(t,e,n),t=t.sibling;t!==null;)Cm(t,e,n),t=t.sibling}function Pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pm(t,e,n),t=t.sibling;t!==null;)Pm(t,e,n),t=t.sibling}var kt=null,ar=!1;function gs(t,e,n){for(n=n.child;n!==null;)Jj(t,e,n),n=n.sibling}function Jj(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:Gt||Ca(n,e);case 6:var r=kt,s=ar;kt=null,gs(t,e,n),kt=r,ar=s,kt!==null&&(ar?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(ar?(t=kt,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),Ol(t)):Vf(kt,n.stateNode));break;case 4:r=kt,s=ar,kt=n.stateNode.containerInfo,ar=!0,gs(t,e,n),kt=r,ar=s;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Im(n,e,o),s=s.next}while(s!==r)}gs(t,e,n);break;case 1:if(!Gt&&(Ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ot(n,e,l)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,gs(t,e,n),Gt=r):gs(t,e,n);break;default:gs(t,e,n)}}function Mw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _k),e.forEach(function(r){var s=kk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,ar=!1;break e;case 3:kt=l.stateNode.containerInfo,ar=!0;break e;case 4:kt=l.stateNode.containerInfo,ar=!0;break e}l=l.return}if(kt===null)throw Error(q(160));Jj(i,o,s),kt=null,ar=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ot(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zj(e,t),e=e.sibling}function Zj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),vr(t),r&4){try{ml(3,t,t.return),yh(3,t)}catch(y){ot(t,t.return,y)}try{ml(5,t,t.return)}catch(y){ot(t,t.return,y)}}break;case 1:rr(e,t),vr(t),r&512&&n!==null&&Ca(n,n.return);break;case 5:if(rr(e,t),vr(t),r&512&&n!==null&&Ca(n,n.return),t.flags&32){var s=t.stateNode;try{Pl(s,"")}catch(y){ot(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&wE(s,i),tm(l,o);var u=tm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?SE(s,h):d==="dangerouslySetInnerHTML"?EE(s,h):d==="children"?Pl(s,h):Xg(s,d,h,u)}switch(l){case"input":Qp(s,i);break;case"textarea":bE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Oa(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Oa(s,!!i.multiple,i.defaultValue,!0):Oa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ul]=i}catch(y){ot(t,t.return,y)}}break;case 6:if(rr(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ot(t,t.return,y)}}break;case 3:if(rr(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ol(e.containerInfo)}catch(y){ot(t,t.return,y)}break;case 4:rr(e,t),vr(t);break;case 13:rr(e,t),vr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cv=ct())),r&4&&Mw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(u=Gt)||d,rr(e,t),Gt=u):rr(e,t),vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(h=se=d;se!==null;){switch(f=se,p=f.child,f.tag){case 0:case 11:case 14:case 15:ml(4,f,f.return);break;case 1:Ca(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ot(r,n,y)}}break;case 5:Ca(f,f.return);break;case 22:if(f.memoizedState!==null){Fw(h);continue}}p!==null?(p.return=f,se=p):Fw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jE("display",o))}catch(y){ot(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){ot(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rr(e,t),vr(t),r&4&&Mw(t);break;case 21:break;default:rr(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xj(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pl(s,""),r.flags&=-33);var i=Lw(t);Pm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Lw(t);Cm(t,l,o);break;default:throw Error(q(161))}}catch(c){ot(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jk(t,e,n){se=t,eS(t)}function eS(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||lu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Gt;l=lu;var u=Gt;if(lu=o,(Gt=c)&&!u)for(se=s;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?Uw(s):c!==null?(c.return=o,se=c):Uw(s);for(;i!==null;)se=i,eS(i),i=i.sibling;se=s,lu=l,Gt=u}Vw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):Vw(t)}}function Vw(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ol(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Gt||e.flags&512&&Am(e)}catch(f){ot(e,e.return,f)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Fw(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Uw(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yh(4,e)}catch(c){ot(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ot(e,s,c)}}var i=e.return;try{Am(e)}catch(c){ot(e,i,c)}break;case 5:var o=e.return;try{Am(e)}catch(c){ot(e,o,c)}}}catch(c){ot(e,e.return,c)}if(e===t){se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,se=l;break}se=e.return}}var Sk=Math.ceil,xd=us.ReactCurrentDispatcher,Iv=us.ReactCurrentOwner,Gn=us.ReactCurrentBatchConfig,Se=0,Nt=null,ft=null,Lt=0,Sn=0,Pa=ri(0),xt=0,ql=null,Mi=0,xh=0,Av=0,gl=null,gn=null,Cv=0,so=1/0,Br=null,wd=!1,km=null,Us=null,cu=!1,As=null,bd=0,vl=0,Rm=null,Mu=-1,Vu=0;function on(){return Se&6?ct():Mu!==-1?Mu:Mu=ct()}function $s(t){return t.mode&1?Se&2&&Lt!==0?Lt&-Lt:lk.transition!==null?(Vu===0&&(Vu=ME()),Vu):(t=Re,t!==0||(t=window.event,t=t===void 0?16:HE(t.type)),t):1}function dr(t,e,n,r){if(50<vl)throw vl=0,Rm=null,Error(q(185));vc(t,n,r),(!(Se&2)||t!==Nt)&&(t===Nt&&(!(Se&2)&&(xh|=n),xt===4&&_s(t,Lt)),bn(t,r),n===1&&Se===0&&!(e.mode&1)&&(so=ct()+500,mh&&si()))}function bn(t,e){var n=t.callbackNode;lP(t,e);var r=sd(t,t===Nt?Lt:0);if(r===0)n!==null&&Yx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yx(n),e===1)t.tag===0?ok($w.bind(null,t)):cj($w.bind(null,t)),rk(function(){!(Se&6)&&si()}),n=null;else{switch(VE(r)){case 1:n=nv;break;case 4:n=OE;break;case 16:n=rd;break;case 536870912:n=LE;break;default:n=rd}n=lS(n,tS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tS(t,e){if(Mu=-1,Vu=0,Se&6)throw Error(q(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var r=sd(t,t===Nt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_d(t,r);else{e=r;var s=Se;Se|=2;var i=rS();(Nt!==t||Lt!==e)&&(Br=null,so=ct()+500,Ii(t,e));do try{Ik();break}catch(l){nS(t,l)}while(!0);mv(),xd.current=i,Se=s,ft!==null?e=0:(Nt=null,Lt=0,e=xt)}if(e!==0){if(e===2&&(s=am(t),s!==0&&(r=s,e=Dm(t,s))),e===1)throw n=ql,Ii(t,0),_s(t,r),bn(t,ct()),n;if(e===6)_s(t,r);else{if(s=t.current.alternate,!(r&30)&&!Tk(s)&&(e=_d(t,r),e===2&&(i=am(t),i!==0&&(r=i,e=Dm(t,i))),e===1))throw n=ql,Ii(t,0),_s(t,r),bn(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:pi(t,gn,Br);break;case 3:if(_s(t,r),(r&130023424)===r&&(e=Cv+500-ct(),10<e)){if(sd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=pm(pi.bind(null,t,gn,Br),e);break}pi(t,gn,Br);break;case 4:if(_s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sk(r/1960))-r,10<r){t.timeoutHandle=pm(pi.bind(null,t,gn,Br),r);break}pi(t,gn,Br);break;case 5:pi(t,gn,Br);break;default:throw Error(q(329))}}}return bn(t,ct()),t.callbackNode===n?tS.bind(null,t):null}function Dm(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(Ii(t,e).flags|=256),t=_d(t,e),t!==2&&(e=gn,gn=n,e!==null&&Om(e)),t}function Om(t){gn===null?gn=t:gn.push.apply(gn,t)}function Tk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _s(t,e){for(e&=~Av,e&=~xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function $w(t){if(Se&6)throw Error(q(327));Ua();var e=sd(t,0);if(!(e&1))return bn(t,ct()),null;var n=_d(t,e);if(t.tag!==0&&n===2){var r=am(t);r!==0&&(e=r,n=Dm(t,r))}if(n===1)throw n=ql,Ii(t,0),_s(t,e),bn(t,ct()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,gn,Br),bn(t,ct()),null}function Pv(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(so=ct()+500,mh&&si())}}function Vi(t){As!==null&&As.tag===0&&!(Se&6)&&Ua();var e=Se;Se|=1;var n=Gn.transition,r=Re;try{if(Gn.transition=null,Re=1,t)return t()}finally{Re=r,Gn.transition=n,Se=e,!(Se&6)&&si()}}function kv(){Sn=Pa.current,qe(Pa)}function Ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nk(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(hv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cd();break;case 3:no(),qe(xn),qe(Jt),bv();break;case 5:wv(r);break;case 4:no();break;case 13:qe(tt);break;case 19:qe(tt);break;case 10:gv(r.type._context);break;case 22:case 23:kv()}n=n.return}if(Nt=t,ft=t=Bs(t.current,null),Lt=Sn=e,xt=0,ql=null,Av=xh=Mi=0,gn=gl=null,wi!==null){for(e=0;e<wi.length;e++)if(n=wi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wi=null}return t}function nS(t,e){do{var n=ft;try{if(mv(),Du.current=yd,vd){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vd=!1}if(Li=0,Tt=yt=rt=null,pl=!1,zl=0,Iv.current=null,n===null||n.return===null){xt=1,ql=e,ft=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Iw(o);if(p!==null){p.flags&=-257,Aw(p,o,l,i,e),p.mode&1&&Nw(i,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){Nw(i,u,e),Rv();break e}c=Error(q(426))}}else if(et&&l.mode&1){var b=Iw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Aw(b,o,l,i,e),fv(ro(c,l));break e}}i=c=ro(c,l),xt!==4&&(xt=2),gl===null?gl=[i]:gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Fj(i,c,e);ww(i,m);break e;case 1:l=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Us===null||!Us.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=Uj(i,l,e);ww(i,E);break e}}i=i.return}while(i!==null)}iS(n)}catch(S){e=S,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function rS(){var t=xd.current;return xd.current=yd,t===null?yd:t}function Rv(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||!(Mi&268435455)&&!(xh&268435455)||_s(Nt,Lt)}function _d(t,e){var n=Se;Se|=2;var r=rS();(Nt!==t||Lt!==e)&&(Br=null,Ii(t,e));do try{Nk();break}catch(s){nS(t,s)}while(!0);if(mv(),Se=n,xd.current=r,ft!==null)throw Error(q(261));return Nt=null,Lt=0,xt}function Nk(){for(;ft!==null;)sS(ft)}function Ik(){for(;ft!==null&&!ZC();)sS(ft)}function sS(t){var e=oS(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?iS(t):ft=e,Iv.current=null}function iS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bk(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,ft=null;return}}else if(n=wk(n,e,Sn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);xt===0&&(xt=5)}function pi(t,e,n){var r=Re,s=Gn.transition;try{Gn.transition=null,Re=1,Ak(t,e,n,r)}finally{Gn.transition=s,Re=r}return null}function Ak(t,e,n,r){do Ua();while(As!==null);if(Se&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(cP(t,i),t===Nt&&(ft=Nt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cu||(cu=!0,lS(rd,function(){return Ua(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gn.transition,Gn.transition=null;var o=Re;Re=1;var l=Se;Se|=4,Iv.current=null,Ek(t,n),Zj(n,t),YP(hm),id=!!dm,hm=dm=null,t.current=n,jk(n),eP(),Se=l,Re=o,Gn.transition=i}else t.current=n;if(cu&&(cu=!1,As=t,bd=s),i=t.pendingLanes,i===0&&(Us=null),rP(n.stateNode),bn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wd)throw wd=!1,t=km,km=null,t;return bd&1&&t.tag!==0&&Ua(),i=t.pendingLanes,i&1?t===Rm?vl++:(vl=0,Rm=t):vl=0,si(),null}function Ua(){if(As!==null){var t=VE(bd),e=Gn.transition,n=Re;try{if(Gn.transition=null,Re=16>t?16:t,As===null)var r=!1;else{if(t=As,As=null,bd=0,Se&6)throw Error(q(331));var s=Se;for(Se|=4,se=t.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:ml(8,d,i)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var f=d.sibling,p=d.return;if(Qj(d),d===u){se=null;break}if(f!==null){f.return=p,se=f;break}se=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ml(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,se=m;break e}se=i.return}}var x=t.current;for(se=x;se!==null;){o=se;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,se=v;else e:for(o=x;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yh(9,l)}}catch(S){ot(l,l.return,S)}if(l===o){se=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,se=E;break e}se=l.return}}if(Se=s,si(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(uh,t)}catch{}r=!0}return r}finally{Re=n,Gn.transition=e}}return!1}function Bw(t,e,n){e=ro(n,e),e=Fj(t,e,1),t=Fs(t,e,1),e=on(),t!==null&&(vc(t,1,e),bn(t,e))}function ot(t,e,n){if(t.tag===3)Bw(t,t,n);else for(;e!==null;){if(e.tag===3){Bw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=ro(n,t),t=Uj(e,t,1),e=Fs(e,t,1),t=on(),e!==null&&(vc(e,1,t),bn(e,t));break}}e=e.return}}function Ck(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Lt&n)===n&&(xt===4||xt===3&&(Lt&130023424)===Lt&&500>ct()-Cv?Ii(t,0):Av|=n),bn(t,e)}function aS(t,e){e===0&&(t.mode&1?(e=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):e=1);var n=on();t=rs(t,e),t!==null&&(vc(t,e,n),bn(t,n))}function Pk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aS(t,n)}function kk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),aS(t,n)}var oS;oS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,xk(t,e,n);yn=!!(t.flags&131072)}else yn=!1,et&&e.flags&1048576&&uj(e,hd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lu(t,e),t=e.pendingProps;var s=Za(e,Jt.current);Fa(e,n),s=Ev(null,e,r,t,s,n);var i=jv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(i=!0,ud(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yv(e),s.updater=gh,e.stateNode=s,s._reactInternals=e,bm(e,r,t,n),e=jm(null,e,r,!0,i,n)):(e.tag=0,et&&i&&dv(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Dk(r),t=ir(r,t),s){case 0:e=Em(null,e,r,t,n);break e;case 1:e=kw(null,e,r,t,n);break e;case 11:e=Cw(null,e,r,t,n);break e;case 14:e=Pw(null,e,r,ir(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Em(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),kw(t,e,r,s,n);case 3:e:{if(Hj(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pj(t,e),md(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ro(Error(q(423)),e),e=Rw(t,e,r,n,s);break e}else if(r!==s){s=ro(Error(q(424)),e),e=Rw(t,e,r,n,s);break e}else for(Nn=Vs(e.stateNode.containerInfo.firstChild),Pn=e,et=!0,or=null,n=yj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===s){e=ss(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return xj(e),t===null&&ym(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,fm(r,s)?o=null:i!==null&&fm(r,i)&&(e.flags|=32),zj(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&ym(e),null;case 13:return Wj(t,e,n);case 4:return xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=to(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Cw(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ve(fd,r._currentValue),r._currentValue=o,i!==null)if(hr(i.value,o)){if(i.children===s.children&&!xn.current){e=ss(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Jr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fa(e,n),s=Yn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=ir(r,e.pendingProps),s=ir(r.type,s),Pw(t,e,r,s,n);case 15:return $j(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Lu(t,e),e.tag=1,wn(r)?(t=!0,ud(e)):t=!1,Fa(e,n),gj(e,r,s),bm(e,r,s,n),jm(null,e,r,!0,t,n);case 19:return qj(t,e,n);case 22:return Bj(t,e,n)}throw Error(q(156,e.tag))};function lS(t,e){return DE(t,e)}function Rk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new Rk(t,e,n,r)}function Dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dk(t){if(typeof t=="function")return Dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zg)return 11;if(t===ev)return 14}return 2}function Bs(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Dv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ba:return Ai(n.children,s,i,e);case Jg:o=8,s|=8;break;case Wp:return t=qn(12,n,e,s|2),t.elementType=Wp,t.lanes=i,t;case qp:return t=qn(13,n,e,s),t.elementType=qp,t.lanes=i,t;case Gp:return t=qn(19,n,e,s),t.elementType=Gp,t.lanes=i,t;case vE:return wh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mE:o=10;break e;case gE:o=9;break e;case Zg:o=11;break e;case ev:o=14;break e;case xs:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=qn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ai(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function wh(t,e,n,r){return t=qn(22,t,r,e),t.elementType=vE,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Gf(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ok(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ov(t,e,n,r,s,i,o,l,c){return t=new Ok(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yv(i),t}function Lk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cS(t){if(!t)return Qs;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(wn(n))return lj(t,n,e)}return e}function uS(t,e,n,r,s,i,o,l,c){return t=Ov(n,r,!0,t,s,i,o,l,c),t.context=cS(null),n=t.current,r=on(),s=$s(n),i=Jr(r,s),i.callback=e??null,Fs(n,i,s),t.current.lanes=s,vc(t,s,r),bn(t,r),t}function bh(t,e,n,r){var s=e.current,i=on(),o=$s(s);return n=cS(n),e.context===null?e.context=n:e.pendingContext=n,e=Jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(s,e,o),t!==null&&(dr(t,s,o,i),Ru(t,s,o)),o}function Ed(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lv(t,e){zw(t,e),(t=t.alternate)&&zw(t,e)}function Mk(){return null}var dS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mv(t){this._internalRoot=t}_h.prototype.render=Mv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));bh(t,e,null,null)};_h.prototype.unmount=Mv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){bh(null,t,null,null)}),e[ns]=null}};function _h(t){this._internalRoot=t}_h.prototype.unstable_scheduleHydration=function(t){if(t){var e=$E();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bs.length&&e!==0&&e<bs[n].priority;n++);bs.splice(n,0,t),n===0&&zE(t)}};function Vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hw(){}function Vk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ed(o);i.call(u)}}var o=uS(e,r,t,0,null,!1,!1,"",Hw);return t._reactRootContainer=o,t[ns]=o.current,Vl(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ed(c);l.call(u)}}var c=Ov(t,0,!1,null,null,!1,!1,"",Hw);return t._reactRootContainer=c,t[ns]=c.current,Vl(t.nodeType===8?t.parentNode:t),Vi(function(){bh(e,c,n,r)}),c}function jh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ed(o);l.call(c)}}bh(e,o,t,s)}else o=Vk(n,e,t,s,r);return Ed(o)}FE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zo(e.pendingLanes);n!==0&&(rv(e,n|1),bn(e,ct()),!(Se&6)&&(so=ct()+500,si()))}break;case 13:Vi(function(){var r=rs(t,1);if(r!==null){var s=on();dr(r,t,1,s)}}),Lv(t,1)}};sv=function(t){if(t.tag===13){var e=rs(t,134217728);if(e!==null){var n=on();dr(e,t,134217728,n)}Lv(t,134217728)}};UE=function(t){if(t.tag===13){var e=$s(t),n=rs(t,e);if(n!==null){var r=on();dr(n,t,e,r)}Lv(t,e)}};$E=function(){return Re};BE=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};rm=function(t,e,n){switch(e){case"input":if(Qp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ph(r);if(!s)throw Error(q(90));xE(r),Qp(r,s)}}}break;case"textarea":bE(t,n);break;case"select":e=n.value,e!=null&&Oa(t,!!n.multiple,e,!1)}};IE=Pv;AE=Vi;var Fk={usingClientEntryPoint:!1,Events:[xc,Sa,ph,TE,NE,Pv]},Fo={findFiberByHostInstance:xi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Uk={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kE(t),t===null?null:t.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||Mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{uh=uu.inject(Uk),Tr=uu}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vv(e))throw Error(q(200));return Lk(t,e,null,n)};Mn.createRoot=function(t,e){if(!Vv(t))throw Error(q(299));var n=!1,r="",s=dS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ov(t,1,!1,null,null,n,!1,r,s),t[ns]=e.current,Vl(t.nodeType===8?t.parentNode:t),new Mv(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=kE(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return Vi(t)};Mn.hydrate=function(t,e,n){if(!Eh(e))throw Error(q(200));return jh(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!Vv(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uS(e,null,t,1,n??null,s,!1,i,o),t[ns]=e.current,Vl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _h(e)};Mn.render=function(t,e,n){if(!Eh(e))throw Error(q(200));return jh(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!Eh(t))throw Error(q(40));return t._reactRootContainer?(Vi(function(){jh(null,null,t,!1,function(){t._reactRootContainer=null,t[ns]=null})}),!0):!1};Mn.unstable_batchedUpdates=Pv;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Eh(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return jh(t,e,n,!1,r)};Mn.version="18.2.0-next-9e3b772b8-20220608";function hS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hS)}catch(t){console.error(t)}}hS(),uE.exports=Mn;var $k=uE.exports,Ww=$k;zp.createRoot=Ww.createRoot,zp.hydrateRoot=Ww.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}var Cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cs||(Cs={}));const qw="popstate";function Bk(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:c=""}=ea(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Lm("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:jd(i))}function r(s,i){Sh(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Hk(e,n,r,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zk(){return Math.random().toString(36).substr(2,8)}function Gw(t,e){return{usr:t.state,key:t.key,idx:e}}function Lm(t,e,n,r){return n===void 0&&(n=null),Gl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ea(e):e,{state:n,key:e&&e.key||r||zk()})}function jd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Hk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Cs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Gl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Cs.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:m})}function f(b,m){l=Cs.Push;let x=Lm(y.location,b,m);n&&n(x,b),u=d()+1;let v=Gw(x,u),E=y.createHref(x);try{o.pushState(v,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(E)}i&&c&&c({action:l,location:y.location,delta:1})}function p(b,m){l=Cs.Replace;let x=Lm(y.location,b,m);n&&n(x,b),u=d();let v=Gw(x,u),E=y.createHref(x);o.replaceState(v,"",E),i&&c&&c({action:l,location:y.location,delta:0})}function g(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:jd(b);return gt(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let y={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(qw,h),c=b,()=>{s.removeEventListener(qw,h),c=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}var Kw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kw||(Kw={}));function Wk(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ea(e):e,s=Fv(r.pathname||"/",n);if(s==null)return null;let i=fS(t);qk(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=tR(i[l],sR(s));return o}function fS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=zs([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fS(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Zk(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of pS(i.path))s(i,o,c)}),e}function pS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=pS(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function qk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Gk=/^:[\w-]+$/,Kk=3,Yk=2,Qk=1,Xk=10,Jk=-2,Yw=t=>t==="*";function Zk(t,e){let n=t.split("/"),r=n.length;return n.some(Yw)&&(r+=Jk),e&&(r+=Yk),n.filter(s=>!Yw(s)).reduce((s,i)=>s+(Gk.test(i)?Kk:i===""?Qk:Xk),r)}function eR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tR(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=nR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=l.route;i.push({params:r,pathname:zs([s,d.pathname]),pathnameBase:cR(zs([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=zs([s,d.pathnameBase]))}return i}function nR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?u[f]=void 0:u[f]=iR(g||"",f),u},{}),pathname:i,pathnameBase:o,pattern:t}}function rR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function sR(t){try{return decodeURI(t)}catch(e){return Sh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iR(t,e){try{return decodeURIComponent(t)}catch(n){return Sh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Fv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ea(t):t;return{pathname:n?n.startsWith("/")?n:oR(n,e):e,search:uR(r),hash:dR(s)}}function oR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mS(t,e){let n=lR(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ea(t):(s=Gl({},t),gt(!s.pathname||!s.pathname.includes("?"),Kf("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Kf("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Kf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=aR(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const zs=t=>t.join("/").replace(/\/\/+/g,"/"),cR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vS=["post","put","patch","delete"];new Set(vS);const fR=["get",...vS];new Set(fR);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}const Uv=A.createContext(null),pR=A.createContext(null),ta=A.createContext(null),Th=A.createContext(null),ii=A.createContext({outlet:null,matches:[],isDataRoute:!1}),yS=A.createContext(null);function mR(t,e){let{relative:n}=e===void 0?{}:e;bc()||gt(!1);let{basename:r,navigator:s}=A.useContext(ta),{hash:i,pathname:o,search:l}=wS(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:zs([r,o])),s.createHref({pathname:c,search:l,hash:i})}function bc(){return A.useContext(Th)!=null}function _c(){return bc()||gt(!1),A.useContext(Th).location}function xS(t){A.useContext(ta).static||A.useLayoutEffect(t)}function gR(){let{isDataRoute:t}=A.useContext(ii);return t?AR():vR()}function vR(){bc()||gt(!1);let t=A.useContext(Uv),{basename:e,future:n,navigator:r}=A.useContext(ta),{matches:s}=A.useContext(ii),{pathname:i}=_c(),o=JSON.stringify(mS(s,n.v7_relativeSplatPath)),l=A.useRef(!1);return xS(()=>{l.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=gS(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function ds(){let{matches:t}=A.useContext(ii),e=t[t.length-1];return e?e.params:{}}function wS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(ta),{matches:s}=A.useContext(ii),{pathname:i}=_c(),o=JSON.stringify(mS(s,r.v7_relativeSplatPath));return A.useMemo(()=>gS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function yR(t,e){return xR(t,e)}function xR(t,e,n,r){bc()||gt(!1);let{navigator:s}=A.useContext(ta),{matches:i}=A.useContext(ii),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_c(),d;if(e){var h;let b=typeof e=="string"?ea(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||gt(!1),d=b}else d=u;let f=d.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=Wk(t,{pathname:p}),y=jR(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:zs([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:zs([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?A.createElement(Th.Provider,{value:{location:Kl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cs.Pop}},y):y}function wR(){let t=IR(),e=hR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,null)}const bR=A.createElement(wR,null);class _R extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(ii.Provider,{value:this.props.routeContext},A.createElement(yS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ER(t){let{routeContext:e,match:n,children:r}=t,s=A.useContext(Uv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(ii.Provider,{value:e},r)}function jR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));d>=0||gt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,g=!1,y=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||bR,c&&(u<0&&f===0?(CR("route-fallback",!1),g=!0,b=null):u===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),x=()=>{let v;return p?v=y:g?v=b:h.route.Component?v=A.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,A.createElement(ER,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(_R,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var bS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bS||{}),Sd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sd||{});function SR(t){let e=A.useContext(Uv);return e||gt(!1),e}function TR(t){let e=A.useContext(pR);return e||gt(!1),e}function NR(t){let e=A.useContext(ii);return e||gt(!1),e}function _S(t){let e=NR(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function IR(){var t;let e=A.useContext(yS),n=TR(Sd.UseRouteError),r=_S(Sd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function AR(){let{router:t}=SR(bS.UseNavigateStable),e=_S(Sd.UseNavigateStable),n=A.useRef(!1);return xS(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Kl({fromRouteId:e},i)))},[t,e])}const Qw={};function CR(t,e,n){!e&&!Qw[t]&&(Qw[t]=!0)}function ye(t){gt(!1)}function PR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Cs.Pop,navigator:i,static:o=!1,future:l}=t;bc()&&gt(!1);let c=e.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:c,navigator:i,static:o,future:Kl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ea(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,y=A.useMemo(()=>{let b=Fv(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:s}},[c,d,h,f,p,g,s]);return y==null?null:A.createElement(ta.Provider,{value:u},A.createElement(Th.Provider,{children:n,value:y}))}function $v(t){let{children:e,location:n}=t;return yR(Mm(e),n)}new Promise(()=>{});function Mm(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){n.push.apply(n,Mm(r.props.children,i));return}r.type!==ye&&gt(!1),!r.props.index||!r.props.children||gt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function kR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function RR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DR(t,e){return t.button===0&&(!e||e==="_self")&&!RR(t)}const OR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],LR="6";try{window.__reactRouterVersion=LR}catch{}const MR="startTransition",Xw=Bp[MR];function VR(t){let{basename:e,children:n,future:r,window:s}=t,i=A.useRef();i.current==null&&(i.current=Bk({window:s,v5Compat:!0}));let o=i.current,[l,c]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=A.useCallback(h=>{u&&Xw?Xw(()=>c(h)):c(h)},[c,u]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.createElement(PR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const FR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=A.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=kR(e,OR),{basename:p}=A.useContext(ta),g,y=!1;if(typeof u=="string"&&UR.test(u)&&(g=u,FR))try{let v=new URL(window.location.href),E=u.startsWith("//")?new URL(v.protocol+u):new URL(u),S=Fv(E.pathname,p);E.origin===v.origin&&S!=null?u=S+E.search+E.hash:y=!0}catch{}let b=mR(u,{relative:s}),m=$R(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:h});function x(v){r&&r(v),v.defaultPrevented||m(v)}return A.createElement("a",Vm({},f,{href:g||b,onClick:y||i?r:x,ref:n,target:c}))});var Jw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jw||(Jw={}));var Zw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zw||(Zw={}));function $R(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=gR(),u=_c(),d=wS(t,{relative:o});return A.useCallback(h=>{if(DR(h,n)){h.preventDefault();let f=r!==void 0?r:jd(u)===jd(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,c,d,r,s,n,t,i,o,l])}var eb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},BR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ES(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new zR;const f=i<<2|l>>4;if(r.push(f),u!==64){const p=l<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HR=function(t){const e=ES(t);return jS.encodeByteArray(e,!0)},Td=function(t){return HR(t).replace(/\./g,"")},SS=function(t){try{return jS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=()=>WR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof eb>"u")return;const t=eb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SS(t[1]);return e&&JSON.parse(e)},Nh=()=>{try{return qR()||GR()||KR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TS=t=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NS=t=>{const e=TS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},IS=()=>{var t;return(t=Nh())===null||t===void 0?void 0:t.config},AS=t=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Td(JSON.stringify(n)),Td(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function XR(){var t;const e=(t=Nh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZR(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eD(){return!XR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bv(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function tD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nD,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?rD(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new er(s,l,r)}}function rD(t,e){return t.replace(sD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sD=/\{\$([^}]+)}/g;function iD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(tb(i)&&tb(o)){if(!Fi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function tb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function nl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aD(t,e){const n=new oD(t,e);return n.subscribe.bind(n)}class oD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yf),s.error===void 0&&(s.error=Yf),s.complete===void 0&&(s.complete=Yf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=1e3,uD=2,dD=4*60*60*1e3,hD=.5;function nb(t,e=cD,n=uD){const r=e*Math.pow(n,t),s=Math.round(hD*r*(Math.random()-.5)*2);return Math.min(dD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t){return t&&t._delegate?t._delegate:t}class Xn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mD(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pD(t){return t===mi?void 0:t}function mD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const vD={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},yD=_e.INFO,xD={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},wD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=yD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const bD=(t,e)=>e.some(n=>t instanceof n);let rb,sb;function _D(){return rb||(rb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ED(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RS=new WeakMap,Fm=new WeakMap,DS=new WeakMap,Qf=new WeakMap,zv=new WeakMap;function jD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Hs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RS.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function SD(t){if(Fm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Fm.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TD(t){Um=t(Um)}function ND(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xf(this),e,...n);return DS.set(r,e.sort?e.sort():[e]),Hs(r)}:ED().includes(t)?function(...e){return t.apply(Xf(this),e),Hs(RS.get(this))}:function(...e){return Hs(t.apply(Xf(this),e))}}function ID(t){return typeof t=="function"?ND(t):(t instanceof IDBTransaction&&SD(t),bD(t,_D())?new Proxy(t,Um):t)}function Hs(t){if(t instanceof IDBRequest)return jD(t);if(Qf.has(t))return Qf.get(t);const e=ID(t);return e!==t&&(Qf.set(t,e),zv.set(e,t)),e}const Xf=t=>zv.get(t);function OS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Hs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Hs(o.result),c.oldVersion,c.newVersion,Hs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const AD=["get","getKey","getAll","getAllKeys","count"],CD=["put","add","delete","clear"],Jf=new Map;function ib(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||AD.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Jf.set(e,i),i}TD(t=>({...t,get:(e,n,r)=>ib(e,n)||t.get(e,n,r),has:(e,n)=>!!ib(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",ab="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Ih("@firebase/app"),RD="@firebase/app-compat",DD="@firebase/analytics-compat",OD="@firebase/analytics",LD="@firebase/app-check-compat",MD="@firebase/app-check",VD="@firebase/auth",FD="@firebase/auth-compat",UD="@firebase/database",$D="@firebase/database-compat",BD="@firebase/functions",zD="@firebase/functions-compat",HD="@firebase/installations",WD="@firebase/installations-compat",qD="@firebase/messaging",GD="@firebase/messaging-compat",KD="@firebase/performance",YD="@firebase/performance-compat",QD="@firebase/remote-config",XD="@firebase/remote-config-compat",JD="@firebase/storage",ZD="@firebase/storage-compat",eO="@firebase/firestore",tO="@firebase/firestore-compat",nO="firebase",rO="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",sO={[$m]:"fire-core",[RD]:"fire-core-compat",[OD]:"fire-analytics",[DD]:"fire-analytics-compat",[MD]:"fire-app-check",[LD]:"fire-app-check-compat",[VD]:"fire-auth",[FD]:"fire-auth-compat",[UD]:"fire-rtdb",[$D]:"fire-rtdb-compat",[BD]:"fire-fn",[zD]:"fire-fn-compat",[HD]:"fire-iid",[WD]:"fire-iid-compat",[qD]:"fire-fcm",[GD]:"fire-fcm-compat",[KD]:"fire-perf",[YD]:"fire-perf-compat",[QD]:"fire-rc",[XD]:"fire-rc-compat",[JD]:"fire-gcs",[ZD]:"fire-gcs-compat",[eO]:"fire-fst",[tO]:"fire-fst-compat","fire-js":"fire-js",[nO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,zm=new Map;function iO(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fr(t){const e=t.name;if(zm.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(const n of Nd.values())iO(n,t);return!0}function ai(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ws=new na("app","Firebase",aO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=rO;function LS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ws.create("bad-app-name",{appName:String(s)});if(n||(n=IS()),!n)throw Ws.create("no-options");const i=Nd.get(s);if(i){if(Fi(n,i.options)&&Fi(r,i.config))return i;throw Ws.create("duplicate-app",{appName:s})}const o=new gD(s);for(const c of zm.values())o.addComponent(c);const l=new oO(n,r,o);return Nd.set(s,l),l}function Ah(t=Bm){const e=Nd.get(t);if(!e&&t===Bm&&IS())return LS();if(!e)throw Ws.create("no-app",{appName:t});return e}function _n(t,e,n){var r;let s=(r=sO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(l.join(" "));return}fr(new Xn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="firebase-heartbeat-database",cO=1,Yl="firebase-heartbeat-store";let Zf=null;function MS(){return Zf||(Zf=OS(lO,cO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),Zf}async function uO(t){try{const n=(await MS()).transaction(Yl),r=await n.objectStore(Yl).get(VS(t));return await n.done,r}catch(e){if(e instanceof er)Ui.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function ob(t,e){try{const r=(await MS()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,VS(t)),await r.done}catch(n){if(n instanceof er)Ui.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(r.message)}}}function VS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=1024,hO=30*24*60*60*1e3;class fO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=hO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lb(),{heartbeatsToSend:r,unsentEntries:s}=pO(this._heartbeatsCache.heartbeats),i=Td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function lb(){return new Date().toISOString().substring(0,10)}function pO(t,e=dO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),cb(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),cb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bv()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ob(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ob(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cb(t){return Td(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){fr(new Xn("platform-logger",e=>new PD(e),"PRIVATE")),fr(new Xn("heartbeat",e=>new fO(e),"PRIVATE")),_n($m,ab,t),_n($m,ab,"esm2017"),_n("fire-js","")}gO("");var vO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,Hv=Hv||{},fe=vO||self;function Ch(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yO(t){return Object.prototype.hasOwnProperty.call(t,ep)&&t[ep]||(t[ep]=++xO)}var ep="closure_uid_"+(1e9*Math.random()>>>0),xO=0;function wO(t,e,n){return t.call.apply(t.bind,arguments)}function bO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Qt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qt=wO:Qt=bO,Qt.apply(null,arguments)}function du(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[s].apply(r,o)}}function oi(){this.s=this.s,this.o=this.o}var _O=0;oi.prototype.s=!1;oi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),_O!=0)&&yO(this)};oi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Wv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ub(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ch(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var EO=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};fe.addEventListener("test",n,e),fe.removeEventListener("test",n,e)}catch{}return t}();function Ql(t){return/^[\s\xa0]*$/.test(t)}function Ph(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function wr(t){return Ph().indexOf(t)!=-1}function qv(t){return qv[" "](t),t}qv[" "]=function(){};function jO(t,e){var n=gL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var SO=wr("Opera"),io=wr("Trident")||wr("MSIE"),US=wr("Edge"),Hm=US||io,$S=wr("Gecko")&&!(Ph().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge"))&&!(wr("Trident")||wr("MSIE"))&&!wr("Edge"),TO=Ph().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge");function BS(){var t=fe.document;return t?t.documentMode:void 0}var Wm;e:{var tp="",np=function(){var t=Ph();if($S)return/rv:([^\);]+)(\)|;)/.exec(t);if(US)return/Edge\/([\d\.]+)/.exec(t);if(io)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(TO)return/WebKit\/(\S+)/.exec(t);if(SO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(np&&(tp=np?np[1]:""),io){var rp=BS();if(rp!=null&&rp>parseFloat(tp)){Wm=String(rp);break e}}Wm=tp}var qm;if(fe.document&&io){var db=BS();qm=db||parseInt(Wm,10)||void 0}else qm=void 0;var NO=qm;function Xl(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($S){e:{try{qv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:IO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xl.$.h.call(this)}}At(Xl,Xt);var IO={2:"touch",3:"pen",4:"mouse"};Xl.prototype.h=function(){Xl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Sc="closure_listenable_"+(1e6*Math.random()|0),AO=0;function CO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++AO,this.fa=this.ia=!1}function kh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Gv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function zS(t){const e={};for(const n in t)e[n]=t[n];return e}const hb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<hb.length;i++)n=hb[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rh(t){this.src=t,this.g={},this.h=0}Rh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Km(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new CO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Gm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=FS(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(kh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Km(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Kv="closure_lm_"+(1e6*Math.random()|0),sp={};function WS(t,e,n,r,s){if(r&&r.once)return GS(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)WS(t,e[i],n,r,s);return null}return n=Xv(n),t&&t[Sc]?t.O(e,n,jc(r)?!!r.capture:!!r,s):qS(t,e,n,!1,r,s)}function qS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=jc(s)?!!s.capture:!!s,l=Qv(t);if(l||(t[Kv]=l=new Rh(t)),n=l.add(e,n,r,o,i),n.proxy)return n;if(r=kO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)EO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(YS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kO(){function t(n){return e.call(t.src,t.listener,n)}const e=RO;return t}function GS(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)GS(t,e[i],n,r,s);return null}return n=Xv(n),t&&t[Sc]?t.P(e,n,jc(r)?!!r.capture:!!r,s):qS(t,e,n,!0,r,s)}function KS(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)KS(t,e[i],n,r,s);else r=jc(r)?!!r.capture:!!r,n=Xv(n),t&&t[Sc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Km(i,n,r,s),-1<n&&(kh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Qv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Km(e,n,r,s)),(n=-1<t?e[t]:null)&&Yv(n))}function Yv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Sc])Gm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(YS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Qv(e))?(Gm(n,t),n.h==0&&(n.src=null,e[Kv]=null)):kh(t)}}}function YS(t){return t in sp?sp[t]:sp[t]="on"+t}function RO(t,e){if(t.fa)t=!0;else{e=new Xl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Yv(t),t=n.call(r,e)}return t}function Qv(t){return t=t[Kv],t instanceof Rh?t:null}var ip="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xv(t){return typeof t=="function"?t:(t[ip]||(t[ip]=function(e){return t.handleEvent(e)}),t[ip])}function It(){oi.call(this),this.i=new Rh(this),this.S=this,this.J=null}At(It,oi);It.prototype[Sc]=!0;It.prototype.removeEventListener=function(t,e,n,r){KS(this,t,e,n,r)};function Mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var s=e;e=new Xt(r,t),HS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=hu(o,r,!0,e)&&s}if(o=e.g=t,s=hu(o,r,!0,e)&&s,s=hu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=hu(o,r,!1,e)&&s}It.prototype.N=function(){if(It.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kh(n[r]);delete t.g[e],t.h--}}this.J=null};It.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};It.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function hu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&Gm(t.i,o),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Jv=fe.JSON.stringify;class DO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function OO(){var t=Zv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class LO{constructor(){this.h=this.g=null}add(e,n){const r=QS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var QS=new DO(()=>new MO,t=>t.reset());class MO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function FO(t){fe.setTimeout(()=>{throw t},0)}let Jl,Zl=!1,Zv=new LO,XS=()=>{const t=fe.Promise.resolve(void 0);Jl=()=>{t.then(UO)}};var UO=()=>{for(var t;t=OO();){try{t.h.call(t.g)}catch(n){FO(n)}var e=QS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Zl=!1};function Dh(t,e){It.call(this),this.h=t||1,this.g=e||fe,this.j=Qt(this.qb,this),this.l=Date.now()}At(Dh,It);X=Dh.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mt(this,"tick"),this.ga&&(ey(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ey(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){Dh.$.N.call(this),ey(this),delete this.g};function ty(t,e,n){if(typeof t=="function")n&&(t=Qt(t,n));else if(t&&typeof t.handleEvent=="function")t=Qt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function JS(t){t.g=ty(()=>{t.g=null,t.i&&(t.i=!1,JS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $O extends oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JS(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ec(t){oi.call(this),this.h=t,this.g={}}At(ec,oi);var fb=[];function ZS(t,e,n,r){Array.isArray(n)||(n&&(fb[0]=n.toString()),n=fb);for(var s=0;s<n.length;s++){var i=WS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function eT(t){Gv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Yv(e)},t),t.g={}}ec.prototype.N=function(){ec.$.N.call(this),eT(this)};ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Oh(){this.g=!0}Oh.prototype.Ea=function(){this.g=!1};function BO(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",l=i.split("&"),c=0;c<l.length;c++){var u=l[c].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function zO(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function ka(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WO(t,n)+(r?" "+r:"")})}function HO(t,e){t.info(function(){return"TIMEOUT: "+e})}Oh.prototype.info=function(){};function WO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Jv(n)}catch{return e}}var sa={},pb=null;function Lh(){return pb=pb||new It}sa.Ta="serverreachability";function tT(t){Xt.call(this,sa.Ta,t)}At(tT,Xt);function tc(t){const e=Lh();Mt(e,new tT(e))}sa.STAT_EVENT="statevent";function nT(t,e){Xt.call(this,sa.STAT_EVENT,t),this.stat=e}At(nT,Xt);function an(t){const e=Lh();Mt(e,new nT(e,t))}sa.Ua="timingevent";function rT(t,e){Xt.call(this,sa.Ua,t),this.size=e}At(rT,Xt);function Tc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var Mh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ny(){}ny.prototype.h=null;function mb(t){return t.h||(t.h=t.i())}function iT(){}var Nc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ry(){Xt.call(this,"d")}At(ry,Xt);function sy(){Xt.call(this,"c")}At(sy,Xt);var Ym;function Vh(){}At(Vh,ny);Vh.prototype.g=function(){return new XMLHttpRequest};Vh.prototype.i=function(){return{}};Ym=new Vh;function Ic(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ec(this),this.P=qO,t=Hm?125:void 0,this.V=new Dh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aT}function aT(){this.i=null,this.g="",this.h=!1}var qO=45e3,oT={},Qm={};X=Ic.prototype;X.setTimeout=function(t){this.P=t};function Xm(t,e,n){t.L=1,t.A=Uh(is(e)),t.u=n,t.S=!0,lT(t,null)}function lT(t,e){t.G=Date.now(),Ac(t),t.B=is(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),gT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new aT,t.g=MT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new $O(Qt(t.Pa,t,t.g),t.O)),ZS(t.U,t.g,"readystatechange",t.nb),e=t.I?zS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),tc(),BO(t.j,t.v,t.B,t.m,t.W,t.u)}X.nb=function(t){t=t.target;const e=this.M;e&&_r(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const d=_r(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Hm||this.g&&(this.h.h||this.g.ja()||xb(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?tc(3):tc(2)),Fh(this);var n=this.g.da();this.ca=n;t:if(cT(this)){var r=xb(this.g);t="";var s=r.length,i=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),yl(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,zO(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ql(l)){var u=l;break t}}u=null}if(n=u)ka(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jm(this,n);else{this.i=!1,this.s=3,an(12),_i(this),yl(this);break e}}this.S?(uT(this,d,o),Hm&&this.i&&d==3&&(ZS(this.U,this.V,"tick",this.mb),this.V.start())):(ka(this.j,this.m,o,null),Jm(this,o)),d==4&&_i(this),this.i&&!this.J&&(d==4?RT(this.l,this):(this.i=!1,Ac(this)))}else fL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),_i(this),yl(this)}}}catch{}finally{}};function cT(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function uT(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=GO(t,n),s==Qm){e==4&&(t.s=4,an(14),r=!1),ka(t.j,t.m,null,"[Incomplete Response]");break}else if(s==oT){t.s=4,an(15),ka(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ka(t.j,t.m,s,null),Jm(t,s);cT(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),uy(e),e.M=!0,an(11))):(ka(t.j,t.m,n,"[Invalid Chunked Response]"),_i(t),yl(t))}X.mb=function(){if(this.g){var t=_r(this.g),e=this.g.ja();this.o<e.length&&(Fh(this),uT(this,t,e),this.i&&t!=4&&Ac(this))}};function GO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Qm:(n=Number(e.substring(n,r)),isNaN(n)?oT:(r+=1,r+n>e.length?Qm:(e=e.slice(r,r+n),t.o=r+n,e)))}X.cancel=function(){this.J=!0,_i(this)};function Ac(t){t.Y=Date.now()+t.P,dT(t,t.P)}function dT(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Tc(Qt(t.lb,t),e)}function Fh(t){t.C&&(fe.clearTimeout(t.C),t.C=null)}X.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(HO(this.j,this.B),this.L!=2&&(tc(),an(17)),_i(this),this.s=2,yl(this)):dT(this,this.Y-t)};function yl(t){t.l.H==0||t.J||RT(t.l,t)}function _i(t){Fh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ey(t.V),eT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Jm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Zm(n.i,t))){if(!t.K&&Zm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Cd(n),Hh(n);else break e;cy(n),an(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Tc(Qt(n.ib,n),6e3));if(1>=xT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ei(n,11)}else if((t.K||n.g==t)&&Cd(n),!Ql(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(iy(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ze(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=LT(r,r.J?r.pa:null,r.Y),o.K){wT(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&(Fh(l),Ac(l)),r.g=o}else PT(r);0<n.j.length&&Wh(n)}else u[0]!="stop"&&u[0]!="close"||Ei(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ei(n,7):ly(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}tc(4)}catch{}}function KO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ch(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function YO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ch(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function hT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ch(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=YO(t),r=KO(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var fT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ci(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ci){this.h=t.h,Id(this,t.j),this.s=t.s,this.g=t.g,Ad(this,t.m),this.l=t.l;var e=t.i,n=new nc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),gb(this,n),this.o=t.o}else t&&(e=String(t).match(fT))?(this.h=!1,Id(this,e[1]||"",!0),this.s=rl(e[2]||""),this.g=rl(e[3]||"",!0),Ad(this,e[4]),this.l=rl(e[5]||"",!0),gb(this,e[6]||"",!0),this.o=rl(e[7]||"")):(this.h=!1,this.i=new nc(null,this.h))}Ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sl(e,vb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sl(e,vb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sl(n,n.charAt(0)=="/"?ZO:JO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sl(n,tL)),t.join("")};function is(t){return new Ci(t)}function Id(t,e,n){t.j=n?rl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ad(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function gb(t,e,n){e instanceof nc?(t.i=e,nL(t.i,t.h)):(n||(e=sl(e,eL)),t.i=new nc(e,t.h))}function ze(t,e,n){t.i.set(e,n)}function Uh(t){return ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,XO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function XO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var vb=/[#\/\?@]/g,JO=/[#\?:]/g,ZO=/[#\?]/g,eL=/[#\?@]/g,tL=/#/g;function nc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&QO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=nc.prototype;X.add=function(t,e){li(this),this.i=null,t=_o(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pT(t,e){li(t),e=_o(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mT(t,e){return li(t),e=_o(t,e),t.g.has(e)}X.forEach=function(t,e){li(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};X.ta=function(){li(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};X.Z=function(t){li(this);let e=[];if(typeof t=="string")mT(this,t)&&(e=e.concat(this.g.get(_o(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return li(this),this.i=null,t=_o(this,t),mT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gT(t,e,n){pT(t,e),0<n.length&&(t.i=null,t.g.set(_o(t,e),Wv(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function _o(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nL(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(pT(this,r),gT(this,s,n))},t)),t.j=e}var rL=class{constructor(t,e){this.g=t,this.map=e}};function vT(t){this.l=t||sL,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sL=10;function yT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function xT(t){return t.h?1:t.g?t.g.size:0}function Zm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function iy(t,e){t.g?t.g.add(e):t.h=e}function wT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vT.prototype.cancel=function(){if(this.i=bT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Wv(t.i)}var iL=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function aL(){this.g=new iL}function oL(t,e,n){const r=n||"";try{hT(t,function(s,i){let o=s;jc(s)&&(o=Jv(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function lL(t,e){const n=new Oh;if(fe.Image){const r=new Image;r.onload=du(fu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=du(fu,n,r,"TestLoadImage: error",!1,e),r.onabort=du(fu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=du(fu,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function $h(t){this.l=t.ec||null,this.j=t.ob||!1}At($h,ny);$h.prototype.g=function(){return new Bh(this.l,this.j)};$h.prototype.i=function(t){return function(){return t}}({});function Bh(t,e){It.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ay,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(Bh,It);var ay=0;X=Bh.prototype;X.open=function(t,e){if(this.readyState!=ay)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rc(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cc(this)),this.readyState=ay};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rc(this)),this.g&&(this.readyState=3,rc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_T(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _T(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cc(this):rc(this),this.readyState==3&&_T(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,Cc(this))};X.Ya=function(t){this.g&&(this.response=t,Cc(this))};X.ka=function(){this.g&&Cc(this)};function Cc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rc(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function rc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var cL=fe.JSON.parse;function lt(t){It.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ET,this.L=this.M=!1}At(lt,It);var ET="",uL=/^https?$/i,dL=["POST","PUT"];X=lt.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ym.g(),this.C=this.u?mb(this.u):mb(Ym),this.g.onreadystatechange=Qt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){yb(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=fe.FormData&&t instanceof fe.FormData,!(0<=FS(dL,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TT(this),0<this.B&&((this.L=hL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.ua,this)):this.A=ty(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){yb(this,i)}};function hL(t){return io&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof Hv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))};function yb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jT(t),zh(t)}function jT(t){t.F||(t.F=!0,Mt(t,"complete"),Mt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),zh(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zh(this,!0)),lt.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?ST(this):this.kb())};X.kb=function(){ST(this)};function ST(t){if(t.h&&typeof Hv<"u"&&(!t.C[1]||_r(t)!=4||t.da()!=2)){if(t.v&&_r(t)==4)ty(t.La,0,t);else if(Mt(t,"readystatechange"),_r(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(fT)[1]||null;!s&&fe.self&&fe.self.location&&(s=fe.self.location.protocol.slice(0,-1)),r=!uL.test(s?s.toLowerCase():"")}n=r}if(n)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var i=2<_r(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",jT(t)}}finally{zh(t)}}}}function zh(t,e){if(t.g){TT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function TT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function _r(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),cL(e)}};function xb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ET:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function fL(t){const e={};t=(t.g&&2<=_r(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ql(t[r]))continue;var n=VO(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}PO(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function NT(t){let e="";return Gv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function oy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=NT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ze(t,e,n))}function Uo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IT(t){this.Ga=0,this.j=[],this.l=new Oh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uo("baseRetryDelayMs",5e3,t),this.hb=Uo("retryDelaySeedMs",1e4,t),this.eb=Uo("forwardChannelMaxRetries",2,t),this.xa=Uo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vT(t&&t.concurrentRequestLimit),this.Ja=new aL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=IT.prototype;X.ra=8;X.H=1;function ly(t){if(AT(t),t.H==3){var e=t.W++,n=is(t.I);if(ze(n,"SID",t.K),ze(n,"RID",e),ze(n,"TYPE","terminate"),Pc(t,n),e=new Ic(t,t.l,e),e.L=2,e.A=Uh(is(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.A,n=!0),n||(e.g=MT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ac(e)}OT(t)}function Hh(t){t.g&&(uy(t),t.g.cancel(),t.g=null)}function AT(t){Hh(t),t.u&&(fe.clearTimeout(t.u),t.u=null),Cd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function Wh(t){if(!yT(t.i)&&!t.m){t.m=!0;var e=t.Na;Jl||XS(),Zl||(Jl(),Zl=!0),Zv.add(e,t),t.C=0}}function pL(t,e){return xT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Tc(Qt(t.Na,t,e),DT(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Ic(this,this.l,t);let i=this.s;if(this.U&&(i?(i=zS(i),HS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=CT(this,s,e),n=is(this.I),ze(n,"RID",t),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),Pc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(NT(i)))+"&"+e:this.o&&oy(n,this.o,i)),iy(this.i,s),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",e),ze(n,"SID","null"),s.aa=!0,Xm(s,n,null)):Xm(s,n,e),this.H=2}}else this.H==3&&(t?wb(this,t):this.j.length==0||yT(this.i)||wb(this))};function wb(t,e){var n;e?n=e.m:n=t.W++;const r=is(t.I);ze(r,"SID",t.K),ze(r,"RID",n),ze(r,"AID",t.V),Pc(t,r),t.o&&t.s&&oy(r,t.o,t.s),n=new Ic(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=CT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),iy(t.i,n),Xm(n,r,e)}function Pc(t,e){t.na&&Gv(t.na,function(n,r){ze(e,r,n)}),t.h&&hT({},function(n,r){ze(e,r,n)})}function CT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Qt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let u=s[c].g;const d=s[c].map;if(u-=i,0>u)i=Math.max(0,s[c].g-100),l=!1;else try{oL(d,o,"req"+u+"_")}catch{r&&r(d)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function PT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Jl||XS(),Zl||(Jl(),Zl=!0),Zv.add(e,t),t.A=0}}function cy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Tc(Qt(t.Ma,t),DT(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,kT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Tc(Qt(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),Hh(this),kT(this))};function uy(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function kT(t){t.g=new Ic(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=is(t.wa);ze(e,"RID","rpc"),ze(e,"SID",t.K),ze(e,"AID",t.V),ze(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ze(e,"TO",t.qa),ze(e,"TYPE","xmlhttp"),Pc(t,e),t.o&&t.s&&oy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Uh(is(e)),n.u=null,n.S=!0,lT(n,t)}X.ib=function(){this.v!=null&&(this.v=null,Hh(this),cy(this),an(19))};function Cd(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function RT(t,e){var n=null;if(t.g==e){Cd(t),uy(t),t.g=null;var r=2}else if(Zm(t.i,e))n=e.F,wT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Lh(),Mt(r,new rT(r,n)),Wh(t)}else PT(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&pL(t,e)||r==2&&cy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ei(t,5);break;case 4:Ei(t,10);break;case 3:Ei(t,6);break;default:Ei(t,2)}}}function DT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ei(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Qt(t.pb,t);n||(n=new Ci("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||Id(n,"https"),Uh(n)),lL(n.toString(),r)}else an(2);t.H=0,t.h&&t.h.za(e),OT(t),AT(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))};function OT(t){if(t.H=0,t.ma=[],t.h){const e=bT(t.i);(e.length!=0||t.j.length!=0)&&(ub(t.ma,e),ub(t.ma,t.j),t.i.i.length=0,Wv(t.j),t.j.length=0),t.h.ya()}}function LT(t,e,n){var r=n instanceof Ci?is(n):new Ci(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ad(r,r.m);else{var s=fe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ci(null);r&&Id(i,r),e&&(i.g=e),s&&Ad(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&ze(r,n,e),ze(r,"VER",t.ra),Pc(t,r),r}function MT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new lt(new $h({ob:n})):new lt(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function VT(){}X=VT.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function Pd(){if(io&&!(10<=Number(NO)))throw Error("Environmental error: no available transport.")}Pd.prototype.g=function(t,e){return new Dn(t,e)};function Dn(t,e){It.call(this),this.g=new IT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ql(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ql(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Eo(this)}At(Dn,It);Dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=LT(t,null,t.Y),Wh(t)};Dn.prototype.close=function(){ly(this.g)};Dn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Jv(t),t=n);e.j.push(new rL(e.fb++,t)),e.H==3&&Wh(e)};Dn.prototype.N=function(){this.g.h=null,delete this.j,ly(this.g),delete this.g,Dn.$.N.call(this)};function FT(t){ry.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(FT,ry);function UT(){sy.call(this),this.status=1}At(UT,sy);function Eo(t){this.g=t}At(Eo,VT);Eo.prototype.Ba=function(){Mt(this.g,"a")};Eo.prototype.Aa=function(t){Mt(this.g,new FT(t))};Eo.prototype.za=function(t){Mt(this.g,new UT)};Eo.prototype.ya=function(){Mt(this.g,"b")};function mL(){this.blockSize=-1}function pr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}At(pr,mL);pr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ap(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}pr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)ap(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){ap(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){ap(this,r),s=0;break}}this.h=s,this.i+=e};pr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function De(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var gL={};function dy(t){return-128<=t&&128>t?jO(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function Er(t){if(isNaN(t)||!isFinite(t))return $a;if(0>t)return Dt(Er(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=eg;return new De(e,0)}function $T(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Dt($T(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Er(Math.pow(e,8)),r=$a,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Er(Math.pow(e,i)),r=r.R(i).add(Er(o))):(r=r.R(n),r=r.add(Er(o)))}return r}var eg=4294967296,$a=dy(0),tg=dy(1),bb=dy(16777216);X=De.prototype;X.ea=function(){if(Wn(this))return-Dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:eg+r)*e,e*=eg}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Kr(this))return"0";if(Wn(this))return"-"+Dt(this).toString(t);for(var e=Er(Math.pow(t,6)),n=this,r="";;){var s=Rd(n,e).g;n=kd(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Kr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Kr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wn(t){return t.h==-1}X.X=function(t){return t=kd(this,t),Wn(t)?-1:Kr(t)?0:1};function Dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new De(n,~t.h).add(tg)}X.abs=function(){return Wn(this)?Dt(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new De(n,n[n.length-1]&-2147483648?-1:0)};function kd(t,e){return t.add(Dt(e))}X.R=function(t){if(Kr(this)||Kr(t))return $a;if(Wn(this))return Wn(t)?Dt(this).R(Dt(t)):Dt(Dt(this).R(t));if(Wn(t))return Dt(this.R(Dt(t)));if(0>this.X(bb)&&0>t.X(bb))return Er(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,pu(n,2*r+2*s),n[2*r+2*s+1]+=i*c,pu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*l,pu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,pu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new De(n,0)};function pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $o(t,e){this.g=t,this.h=e}function Rd(t,e){if(Kr(e))throw Error("division by zero");if(Kr(t))return new $o($a,$a);if(Wn(t))return e=Rd(Dt(t),e),new $o(Dt(e.g),Dt(e.h));if(Wn(e))return e=Rd(t,Dt(e)),new $o(Dt(e.g),e.h);if(30<t.g.length){if(Wn(t)||Wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tg,r=e;0>=r.X(t);)n=_b(n),r=_b(r);var s=fa(n,1),i=fa(r,1);for(r=fa(r,2),n=fa(n,2);!Kr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=fa(r,1),n=fa(n,1)}return e=kd(t,s.R(e)),new $o(s,e)}for(s=$a;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Er(n),o=i.R(e);Wn(o)||0<o.X(t);)n-=r,i=Er(n),o=i.R(e);Kr(i)&&(i=tg),s=s.add(i),t=kd(t,o)}return new $o(s,t)}X.gb=function(t){return Rd(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new De(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new De(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new De(n,this.h^t.h)};function _b(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new De(n,t.h)}function fa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new De(s,t.h)}Pd.prototype.createWebChannel=Pd.prototype.g;Dn.prototype.send=Dn.prototype.u;Dn.prototype.open=Dn.prototype.m;Dn.prototype.close=Dn.prototype.close;Mh.NO_ERROR=0;Mh.TIMEOUT=8;Mh.HTTP_ERROR=6;sT.COMPLETE="complete";iT.EventType=Nc;Nc.OPEN="a";Nc.CLOSE="b";Nc.ERROR="c";Nc.MESSAGE="d";It.prototype.listen=It.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;pr.prototype.digest=pr.prototype.l;pr.prototype.reset=pr.prototype.reset;pr.prototype.update=pr.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=Er;De.fromString=$T;var vL=function(){return new Pd},yL=function(){return Lh()},op=Mh,xL=sT,wL=sa,Eb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mu=iT,bL=lt,_L=pr,Ba=De;const jb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Ih("@firebase/firestore");function Bo(){return $i.logLevel}function Q(t,...e){if($i.logLevel<=_e.DEBUG){const n=e.map(hy);$i.debug(`Firestore (${jo}): ${t}`,...n)}}function Or(t,...e){if($i.logLevel<=_e.ERROR){const n=e.map(hy);$i.error(`Firestore (${jo}): ${t}`,...n)}}function ao(t,...e){if($i.logLevel<=_e.WARN){const n=e.map(hy);$i.warn(`Firestore (${jo}): ${t}`,...n)}}function hy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function Fe(t,e){t||he()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}}class jL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SL{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ir,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new BT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new qt(e)}}class TL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new IL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=CL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function oo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new wt(0,0))}static max(){return new pe(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends sc{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const PL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends sc{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return PL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(He.fromString(e))}static fromName(e){return new ae(He.fromString(e).popFirst(5))}static empty(){return new ae(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new He(e.slice()))}}function kL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Xs(s,ae.empty(),e)}function RL(t){return new Xs(t.readTime,t.key,-1)}class Xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xs(pe.min(),ae.empty(),-1)}static max(){return new Xs(pe.max(),ae.empty(),-1)}}function DL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==OL)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ir,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new xl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=py(r.target.error);this.V.reject(new xl(e,s))}}static open(e,n,r,s){try{return new fy(n,e.transaction(s,r))}catch(i){throw new xl(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new VL(n)}}class ji{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ji.S(vt())===12.2&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),vi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Bv())return!1;if(ji.C())return!0;const e=vt(),n=ji.S(e),r=0<n&&n<10,s=ji.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new xl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new te($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new xl(e,o))},s.onupgradeneeded=i=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=fy.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(u=>(l.g(),u)).catch(u=>(l.abort(u),B.reject(u))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ML{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return vi(this.k.delete())}}class xl extends te{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Rc(t){return t.name==="IndexedDbTransactionError"}class VL{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vi(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),vi(this.store.add(e))}get(e){return vi(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),vi(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),vi(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new B((o,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(l,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new B((r,s)=>{n.onerror=i=>{const o=py(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new B((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new ML(l),u=n(l.primaryKey,l.value,c);if(u instanceof B){const d=u.catch(h=>(c.done(),B.reject(h)));r.push(d)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function vi(t){return new B((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=py(r.target.error);n(s)}})}let Sb=!1;function py(t){const e=ji.S(vt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Sb||(Sb=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}my._e=-1;function qh(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function FL(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gu(this.root,e,this.comparator,!0)}}class gu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(e){return new Nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new In([])}unionWith(e){let n=new Vt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new WT("Invalid base64 string: "+i):i}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const UL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=UL.exec(t);if(Fe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vy(t){const e=t.mapValue.fields.__previous_value__;return gy(e)?vy(e):e}function ic(t){const e=Js(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class ac{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gy(t)?4:BL(t)?9007199254740991:10:he()}function Lr(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Js(s.timestampValue),l=Js(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bi(s.bytesValue).isEqual(Bi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),l=ht(i.doubleValue);return o===l?Dd(o)===Dd(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Tb(o)!==Tb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Lr(o[c],l[c])))return!1;return!0}(t,e);default:return he()}}function oc(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function lo(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=ht(i.integerValue||i.doubleValue),c=ht(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Ib(t.timestampValue,e.timestampValue);case 4:return Ib(ic(t),ic(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Bi(i),c=Bi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ae(l[u],c[u]);if(d!==0)return d}return Ae(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ae(ht(i.latitude),ht(o.latitude));return l!==0?l:Ae(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],c=o.values||[];for(let u=0;u<l.length&&u<c.length;++u){const d=lo(l[u],c[u]);if(d)return d}return Ae(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===vu.mapValue&&o===vu.mapValue)return 0;if(i===vu.mapValue)return 1;if(o===vu.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=Ae(c[h],d[h]);if(f!==0)return f;const p=lo(l[c[h]],u[d[h]]);if(p!==0)return p}return Ae(c.length,d.length)}(t.mapValue,e.mapValue);default:throw he()}}function Ib(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=Js(t),r=Js(e),s=Ae(n.seconds,r.seconds);return s!==0?s:Ae(n.nanos,r.nanos)}function co(t){return ng(t)}function ng(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ng(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ng(n.fields[o])}`;return s+"}"}(t.mapValue):he()}function Ab(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rg(t){return!!t&&"integerValue"in t}function yy(t){return!!t&&"arrayValue"in t}function Cb(t){return!!t&&"nullValue"in t}function Pb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uu(t){return!!t&&"mapValue"in t}function wl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=wl(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Uu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ia(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new vn(wl(this.value))}}function qT(t){const e=[];return ia(t.fields,(n,r)=>{const s=new Ot([n]);if(Uu(r)){const i=qT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Kt(e,0,pe.min(),pe.min(),pe.min(),vn.empty(),0)}static newFoundDocument(e,n,r,s){return new Kt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Kt(e,2,n,pe.min(),pe.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,pe.min(),pe.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.position=e,this.inclusive=n}}function kb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=lo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Rb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function zL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class pt extends GT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WL(e,n,r):n==="array-contains"?new KL(e,r):n==="in"?new YL(e,r):n==="not-in"?new QL(e,r):n==="array-contains-any"?new XL(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qL(e,r):new GL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lo(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends GT{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new mr(e,n)}matches(e){return KT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function KT(t){return t.op==="and"}function YT(t){return HL(t)&&KT(t)}function HL(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function sg(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+co(t.value);if(YT(t))return t.filters.map(e=>sg(e)).join(",");{const e=t.filters.map(n=>sg(n)).join(",");return`${t.op}(${e})`}}function QT(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&Lr(r.value,s.value)}(t,e):t instanceof mr?function(r,s){return s instanceof mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&QT(o,s.filters[l]),!0):!1}(t,e):void he()}function XT(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(t):"Filter"}class WL extends pt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class qL extends pt{constructor(e,n){super(e,"in",n),this.keys=JT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GL extends pt{constructor(e,n){super(e,"not-in",n),this.keys=JT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class KL extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yy(n)&&oc(n.arrayValue,this.value)}}class YL extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class QL extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}}class XL extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ce=null}}function Db(t,e=null,n=[],r=[],s=null,i=null,o=null){return new JL(t,e,n,r,s,i,o)}function xy(t){const e=ve(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ce=n}return e.ce}function wy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rb(t.startAt,e.startAt)&&Rb(t.endAt,e.endAt)}function ig(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ZL(t,e,n,r,s,i,o,l){return new Dc(t,e,n,r,s,i,o,l)}function by(t){return new Dc(t)}function Ob(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZT(t){return t.collectionGroup!==null}function bl(t){const e=ve(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Vt(Ot.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Ld(i,r))}),n.has(Ot.keyField().canonicalString())||e.le.push(new Ld(Ot.keyField(),r))}return e.le}function Ar(t){const e=ve(t);return e.he||(e.he=eM(e,bl(t))),e.he}function eM(t,e){if(t.limitType==="F")return Db(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ld(s.field,i)});const n=t.endAt?new Od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Od(t.startAt.position,t.startAt.inclusive):null;return Db(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ag(t,e){const n=t.filters.concat([e]);return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function og(t,e,n){return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return wy(Ar(t),Ar(e))&&t.limitType===e.limitType}function eN(t){return`${xy(Ar(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XT(s)).join(", ")}]`),qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>co(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>co(s)).join(",")),`Target(${r})`}(Ar(t))}; limitType=${t.limitType})`}function Kh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=kb(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,bl(r),s)||r.endAt&&!function(o,l,c){const u=kb(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,bl(r),s))}(t,e)}function tM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tN(t){return(e,n)=>{let r=!1;for(const s of bl(t)){const i=nM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function nM(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?lo(c,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return HT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new it(ae.comparator);function as(){return rM}const nN=new it(ae.comparator);function il(...t){let e=nN;for(const n of t)e=e.insert(n.key,n);return e}function rN(t){let e=nN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return _l()}function sN(){return _l()}function _l(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}const sM=new it(ae.comparator),iM=new Vt(ae.comparator);function we(...t){let e=iM;for(const n of t)e=e.add(n);return e}const aM=new Vt(Ae);function oM(){return aM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function aN(t){return{integerValue:""+t}}function lM(t,e){return FL(e)?aN(e):iN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function cM(t,e,n){return t instanceof Md?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&gy(i)&&(i=vy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof uo?lN(t,e):t instanceof ho?cN(t,e):function(s,i){const o=oN(s,i),l=Lb(o)+Lb(s.Ie);return rg(o)&&rg(s.Ie)?aN(l):iN(s.serializer,l)}(t,e)}function uM(t,e,n){return t instanceof uo?lN(t,e):t instanceof ho?cN(t,e):n}function oN(t,e){return t instanceof Vd?function(r){return rg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Md extends Yh{}class uo extends Yh{constructor(e){super(),this.elements=e}}function lN(t,e){const n=uN(e);for(const r of t.elements)n.some(s=>Lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ho extends Yh{constructor(e){super(),this.elements=e}}function cN(t,e){let n=uN(e);for(const r of t.elements)n=n.filter(s=>!Lr(s,r));return{arrayValue:{values:n}}}class Vd extends Yh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Lb(t){return ht(t.integerValue||t.doubleValue)}function uN(t){return yy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.field=e,this.transform=n}}function dM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uo&&s instanceof uo||r instanceof ho&&s instanceof ho?oo(r.elements,s.elements,Lr):r instanceof Vd&&s instanceof Vd?Lr(r.Ie,s.Ie):r instanceof Md&&s instanceof Md}(t.transform,e.transform)}class hM{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qh{}function hN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _y(t.key,Kn.none()):new Oc(t.key,t.data,Kn.none());{const n=t.data,r=vn.empty();let s=new Vt(Ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ci(t.key,r,new In(s.toArray()),Kn.none())}}function fM(t,e,n){t instanceof Oc?function(s,i,o){const l=s.value.clone(),c=Vb(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(s,i,o){if(!$u(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Vb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(fN(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof Oc?function(i,o,l,c){if(!$u(i.precondition,o))return l;const u=i.value.clone(),d=Fb(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ci?function(i,o,l,c){if(!$u(i.precondition,o))return l;const u=Fb(i.fieldTransforms,c,o),d=o.data;return d.setAll(fN(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return $u(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function pM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=oN(r.transform,s||null);i!=null&&(n===null&&(n=vn.empty()),n.set(r.field,i))}return n||null}function Mb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oo(r,s,(i,o)=>dM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends Qh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ci extends Qh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Vb(t,e,n){const r=new Map;Fe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,uM(o,l,n[s]))}return r}function Fb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,cM(i,o,e))}return r}class _y extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mM extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=hN(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>Mb(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>Mb(n,r))}}class Ey{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Fe(e.mutations.length===r.length);let s=function(){return sM}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ey(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,je;function xM(t){switch(t){default:return he();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function pN(t){if(t===void 0)return Or("GRPC error has no .code"),$.UNKNOWN;switch(t){case dt.OK:return $.OK;case dt.CANCELLED:return $.CANCELLED;case dt.UNKNOWN:return $.UNKNOWN;case dt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case dt.INTERNAL:return $.INTERNAL;case dt.UNAVAILABLE:return $.UNAVAILABLE;case dt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case dt.NOT_FOUND:return $.NOT_FOUND;case dt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case dt.ABORTED:return $.ABORTED;case dt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case dt.DATA_LOSS:return $.DATA_LOSS;default:return he()}}(je=dt||(dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Ba([4294967295,4294967295],0);function Ub(t){const e=wM().encode(t),n=new _L;return n.update(e),new Uint8Array(n.digest())}function $b(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ba([n,r],0),new Ba([s,i],0)]}class jy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ba.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Ba.fromNumber(r)));return s.compare(bM)===1&&(s=new Ba([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ub(e),[r,s]=$b(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new jy(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=Ub(e),[r,s]=$b(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xh(pe.min(),s,new it(Ae),as(),we())}}class Lc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class mN{constructor(e,n){this.targetId=e,this.fe=n}}class gN{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Bb{constructor(){this.ge=0,this.pe=Hb(),this.ye=Zt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he()}}),new Lc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Hb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Fe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class _M{constructor(e){this.Le=e,this.ke=new Map,this.qe=as(),this.Qe=zb(),this.Ke=new it(Ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(ig(i))if(r===0){const o=new ae(i.path);this.We(n,o,Kt.newNoDocument(o,pe.min()))}else Fe(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Bi(r).toUint8Array()}catch(c){if(c instanceof WT)return ao("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new jy(o,s,i)}catch(c){return ao(c instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&ig(l.target)){const c=new ae(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Kt.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=we();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Xh(e,n,this.Ke,this.qe,r);return this.qe=as(),this.Qe=zb(),this.Ke=new it(Ae),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Bb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Vt(Ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Bb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function zb(){return new it(ae.comparator)}function Hb(){return new it(ae.comparator)}const EM={asc:"ASCENDING",desc:"DESCENDING"},jM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SM={and:"AND",or:"OR"};class TM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lg(t,e){return t.useProto3Json||qh(e)?e:{value:e}}function Fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NM(t,e){return Fd(t,e.toTimestamp())}function Cr(t){return Fe(!!t),pe.fromTimestamp(function(n){const r=Js(n);return new wt(r.seconds,r.nanos)}(t))}function Sy(t,e){return cg(t,e).canonicalString()}function cg(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yN(t){const e=He.fromString(t);return Fe(EN(e)),e}function ug(t,e){return Sy(t.databaseId,e.path)}function lp(t,e){const n=yN(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(wN(n))}function xN(t,e){return Sy(t.databaseId,e)}function IM(t){const e=yN(t);return e.length===4?He.emptyPath():wN(e)}function dg(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wN(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wb(t,e,n){return{name:ug(t,e),fields:n.value.mapValue.fields}}function AM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Fe(d===void 0||typeof d=="string"),Zt.fromBase64String(d||"")):(Fe(d===void 0||d instanceof Uint8Array),Zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?$.UNKNOWN:pN(u.code);return new te(d,u.message||"")}(o);n=new gN(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=lp(t,r.document.name),i=Cr(r.document.updateTime),o=r.document.createTime?Cr(r.document.createTime):pe.min(),l=new vn({mapValue:{fields:r.document.fields}}),c=Kt.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Bu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=lp(t,r.document),i=r.readTime?Cr(r.readTime):pe.min(),o=Kt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Bu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=lp(t,r.document),i=r.removedTargetIds||[];n=new Bu([],i,s,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new yM(s,i),l=r.targetId;n=new mN(l,o)}}return n}function CM(t,e){let n;if(e instanceof Oc)n={update:Wb(t,e.key,e.value)};else if(e instanceof _y)n={delete:ug(t,e.key)};else if(e instanceof ci)n={update:Wb(t,e.key,e.data),updateMask:FM(e.fieldMask)};else{if(!(e instanceof mM))return he();n={verify:ug(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Md)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof uo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ho)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Vd)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:NM(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function PM(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Cr(s.updateTime):Cr(i);return o.isEqual(pe.min())&&(o=Cr(i)),new hM(o,s.transformResults||[])}(n,e))):[]}function kM(t,e){return{documents:[xN(t,e.path)]}}function RM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xN(t,s);const i=function(u){if(u.length!==0)return _N(mr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:ya(f.field),direction:LM(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=lg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:s}}function DM(t){let e=IM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Fe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=bN(h);return f instanceof mr&&YT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Ld(xa(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,qh(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Od(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Od(p,f)}(n.endAt)),ZL(e,s,o,i,l,"F",c,u)}function OM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xa(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xa(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xa(n.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xa(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(xa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>bN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function LM(t){return EM[t]}function MM(t){return jM[t]}function VM(t){return SM[t]}function ya(t){return{fieldPath:t.canonicalString()}}function xa(t){return Ot.fromServerFormat(t.fieldPath)}function _N(t){return t instanceof pt?function(n){if(n.op==="=="){if(Pb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(Cb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(Cb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:MM(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(s=>_N(s));return r.length===1?r[0]:{compositeFilter:{op:VM(n.op),filters:r}}}(t):he()}function FM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r,s,i=pe.min(),o=pe.min(),l=Zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.ct=e}}function $M(t){const e=DM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this._n=new zM}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Xs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class zM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Vt(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Vt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new fo(0)}static Bn(){return new fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&El(r.mutation,s,In.empty(),wt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Si();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=il();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=as();const o=_l(),l=function(){return _l()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ci)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),El(d.mutation,u,d.mutation.getFieldMask(),wt.now())):o.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new WM(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=_l();let s=new it((o,l)=>o-l),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||In.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||we()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=sN();d.forEach(f=>{if(!i.has(f)){const p=hN(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Si());let l=-1,c=i;return o.next(u=>B.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,we())).next(d=>({batchId:l,changes:rN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=il();return this.indexManager.getCollectionParents(e,i).next(l=>B.forEach(l,c=>{const u=function(h,f){return new Dc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Kt.newInvalidDocument(d)))});let l=il();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&El(d.mutation,u,In.empty(),wt.now()),Kh(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Cr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:$M(s.bundledQuery),readTime:Cr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.overlays=new it(ae.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Si();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Si(),i=n.length+1,o=new ae(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new it((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Si(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Si(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return B.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vM(n,r));let i=this.hr.get(n);i===void 0&&(i=we(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.Pr=new Vt(jt.Ir),this.Tr=new Vt(jt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new jt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new He([])),r=new jt(n,e),s=new jt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new He([])),r=new jt(n,e),s=new jt(n,e+1);let i=we();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new jt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Vt(jt.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gM(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.wr=this.wr.add(new jt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),s=new jt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const l=this.Sr(o.pr);i.push(l)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Ae);return n.forEach(s=>{const i=new jt(s,0),o=new jt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],l=>{r=r.add(l.pr)})}),B.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new jt(new ae(i),0);let l=new Vt(Ae);return this.wr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.pr)),!0)},o),B.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Fe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return B.forEach(n.mutations,s=>{const i=new jt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new jt(n,0),s=this.wr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.vr=e,this.docs=function(){return new it(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=as();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Kt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=as();const o=n.path,l=new ae(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||DL(RL(d),r)<=0||(s.has(d.key)||Kh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he()}Fr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XM(this)}getSize(e){return B.resolve(this.size)}}class XM extends HM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.persistence=e,this.Mr=new So(n=>xy(n),wy),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ty,this.targetCount=0,this.Br=fo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.Lr={},this.overlays={},this.kr=new my(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new JM(this),this.indexManager=new BM,this.remoteDocumentCache=function(s){return new QM(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new UM(n),this.$r=new GM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new YM(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new eV(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return B.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class eV extends LL{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.zr=new Ty,this.jr=null}static Hr(e){return new Ny(e)}get Jr(){if(this.jr)return this.jr;throw he()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,r=>{const s=ae.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Iy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return eD()?8:ji.v(vt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new tV;return this.Ji(e,n,o).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Bo()<=_e.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(Bo()<=_e.DEBUG&&Q("QueryEngine","Query:",va(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Bo()<=_e.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):B.resolve())}ji(e,n){if(Ob(n))return B.resolve(null);let r=Ar(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=og(n,null,"F"),r=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Zi(n,l);return this.Xi(n,u,o,c.readTime)?this.ji(e,og(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,s){return Ob(n)||s.isEqual(pe.min())?B.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?B.resolve(null):(Bo()<=_e.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),va(n)),this.es(e,o,n,kL(s,-1)).next(l=>l))})}Zi(e,n){let r=new Vt(tN(e));return n.forEach((s,i)=>{Kh(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Bo()<=_e.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",va(n)),this.zi.getDocumentsMatchingQuery(e,n,Xs.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new it(Ae),this.rs=new So(i=>xy(i),wy),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function sV(t,e,n,r){return new rV(t,e,n,r)}async function jN(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=we();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:l}))})})}function iV(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let p=B.resolve();return f.forEach(g=>{p=p.next(()=>d.getEntry(c,g)).next(y=>{const b=u.docVersions.get(g);Fe(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=we();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function SN(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function aV(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Zt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(y,b,m){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,d)&&l.push(n.Qr.updateTargetData(i,p))});let c=as(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(oV(i,o,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(pe.min())){const d=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return B.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.ns=s,i))}function oV(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=as();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:s}})}function lV(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cV(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function hg(t,e,n){const r=ve(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Rc(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function qb(t,e,n){const r=ve(t);let s=pe.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=ve(c),f=h.rs.get(d);return f!==void 0?B.resolve(h.ns.get(f)):h.Qr.getTargetData(u,d)}(r,o,Ar(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:we())).next(l=>(uV(r,tM(e),l),{documents:l,hs:i})))}function uV(t,e,n){let r=t.ss.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class Gb{constructor(){this.activeTargetIds=oM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dV{constructor(){this.no=new Gb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Gb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu=null;function cp(){return yu===null?yu=function(){return 268435456+Math.round(2147483648*Math.random())}():yu++,"0x"+yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class mV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const l=cp(),c=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,o),this.Co(n,c,u,s).then(d=>(Q("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw ao("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}vo(n,r,s,i,o,l){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=fV[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=cp();return new Promise((o,l)=>{const c=new bL;c.setWithCredentials(!0),c.listenOnce(xL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case op.NO_ERROR:const d=c.getResponseJson();Q(Ht,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case op.TIMEOUT:Q(Ht,`RPC '${e}' ${i} timed out`),l(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case op.HTTP_ERROR:const h=c.getStatus();if(Q(Ht,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(b){const m=b.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(m)>=0?m:$.UNKNOWN}(p.status);l(new te(g,p.message))}else l(new te($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te($.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{Q(Ht,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Q(Ht,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=cp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vL(),l=yL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Q(Ht,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);let f=!1,p=!1;const g=new pV({lo:b=>{p?Q(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(Q(Ht,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Q(Ht,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},ho:()=>h.close()}),y=(b,m,x)=>{b.listen(m,v=>{try{x(v)}catch(E){setTimeout(()=>{throw E},0)}})};return y(h,mu.EventType.OPEN,()=>{p||Q(Ht,`RPC '${e}' stream ${s} transport opened.`)}),y(h,mu.EventType.CLOSE,()=>{p||(p=!0,Q(Ht,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),y(h,mu.EventType.ERROR,b=>{p||(p=!0,ao(Ht,`RPC '${e}' stream ${s} transport errored:`,b),g.Vo(new te($.UNAVAILABLE,"The operation could not be completed")))}),y(h,mu.EventType.MESSAGE,b=>{var m;if(!p){const x=b.data[0];Fe(!!x);const v=x,E=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(E){Q(Ht,`RPC '${e}' stream ${s} received error:`,E);const S=E.status;let j=function(_){const T=dt[_];if(T!==void 0)return pN(T)}(S),N=E.message;j===void 0&&(j=$.INTERNAL,N="Unknown error status: "+S+" with message "+E.message),p=!0,g.Vo(new te(j,N)),h.close()}else Q(Ht,`RPC '${e}' stream ${s} received:`,x),g.mo(x)}}),y(l,wL.STAT_EVENT,b=>{b.stat===Eb.PROXY?Q(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Eb.NOPROXY&&Q(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){return new TM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r,s,i,o,l,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new TN(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gV extends NN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=AM(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Cr(o.readTime):pe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=dg(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=ig(c)?{documents:kM(i,c)}:{query:RM(i,c).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=vN(i,o.resumeToken);const u=lg(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){l.readTime=Fd(i,o.snapshotVersion.toTimestamp());const u=lg(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=OM(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=dg(this.serializer),n.removeTarget=e,this.t_(n)}}class vV extends NN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=PM(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.T_(r,n)}return Fe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=dg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,cg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te($.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,cg(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te($.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class xV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Or(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{aa(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=ve(c);u.v_.add(4),await Mc(u),u.x_.set("Unknown"),u.v_.delete(4),await Zh(u)}(this))})}),this.x_=new xV(r,s)}}async function Zh(t){if(aa(t))for(const e of t.F_)await e(!0)}async function Mc(t){for(const e of t.F_)await e(!1)}function IN(t,e){const n=ve(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Py(n)?Cy(n):To(n).Jo()&&Ay(n,e))}function AN(t,e){const n=ve(t),r=To(n);n.C_.delete(e),r.Jo()&&CN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():aa(n)&&n.x_.set("Unknown"))}function Ay(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).c_(e)}function CN(t,e){t.O_.Oe(e),To(t).l_(e)}function Cy(t){t.O_=new _M({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.x_.p_()}function Py(t){return aa(t)&&!To(t).Ho()&&t.C_.size>0}function aa(t){return ve(t).v_.size===0}function PN(t){t.O_=void 0}async function bV(t){t.C_.forEach((e,n)=>{Ay(t,e)})}async function _V(t,e){PN(t),Py(t)?(t.x_.S_(e),Cy(t)):t.x_.set("Unknown")}async function EV(t,e,n){if(t.x_.set("Online"),e instanceof gN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ud(t,r)}else if(e instanceof Bu?t.O_.$e(e):e instanceof mN?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(pe.min()))try{const r=await SN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.O_.it(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.C_.get(u);d&&i.C_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.C_.get(c);if(!d)return;i.C_.set(c,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),CN(i,c);const h=new Ps(d.target,c,u,d.sequenceNumber);Ay(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Ud(t,r)}}async function Ud(t,e,n){if(!Rc(e))throw e;t.v_.add(1),await Mc(t),t.x_.set("Offline"),n||(n=()=>SN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Zh(t)})}function kN(t,e){return e().catch(n=>Ud(t,n,e))}async function ef(t){const e=ve(t),n=Zs(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;jV(e);)try{const s=await lV(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,SV(e,s)}catch(s){await Ud(e,s)}RN(e)&&DN(e)}function jV(t){return aa(t)&&t.D_.length<10}function SV(t,e){t.D_.push(e);const n=Zs(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function RN(t){return aa(t)&&!Zs(t).Ho()&&t.D_.length>0}function DN(t){Zs(t).start()}async function TV(t){Zs(t).d_()}async function NV(t){const e=Zs(t);for(const n of t.D_)e.I_(n.mutations)}async function IV(t,e,n){const r=t.D_.shift(),s=Ey.from(r,e,n);await kN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ef(t)}async function AV(t,e){e&&Zs(t).P_&&await async function(r,s){if(function(o){return xM(o)&&o!==$.ABORTED}(s.code)){const i=r.D_.shift();Zs(r).Zo(),await kN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ef(r)}}(t,e),RN(t)&&DN(t)}async function Yb(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=aa(n);n.v_.add(3),await Mc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Zh(n)}async function CV(t,e){const n=ve(t);e?(n.v_.delete(2),await Zh(n)):e||(n.v_.add(2),await Mc(n),n.x_.set("Unknown"))}function To(t){return t.N_||(t.N_=function(n,r,s){const i=ve(n);return i.R_(),new gV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:bV.bind(null,t),To:_V.bind(null,t),u_:EV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Py(t)?Cy(t):t.x_.set("Unknown")):(await t.N_.stop(),PN(t))})),t.N_}function Zs(t){return t.B_||(t.B_=function(n,r,s){const i=ve(n);return i.R_(),new vV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:TV.bind(null,t),To:AV.bind(null,t),E_:NV.bind(null,t),T_:IV.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await ef(t)):(await t.B_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new ky(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(t,e){if(Or("AsyncQueue",`${e}: ${t}`),Rc(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=il(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new za(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.L_=new it(ae.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):he():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class po{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new po(e,n,za.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.q_=void 0,this.Q_=[]}}class kV{constructor(){this.queries=new So(e=>eN(e),Gh),this.onlineState="Unknown",this.K_=new Set}}async function ON(t,e){const n=ve(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new PV),s)try{i.q_=await n.onListen(r)}catch(o){const l=Ry(o,`Initialization of query '${va(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&Dy(n)}async function LN(t,e){const n=ve(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function RV(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Q_)l.W_(s)&&(r=!0);o.q_=s}}r&&Dy(n)}function DV(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function Dy(t){t.K_.forEach(e=>{e.next()})}class MN{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.key=e}}class FN{constructor(e){this.key=e}}class OV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=we(),this.mutatedKeys=we(),this.ua=tN(e),this.ca=new za(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Qb,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=Kh(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),b=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(c||u)&&(l=!0)),b&&(p?(o=o.add(p),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ca:o,Pa:r,Xi:l,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((d,h)=>function(p,g){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return y(p)-y(g)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(r),s=s!=null&&s;const l=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new po(this.query,e.ca,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Qb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=we(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new FN(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new VN(r))}),n}Ra(e){this.oa=e.hs,this.aa=we();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return po.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class LV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MV{constructor(e){this.key=e,this.ma=!1}}class VV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new So(l=>eN(l),Gh),this.pa=new Map,this.ya=new Set,this.wa=new it(ae.comparator),this.Sa=new Map,this.ba=new Ty,this.Da={},this.Ca=new Map,this.va=fo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function FV(t,e){const n=YV(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await cV(n.localStore,Ar(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await UV(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&IN(n.remoteStore,o)}return s}async function UV(t,e,n,r,s){t.Ma=(h,f,p)=>async function(y,b,m,x){let v=b.view.ha(m);v.Xi&&(v=await qb(y.localStore,b.query,!1).then(({documents:N})=>b.view.ha(N,v)));const E=x&&x.targetChanges.get(b.targetId),S=x&&x.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(v,y.isPrimaryClient,E,S);return Jb(y,b.targetId,j.da),j.snapshot}(t,h,f,p);const i=await qb(t.localStore,e,!0),o=new OV(e,i.hs),l=o.ha(i.documents),c=Lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);Jb(t,n,u.da);const d=new LV(e,n,o);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function $V(t,e){const n=ve(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!Gh(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await hg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),AN(n.remoteStore,r.targetId),fg(n,r.targetId)}).catch(kc)):(fg(n,r.targetId),await hg(n.localStore,r.targetId,!0))}async function BV(t,e,n){const r=QV(t);try{const s=await function(o,l){const c=ve(o),u=wt.now(),d=l.reduce((p,g)=>p.add(g.key),we());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=as(),y=we();return c.os.getEntries(p,d).next(b=>{g=b,g.forEach((m,x)=>{x.isValidDocument()||(y=y.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(b=>{h=b;const m=[];for(const x of l){const v=pM(x,h.get(x.key).overlayedDocument);v!=null&&m.push(new ci(x.key,v,qT(v.value.mapValue),Kn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,m,l)}).next(b=>{f=b;const m=b.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(p,b.batchId,m)})}).then(()=>({batchId:f.batchId,changes:rN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Da[o.currentUser.toKey()];u||(u=new it(Ae)),u=u.insert(l,c),o.Da[o.currentUser.toKey()]=u}(r,s.batchId,n),await Vc(r,s.changes),await ef(r.remoteStore)}catch(s){const i=Ry(s,"Failed to persist write");n.reject(i)}}async function UN(t,e){const n=ve(t);try{const r=await aV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(Fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?Fe(o.ma):s.removedDocuments.size>0&&(Fe(o.ma),o.ma=!1))}),await Vc(n,r,e)}catch(r){await kc(r)}}function Xb(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const l=o.view.U_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=ve(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Q_)f.U_(l)&&(u=!0)}),u&&Dy(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zV(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let o=new it(ae.comparator);o=o.insert(i,Kt.newNoDocument(i,pe.min()));const l=we().add(i),c=new Xh(pe.min(),new Map,new it(Ae),o,l);await UN(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),Oy(r)}else await hg(r.localStore,e,!1).then(()=>fg(r,e,n)).catch(kc)}async function HV(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await iV(n.localStore,e);BN(n,r,null),$N(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,s)}catch(s){await kc(s)}}async function WV(t,e,n){const r=ve(t);try{const s=await function(o,l){const c=ve(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Fe(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);BN(r,e,n),$N(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vc(r,s)}catch(s){await kc(s)}}function $N(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function BN(t,e,n){const r=ve(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function fg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||zN(t,r)})}function zN(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(AN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Oy(t))}function Jb(t,e,n){for(const r of n)r instanceof VN?(t.ba.addReference(r.key,e),qV(t,r)):r instanceof FN?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||zN(t,r.key)):he()}function qV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ya.add(r),Oy(t))}function Oy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ae(He.fromString(e)),r=t.va.next();t.Sa.set(r,new MV(n)),t.wa=t.wa.insert(n,r),IN(t.remoteStore,new Ps(Ar(by(n.path)),r,"TargetPurposeLimboResolution",my._e))}}async function Vc(t,e,n){const r=ve(t),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=Iy.Ki(c.targetId,u);i.push(d)}}))}),await Promise.all(o),r.fa.u_(s),await async function(c,u){const d=ve(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,f=>B.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>B.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Rc(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);d.ns=d.ns.insert(f,y)}}}(r.localStore,i))}async function GV(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await jN(n.localStore,e);n.currentUser=e,function(i,o){i.Ca.forEach(l=>{l.forEach(c=>{c.reject(new te($.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vc(n,r.us)}}function KV(t,e){const n=ve(t),r=n.Sa.get(e);if(r&&r.ma)return we().add(r.key);{let s=we();const i=n.pa.get(e);if(!i)return s;for(const o of i){const l=n.ga.get(o);s=s.unionWith(l.view.la)}return s}}function YV(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zV.bind(null,e),e.fa.u_=RV.bind(null,e.eventManager),e.fa.xa=DV.bind(null,e.eventManager),e}function QV(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WV.bind(null,e),e}class Zb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sV(this.persistence,new nV,e.initialUser,this.serializer)}createPersistence(e){return new ZM(Ny.Hr,this.serializer)}createSharedClientState(e){return new dV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GV.bind(null,this.syncEngine),await CV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kV}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),r=function(i){return new mV(i)}(e.databaseInfo);return function(i,o,l,c){return new yV(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new wV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Xb(this.syncEngine,n,0),function(){return Kb.D()?new Kb:new hV}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const h=new VV(s,i,o,l,c,u);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=ve(r);Q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Mc(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=qt.UNAUTHENTICATED,this.clientId=zT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function e0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e2(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Yb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Yb(e.remoteStore,s)),t._onlineComponents=e}function ZV(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function e2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ZV(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await dp(t,new Zb)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await dp(t,new Zb);return t._offlineComponents}async function WN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await e0(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await e0(t,new XV))),t._onlineComponents}function t2(t){return WN(t).then(e=>e.syncEngine)}async function qN(t){const e=await WN(t),n=e.eventManager;return n.onListen=FV.bind(null,e.syncEngine),n.onUnlisten=$V.bind(null,e.syncEngine),n}function n2(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new HN({next:f=>{o.enqueueAndForget(()=>LN(i,h));const p=f.docs.has(l);!p&&f.fromCache?u.reject(new te($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new te($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new MN(by(l.path),d,{includeMetadataChanges:!0,Z_:!0});return ON(i,h)}(await qN(t),t.asyncQueue,e,n,r)),r.promise}function r2(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new HN({next:f=>{o.enqueueAndForget(()=>LN(i,h)),f.fromCache&&c.source==="server"?u.reject(new te($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new MN(l,d,{includeMetadataChanges:!0,Z_:!0});return ON(i,h)}(await qN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s2(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function n0(t){if(!ae.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function r0(t){if(ae.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EL;switch(r.type){case"firstParty":return new NL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=t0.get(n);r&&(Q("ComponentProvider","Removing Datastore"),t0.delete(n),r.terminate())}(this),Promise.resolve()}}function i2(t,e,n,r={}){var s;const i=(t=gr(t,nf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=qt.MOCK_USER;else{l=CS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new qt(u)}t._authCredentials=new jL(new BT(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class qs extends No{constructor(e,n,r){super(e,n,by(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ae(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function ce(t,e,...n){if(t=Ue(t),KN("collection","path",e),t instanceof nf){const r=He.fromString(e,...n);return r0(r),new qs(t,null,r)}{if(!(t instanceof ln||t instanceof qs))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return r0(r),new qs(t.firestore,null,r)}}function $e(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=zT.newId()),KN("doc","path",e),t instanceof nf){const r=He.fromString(e,...n);return n0(r),new ln(t,null,new ae(r))}{if(!(t instanceof ln||t instanceof qs))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return n0(r),new ln(t.firestore,t instanceof qs?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new TN(this,"async_queue_retry"),this._u=()=>{const n=up();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=up();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ir;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Rc(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Or("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=ky.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&he()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class oa extends nf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new a2}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YN(this),this._firestoreClient.terminate()}}function o2(t,e){const n=typeof t=="object"?t:Ah(),r=typeof t=="string"?t:e||"(default)",s=ai(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=NS("firestore");i&&i2(s,...i)}return s}function Ly(t){return t._firestoreClient||YN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YN(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new $L(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GN(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new JV(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(Zt.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mo(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=/^__.*__$/;class c2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class QN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class sf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.mu(e),s}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.Eu(),s}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return $d(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(XN(this.du)&&l2.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class u2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jh(e)}Su(e,n,r,s=!1){return new sf({du:e,methodName:n,wu:r,path:Ot.emptyPath(),Vu:!1,yu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(t){const e=t._freezeSettings(),n=Jh(t._databaseId);return new u2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JN(t,e,n,r,s,i={}){const o=t.Su(i.merge||i.mergeFields?2:0,e,n,s);Uy("Data must be an object, but it was:",o,r);const l=e1(r,o);let c,u;if(i.merge)c=new In(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=pg(e,h,n);if(!o.contains(f))throw new te($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);n1(d,f)||d.push(f)}c=new In(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new c2(new vn(l),c,u)}class of extends Fc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function ZN(t,e,n){return new sf({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Vy extends Fc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=ZN(this,e,!0),r=this.bu.map(i=>la(i,n)),s=new uo(r);return new dN(e.path,s)}isEqual(e){return e instanceof Vy&&Fi(this.bu,e.bu)}}class Fy extends Fc{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=ZN(this,e,!0),r=this.bu.map(i=>la(i,n)),s=new ho(r);return new dN(e.path,s)}isEqual(e){return e instanceof Fy&&Fi(this.bu,e.bu)}}function d2(t,e,n,r){const s=t.Su(1,e,n);Uy("Data must be an object, but it was:",s,r);const i=[],o=vn.empty();ia(r,(c,u)=>{const d=$y(e,c,n);u=Ue(u);const h=s.fu(d);if(u instanceof of)i.push(d);else{const f=la(u,h);f!=null&&(i.push(d),o.set(d,f))}});const l=new In(i);return new QN(o,l,s.fieldTransforms)}function h2(t,e,n,r,s,i){const o=t.Su(1,e,n),l=[pg(e,r,n)],c=[s];if(i.length%2!=0)throw new te($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(pg(e,i[f])),c.push(i[f+1]);const u=[],d=vn.empty();for(let f=l.length-1;f>=0;--f)if(!n1(u,l[f])){const p=l[f];let g=c[f];g=Ue(g);const y=o.fu(p);if(g instanceof of)u.push(p);else{const b=la(g,y);b!=null&&(u.push(p),d.set(p,b))}}const h=new In(u);return new QN(d,h,o.fieldTransforms)}function f2(t,e,n,r=!1){return la(n,t.Su(r?4:3,e))}function la(t,e){if(t1(t=Ue(t)))return Uy("Unsupported field value:",e,t),e1(t,e);if(t instanceof Fc)return function(r,s){if(!XN(s.du))throw s.pu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.pu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=la(l,s.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=wt.fromDate(r);return{timestampValue:Fd(s.serializer,i)}}if(r instanceof wt){const i=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fd(s.serializer,i)}}if(r instanceof My)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mo)return{bytesValue:vN(s.serializer,r._byteString)};if(r instanceof ln){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.pu(`Unsupported field value: ${tf(r)}`)}(t,e)}function e1(t,e){const n={};return HT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,(r,s)=>{const i=la(s,e.Ru(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function t1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof My||t instanceof mo||t instanceof ln||t instanceof Fc)}function Uy(t,e,n){if(!t1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=tf(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function pg(t,e,n){if((e=Ue(e))instanceof rf)return e._internalPath;if(typeof e=="string")return $y(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const p2=new RegExp("[~\\*/\\[\\]]");function $y(t,e,n){if(e.search(p2)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new te($.INVALID_ARGUMENT,l+t+c)}function n1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(By("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m2 extends r1{data(){return super.data()}}function By(t,e){return typeof e=="string"?$y(t,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zy{}class v2 extends zy{}function Yr(t,e,...n){let r=[];e instanceof zy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Hy).length,l=i.filter(c=>c instanceof lf).length;if(o>1||o>0&&l>0)throw new te($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class lf extends v2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lf(e,n,r)}_apply(e){const n=this._parse(e);return s1(e._query,n),new No(e.firestore,e.converter,ag(e._query,n))}_parse(e){const n=af(e.firestore);return function(i,o,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new te($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){a0(h,d);const p=[];for(const g of h)p.push(i0(c,i,g));f={arrayValue:{values:p}}}else f=i0(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||a0(h,d),f=f2(l,o,h,d==="in"||d==="not-in");return pt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,n){const r=e,s=By("where",t);return lf._create(s,r,n)}class Hy extends zy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)s1(o,c),o=ag(o,c)}(e._query,n),new No(e.firestore,e.converter,ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function i0(t,e,n){if(typeof(n=Ue(n))=="string"){if(n==="")throw new te($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&n.indexOf("/")!==-1)throw new te($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!ae.isDocumentKey(r))throw new te($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ab(t,new ae(r))}if(n instanceof ln)return Ab(t,n._key);throw new te($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function a0(t,e){if(!Array.isArray(t)||t.length===0)throw new te($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s1(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class y2{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ia(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new My(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=Js(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Fe(EN(r));const s=new ac(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||Or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a1 extends r1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(By("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zu extends a1{data(e={}){return super.data(e)}}class x2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ol(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zu(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new zu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ol(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new zu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ol(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:w2(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function w2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t){t=gr(t,ln);const e=gr(t.firestore,oa);return n2(Ly(e),t._key).then(n=>_2(e,t,n))}class o1 extends y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function We(t){t=gr(t,No);const e=gr(t.firestore,oa),n=Ly(e),r=new o1(e);return g2(t._query),r2(n,t._query).then(s=>new x2(e,r,t,s))}function b2(t,e,n){t=gr(t,ln);const r=gr(t.firestore,oa),s=i1(t.converter,e,n);return cf(r,[JN(af(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Kn.none())])}function On(t,e,n,...r){t=gr(t,ln);const s=gr(t.firestore,oa),i=af(s);let o;return o=typeof(e=Ue(e))=="string"||e instanceof rf?h2(i,"updateDoc",t._key,e,n,r):d2(i,"updateDoc",t._key,e),cf(s,[o.toMutation(t._key,Kn.exists(!0))])}function dn(t){return cf(gr(t.firestore,oa),[new _y(t._key,Kn.none())])}function nt(t,e){const n=gr(t.firestore,oa),r=$e(t),s=i1(t.converter,e);return cf(n,[JN(af(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function cf(t,e){return function(r,s){const i=new Ir;return r.asyncQueue.enqueueAndForget(async()=>BV(await t2(r),s,i)),i.promise}(Ly(t),e)}function _2(t,e,n){const r=n.docs.get(e._key),s=new o1(t);return new a1(t,s,e._key,r,new ol(n.hasPendingWrites,n.fromCache),e.converter)}function E2(...t){return new Vy("arrayUnion",t)}function l1(...t){return new Fy("arrayRemove",t)}(function(e,n=!0){(function(s){jo=s})(ra),fr(new Xn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new oa(new SL(r.getProvider("auth-internal")),new AL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),_n(jb,"4.4.2",e),_n(jb,"4.4.2","esm2017")})();var j2="firebase",S2="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(j2,S2,"app");const c1="@firebase/installations",Wy="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=1e4,d1=`w:${Wy}`,h1="FIS_v2",T2="https://firebaseinstallations.googleapis.com/v1",N2=60*60*1e3,I2="installations",A2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hi=new na(I2,A2,C2);function f1(t){return t instanceof er&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1({projectId:t}){return`${T2}/projects/${t}/installations`}function m1(t){return{token:t.token,requestStatus:2,expiresIn:k2(t.expiresIn),creationTime:Date.now()}}async function g1(t,e){const r=(await e.json()).error;return Hi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function v1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P2(t,{refreshToken:e}){const n=v1(t);return n.append("Authorization",R2(e)),n}async function y1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function k2(t){return Number(t.replace("s","000"))}function R2(t){return`${h1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=p1(t),s=v1(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:h1,appId:t.appId,sdkVersion:d1},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await y1(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:m1(u.authToken)}}else throw await g1("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^[cdef][\w-]{21}$/,mg="";function M2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=V2(t);return L2.test(n)?n:mg}catch{return mg}}function V2(t){return O2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Map;function b1(t,e){const n=uf(t);_1(n,e),F2(n,e)}function _1(t,e){const n=w1.get(t);if(n)for(const r of n)r(e)}function F2(t,e){const n=U2();n&&n.postMessage({key:t,fid:e}),$2()}let Ti=null;function U2(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=t=>{_1(t.data.key,t.data.fid)}),Ti}function $2(){w1.size===0&&Ti&&(Ti.close(),Ti=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebase-installations-database",z2=1,Wi="firebase-installations-store";let hp=null;function qy(){return hp||(hp=OS(B2,z2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wi)}}})),hp}async function Bd(t,e){const n=uf(t),s=(await qy()).transaction(Wi,"readwrite"),i=s.objectStore(Wi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&b1(t,e.fid),e}async function E1(t){const e=uf(t),r=(await qy()).transaction(Wi,"readwrite");await r.objectStore(Wi).delete(e),await r.done}async function df(t,e){const n=uf(t),s=(await qy()).transaction(Wi,"readwrite"),i=s.objectStore(Wi),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&b1(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gy(t){let e;const n=await df(t.appConfig,r=>{const s=H2(r),i=W2(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===mg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function H2(t){const e=t||{fid:M2(),registrationStatus:0};return j1(e)}function W2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Hi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=q2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:G2(t)}:{installationEntry:e}}async function q2(t,e){try{const n=await D2(t,e);return Bd(t.appConfig,n)}catch(n){throw f1(n)&&n.customData.serverCode===409?await E1(t.appConfig):await Bd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function G2(t){let e=await o0(t.appConfig);for(;e.registrationStatus===1;)await x1(100),e=await o0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gy(t);return r||n}return e}function o0(t){return df(t,e=>{if(!e)throw Hi.create("installation-not-found");return j1(e)})}function j1(t){return K2(t)?{fid:t.fid,registrationStatus:0}:t}function K2(t){return t.registrationStatus===1&&t.registrationTime+u1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2({appConfig:t,heartbeatServiceProvider:e},n){const r=Q2(t,n),s=P2(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:d1,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await y1(()=>fetch(r,l));if(c.ok){const u=await c.json();return m1(u)}else throw await g1("Generate Auth Token",c)}function Q2(t,{fid:e}){return`${p1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ky(t,e=!1){let n;const r=await df(t.appConfig,i=>{if(!S1(i))throw Hi.create("not-registered");const o=i.authToken;if(!e&&Z2(o))return i;if(o.requestStatus===1)return n=X2(t,e),i;{if(!navigator.onLine)throw Hi.create("app-offline");const l=tF(i);return n=J2(t,l),l}});return n?await n:r.authToken}async function X2(t,e){let n=await l0(t.appConfig);for(;n.authToken.requestStatus===1;)await x1(100),n=await l0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ky(t,e):r}function l0(t){return df(t,e=>{if(!S1(e))throw Hi.create("not-registered");const n=e.authToken;return nF(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function J2(t,e){try{const n=await Y2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Bd(t.appConfig,r),n}catch(n){if(f1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await E1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Bd(t.appConfig,r)}throw n}}function S1(t){return t!==void 0&&t.registrationStatus===2}function Z2(t){return t.requestStatus===2&&!eF(t)}function eF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+N2}function tF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function nF(t){return t.requestStatus===1&&t.requestTime+u1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t){const e=t,{installationEntry:n,registrationPromise:r}=await Gy(e);return r?r.catch(console.error):Ky(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e=!1){const n=t;return await iF(n),(await Ky(n,e)).token}async function iF(t){const{registrationPromise:e}=await Gy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){if(!t||!t.options)throw fp("App Configuration");if(!t.name)throw fp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fp(t){return Hi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="installations",oF="installations-internal",lF=t=>{const e=t.getProvider("app").getImmediate(),n=aF(e),r=ai(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},cF=t=>{const e=t.getProvider("app").getImmediate(),n=ai(e,T1).getImmediate();return{getId:()=>rF(n),getToken:s=>sF(n,s)}};function uF(){fr(new Xn(T1,lF,"PUBLIC")),fr(new Xn(oF,cF,"PRIVATE"))}uF();_n(c1,Wy);_n(c1,Wy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="analytics",dF="firebase_id",hF="origin",fF=60*1e3,pF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new Ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new na("analytics","Analytics",mF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){if(!t.startsWith(Yy)){const e=kn.create("invalid-gtag-resource",{gtagURL:t});return En.warn(e.message),""}return t}function N1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function yF(t,e){const n=vF("firebase-js-sdk-policy",{createScriptURL:gF}),r=document.createElement("script"),s=`${Yy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function xF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function wF(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await N1(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(l){En.error(l)}t("config",s,i)}async function bF(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await N1(n);for(const c of o){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){En.error(i)}}function _F(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await bF(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await wF(t,e,n,r,l,c)}else if(i==="consent"){const[l]=o;t("consent","update",l)}else if(i==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){En.error(l)}}return s}function EF(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=_F(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function jF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=30,TF=1e3;class NF{constructor(e={},n=TF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const I1=new NF;function IF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AF(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:IF(r)},i=pF.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function CF(t,e=I1,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw kn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new RF;return setTimeout(async()=>{l.abort()},n!==void 0?n:fF),A1({appId:r,apiKey:s,measurementId:i},o,l,e)}async function A1(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=I1){var i;const{appId:o,measurementId:l}=t;try{await PF(r,e)}catch(c){if(l)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await AF(t);return s.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!kF(u)){if(s.deleteThrottleMetadata(o),l)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?nb(n,s.intervalMillis,SF):nb(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,h),En.debug(`Calling attemptFetch again in ${d} millis`),A1(t,h,r,s)}}function PF(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kF(t){if(!(t instanceof er)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DF(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(){if(Bv())try{await kS()}catch(t){return En.warn(kn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return En.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function LF(t,e,n,r,s,i,o){var l;const c=CF(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>En.error(p)),e.push(c);const u=OF().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([c,u]);jF(i)||yF(i,d.measurementId),s("js",new Date);const f=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return f[hF]="firebase",f.update=!0,h!=null&&(f[dF]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.app=e}_delete(){return delete jl[this.app.options.appId],Promise.resolve()}}let jl={},c0=[];const u0={};let pp="dataLayer",VF="gtag",d0,C1,h0=!1;function FF(){const t=[];if(PS()&&t.push("This is a browser extension environment."),tD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});En.warn(n.message)}}function UF(t,e,n){FF();const r=t.options.appId;if(!r)throw kn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(jl[r]!=null)throw kn.create("already-exists",{id:r});if(!h0){xF(pp);const{wrappedGtag:i,gtagCore:o}=EF(jl,c0,u0,pp,VF);C1=i,d0=o,h0=!0}return jl[r]=LF(t,c0,u0,e,d0,pp,n),new MF(t)}function $F(t=Ah()){t=Ue(t);const e=ai(t,zd);return e.isInitialized()?e.getImmediate():BF(t)}function BF(t,e={}){const n=ai(t,zd);if(n.isInitialized()){const s=n.getImmediate();if(Fi(e,n.getOptions()))return s;throw kn.create("already-initialized")}return n.initialize({options:e})}function zF(t,e,n,r){t=Ue(t),DF(C1,jl[t.app.options.appId],e,n,r).catch(s=>En.error(s))}const f0="@firebase/analytics",p0="0.10.1";function HF(){fr(new Xn(zd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return UF(r,s,n)},"PUBLIC")),fr(new Xn("analytics-internal",t,"PRIVATE")),_n(f0,p0),_n(f0,p0,"esm2017");function t(e){try{const n=e.getProvider(zd).getImmediate();return{logEvent:(r,s,i)=>zF(n,r,s,i)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}HF();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebasestorage.googleapis.com",k1="storageBucket",WF=2*60*1e3,qF=10*60*1e3,GF=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends er{constructor(e,n,r=0){super(mp(e),`Firebase Storage: ${n} (${mp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,at.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ge;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ge||(Ge={}));function mp(t){return"storage/"+t}function Qy(){const t="An unknown error occurred, please check the error payload for server response.";return new at(Ge.UNKNOWN,t)}function KF(t){return new at(Ge.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function YF(t){return new at(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new at(Ge.UNAUTHENTICATED,t)}function XF(){return new at(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JF(t){return new at(Ge.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function R1(){return new at(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function D1(){return new at(Ge.CANCELED,"User canceled the upload/download.")}function ZF(t){return new at(Ge.INVALID_URL,"Invalid URL '"+t+"'.")}function eU(t){return new at(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tU(){return new at(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+k1+"' property when initializing the app?")}function O1(){return new at(Ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nU(){return new at(Ge.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function rU(){return new at(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sU(t){return new at(Ge.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gg(t){return new at(Ge.INVALID_ARGUMENT,t)}function L1(){return new at(Ge.APP_DELETED,"The Firebase app was deleted.")}function iU(t){return new at(Ge.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(t,e){return new at(Ge.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zo(t){throw new at(Ge.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=An.makeFromUrl(e,n)}catch{return new An(e,"")}if(r.path==="")return r;throw eU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},y=n===P1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",m=new RegExp(`^https?://${y}/${s}/${b}`,"i"),v=[{regex:l,indices:c,postModify:i},{regex:p,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<v.length;E++){const S=v[E],j=S.regex.exec(e);if(j){const N=j[S.indices.bucket];let w=j[S.indices.path];w||(w=""),r=new An(N,w),S.postModify(r);break}}if(r==null)throw ZF(e);return r}}class aU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...b){u||(u=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(p,c())},b)}function f(){i&&clearTimeout(i)}function p(b,...m){if(u){f();return}if(b){f(),d.call(null,b,...m);return}if(c()||o){f(),d.call(null,b,...m);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,h(v)}let g=!1;function y(b){g||(g=!0,f(),!u&&(s!==null?(b||(l=2),clearTimeout(s),h(0)):b||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function lU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return t!==void 0}function uU(t){return typeof t=="function"}function dU(t){return typeof t=="object"&&!Array.isArray(t)}function hf(t){return typeof t=="string"||t instanceof String}function m0(t){return Xy()&&t instanceof Blob}function Xy(){return typeof Blob<"u"}function g0(t,e,n,r){if(r<e)throw gg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function M1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Pi||(Pi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n,r,s,i,o,l,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new xu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Pi.NO_ERROR,c=i.getStatus();if(!l||V1(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Pi.ABORT;r(!1,new xu(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new xu(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());cU(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=Qy();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?L1():D1();o(c)}else{const c=R1();o(c)}};this.canceled_?n(!1,new xu(!1,null,!0)):this.backoffId_=oU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vU(t,e,n,r,s,i,o=!0){const l=M1(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return mU(u,e),fU(u,n),pU(u,i),gU(u,r),new hU(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xU(...t){const e=yU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Xy())return new Blob(t);throw new at(Ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){if(typeof atob>"u")throw sU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gp{constructor(e,n){this.data=e,this.contentType=n||null}}function _U(t,e){switch(t){case jr.RAW:return new gp(F1(e));case jr.BASE64:case jr.BASE64URL:return new gp(U1(t,e));case jr.DATA_URL:return new gp(jU(e),SU(e))}throw Qy()}function F1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function EU(t){let e;try{e=decodeURIComponent(t)}catch{throw Sl(jr.DATA_URL,"Malformed data URL.")}return F1(e)}function U1(t,e){switch(t){case jr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Sl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case jr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Sl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bU(e)}catch(s){throw s.message.includes("polyfill")?s:Sl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class $1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sl(jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=TU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jU(t){const e=new $1(t);return e.base64?U1(jr.BASE64,e.rest):EU(e.rest)}function SU(t){return new $1(t).contentType}function TU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){let r=0,s="";m0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(m0(this.data_)){const r=this.data_,s=wU(r,e,n);return s===null?null:new Hr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hr(r,!0)}}static getBlob(...e){if(Xy()){const n=e.map(r=>r instanceof Hr?r.data_:r);return new Hr(xU.apply(null,n))}else{const n=e.map(o=>hf(o)?_U(jr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new Hr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){let e;try{e=JSON.parse(t)}catch{return null}return dU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function z1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t,e){return e}class rn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||AU}}let wu=null;function CU(t){return!hf(t)||t.length<2?t:z1(t)}function Jy(){if(wu)return wu;const t=[];t.push(new rn("bucket")),t.push(new rn("generation")),t.push(new rn("metageneration")),t.push(new rn("name","fullPath",!0));function e(i,o){return CU(o)}const n=new rn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new rn("size");return s.xform=r,t.push(s),t.push(new rn("timeCreated")),t.push(new rn("updated")),t.push(new rn("md5Hash",null,!0)),t.push(new rn("cacheControl",null,!0)),t.push(new rn("contentDisposition",null,!0)),t.push(new rn("contentEncoding",null,!0)),t.push(new rn("contentLanguage",null,!0)),t.push(new rn("contentType",null,!0)),t.push(new rn("metadata","customMetadata",!0)),wu=t,wu}function PU(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new An(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function kU(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return PU(r,t),r}function H1(t,e,n){const r=B1(e);return r===null?null:kU(t,r,n)}function RU(t,e,n,r){const s=B1(e);if(s===null||!hf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=Io(f,n,r),g=M1({alt:"media",token:u});return p+g})[0]}function W1(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class ca{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){if(!t)throw Qy()}function Zy(t,e){function n(r,s){const i=H1(t,s,e);return Zr(i!==null),i}return n}function DU(t,e){function n(r,s){const i=H1(t,s,e);return Zr(i!==null),RU(i,s,t.host,t._protocol)}return n}function Uc(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=XF():s=QF():n.getStatus()===402?s=YF(t.bucket):n.getStatus()===403?s=JF(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function ex(t){const e=Uc(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=KF(t.path)),i.serverResponse=s.serverResponse,i}return n}function OU(t,e,n){const r=e.fullServerUrl(),s=Io(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ca(s,i,Zy(t,n),o);return l.errorHandler=ex(e),l}function LU(t,e,n){const r=e.fullServerUrl(),s=Io(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ca(s,i,DU(t,n),o);return l.errorHandler=ex(e),l}function MU(t,e){const n=e.fullServerUrl(),r=Io(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,u){}const l=new ca(r,s,o,i);return l.successCodes=[200,204],l.errorHandler=ex(e),l}function VU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function q1(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=VU(null,e)),r}function G1(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let v="";for(let E=0;E<2;E++)v=v+Math.random().toString().slice(2);return v}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=q1(e,r,s),d=W1(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=Hr.getBlob(h,r,f);if(p===null)throw O1();const g={name:u.fullPath},y=Io(i,t.host,t._protocol),b="POST",m=t.maxUploadRetryTime,x=new ca(y,b,Zy(t,n),m);return x.urlParams=g,x.headers=o,x.body=p.uploadData(),x.errorHandler=Uc(e),x}class Hd{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function tx(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Zr(!1)}return Zr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function FU(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=q1(e,r,s),l={name:o.fullPath},c=Io(i,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=W1(o,n),f=t.maxUploadRetryTime;function p(y){tx(y);let b;try{b=y.getResponseHeader("X-Goog-Upload-URL")}catch{Zr(!1)}return Zr(hf(b)),b}const g=new ca(c,u,p,f);return g.urlParams=l,g.headers=d,g.body=h,g.errorHandler=Uc(e),g}function UU(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const d=tx(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zr(!1)}h||Zr(!1);const f=Number(h);return Zr(!isNaN(f)),new Hd(f,r.size(),d==="final")}const o="POST",l=t.maxUploadRetryTime,c=new ca(n,o,i,l);return c.headers=s,c.errorHandler=Uc(e),c}const v0=256*1024;function $U(t,e,n,r,s,i,o,l){const c=new Hd(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw nU();const u=c.total-c.current;let d=u;s>0&&(d=Math.min(d,s));const h=c.current,f=h+d;let p="";d===0?p="finalize":u===d?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},y=r.slice(h,f);if(y===null)throw O1();function b(E,S){const j=tx(E,["active","final"]),N=c.current+d,w=r.size();let _;return j==="final"?_=Zy(e,i)(E,S):_=null,new Hd(N,w,j==="final",_)}const m="POST",x=e.maxUploadRetryTime,v=new ca(n,m,b,x);return v.headers=g,v.body=y.uploadData(),v.progressCallback=l||null,v.errorHandler=Uc(t),v}const pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vp(t){switch(t){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":return pn.ERROR;default:return pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BU=class{constructor(e,n,r){if(uU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class zU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw zo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HU extends zU{initXhr(){this.xhr_.responseType="text"}}function Es(){return new HU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Jy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ge.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(V1(s.status,[]))if(i)s=R1();else{this.sleepTime=Math.max(this.sleepTime*2,GF),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ge.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=FU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=UU(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Es,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=v0*this._chunkMultiplier,n=new Hd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=$U(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,Es,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){v0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=OU(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=G1(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Es,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=D1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=vp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new BU(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(vp(this._state)){case pn.SUCCESS:pa(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:const n=this._reject;pa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(vp(this._state)){case pn.RUNNING:case pn.PAUSED:e.next&&pa(e.next.bind(e,this.snapshot))();break;case pn.SUCCESS:e.complete&&pa(e.complete.bind(e))();break;case pn.CANCELED:case pn.ERROR:e.error&&pa(e.error.bind(e,this._error))();break;default:e.error&&pa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qi(e,n)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z1(this._location.path)}get storage(){return this._service}get parent(){const e=NU(this._location.path);if(e===null)return null;const n=new An(this._location.bucket,e);return new qi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iU(e)}}function qU(t,e,n){t._throwIfRoot("uploadBytes");const r=G1(t.storage,t._location,Jy(),new Hr(e,!0),n);return t.storage.makeRequestWithTokens(r,Es).then(s=>({metadata:s,ref:t}))}function GU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new WU(t,new Hr(e),n)}function KU(t){t._throwIfRoot("getDownloadURL");const e=LU(t.storage,t._location,Jy());return t.storage.makeRequestWithTokens(e,Es).then(n=>{if(n===null)throw rU();return n})}function YU(t){t._throwIfRoot("deleteObject");const e=MU(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Es)}function QU(t,e){const n=IU(t._location.path,e),r=new An(t._location.bucket,n);return new qi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){return/^[A-Za-z]+:\/\//.test(t)}function JU(t,e){return new qi(t,e)}function K1(t,e){if(t instanceof nx){const n=t;if(n._bucket==null)throw tU();const r=new qi(n,n._bucket);return e!=null?K1(r,e):r}else return e!==void 0?QU(t,e):t}function ZU(t,e){if(e&&XU(e)){if(t instanceof nx)return JU(t,e);throw gg("To use ref(service, url), the first argument must be a Storage instance.")}else return K1(t,e)}function y0(t,e){const n=e==null?void 0:e[k1];return n==null?null:An.makeFromBucketSpec(n,t)}function e$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:CS(s,t.app.options.projectId))}class nx{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=P1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WF,this._maxUploadRetryTime=qF,this._requests=new Set,s!=null?this._bucket=An.makeFromBucketSpec(s,this._host):this._bucket=y0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=y0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new aU(L1());{const o=vU(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const x0="@firebase/storage",w0="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="storage";function hs(t,e,n){return t=Ue(t),qU(t,e,n)}function t$(t,e,n){return t=Ue(t),GU(t,e,n)}function ui(t){return t=Ue(t),KU(t)}function fs(t){return t=Ue(t),YU(t)}function Le(t,e){return t=Ue(t),ZU(t,e)}function n$(t=Ah(),e){t=Ue(t);const r=ai(t,Y1).getImmediate({identifier:e}),s=NS("storage");return s&&r$(r,...s),r}function r$(t,e,n,r={}){e$(t,e,n,r)}function s$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new nx(n,r,s,e,ra)}function i$(){fr(new Xn(Y1,s$,"PUBLIC").setMultipleInstances(!0)),_n(x0,w0,""),_n(x0,w0,"esm2017")}i$();function rx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a$=Q1,X1=new na("auth","Firebase",Q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Ih("@firebase/auth");function o$(t,...e){Wd.logLevel<=_e.WARN&&Wd.warn(`Auth (${ra}): ${t}`,...e)}function Hu(t,...e){Wd.logLevel<=_e.ERROR&&Wd.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw sx(t,...e)}function Pr(t,...e){return sx(t,...e)}function J1(t,e,n){const r=Object.assign(Object.assign({},a$()),{[e]:n});return new na("auth","Firebase",r).create(e,{appName:t.name})}function l$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zn(t,"argument-error"),J1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X1.create(t,...e)}function le(t,e,...n){if(!t)throw sx(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hu(e),new Error(e)}function os(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function c$(){return b0()==="http:"||b0()==="https:"}function b0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c$()||PS()||"connection"in navigator)?navigator.onLine:!0}function d$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=QR()||JR()}get(){return u$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new $c(3e4,6e4);function ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vr(t,e,n,r,s={}){return eI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Ec(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Z1.fetch()(tI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function eI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},h$),e);try{const s=new m$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw bu(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw J1(t,d,u);Zn(t,d)}}catch(s){if(s instanceof er)throw s;Zn(t,"network-request-failed",{message:String(s)})}}async function Bc(t,e,n,r,s={}){const i=await Vr(t,e,n,r,s);return"mfaPendingCredential"in i&&Zn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function tI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ix(t.config,s):`${t.config.apiScheme}://${s}`}function p$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),f$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pr(t,e,r);return s.customData._tokenResponse=n,s}function _0(t){return t!==void 0&&t.enterprise!==void 0}class g${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return p$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function v$(t,e){return Vr(t,"GET","/v2/recaptchaConfig",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e){return Vr(t,"POST","/v1/accounts:delete",e)}async function x$(t,e){return Vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w$(t,e=!1){const n=Ue(t),r=await n.getIdToken(e),s=ax(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Tl(yp(s.auth_time)),issuedAtTime:Tl(yp(s.iat)),expirationTime:Tl(yp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function yp(t){return Number(t)*1e3}function ax(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const s=SS(n);return s?JSON.parse(s):(Hu("Failed to decode base64 JWT payload"),null)}catch(s){return Hu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function b$(t){const e=ax(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&_$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await go(t,x$(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?T$(i.providerUserInfo):[],l=S$(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new nI(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function j$(t){const e=Ue(t);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function T$(t){return t.map(e=>{var{providerId:n}=e,r=rx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$(t,e){const n=await eI(t,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=tI(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Z1.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I$(t,e){return Vr(t,"POST","/v2/accounts:revokeToken",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await N$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new lc;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=rx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await go(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w$(this,e)}reload(){return j$(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await go(this,y$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:j,stsTokenManager:N}=n;le(v&&N,e,"internal-error");const w=lc.fromJSON(this.name,N);le(typeof v=="string",e,"internal-error"),vs(h,e.name),vs(f,e.name),le(typeof E=="boolean",e,"internal-error"),le(typeof S=="boolean",e,"internal-error"),vs(p,e.name),vs(g,e.name),vs(y,e.name),vs(b,e.name),vs(m,e.name),vs(x,e.name);const _=new ki({uid:v,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:w,createdAt:m,lastLoginAt:x});return j&&Array.isArray(j)&&(_.providerData=j.map(T=>Object.assign({},T))),b&&(_._redirectEventId=b),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new lc;s.updateFromServerResponse(n);const i=new ki({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qd(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function Xr(t){os(t instanceof Function,"Expected a class definition");let e=E0.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rI.type="NONE";const j0=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Wu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Wu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ha(Xr(j0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Xr(j0);const o=Wu(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const h=ki._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ha(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ha(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lI(e))return"Blackberry";if(cI(e))return"Webos";if(ox(e))return"Safari";if((e.includes("chrome/")||iI(e))&&!e.includes("edge/"))return"Chrome";if(oI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sI(t=vt()){return/firefox\//i.test(t)}function ox(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iI(t=vt()){return/crios\//i.test(t)}function aI(t=vt()){return/iemobile/i.test(t)}function oI(t=vt()){return/android/i.test(t)}function lI(t=vt()){return/blackberry/i.test(t)}function cI(t=vt()){return/webos/i.test(t)}function ff(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A$(t=vt()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C$(){return ZR()&&document.documentMode===10}function uI(t=vt()){return ff(t)||oI(t)||cI(t)||lI(t)||/windows phone/i.test(t)||aI(t)}function P$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e=[]){let n;switch(t){case"Browser":n=S0(vt());break;case"Worker":n=`${S0(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R$(t,e={}){return Vr(t,"GET","/v2/passwordPolicy",ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=6;class O${constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:D$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new k$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ue(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await R$(this),n=new O$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&o$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ms(t){return Ue(t)}class T0{constructor(e){this.auth=e,this.observer=null,this.addObserver=aD(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M$(t){pf=t}function hI(t){return pf.loadJS(t)}function V$(){return pf.recaptchaEnterpriseScript}function F$(){return pf.gapiScript}function U$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $$="recaptcha-enterprise",B$="NO_RECAPTCHA";class z${constructor(e){this.type=$$,this.auth=ms(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{v$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new g$(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;_0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(B$)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&_0(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=V$();c.length!==0&&(c+=l),hI(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function N0(t,e,n,r=!1){const s=new z$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gd(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await N0(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await N0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t,e){const n=ai(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Fi(i,e??{}))return s;Zn(s,"already-initialized")}return n.initialize({options:e})}function W$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q$(t,e,n){const r=ms(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=fI(e),{host:o,port:l}=G$(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||K$()}function fI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G$(t){const e=fI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:I0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:I0(o)}}}function I0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function Y$(t,e){return Vr(t,"POST","/v1/accounts:update",e)}async function Q$(t,e){return Vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e){return Bc(t,"POST","/v1/accounts:signInWithPassword",ps(t,e))}async function pI(t,e){return Vr(t,"POST","/v1/accounts:sendOobCode",ps(t,e))}async function J$(t,e){return pI(t,e)}async function Z$(t,e){return pI(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}async function t4(t,e){return Bc(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends lx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(e,n,"signInWithPassword",X$);case"emailLink":return e4(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(e,r,"signUpPassword",Q$);case"emailLink":return t4(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t,e){return Bc(t,"POST","/v1/accounts:signInWithIdp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="http://localhost";class Gi extends lx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=rx(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Gi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:n4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s4(t){const e=tl(nl(t)).link,n=e?tl(nl(e)).deep_link_id:null,r=tl(nl(t)).deep_link_id;return(r?tl(nl(r)).link:null)||r||n||e||t}class cx{constructor(e){var n,r,s,i,o,l;const c=tl(nl(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=r4((s=c.mode)!==null&&s!==void 0?s:null);le(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=s4(e);try{return new cx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cx.parseLink(n);return le(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends ux{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends zc{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gi._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends zc{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends zc{constructor(){super("twitter.com")}static credential(e,n){return Gi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e){return Bc(t,"POST","/v1/accounts:signUp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ki._fromIdTokenResponse(e,r,s),o=A0(r);return new Ki({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=A0(r);return new Ki({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function A0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends er{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Kd(e,n,r,s)}}function mI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(t,i,e,r):i})}async function a4(t,e,n=!1){const r=await go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ki._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await go(t,mI(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=ax(i.idToken);le(o,r,"internal-error");const{sub:l}=o;return le(t.uid===l,r,"user-mismatch"),Ki._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t,e,n=!1){const r="signIn",s=await mI(t,r,e),i=await Ki._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function l4(t,e){return gI(ms(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e,n){var r;le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(t){const e=ms(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c4(t,e,n){const r=ms(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&vI(r,s,n),await Gd(r,s,"getOobCode",Z$)}async function C0(t,e,n){const r=ms(t),o=await Gd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&yI(t),c}),l=await Ki._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function u4(t,e,n){return l4(Ue(t),Ao.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yI(t),r})}async function d4(t,e){const n=Ue(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&vI(n.auth,s,e);const{email:i}=await J$(n.auth,s);i!==t.email&&await t.reload()}function h4(t,e){return f4(Ue(t),null,e)}async function f4(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await go(t,Y$(r,i));await t._updateTokensIfNecessary(o,!0)}function p4(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function m4(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){const t=vt();return ox(t)||ff(t)}const v4=1e3,y4=10;class wI extends xI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=g4()&&P$(),this.fallbackToPolling=uI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);C$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,y4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wI.type="LOCAL";const x4=wI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI extends xI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bI.type="SESSION";const _I=bI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await w4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=dx("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function _4(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function E4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function S4(){return EI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebaseLocalStorageDb",T4=1,Qd="firebaseLocalStorage",SI="fbase_key";class Hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function N4(){const t=indexedDB.deleteDatabase(jI);return new Hc(t).toPromise()}function yg(){const t=indexedDB.open(jI,T4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qd,{keyPath:SI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qd)?e(r):(r.close(),await N4(),e(await yg()))})})}async function P0(t,e,n){const r=gf(t,!0).put({[SI]:e,value:n});return new Hc(r).toPromise()}async function I4(t,e){const n=gf(t,!1).get(e),r=await new Hc(n).toPromise();return r===void 0?null:r.value}function k0(t,e){const n=gf(t,!0).delete(e);return new Hc(n).toPromise()}const A4=800,C4=3;class TI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(S4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await E4(),!this.activeServiceWorker)return;this.sender=new b4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await P0(e,Yd,"1"),await k0(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>I4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gf(s,!1).getAll();return new Hc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TI.type="LOCAL";const P4=TI;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){return e?Xr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends lx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k4(t){return gI(t.auth,new hx(t),t.bypassAuthState)}function R4(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),o4(n,new hx(t),t.bypassAuthState)}async function D4(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),a4(n,new hx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k4;case"linkViaPopup":case"linkViaRedirect":return D4;case"reauthViaPopup":case"reauthViaRedirect":return R4;default:Zn(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new $c(2e3,1e4);async function L4(t,e,n){const r=ms(t);l$(t,e,ux);const s=NI(r,n);return new Ni(r,"signInViaPopup",e,s).executeNotNull()}class Ni extends II{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ni.currentPopupAction&&Ni.currentPopupAction.cancel(),Ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=dx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O4.get())};e()}}Ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="pendingRedirect",qu=new Map;class V4 extends II{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qu.get(this.auth._key());if(!e){try{const r=await F4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qu.set(this.auth._key(),e)}return this.bypassAuthState||qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F4(t,e){const n=B4(e),r=$4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function U4(t,e){qu.set(t._key(),e)}function $4(t){return Xr(t._redirectPersistence)}function B4(t){return Wu(M4,t.config.apiKey,t.name)}async function z4(t,e,n=!1){const r=ms(t),s=NI(r,e),o=await new V4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=10*60*1e3;class W4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H4&&this.cachedEventUids.clear(),this.cachedEventUids.has(R0(e))}saveEventToCache(e){this.cachedEventUids.add(R0(e)),this.lastProcessedEventTime=Date.now()}}function R0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e={}){return Vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y4=/^https?/;async function Q4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G4(t);for(const n of e)try{if(X4(n))return}catch{}Zn(t,"unauthorized-domain")}function X4(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Y4.test(n))return!1;if(K4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new $c(3e4,6e4);function D0(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z4(t){return new Promise((e,n)=>{var r,s,i;function o(){D0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D0(),n(Pr(t,"network-request-failed"))},timeout:J4.get()})}if(!((s=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=kr().gapi)===null||i===void 0)&&i.load)o();else{const l=U$("iframefcb");return kr()[l]=()=>{gapi.load?o():n(Pr(t,"network-request-failed"))},hI(`${F$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Gu=null,e})}let Gu=null;function e3(t){return Gu=Gu||Z4(t),Gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new $c(5e3,15e3),n3="__/auth/iframe",r3="emulator/auth/iframe",s3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a3(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ix(e,r3):`https://${t.config.authDomain}/${n3}`,r={apiKey:e.apiKey,appName:t.name,v:ra},s=i3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ec(r).slice(1)}`}async function o3(t){const e=await e3(t),n=kr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:a3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),l=kr().setTimeout(()=>{i(o)},t3.get());function c(){kr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c3=500,u3=600,d3="_blank",h3="http://localhost";class O0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f3(t,e,n,r=c3,s=u3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},l3),{width:r.toString(),height:s.toString(),top:i,left:o}),u=vt().toLowerCase();n&&(l=iI(u)?d3:n),sI(u)&&(e=e||h3,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(A$(u)&&l!=="_self")return p3(e||"",l),new O0(null);const h=window.open(e||"",l,d);le(h,t,"popup-blocked");try{h.focus()}catch{}return new O0(h)}function p3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="__/auth/handler",g3="emulator/auth/handler",v3=encodeURIComponent("fac");async function L0(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:s};if(e instanceof ux){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",iD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof zc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${v3}=${encodeURIComponent(c)}`:"";return`${y3(t)}?${Ec(l).slice(1)}${u}`}function y3({config:t}){return t.emulator?ix(t,g3):`https://${t.authDomain}/${m3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="webStorageSupport";class x3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_I,this._completeRedirectFn=z4,this._overrideRedirectResult=U4}async _openPopup(e,n,r,s){var i;os((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await L0(e,n,r,vg(),s);return f3(e,o,dx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await L0(e,n,r,vg(),s);return _4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(os(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o3(e),r=new W4(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xp,{type:xp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[xp];o!==void 0&&n(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uI()||ox()||ff()}}const w3=x3;var M0="@firebase/auth",V0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E3(t){fr(new Xn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dI(t)},u=new L$(r,s,i,c);return W$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fr(new Xn("auth-internal",e=>{const n=ms(e.getProvider("auth").getImmediate());return(r=>new b3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(M0,V0,_3(t)),_n(M0,V0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=5*60,S3=AS("authIdTokenMaxAge")||j3;let F0=null;const T3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>S3)return;const s=n==null?void 0:n.token;F0!==s&&(F0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function N3(t=Ah()){const e=ai(t,"auth");if(e.isInitialized())return e.getImmediate();const n=H$(t,{popupRedirectResolver:w3,persistence:[P4,x4,_I]}),r=AS("authTokenSyncURL");if(r){const i=T3(r);m4(n,i,()=>i(n.currentUser)),p4(n,o=>i(o))}const s=TS("auth");return s&&q$(n,`http://${s}`),n}function I3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}M$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",I3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E3("Browser");const A3={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},fx=LS(A3),Me=n$(fx);$F(fx);const J=o2(fx),Yt=N3(),C3=new Wr;function lr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ei(t){return!!t&&!!t[Je]}function ls(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===F3}(t)||Array.isArray(t)||!!t[q0]||!!(!((e=t.constructor)===null||e===void 0)&&e[q0])||px(t)||mx(t))}function Yi(t,e,n){n===void 0&&(n=!1),Co(t)===0?(n?Object.keys:Ga)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Co(t){var e=t[Je];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:px(t)?2:mx(t)?3:0}function qa(t,e){return Co(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function P3(t,e){return Co(t)===2?t.get(e):t[e]}function CI(t,e,n){var r=Co(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function PI(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function px(t){return M3&&t instanceof Map}function mx(t){return V3&&t instanceof Set}function gi(t){return t.o||t.t}function gx(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=RI(t);delete e[Je];for(var n=Ga(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function vx(t,e){return e===void 0&&(e=!1),yx(t)||ei(t)||!ls(t)||(Co(t)>1&&(t.set=t.add=t.clear=t.delete=k3),Object.freeze(t),e&&Yi(t,function(n,r){return vx(r,!0)},!0)),t}function k3(){lr(2)}function yx(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Rr(t){var e=_g[t];return e||lr(18,t),e}function R3(t,e){_g[t]||(_g[t]=e)}function xg(){return uc}function wp(t,e){e&&(Rr("Patches"),t.u=[],t.s=[],t.v=e)}function Xd(t){wg(t),t.p.forEach(D3),t.p=null}function wg(t){t===uc&&(uc=t.l)}function U0(t){return uc={p:[],l:uc,h:t,m:!0,_:0}}function D3(t){var e=t[Je];e.i===0||e.i===1?e.j():e.g=!0}function bp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Rr("ES5").S(e,t,r),r?(n[Je].P&&(Xd(e),lr(4)),ls(t)&&(t=Jd(e,t),e.l||Zd(e,t)),e.u&&Rr("Patches").M(n[Je].t,t,e.u,e.s)):t=Jd(e,n,[]),Xd(e),e.u&&e.v(e.u,e.s),t!==kI?t:void 0}function Jd(t,e,n){if(yx(e))return e;var r=e[Je];if(!r)return Yi(e,function(l,c){return $0(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Zd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=gx(r.k):r.o,i=s,o=!1;r.i===3&&(i=new Set(s),s.clear(),o=!0),Yi(i,function(l,c){return $0(t,r,s,l,c,n,o)}),Zd(t,s,!1),n&&t.u&&Rr("Patches").N(r,n,t.u,t.s)}return r.o}function $0(t,e,n,r,s,i,o){if(ei(s)){var l=Jd(t,s,i&&e&&e.i!==3&&!qa(e.R,r)?i.concat(r):void 0);if(CI(n,r,l),!ei(l))return;t.m=!1}else o&&n.add(s);if(ls(s)&&!yx(s)){if(!t.h.D&&t._<1)return;Jd(t,s),e&&e.A.l||Zd(t,s)}}function Zd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&vx(e,n)}function _p(t,e){var n=t[Je];return(n?gi(n):t)[e]}function B0(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ns(t){t.P||(t.P=!0,t.l&&Ns(t.l))}function Ep(t){t.o||(t.o=gx(t.t))}function bg(t,e,n){var r=px(e)?Rr("MapSet").F(e,n):mx(e)?Rr("MapSet").T(e,n):t.O?function(s,i){var o=Array.isArray(s),l={i:o?1:0,A:i?i.A:xg(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},c=l,u=dc;o&&(c=[l],u=ll);var d=Proxy.revocable(c,u),h=d.revoke,f=d.proxy;return l.k=f,l.j=h,f}(e,n):Rr("ES5").J(e,n);return(n?n.A:xg()).p.push(r),r}function O3(t){return ei(t)||lr(22,t),function e(n){if(!ls(n))return n;var r,s=n[Je],i=Co(n);if(s){if(!s.P&&(s.i<4||!Rr("ES5").K(s)))return s.t;s.I=!0,r=z0(n,i),s.I=!1}else r=z0(n,i);return Yi(r,function(o,l){s&&P3(s.t,o)===l||CI(r,o,e(l))}),i===3?new Set(r):r}(t)}function z0(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return gx(t)}function L3(){function t(i,o){var l=s[i];return l?l.enumerable=o:s[i]=l={configurable:!0,enumerable:o,get:function(){var c=this[Je];return dc.get(c,i)},set:function(c){var u=this[Je];dc.set(u,i,c)}},l}function e(i){for(var o=i.length-1;o>=0;o--){var l=i[o][Je];if(!l.P)switch(l.i){case 5:r(l)&&Ns(l);break;case 4:n(l)&&Ns(l)}}}function n(i){for(var o=i.t,l=i.k,c=Ga(l),u=c.length-1;u>=0;u--){var d=c[u];if(d!==Je){var h=o[d];if(h===void 0&&!qa(o,d))return!0;var f=l[d],p=f&&f[Je];if(p?p.t!==h:!PI(f,h))return!0}}var g=!!o[Je];return c.length!==Ga(o).length+(g?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(o,o.length-1);if(l&&!l.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var s={};R3("ES5",{J:function(i,o){var l=Array.isArray(i),c=function(d,h){if(d){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=RI(h);delete g[Je];for(var y=Ga(g),b=0;b<y.length;b++){var m=y[b];g[m]=t(m,d||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,i),u={i:l?5:4,A:o?o.A:xg(),P:!1,I:!1,R:{},l:o,t:i,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Je,{value:u,writable:!0}),c},S:function(i,o,l){l?ei(o)&&o[Je].A===i&&e(i.p):(i.u&&function c(u){if(u&&typeof u=="object"){var d=u[Je];if(d){var h=d.t,f=d.k,p=d.R,g=d.i;if(g===4)Yi(f,function(v){v!==Je&&(h[v]!==void 0||qa(h,v)?p[v]||c(f[v]):(p[v]=!0,Ns(d)))}),Yi(h,function(v){f[v]!==void 0||qa(f,v)||(p[v]=!1,Ns(d))});else if(g===5){if(r(d)&&(Ns(d),p.length=!0),f.length<h.length)for(var y=f.length;y<h.length;y++)p[y]=!1;else for(var b=h.length;b<f.length;b++)p[b]=!0;for(var m=Math.min(f.length,h.length),x=0;x<m;x++)f.hasOwnProperty(x)||(p[x]=!0),p[x]===void 0&&c(f[x])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var H0,uc,xx=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",M3=typeof Map<"u",V3=typeof Set<"u",W0=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",kI=xx?Symbol.for("immer-nothing"):((H0={})["immer-nothing"]=!0,H0),q0=xx?Symbol.for("immer-draftable"):"__$immer_draftable",Je=xx?Symbol.for("immer-state"):"__$immer_state",F3=""+Object.prototype.constructor,Ga=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,RI=Object.getOwnPropertyDescriptors||function(t){var e={};return Ga(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},_g={},dc={get:function(t,e){if(e===Je)return t;var n=gi(t);if(!qa(n,e))return function(s,i,o){var l,c=B0(i,o);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!ls(r)?r:r===_p(t.t,e)?(Ep(t),t.o[e]=bg(t.A.h,r,t)):r},has:function(t,e){return e in gi(t)},ownKeys:function(t){return Reflect.ownKeys(gi(t))},set:function(t,e,n){var r=B0(gi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=_p(gi(t),e),i=s==null?void 0:s[Je];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(PI(n,s)&&(n!==void 0||qa(t.t,e)))return!0;Ep(t),Ns(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return _p(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Ep(t),Ns(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=gi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){lr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){lr(12)}},ll={};Yi(dc,function(t,e){ll[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ll.deleteProperty=function(t,e){return ll.set.call(this,t,e,void 0)},ll.set=function(t,e,n){return dc.set.call(this,t[0],e,n,t[0])};var U3=function(){function t(n){var r=this;this.O=W0,this.D=!0,this.produce=function(s,i,o){if(typeof s=="function"&&typeof i!="function"){var l=i;i=s;var c=r;return function(y){var b=this;y===void 0&&(y=l);for(var m=arguments.length,x=Array(m>1?m-1:0),v=1;v<m;v++)x[v-1]=arguments[v];return c.produce(y,function(E){var S;return(S=i).call.apply(S,[b,E].concat(x))})}}var u;if(typeof i!="function"&&lr(6),o!==void 0&&typeof o!="function"&&lr(7),ls(s)){var d=U0(r),h=bg(r,s,void 0),f=!0;try{u=i(h),f=!1}finally{f?Xd(d):wg(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return wp(d,o),bp(y,d)},function(y){throw Xd(d),y}):(wp(d,o),bp(u,d))}if(!s||typeof s!="object"){if((u=i(s))===void 0&&(u=s),u===kI&&(u=void 0),r.D&&vx(u,!0),o){var p=[],g=[];Rr("Patches").M(s,u,p,g),o(p,g)}return u}lr(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(u){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return s.apply(void 0,[p].concat(h))})};var o,l,c=r.produce(s,i,function(u,d){o=u,l=d});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,o,l]}):[c,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ls(n)||lr(8),ei(n)&&(n=O3(n));var r=U0(this),s=bg(this,n,void 0);return s[Je].C=!0,wg(r),s},e.finishDraft=function(n,r){var s=n&&n[Je],i=s.A;return wp(i,r),bp(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!W0&&lr(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var o=Rr("Patches").$;return ei(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},t}(),Ln=new U3,DI=Ln.produce;Ln.produceWithPatches.bind(Ln);Ln.setAutoFreeze.bind(Ln);Ln.setUseProxies.bind(Ln);Ln.applyPatches.bind(Ln);Ln.createDraft.bind(Ln);Ln.finishDraft.bind(Ln);function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function $3(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B3(t){var e=$3(t,"string");return hc(e)=="symbol"?e:String(e)}function z3(t,e,n){return e=B3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function K0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G0(Object(n),!0).forEach(function(r){z3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Y0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),jp=function(){return Math.random().toString(36).substring(7).split("").join(".")},eh={INIT:"@@redux/INIT"+jp(),REPLACE:"@@redux/REPLACE"+jp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+jp()}};function H3(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function wx(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wt(1));return n(wx)(t,e)}if(typeof t!="function")throw new Error(Wt(2));var s=t,i=e,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(Wt(3));return i}function h(y){if(typeof y!="function")throw new Error(Wt(4));if(c)throw new Error(Wt(5));var b=!0;return u(),l.push(y),function(){if(b){if(c)throw new Error(Wt(6));b=!1,u();var x=l.indexOf(y);l.splice(x,1),o=null}}}function f(y){if(!H3(y))throw new Error(Wt(7));if(typeof y.type>"u")throw new Error(Wt(8));if(c)throw new Error(Wt(9));try{c=!0,i=s(i,y)}finally{c=!1}for(var b=o=l,m=0;m<b.length;m++){var x=b[m];x()}return y}function p(y){if(typeof y!="function")throw new Error(Wt(10));s=y,f({type:eh.REPLACE})}function g(){var y,b=h;return y={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Wt(11));function v(){x.next&&x.next(d())}v();var E=b(v);return{unsubscribe:E}}},y[Y0]=function(){return this},y}return f({type:eh.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:p},r[Y0]=g,r}function W3(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:eh.INIT});if(typeof r>"u")throw new Error(Wt(12));if(typeof n(void 0,{type:eh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function OI(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),o;try{W3(n)}catch(l){o=l}return function(c,u){if(c===void 0&&(c={}),o)throw o;for(var d=!1,h={},f=0;f<i.length;f++){var p=i[f],g=n[p],y=c[p],b=g(y,u);if(typeof b>"u")throw u&&u.type,new Error(Wt(14));h[p]=b,d=d||b!==y}return d=d||i.length!==Object.keys(c).length,d?h:c}}function th(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function q3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(Wt(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(o)});return i=th.apply(void 0,l)(s.dispatch),K0(K0({},s),{},{dispatch:i})}}}function LI(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(o){return function(l){return typeof l=="function"?l(s,i,t):o(l)}}};return e}var MI=LI();MI.withExtraArgument=LI;const Eg=MI;var VI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),G3=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vo=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},K3=Object.defineProperty,Y3=Object.defineProperties,Q3=Object.getOwnPropertyDescriptors,Q0=Object.getOwnPropertySymbols,X3=Object.prototype.hasOwnProperty,J3=Object.prototype.propertyIsEnumerable,X0=function(t,e,n){return e in t?K3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Gs=function(t,e){for(var n in e||(e={}))X3.call(e,n)&&X0(t,n,e[n]);if(Q0)for(var r=0,s=Q0(e);r<s.length;r++){var n=s[r];J3.call(e,n)&&X0(t,n,e[n])}return t},Sp=function(t,e){return Y3(t,Q3(e))},Z3=function(t,e,n){return new Promise(function(r,s){var i=function(c){try{l(n.next(c))}catch(u){s(u)}},o=function(c){try{l(n.throw(c))}catch(u){s(u)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(i,o)};l((n=n.apply(t,e)).next())})},eB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?th:th.apply(null,arguments)};function tB(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function Ks(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return Gs(Gs({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var nB=function(t){VI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,vo([void 0],n[0].concat(this)))):new(e.bind.apply(e,vo([void 0],n.concat(this))))},e}(Array),rB=function(t){VI(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,vo([void 0],n[0].concat(this)))):new(e.bind.apply(e,vo([void 0],n.concat(this))))},e}(Array);function jg(t){return ls(t)?DI(t,function(){}):t}function sB(t){return typeof t=="boolean"}function iB(){return function(e){return aB(e)}}function aB(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new nB;return n&&(sB(n)?r.push(Eg):r.push(Eg.withExtraArgument(n.extraArgument))),r}var oB=!0;function lB(t){var e=iB(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,o=i===void 0?e():i,l=n.devTools,c=l===void 0?!0:l,u=n.preloadedState,d=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof s=="function")p=s;else if(tB(s))p=OI(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var y=q3.apply(void 0,g),b=th;c&&(b=eB(Gs({trace:!oB},typeof c=="object"&&c)));var m=new rB(y),x=m;Array.isArray(f)?x=vo([y],f):typeof f=="function"&&(x=f(m));var v=b.apply(void 0,x);return wx(p,d,v)}function FI(t){var e={},n=[],r,s={addCase:function(i,o){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=o,s},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function cB(t){return typeof t=="function"}function uB(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?FI(e):[e,n,r],i=s[0],o=s[1],l=s[2],c;if(cB(t))c=function(){return jg(t())};else{var u=jg(t);c=function(){return u}}function d(h,f){h===void 0&&(h=c());var p=vo([i[f.type]],o.filter(function(g){var y=g.matcher;return y(f)}).map(function(g){var y=g.reducer;return y}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,y){if(y)if(ei(g)){var b=g,m=y(b,f);return m===void 0?g:m}else{if(ls(g))return DI(g,function(x){return y(x,f)});var m=y(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return d.getInitialState=c,d}function dB(t,e){return t+"/"+e}function tn(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:jg(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},o={},l={};s.forEach(function(d){var h=r[d],f=dB(e,d),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,i[d]=p,o[f]=p,l[d]=g?Ks(f,g):Ks(f)});function c(){var d=typeof t.extraReducers=="function"?FI(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,p=d[1],g=p===void 0?[]:p,y=d[2],b=y===void 0?void 0:y,m=Gs(Gs({},f),o);return uB(n,function(x){for(var v in m)x.addCase(v,m[v]);for(var E=0,S=g;E<S.length;E++){var j=S[E];x.addMatcher(j.matcher,j.reducer)}b&&x.addDefaultCase(b)})}var u;return{name:e,reducer:function(d,h){return u||(u=c()),u(d,h)},actions:l,caseReducers:i,getInitialState:function(){return u||(u=c()),u.getInitialState()}}}var hB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fB=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=hB[Math.random()*64|0];return e},pB=["name","message","stack","code"],Tp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),J0=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),mB=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=pB;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=Ks(e+"/fulfilled",function(u,d,h,f){return{payload:u,meta:Sp(Gs({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),i=Ks(e+"/pending",function(u,d,h){return{payload:void 0,meta:Sp(Gs({},h||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),o=Ks(e+"/rejected",function(u,d,h,f,p){return{payload:f,error:(r&&r.serializeError||mB)(u||"Rejected"),meta:Sp(Gs({},p||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function c(u){return function(d,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):fB(),g=new l,y;function b(x){y=x,g.abort()}var m=function(){return Z3(this,null,function(){var x,v,E,S,j,N,w;return G3(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),S=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,u,{getState:h,extra:f}),vB(S)?[4,S]:[3,2];case 1:S=_.sent(),_.label=2;case 2:if(S===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return j=new Promise(function(T,C){return g.signal.addEventListener("abort",function(){return C({name:"AbortError",message:y||"Aborted"})})}),d(i(p,u,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:p,arg:u},{getState:h,extra:f}))),[4,Promise.race([j,Promise.resolve(n(u,{dispatch:d,getState:h,extra:f,requestId:p,signal:g.signal,abort:b,rejectWithValue:function(T,C){return new Tp(T,C)},fulfillWithValue:function(T,C){return new J0(T,C)}})).then(function(T){if(T instanceof Tp)throw T;return T instanceof J0?s(T.payload,p,u,T.meta):s(T,p,u)})])];case 3:return E=_.sent(),[3,5];case 4:return N=_.sent(),E=N instanceof Tp?o(null,p,u,N.payload,N.meta):o(N,p,u),[3,5];case 5:return w=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,w||d(E),[2,E]}})})}();return Object.assign(m,{abort:b,requestId:p,arg:u,unwrap:function(){return m.then(gB)}})}}return Object.assign(c,{pending:i,rejected:o,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function gB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function vB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var bx="listenerMiddleware";Ks(bx+"/add");Ks(bx+"/removeAll");Ks(bx+"/remove");var Z0;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);L3();const e_={email:"",userType:"",isVarified:!1},UI=tn({name:"UserAuth",initialState:e_,reducers:{getUserAuthSuccessAction:(t,e)=>({...t,email:e.payload.email,userType:e.payload.userType,isVarified:e.payload.isVarified}),getUserAuthLogoutAction:t=>({...t,initialState:e_})}}),{getUserAuthSuccessAction:yB,getUserAuthLogoutAction:t_}=UI.actions,n_={data:[]},$I=tn({name:"News",initialState:n_,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=n_.data}}}),{getNewsSuccessAction:xB,getNewsFailedAction:$W}=$I.actions,r_={data:[]},BI=tn({name:"Slider",initialState:r_,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=r_.data}}}),{getSliderSuccessAction:wB,getSliderFailedAction:BW}=BI.actions,s_={data:[]},zI=tn({name:"Publications",initialState:s_,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=s_.data}}}),{getPublicationsSuccessAction:bB,getPublicationsFailedAction:zW}=zI.actions,i_={data:[]},HI=tn({name:"Supervisors",initialState:i_,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=i_.data}}}),{getSupervisorsSuccessAction:_B,getSupervisorsFailedAction:HW}=HI.actions,a_={data:[]},WI=tn({name:"Phd",initialState:a_,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=a_.data}}}),{getPhdSuccessAction:EB,getPhdFailedAction:WW}=WI.actions,o_={data:[]},qI=tn({name:"PHUG",initialState:o_,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=o_.data}}}),{getPHUGSuccessAction:jB,getPHUGFailedAction:qW}=qI.actions,l_={data:[]},GI=tn({name:"VisitorsAndInterns",initialState:l_,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=l_.data}}}),{getVisitorsAndInternsSuccessAction:SB,getVisitorsAndInternsFailedAction:GW}=GI.actions,c_={data:[]},KI=tn({name:"Datasets",initialState:c_,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=c_.data}}}),{getDatasetsSuccessAction:TB,getDatasetsFailedAction:KW}=KI.actions,u_={data:[]},YI=tn({name:"ResearchArea",initialState:u_,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=u_.data}}}),{getResearchAreaSuccessAction:NB,getResearchAreaFailedAction:YW}=YI.actions,d_={data:[]},QI=tn({name:"SubAreas",initialState:d_,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=d_.data}}}),{getSubAreasSuccessAction:IB,getSubAreasFailedAction:QW}=QI.actions,h_={data:[]},XI=tn({name:"ProjectsItems",initialState:h_,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=h_.data}}}),{getProjectsItemsSuccessAction:AB,getProjectsItemsFailedAction:XW}=XI.actions,f_={data:[]},JI=tn({name:"ProjectsMain",initialState:f_,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=f_.data}}}),{getProjectsMainSuccessAction:CB,getProjectsMainFailedAction:JW}=JI.actions,p_={data:[]},ZI=tn({name:"Gallery",initialState:p_,reducers:{getGallerySuccessAction:(t,e)=>{t.data=e.payload},getGalleryFailedAction:t=>{t.data=p_.data}}}),{getGallerySuccessAction:PB,getGalleryFailedAction:ZW}=ZI.actions,m_={data:[]},eA=tn({name:"Datasets",initialState:m_,reducers:{getAlertsSuccessAction:(t,e)=>{t.data=e.payload},getAlertsFailedAction:t=>{t.data=m_.data}}}),{getAlertsSuccessAction:tA,getAlertsFailedAction:eq}=eA.actions,g_={data:[]},nA=tn({name:"ProjectsImages",initialState:g_,reducers:{getProjectsImagesSuccessAction:(t,e)=>{t.data=e.payload},getProjectsImagesFailedAction:t=>{t.data=g_.data}}}),{getProjectsImagesSuccessAction:kB,getProjectsImagesFailedAction:tq}=nA.actions,RB=OI({getauth:UI.reducer,getnews:$I.reducer,getslider:BI.reducer,getpublications:zI.reducer,getsupervisors:HI.reducer,getphdStudents:WI.reducer,getpgugStudents:qI.reducer,getvisitorsandinterns:GI.reducer,getdatasets:KI.reducer,getresearcharea:YI.reducer,getsubareas:QI.reducer,getprojectitems:XI.reducer,getprojectsmain:JI.reducer,getgallery:ZI.reducer,getalerts:eA.reducer,getprojectsimages:nA.reducer});var _x="persist:",rA="persist/FLUSH",Ex="persist/REHYDRATE",sA="persist/PAUSE",iA="persist/PERSIST",aA="persist/PURGE",oA="persist/REGISTER",DB=-1;function Ku(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(n){return typeof n}:Ku=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ku(t)}function v_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function OB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v_(n,!0).forEach(function(r){LB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MB(t,e,n,r){r.debug;var s=OB({},n);return t&&Ku(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function VB(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:_x).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(S){return S}:typeof t.serialize=="function"?l=t.serialize:l=FB;var c=t.writeFailHandler||null,u={},d={},h=[],f=null,p=null,g=function(S){Object.keys(S).forEach(function(j){m(j)&&u[j]!==S[j]&&h.indexOf(j)===-1&&h.push(j)}),Object.keys(u).forEach(function(j){S[j]===void 0&&m(j)&&h.indexOf(j)===-1&&u[j]!==void 0&&h.push(j)}),f===null&&(f=setInterval(y,s)),u=S};function y(){if(h.length===0){f&&clearInterval(f),f=null;return}var E=h.shift(),S=r.reduce(function(j,N){return N.in(j,E,u)},u[E]);if(S!==void 0)try{d[E]=l(S)}catch(j){console.error("redux-persist/createPersistoid: error serializing state",j)}else delete d[E];h.length===0&&b()}function b(){Object.keys(d).forEach(function(E){u[E]===void 0&&delete d[E]}),p=o.setItem(i,l(d)).catch(x)}function m(E){return!(n&&n.indexOf(E)===-1&&E!=="_persist"||e&&e.indexOf(E)!==-1)}function x(E){c&&c(E)}var v=function(){for(;h.length!==0;)y();return p||Promise.resolve()};return{update:g,flush:v}}function FB(t){return JSON.stringify(t)}function UB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:_x).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(o){return o}:typeof t.deserialize=="function"?s=t.deserialize:s=$B,r.getItem(n).then(function(i){if(i)try{var o={},l=s(i);return Object.keys(l).forEach(function(c){o[c]=e.reduceRight(function(u,d){return d.out(u,c,l)},s(l[c]))}),o}catch(c){throw c}else return})}function $B(t){return JSON.parse(t)}function BB(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:_x).concat(t.key);return e.removeItem(n,zB)}function zB(t){}function y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y_(n,!0).forEach(function(r){HB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WB(t,e){if(t==null)return{};var n=qB(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var GB=5e3;function KB(t,e){var n=t.version!==void 0?t.version:DB;t.debug;var r=t.stateReconciler===void 0?MB:t.stateReconciler,s=t.getStoredState||UB,i=t.timeout!==void 0?t.timeout:GB,o=null,l=!1,c=!0,u=function(h){return h._persist.rehydrated&&o&&!c&&o.update(h),h};return function(d,h){var f=d||{},p=f._persist,g=WB(f,["_persist"]),y=g;if(h.type===iA){var b=!1,m=function(w,_){b||(h.rehydrate(t.key,w,_),b=!0)};if(i&&setTimeout(function(){!b&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,o||(o=VB(t)),p)return Fr({},e(y,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(N){var w=t.migrate||function(_,T){return Promise.resolve(_)};w(N,n).then(function(_){m(_)},function(_){m(void 0,_)})},function(N){m(void 0,N)}),Fr({},e(y,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===aA)return l=!0,h.result(BB(t)),Fr({},e(y,h),{_persist:p});if(h.type===rA)return h.result(o&&o.flush()),Fr({},e(y,h),{_persist:p});if(h.type===sA)c=!0;else if(h.type===Ex){if(l)return Fr({},y,{_persist:Fr({},p,{rehydrated:!0})});if(h.key===t.key){var x=e(y,h),v=h.payload,E=r!==!1&&v!==void 0?r(v,d,x,t):x,S=Fr({},E,{_persist:Fr({},p,{rehydrated:!0})});return u(S)}}}if(!p)return e(d,h);var j=e(y,h);return j===y?d:u(Fr({},j,{_persist:p}))}}function x_(t){return XB(t)||QB(t)||YB()}function YB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function QB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function XB(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(n,!0).forEach(function(r){JB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lA={registry:[],bootstrapped:!1},ZB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lA,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case oA:return Sg({},e,{registry:[].concat(x_(e.registry),[n.key])});case Ex:var r=e.registry.indexOf(n.key),s=x_(e.registry);return s.splice(r,1),Sg({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function ez(t,e,n){var r=n||!1,s=wx(ZB,lA,e&&e.enhancer?e.enhancer:void 0),i=function(u){s.dispatch({type:oA,key:u})},o=function(u,d,h){var f={type:Ex,payload:d,err:h,key:u};t.dispatch(f),s.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=Sg({},s,{purge:function(){var u=[];return t.dispatch({type:aA,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:rA,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:sA})},persist:function(){t.dispatch({type:iA,register:i,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var cA={},jx={},Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});function _u(){}const tz={getItem:_u,setItem:_u,removeItem:_u,keys:[],getAllKeys:_u};function nz(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function rz(t){const e=`${t}Storage`;return nz(e)?self[e]:tz}Sx.default=rz;var sz=Al&&Al.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jx,"__esModule",{value:!0});const iz=sz(Sx);function az(t){const e=(0,iz.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(s=>{s(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}jx.default=az;var oz=Al&&Al.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cA,"__esModule",{value:!0});const lz=oz(jx),cz=(0,lz.default)("session");var uz=cA.default=cz;const dz={key:"root",storage:uz},hz=KB(dz,RB),ut=lB({reducer:hz,middleware:[Eg]}),fz=ez(ut),Wc=async()=>{try{const t=ce(J,"publications"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ut.dispatch(bB(n))}catch(t){console.error("Error fetching Publications:",t)}};async function pz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=$e(J,"publications",t);await dn(e),alert("Publications deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Publications!")}}}var uA={exports:{}},dA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=A;function mz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gz=typeof Object.is=="function"?Object.is:mz,vz=qc.useSyncExternalStore,yz=qc.useRef,xz=qc.useEffect,wz=qc.useMemo,bz=qc.useDebugValue;dA.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=yz(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=wz(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return h=g}return h=p}if(g=h,gz(d,p))return g;var y=r(p);return s!==void 0&&s(g,y)?g:(d=p,h=y)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=vz(t,i[0],i[1]);return xz(function(){o.hasValue=!0,o.value=l},[l]),bz(l),l};uA.exports=dA;var _z=uA.exports,Cn="default"in Bp?Ie:Bp,b_=Symbol.for("react-redux-context"),__=typeof globalThis<"u"?globalThis:{};function Ez(){if(!Cn.createContext)return{};const t=__[b_]??(__[b_]=new Map);let e=t.get(Cn.createContext);return e||(e=Cn.createContext(null),t.set(Cn.createContext,e)),e}var ti=Ez(),jz=()=>{throw new Error("uSES not initialized!")};function Tx(t=ti){return function(){return Cn.useContext(t)}}var hA=Tx(),fA=jz,Sz=t=>{fA=t},Tz=(t,e)=>t===e;function Nz(t=ti){const e=t===ti?hA:Tx(t),n=(r,s={})=>{const{equalityFn:i=Tz,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:u,stabilityCheck:d,identityFunctionCheck:h}=e();Cn.useRef(!0);const f=Cn.useCallback({[r.name](g){return r(g)}}[r.name],[r,d,o.stabilityCheck]),p=fA(c.addNestedSub,l.getState,u||l.getState,f,i);return Cn.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var ee=Nz();function Iz(t){t()}function Az(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Iz(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var E_={notify(){},get:()=>[]};function Cz(t,e){let n,r=E_,s=0,i=!1;function o(y){d();const b=r.subscribe(y);let m=!1;return()=>{m||(m=!0,b(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=Az())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=E_)}function f(){i||(i=!0,d())}function p(){i&&(i=!1,h())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var Pz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kz=Pz?Cn.useLayoutEffect:Cn.useEffect;function Rz({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=Cn.useMemo(()=>{const u=Cz(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=Cn.useMemo(()=>t.getState(),[t]);kz(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,l]);const c=e||ti;return Cn.createElement(c.Provider,{value:o},n)}var Dz=Rz;function pA(t=ti){const e=t===ti?hA:Tx(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var Oz=pA();function Lz(t=ti){const e=t===ti?Oz:pA(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Mz=Lz();Sz(_z.useSyncExternalStoreWithSelector);const cs=async()=>{try{const t=ce(J,"supervisors"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null,l=i.profileImage,c=l?await Vz(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),ut.dispatch(_B(n))}catch(t){console.error("Error fetching Supervisors:",t)}},Vz=async t=>{try{const e=Le(Me,`/peoples/supervisor_profile_images/${t}`);return await ui(e)}catch{return null}};async function Fz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=$e(J,"supervisors",t),s=(await Jn(e)).data().profileImage;if(await dn(e),s){const i=Le(Me,`/peoples/supervisor_profile_images/${s}`);await fs(i)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Supervisors!")}}}var mA={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Al,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,o={},l=0,c={parse:function(w,_){var T=(_=_||{}).dynamicTyping||!1;if(N(T)&&(_.dynamicTypingFunction=T,T={}),_.dynamicTyping=T,_.transform=!!N(_.transform)&&_.transform,_.worker&&c.WORKERS_SUPPORTED){var C=function(){if(!c.WORKERS_SUPPORTED)return!1;var R=(L=r.URL||r.webkitURL||null,z=n.toString(),c.BLOB_URL||(c.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",z,")();"],{type:"text/javascript"})))),I=new r.Worker(R),L,z;return I.onmessage=x,I.id=l++,o[I.id]=I}();return C.userStep=_.step,C.userChunk=_.chunk,C.userComplete=_.complete,C.userError=_.error,_.step=N(_.step),_.chunk=N(_.chunk),_.complete=N(_.complete),_.error=N(_.error),delete _.worker,void C.postMessage({input:w,config:_,workerId:C.id})}var P=null;return c.NODE_STREAM_INPUT,typeof w=="string"?(w=function(R){return R.charCodeAt(0)===65279?R.slice(1):R}(w),P=_.download?new h(_):new p(_)):w.readable===!0&&N(w.read)&&N(w.on)?P=new g(_):(r.File&&w instanceof File||w instanceof Object)&&(P=new f(_)),P.stream(w)},unparse:function(w,_){var T=!1,C=!0,P=",",R=`\r
`,I='"',L=I+I,z=!1,F=null,D=!1;(function(){if(typeof _=="object"){if(typeof _.delimiter!="string"||c.BAD_DELIMITERS.filter(function(k){return _.delimiter.indexOf(k)!==-1}).length||(P=_.delimiter),(typeof _.quotes=="boolean"||typeof _.quotes=="function"||Array.isArray(_.quotes))&&(T=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(z=_.skipEmptyLines),typeof _.newline=="string"&&(R=_.newline),typeof _.quoteChar=="string"&&(I=_.quoteChar),typeof _.header=="boolean"&&(C=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");F=_.columns}_.escapeChar!==void 0&&(L=_.escapeChar+I),(typeof _.escapeFormulae=="boolean"||_.escapeFormulae instanceof RegExp)&&(D=_.escapeFormulae instanceof RegExp?_.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var O=new RegExp(b(I),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return U(null,w,z);if(typeof w[0]=="object")return U(F||Object.keys(w[0]),w,z)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||F),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),U(w.fields||[],w.data||[],z);throw new Error("Unable to serialize unrecognized input");function U(k,M,Y){var ne="";typeof k=="string"&&(k=JSON.parse(k)),typeof M=="string"&&(M=JSON.parse(M));var oe=Array.isArray(k)&&0<k.length,ue=!Array.isArray(M[0]);if(oe&&C){for(var Ee=0;Ee<k.length;Ee++)0<Ee&&(ne+=P),ne+=G(k[Ee],Ee);0<M.length&&(ne+=R)}for(var H=0;H<M.length;H++){var re=oe?k.length:M[H].length,me=!1,K=oe?Object.keys(M[H]).length===0:M[H].length===0;if(Y&&!oe&&(me=Y==="greedy"?M[H].join("").trim()==="":M[H].length===1&&M[H][0].length===0),Y==="greedy"&&oe){for(var de=[],Oe=0;Oe<re;Oe++){var Ce=ue?k[Oe]:Oe;de.push(M[H][Ce])}me=de.join("").trim()===""}if(!me){for(var Te=0;Te<re;Te++){0<Te&&!K&&(ne+=P);var Ct=oe&&ue?k[Te]:Te;ne+=G(M[H][Ct],Te)}H<M.length-1&&(!Y||0<re&&!K)&&(ne+=R)}}return ne}function G(k,M){if(k==null)return"";if(k.constructor===Date)return JSON.stringify(k).slice(1,25);var Y=!1;D&&typeof k=="string"&&D.test(k)&&(k="'"+k,Y=!0);var ne=k.toString().replace(O,L);return(Y=Y||T===!0||typeof T=="function"&&T(k,M)||Array.isArray(T)&&T[M]||function(oe,ue){for(var Ee=0;Ee<ue.length;Ee++)if(-1<oe.indexOf(ue[Ee]))return!0;return!1}(ne,c.BAD_DELIMITERS)||-1<ne.indexOf(P)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?I+ne+I:ne}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=y,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var u=r.jQuery;u.fn.parse=function(w){var _=w.config||{},T=[];return this.each(function(R){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var I=0;I<this.files.length;I++)T.push({file:this.files[I],inputElem:this,instanceConfig:u.extend({},_)})}),C(),this;function C(){if(T.length!==0){var R,I,L,z,F=T[0];if(N(w.before)){var D=w.before(F.file,F.inputElem);if(typeof D=="object"){if(D.action==="abort")return R="AbortError",I=F.file,L=F.inputElem,z=D.reason,void(N(w.error)&&w.error({name:R},I,L,z));if(D.action==="skip")return void P();typeof D.config=="object"&&(F.instanceConfig=u.extend(F.instanceConfig,D.config))}else if(D==="skip")return void P()}var O=F.instanceConfig.complete;F.instanceConfig.complete=function(U){N(O)&&O(U,F.file,F.inputElem),P()},c.parse(F.file,F.instanceConfig)}else N(w.complete)&&w.complete()}function P(){T.splice(0,1),C()}}}function d(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var T=S(_);T.chunkSize=parseInt(T.chunkSize),_.step||_.chunk||(T.chunkSize=null),this._handle=new y(T),(this._handle.streamer=this)._config=T}).call(this,w),this.parseChunk=function(_,T){if(this.isFirstChunk&&N(this._config.beforeFirstChunk)){var C=this._config.beforeFirstChunk(_);C!==void 0&&(_=C)}this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+_;this._partialLine="";var R=this._handle.parse(P,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var I=R.meta.cursor;this._finished||(this._partialLine=P.substring(I-this._baseIndex),this._baseIndex=I),R&&R.data&&(this._rowCount+=R.data.length);var L=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:R,workerId:c.WORKER_ID,finished:L});else if(N(this._config.chunk)&&!T){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);R=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!L||!N(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(_){N(this._config.error)?this._config.error(_):i&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:_,finished:!1})}}function h(w){var _;(w=w||{}).chunkSize||(w.chunkSize=c.RemoteChunkSize),d.call(this,w),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),s||(_.onload=j(this._chunkLoaded,this),_.onerror=j(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var T=this._config.downloadRequestHeaders;for(var C in T)_.setRequestHeader(C,T[C])}if(this._config.chunkSize){var P=this._start+this._config.chunkSize-1;_.setRequestHeader("Range","bytes="+this._start+"-"+P)}try{_.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}s&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:_.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(T){var C=T.getResponseHeader("Content-Range");return C===null?-1:parseInt(C.substring(C.lastIndexOf("/")+1))}(_),this.parseChunk(_.responseText)))},this._chunkError=function(T){var C=_.statusText||T;this._sendError(new Error(C))}}function f(w){var _,T;(w=w||{}).chunkSize||(w.chunkSize=c.LocalChunkSize),d.call(this,w);var C=typeof FileReader<"u";this.stream=function(P){this._input=P,T=P.slice||P.webkitSlice||P.mozSlice,C?((_=new FileReader).onload=j(this._chunkLoaded,this),_.onerror=j(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input;if(this._config.chunkSize){var R=Math.min(this._start+this._config.chunkSize,this._input.size);P=T.call(P,this._start,R)}var I=_.readAsText(P,this._config.encoding);C||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(_.error)}}function p(w){var _;d.call(this,w=w||{}),this.stream=function(T){return _=T,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var T,C=this._config.chunkSize;return C?(T=_.substring(0,C),_=_.substring(C)):(T=_,_=""),this._finished=!_,this.parseChunk(T)}}}function g(w){d.call(this,w=w||{});var _=[],T=!0,C=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):T=!0},this._streamData=j(function(P){try{_.push(typeof P=="string"?P:P.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(R){this._streamError(R)}},this),this._streamError=j(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=j(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(w){var _,T,C,P=Math.pow(2,53),R=-P,I=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,L=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,z=this,F=0,D=0,O=!1,U=!1,G=[],k={data:[],errors:[],meta:{}};if(N(w.step)){var M=w.step;w.step=function(H){if(k=H,oe())ne();else{if(ne(),k.data.length===0)return;F+=H.data.length,w.preview&&F>w.preview?T.abort():(k.data=k.data[0],M(k,z))}}}function Y(H){return w.skipEmptyLines==="greedy"?H.join("").trim()==="":H.length===1&&H[0].length===0}function ne(){return k&&C&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),C=!1),w.skipEmptyLines&&(k.data=k.data.filter(function(H){return!Y(H)})),oe()&&function(){if(!k)return;function H(me,K){N(w.transformHeader)&&(me=w.transformHeader(me,K)),G.push(me)}if(Array.isArray(k.data[0])){for(var re=0;oe()&&re<k.data.length;re++)k.data[re].forEach(H);k.data.splice(0,1)}else k.data.forEach(H)}(),function(){if(!k||!w.header&&!w.dynamicTyping&&!w.transform)return k;function H(me,K){var de,Oe=w.header?{}:[];for(de=0;de<me.length;de++){var Ce=de,Te=me[de];w.header&&(Ce=de>=G.length?"__parsed_extra":G[de]),w.transform&&(Te=w.transform(Te,Ce)),Te=ue(Ce,Te),Ce==="__parsed_extra"?(Oe[Ce]=Oe[Ce]||[],Oe[Ce].push(Te)):Oe[Ce]=Te}return w.header&&(de>G.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+de,D+K):de<G.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+de,D+K)),Oe}var re=1;return!k.data.length||Array.isArray(k.data[0])?(k.data=k.data.map(H),re=k.data.length):k.data=H(k.data,0),w.header&&k.meta&&(k.meta.fields=G),D+=re,k}()}function oe(){return w.header&&G.length===0}function ue(H,re){return me=H,w.dynamicTypingFunction&&w.dynamicTyping[me]===void 0&&(w.dynamicTyping[me]=w.dynamicTypingFunction(me)),(w.dynamicTyping[me]||w.dynamicTyping)===!0?re==="true"||re==="TRUE"||re!=="false"&&re!=="FALSE"&&(function(K){if(I.test(K)){var de=parseFloat(K);if(R<de&&de<P)return!0}return!1}(re)?parseFloat(re):L.test(re)?new Date(re):re===""?null:re):re;var me}function Ee(H,re,me,K){var de={type:H,code:re,message:me};K!==void 0&&(de.row=K),k.errors.push(de)}this.parse=function(H,re,me){var K=w.quoteChar||'"';if(w.newline||(w.newline=function(Ce,Te){Ce=Ce.substring(0,1048576);var Ct=new RegExp(b(Te)+"([^]*?)"+b(Te),"gm"),bt=(Ce=Ce.replace(Ct,"")).split("\r"),Ut=Ce.split(`
`),nn=1<Ut.length&&Ut[0].length<bt[0].length;if(bt.length===1||nn)return`
`;for(var _t=0,ke=0;ke<bt.length;ke++)bt[ke][0]===`
`&&_t++;return _t>=bt.length/2?`\r
`:"\r"}(H,K)),C=!1,w.delimiter)N(w.delimiter)&&(w.delimiter=w.delimiter(H),k.meta.delimiter=w.delimiter);else{var de=function(Ce,Te,Ct,bt,Ut){var nn,_t,ke,Z;Ut=Ut||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ke=0;Ke<Ut.length;Ke++){var W=Ut[Ke],Ne=0,Pe=0,$t=0;ke=void 0;for(var jn=new m({comments:bt,delimiter:W,newline:Te,preview:10}).parse(Ce),tr=0;tr<jn.data.length;tr++)if(Ct&&Y(jn.data[tr]))$t++;else{var nr=jn.data[tr].length;Pe+=nr,ke!==void 0?0<nr&&(Ne+=Math.abs(nr-ke),ke=nr):ke=nr}0<jn.data.length&&(Pe/=jn.data.length-$t),(_t===void 0||Ne<=_t)&&(Z===void 0||Z<Pe)&&1.99<Pe&&(_t=Ne,nn=W,Z=Pe)}return{successful:!!(w.delimiter=nn),bestDelimiter:nn}}(H,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);de.successful?w.delimiter=de.bestDelimiter:(C=!0,w.delimiter=c.DefaultDelimiter),k.meta.delimiter=w.delimiter}var Oe=S(w);return w.preview&&w.header&&Oe.preview++,_=H,T=new m(Oe),k=T.parse(_,re,me),ne(),O?{meta:{paused:!0}}:k||{meta:{paused:!1}}},this.paused=function(){return O},this.pause=function(){O=!0,T.abort(),_=N(w.chunk)?"":_.substring(T.getCharIndex())},this.resume=function(){z.streamer._halted?(O=!1,z.streamer.parseChunk(_,!0)):setTimeout(z.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,T.abort(),k.meta.aborted=!0,N(w.complete)&&w.complete(k),_=""}}function b(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(w){var _,T=(w=w||{}).delimiter,C=w.newline,P=w.comments,R=w.step,I=w.preview,L=w.fastMode,z=_=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(z=w.escapeChar),(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=","),P===T)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<c.BAD_DELIMITERS.indexOf(P))&&(P=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var F=0,D=!1;this.parse=function(O,U,G){if(typeof O!="string")throw new Error("Input must be a string");var k=O.length,M=T.length,Y=C.length,ne=P.length,oe=N(R),ue=[],Ee=[],H=[],re=F=0;if(!O)return Un();if(w.header&&!U){var me=O.split(C)[0].split(T),K=[],de={},Oe=!1;for(var Ce in me){var Te=me[Ce];N(w.transformHeader)&&(Te=w.transformHeader(Te,Ce));var Ct=Te,bt=de[Te]||0;for(0<bt&&(Oe=!0,Ct=Te+"_"+bt),de[Te]=bt+1;K.includes(Ct);)Ct=Ct+"_"+bt;K.push(Ct)}if(Oe){var Ut=O.split(C);Ut[0]=K.join(T),O=Ut.join(C)}}if(L||L!==!1&&O.indexOf(_)===-1){for(var nn=O.split(C),_t=0;_t<nn.length;_t++){if(H=nn[_t],F+=H.length,_t!==nn.length-1)F+=C.length;else if(G)return Un();if(!P||H.substring(0,ne)!==P){if(oe){if(ue=[],$t(H.split(T)),Gc(),D)return Un()}else $t(H.split(T));if(I&&I<=_t)return ue=ue.slice(0,I),Un(!0)}}return Un()}for(var ke=O.indexOf(T,F),Z=O.indexOf(C,F),Ke=new RegExp(b(z)+b(_),"g"),W=O.indexOf(_,F);;)if(O[F]!==_)if(P&&H.length===0&&O.substring(F,F+ne)===P){if(Z===-1)return Un();F=Z+Y,Z=O.indexOf(C,F),ke=O.indexOf(T,F)}else if(ke!==-1&&(ke<Z||Z===-1))H.push(O.substring(F,ke)),F=ke+M,ke=O.indexOf(T,F);else{if(Z===-1)break;if(H.push(O.substring(F,Z)),nr(Z+Y),oe&&(Gc(),D))return Un();if(I&&ue.length>=I)return Un(!0)}else for(W=F,F++;;){if((W=O.indexOf(_,W+1))===-1)return G||Ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ue.length,index:F}),tr();if(W===k-1)return tr(O.substring(F,W).replace(Ke,_));if(_!==z||O[W+1]!==z){if(_===z||W===0||O[W-1]!==z){ke!==-1&&ke<W+1&&(ke=O.indexOf(T,W+1)),Z!==-1&&Z<W+1&&(Z=O.indexOf(C,W+1));var Ne=jn(Z===-1?ke:Math.min(ke,Z));if(O.substr(W+1+Ne,M)===T){H.push(O.substring(F,W).replace(Ke,_)),O[F=W+1+Ne+M]!==_&&(W=O.indexOf(_,F)),ke=O.indexOf(T,F),Z=O.indexOf(C,F);break}var Pe=jn(Z);if(O.substring(W+1+Pe,W+1+Pe+Y)===C){if(H.push(O.substring(F,W).replace(Ke,_)),nr(W+1+Pe+Y),ke=O.indexOf(T,F),W=O.indexOf(_,F),oe&&(Gc(),D))return Un();if(I&&ue.length>=I)return Un(!0);break}Ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ue.length,index:F}),W++}}else W++}return tr();function $t($n){ue.push($n),re=F}function jn($n){var Lx=0;if($n!==-1){var bf=O.substring(W+1,$n);bf&&bf.trim()===""&&(Lx=bf.length)}return Lx}function tr($n){return G||($n===void 0&&($n=O.substring(F)),H.push($n),F=k,$t(H),oe&&Gc()),Un()}function nr($n){F=$n,$t(H),H=[],Z=O.indexOf(C,F)}function Un($n){return{data:ue,errors:Ee,meta:{delimiter:T,linebreak:C,aborted:D,truncated:!!$n,cursor:re+(U||0)}}}function Gc(){R(Un()),ue=[],Ee=[]}},this.abort=function(){D=!0},this.getCharIndex=function(){return F}}function x(w){var _=w.data,T=o[_.workerId],C=!1;if(_.error)T.userError(_.error,_.file);else if(_.results&&_.results.data){var P={abort:function(){C=!0,v(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(N(T.userStep)){for(var R=0;R<_.results.data.length&&(T.userStep({data:_.results.data[R],errors:_.results.errors,meta:_.results.meta},P),!C);R++);delete _.results}else N(T.userChunk)&&(T.userChunk(_.results,P,_.file),delete _.results)}_.finished&&!C&&v(_.workerId,_.results)}function v(w,_){var T=o[w];N(T.userComplete)&&T.userComplete(_),T.terminate(),delete o[w]}function E(){throw new Error("Not implemented.")}function S(w){if(typeof w!="object"||w===null)return w;var _=Array.isArray(w)?[]:{};for(var T in w)_[T]=S(w[T]);return _}function j(w,_){return function(){w.apply(_,arguments)}}function N(w){return typeof w=="function"}return i&&(r.onmessage=function(w){var _=w.data;if(c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0});else if(r.File&&_.input instanceof File||_.input instanceof Object){var T=c.parse(_.input,_.config);T&&r.postMessage({workerId:c.WORKER_ID,results:T,finished:!0})}}),(h.prototype=Object.create(d.prototype)).constructor=h,(f.prototype=Object.create(d.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,c})})(mA);var Uz=mA.exports;const gA=yo(Uz);function vA(t,e,n){const r=t+e,s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(s);i.setAttribute("href",o),i.setAttribute("download",`${n}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const $z=`Type of Article,Authors,Paper Title,Publisher,Publication Year,Name of Journal,Volume,DOI Link,Impact Factor,No. of Pages,ISBN
`,Bz=`Conference,"Kulkarni A, Phutke SS, Vipparthi SK, Murala S",C2AIR: Consolidated Compact Aerial Image Haze Removal,IEEE Transactions on Cognitive and Developmental Systems,2020,Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision,4,304-402,7,300,5
`;let Eu;const zz=new Uint8Array(16);function Hz(){if(!Eu&&(Eu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Eu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Eu(zz)}const Pt=[];for(let t=0;t<256;++t)Pt.push((t+256).toString(16).slice(1));function Wz(t,e=0){return Pt[t[e+0]]+Pt[t[e+1]]+Pt[t[e+2]]+Pt[t[e+3]]+"-"+Pt[t[e+4]]+Pt[t[e+5]]+"-"+Pt[t[e+6]]+Pt[t[e+7]]+"-"+Pt[t[e+8]]+Pt[t[e+9]]+"-"+Pt[t[e+10]]+Pt[t[e+11]]+Pt[t[e+12]]+Pt[t[e+13]]+Pt[t[e+14]]+Pt[t[e+15]]}const qz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),j_={randomUUID:qz};function Nx(t,e,n){if(j_.randomUUID&&!e&&!t)return j_.randomUUID();t=t||{};const r=t.random||(t.rng||Hz)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return Wz(r)}const V=(t,e)=>{const n=ut.getState().getalerts.data;ut.dispatch(tA([...n,{id:Nx(),type:t,content:e}]))},Gz=()=>{const t=ee(I=>I.getpublications.data),e=ee(I=>I.getauth),n=ee(I=>I.getsupervisors.data),[r,s]=A.useState(""),[i,o]=A.useState(""),[l,c]=A.useState(""),[u,d]=A.useState(""),[h,f]=A.useState(""),[p,g]=A.useState(""),[y,b]=A.useState(""),[m,x]=A.useState(""),[v,E]=A.useState(""),[S,j]=A.useState(""),[N,w]=A.useState(""),[_,T]=A.useState(e!=null&&e.userType.includes("SUPERVISOR")?[e==null?void 0:e.email]:[]),[C,P]=A.useState(!1);A.useEffect(()=>{Wc(),cs()},[]);const R=I=>{if(I.preventDefault(),!r||!i||!l||!u||!h||!p||!y||!m||!v||!S||!N){V("danger","Please fill all required fields!");return}P(!0),nt(ce(J,"publications"),{paperTitle:r,paperType:i,publisher:l,publicationDate:u,link:h,author:p,journalName:y,pages:m,volume:v,impact:S,isbn:N,users:_}).then(()=>{V("success","Publication has been saved! You can view it in the admin panel."),P(!1),window.location.reload()}).catch(()=>{V("danger","Error adding Publication! Please try again later."),P(!1)})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"List of Publications"}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add Publication"}),a.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contributors"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Impact Factor"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Pages"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publisher"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Publication Date"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Volume"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Journal Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper Type"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"ISBN"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((I,L)=>{var Ee,H;const{paperTitle:z,author:F,impact:D,link:O,pages:U,publisher:G,publicationDate:k,volume:M,journalName:Y,paperType:ne,isbn:oe,users:ue}=I==null?void 0:I.data;return a.jsxs("tr",{children:[a.jsx("td",{children:L+1}),a.jsx("td",{className:"fw-bold text-danger",children:z==null?void 0:z.stringValue}),a.jsx("td",{children:F==null?void 0:F.stringValue}),a.jsx("td",{children:D==null?void 0:D.stringValue}),a.jsx("td",{children:U==null?void 0:U.stringValue}),a.jsx("td",{children:G==null?void 0:G.stringValue}),a.jsx("td",{children:k==null?void 0:k.stringValue}),a.jsx("td",{children:M==null?void 0:M.stringValue}),a.jsx("td",{children:Y==null?void 0:Y.stringValue}),a.jsx("td",{children:ne==null?void 0:ne.stringValue}),a.jsx("td",{children:oe==null?void 0:oe.stringValue}),a.jsx("td",{children:a.jsx("a",{href:O==null?void 0:O.stringValue,target:"_blank",rel:"noopener noreferrer",className:"btn btn-link",children:"Link"})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(Ee=e==null?void 0:e.userType)!=null&&Ee.includes("ADMIN")||(H=ue==null?void 0:ue.arrayValue)!=null&&H.values.some(re=>(re==null?void 0:re.stringValue)==e.email)?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(ie,{className:"dropdown-item text-primary",to:I==null?void 0:I._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>pz(I._id),children:"Delete"})})]}):"NA"})]})})]},I._id)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:R,noValidate:!0,children:[a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:r,onChange:I=>s(I.target.value),required:!0,disabled:C})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{disabled:e.userType.includes("SUPERVISOR")&&!e.userType.includes("ADMIN"),name:"userEmail",className:"form-control",onChange:I=>{const L=I.target.value;if(!(!_||L==""))if(L==="other"){let z=prompt("Please enter supervisor Email (ie. user@gmail.com):");z&&T([..._,z])}else _.includes(L)?alert("User with this name already existed."):T([..._,L])},children:[a.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((I,L)=>{var z,F,D;return a.jsxs("option",{value:(z=I==null?void 0:I.data)==null?void 0:z.email,children:[(F=I==null?void 0:I.data)==null?void 0:F.name,"-",(D=I==null?void 0:I.data)==null?void 0:D.email]},L)}),a.jsx("option",{value:"other",children:"Other"})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:_==null?void 0:_.map((I,L)=>a.jsxs("span",{className:"badge bg-success",children:[I," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(e!=null&&e.userType.includes("SUPERVISOR"))&&confirm("Are you sure want to remove?")){const z=_.filter(F=>F!==I);T(z)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},L))})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"paperType",value:i,onChange:I=>o(I.target.value),required:!0,disabled:C,children:[a.jsx("option",{value:"",children:"---select type---"}),a.jsx("option",{value:"Conference",children:"Conference"}),a.jsx("option",{value:"Patent",children:"Patent"}),a.jsx("option",{value:"Journal",children:"Journal"}),a.jsx("option",{value:"Book",children:"Book"}),a.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),a.jsx("option",{value:"Publications",children:"Publications"})]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:l,onChange:I=>c(I.target.value),required:!0,disabled:C})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:u,onChange:I=>d(I.target.value),required:!0,disabled:C,children:[a.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((I,L)=>a.jsx("option",{value:2008+L,children:2008+L},L))]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),a.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:h,onChange:I=>f(I.target.value),disabled:C})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:I=>g(I.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:C})]}),a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:y,onChange:I=>b(I.target.value),required:!0,disabled:C}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),a.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:m,onChange:I=>x(I.target.value),disabled:C})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),a.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:v,onChange:I=>E(I.target.value),disabled:C})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),a.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:S,onChange:I=>j(I.target.value),disabled:C})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),a.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:N,onChange:I=>w(I.target.value),disabled:C})]})]}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:C,children:C?"Please Wait...":"Submit"})]})})]})})}),a.jsx(Kz,{getsupervisors:n,userType:e==null?void 0:e.userType,userEmail:e==null?void 0:e.email})]})},Kz=({getsupervisors:t,userType:e,userEmail:n})=>{const r=A.useRef(null),[s,i]=A.useState(!1),[o,l]=A.useState(e.includes("SUPERVISOR")?[n]:[]),[c,u]=A.useState([]),d=p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];g&&gA.parse(g,{complete:b=>{const m=b.data.filter(x=>Object.values(x).some(v=>v!==""));u(m)},header:!0})},h=async p=>{try{return!(await We(Yr(ce(J,"publications"),br("paperTitle","==",p)))).empty}catch{return!1}},f=async p=>{if(p.preventDefault(),!o.length){V("danger","Error! Please select supervisors.");return}if(!c.length){V("danger","ERROR! Invalid CSV File Selected.");return}i(!0);const g=c.map(async y=>{const b=Object.values(y);if(!await h(b[2]))return nt(ce(J,"publications"),{paperTitle:b[2],paperType:b[0],publisher:b[3],publicationDate:b[4],link:b[7],author:b[1],journalName:b[5],pages:b[9],volume:b[6],impact:b[8],isbn:b[10],users:o})});await Promise.all(g),V("success","Publications have been saved!"),i(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Publications"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*(these publications will be shown for selected supervisors)"})]}),a.jsxs("select",{disabled:e.includes("SUPERVISOR")&&!e.includes("ADMIN"),name:"userEmail",className:"form-control",onChange:p=>{const g=p.target.value;!o||g===""||(o.includes(g)?alert("User with this name already existed."):l([...o,g]))},children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((p,g)=>{var y,b,m;return a.jsxs("option",{value:(y=p==null?void 0:p.data)==null?void 0:y.name,children:[(b=p==null?void 0:p.data)==null?void 0:b.name,"-",(m=p==null?void 0:p.data)==null?void 0:m.email]},g)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:o==null?void 0:o.map((p,g)=>a.jsxs("span",{className:"badge bg-success",children:[p," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(e!=="SUPERVISOR"&&confirm("Are you sure want to remove?")){const y=o.filter(b=>b!==p);l(y)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},g))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>vA($z,Bz,"sample_publications_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{ref:r,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:d})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:c.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(c[0]).map(p=>a.jsx("th",{children:p},p))})}),a.jsx("tbody",{children:c.map((p,g)=>a.jsx("tr",{children:Object.values(p).map((y,b)=>a.jsx("td",{children:y},b))},g))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:s,onClick:f,children:s?"Please Wait...":"Submit"})]})]})})})},yA=async()=>{try{const t=ce(J,"news"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.description.stringValue,c=i.timestamp.stringValue,u=i.title.stringValue;n.push({_id:o,title:u,datetime1:c,description:l})});await Promise.all(r),ut.dispatch(xB(n))}catch(t){console.error("Error fetching news:",t)}};async function Yz(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=$e(J,"news",t);await dn(e),alert("News item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting News!")}}}async function Qz(t,e){try{const n=$e(J,"news",t),i={...(await Jn(n)).data(),...e};await b2(n,i,{merge:!0}),alert("News item edited successfully.")}catch(n){console.log(n),alert("Error editing news!")}}const S_=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:s,setTitle:i,submitHandler:o,_id:l})=>a.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog ",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>i(c.target.value),disabled:t,value:e})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),a.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",onChange:c=>s(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:o,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),Xz=()=>{const t=ee(h=>h.getnews).data,[e,n]=A.useState(),[r,s]=A.useState(),[i,o]=A.useState(),[l,c]=A.useState(!1);A.useEffect(()=>{yA()},[]);const u=()=>{if(!e||!r||!i){V("danger","Please fill all required fields.");return}c(!0),nt(ce(J,"news"),{title:r,timestamp:i,description:e}).then(()=>{V("success","News has been saved! You can view it in the admin panel."),s(""),n(""),c(!1),window.location.reload()}).catch(h=>{V("danger","Error! While adding a News, Check you internet connnection and Try Again later."),console.error("Error saving image data:",h),c(!1)})},d=h=>{o(h.datetime1),s(h.title)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Latest News"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{children:h.title}),a.jsx("td",{children:Jz(h==null?void 0:h.datetime1)}),a.jsx("td",{children:h.description}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Yz(h._id),children:"Delete"})}),a.jsxs("li",{children:[a.jsx("button",{className:"dropdown-item text-primary",onClick:()=>d(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),a.jsx(S_,{_id:`EditNewsModal${h._id}`,submitHandler:()=>Qz(h._id,{title:r,datetime:i}),datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})]})]})})]},f))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"News Not Found!"})})})]})]}),a.jsx(S_,{_id:"AddNewsModal",submitHandler:u,datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})},Jz=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},Zz=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),s=async i=>{if(i.preventDefault(),t!==n||t===""||n===""){V("warning","Passwords do not match");return}const o=Yt.currentUser;if(!o){location.href="/CVPR_LAB/#/";return}o?h4(o,n).then(()=>{V("success","Password updated successfully"),location.href="/CVPR_LAB/#/dashboard"}).catch(l=>{V("danger","Error while changing the password, Message: "+e9(l.code).toUpperCase())}):V("danger","No user is currently signed in."),r(""),e("")};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{children:"Change Password"})}),a.jsx("hr",{}),a.jsxs("form",{className:"card g-3 p-3 gap-3 my-3 rounded-1 ",onSubmit:s,noValidate:!0,children:[a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),a.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:i=>e(i.target.value),required:!0}),a.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:i=>r(i.target.value),required:!0})]}),a.jsx("div",{className:"",children:a.jsx("button",{type:"submit",className:"btn btn-primary text-uppercase w-full w-100 p-3",children:"Submit"})})]})]})})};function e9(t){const e=t.indexOf("/");return e!==-1?t.substring(e+1):""}/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function T_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(n),!0).forEach(function(r){r9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function t9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bA(r.key),r)}}function n9(t,e,n){return e&&N_(t.prototype,e),n&&N_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r9(t,e,n){return e=bA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wA(t){return s9(t)||i9(t)||a9(t)||o9()}function s9(t){if(Array.isArray(t))return Ng(t)}function i9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a9(t,e){if(t){if(typeof t=="string")return Ng(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ng(t,e)}}function Ng(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bA(t){var e=l9(t,"string");return typeof e=="symbol"?e:String(e)}var vf=typeof window<"u"&&typeof window.document<"u",Mr=vf?window:{},Ix=vf&&Mr.document.documentElement?"ontouchstart"in Mr.document.documentElement:!1,Ax=vf?"PointerEvent"in Mr:!1,Qe="cropper",Cx="all",_A="crop",EA="move",jA="zoom",di="e",hi="w",ma="s",ys="n",Ho="ne",Wo="nw",qo="se",Go="sw",Ig="".concat(Qe,"-crop"),I_="".concat(Qe,"-disabled"),mn="".concat(Qe,"-hidden"),A_="".concat(Qe,"-hide"),c9="".concat(Qe,"-invisible"),nh="".concat(Qe,"-modal"),Ag="".concat(Qe,"-move"),fc="".concat(Qe,"Action"),ju="".concat(Qe,"Preview"),Px="crop",SA="move",TA="none",Cg="crop",Pg="cropend",kg="cropmove",Rg="cropstart",C_="dblclick",u9=Ix?"touchstart":"mousedown",d9=Ix?"touchmove":"mousemove",h9=Ix?"touchend touchcancel":"mouseup",P_=Ax?"pointerdown":u9,k_=Ax?"pointermove":d9,R_=Ax?"pointerup pointercancel":h9,D_="ready",O_="resize",L_="wheel",Dg="zoom",M_="image/jpeg",f9=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,p9=/^data:/,m9=/^data:image\/jpeg;base64,/,g9=/^img|canvas$/i,NA=200,IA=100,V_={viewMode:0,dragMode:Px,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:NA,minContainerHeight:IA,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},v9='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',y9=Number.isNaN||Mr.isNaN;function xe(t){return typeof t=="number"&&!y9(t)}var F_=function(e){return e>0&&e<1/0};function Np(t){return typeof t>"u"}function Qi(t){return Tg(t)==="object"&&t!==null}var x9=Object.prototype.hasOwnProperty;function Ra(t){if(!Qi(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&x9.call(n,"isPrototypeOf")}catch{return!1}}function fn(t){return typeof t=="function"}var w9=Array.prototype.slice;function AA(t){return Array.from?Array.from(t):w9.call(t)}function mt(t,e){return t&&fn(e)&&(Array.isArray(t)||xe(t.length)?AA(t).forEach(function(n,r){e.call(t,n,r,t)}):Qi(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var Ze=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Qi(e)&&r.length>0&&r.forEach(function(i){Qi(i)&&Object.keys(i).forEach(function(o){e[o]=i[o]})}),e},b9=/\.\d*(?:0|9){12}\d*$/;function Ka(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return b9.test(t)?Math.round(t*e)/e:t}var _9=/^width|height|left|top|marginLeft|marginTop$/;function ks(t,e){var n=t.style;mt(e,function(r,s){_9.test(s)&&xe(r)&&(r="".concat(r,"px")),n[s]=r})}function E9(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Et(t,e){if(e){if(xe(t.length)){mt(t,function(r){Et(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Dr(t,e){if(e){if(xe(t.length)){mt(t,function(n){Dr(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Da(t,e,n){if(e){if(xe(t.length)){mt(t,function(r){Da(r,e,n)});return}n?Et(t,e):Dr(t,e)}}var j9=/([a-z\d])([A-Z])/g;function kx(t){return t.replace(j9,"$1-$2").toLowerCase()}function Og(t,e){return Qi(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(kx(e)))}function pc(t,e,n){Qi(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(kx(e)),n)}function S9(t,e){if(Qi(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(kx(e)))}var CA=/\s\s*/,PA=function(){var t=!1;if(vf){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Mr.addEventListener("test",n,r),Mr.removeEventListener("test",n,r)}return t}();function sr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(CA).forEach(function(i){if(!PA){var o=t.listeners;o&&o[i]&&o[i][n]&&(s=o[i][n],delete o[i][n],Object.keys(o[i]).length===0&&delete o[i],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Bn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(CA).forEach(function(i){if(r.once&&!PA){var o=t.listeners,l=o===void 0?{}:o;s=function(){delete l[i][n],t.removeEventListener(i,s,r);for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];n.apply(t,d)},l[i]||(l[i]={}),l[i][n]&&t.removeEventListener(i,l[i][n],r),l[i][n]=s,t.listeners=l}t.addEventListener(i,s,r)})}function Ya(t,e,n){var r;return fn(Event)&&fn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function kA(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ip=Mr.location,T9=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function U_(t){var e=t.match(T9);return e!==null&&(e[1]!==Ip.protocol||e[2]!==Ip.hostname||e[3]!==Ip.port)}function $_(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Nl(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,o=[];xe(s)&&s!==0&&o.push("translateX(".concat(s,"px)")),xe(i)&&i!==0&&o.push("translateY(".concat(i,"px)")),xe(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),xe(n)&&n!==1&&o.push("scaleX(".concat(n,")")),xe(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function N9(t){var e=xA({},t),n=0;return mt(t,function(r,s){delete e[s],mt(e,function(i){var o=Math.abs(r.startX-i.startX),l=Math.abs(r.startY-i.startY),c=Math.abs(r.endX-i.endX),u=Math.abs(r.endY-i.endY),d=Math.sqrt(o*o+l*l),h=Math.sqrt(c*c+u*u),f=(h-d)/d;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Su(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:xA({startX:n,startY:r},s)}function I9(t){var e=0,n=0,r=0;return mt(t,function(s){var i=s.startX,o=s.startY;e+=i,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function Rs(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=F_(r),o=F_(n);if(i&&o){var l=n*e;s==="contain"&&l>r||s==="cover"&&l<r?n=r/e:r=n*e}else i?n=r/e:o&&(r=n*e);return{width:r,height:n}}function A9(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),o=Math.cos(s),l=e*o+n*i,c=e*i+n*o;return r>90?{width:c,height:l}:{width:l,height:c}}function C9(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,o=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,u=e.scaleX,d=u===void 0?1:u,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,y=n.naturalHeight,b=r.fillColor,m=b===void 0?"transparent":b,x=r.imageSmoothingEnabled,v=x===void 0?!0:x,E=r.imageSmoothingQuality,S=E===void 0?"low":E,j=r.maxWidth,N=j===void 0?1/0:j,w=r.maxHeight,_=w===void 0?1/0:w,T=r.minWidth,C=T===void 0?0:T,P=r.minHeight,R=P===void 0?0:P,I=document.createElement("canvas"),L=I.getContext("2d"),z=Rs({aspectRatio:p,width:N,height:_}),F=Rs({aspectRatio:p,width:C,height:R},"cover"),D=Math.min(z.width,Math.max(F.width,g)),O=Math.min(z.height,Math.max(F.height,y)),U=Rs({aspectRatio:s,width:N,height:_}),G=Rs({aspectRatio:s,width:C,height:R},"cover"),k=Math.min(U.width,Math.max(G.width,i)),M=Math.min(U.height,Math.max(G.height,o)),Y=[-k/2,-M/2,k,M];return I.width=Ka(D),I.height=Ka(O),L.fillStyle=m,L.fillRect(0,0,D,O),L.save(),L.translate(D/2,O/2),L.rotate(c*Math.PI/180),L.scale(d,f),L.imageSmoothingEnabled=v,L.imageSmoothingQuality=S,L.drawImage.apply(L,[t].concat(wA(Y.map(function(ne){return Math.floor(Ka(ne))})))),L.restore(),I}var RA=String.fromCharCode;function P9(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=RA(t.getUint8(s));return r}var k9=/^data:.*,/;function R9(t){var e=t.replace(k9,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return mt(s,function(i,o){s[o]=n.charCodeAt(o)}),r}function D9(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(RA.apply(null,AA(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function O9(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,l=2;l+1<o;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break}l+=1}if(s){var c=s+4,u=s+10;if(P9(e,c,4)==="Exif"){var d=e.getUint16(u);if(r=d===18761,(r||d===19789)&&e.getUint16(u+2,r)===42){var h=e.getUint32(u+4,r);h>=8&&(i=u+h)}}}if(i){var f=e.getUint16(i,r),p,g;for(g=0;g<f;g+=1)if(p=i+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function L9(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var M9={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),o=Number(n.minContainerHeight);Et(s,mn),Dr(e,mn);var l={width:Math.max(r.offsetWidth,i>=0?i:NA),height:Math.max(r.offsetHeight,o>=0?o:IA)};this.containerData=l,ks(s,{width:l.width,height:l.height}),Et(e,mn),Dr(s,mn)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,o=s?n.naturalWidth:n.naturalHeight,l=i/o,c=e.width,u=e.height;e.height*l>e.width?r===3?c=e.height*l:u=e.width/l:r===3?u=e.width/l:c=e.height*l;var d={aspectRatio:l,naturalWidth:i,naturalHeight:o,width:c,height:u};this.canvasData=d,this.limited=r===1||r===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=Ze({},d)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=r.viewMode,c=i.aspectRatio,u=this.cropped&&o;if(e){var d=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(d=Math.max(d,s.width),h=Math.max(h,s.height),l===3&&(h*c>d?d=h*c:h=d/c)):l>0&&(d?d=Math.max(d,u?o.width:0):h?h=Math.max(h,u?o.height:0):u&&(d=o.width,h=o.height,h*c>d?d=h*c:h=d/c));var f=Rs({aspectRatio:c,width:d,height:h});d=f.width,h=f.height,i.minWidth=d,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(l>(u?0:1)){var p=s.width-i.width,g=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,g),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,g),u&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,l===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,g),i.maxTop=Math.max(0,g))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=A9({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),o=i.width,l=i.height,c=r.width*(o/r.naturalWidth),u=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(u-r.height)/2,r.width=c,r.height=u,r.aspectRatio=o/l,r.naturalWidth=o,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,ks(this.canvas,Ze({width:r.width,height:r.height},Nl({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);Ze(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),ks(this.image,Ze({width:r.width,height:r.height},Nl(Ze({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=Ze({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var u=Number(r.minCropBoxWidth)||0,d=Number(r.minCropBoxHeight)||0,h=l?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,f=l?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;u=Math.min(u,s.width),d=Math.min(d,s.height),c&&(u&&d?d*c>u?d=u/c:u=d*c:u?d=u/c:d&&(u=d*c),f*c>h?f=h/c:h=f*c),o.minWidth=Math.min(u,h),o.minHeight=Math.min(d,f),o.maxWidth=h,o.maxHeight=f}n&&(l?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(s.width,i.left+i.width)-o.width,o.maxTop=Math.min(s.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=s.width-o.width,o.maxTop=s.height-o.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&pc(this.face,fc,r.width>=n.width&&r.height>=n.height?EA:Cx),ks(this.cropBox,Ze({width:r.width,height:r.height},Nl({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ya(this.element,Cg,this.getData())}},V9={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=s,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,mt(l,function(c){var u=document.createElement("img");pc(c,ju,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(u.crossOrigin=n),u.src=s,u.alt=i,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(u)})}},resetPreview:function(){mt(this.previews,function(e){var n=Og(e,ju);ks(e,{width:n.width,height:n.height}),e.innerHTML=n.html,S9(e,ju)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,o=e.width,l=e.height,c=r.left-n.left-e.left,u=r.top-n.top-e.top;!this.cropped||this.disabled||(ks(this.viewBoxImage,Ze({width:o,height:l},Nl(Ze({translateX:-c,translateY:-u},e)))),mt(this.previews,function(d){var h=Og(d,ju),f=h.width,p=h.height,g=f,y=p,b=1;s&&(b=f/s,y=i*b),i&&y>p&&(b=p/i,g=s*b,y=p),ks(d,{width:g,height:y}),ks(d.getElementsByTagName("img")[0],Ze({width:o*b,height:l*b},Nl(Ze({translateX:-c*b,translateY:-u*b},e))))}))}},F9={bind:function(){var e=this.element,n=this.options,r=this.cropper;fn(n.cropstart)&&Bn(e,Rg,n.cropstart),fn(n.cropmove)&&Bn(e,kg,n.cropmove),fn(n.cropend)&&Bn(e,Pg,n.cropend),fn(n.crop)&&Bn(e,Cg,n.crop),fn(n.zoom)&&Bn(e,Dg,n.zoom),Bn(r,P_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Bn(r,L_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Bn(r,C_,this.onDblclick=this.dblclick.bind(this)),Bn(e.ownerDocument,k_,this.onCropMove=this.cropMove.bind(this)),Bn(e.ownerDocument,R_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Bn(window,O_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;fn(n.cropstart)&&sr(e,Rg,n.cropstart),fn(n.cropmove)&&sr(e,kg,n.cropmove),fn(n.cropend)&&sr(e,Pg,n.cropend),fn(n.crop)&&sr(e,Cg,n.crop),fn(n.zoom)&&sr(e,Dg,n.zoom),sr(r,P_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&sr(r,L_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&sr(r,C_,this.onDblclick),sr(e.ownerDocument,k_,this.onCropMove),sr(e.ownerDocument,R_,this.onCropEnd),n.responsive&&sr(window,O_,this.onResize)}},U9={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,o=Math.abs(s-1)>Math.abs(i-1)?s:i;if(o!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(mt(l,function(u,d){l[d]=u*o})),this.setCropBoxData(mt(c,function(u,d){c[d]=u*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===TA||this.setDragMode(E9(this.dragBox,Ig)?SA:Px)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(xe(n)&&n!==1||xe(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,o;e.changedTouches?mt(e.changedTouches,function(l){i[l.identifier]=Su(l)}):i[e.pointerId||0]=Su(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?o=jA:o=Og(e.target,fc),f9.test(o)&&Ya(this.element,Rg,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===_A&&(this.cropping=!0,Et(this.dragBox,nh)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),Ya(this.element,kg,{originalEvent:e,action:n})!==!1&&(e.changedTouches?mt(e.changedTouches,function(s){Ze(r[s.identifier]||{},Su(s,!0))}):Ze(r[e.pointerId||0]||{},Su(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?mt(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Da(this.dragBox,nh,this.cropped&&this.options.modal)),Ya(this.element,Pg,{originalEvent:e,action:n}))}}},$9={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,o=this.pointers,l=this.action,c=n.aspectRatio,u=i.left,d=i.top,h=i.width,f=i.height,p=u+h,g=d+f,y=0,b=0,m=s.width,x=s.height,v=!0,E;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(y=i.minLeft,b=i.minTop,m=y+Math.min(s.width,r.width,r.left+r.width),x=b+Math.min(s.height,r.height,r.top+r.height));var S=o[Object.keys(o)[0]],j={x:S.endX-S.startX,y:S.endY-S.startY},N=function(_){switch(_){case di:p+j.x>m&&(j.x=m-p);break;case hi:u+j.x<y&&(j.x=y-u);break;case ys:d+j.y<b&&(j.y=b-d);break;case ma:g+j.y>x&&(j.y=x-g);break}};switch(l){case Cx:u+=j.x,d+=j.y;break;case di:if(j.x>=0&&(p>=m||c&&(d<=b||g>=x))){v=!1;break}N(di),h+=j.x,h<0&&(l=hi,h=-h,u-=h),c&&(f=h/c,d+=(i.height-f)/2);break;case ys:if(j.y<=0&&(d<=b||c&&(u<=y||p>=m))){v=!1;break}N(ys),f-=j.y,d+=j.y,f<0&&(l=ma,f=-f,d-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case hi:if(j.x<=0&&(u<=y||c&&(d<=b||g>=x))){v=!1;break}N(hi),h-=j.x,u+=j.x,h<0&&(l=di,h=-h,u-=h),c&&(f=h/c,d+=(i.height-f)/2);break;case ma:if(j.y>=0&&(g>=x||c&&(u<=y||p>=m))){v=!1;break}N(ma),f+=j.y,f<0&&(l=ys,f=-f,d-=f),c&&(h=f*c,u+=(i.width-h)/2);break;case Ho:if(c){if(j.y<=0&&(d<=b||p>=m)){v=!1;break}N(ys),f-=j.y,d+=j.y,h=f*c}else N(ys),N(di),j.x>=0?p<m?h+=j.x:j.y<=0&&d<=b&&(v=!1):h+=j.x,j.y<=0?d>b&&(f-=j.y,d+=j.y):(f-=j.y,d+=j.y);h<0&&f<0?(l=Go,f=-f,h=-h,d-=f,u-=h):h<0?(l=Wo,h=-h,u-=h):f<0&&(l=qo,f=-f,d-=f);break;case Wo:if(c){if(j.y<=0&&(d<=b||u<=y)){v=!1;break}N(ys),f-=j.y,d+=j.y,h=f*c,u+=i.width-h}else N(ys),N(hi),j.x<=0?u>y?(h-=j.x,u+=j.x):j.y<=0&&d<=b&&(v=!1):(h-=j.x,u+=j.x),j.y<=0?d>b&&(f-=j.y,d+=j.y):(f-=j.y,d+=j.y);h<0&&f<0?(l=qo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Ho,h=-h,u-=h):f<0&&(l=Go,f=-f,d-=f);break;case Go:if(c){if(j.x<=0&&(u<=y||g>=x)){v=!1;break}N(hi),h-=j.x,u+=j.x,f=h/c}else N(ma),N(hi),j.x<=0?u>y?(h-=j.x,u+=j.x):j.y>=0&&g>=x&&(v=!1):(h-=j.x,u+=j.x),j.y>=0?g<x&&(f+=j.y):f+=j.y;h<0&&f<0?(l=Ho,f=-f,h=-h,d-=f,u-=h):h<0?(l=qo,h=-h,u-=h):f<0&&(l=Wo,f=-f,d-=f);break;case qo:if(c){if(j.x>=0&&(p>=m||g>=x)){v=!1;break}N(di),h+=j.x,f=h/c}else N(ma),N(di),j.x>=0?p<m?h+=j.x:j.y>=0&&g>=x&&(v=!1):h+=j.x,j.y>=0?g<x&&(f+=j.y):f+=j.y;h<0&&f<0?(l=Wo,f=-f,h=-h,d-=f,u-=h):h<0?(l=Go,h=-h,u-=h):f<0&&(l=Ho,f=-f,d-=f);break;case EA:this.move(j.x,j.y),v=!1;break;case jA:this.zoom(N9(o),e),v=!1;break;case _A:if(!j.x||!j.y){v=!1;break}E=kA(this.cropper),u=S.startX-E.left,d=S.startY-E.top,h=i.minWidth,f=i.minHeight,j.x>0?l=j.y>0?qo:Ho:j.x<0&&(u-=h,l=j.y>0?Go:Wo),j.y<0&&(d-=f),this.cropped||(Dr(this.cropBox,mn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}v&&(i.width=h,i.height=f,i.left=u,i.top=d,this.action=l,this.renderCropBox()),mt(o,function(w){w.startX=w.endX,w.startY=w.endY})}},B9={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Et(this.dragBox,nh),Dr(this.cropBox,mn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ze({},this.initialImageData),this.canvasData=Ze({},this.initialCanvasData),this.cropBoxData=Ze({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ze(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Dr(this.dragBox,nh),Et(this.cropBox,mn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,mt(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Dr(this.cropper,I_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Et(this.cropper,I_)),this},destroy:function(){var e=this.element;return e[Qe]?(e[Qe]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(Np(e)?e:s+Number(e),Np(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(xe(e)&&(r.left=e,s=!0),xe(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,o=i.width,l=i.height,c=i.naturalWidth,u=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var d=c*e,h=u*e;if(Ya(this.element,Dg,{ratio:e,oldRatio:o/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=kA(this.cropper),g=f&&Object.keys(f).length?I9(f):{pageX:r.pageX,pageY:r.pageY};i.left-=(d-o)*((g.pageX-p.left-i.left)/o),i.top-=(h-l)*((g.pageY-p.top-i.top)/l)}else Ra(n)&&xe(n.x)&&xe(n.y)?(i.left-=(d-o)*((n.x-i.left)/o),i.top-=(h-l)*((n.y-i.top)/l)):(i.left-=(d-o)/2,i.top-=(h-l)/2);i.width=d,i.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),xe(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,xe(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(xe(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(xe(e)&&(r.scaleX=e,s=!0),xe(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var l=r.width/r.naturalWidth;if(mt(o,function(d,h){o[h]=d/l}),e){var c=Math.round(o.y+o.height),u=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=u-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&Ra(e)){var o=!1;n.rotatable&&xe(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),n.scalable&&(xe(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),xe(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;xe(e.x)&&(i.left=e.x*l+s.left),xe(e.y)&&(i.top=e.y*l+s.top),xe(e.width)&&(i.width=e.width*l),xe(e.height)&&(i.height=e.height*l),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?Ze({},this.containerData):{}},getImageData:function(){return this.sized?Ze({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&mt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Ra(e)&&(xe(e.left)&&(n.left=e.left),xe(e.top)&&(n.top=e.top),xe(e.width)?(n.width=e.width,n.height=e.width/r):xe(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&Ra(e)&&(xe(e.left)&&(n.left=e.left),xe(e.top)&&(n.top=e.top),xe(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),xe(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=C9(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,o=s.y,l=s.width,c=s.height,u=r.width/Math.floor(n.naturalWidth);u!==1&&(i*=u,o*=u,l*=u,c*=u);var d=l/c,h=Rs({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Rs({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Rs({aspectRatio:d,width:e.width||(u!==1?r.width:l),height:e.height||(u!==1?r.height:c)}),g=p.width,y=p.height;g=Math.min(h.width,Math.max(f.width,g)),y=Math.min(h.height,Math.max(f.height,y));var b=document.createElement("canvas"),m=b.getContext("2d");b.width=Ka(g),b.height=Ka(y),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,y);var x=e.imageSmoothingEnabled,v=x===void 0?!0:x,E=e.imageSmoothingQuality;m.imageSmoothingEnabled=v,E&&(m.imageSmoothingQuality=E);var S=r.width,j=r.height,N=i,w=o,_,T,C,P,R,I;N<=-l||N>S?(N=0,_=0,C=0,R=0):N<=0?(C=-N,N=0,_=Math.min(S,l+N),R=_):N<=S&&(C=0,_=Math.min(l,S-N),R=_),_<=0||w<=-c||w>j?(w=0,T=0,P=0,I=0):w<=0?(P=-w,w=0,T=Math.min(j,c+w),I=T):w<=j&&(P=0,T=Math.min(c,j-w),I=T);var L=[N,w,_,T];if(R>0&&I>0){var z=g/l;L.push(C*z,P*z,R*z,I*z)}return m.drawImage.apply(m,[r].concat(wA(L.map(function(F){return Math.floor(Ka(F))})))),b},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!Np(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===Px,o=n.movable&&e===SA;e=i||o?e:TA,n.dragMode=e,pc(r,fc,e),Da(r,Ig,i),Da(r,Ag,o),n.cropBoxMovable||(pc(s,fc,e),Da(s,Ig,i),Da(s,Ag,o))}return this}},z9=Mr.Cropper,DA=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t9(this,t),!e||!g9.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Ze({},V_,Ra(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return n9(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[Qe]){if(n[Qe]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(p9.test(n)){m9.test(n)?this.read(R9(n)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==M_&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&U_(n)&&s.crossOrigin&&(n=$_(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=s.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=O9(n),o=0,l=1,c=1;if(i>1){this.url=D9(n,M_);var u=L9(i);o=u.rotate,l=u.scaleX,c=u.scaleY}r.rotatable&&(s.rotate=o),r.scalable&&(s.scaleX=l,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&U_(r)&&(s||(s="anonymous"),i=$_(r)),this.crossOrigin=s,this.crossOriginUrl=i;var o=document.createElement("img");s&&(o.crossOrigin=s),o.src=i||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Et(o,A_),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Mr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Mr.navigator.userAgent),i=function(u,d){Ze(n.imageData,{naturalWidth:u,naturalHeight:d,aspectRatio:u/d}),n.initialImageData=Ze({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),s||l.removeChild(o)},o.src=r.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,o=document.createElement("div");o.innerHTML=v9;var l=o.querySelector(".".concat(Qe,"-container")),c=l.querySelector(".".concat(Qe,"-canvas")),u=l.querySelector(".".concat(Qe,"-drag-box")),d=l.querySelector(".".concat(Qe,"-crop-box")),h=d.querySelector(".".concat(Qe,"-face"));this.container=i,this.cropper=l,this.canvas=c,this.dragBox=u,this.cropBox=d,this.viewBox=l.querySelector(".".concat(Qe,"-view-box")),this.face=h,c.appendChild(s),Et(n,mn),i.insertBefore(l,n.nextSibling),Dr(s,A_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Et(d,mn),r.guides||Et(d.getElementsByClassName("".concat(Qe,"-dashed")),mn),r.center||Et(d.getElementsByClassName("".concat(Qe,"-center")),mn),r.background&&Et(l,"".concat(Qe,"-bg")),r.highlight||Et(h,c9),r.cropBoxMovable&&(Et(h,Ag),pc(h,fc,Cx)),r.cropBoxResizable||(Et(d.getElementsByClassName("".concat(Qe,"-line")),mn),Et(d.getElementsByClassName("".concat(Qe,"-point")),mn)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),fn(r.ready)&&Bn(n,D_,r.ready,{once:!0}),Ya(n,D_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Dr(this.element,mn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=z9,t}},{key:"setDefaults",value:function(n){Ze(V_,Ra(n)&&n)}}]),t}();Ze(DA.prototype,M9,V9,F9,U9,$9,B9);var yi=function(){return yi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},yi.apply(this,arguments)};function Ap(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var H9=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],W9={opacity:0,maxWidth:"100%"},q9=Ie.forwardRef(function(t,e){var n=Ap(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,o=n.style,l=n.className,c=n.crossOrigin,u=n.scaleX,d=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,y=g===void 0?"picture":g,b=n.ready,m=n.onInitialized,x=Ap(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),v={scaleY:d,scaleX:u,enable:h,zoomTo:f,rotateTo:p},E=function(){for(var j=[],N=0;N<arguments.length;N++)j[N]=arguments[N];var w=A.useRef(null);return Ie.useEffect(function(){j.forEach(function(_){_&&(typeof _=="function"?_(w.current):_.current=w.current)})},[j]),w}(e,A.useRef(null));A.useEffect(function(){var j;!((j=E.current)===null||j===void 0)&&j.cropper&&typeof f=="number"&&E.current.cropper.zoomTo(f)},[n.zoomTo]),A.useEffect(function(){var j;!((j=E.current)===null||j===void 0)&&j.cropper&&i!==void 0&&E.current.cropper.reset().clear().replace(i)},[i]),A.useEffect(function(){if(E.current!==null){var j=new DA(E.current,yi(yi({dragMode:s},x),{ready:function(N){N.currentTarget!==null&&function(w,_){_===void 0&&(_={});var T=_.enable,C=T===void 0||T,P=_.scaleX,R=P===void 0?1:P,I=_.scaleY,L=I===void 0?1:I,z=_.zoomTo,F=z===void 0?0:z,D=_.rotateTo;C?w.enable():w.disable(),w.scaleX(R),w.scaleY(L),D!==void 0&&w.rotateTo(D),F>0&&w.zoomTo(F)}(N.currentTarget.cropper,v),b&&b(N)}}));m&&m(j)}return function(){var N,w;(w=(N=E.current)===null||N===void 0?void 0:N.cropper)===null||w===void 0||w.destroy()}},[E]);var S=function(j){return H9.reduce(function(N,w){var _=N,T=w;return _[T],Ap(_,[typeof T=="symbol"?T:T+""])},j)}(yi(yi({},x),{crossOrigin:c,src:i,alt:y}));return Ie.createElement("div",{style:o,className:l},Ie.createElement("img",yi({},S,{style:W9,ref:E})))});const OA=async()=>{try{const t=ce(J,"slider_images"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i.title.stringValue,u=l?await G9(l):null;n.push({_id:o,title:c,bannerURL:u})});await Promise.all(r),ut.dispatch(wB(n))}catch(t){console.error("Error fetching Slider:",t)}},G9=async t=>{try{const e=Le(Me,`slider_images/${t}`);return await ui(e)}catch{return null}};async function K9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=$e(J,"slider_images",t),s=(await Jn(e)).data().banner;if(await dn(e),s){const i=Le(Me,`slider_images/${s}`);await fs(i)}alert("Slider item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Slider!")}}}const Y9=()=>{const t=ee(p=>p.getslider).data,[e,n]=A.useState(),[r,s]=A.useState(""),[i,o]=A.useState(!1),[l,c]=A.useState("");A.useEffect(()=>{OA()},[]);const u=A.useRef(null),d=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(u&&u.current){const p=u.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){V("danger","Please select an image and provide a title!");return}o(!0);const p=Le(Me,`slider_images/${r}`),g=await fetch(l).then(b=>b.blob()),y=new FileReader;y.readAsDataURL(g),y.onloadend=async()=>{hs(p,g).then(async()=>{await nt(ce(J,"slider_images"),{title:r,bannerURL:r}),V("success","Slider Image has been saved!"),s(""),n(null),o(!1),window.location.reload()}).catch(()=>{V("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later."),o(!1)})}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Slider Images"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(ie,{target:"_blank",to:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>K9(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog ",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:i,value:r})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:i}),a.jsx("div",{className:"my-2",children:a.jsx(q9,{src:e,ref:u,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Po=async()=>{try{const t=ce(J,"phdStudents"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await X9(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),ut.dispatch(EB(n))}catch(t){console.error("Error fetching phd:",t)}};async function Q9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=$e(J,"phdStudents",t);await dn(e),alert("phd item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting phd!")}}}const X9=async t=>{try{const e=Le(Me,`/peoples/phd_profile_images/${t}`);return await ui(e)}catch{return null}},LA=async()=>{try{const t=ce(J,"pgusStudents"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ut.dispatch(jB(n))}catch(t){console.error("Error fetching pgug:",t)}};async function J9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=$e(J,"pgusStudents",t);await dn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting pgug!")}}}const MA=async()=>{try{const t=ce(J,"visitorsAndInterns"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ut.dispatch(SB(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function Z9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=$e(J,"visitorsAndInterns",t);await dn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Visitor/Intern!")}}}const e6=()=>{const t=ee(c=>c.getauth),e=ee(c=>c.getphdStudents.data),n=ee(c=>c.getpgugStudents.data),r=ee(c=>c.getvisitorsandinterns.data),[s,i]=A.useState(1),[o,l]=A.useState("");return A.useEffect(()=>{Po(),LA(),MA()},[]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Peoples"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100",children:a.jsxs(a.Fragment,{children:[a.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>i(1),children:"Ph.D. Scholars"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(2),children:"Post Graduate students"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(3),children:"Alumni PhD"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(4),children:"Alumni Masters and Bachelors"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(5),children:"Interns and Visitors"})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[(s===1||s===3)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),s!==5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(s===2||s===4)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),s!==5&&a.jsxs(a.Fragment,{children:[" ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:s===3||s===1?"Research Interests":"Currently Working At"})]}),s===5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[(s===1||s===3)&&(e==null?void 0:e.map(c=>{var b,m,x,v,E,S,j,N,w,_,T,C,P;const{name:u,batch:d,isAlumni:h,email:f,mobile:p,researchInterests:g,supervisor:y}=c==null?void 0:c.data;return s===1&&(h!=null&&h.booleanValue)||s===3&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[a.jsx("a",{href:c==null?void 0:c.profileImage,target:"_blank",children:a.jsx("img",{src:c==null?void 0:c.profileImage,alt:"Profile Image",style:{width:"80px"}})}),a.jsx("strong",{className:"text-danger text-nowrap",children:((m=(b=y==null?void 0:y.mapValue)==null?void 0:b.fields)==null?void 0:m.email)===t.email&&"(Your Scholar)"})]}),a.jsxs("td",{children:[u==null?void 0:u.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),a.jsxs("td",{children:[a.jsxs("strong",{className:"text-danger",children:["1. Email:"," "]}),a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:a.jsx("div",{children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("strong",{className:"text-danger",children:"2. Supervisor"}),a.jsxs("div",{children:[(E=(v=(x=y==null?void 0:y.mapValue)==null?void 0:x.fields)==null?void 0:v.name)==null?void 0:E.stringValue,","," ",(N=(j=(S=y==null?void 0:y.mapValue)==null?void 0:S.fields)==null?void 0:j.email)==null?void 0:N.stringValue]})]}),a.jsx("td",{children:(d==null?void 0:d.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:a.jsx("ol",{children:(_=(w=g==null?void 0:g.arrayValue)==null?void 0:w.values)==null?void 0:_.map((R,I)=>a.jsx("li",{children:R.stringValue},I))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[" ",a.jsx("li",{children:a.jsx(ie,{className:"dropdown-item",to:"/phd/"+(c==null?void 0:c._id),target:"_blank",children:"Profile"})}),((P=(C=(T=y==null?void 0:y.mapValue)==null?void 0:T.fields)==null?void 0:C.email)==null?void 0:P.stringValue)===t.email&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Q9(c._id),children:"Delete"})})]})]})})]},c._id)})),(s===2||s===4)&&(n==null?void 0:n.map(c=>{const{name:u,batch:d,isAlumni:h,email:f,mobile:p,degree:g,currentlyWorkingAt:y}=c==null?void 0:c.data;return s===2&&(h!=null&&h.booleanValue)||s===4&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[u==null?void 0:u.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-danger",children:"(Alumni)"})]}),a.jsx("td",{children:a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("td",{children:(g==null?void 0:g.stringValue)||"N/A"}),a.jsx("td",{children:(d==null?void 0:d.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:y==null?void 0:y.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>J9(c._id),children:"Delete"})}):"NA"})]})})]},c._id)})),s===5&&(r==null?void 0:r.map(c=>{const{name:u,collegeName:d}=c==null?void 0:c.data;return a.jsxs("tr",{children:[a.jsx("td",{children:u==null?void 0:u.stringValue}),a.jsx("td",{children:d==null?void 0:d.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Z9(c._id),children:"Delete"})}):"NA"})]})})]},c._id)}))]})]}),!r.length&&s===5&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!e.length&&(s===1||s===3)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})}),!n.length&&(s===2||s===4)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),a.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:c=>l(c.target.value),children:[a.jsx("option",{value:"",children:"--select designation--"}),a.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),a.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),a.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),a.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),a.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2",children:[(o==="Ph.D. Scholars"||o==="Alumni Ph.D.")&&a.jsx(t6,{}),(o==="Post Graduate students"||o==="Alumni Masters and Bachelors")&&a.jsx(n6,{}),o==="Visitors and Interns"&&a.jsx(r6,{})]})]})})]})})})]})},t6=()=>{var S,j,N,w;const t=ee(_=>_.getsupervisors.data),e=ee(_=>_.getauth),[n,r]=A.useState(""),[s,i]=A.useState(""),[o,l]=A.useState(""),[c,u]=A.useState(""),[d,h]=A.useState({name:e.userType==="SUPERVISOR"?(j=(S=t.filter(_=>{var T;return((T=_==null?void 0:_.data)==null?void 0:T.email)===(e==null?void 0:e.email)})[0])==null?void 0:S.data)==null?void 0:j.name:"",email:e.userType==="SUPERVISOR"?(w=(N=t.filter(_=>{var T;return((T=_==null?void 0:_.data)==null?void 0:T.email)===(e==null?void 0:e.email)})[0])==null?void 0:N.data)==null?void 0:w.email:""}),[f,p]=A.useState(""),[g,y]=A.useState(!1),[b,m]=A.useState(!1),[x,v]=A.useState(),E=async _=>{if(_.preventDefault(),!n||!s||!o||!c||!f){V("danger","Error! Please fill all required fields.");return}if(!x){V("danger","Please upload an Image!");return}m(!0);const T=Le(Me,`/peoples/phd_profile_images/${n}_${x.name}`);await hs(T,x).then(async()=>{console.log("Profile image uploaded successfully"),nt(ce(J,"phdStudents"),{name:n,email:s,mobile:o,batch:c,supervisor:d,researchInterests:f.split(",").map(C=>C.trim()),isAlumni:g,profileImage:n+"_"+x.name}).then(async()=>{await nt(ce(J,"users"),{email:s,userType:"PHD"}),V("success","Data Saved Successfully!"),r(""),i(""),l(""),u(""),p(""),y(!1),m(!1),window.location.reload()}).catch(()=>{V("danger","Failed to save Data!"),m(!1)})})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:E,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:_=>r(_.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",onChange:_=>i(_.target.value),placeholder:"ie. user@gmail.com"})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",children:["Supervisor",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:_=>{var T,C;h({name:_.target.value,email:(C=(T=t.filter(P=>{var R;return((R=P==null?void 0:P.data)==null?void 0:R.name)==_.target.value})[0])==null?void 0:T.data)==null?void 0:C.email})},disabled:b||e.userType==="SUPERVISOR",children:[a.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((_,T)=>{var C,P,R,I;return a.jsxs("option",{value:(C=_==null?void 0:_.data)==null?void 0:C.name,selected:e.email==((P=_==null?void 0:_.data)==null?void 0:P.email),children:[(R=_==null?void 0:_.data)==null?void 0:R.name,"-",(I=_==null?void 0:_.data)==null?void 0:I.email]},T)})]})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:_=>l(_.target.value),placeholder:"ie. 10 digits mobile number"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:_=>{var C;const T=(C=_.target.files)==null?void 0:C[0];v(T)},disabled:b})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:_=>u(_.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:_=>p(_.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:_=>y(_.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:b,children:b?"Submitting...":"Submit"})})]})})},n6=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(""),[o,l]=A.useState(""),[c,u]=A.useState(""),[d,h]=A.useState(""),[f,p]=A.useState(!1),[g,y]=A.useState(!1),b=m=>{if(m.preventDefault(),!t||!n||!s||!o||!c||!d){V("danger","Please fill all the required fields.");return}y(!0),nt(ce(J,"pgusStudents"),{degree:t,name:n,email:s,mobile:o,batch:c,currentlyWorkingAt:d,isAlumni:f}).then(()=>{V("success","Data Saved!"),e(""),r(""),i(""),l(""),u(""),h(""),p(!1),y(!1),location.reload()}).catch(()=>{V("danger","Error while Saving Data!"),y(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:b,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),a.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[a.jsx("option",{value:"",children:"--select--"}),a.jsx("option",{value:"B.Tech",children:"B.Tech"}),a.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>i(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>u(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Currently Working At"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-danger me-2",id:"alumni",onChange:m=>p(m.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-danger",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},r6=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(!1),o=l=>{if(l.preventDefault(),!t||!n){V("danger","Please fill all the required details.");return}i(!0),nt(ce(J,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{V("success","Data Saved!"),e(""),r(""),i(!1),location.reload()}).catch(()=>{V("danger","Failed to save data."),i(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:o,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"College Name"}),a.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:s,children:s?"Submitting...":"Submit"})})]})})},s6=["Professor","Associate Professor","Assistant Professor","Adjunct Professor","Visiting Professor","Emeritus Professor","Research Professor"],Cp={name:"",email:"",designation:"",phone:"",researchInterests:"",introduction:"",teaching:"",accomplishments:"",professional_affiliation:"",links:[]},i6=()=>{var g;const t=ee(y=>y.getauth),e=ee(y=>y.getsupervisors.data),[n,r]=A.useState(!1),[s,i]=A.useState(),[o,l]=A.useState(Cp),[c,u]=A.useState({linkName:"",linkURL:""});A.useEffect(()=>{cs()},[]);const d=y=>{const{name:b,value:m}=y.target;l(x=>({...x,[b]:m}))},h=async()=>{const{name:y,email:b,designation:m}=o;if(!y||!b||!m){V("danger","Designation, Email and Name are required fields.");return}if(r(!0),!s)nt(ce(J,"supervisors"),{...o,startDate:new Date,endDate:"NA"}).then(async()=>{await nt(ce(J,"users"),{email:b,userType:"SUPERVISOR"}),V("success","Supervisor details has been saved successfully!"),l(Cp),i(void 0),r(!1),window.location.reload()}).catch(()=>{V("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)});else{const x=Le(Me,`/peoples/supervisor_profile_images/${y}_${s.name}`);await hs(x,s).then(async()=>{V("success","Profile image uploaded successfully"),nt(ce(J,"supervisors"),{...o,startDate:new Date,endDate:"NA",profileImage:y+s.name}).then(async()=>{await nt(ce(J,"users"),{email:b,userType:"SUPERVISOR"}),V("success","Supervisor details along with profile image have been saved successfully!"),l(Cp),i(void 0),r(!1),window.location.reload()}).catch(()=>{V("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}).catch(()=>{V("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}},f=t==null?void 0:t.userType.includes("SUPERVISOR"),p=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:!p&&f?"Your Profile":"Supervisors"}),p&&a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",children:[a.jsxs("table",{className:"table table-bordered table-hover w-100",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:e==null?void 0:e.map((y,b)=>{const{name:m,designation:x,email:v,phone:E,researchInterests:S,introduction:j,links:N,teaching:w,accomplishments:_,professional_affiliation:T}=y==null?void 0:y.data;if(!(!p&&f&&(t==null?void 0:t.email)!=v))return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{children:[a.jsx("td",{children:y!=null&&y.profileImage?a.jsx("a",{href:y==null?void 0:y.profileImage,target:"_blank",children:a.jsx("img",{src:y==null?void 0:y.profileImage,alt:`${m}'s profile`,style:{width:"50px",height:"auto"}})}):"Not Uploaded"}),a.jsxs("td",{children:[f&&t.email===v&&a.jsxs(a.Fragment,{children:[" ",a.jsx("strong",{className:"text-danger",children:"Your Profile"}),a.jsx("hr",{})]}),a.jsx("h6",{className:"fw-bold text-primary",children:m}),a.jsxs("small",{className:"fw-bold text-danger",children:["(",x,")"]})]}),a.jsxs("td",{children:["Email:"," ",a.jsx("a",{href:"mailto:"+v,target:"_blank",children:v}),a.jsx("hr",{}),"Mobile: ",E]}),a.jsxs("td",{children:[a.jsx("strong",{children:"Research Interests: "}),S]}),a.jsx("td",{children:a.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:j})}),a.jsx("td",{children:a.jsx("ol",{children:N==null?void 0:N.map((C,P)=>a.jsx("li",{children:a.jsx(ie,{to:C==null?void 0:C.linkURL,target:"_blank",className:"btn-link bnt-sm p-0",children:C==null?void 0:C.linkName})},P))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${b}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${b}`,children:[(t.email===v||p)&&a.jsx("li",{children:a.jsx(ie,{className:"dropdown-item text-primary",to:y==null?void 0:y._id,children:"Edit"})}),p&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>Fz(y._id),children:"Delete"})})]})]})})]},y._id),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Techings: "})]}),a.jsx("td",{colSpan:5,children:w})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Accomplishments: "})]}),a.jsx("td",{colSpan:5,children:_})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Professional Affiliation: "})]}),a.jsx("td",{colSpan:5,children:T})]})]})})})]}),!e.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"fw-bold text-primary",children:"Personal Information:"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Designation(",a.jsx("strong",{className:"text-danger",children:"required"}),")"]}),a.jsxs("select",{name:"designation",className:"form-control",value:o.designation,onChange:d,id:"designation",children:[a.jsx("option",{value:"",children:"--select designation--"}),s6.map((y,b)=>a.jsx("option",{value:y,children:y},b))]})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("strong",{className:"text-danger",children:"required"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:o.name,onChange:d})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("strong",{className:"text-danger",children:"required"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:o.email,onChange:d})]})]}),a.jsx("div",{className:"alert alert-primary p-2 rounded-0 mb-3",role:"alert",children:"Name and Email fields are required, Supervisor can also edit other things later."}),a.jsx("div",{className:"text-end",children:a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})}),a.jsx("h4",{className:"fw-bold text-primary",children:"Other Details (User can fill later):"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:o.phone,onChange:d,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:y=>{var m;const b=(m=y.target.files)==null?void 0:m[0];i(b)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:o.researchInterests,onChange:d})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:o.teaching||"",onChange:d})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:o.accomplishments,onChange:d})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:o.professional_affiliation,onChange:d})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:o.introduction,onChange:d})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:y=>u({linkName:y.target.value,linkURL:c.linkURL}),value:c.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:y=>u({linkName:c.linkName,linkURL:y.target.value}),value:c.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-danger w-100",onClick:()=>{if(!c.linkName||!c.linkURL){V("danger","Link Name and URL are required fields.");return}if(o.links.includes(c)){V("danger","This link already exists.");return}l({...o,links:[...o.links,c]}),u({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(g=o==null?void 0:o.links)==null?void 0:g.map((y,b)=>a.jsxs("tr",{children:[a.jsx("th",{children:b+1}),a.jsx("th",{children:y==null?void 0:y.linkName}),a.jsx("th",{children:a.jsx("a",{href:y==null?void 0:y.linkURL,target:"_blank",children:y==null?void 0:y.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&l({...o,links:o==null?void 0:o.links.filter(m=>m.linkName!==(y==null?void 0:y.linkName))})},children:"Remove"})})]}))})]}),!(o!=null&&o.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},ua=async()=>{try{const t=ce(J,"datasets"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=(i==null?void 0:i.images.arrayValue.values)||[];let u=[];const d=c.map(async f=>{const p=await a6(f.stringValue)||"";u.push({name:f==null?void 0:f.stringValue,url:p})});await Promise.all(d);const h=i==null?void 0:i.description.stringValue;n.push({_id:o,title:l,description:h,images:u})});await Promise.all(r),ut.dispatch(TB(n))}catch(t){console.error("Error fetching Datasets:",t)}},a6=async t=>{try{const e=Le(Me,`dataset_images/${t}`);return await ui(e)}catch{return null}};async function o6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=$e(J,"datasets",t),s=(await Jn(e)).data().images;await dn(e);const i=s.map(async o=>{const l=Le(Me,`dataset_images/${o}`);await fs(l),console.log("Deleted!")});await Promise.all(i),alert("Datasets item and images deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting Datasets!")}}}async function l6(t,e){if(confirm("Are you sure want to delete this item?")){if(t===null||!e||e==null){alert("Invalid Parameters");return}try{const n=Le(Me,`dataset_images/${e}`);await fs(n);const r=$e(J,"datasets",t),s=await Jn(r);if(s.exists()){const l=(s.data().images||[]).filter(c=>c!=e);await On(r,{images:l}),V("success","Datasets item and images deleted successfully!")}else V("danger","Something went wrong!");location.reload()}catch(n){console.log(n),alert("Error deleting Datasets!")}}}const c6=()=>{const t=ee(c=>c.getdatasets).data,[e,n]=A.useState(""),[r,s]=A.useState(""),[i,o]=A.useState(!1);A.useEffect(()=>{ua()},[]);const l=async()=>{if(!e||!r){V("warning","Please provide the required fields!");return}o(!0);try{await nt(ce(J,"datasets"),{title:e,description:r,images:[]}),V("success","Datasets has been saved!"),V("info","You can add datasets images later!")}catch{V("danger","Error while saving the dataset, Try again!")}n(""),o(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Datasets"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"alert alert-warning fw-bold rounded-0",children:"It is common for all, If you delete one dataset, it will deleted from all."}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((c,u)=>a.jsxs("tr",{children:[a.jsx("td",{children:u+1}),a.jsx("td",{children:c==null?void 0:c.title}),a.jsxs("td",{children:[" ",a.jsx("div",{className:"overflow-auto p-2",children:c==null?void 0:c.description})]}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx(ie,{to:c==null?void 0:c._id,className:"dropdown-item text-success",children:"Add Images"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>o6(c._id),children:"Delete"})})]})]})})]},u))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>n(c.target.value),disabled:i,value:e||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:c=>s(c.target.value),disabled:i,value:r||""})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:l,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},yf=async()=>{try{const t=ce(J,"ResearchArea"),e=await We(t),n=[],r=e.docs.map(async s=>{var d,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=((h=(d=i==null?void 0:i.subareas)==null?void 0:d.arrayValue)==null?void 0:h.values)||[],u=l?await u6(l):null;n.push({_id:o,title:l,subareas:c,bannerURL:u})});await Promise.all(r),ut.dispatch(NB(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},u6=async t=>{try{const e=Le(Me,`research_areas_images/${t}`);return await ui(e)}catch{return null}};async function d6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=$e(J,"ResearchArea",t),s=(await Jn(e)).data().banner;if(await dn(e),s){const i=Le(Me,`research_areas_images/${s}`);await fs(i)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ResearchArea!")}}}const xf=async()=>{try{const t=ce(J,"research_subitems"),e=await We(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.description.stringValue,c=i==null?void 0:i.researchArea,u=(f=(h=i==null?void 0:i.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,d=(p=i==null?void 0:i.title)==null?void 0:p.stringValue;n.push({_id:o,title:d,description:l,researchArea:c,projects:u})});await Promise.all(r),ut.dispatch(IB(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function h6(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=$e(J,"research_subitems",t);await dn(n);const r=$e(J,"ResearchArea",e);await On(r,{subareas:l1(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const f6=()=>{const t=ee(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),[e,n]=A.useState(null),[r,s]=A.useState(""),[i,o]=A.useState(!1);A.useEffect(()=>{yf(),xf()},[]);const l=u=>{if(u.target.files&&u.target.files.length>0){const d=new FileReader;d.onload=()=>{n(d.result)},d.readAsDataURL(u.target.files[0])}},c=async()=>{if(!e||!r){V("danger","Please select an image and provide a title!");return}o(!0);const u=Le(Me,`research_areas_images/${r}`),d=await fetch(e).then(h=>h.blob());try{await hs(u,d),await nt(ce(J,"ResearchArea"),{title:r,subareas:[]}),V("success","Research area has been saved!"),V("info","Info! You can add sub-areas later."),s(""),n(null),o(!1),location.reload()}catch{V("danger","Error! While uploading image, Please check your internet connection and try again."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Research Area"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-danger",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, it will be show in main website page to."}),a.jsx("li",{children:"You can modify any Research area for example you can add more details of the Research Area by adding Sub Areas."})]})]}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((u,d)=>a.jsxs("tr",{children:[a.jsx("td",{children:d+1}),a.jsx("td",{children:u==null?void 0:u.title}),a.jsx("td",{children:a.jsx(ie,{to:u._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(ie,{target:"_blank",to:u==null?void 0:u.bannerURL,children:a.jsx("img",{className:"rounded-2",src:u.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>d6(u._id),children:"Delete"})})})]})})]},d))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:u=>s(u.target.value),disabled:i,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]}),a.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:a.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),a.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},da=async()=>{try{const t=ce(J,"projects_items"),e=await We(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(h=i==null?void 0:i.title)==null?void 0:h.stringValue,c=(f=i==null?void 0:i.pptLink)==null?void 0:f.stringValue,u=(p=i==null?void 0:i.pdfLink)==null?void 0:p.stringValue,d=l?await p6(l):null;n.push({_id:o,title:l,bannerURL:d,pdfLink:u,pptLink:c})});await Promise.all(r),ut.dispatch(AB(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},p6=async t=>{try{const e=Le(Me,`project_items_images/${t}`);return await ui(e)}catch{return null}};async function m6(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=$e(J,"projects_items",t),s=(await Jn(e)).data().banner;if(await dn(e),s){const c=Le(Me,`projects_items_images/${s}`);await fs(c)}const i=ce(J,"research_subitems"),l=(await We(i)).docs.map(async c=>{const u=c.ref;await On(u,{projects:l1(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsItems!")}}}const g6=()=>{const{id:t}=ds();A.useEffect(()=>{xf(),yf(),da()},[]);const n=ee(b=>{var m;return(m=b.getresearcharea)==null?void 0:m.data}).find(b=>b._id===t);if(!n){window.history.back();return}const r=ee(b=>b.getsubareas).data,s=(n==null?void 0:n.subareas)||[],i=r==null?void 0:r.filter(b=>s.some(m=>m.stringValue===(b==null?void 0:b._id))),[o,l]=A.useState(""),[c,u]=A.useState(""),[d,h]=A.useState(!1),[f,p]=A.useState([]),g=ee(b=>{var m;return(m=b.getprojectitems)==null?void 0:m.data}),y=async()=>{if(!o){V("danger","Please select an image and provide a title!");return}h(!0);try{const m=(await nt(ce(J,"research_subitems"),{title:o,researcharea:n._id,description:c,projects:f})).id;await On($e(J,"ResearchArea",n._id),{subareas:E2(m)}),V("success","Subitem has been saved!"),l(""),u(""),p([]),h(!1),window.location.reload()}catch{V("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later.")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-danger",children:n==null?void 0:n.title}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100 my-2",children:a.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:i==null?void 0:i.map((b,m)=>{var x;return a.jsxs("tr",{children:[a.jsx("td",{children:m+1}),a.jsx("td",{children:b==null?void 0:b.title}),a.jsx("td",{children:b==null?void 0:b.description}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(x=b==null?void 0:b.projects)==null?void 0:x.map((v,E)=>{const S=g==null?void 0:g.find(j=>(j==null?void 0:j._id)==(v==null?void 0:v.stringValue));return a.jsxs("div",{children:[E+1,". ",S==null?void 0:S.title," (",a.jsx(ie,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>h6(b._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!i.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:b=>l(b.target.value),disabled:d,value:o})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:b=>u(b.target.value),disabled:d,placeholder:"describe in some words.."})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),a.jsxs("select",{name:"project",className:"form-control",onChange:b=>{const m=b.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[a.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((b,m)=>a.jsx("option",{value:b==null?void 0:b._id,children:b==null?void 0:b.title},m))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:f==null?void 0:f.map((b,m)=>{const x=g==null?void 0:g.find(v=>(v==null?void 0:v._id)==b);return a.jsxs("tr",{children:[a.jsx("th",{children:m+1}),a.jsx("th",{children:x==null?void 0:x.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(v=>v!==b))},children:"Remove"})})]})})})]}),!f.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:y,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},v6=()=>{const t=ee(p=>{var g;return(g=p.getprojectitems)==null?void 0:g.data}),[e,n]=A.useState(null),[r,s]=A.useState(""),[i,o]=A.useState(""),[l,c]=A.useState(""),[u,d]=A.useState(!1);A.useEffect(()=>{da()},[]);const h=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},f=async()=>{if(!e||!r){V("danger","Please select an image and provide a title!");return}d(!0);const p=Le(Me,`project_items_images/${r}`),g=await fetch(e).then(y=>y.blob());try{await hs(p,g),await nt(ce(J,"projects_items"),{title:r,pptLink:i,pdfLink:l}),V("success","Project has been saved!"),s(""),c(""),o(""),n(null),d(!1),location.reload()}catch{V("danger","Error uploading image, Try Again!"),s(""),c(""),o(""),n(null),d(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-danger",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, you can use these in Research Projects and Datasets."}),a.jsx("li",{children:"Please do not delete any, if it is already associated with any Research Project and Dataset."})]})]}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p==null?void 0:p.title}),a.jsx("td",{children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsx(ie,{to:p==null?void 0:p.pdfLink,target:"_blank",children:"PDF Link"})}),a.jsx("li",{children:a.jsx(ie,{to:p==null?void 0:p.pptLink,target:"_blank",children:"PPT Link"})})]})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(ie,{target:"_blank",to:p==null?void 0:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>m6(p._id),children:"Delete"})})})]})})]},g))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:u,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>o(p.target.value),disabled:u,value:i||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:p=>c(p.target.value),disabled:u,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:u})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},wf=async()=>{try{const t=ce(J,"projects_main"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,...i})});await Promise.all(r),ut.dispatch(CB(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function y6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=$e(J,"projects_main",t);await dn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsMain!")}}}const x6=`Type of Project(Sponsored/Consultancy),Project Title,Funding Agency,Funding Amount in Inr.,JRF/PHD Scholars,Project Description(100 to 400 words),Names of the PI (comma separated),Names of the Co-PI (comma separated)
`,w6=`Consultancy,"Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",SERB-CRG,4500000,Kuldeep Marotirao Biradar,"The proposed system removes the onus of detecting aberrance situations from the manual operator; and rather, places it on the video surveillance system. The present technologies are fails to recognize aberration in video sequences. These aberrances occur over a small-time window. Thus, recognizing with its timeframe from a big visual data is really challenging task. Hence, our focus is on problems, where we are given a set of nominal training videos samples. Based on these samples need to determine whether or not a test video contains an aberration and what instant it occurs. Similarly, we aim to significantly reduce the time and human effort by automating the task and improving the accuracy by recognizing aberrances with its timestamp. Further, exploit the aberrance activity of the object by modeling the rich motion patterns in selected region, effectively capturing the underlying intrinsic structure they form in the video. Implementation of this system can be beneficial for intelligent agencies, banks, departmental stores, traffic monitoring on highway, airport terminal check-in, sports, medical field, and robotics etc.",Dr. Santosh Kumar Vipparthi,NA
`,B_={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},b6=()=>{var y,b,m,x;const t=ee(v=>v.getauth),[e,n]=A.useState(!1),r=ee(v=>v.getsupervisors.data),s=ee(v=>{var E;return(E=v.getprojectitems)==null?void 0:E.data}),i=ee(v=>{var E;return(E=v.getdatasets)==null?void 0:E.data}),o=ee(v=>{var E;return(E=v.getprojectsmain)==null?void 0:E.data}),[l,c]=A.useState(t!=null&&t.userType.includes("SUPERVISOR")?[t==null?void 0:t.email]:[]),[u,d]=A.useState(B_);A.useEffect(()=>{ua(),da(),wf()},[]);const h=v=>{const{id:E,value:S}=v.target;d(j=>({...j,[E]:S}))},f=async()=>{if(!u.title||!u.description||!u.type||!u.copis||!u.total_fund||!u.funding_agency||!u.pis||!u.jrf_phd_scholar||!l){V("danger","Please fill out all fields.");return}n(!0);try{await nt(ce(J,"projects_main"),{...u,users:l}),V("success","Project has been saved!"),d(B_),n(!1),window.location.reload()}catch{V("danger","Error! Failed to save project, Try again.")}},p=t==null?void 0:t.userType.includes("SUPERVISOR"),g=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("div",{className:"d-flex gap-2",children:(p||g)&&a.jsxs(a.Fragment,{children:[" ",a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),a.jsxs("button",{className:"btn btn-danger btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:o==null?void 0:o.map((v,E)=>{var j,N,w,_,T,C,P,R,I,L,z,F,D,O,U;const S=(N=(j=v==null?void 0:v.users)==null?void 0:j.arrayValue)==null?void 0:N.values.some(G=>(G==null?void 0:G.stringValue)==t.email);return a.jsxs("tr",{children:[a.jsx("td",{children:E+1}),a.jsx("td",{className:"fw-bold text-danger",children:a.jsx("span",{children:(w=v==null?void 0:v.title)==null?void 0:w.stringValue})}),a.jsxs("td",{children:[a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"PIs:"})," ",a.jsx("p",{children:(_=v==null?void 0:v.pis)==null?void 0:_.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Co-PIs:"})," ",a.jsx("p",{children:(T=v==null?void 0:v.copis)==null?void 0:T.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Funding Agency:"})," ",a.jsx("p",{children:(C=v==null?void 0:v.funding_agency)==null?void 0:C.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Total Fund(Inr):"})," ",a.jsxs("p",{children:["Rs. ",(P=v==null?void 0:v.total_fund)==null?void 0:P.stringValue]})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Ph.D./JRF Students:"})," ",a.jsx("p",{children:(R=v==null?void 0:v.jrf_phd_scholar)==null?void 0:R.stringValue})]})]}),a.jsx("td",{children:a.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(I=v==null?void 0:v.description)==null?void 0:I.stringValue})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(F=(z=(L=v==null?void 0:v.related_datasets)==null?void 0:L.arrayValue)==null?void 0:z.values)==null?void 0:F.map((G,k)=>{const M=i==null?void 0:i.find(Y=>(Y==null?void 0:Y._id)==(G==null?void 0:G.stringValue));return a.jsxs("div",{children:[k+1,". ",M==null?void 0:M.title," (",a.jsx(ie,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(M==null?void 0:M._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(M==null?void 0:M._id)+"Modal",tabIndex:-1,"aria-labelledby":(M==null?void 0:M._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(M==null?void 0:M._id)+"ModalLabel",children:M==null?void 0:M.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:M==null?void 0:M.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+E,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:M==null?void 0:M.images.map((Y,ne)=>a.jsx("div",{className:`carousel-item ${ne===0&&"active"}`,children:a.jsx("img",{src:Y==null?void 0:Y.url,className:"d-block w-100",alt:"This is image"})},ne))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+E,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+E,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(U=(O=(D=v==null?void 0:v.related_projectitems)==null?void 0:D.arrayValue)==null?void 0:O.values)==null?void 0:U.map((G,k)=>{const M=s==null?void 0:s.find(Y=>(Y==null?void 0:Y._id)==(G==null?void 0:G.stringValue));return a.jsxs("div",{children:[k+1,". ",M==null?void 0:M.title," (",a.jsx(ie,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(M==null?void 0:M._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(M==null?void 0:M._id)+"Modal",tabIndex:-1,"aria-labelledby":(M==null?void 0:M._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(M==null?void 0:M._id)+"ModalLabel",children:[M==null?void 0:M.title,"("," ",a.jsx(ie,{className:"btn-primary",style:{textDecoration:"none"},to:M==null?void 0:M.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(ie,{to:M==null?void 0:M.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:M==null?void 0:M.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:S&&p?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(ie,{className:"dropdown-item text-success",to:"images/"+(v==null?void 0:v._id),children:"Add Images"})})," ",a.jsx("li",{children:a.jsx(ie,{className:"dropdown-item text-primary",to:v==null?void 0:v._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>y6(v._id),children:"Delete"})})]}):"NA"})]})})]},E)})})]}),!o.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:v=>{const E=v.target.value;!l||E===""||(l.includes(E)?alert("User with this name already existed."):c([...l,E]))},disabled:!g&&p,children:[a.jsx("option",{value:"",children:"--select user--"}),r==null?void 0:r.map((v,E)=>{var S,j,N,w;return a.jsxs("option",{value:(S=v==null?void 0:v.data)==null?void 0:S.email,selected:!g&&p&&((j=v==null?void 0:v.data)==null?void 0:j.email)===(t==null?void 0:t.email),children:[(N=v==null?void 0:v.data)==null?void 0:N.name,"-",(w=v==null?void 0:v.data)==null?void 0:w.email]},E)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:l==null?void 0:l.map((v,E)=>a.jsxs("span",{className:"badge bg-success",children:[v," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!g&&p)&&confirm("Are you sure want to remove?")){const S=l.filter(j=>j!==v);c(S)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},E))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:h,value:u.title,disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:h,value:u.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:h,value:u.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:u.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:u.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:h,value:u.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:h,value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:h,value:u.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:v=>{const E=v.target.value;E!==""&&(u.related_datasets.includes(E)||d(S=>({...S,related_datasets:[...S.related_datasets,E]})))},value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),i==null?void 0:i.map((v,E)=>a.jsx("option",{value:v==null?void 0:v._id,children:v==null?void 0:v.title},E))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(y=u.related_datasets)==null?void 0:y.map((v,E)=>{const S=i==null?void 0:i.find(j=>(j==null?void 0:j._id)==v);return a.jsxs("tr",{children:[a.jsx("th",{children:E+1}),a.jsx("th",{children:S==null?void 0:S.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&d(j=>{var N;return{...j,related_datasets:(N=u==null?void 0:u.related_datasets)==null?void 0:N.filter(w=>w!==v)}})},children:"Remove"})})]})})})]}),!((b=u.related_datasets)!=null&&b.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:v=>{const E=v.target.value;E!==""&&(u.related_projectitems.includes(E)||d(S=>({...S,related_projectitems:[...S.related_projectitems,E]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((v,E)=>a.jsx("option",{value:v==null?void 0:v._id,children:v==null?void 0:v.title},E))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(m=u.related_projectitems)==null?void 0:m.map((v,E)=>{const S=s==null?void 0:s.find(j=>(j==null?void 0:j._id)==v);return a.jsxs("tr",{children:[a.jsx("th",{children:E+1}),a.jsx("th",{children:S==null?void 0:S.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&d(j=>{var N;return{...j,related_projectitems:(N=u==null?void 0:u.related_projectitems)==null?void 0:N.filter(w=>w!==v)}})},children:"Remove"})})]})})})]}),!((x=u.related_projectitems)!=null&&x.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]}),a.jsxs("div",{className:"alert alert-warning rounded-0 my-3",children:[a.jsx("strong",{children:"Note:"})," You can upload ",a.jsx("i",{children:"Images"})," related to project later."]}),a.jsx("button",{type:"button",className:"btn btn-danger w-100 p-3",onClick:f,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})}),a.jsx(_6,{getsupervisors:r,isAdmin:g,isSupervisor:p,getauth:t})]})},_6=({getsupervisors:t,isAdmin:e,isSupervisor:n,getauth:r})=>{const[s,i]=A.useState(!1),[o,l]=A.useState(r!=null&&r.userType.includes("SUPERVISOR")?[r==null?void 0:r.email]:[]),[c,u]=A.useState([]),d=p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];g&&gA.parse(g,{complete:b=>{const m=b.data.filter(x=>Object.values(x).some(v=>v!==""));u(m)},header:!0})},h=async p=>{try{return!(await We(Yr(ce(J,"projects_main"),br("title","==",p)))).empty}catch{return!1}},f=async p=>{if(p.preventDefault(),!o.length){V("danger","Please select supervisors!");return}if(!c.length){V("danger","Invalid CSV File Selected.");return}i(!0);const g=c.map(async y=>{const b=Object.values(y);if(!await h(b[2]))return nt(ce(J,"projects_main"),{title:b[1],description:b[5],funding_agency:b[2],pis:b[6],copis:b[7],jrf_phd_scholar:b[4],related_datasets:[],related_projectitems:[],total_fund:b[3],type:b[0],users:o})});await Promise.all(g),V("success","Projects have been saved!"),V("info","Note: You can upload Images related to project later."),i(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Projects"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:p=>{const g=p.target.value;!o||g===""||(o.includes(g)?alert("User with this name already existed."):l([...o,g]))},disabled:!e&&n,children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((p,g)=>{var y,b,m,x;return a.jsxs("option",{value:(y=p==null?void 0:p.data)==null?void 0:y.email,selected:!e&&n&&r.email===((b=p==null?void 0:p.data)==null?void 0:b.email),children:[(m=p==null?void 0:p.data)==null?void 0:m.name,"-",(x=p==null?void 0:p.data)==null?void 0:x.email]},g)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:o==null?void 0:o.map((p,g)=>a.jsxs("span",{className:"badge bg-success",children:[p," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!e&&n)&&confirm("Are you sure want to remove?")){const y=o.filter(b=>b!==p);l(y)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},g))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>vA(x6,w6,"sample_projects_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:d})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:c.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(c[0]).map(p=>a.jsx("th",{children:p},p))})}),a.jsx("tbody",{children:c.map((p,g)=>a.jsx("tr",{children:Object.values(p).map((y,b)=>a.jsx("td",{children:y},b))},g))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:s,onClick:f,children:s?"Please Wait...":"Submit"})]})]})})})};var VA={exports:{}},E6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j6=E6,S6=j6;function FA(){}function UA(){}UA.resetWarningCache=FA;var T6=function(){function t(r,s,i,o,l,c){if(c!==S6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UA,resetWarningCache:FA};return n.PropTypes=n,n};VA.exports=T6();var N6=VA.exports;const Ye=yo(N6);function I6(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var $A=A,A6=I6($A);function z_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var P6=!!(typeof window<"u"&&window.document&&window.document.createElement);function k6(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=t(o.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){C6(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,o=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),c()},f.render=function(){return A6.createElement(i,this.props)},h}($A.PureComponent);return z_(u,"displayName","SideEffect("+r(i)+")"),z_(u,"canUseDOM",P6),u}}var R6=k6;const D6=yo(R6);var O6=typeof Element<"u",L6=typeof Map=="function",M6=typeof Set=="function",V6=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Yu(t[r],e[r]))return!1;return!0}var i;if(L6&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Yu(r.value[1],e.get(r.value[0])))return!1;return!0}if(M6&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(V6&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(O6&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Yu(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var F6=function(e,n){try{return Yu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const U6=yo(F6);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H_=Object.getOwnPropertySymbols,$6=Object.prototype.hasOwnProperty,B6=Object.prototype.propertyIsEnumerable;function z6(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function H6(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var W6=H6()?Object.assign:function(t,e){for(var n,r=z6(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)$6.call(n,o)&&(r[o]=n[o]);if(H_){s=H_(n);for(var l=0;l<s.length;l++)B6.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const q6=yo(W6);var Ri={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ge={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ge).map(function(t){return ge[t]});var Xe={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},rh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},mc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},G6=Object.keys(rh).reduce(function(t,e){return t[rh[e]]=e,t},{}),K6=[ge.NOSCRIPT,ge.SCRIPT,ge.STYLE],cr="data-react-helmet",Y6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q6=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},X6=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J6=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},W_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Z6=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Lg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},e5=function(e){var n=Qa(e,ge.TITLE),r=Qa(e,mc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=Qa(e,mc.DEFAULT_TITLE);return n||s||void 0},t5=function(e){return Qa(e,mc.ON_CHANGE_CLIENT_STATE)||function(){}},Pp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return hn({},r,s)},{})},n5=function(e,n){return n.filter(function(r){return typeof r[ge.BASE]<"u"}).map(function(r){return r[ge.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},Ko=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&a5("Helmet: "+e+' should be of type "Array". Instead found type "'+Y6(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(f){for(var p=void 0,g=Object.keys(f),y=0;y<g.length;y++){var b=g[y],m=b.toLowerCase();n.indexOf(m)!==-1&&!(p===Xe.REL&&f[p].toLowerCase()==="canonical")&&!(m===Xe.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(b)!==-1&&(b===Xe.INNER_HTML||b===Xe.CSS_TEXT||b===Xe.ITEM_PROP)&&(p=b)}if(!p||!f[p])return!1;var x=f[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][x]?!1:(l[p][x]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=q6({},s[d],l[d]);s[d]=h}return i},[]).reverse()},Qa=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},r5=function(e){return{baseTag:n5([Xe.HREF,Xe.TARGET],e),bodyAttributes:Pp(Ri.BODY,e),defer:Qa(e,mc.DEFER),encode:Qa(e,mc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Pp(Ri.HTML,e),linkTags:Ko(ge.LINK,[Xe.REL,Xe.HREF],e),metaTags:Ko(ge.META,[Xe.NAME,Xe.CHARSET,Xe.HTTPEQUIV,Xe.PROPERTY,Xe.ITEM_PROP],e),noscriptTags:Ko(ge.NOSCRIPT,[Xe.INNER_HTML],e),onChangeClientState:t5(e),scriptTags:Ko(ge.SCRIPT,[Xe.SRC,Xe.INNER_HTML],e),styleTags:Ko(ge.STYLE,[Xe.CSS_TEXT],e),title:e5(e),titleAttributes:Pp(Ri.TITLE,e)}},Mg=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Mg(e)},0)}}(),q_=function(e){return clearTimeout(e)},s5=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Mg:global.requestAnimationFrame||Mg,i5=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||q_:global.cancelAnimationFrame||q_,a5=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Yo=null,o5=function(e){Yo&&i5(Yo),e.defer?Yo=s5(function(){G_(e,function(){Yo=null})}):(G_(e),Yo=null)},G_=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;Vg(ge.BODY,s),Vg(ge.HTML,i),l5(f,p);var g={baseTag:ga(ge.BASE,r),linkTags:ga(ge.LINK,o),metaTags:ga(ge.META,l),noscriptTags:ga(ge.NOSCRIPT,c),scriptTags:ga(ge.SCRIPT,d),styleTags:ga(ge.STYLE,h)},y={},b={};Object.keys(g).forEach(function(m){var x=g[m],v=x.newTags,E=x.oldTags;v.length&&(y[m]=v),E.length&&(b[m]=g[m].oldTags)}),n&&n(),u(e,y,b)},BA=function(e){return Array.isArray(e)?e.join(""):e},l5=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=BA(e)),Vg(ge.TITLE,n)},Vg=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(cr),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);i.length===o.length?r.removeAttribute(cr):r.getAttribute(cr)!==l.join(",")&&r.setAttribute(cr,l.join(","))}},ga=function(e,n){var r=document.head||document.querySelector(ge.HEAD),s=r.querySelectorAll(e+"["+cr+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Xe.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Xe.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(cr,"true"),i.some(function(f,p){return l=p,u.isEqualNode(f)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:o}},zA=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},c5=function(e,n,r,s){var i=zA(r),o=BA(n);return i?"<"+e+" "+cr+'="true" '+i+">"+Lg(o,s)+"</"+e+">":"<"+e+" "+cr+'="true">'+Lg(o,s)+"</"+e+">"},u5=function(e,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(u){return!(u===Xe.INNER_HTML||u===Xe.CSS_TEXT)}).reduce(function(u,d){var h=typeof i[d]>"u"?d:d+'="'+Lg(i[d],r)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=K6.indexOf(e)===-1;return s+"<"+e+" "+cr+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},HA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[rh[s]||s]=e[s],r},n)},d5=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[G6[s]||s]=e[s],r},n)},h5=function(e,n,r){var s,i=(s={key:n},s[cr]=!0,s),o=HA(r,i);return[Ie.createElement(ge.TITLE,o,n)]},f5=function(e,n){return n.map(function(r,s){var i,o=(i={key:s},i[cr]=!0,i);return Object.keys(r).forEach(function(l){var c=rh[l]||l;if(c===Xe.INNER_HTML||c===Xe.CSS_TEXT){var u=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=r[l]}),Ie.createElement(e,o)})},Ur=function(e,n,r){switch(e){case ge.TITLE:return{toComponent:function(){return h5(e,n.title,n.titleAttributes)},toString:function(){return c5(e,n.title,n.titleAttributes,r)}};case Ri.BODY:case Ri.HTML:return{toComponent:function(){return HA(n)},toString:function(){return zA(n)}};default:return{toComponent:function(){return f5(e,n)},toString:function(){return u5(e,n,r)}}}},WA=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:Ur(ge.BASE,n,s),bodyAttributes:Ur(Ri.BODY,r,s),htmlAttributes:Ur(Ri.HTML,i,s),link:Ur(ge.LINK,o,s),meta:Ur(ge.META,l,s),noscript:Ur(ge.NOSCRIPT,c,s),script:Ur(ge.SCRIPT,u,s),style:Ur(ge.STYLE,d,s),title:Ur(ge.TITLE,{title:f,titleAttributes:p},s)}},p5=function(e){var n,r;return r=n=function(s){J6(i,s);function i(){return Q6(this,i),Z6(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!U6(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case ge.SCRIPT:case ge.NOSCRIPT:return{innerHTML:c};case ge.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return hn({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[hn({},h,this.mapNestedChildrenToProps(u,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(d.type){case ge.TITLE:return hn({},h,(c={},c[d.type]=p,c.titleAttributes=hn({},f),c));case ge.BODY:return hn({},h,{bodyAttributes:hn({},f)});case ge.HTML:return hn({},h,{htmlAttributes:hn({},f)})}return hn({},h,(u={},u[d.type]=hn({},f),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=hn({},c);return Object.keys(l).forEach(function(d){var h;u=hn({},u,(h={},h[d]=l[d],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Ie.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=W_(f,["children"]),y=d5(g);switch(u.warnOnInvalidChildren(h,p),h.type){case ge.LINK:case ge.META:case ge.NOSCRIPT:case ge.SCRIPT:case ge.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:y,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:y,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=W_(l,["children"]),d=hn({},u);return c&&(d=this.mapChildrenToProps(c,d)),Ie.createElement(e,d)},X6(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Ie.Component),n.propTypes={base:Ye.object,bodyAttributes:Ye.object,children:Ye.oneOfType([Ye.arrayOf(Ye.node),Ye.node]),defaultTitle:Ye.string,defer:Ye.bool,encodeSpecialCharacters:Ye.bool,htmlAttributes:Ye.object,link:Ye.arrayOf(Ye.object),meta:Ye.arrayOf(Ye.object),noscript:Ye.arrayOf(Ye.object),onChangeClientState:Ye.func,script:Ye.arrayOf(Ye.object),style:Ye.arrayOf(Ye.object),title:Ye.string,titleAttributes:Ye.object,titleTemplate:Ye.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=WA({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},m5=function(){return null},g5=D6(r5,o5,WA)(m5),en=p5(g5);en.renderStatic=en.rewind;const v5=({userType:t})=>{var F,D,O,U,G,k,M,Y,ne,oe,ue,Ee,H,re,me,K,de,Oe,Ce,Te,Ct,bt,Ut,nn,_t,ke;const[e,n]=A.useState(!1);A.useEffect(()=>{(async()=>{n(!0),await Wc(),await cs(),n(!1)})()},[]);const{id:r}=ds(),i=ee(Z=>Z.getpublications.data).filter(Z=>Z._id==r)[0],o=ee(Z=>Z.getsupervisors.data),[l,c]=A.useState((D=(F=i==null?void 0:i.data)==null?void 0:F.paperTitle)==null?void 0:D.stringValue),[u,d]=A.useState((U=(O=i==null?void 0:i.data)==null?void 0:O.paperType)==null?void 0:U.stringValue),[h,f]=A.useState((k=(G=i==null?void 0:i.data)==null?void 0:G.publisher)==null?void 0:k.stringValue),[p,g]=A.useState((Y=(M=i==null?void 0:i.data)==null?void 0:M.publicationDate)==null?void 0:Y.stringValue),[y,b]=A.useState((oe=(ne=i==null?void 0:i.data)==null?void 0:ne.link)==null?void 0:oe.stringValue),[m,x]=A.useState((Ee=(ue=i==null?void 0:i.data)==null?void 0:ue.author)==null?void 0:Ee.stringValue),[v,E]=A.useState((re=(H=i==null?void 0:i.data)==null?void 0:H.journalName)==null?void 0:re.stringValue),[S,j]=A.useState((K=(me=i==null?void 0:i.data)==null?void 0:me.pages)==null?void 0:K.stringValue),[N,w]=A.useState((Oe=(de=i==null?void 0:i.data)==null?void 0:de.volume)==null?void 0:Oe.stringValue),[_,T]=A.useState((Te=(Ce=i==null?void 0:i.data)==null?void 0:Ce.impact)==null?void 0:Te.stringValue),[C,P]=A.useState((bt=(Ct=i==null?void 0:i.data)==null?void 0:Ct.isbn)==null?void 0:bt.stringValue),R=[];(ke=(_t=(nn=(Ut=i==null?void 0:i.data)==null?void 0:Ut.users)==null?void 0:nn.arrayValue)==null?void 0:_t.values)==null||ke.map(Z=>{R==null||R.push(Z.stringValue)});const[I,L]=A.useState(R),z=Z=>{if(Z.preventDefault(),!l||!u||!h||!p||!y||!m||!v||!S||!N||!_||!C){V("danger","Please fill all required fields!");return}n(!0);const Ke=$e(J,"publications",i==null?void 0:i._id);On(Ke,{paperTitle:l,paperType:u,publisher:h,publicationDate:p,link:y,author:m,journalName:v,pages:S,volume:N,impact:_,isbn:C,users:I}).then(()=>{V("success","Publication has been updated!"),n(!1),window.location.href="/CVPR_LAB/#/dashboard/publications"}).catch(()=>{V("danger","Error updating publication, Try again."),n(!1)})};if(!i){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Publication"}),a.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.location.href="/CVPR_LAB/#/dashboard/publications",children:"Back to Publications"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs("form",{onSubmit:z,noValidate:!0,children:[a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:l,onChange:Z=>c(Z.target.value),required:!0,disabled:!0})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",disabled:e||t==="SUPERVISOR",onChange:Z=>{const Ke=Z.target.value;if(I)if(Ke==="other"){let W=prompt("Please enter supervisor name:");W&&L([...I,W])}else I.includes(Ke)?alert("User with this name already existed."):L([...I,Ke])},children:[a.jsx("option",{value:"",children:"--select user--"}),o==null?void 0:o.map((Z,Ke)=>{var W,Ne,Pe;return a.jsxs("option",{value:(W=Z==null?void 0:Z.data)==null?void 0:W.email,children:[(Ne=Z==null?void 0:Z.data)==null?void 0:Ne.name,"-",(Pe=Z==null?void 0:Z.data)==null?void 0:Pe.email]},Ke)}),a.jsx("option",{value:"other",children:"Other"})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:I==null?void 0:I.map((Z,Ke)=>a.jsxs("span",{className:"badge bg-success",children:[Z," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(t!=="SUPERVISOR"&&confirm("Are you sure want to remove?")){const W=I.filter(Ne=>Ne!==Z);L(W)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},Ke))})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Article",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"paperType",value:u,onChange:Z=>d(Z.target.value),required:!0,disabled:e,children:[a.jsx("option",{value:"",children:"---select type---"}),a.jsx("option",{value:"Conference",children:"Conference"}),a.jsx("option",{value:"Patent",children:"Patent"}),a.jsx("option",{value:"Journal",children:"Journal"}),a.jsx("option",{value:"Book",children:"Book"}),a.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),a.jsx("option",{value:"Publications",children:"Publications"})]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021 – 47th Annual Conference of the IEEE Industrial Electronics Society",value:h,onChange:Z=>f(Z.target.value),required:!0,disabled:e})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year of Publication",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:p,onChange:Z=>g(Z.target.value),required:!0,disabled:e,children:[a.jsx("option",{value:"",children:"---select year---"}),[...Array(16)].map((Z,Ke)=>a.jsx("option",{value:2008+Ke,children:2008+Ke},Ke))]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link of Publication"}),a.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:y,onChange:Z=>b(Z.target.value),disabled:e})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Name of the Authors(Comma Separated)",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:Z=>x(Z.target.value),id:"authors",value:m,placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:e})]}),a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Name of the Article",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",name:"journalName",autoComplete:"false",className:"form-control mb-3",placeholder:"Publication Name",value:v,onChange:Z=>E(Z.target.value),required:!0,disabled:e}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Number of Pages in the Article"}),a.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:S,onChange:Z=>j(Z.target.value),disabled:e})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume of the Article"}),a.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:N,onChange:Z=>w(Z.target.value),disabled:e})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),a.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:_,onChange:Z=>T(Z.target.value),disabled:e})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),a.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:C,onChange:Z=>P(Z.target.value),disabled:e})]})]}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:e,children:e?"Please Wait...":"Submit"})]})})]})})},y5=()=>{var p,g,y,b,m,x,v,E,S,j,N;const{id:t}=ds(),e=ee(w=>w.getsupervisors.data),n=e==null?void 0:e.filter(w=>(w==null?void 0:w._id)==t)[0],[r,s]=A.useState(!1),[i,o]=A.useState(),[l,c]=A.useState({name:(p=n==null?void 0:n.data)==null?void 0:p.name,email:(g=n==null?void 0:n.data)==null?void 0:g.email,phone:(y=n==null?void 0:n.data)==null?void 0:y.phone,researchInterests:(b=n==null?void 0:n.data)==null?void 0:b.researchInterests,introduction:(m=n==null?void 0:n.data)==null?void 0:m.introduction,accomplishments:(x=n==null?void 0:n.data)==null?void 0:x.accomplishments,designation:(v=n==null?void 0:n.data)==null?void 0:v.designation,professional_affiliation:(E=n==null?void 0:n.data)==null?void 0:E.professional_affiliation,teaching:(S=n==null?void 0:n.data)==null?void 0:S.teaching,links:(j=n==null?void 0:n.data)==null?void 0:j.links}),[u,d]=A.useState({linkName:"",linkURL:""});A.useEffect(()=>{cs()},[]);const h=w=>{const{name:_,value:T}=w.target;c(C=>({...C,[_]:T}))},f=async()=>{var O,U;const{name:w,email:_,phone:T,researchInterests:C,introduction:P,accomplishments:R,designation:I,links:L,professional_affiliation:z,teaching:F}=l;if(!w||!_||!T||!C||!P||!R||!I||!L||!z||!F){V("danger","Error! Please fill all required fields.");return}s(!0);const D=$e(J,"supervisors",n==null?void 0:n._id);if(i){if(n&&n.data&&n.data.profileImage){const k=Le(Me,`/peoples/supervisor_profile_images/${(U=(O=n==null?void 0:n.data)==null?void 0:O.profileImage)==null?void 0:U.stringValue}`);try{await fs(k)}catch{}}const G=Le(Me,`/peoples/supervisor_profile_images/${w}_${i.name}`);try{await hs(G,i),V("info","Profile image uploaded successfully");const k=`${w}_${i.name}`;await On(D,{...l,profileImage:k}),V("success","Supervisor details updated with profile image successfully."),window.location.href="/CVPR_LAB/#/dashboard"}catch{V("warning","Error! while uploading profile image, check your internet connection and try again."),s(!1);return}}else try{await On(D,{...l}),V("success","Supervisor details updated successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{V("danger","Error updating supervisor details."),s(!1);return}s(!1)};if(!n){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Supervisor"}),a.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),a.jsx("hr",{}),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"col-sm-12 mb-3",children:a.jsxs("div",{className:"col-sm-2",children:[" ",a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("span",{className:"text-danger",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:h})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",a.jsx("span",{className:"text-danger",children:"aspect ratio 3:4 only"}),")"]}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:w=>{var T;const _=(T=w.target.files)==null?void 0:T[0];o(_)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",a.jsx("span",{className:"text-danger",children:"Use comma separated for multiple"}),")"]}),a.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:h,rows:4})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:l.teaching||"",onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:l.accomplishments,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:l.professional_affiliation,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:w=>d({linkName:w.target.value,linkURL:u.linkURL}),value:u.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:w=>d({linkName:u.linkName,linkURL:w.target.value}),value:u.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-danger w-100",onClick:()=>{if(!u.linkName||!u.linkURL){V("danger","Link Name and URL are required fields.");return}if(l.links.includes(u)){V("danger","This link already exists.");return}c({...l,links:[...l.links,u]}),d({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(N=l==null?void 0:l.links)==null?void 0:N.map((w,_)=>a.jsxs("tr",{children:[a.jsx("th",{children:_+1}),a.jsx("th",{children:w==null?void 0:w.linkName}),a.jsx("th",{children:a.jsx("a",{href:w==null?void 0:w.linkURL,target:"_blank",children:w==null?void 0:w.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&c({...l,links:l==null?void 0:l.links.filter(T=>T.linkName!==(w==null?void 0:w.linkName))})},children:"Remove"})})]}))})]}),!(l!=null&&l.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]}),a.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},x5={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},w5=()=>{var m,x,v,E,S,j,N,w,_,T,C,P,R,I,L,z,F,D,O,U,G;const{id:t}=ds(),[e,n]=A.useState(!1),r=ee(k=>{var M;return(M=k.getprojectitems)==null?void 0:M.data}),s=ee(k=>{var M;return(M=k.getdatasets)==null?void 0:M.data}),i=ee(k=>k.getsupervisors.data),o=ee(k=>{var M;return(M=k.getprojectsmain)==null?void 0:M.data}),l=o==null?void 0:o.filter(k=>(k==null?void 0:k._id)==t)[0],c=[];(v=(x=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:x.values)==null||v.map(k=>{c==null||c.push(k.stringValue)});const u=[];(j=(S=(E=l==null?void 0:l.related_projectitems)==null?void 0:E.arrayValue)==null?void 0:S.values)==null||j.map(k=>{u==null||u.push(k.stringValue)});const[d,h]=A.useState({title:(N=l==null?void 0:l.title)==null?void 0:N.stringValue,description:(w=l==null?void 0:l.description)==null?void 0:w.stringValue,funding_agency:(_=l==null?void 0:l.description)==null?void 0:_.stringValue,pis:(T=l==null?void 0:l.pis)==null?void 0:T.stringValue,copis:(C=l==null?void 0:l.copis)==null?void 0:C.stringValue,jrf_phd_scholar:(P=l==null?void 0:l.jrf_phd_scholar)==null?void 0:P.stringValue,related_datasets:c,related_projectitems:u,total_fund:(R=l==null?void 0:l.total_fund)==null?void 0:R.stringValue,type:(I=l==null?void 0:l.type)==null?void 0:I.stringValue}),f=[];(F=(z=(L=l==null?void 0:l.users)==null?void 0:L.arrayValue)==null?void 0:z.values)==null||F.map(k=>{f==null||f.push(k.stringValue)});const[p,g]=A.useState(f);A.useEffect(()=>{ua(),da(),wf()},[]);const y=k=>{const{id:M,value:Y}=k.target;h(ne=>({...ne,[M]:Y}))},b=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!p){V("danger","Please fill out all fields.");return}n(!0);try{const k=$e(J,"projects_main",l==null?void 0:l._id);await On(k,{...d,users:p}),V("success","Project has been saved!"),h(x5),n(!1),window.location.href="/CVPR_LAB/#/dashboard/projects"}catch{V("danger","Error! while editing the Project, Try again.")}};if(!l){history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),a.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-danger",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:k=>{const M=k.target.value;!p||M===""||(p.includes(M)?alert("User with this name already existed."):g([...p,M]))},children:[a.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((k,M)=>{var Y,ne,oe;return a.jsxs("option",{value:(Y=k==null?void 0:k.data)==null?void 0:Y.email,children:[(ne=k==null?void 0:k.data)==null?void 0:ne.name,"-",(oe=k==null?void 0:k.data)==null?void 0:oe.email]},M)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((k,M)=>a.jsxs("span",{className:"badge bg-success",children:[k," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const Y=p.filter(ne=>ne!==k);g(Y)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},M))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:y,value:d.title,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:y,value:d.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:y,value:d.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:y,value:d.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:y,value:d.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:y,value:d.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:y,value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:y,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:k=>{const M=k.target.value;M!==""&&(d.related_datasets.includes(M)||h(Y=>({...Y,related_datasets:[...Y.related_datasets,M]})))},value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((k,M)=>a.jsx("option",{value:k==null?void 0:k._id,children:k==null?void 0:k.title},M))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(D=d.related_datasets)==null?void 0:D.map((k,M)=>{const Y=s==null?void 0:s.find(ne=>(ne==null?void 0:ne._id)==k);return a.jsxs("tr",{children:[a.jsx("th",{children:M+1}),a.jsx("th",{children:Y==null?void 0:Y.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(ne=>{var oe;return{...ne,related_datasets:(oe=d==null?void 0:d.related_datasets)==null?void 0:oe.filter(ue=>ue!==k)}})},children:"Remove"})})]})})})]}),!((O=d.related_datasets)!=null&&O.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:k=>{const M=k.target.value;M!==""&&(d.related_projectitems.includes(M)||h(Y=>({...Y,related_projectitems:[...Y.related_projectitems,M]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((k,M)=>a.jsx("option",{value:k==null?void 0:k._id,children:k==null?void 0:k.title},M))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(U=d.related_projectitems)==null?void 0:U.map((k,M)=>{const Y=r==null?void 0:r.find(ne=>(ne==null?void 0:ne._id)==k);return a.jsxs("tr",{children:[a.jsx("th",{children:M+1}),a.jsx("th",{children:Y==null?void 0:Y.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(ne=>{var oe;return{...ne,related_projectitems:(oe=d==null?void 0:d.related_projectitems)==null?void 0:oe.filter(ue=>ue!==k)}})},children:"Remove"})})]})})})]}),!((G=d.related_projectitems)!=null&&G.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]}),a.jsx("div",{className:"p-3 mt-4  col-sm-12",children:a.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:b,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})},qA=async()=>{try{const t=ce(J,"gallery_images"),e=await We(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.id.stringValue;console.log(i);const c=i.timestamp.timestampValue,u=l?await b5(l):null;n.push({_id:o,datetime:c,bannerURL:u})});await Promise.all(r),ut.dispatch(PB(n))}catch(t){console.error("Error fetching Gallery:",t)}},b5=async t=>{try{const e=Le(Me,`gallery_images/${t}`);return await ui(e)}catch{return null}};async function GA(t,e){if(!e){if(!confirm("Are you sure want to delete this item?"))return;if(t===null){alert("Invalid Gallery ID");return}}if(t!==null)try{const n=$e(J,"gallery_images",t),i=(await Jn(n)).data().banner;if(await dn(n),i){const o=Le(Me,`gallery_images/${i}`);await fs(o)}e||(alert("Gallery item and image deleted successfully!"),location.reload())}catch(n){console.log(n),e||alert("Error deleting Gallery!")}}async function _5(t){for(let e=0;e<t.length;e++)await GA(t[e],!0);alert("Gallery Images deleted successfully!"),location.reload()}function KA(t){const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e.toLocaleString("en-US",n)}function E5(t){const e=new Date(t),n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<60?`${r} min ago`:s<24?`${s} hours ago`:`${i} days ago`}const j5=()=>{const t=ee(h=>h.getgallery).data,[e,n]=A.useState([]),[r,s]=A.useState(!1),[i,o]=A.useState({selectedAll:!1,selectedChecks:[]}),[l,c]=A.useState(0);A.useEffect(()=>{qA()},[]);const u=h=>{const f=h.target.files;if(f){if(f.length>10){V("danger","Number of Images must be less than or equal to 10"),h.target.value="";return}const p=Array.from(f),g=[];p.forEach(y=>{const b=new FileReader;b.onload=()=>{typeof b.result=="string"&&g.push(b.result),g.length===p.length&&n(g)},b.readAsDataURL(y)})}},d=async()=>{if(!e.length){V("danger","Please select the images!");return}s(!0);try{const h=e.map(async f=>{const p=Nx(),g=Le(Me,`gallery_images/${p}`),y=await fetch(f).then(m=>m.blob()),b=t$(g,y);return new Promise((m,x)=>{b.on("state_changed",v=>{const E=(v.bytesTransferred/v.totalBytes*100).toFixed(2);c(Number(E))},v=>{V("danger","Error uploading image! Try again."),x(v)},async()=>{await nt(ce(J,"gallery_images"),{id:p,timestamp:new Date(Date.now())}),m()})})});await Promise.all(h),V("success","Images has been saved!")}catch(h){V("danger","Error uploading images!"),console.error("Error uploading images:",h)}c(0),n([]),s(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Gallery Images"}),a.jsxs("div",{children:[i.selectedChecks.length!==0&&a.jsx("button",{className:"btn btn-danger",onClick:async()=>{confirm("Are you sure want to delete!")&&(s(!0),await _5(i.selectedChecks),V("success","Images has been deleted!"))},disabled:r,children:r?"Please Wait..":"Delete Selected("+i.selectedChecks.length+")"}),a.jsx("button",{className:"btn btn-dark rounded-0 ms-2","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("input",{type:"checkbox",className:"form-check-input me-2",name:"select_image",id:"select_image",onChange:h=>o({selectedAll:h.target.checked,selectedChecks:h.target.checked?S5(t):[]}),checked:i.selectedAll})," ",a.jsx("span",{children:"Select All "})]})}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Timestamp"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>{const p=i.selectedChecks.includes(h==null?void 0:h._id.toString());return a.jsxs("tr",{children:[a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx("input",{type:"checkbox",className:"form-check-input me-2",onChange:g=>{g.target.checked?o({selectedAll:!1,selectedChecks:[...i.selectedChecks,h==null?void 0:h._id]}):o({selectedAll:!1,selectedChecks:i.selectedChecks.filter(y=>y!=(h==null?void 0:h._id))})},checked:p})}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx(ie,{target:"_blank",to:h.bannerURL,style:{width:"200px",overflow:"auto"},children:a.jsx("img",{className:"rounded-2",src:h.bannerURL,alt:"",width:"300px"})})}),a.jsxs("td",{style:{width:"10px"},className:p?"bg-secondary1":"",children:[E5(h.datetime)," on"," ",KA(h.datetime)]}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:async()=>{await GA(h._id,!1),V("success","Image has been deleted!")},children:"Delete"})})})]})})]},f)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-danger",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Gellary Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l,"%"]})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Select Images"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:u,disabled:r,multiple:!0})]}),a.jsxs("div",{className:"alert alert-warning",role:"alert",children:["You can only upload"," ",a.jsx("strong",{className:"fw-bold text-danger",children:"10 Images at a time"}),"!"]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"}),a.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[a.jsxs("h4",{className:"my-2 text-danger",children:["Preview (",e.length," selected)"]}),a.jsx("button",{className:"btn btn-sm btn-danger",style:{height:"fit-content"},onClick:()=>n([]),children:"Remove All"})]}),a.jsx("div",{className:"my-4 d-flex justify-content-center align-items-start flex-wrap gap-2",children:e&&e.map((h,f)=>a.jsx("img",{src:h,alt:`Image ${f}`,style:{width:"300px",height:"auto",cursor:"pointer"},className:"rounded-1 shadow-lg"},f))})]})]})})})]})},S5=t=>{let e=[];return t==null||t.map(n=>{e.push(n==null?void 0:n._id)}),e},Rx=async()=>{try{const t=ce(J,"project_main_images"),e=await We(t),n=[],r=e.docs.map(async s=>{var d,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(d=i==null?void 0:i.title)==null?void 0:d.stringValue,c=(h=i==null?void 0:i.project)==null?void 0:h.stringValue,u=l?await T5(c,l):null;n.push({_id:o,title:l,bannerURL:u,project:c})});await Promise.all(r),ut.dispatch(kB(n))}catch(t){console.error("Error fetching ProjectsImages:",t)}},T5=async(t,e)=>{try{const n=Le(Me,`project_main_images/${t+e}`);return await ui(n)}catch{return null}};async function N5(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid Projects Items ID");return}try{const e=$e(J,"project_main_images",t),s=(await Jn(e)).data().banner;if(await dn(e),s){const i=Le(Me,`project_main_images/${s}`);await fs(i)}alert("ProjectsImages item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsImages!")}}}const I5=()=>{var p,g,y,b,m,x,v;const{id:t}=ds(),e=ee(E=>{var S;return(S=E.getprojectsmain)==null?void 0:S.data}),n=ee(E=>{var S;return(S=E.getprojectsimages)==null?void 0:S.data}),r=e.find(E=>E._id===t),s=n.filter(E=>(E==null?void 0:E.project)===t);if(!r){history.back();return}const[i,o]=A.useState(null),[l,c]=A.useState(""),[u,d]=A.useState(!1);A.useEffect(()=>{Rx()},[]);const h=E=>{if(E.target.files&&E.target.files.length>0){const S=new FileReader;S.onload=()=>{o(S.result)},S.readAsDataURL(E.target.files[0])}},f=async()=>{if(!i||!l){V("danger","Please select an image and provide a title!");return}d(!0);const E=Le(Me,`project_main_images/${t+l}`),S=await fetch(i).then(j=>j.blob());try{await hs(E,S),await nt(ce(J,"project_main_images"),{title:l,project:t}),V("success","Image with title has been saved!"),c(""),o(null),d(!1),location.reload()}catch{V("danger","Error uploading image, Try Again!"),c(""),o(null),d(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-danger",children:(p=r==null?void 0:r.title)==null?void 0:p.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsx("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add Image"}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(g=r==null?void 0:r.funding_agency)==null?void 0:g.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(y=r==null?void 0:r.total_fund)==null?void 0:y.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(b=r==null?void 0:r.pis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(m=r==null?void 0:r.copis)==null?void 0:m.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(x=r==null?void 0:r.jrf_phd_scholar)==null?void 0:x.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-danger",children:"Introduction "})}),a.jsx("br",{}),(v=r==null?void 0:r.description)==null?void 0:v.stringValue]})})]})})})}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:s==null?void 0:s.map((E,S)=>a.jsxs("tr",{children:[a.jsx("td",{children:S+1}),a.jsx("td",{children:E==null?void 0:E.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(ie,{target:"_blank",to:E==null?void 0:E.bannerURL,children:a.jsx("img",{className:"rounded-2",src:E==null?void 0:E.bannerURL,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>N5(E._id),children:"Delete"})})})]})})]},S))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub project_"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:E=>c(E.target.value),disabled:u,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:u})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},YA=async()=>{console.log("Started!");try{Yt.onAuthStateChanged(async t=>{if(t){const e=Yr(ce(J,"users"),br("email","==",t.email)),n=await We(e);if(n.empty)console.log("failed!"),ut.dispatch(t_());else{const s=n.docs[0].data(),{email:i,userType:o}=s,l=t==null?void 0:t.emailVerified;console.log({email:i,userType:o,isVarified:l}),ut.dispatch(yB({email:i,userType:o,isVarified:l}))}}})}catch(t){console.error("Error in getUserAuth:",t),ut.dispatch(t_())}},A5=()=>{var v,E;const t=ee(S=>S.getauth),e=ee(S=>S.getsupervisors.data),n=ee(S=>S.getphdStudents.data),[r,s]=A.useState(!1),[i,o]=A.useState(!1),[l,c]=A.useState([]),[u,d]=A.useState([]),[h,f]=A.useState({email:"",name:""}),p=async()=>{o(!0);const S=await We(ce(J,"users"));let j=[];S.forEach(async N=>{var _;const w=N.data();if((_=w==null?void 0:w.userType)!=null&&_.includes("ADMIN")){const T=w.userType;console.log({email:w.email,userType:T}),j.push({email:w.email,userType:T})}}),c(j),o(!1)},g=async()=>{o(!0),d([]);const S=await We(ce(J,"users_requests"));let j=[];S.forEach(async N=>{const w=N.data(),_=w.userType;j.push({email:w.email,userType:_})}),d(j),o(!1)};A.useEffect(()=>{var S;YA(),Po(),cs(),p(),(S=t==null?void 0:t.userType)!=null&&S.includes("ADMIN")&&g()},[]);const y=async()=>{s(!0);try{(await We(Yr(ce(J,"users_requests"),br("email","==",t==null?void 0:t.email),br("userType","==",t==null?void 0:t.userType)))).empty?(await nt(ce(J,"users_requests"),{email:t==null?void 0:t.email,userType:t==null?void 0:t.userType}),V("success","Your request has been sent successfully. Please wait for the admin's approval.")):V("warning","A request with the same email and user type already exists. Please wait for the admin's approval.")}catch(S){console.error("Error while adding admin request:",S),V("danger","Error while adding admin request!")}s(!1)},b=async S=>{s(!0);try{const j=await We(Yr(ce(J,"users_requests"),br("email","==",S)));j.empty?V("danger","No requests found with the provided email"):(j.forEach(async N=>{await dn(N.ref)}),V("success","Requests deleted successfully"))}catch{V("danger","Error deleting requests!")}s(!1),window.location.reload()},m=async S=>{s(!0);try{const j=Yr(ce(J,"users"),br("email","==",S)),N=await We(j),w=N.docs[0].data();if(!w.userType||!w.userType.includes("ADMIN")){const _=w.userType?w.userType+",ADMIN":"ADMIN";await On($e(J,"users",N.docs[0].id),{userType:_}),V("success","Admin rights given successfully."),await b(S),window.location.reload()}else V("warning","The selected user is already an admin.")}catch{V("danger","Error while approving admin request!")}s(!1)},x=async()=>{s(!0);try{const S=Yr(ce(J,"users"),br("email","==",h.email)),j=await We(S),N=j.docs[0].data();if(!N.userType||!N.userType.includes("ADMIN")){const w=N.userType?N.userType+",ADMIN":"ADMIN";await On($e(J,"users",j.docs[0].id),{userType:w}),V("success","Admin rights given successfully."),window.location.reload()}else V("warning","The selected user is already an admin.")}catch(S){console.error("Error in changing admin rights:",S),V("danger","Error in changing admin rights")}s(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Current Site Admins"}),(v=t==null?void 0:t.userType)!=null&&v.includes("ADMIN")?a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-danger btn-sm rounded-0 d-flex justify-content-center align-items-center me-1",disabled:!0,children:"Remove Admin Rights"}),a.jsxs("button",{className:"btn btn-dark btn-sm rounded-0 d-flex justify-content-center align-items-center","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:[a.jsx("i",{className:"bx bxs-edit me-1"})," Change Site Admin"]})]}):a.jsx("button",{className:"btn btn-primary btn-sm rounded-0 d-flex justify-content-center align-items-center",onClick:y,disabled:r,children:r?"Sending Request...":"Request Admin Rights"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h2",{className:"fw-bold text-danger text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:l.map((S,j)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-danger",children:S.email}),a.jsx("th",{className:"fw-bold text-success",children:S.userType.split(",").map(N=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:N},N))})]},j))}),!l.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-danger text-center w-100",children:"No Data"})})})]})]})}),((E=t==null?void 0:t.userType)==null?void 0:E.includes("ADMIN"))&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Admin Requests"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-danger text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:u.map((S,j)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-danger",children:S.email}),a.jsx("th",{className:"fw-bold text-success",children:S.userType.split(",").map(N=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:N},N))}),a.jsxs("th",{children:[a.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>m(S.email),disabled:r,children:"Approve"}),a.jsx("button",{className:"btn btn-outline-danger ms-2 btn-sm",onClick:()=>b(S.email),disabled:r,children:"Delete"})]})]},j))}),!u.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-danger text-center w-100",children:"No Requests"})})})]})]})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Change Site Admin"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select User (",a.jsx("strong",{className:"text-danger",children:"*It can be supervisor as well as PHD Student."}),")",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:S=>{var N,w,_,T,C;let j=(w=(N=e.filter(P=>{var R;return((R=P==null?void 0:P.data)==null?void 0:R.name)===S.target.value})[0])==null?void 0:N.data)==null?void 0:w.email;j||(j=(C=(T=(_=n.filter(P=>{var R,I;return((I=(R=P==null?void 0:P.data)==null?void 0:R.name)==null?void 0:I.stringValue)===S.target.value})[0])==null?void 0:_.data)==null?void 0:T.email)==null?void 0:C.stringValue),f({name:S.target.value,email:j})},disabled:r,children:[a.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((S,j)=>{var N,w,_;return a.jsxs("option",{value:(N=S==null?void 0:S.data)==null?void 0:N.name,children:[(w=S==null?void 0:S.data)==null?void 0:w.name,",",(_=S==null?void 0:S.data)==null?void 0:_.email,", Supervisor"]},j)}),n==null?void 0:n.map((S,j)=>{var N,w,_,T,C,P;return a.jsxs("option",{value:(w=(N=S==null?void 0:S.data)==null?void 0:N.name)==null?void 0:w.stringValue,children:[(T=(_=S==null?void 0:S.data)==null?void 0:_.name)==null?void 0:T.stringValue,",",(P=(C=S==null?void 0:S.data)==null?void 0:C.email)==null?void 0:P.stringValue,", PHD Student"]},j)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:h.name?a.jsxs("table",{className:"table table-bordered table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("th",{children:h.name}),a.jsx("th",{children:h.email}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-danger btn-sm rounded-0",onClick:()=>f({email:"",name:""}),disabled:r,children:"Remove"})})]})})]}):a.jsx("div",{className:"w-100 h5 text-danger text-center my-3",children:"No User Selected"})})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:r,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:x,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},QA=[{to:"supervisors",text:"Supervisors"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"datasets",text:"Datasets"},{to:"news",text:"News"},{to:"slider-images",text:"Slider Images"},{to:"gallary-images",text:"Gallery Images"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"change-password",text:"Change Password"}],kp=[{to:"",text:"Home"},...QA],Rp=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},...QA],Dp=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"datasets",text:"Datasets"},{to:"change-password",text:"Change Password"}],Op=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"change-password",text:"Change Password"}],C5=()=>{var u,d;const{id:t}=ds(),n=ee(h=>h.getdatasets).data.find(h=>h._id===t);if(!n){history.back();return}const[r,s]=A.useState(null),[i,o]=A.useState(!1);A.useEffect(()=>{ua()},[]);const l=h=>{if(h.target.files&&h.target.files.length>0){const f=new FileReader;f.onload=()=>{s(f.result)},f.readAsDataURL(h.target.files[0])}},c=async()=>{if(!r){V("danger","Please select an image.");return}o(!0);const h=t+"_"+Nx(),f=Le(Me,`dataset_images/${h}`),p=await fetch(r).then(g=>g.blob());try{await hs(f,p);const g=$e(J,"datasets",t||""),y=await Jn(g);if(y.exists()){const x=[...y.data().images||[],h];await On(g,{images:x}),V("success","Document successfully updated with new image!")}else V("danger","Something went wrong!");s(null),o(!1),location.reload()}catch{V("danger","Error uploading image, Try Again!"),s(null),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-danger",children:n==null?void 0:n.title})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3 w-100 justify-justify-content-start",children:[a.jsx("button",{className:"btn btn-info","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Upload Image"}),a.jsx("button",{className:"btn btn-danger",onClick:()=>history.back(),children:"Back to Datasets"})]}),a.jsx("h4",{className:"fw-bold",children:"1. Dataset Details"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto my-4 card p-3 rounded-0",children:n==null?void 0:n.description}),a.jsx("h4",{className:"fw-bold",children:"2. Dataset Images"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsxs("tbody",{children:[(u=n==null?void 0:n.images)==null?void 0:u.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(ie,{target:"_blank",to:h==null?void 0:h.url,children:a.jsx("img",{className:"rounded-2",src:h==null?void 0:h.url,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-danger",onClick:()=>l6(n._id,h==null?void 0:h.name),children:"Delete"})})})]})})]},f)),!((d=n==null?void 0:n.images)!=null&&d.length)&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"fw-bold h3 text-success p-5 text-center",children:"No Data"})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Upload Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},P5=()=>{var y,b,m,x,v,E,S,j,N,w,_,T,C,P,R,I,L,z,F,D,O,U,G,k,M,Y,ne,oe,ue,Ee,H,re,me,K,de,Oe,Ce,Te,Ct,bt,Ut,nn,_t,ke,Z,Ke;const t=ee(W=>W.getauth),e=(y=ee(W=>W.getphdStudents))==null?void 0:y.data,n=e==null?void 0:e.filter(W=>{var Ne,Pe;return((Pe=(Ne=W==null?void 0:W.data)==null?void 0:Ne.email)==null?void 0:Pe.stringValue)===(t==null?void 0:t.email)})[0];let r="";(x=(m=(b=n==null?void 0:n.data)==null?void 0:b.researchInterests)==null?void 0:m.arrayValue)==null||x.values.map(W=>{r=r+(r===""?"":",")+(W==null?void 0:W.stringValue)});let s=[];(S=(E=(v=n==null?void 0:n.data)==null?void 0:v.links)==null?void 0:E.arrayValue)==null||S.values.map(W=>{var Ne,Pe,$t,jn,tr,nr;s.push({linkName:($t=(Pe=(Ne=W==null?void 0:W.mapValue)==null?void 0:Ne.fields)==null?void 0:Pe.linkName)==null?void 0:$t.stringValue,linkURL:(nr=(tr=(jn=W==null?void 0:W.mapValue)==null?void 0:jn.fields)==null?void 0:tr.linkURL)==null?void 0:nr.stringValue})});const[i,o]=A.useState(!1),[l,c]=A.useState(),[u,d]=A.useState({name:(N=(j=n==null?void 0:n.data)==null?void 0:j.name)==null?void 0:N.stringValue,email:(_=(w=n==null?void 0:n.data)==null?void 0:w.email)==null?void 0:_.stringValue,phone:(C=(T=n==null?void 0:n.data)==null?void 0:T.mobile)==null?void 0:C.stringValue,researchInterests:r,introduction:(R=(P=n==null?void 0:n.data)==null?void 0:P.introduction)==null?void 0:R.stringValue,links:s||[],personal_email:((L=(I=n==null?void 0:n.data)==null?void 0:I.personal_email)==null?void 0:L.stringValue)||""}),[h,f]=A.useState({linkName:"",linkURL:""});A.useEffect(()=>{Po()},[]);const p=W=>{const{name:Ne,value:Pe}=W.target;d($t=>({...$t,[Ne]:Pe}))},g=async()=>{o(!0);const W=$e(J,"phdStudents",n==null?void 0:n._id);if(l){const Ne=Le(Me,`/peoples/phd_profile_images/${u.name}_${l.name}`);await hs(Ne,l).then(async()=>{V("success","Profile image uploaded successfully");try{const Pe=await Jn(W);if(Pe.exists()){const $t={...Pe.data(),...u,researchInterests:u.researchInterests.split(",").map(jn=>jn.trim()),profileImage:u.name+"_"+l.name};await On(W,$t),V("success","Document successfully updated!")}else console.log("No such document exists!");d({name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:""}),c(void 0),o(!1),window.location.reload()}catch{V("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),o(!1)}}).catch(()=>{V("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),o(!1)})}else try{const Ne=await Jn(W);if(Ne.exists()){const Pe={...Ne.data(),...u,researchInterests:u.researchInterests.split(",").map($t=>$t.trim())};await On(W,Pe),console.log("Document successfully updated!")}else console.log("No such document exists!");d({name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:""}),c(void 0),o(!1),window.location.reload()}catch{V("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Profile"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"Edit Profile"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:n==null?void 0:n.profileImage,target:"_blank",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsx("td",{colSpan:7,children:(F=(z=n==null?void 0:n.data)==null?void 0:z.isAlumni)!=null&&F.booleanValue?a.jsx("div",{className:"fw-bold text-danger",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-danger",children:"Ongoing Student"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-danger",children:"Name"})}),a.jsx("td",{children:(O=(D=n==null?void 0:n.data)==null?void 0:D.name)==null?void 0:O.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-danger",children:"Email"})}),a.jsx("td",{children:(G=(U=n==null?void 0:n.data)==null?void 0:U.email)==null?void 0:G.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Batch"})]}),a.jsx("td",{children:((M=(k=n==null?void 0:n.data)==null?void 0:k.batch)==null?void 0:M.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-danger",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(Ee=(ue=(oe=(ne=(Y=n==null?void 0:n.data)==null?void 0:Y.supervisor)==null?void 0:ne.mapValue)==null?void 0:oe.fields)==null?void 0:ue.name)==null?void 0:Ee.stringValue,", ",a.jsx("strong",{children:"Email: "}),(de=(K=(me=(re=(H=n==null?void 0:n.data)==null?void 0:H.supervisor)==null?void 0:re.mapValue)==null?void 0:me.fields)==null?void 0:K.email)==null?void 0:de.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((Ce=(Oe=n==null?void 0:n.data)==null?void 0:Oe.mobile)==null?void 0:Ce.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((Ct=(Te=n==null?void 0:n.data)==null?void 0:Te.personal_email)==null?void 0:Ct.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(_t=(nn=(Ut=(bt=n==null?void 0:n.data)==null?void 0:bt.researchInterests)==null?void 0:Ut.arrayValue)==null?void 0:nn.values)==null?void 0:_t.map((W,Ne)=>a.jsx(ie,{to:"https://www.google.com/search?q="+(W==null?void 0:W.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:W==null?void 0:W.stringValue},Ne)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(Z=(ke=n==null?void 0:n.data)==null?void 0:ke.introduction)==null?void 0:Z.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Links"})}),a.jsx("td",{colSpan:7,children:s.map(W=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(W==null?void 0:W.linkURL,"_blank"),children:W==null?void 0:W.linkName}))})]})]})})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Edit Profile"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name"," ",a.jsx("strong",{className:"text-danger",children:"*(You can't change name)"})]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:u.name,onChange:p,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email"," ",a.jsx("strong",{className:"text-danger",children:"*(You can't change email)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:u.email,onChange:p,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Personal Email",a.jsx("strong",{className:"text-danger",children:"*(Optional)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"personal_email",value:u.personal_email,onChange:p,disabled:i})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:u.phone,onChange:p,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:W=>{var Pe;const Ne=(Pe=W.target.files)==null?void 0:Pe[0];c(Ne)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:u.researchInterests,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:u.introduction,onChange:p})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:W=>f({linkName:W.target.value,linkURL:h.linkURL}),value:h.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:W=>f({linkName:h.linkName,linkURL:W.target.value}),value:h.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-danger w-100",onClick:()=>{if(!h.linkName||!h.linkURL){V("danger","Link Name and URL are required fields.");return}if(u.links.includes(h)){V("danger","This link already exists.");return}d({...u,links:[...u.links,h]}),f({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(Ke=u==null?void 0:u.links)==null?void 0:Ke.map((W,Ne)=>a.jsxs("tr",{children:[a.jsx("th",{children:Ne+1}),a.jsx("th",{children:W==null?void 0:W.linkName}),a.jsx("th",{children:a.jsx("a",{href:W==null?void 0:W.linkURL,target:"_blank",children:W==null?void 0:W.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&d({...u,links:u==null?void 0:u.links.filter(Pe=>Pe.linkName!==(W==null?void 0:W.linkName))})},children:"Remove"})})]}))})]}),!(u!=null&&u.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-danger",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:g,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},k5=()=>{const t=ee(l=>l.getauth),[e,n]=A.useState(0),[r,s]=A.useState(!1);A.useEffect(()=>{const l=Yt.onAuthStateChanged(async c=>{if(!c)try{await Yt.signOut(),window.location.href="/"}catch{console.error("Error logging out.")}});return()=>l()},[]),A.useEffect(()=>{YA()},[]);const i=async()=>{if(confirm("Are you sure want to logout?"))try{await Yt.signOut(),window.close()}catch{console.error("Error logging out.")}},o=async()=>{s(!0);try{const l=Yt==null?void 0:Yt.currentUser;l?(await d4(l),V("success","Email has been sent, kindly check your inbox or spam!"),s(!1)):(V("danger","No authenticated user found!"),s(!1))}catch{V("danger","Error sending email verification!"),s(!1)}window.location.reload()};if(!(t!=null&&t.email)&&!(t!=null&&t.userType))return a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:a.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t!=null&&t.email)return a.jsxs(a.Fragment,{children:[!(t!=null&&t.isVarified)&&a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh",position:"fixed",top:0,left:0,zIndex:999,backgroundColor:"#000000c8"},children:a.jsxs("div",{className:"alert alert-danger fw-bold hover_",children:[a.jsx("h4",{className:"fw-bold text-danger",children:"Warning"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Your account has not yet been verified."}),a.jsx("li",{children:"You cannot perform actions until your account is verified."}),a.jsxs("li",{children:["To send a verification email, click on the following link:"," ",a.jsx("button",{className:"btn btn-link text-danger fw-bold px-1 py-0",onClick:o,disabled:r,children:r?"Sending...":"Click here"})]}),a.jsxs("li",{children:["If you wish to close the window, click the following link:"," ",a.jsx("button",{className:"btn btn-link text-danger fw-bold px-1 py-0",onClick:i,children:"Close Window"})]})]})]})}),a.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("h4",{children:["Welcome, ",t==null?void 0:t.email,"(",a.jsx("strong",{className:"text-danger",children:t==null?void 0:t.userType}),")"]})})}),a.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("div",{className:"list-group",children:[(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(kp==null?void 0:kp.map((l,c)=>a.jsx(ie,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(Rp==null?void 0:Rp.map((l,c)=>a.jsx(ie,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(Op==null?void 0:Op.map((l,c)=>a.jsx(ie,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(Dp==null?void 0:Dp.map((l,c)=>a.jsx(ie,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),a.jsxs(ie,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:[a.jsx("i",{className:"bx bxs-home-alt-2 me-1"})," Website Home"]}),a.jsxs(ie,{to:"#",onClick:i,className:"d-flex align-items-center list-group-item list-group-item-action text-danger",children:[a.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),a.jsx(en,{children:a.jsxs("title",{children:["Dashboard | ","Vision Intelligence Lab, IIT Ropar"]})}),(t==null?void 0:t.isVarified)&&a.jsxs($v,{children:[a.jsx(ye,{element:a.jsx("h1",{children:"Not Found"}),path:"*"}),a.jsx(ye,{element:a.jsx("div",{className:"w-100 p-3 card mx-3",children:a.jsx("h1",{className:"fw-bold text-danger",children:"Welcome, Computer Vision Website"})}),path:"/"}),a.jsx(ye,{element:a.jsx(i6,{}),path:"/supervisors"}),a.jsx(ye,{element:a.jsx(y5,{}),path:"/supervisors/:id"}),a.jsx(ye,{element:a.jsx(Gz,{}),path:"/publications"}),a.jsx(ye,{element:a.jsx(v5,{userEmail:t==null?void 0:t.email,userType:t==null?void 0:t.userType}),path:"/publications/:id"}),a.jsx(ye,{element:a.jsx(e6,{}),path:"/peoples"}),a.jsx(ye,{element:a.jsx(f6,{}),path:"/research"}),a.jsx(ye,{element:a.jsx(g6,{}),path:"/research/:id"}),a.jsx(ye,{element:a.jsx(v6,{}),path:"/projects-items"}),a.jsx(ye,{element:a.jsx(b6,{}),path:"/projects"}),a.jsx(ye,{element:a.jsx(w5,{}),path:"/projects/:id"}),a.jsx(ye,{element:a.jsx(I5,{}),path:"/projects/images/:id"}),a.jsx(ye,{element:a.jsx(c6,{}),path:"/datasets"}),a.jsx(ye,{element:a.jsx(C5,{}),path:"/datasets/:id"}),a.jsx(ye,{element:a.jsx(Xz,{}),path:"/news"}),a.jsx(ye,{element:a.jsx(Zz,{}),path:"/change-password"}),a.jsx(ye,{element:a.jsx(Y9,{}),path:"/slider-images"}),a.jsx(ye,{element:a.jsx(j5,{}),path:"/gallary-images"}),a.jsx(ye,{element:a.jsx(A5,{}),path:"/site-admin"}),a.jsx(ye,{element:a.jsx(P5,{}),path:"/profile-phd"})]})]})]})},R5="/CVPR_LAB/assets/logo-a-zcNRwG.png",D5=()=>a.jsx(a.Fragment,{children:a.jsxs("div",{role:"navigation",children:[a.jsx("div",{className:"p-3",children:a.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[a.jsx("div",{className:"col-lg-1 col-md-1 text-center",children:a.jsx("div",{className:"",children:a.jsx("img",{className:"img-fluid",src:R5,alt:"LOGO",style:{height:"50px",width:"auto"}})})}),a.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:a.jsxs("div",{className:"mt-2",children:[a.jsx("strong",{children:"Room Number :"})," 3rd Floor,EE Department"]})})]})}),a.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:a.jsx("nav",{className:"navbar navbar-expand-md",children:a.jsxs("div",{className:"container-fluid",children:[a.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[a.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),a.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:a.jsxs("ul",{className:"navbar-nav mx-auto ",children:[a.jsx("li",{className:"nav-item",children:a.jsx(ie,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),a.jsx("li",{className:"nav-item",children:a.jsx(ie,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"Peoples"})}),a.jsx("li",{className:"nav-item",children:a.jsx(ie,{className:"nav-link mx-2 active","aria-current":"page",to:"/gallery",children:"Gallery"})}),a.jsx("li",{className:"nav-item",children:a.jsx(ie,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),a.jsx("li",{className:"nav-item",children:a.jsx(ie,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),a.jsx("li",{className:"nav-item",children:a.jsx(ie,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),a.jsx("li",{className:"nav-item",children:a.jsx(ie,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),a.jsx("li",{className:"nav-item",children:a.jsx(ie,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})});function K_(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Dx(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:K_(e[n])&&K_(t[n])&&Object.keys(e[n]).length>0&&Dx(t[n],e[n])})}const XA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function es(){const t=typeof document<"u"?document:{};return Dx(t,XA),t}const O5={document:XA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Fn(){const t=typeof window<"u"?window:{};return Dx(t,O5),t}function L5(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function M5(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Fg(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function sh(){return Date.now()}function V5(t){const e=Fn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function F5(t,e){e===void 0&&(e="x");const n=Fn();let r,s,i;const o=V5(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Tu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function U5(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Tn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!U5(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Tu(t[l])&&Tu(r[l])?r[l].__swiper__?t[l]=r[l]:Tn(t[l],r[l]):!Tu(t[l])&&Tu(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:Tn(t[l],r[l])):t[l]=r[l])}}}return t}function Nu(t,e,n){t.style.setProperty(e,n)}function JA(t){let{swiper:e,targetPosition:n,side:r}=t;const s=Fn(),i=-e.translate;let o=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const u=n>i?"next":"prev",d=(f,p)=>u==="next"&&f>=p||u==="prev"&&f<=p,h=()=>{l=new Date().getTime(),o===null&&(o=l);const f=Math.max(Math.min((l-o)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=i+p*(n-i);if(d(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),d(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(h)};h()}function Sr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function ih(t){try{console.warn(t);return}catch{}}function ah(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:L5(e)),n}function $5(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function B5(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Ds(t,e){return Fn().getComputedStyle(t,null).getPropertyValue(e)}function oh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function ZA(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function Ug(t,e,n){const r=Fn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function St(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Lp;function z5(){const t=Fn(),e=es();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function eC(){return Lp||(Lp=z5()),Lp}let Mp;function H5(t){let{userAgent:e}=t===void 0?{}:t;const n=eC(),r=Fn(),s=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&g&&n.touch&&y.indexOf(`${l}x${c}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),u&&!p&&(o.os="android",o.android=!0),(d||f||h)&&(o.os="ios",o.ios=!0),o}function tC(t){return t===void 0&&(t={}),Mp||(Mp=H5(t)),Mp}let Vp;function W5(){const t=Fn(),e=tC();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function q5(){return Vp||(Vp=W5()),Vp}function G5(t){let{swiper:e,on:n,emit:r}=t;const s=Fn();let i=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(h=>{o=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,y=p;h.forEach(b=>{let{contentBoxSize:m,contentRect:x,target:v}=b;v&&v!==e.el||(g=x?x.width:(m[0]||m).inlineSize,y=x?x.height:(m[0]||m).blockSize)}),(g!==f||y!==p)&&l()})}),i.observe(e.el))},u=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",d)})}function K5(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],o=Fn(),l=function(d,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const y=function(){s("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(y):o.setTimeout(y,0)});p.observe(d,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const d=ZA(e.hostEl);for(let h=0;h<d.length;h+=1)l(d[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",u)}var Y5={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(u=>{u.apply(r,n)})}),t}};function Q5(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Ds(r,"padding-left")||0,10)-parseInt(Ds(r,"padding-right")||0,10),n=n-parseInt(Ds(r,"padding-top")||0,10)-parseInt(Ds(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function X5(){const t=this;function e(T,C){return parseFloat(T.getPropertyValue(t.getDirectionLabel(C))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,u=c?t.virtual.slides.length:t.slides.length,d=Sr(s,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:d.length;let f=[];const p=[],g=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let b=n.slidesOffsetAfter;typeof b=="function"&&(b=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,x=t.slidesGrid.length;let v=n.spaceBetween,E=-y,S=0,j=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*i:typeof v=="string"&&(v=parseFloat(v)),t.virtualSize=-v,d.forEach(T=>{o?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Nu(r,"--swiper-centered-offset-before",""),Nu(r,"--swiper-centered-offset-after",""));const N=n.grid&&n.grid.rows>1&&t.grid;N?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let w;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(T=>typeof n.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<h;T+=1){w=0;let C;if(d[T]&&(C=d[T]),N&&t.grid.updateSlide(T,C,d),!(d[T]&&Ds(C,"display")==="none")){if(n.slidesPerView==="auto"){_&&(d[T].style[t.getDirectionLabel("width")]="");const P=getComputedStyle(C),R=C.style.transform,I=C.style.webkitTransform;if(R&&(C.style.transform="none"),I&&(C.style.webkitTransform="none"),n.roundLengths)w=t.isHorizontal()?Ug(C,"width",!0):Ug(C,"height",!0);else{const L=e(P,"width"),z=e(P,"padding-left"),F=e(P,"padding-right"),D=e(P,"margin-left"),O=e(P,"margin-right"),U=P.getPropertyValue("box-sizing");if(U&&U==="border-box")w=L+D+O;else{const{clientWidth:G,offsetWidth:k}=C;w=L+z+F+D+O+(k-G)}}R&&(C.style.transform=R),I&&(C.style.webkitTransform=I),n.roundLengths&&(w=Math.floor(w))}else w=(i-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),d[T]&&(d[T].style[t.getDirectionLabel("width")]=`${w}px`);d[T]&&(d[T].swiperSlideSize=w),g.push(w),n.centeredSlides?(E=E+w/2+S/2+v,S===0&&T!==0&&(E=E-i/2-v),T===0&&(E=E-i/2-v),Math.abs(E)<1/1e3&&(E=0),n.roundLengths&&(E=Math.floor(E)),j%n.slidesPerGroup===0&&f.push(E),p.push(E)):(n.roundLengths&&(E=Math.floor(E)),(j-Math.min(t.params.slidesPerGroupSkip,j))%t.params.slidesPerGroup===0&&f.push(E),p.push(E),E=E+w+v),t.virtualSize+=w+v,S=w,j+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+b,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+v}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+v}px`),N&&t.grid.updateWrapperSize(w,f),!n.centeredSlides){const T=[];for(let C=0;C<f.length;C+=1){let P=f[C];n.roundLengths&&(P=Math.floor(P)),f[C]<=t.virtualSize-i&&T.push(P)}f=T,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(c&&n.loop){const T=g[0]+v;if(n.slidesPerGroup>1){const C=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),P=T*n.slidesPerGroup;for(let R=0;R<C;R+=1)f.push(f[f.length-1]+P)}for(let C=0;C<t.virtual.slidesBefore+t.virtual.slidesAfter;C+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+T),p.push(p[p.length-1]+T),t.virtualSize+=T}if(f.length===0&&(f=[0]),v!==0){const T=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((C,P)=>!n.cssMode||n.loop?!0:P!==d.length-1).forEach(C=>{C.style[T]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let T=0;g.forEach(P=>{T+=P+(v||0)}),T-=v;const C=T-i;f=f.map(P=>P<=0?-y:P>C?C+b:P)}if(n.centerInsufficientSlides){let T=0;if(g.forEach(C=>{T+=C+(v||0)}),T-=v,T<i){const C=(i-T)/2;f.forEach((P,R)=>{f[R]=P-C}),p.forEach((P,R)=>{p[R]=P+C})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Nu(r,"--swiper-centered-offset-before",`${-f[0]}px`),Nu(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const T=-t.snapGrid[0],C=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(P=>P+T),t.slidesGrid=t.slidesGrid.map(P=>P+C)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==x&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const T=`${n.containerModifierClass}backface-hidden`,C=t.el.classList.contains(T);h<=n.maxBackfaceHiddenSlides?C||t.el.classList.add(T):C&&t.el.classList.remove(T)}}function J5(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function Z5(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function eH(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),f=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=-(o-d),g=p+e.slidesSizesGrid[c],y=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),y&&r[c].classList.add(n.slideFullyVisibleClass),u.progress=s?-h:h,u.originalProgress=s?-f:f}}function tH(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=e;const c=i,u=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,o=h||s>=1,d&&(s=0),h&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[d],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(t);y>=f?l=(y-f)/g:l=(y+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(c&&!i||u&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function nH(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=h=>Sr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,u,d;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else o?(c=e.filter(h=>h.column===s)[0],d=e.filter(h=>h.column===s+1)[0],u=e.filter(h=>h.column===s-1)[0]):c=e[s];c&&(c.classList.add(n.slideActiveClass),o?(d&&d.classList.add(n.slideNextClass),u&&u.classList.add(n.slidePrevClass)):(d=B5(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),d&&d.classList.add(n.slideNextClass),u=$5(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const Qu=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Fp=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},$g=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,l=[o-e];l.push(...Array.from({length:e}).map((c,u)=>o+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&Fp(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const l=(o%n+n)%n;(l<s||l>i)&&Fp(t,l)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&Fp(t,o)};function rH(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function sH(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:l}=e;let c=t,u;const d=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=rH(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,c);u=p+Math.floor((c-p)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===i&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=d(c);else if(h){const p=e.slides.filter(y=>y.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/s.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:o,realIndex:f,previousIndex:i,activeIndex:c}),e.initialized&&$g(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function iH(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,o=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var aH={updateSize:Q5,updateSlides:X5,updateAutoHeight:J5,updateSlidesOffset:Z5,updateSlidesProgress:eH,updateProgress:tH,updateSlidesClasses:nH,updateActiveIndex:sH,updateClickedSlide:iH};function oH(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=F5(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function lH(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const h=n.maxTranslate()-n.minTranslate();h===0?d=0:d=(t-n.minTranslate())/h,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function cH(){return-this.snapGrid[0]}function uH(){return-this.snapGrid[this.snapGrid.length-1]}function dH(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const c=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,i.updateProgress(d),o.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return JA({swiper:i,targetPosition:-d,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var hH={getTranslate:oH,setTranslate:lH,minTranslate:cH,maxTranslate:uH,translateTo:dH};function fH(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function nC(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:o}=e;let l=r;if(l||(i>o?l="next":i<o?l="prev":l="reset"),e.emit(`transition${s}`),n&&i!==o){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function pH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),nC({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function mH(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),nC({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var gH={setTransition:fH,transitionStart:pH,transitionEnd:mH};function vH(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=i;if(i.animating&&l.preventInteractionOnTransition||!g&&!r&&!s||i.destroyed)return!1;const y=Math.min(i.params.slidesPerGroupSkip,o);let b=y+Math.floor((o-y)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const m=-c[b];if(l.normalizeSlideIndex)for(let v=0;v<u.length;v+=1){const E=-Math.floor(m*100),S=Math.floor(u[v]*100),j=Math.floor(u[v+1]*100);typeof u[v+1]<"u"?E>=S&&E<j-(j-S)/2?o=v:E>=S&&E<j&&(o=v+1):E>=S&&(o=v)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(f?m>i.translate&&m>i.minTranslate():m<i.translate&&m<i.minTranslate())||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let x;if(o>h?x="next":o<h?x="prev":x="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(m),x!=="reset"&&(i.transitionStart(n,x),i.transitionEnd(n,x)),!1;if(l.cssMode){const v=i.isHorizontal(),E=f?m:-m;if(e===0){const S=i.virtual&&i.params.virtual.enabled;S&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),S&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[v?"scrollLeft":"scrollTop"]=E})):p[v?"scrollLeft":"scrollTop"]=E,S&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return JA({swiper:i,targetPosition:E,side:v?"left":"top"}),!0;p.scrollTo({[v?"left":"top"]:E,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,x),e===0?i.transitionEnd(n,x):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(E){!i||i.destroyed||E.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,x))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function yH(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const f=o*s.params.grid.rows;l=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=s.getSlideIndexByData(o);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u}=s.params;let d=s.params.slidesPerView;d==="auto"?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let h=c-l<d;if(u&&(h=h||l<Math.ceil(d/2)),h){const f=u?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=o*s.params.grid.rows;o=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function xH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,u=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function wH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=i.map(m=>f(m));let y=i[g.indexOf(p)-1];if(typeof y>"u"&&s.cssMode){let m;i.forEach((x,v)=>{p>=x&&(m=v)}),typeof m<"u"&&(y=i[m>0?m-1:m])}let b=0;if(typeof y<"u"&&(b=o.indexOf(y),b<0&&(b=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(b=b-r.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(b,t,e,n)}),!0;return r.slideTo(b,t,e,n)}function bH(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function _H(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const u=s.snapGrid[l],d=s.snapGrid[l+1];c-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[l-1],d=s.snapGrid[l];c-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function EH(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(Sr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Fg(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(Sr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),Fg(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var jH={slideTo:vH,slideToLoop:yH,slideNext:xH,slidePrev:wH,slideReset:bH,slideToClosest:_H,slideToClickedSlide:EH};function SH(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{Sr(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(i?n.grid.rows:1),l=e.slides.length%o!==0,c=i&&e.slides.length%n.grid.rows!==0,u=d=>{for(let h=0;h<d;h+=1){const f=e.isElement?ah("swiper-slide",[n.slideBlankClass]):ah("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const d=o-e.slides.length%o;u(d),e.recalcSlides(),e.updateSlides()}else ih("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const d=n.grid.rows-e.slides.length%n.grid.rows;u(d),e.recalcSlides(),e.updateSlides()}else ih("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function TH(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:o,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=h,c.emit("loopFix");return}let y=p.slidesPerView;y==="auto"?y=c.slidesPerViewDynamic():(y=Math.ceil(parseFloat(p.slidesPerView,10)),g&&y%2===0&&(y=y+1));const b=p.slidesPerGroupAuto?y:p.slidesPerGroup;let m=b;m%b!==0&&(m+=b-m%b),m+=p.loopAdditionalSlides,c.loopedSlides=m;const x=c.grid&&p.grid&&p.grid.rows>1;u.length<y+m?ih("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&p.grid.fill==="row"&&ih("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const v=[],E=[];let S=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(u.filter(R=>R.classList.contains(p.slideActiveClass))[0]):S=i;const j=r==="next"||!r,N=r==="prev"||!r;let w=0,_=0;const T=x?Math.ceil(u.length/p.grid.rows):u.length,P=(x?u[i].column:i)+(g&&typeof s>"u"?-y/2+.5:0);if(P<m){w=Math.max(m-P,b);for(let R=0;R<m-P;R+=1){const I=R-Math.floor(R/T)*T;if(x){const L=T-I-1;for(let z=u.length-1;z>=0;z-=1)u[z].column===L&&v.push(z)}else v.push(T-I-1)}}else if(P+y>T-m){_=Math.max(P-(T-m*2),b);for(let R=0;R<_;R+=1){const I=R-Math.floor(R/T)*T;x?u.forEach((L,z)=>{L.column===I&&E.push(z)}):E.push(I)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),N&&v.forEach(R=>{u[R].swiperLoopMoveDOM=!0,f.prepend(u[R]),u[R].swiperLoopMoveDOM=!1}),j&&E.forEach(R=>{u[R].swiperLoopMoveDOM=!0,f.append(u[R]),u[R].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():x&&(v.length>0&&N||E.length>0&&j)&&c.slides.forEach((R,I)=>{c.grid.updateSlide(I,R,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(v.length>0&&N){if(typeof e>"u"){const R=c.slidesGrid[S],L=c.slidesGrid[S+w]-R;l?c.setTranslate(c.translate-L):(c.slideTo(S+w,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-L,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-L))}else if(s){const R=x?v.length/p.grid.rows:v.length;c.slideTo(c.activeIndex+R,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(E.length>0&&j)if(typeof e>"u"){const R=c.slidesGrid[S],L=c.slidesGrid[S-_]-R;l?c.setTranslate(c.translate-L):(c.slideTo(S-_,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-L,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-L))}else{const R=x?E.length/p.grid.rows:E.length;c.slideTo(c.activeIndex-R,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=h,c.controller&&c.controller.control&&!o){const R={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(I=>{!I.destroyed&&I.params.loop&&I.loopFix({...R,slideTo:I.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...R,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function NH(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var IH={loopCreate:SH,loopFix:TH,loopDestroy:NH};function AH(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function CH(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var PH={setGrabCursor:AH,unsetGrabCursor:CH};function kH(t,e){e===void 0&&(e=this);function n(r){if(!r||r===es()||r===Fn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function Y_(t,e,n){const r=Fn(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function RH(t){const e=this,n=es();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Y_(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?kH(h,c):c.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,g=o.currentY;if(!Y_(e,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=g,s.touchStartTime=sh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let y=!0;c.matches(s.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const b=y&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function DH(t){const e=es(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].filter(j=>j.identifier===r.touchId)[0],!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,h=u.pageY;if(c.preventedByNestedSwiper){i.startX=d,i.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=sh());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let j;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(j=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?j>s.touchAngle:90-j>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,y=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),y=Math.abs(y)*(o?1:-1)),i.diff=g,g*=s.touchRatio,o&&(g=-g,y=-y);const b=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=y>0?"prev":"next";const m=n.params.loop&&!s.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let v;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&m&&x&&Math.abs(g)>=1){Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let E=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),g>0?(m&&x&&!v&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(E=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**S))):g<0&&(m&&x&&!v&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(E=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**S))),E&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function OH(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(S=>S.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=sh(),f=h-n.touchStartTime;if(e.allowClick){const S=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(S&&S[0]||r.target,S),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=sh(),Fg(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let y=0,b=e.slidesSizesGrid[0];for(let S=0;S<u.length;S+=S<o.slidesPerGroupSkip?1:o.slidesPerGroup){const j=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[S+j]<"u"?(g||p>=u[S]&&p<u[S+j])&&(y=S,b=u[S+j]-u[S]):(g||p>=u[S])&&(y=S,b=u[u.length-1]-u[u.length-2])}let m=null,x=null;o.rewind&&(e.isBeginning?x=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const v=(p-u[y])/b,E=y<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?m:y+E):e.slideTo(y)),e.swipeDirection==="prev"&&(v>1-o.longSwipesRatio?e.slideTo(y+E):x!==null&&v<0&&Math.abs(v)>o.longSwipesRatio?e.slideTo(x):e.slideTo(y))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(y+E):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:y+E),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:y))}}function Q_(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function LH(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function MH(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function VH(t){const e=this;Qu(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function FH(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const rC=(t,e)=>{const n=es(),{params:r,el:s,wrapperEl:i,device:o}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Q_,!0):t[u]("observerUpdate",Q_,!0),s[c]("load",t.onLoad,{capture:!0})};function UH(){const t=this,{params:e}=t;t.onTouchStart=RH.bind(t),t.onTouchMove=DH.bind(t),t.onTouchEnd=OH.bind(t),t.onDocumentTouchStart=FH.bind(t),e.cssMode&&(t.onScroll=MH.bind(t)),t.onClick=LH.bind(t),t.onLoad=VH.bind(t),rC(t,"on")}function $H(){rC(this,"off")}var BH={attachEvents:UH,detachEvents:$H};const X_=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function zH(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const c=(o in i?i[o]:void 0)||t.originalParams,u=X_(t,r),d=X_(t,c),h=r.enabled;u&&!d?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&d&&(s.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const x=r[m]&&r[m].enabled,v=c[m]&&c[m].enabled;x&&!v&&t[m].disable(),!x&&v&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),Tn(t.params,c);const y=t.params.enabled,b=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!y?t.disable():!h&&y&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&b?(t.loopCreate(e),t.updateSlides()):g&&!b&&t.loopDestroy()),t.emit("breakpoint",c)}function HH(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=Fn(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:u}=o[l];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var WH={setBreakpoint:zH,getBreakpoint:HH};function qH(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function GH(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=qH(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function KH(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var YH={addClasses:GH,removeClasses:KH};function QH(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var XH={checkOverflow:QH},Bg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function JH(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Tn(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Tn(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Tn(e,r)}}const Up={eventsEmitter:Y5,update:aH,translate:hH,transition:gH,slide:jH,loop:IH,grabCursor:PH,events:BH,breakpoints:WH,checkOverflow:XH,classes:YH},$p={};let Ox=class $r{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Tn({},n),e&&!n.el&&(n.el=e);const o=es();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(h=>{const f=Tn({},n,{el:h});d.push(new $r(f))}),d}const l=this;l.__swiper__=!0,l.support=eC(),l.device=tC({userAgent:n.userAgent}),l.browser=q5(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(d=>{d({params:n,swiper:l,extendParams:JH(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=Tn({},Bg,c);return l.params=Tn({},u,$p,n),l.originalParams=Tn({},l.params),l.passedParams=Tn({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=Sr(n,`.${r.slideClass}, swiper-slide`),i=oh(s[0]);return oh(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Sr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[u]?Math.ceil(i[u].swiperSlideSize):0,f;for(let p=u+1;p<i.length;p+=1)i[p]&&!f&&(h+=Math.ceil(i[p].swiperSlideSize),d+=1,h>c&&(f=!0));for(let p=u-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,d+=1,h>c&&(f=!0))}else if(e==="current")for(let h=u+1;h<i.length;h+=1)(n?o[h]+l[h]-o[u]<c:o[h]-o[u]<c)&&(d+=1);else for(let h=u-1;h>=0;h-=1)o[u]-o[h]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Qu(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Sr(r,s())[0];return!o&&n.params.createElements&&(o=ah("div",n.params.wrapperClass),r.append(o),Sr(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Ds(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Ds(r,"direction")==="rtl"),wrongRTL:Ds(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?Qu(n,i):i.addEventListener("load",o=>{Qu(n,o.target)})}),$g(n),n.initialized=!0,$g(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,M5(r)),r.destroyed=!0),null}static extendDefaults(e){Tn($p,e)}static get extendedDefaults(){return $p}static get defaults(){return Bg}static installModule(e){$r.prototype.__modules__||($r.prototype.__modules__=[]);const n=$r.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>$r.installModule(n)),$r):($r.installModule(e),$r)}};Object.keys(Up).forEach(t=>{Object.keys(Up[t]).forEach(e=>{Ox.prototype[e]=Up[t][e]})});Ox.use([G5,K5]);const sC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Xi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Xa(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Xi(e[r])&&Xi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Xa(t[r],e[r]):t[r]=e[r]})}function iC(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function aC(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function oC(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function lC(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function ZH(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function eW(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:l,paginationEl:c}=t;const u=s.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:d,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:y}=e;let b,m,x,v,E,S,j,N;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(b=!0),s.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(m=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(x=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(d.scrollbar||d.scrollbar===!1)&&p&&!p.el&&(v=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(E=!0);const w=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),d[_].prevEl=void 0,d[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),d[_].el=void 0,e[_].el=void 0))};s.includes("loop")&&e.isElement&&(d.loop&&!r.loop?S=!0:!d.loop&&r.loop?j=!0:N=!0),u.forEach(_=>{if(Xi(d[_])&&Xi(r[_]))Object.assign(d[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&w(_);else{const T=r[_];(T===!0||T===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?T===!1&&w(_):d[_]=r[_]}}),u.includes("controller")&&!m&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),s.includes("children")&&n&&g&&d.virtual.enabled?(g.slides=n,g.update(!0)):s.includes("virtual")&&g&&d.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),s.includes("children")&&n&&d.loop&&(N=!0),b&&y.init()&&y.update(!0),m&&(e.controller.control=d.controller.control),x&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(d.pagination.el=c),h.init(),h.render(),h.update()),v&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(d.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),E&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(d.navigation.nextEl=i),o&&(d.navigation.prevEl=o),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(S||N)&&e.loopDestroy(),(j||N)&&e.loopCreate(),e.update()}function tW(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};Xa(n,Bg),n._emitClasses=!0,n.init=!1;const i={},o=sC.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?Xi(t[c])?(n[c]={},s[c]={},Xa(n[c],t[c]),Xa(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function nW(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:l}=t;iC(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),aC(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),oC(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function rW(t,e,n,r,s){const i=[];if(!e)return i;const o=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),u=n.map(s);c.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return sC.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Xi(t[c])&&Xi(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?o(c):(u.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),i}const sW=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function cC(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function uC(t){const e=[];return Ie.Children.toArray(t).forEach(n=>{cC(n)?e.push(n):n.props&&n.props.children&&uC(n.props.children).forEach(r=>e.push(r))}),e}function iW(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ie.Children.toArray(t).forEach(r=>{if(cC(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=uC(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function aW(t,e,n){if(!n)return null;const r=d=>{let h=d;return d<0?h=e.length+d:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=i&&d<=o&&u.push(e[r(d)]);return u.map((d,h)=>Ie.cloneElement(d,{swiper:t,style:s,key:`slide-${h}`}))}function Il(t,e){return typeof window>"u"?A.useEffect(t,e):A.useLayoutEffect(t,e)}const J_=A.createContext(null),oW=A.createContext(null),dC=A.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...l}=t===void 0?{}:t,c=!1;const[u,d]=A.useState("swiper"),[h,f]=A.useState(null),[p,g]=A.useState(!1),y=A.useRef(!1),b=A.useRef(null),m=A.useRef(null),x=A.useRef(null),v=A.useRef(null),E=A.useRef(null),S=A.useRef(null),j=A.useRef(null),N=A.useRef(null),{params:w,passedParams:_,rest:T,events:C}=tW(l),{slides:P,slots:R}=iW(i),I=()=>{g(!p)};Object.assign(w.on,{_containerClasses(O,U){d(U)}});const L=()=>{Object.assign(w.on,C),c=!0;const O={...w};if(delete O.wrapperClass,m.current=new Ox(O),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=P;const U={cache:!1,slides:P,renderExternal:f,renderExternalUpdate:!1};Xa(m.current.params.virtual,U),Xa(m.current.originalParams.virtual,U)}};b.current||L(),m.current&&m.current.on("_beforeBreakpoint",I);const z=()=>{c||!C||!m.current||Object.keys(C).forEach(O=>{m.current.on(O,C[O])})},F=()=>{!C||!m.current||Object.keys(C).forEach(O=>{m.current.off(O,C[O])})};A.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",I)}),A.useEffect(()=>{!y.current&&m.current&&(m.current.emitSlidesClasses(),y.current=!0)}),Il(()=>{if(e&&(e.current=b.current),!!b.current)return m.current.destroyed&&L(),nW({el:b.current,nextEl:E.current,prevEl:S.current,paginationEl:j.current,scrollbarEl:N.current,swiper:m.current},w),o&&!m.current.destroyed&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),Il(()=>{z();const O=rW(_,x.current,P,v.current,U=>U.key);return x.current=_,v.current=P,O.length&&m.current&&!m.current.destroyed&&eW({swiper:m.current,slides:P,passedParams:_,changedParams:O,nextEl:E.current,prevEl:S.current,scrollbarEl:N.current,paginationEl:j.current}),()=>{F()}}),Il(()=>{sW(m.current)},[h]);function D(){return w.virtual?aW(m.current,P,h):P.map((O,U)=>Ie.cloneElement(O,{swiper:m.current,swiperSlideIndex:U}))}return Ie.createElement(r,lh({ref:b,className:lC(`${u}${n?` ${n}`:""}`)},T),Ie.createElement(oW.Provider,{value:m.current},R["container-start"],Ie.createElement(s,{className:ZH(w.wrapperClass)},R["wrapper-start"],D(),R["wrapper-end"]),iC(w)&&Ie.createElement(Ie.Fragment,null,Ie.createElement("div",{ref:S,className:"swiper-button-prev"}),Ie.createElement("div",{ref:E,className:"swiper-button-next"})),oC(w)&&Ie.createElement("div",{ref:N,className:"swiper-scrollbar"}),aC(w)&&Ie.createElement("div",{ref:j,className:"swiper-pagination"}),R["container-end"]))});dC.displayName="Swiper";const hC=A.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:u,...d}=t===void 0?{}:t;const h=A.useRef(null),[f,p]=A.useState("swiper-slide"),[g,y]=A.useState(!1);function b(E,S,j){S===h.current&&p(j)}Il(()=>{if(typeof u<"u"&&(h.current.swiperSlideIndex=u),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",b),()=>{i&&i.off("_slideClass",b)}}}),Il(()=>{i&&h.current&&!i.destroyed&&p(i.getSlideClasses(h.current))},[i]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},x=()=>typeof r=="function"?r(m):r,v=()=>{y(!0)};return Ie.createElement(n,lh({ref:h,className:lC(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:v},d),o&&Ie.createElement(J_.Provider,{value:m},Ie.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),l&&!g&&Ie.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Ie.createElement(J_.Provider,{value:m},x(),l&&!g&&Ie.createElement("div",{className:"swiper-lazy-preloader"})))});hC.displayName="SwiperSlide";function fC(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=Sr(t.el,`.${r[s]}`)[0];i||(i=ah("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function lW(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let y;return g&&typeof g=="string"&&e.isElement&&(y=e.el.querySelector(g),y)?y:(g&&(typeof g=="string"&&(y=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&y.length>1&&e.el.querySelectorAll(g).length===1&&(y=e.el.querySelector(g))),g&&!y?g:y)}function o(g,y){const b=e.params.navigation;g=St(g),g.forEach(m=>{m&&(m.classList[y?"add":"remove"](...b.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=y),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](b.lockClass))})}function l(){const{nextEl:g,prevEl:y}=e.navigation;if(e.params.loop){o(y,!1),o(g,!1);return}o(y,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function u(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function d(){const g=e.params.navigation;if(e.params.navigation=fC(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let y=i(g.nextEl),b=i(g.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:b}),y=St(y),b=St(b);const m=(x,v)=>{x&&x.addEventListener("click",v==="next"?u:c),!e.enabled&&x&&x.classList.add(...g.lockClass.split(" "))};y.forEach(x=>m(x,"next")),b.forEach(x=>m(x,"prev"))}function h(){let{nextEl:g,prevEl:y}=e.navigation;g=St(g),y=St(y);const b=(m,x)=>{m.removeEventListener("click",x==="next"?u:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>b(m,"next")),y.forEach(m=>b(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:y}=e.navigation;if(g=St(g),y=St(y),e.enabled){l();return}[...g,...y].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),r("click",(g,y)=>{let{nextEl:b,prevEl:m}=e.navigation;b=St(b),m=St(m);const x=y.target;if(e.params.navigation.hideOnClick&&!m.includes(x)&&!b.includes(x)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===x||e.pagination.el.contains(x)))return;let v;b.length?v=b[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(v=m[0].classList.contains(e.params.navigation.hiddenClass)),s(v===!0?"navigationShow":"navigationHide"),[...b,...m].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:d,destroy:h})}function Qo(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function cW(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(m,x){const{bulletActiveClass:v}=e.params.pagination;m&&(m=m[`${x==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${v}-${x}`),m=m[`${x==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${v}-${x}-${x}`)))}function d(m){const x=m.target.closest(Qo(e.params.pagination.bulletClass));if(!x)return;m.preventDefault();const v=oh(x)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===v)return;e.slideToLoop(v)}else e.slideTo(v)}function h(){const m=e.rtl,x=e.params.pagination;if(c())return;let v=e.pagination.el;v=St(v);let E,S;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,N=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,E=e.activeIndex||0),x.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const w=e.pagination.bullets;let _,T,C;if(x.dynamicBullets&&(o=Ug(w[0],e.isHorizontal()?"width":"height",!0),v.forEach(P=>{P.style[e.isHorizontal()?"width":"height"]=`${o*(x.dynamicMainBullets+4)}px`}),x.dynamicMainBullets>1&&S!==void 0&&(l+=E-(S||0),l>x.dynamicMainBullets-1?l=x.dynamicMainBullets-1:l<0&&(l=0)),_=Math.max(E-l,0),T=_+(Math.min(w.length,x.dynamicMainBullets)-1),C=(T+_)/2),w.forEach(P=>{const R=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${x.bulletActiveClass}${I}`)].map(I=>typeof I=="string"&&I.includes(" ")?I.split(" "):I).flat();P.classList.remove(...R)}),v.length>1)w.forEach(P=>{const R=oh(P);R===E?P.classList.add(...x.bulletActiveClass.split(" ")):e.isElement&&P.setAttribute("part","bullet"),x.dynamicBullets&&(R>=_&&R<=T&&P.classList.add(...`${x.bulletActiveClass}-main`.split(" ")),R===_&&u(P,"prev"),R===T&&u(P,"next"))});else{const P=w[E];if(P&&P.classList.add(...x.bulletActiveClass.split(" ")),e.isElement&&w.forEach((R,I)=>{R.setAttribute("part",I===E?"bullet-active":"bullet")}),x.dynamicBullets){const R=w[_],I=w[T];for(let L=_;L<=T;L+=1)w[L]&&w[L].classList.add(...`${x.bulletActiveClass}-main`.split(" "));u(R,"prev"),u(I,"next")}}if(x.dynamicBullets){const P=Math.min(w.length,x.dynamicMainBullets+4),R=(o*P-o)/2-C*o,I=m?"right":"left";w.forEach(L=>{L.style[e.isHorizontal()?I:"top"]=`${R}px`})}}v.forEach((w,_)=>{if(x.type==="fraction"&&(w.querySelectorAll(Qo(x.currentClass)).forEach(T=>{T.textContent=x.formatFractionCurrent(E+1)}),w.querySelectorAll(Qo(x.totalClass)).forEach(T=>{T.textContent=x.formatFractionTotal(N)})),x.type==="progressbar"){let T;x.progressbarOpposite?T=e.isHorizontal()?"vertical":"horizontal":T=e.isHorizontal()?"horizontal":"vertical";const C=(E+1)/N;let P=1,R=1;T==="horizontal"?P=C:R=C,w.querySelectorAll(Qo(x.progressbarFillClass)).forEach(I=>{I.style.transform=`translate3d(0,0,0) scaleX(${P}) scaleY(${R})`,I.style.transitionDuration=`${e.params.speed}ms`})}x.type==="custom"&&x.renderCustom?(w.innerHTML=x.renderCustom(e,E+1,N),_===0&&s("paginationRender",w)):(_===0&&s("paginationRender",w),s("paginationUpdate",w)),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](x.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let v=e.pagination.el;v=St(v);let E="";if(m.type==="bullets"){let S=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>x&&(S=x);for(let j=0;j<S;j+=1)m.renderBullet?E+=m.renderBullet.call(e,j,m.bulletClass):E+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?E=m.renderFraction.call(e,m.currentClass,m.totalClass):E=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?E=m.renderProgressbar.call(e,m.progressbarFillClass):E=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],v.forEach(S=>{m.type!=="custom"&&(S.innerHTML=E||""),m.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(Qo(m.bulletClass)))}),m.type!=="custom"&&s("paginationRender",v[0])}function p(){e.params.pagination=fC(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let x;typeof m.el=="string"&&e.isElement&&(x=e.el.querySelector(m.el)),!x&&typeof m.el=="string"&&(x=[...document.querySelectorAll(m.el)]),x||(x=m.el),!(!x||x.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(x)&&x.length>1&&(x=[...e.el.querySelectorAll(m.el)],x.length>1&&(x=x.filter(v=>ZA(v,".swiper")[0]===e.el)[0])),Array.isArray(x)&&x.length===1&&(x=x[0]),Object.assign(e.pagination,{el:x}),x=St(x),x.forEach(v=>{m.type==="bullets"&&m.clickable&&v.classList.add(...(m.clickableClass||"").split(" ")),v.classList.add(m.modifierClass+m.type),v.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(v.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&v.classList.add(m.progressbarOppositeClass),m.clickable&&v.addEventListener("click",d),e.enabled||v.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let x=e.pagination.el;x&&(x=St(x),x.forEach(v=>{v.classList.remove(m.hiddenClass),v.classList.remove(m.modifierClass+m.type),v.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(v.classList.remove(...(m.clickableClass||"").split(" ")),v.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(v=>v.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:x}=e.pagination;x=St(x),x.forEach(v=>{v.classList.remove(m.horizontalClass,m.verticalClass),v.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=St(m),m.forEach(x=>x.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,x)=>{const v=x.target,E=St(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!v.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&v===e.navigation.nextEl||e.navigation.prevEl&&v===e.navigation.prevEl))return;const S=E[0].classList.contains(e.params.pagination.hiddenClass);s(S===!0?"paginationShow":"paginationHide"),E.forEach(j=>j.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=St(m),m.forEach(x=>x.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=St(m),m.forEach(x=>x.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:y,disable:b,render:f,update:h,init:p,destroy:g})}function uW(t){let{swiper:e,extendParams:n,on:r,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=i&&i.autoplay?i.autoplay.delay:3e3,u=i&&i.autoplay?i.autoplay.delay:3e3,d,h=new Date().getTime(),f,p,g,y,b,m,x;function v(D){!e||e.destroyed||!e.wrapperEl||D.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",v),!x&&T())}const E=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(u=d,f=!1);const D=e.autoplay.paused?d:h+u-new Date().getTime();e.autoplay.timeLeft=D,s("autoplayTimeLeft",D,D/c),l=requestAnimationFrame(()=>{E()})},S=()=>{let D;return e.virtual&&e.params.virtual.enabled?D=e.slides.filter(U=>U.classList.contains("swiper-slide-active"))[0]:D=e.slides[e.activeIndex],D?parseInt(D.getAttribute("data-swiper-autoplay"),10):void 0},j=D=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),E();let O=typeof D>"u"?e.params.autoplay.delay:D;c=e.params.autoplay.delay,u=e.params.autoplay.delay;const U=S();!Number.isNaN(U)&&U>0&&typeof D>"u"&&(O=U,c=U,u=U),d=O;const G=e.params.speed,k=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(G,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,G,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(G,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,G,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{j()})))};return O>0?(clearTimeout(o),o=setTimeout(()=>{k()},O)):requestAnimationFrame(()=>{k()}),O},N=()=>{h=new Date().getTime(),e.autoplay.running=!0,j(),s("autoplayStart")},w=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),s("autoplayStop")},_=(D,O)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),D||(m=!0);const U=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",v):T()};if(e.autoplay.paused=!0,O){b&&(d=e.params.autoplay.delay),b=!1,U();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),U())},T=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,j(d)):j(),e.autoplay.paused=!1,s("autoplayResume"))},C=()=>{if(e.destroyed||!e.autoplay.running)return;const D=es();D.visibilityState==="hidden"&&(m=!0,_(!0)),D.visibilityState==="visible"&&T()},P=D=>{D.pointerType==="mouse"&&(m=!0,x=!0,!(e.animating||e.autoplay.paused)&&_(!0))},R=D=>{D.pointerType==="mouse"&&(x=!1,e.autoplay.paused&&T())},I=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",P),e.el.addEventListener("pointerleave",R))},L=()=>{e.el.removeEventListener("pointerenter",P),e.el.removeEventListener("pointerleave",R)},z=()=>{es().addEventListener("visibilitychange",C)},F=()=>{es().removeEventListener("visibilitychange",C)};r("init",()=>{e.params.autoplay.enabled&&(I(),z(),N())}),r("destroy",()=>{L(),F(),e.autoplay.running&&w()}),r("_freeModeStaticRelease",()=>{(g||m)&&T()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?w():_(!0,!0)}),r("beforeTransitionStart",(D,O,U)=>{e.destroyed||!e.autoplay.running||(U||!e.params.autoplay.disableOnInteraction?_(!0,!0):w())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){w();return}p=!0,g=!1,m=!1,y=setTimeout(()=>{m=!0,g=!0,_(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(y),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&T(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(b=!0)}),Object.assign(e.autoplay,{start:N,stop:w,pause:_,resume:T})}const dW=()=>{const t=ee(e=>e.getslider).data;return a.jsx(a.Fragment,{children:a.jsx("div",{className:"border_bottom_strip",children:a.jsx(dC,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[uW,cW,lW],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>a.jsxs(hC,{children:[a.jsx("img",{src:e.bannerURL,alt:e.title}),a.jsx("p",{children:e.title})]},n))})})})},hW=()=>a.jsx("div",{className:"col-sm-12 py-3 px-4  my-3 mb-5",children:a.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[a.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 p-0",children:a.jsx("img",{src:"https://visionintelligence.github.io/assets/images/group.jpg",alt:"",className:"image-fluid rounded-3 image_up"})}),a.jsxs("div",{className:"col-md-6 col-sm-12",children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Our Objective"}),a.jsx("hr",{}),a.jsx("p",{children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning. Our lab aims to develop intelligent algorithms that perform important visual perception tasks such as object detection, human emotion recognition, aberrant event detection, image retrieval, Motion analysis, etc. Currently, we are dealing with:-"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Moving Object Detection and Analysis"}),a.jsx("li",{children:"Facial Expression"}),a.jsx("li",{children:"Recognition"}),a.jsx("li",{children:"Anomaly Detection and Analysis"}),a.jsx("li",{children:"Content Based Image Retrieval"}),a.jsx("li",{children:"Hand Gesture Recognition"})]})]})]})}),pC=({ref_:t})=>{const e=ee(s=>s.getpublications.data),[n,r]=A.useState(!1);return A.useEffect(()=>{t||(async()=>{r(!0),await Wc(),r(!1)})()},[]),n?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[a.jsxs("h1",{className:"fw-bold text-danger w-100 my-4",children:[t&&"Latest"," Publications"]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ul",{className:`p-2 ${t&&"marquee_scroll"}`,style:{height:t?"300px":"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((s,i)=>{const{paperTitle:o,author:l,impact:c,link:u,pages:d,publisher:h,publicationDate:f,volume:p,journalName:g,paperType:y,isbn:b}=s==null?void 0:s.data;return a.jsxs("li",{children:[a.jsx("p",{children:a.jsxs("cite",{children:[a.jsxs("span",{className:"author",children:[l==null?void 0:l.stringValue,","]}),a.jsxs("a",{href:`https://doi.org/${u.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[a.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',o.stringValue,'",']}),a.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),a.jsxs("span",{className:"journal",style:{display:"inline"},children:[a.jsx("i",{children:g.stringValue}),","]}),a.jsxs("span",{className:"volume",style:{display:"inline"},children:[p.stringValue,","," "]}),a.jsxs("span",{className:"pages",style:{display:"inline"},children:[d.stringValue,","," "]}),a.jsxs("span",{className:"date",style:{display:"inline"},children:[f.stringValue,"-",y.stringValue,"-",b.stringValue,"-",h.stringValue,"-",c.stringValue]})]})}),a.jsx("hr",{})]},i)})})}),t&&a.jsx("div",{className:"w-100 my-3",children:a.jsx(ie,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&a.jsx(en,{children:a.jsxs("title",{children:["Publications | ","Vision Intelligence Lab, IIT Ropar"]})})]})},fW=()=>{const t=ee(r=>r.getnews.data),[e,n]=A.useState(!0);return A.useEffect(()=>{(async()=>{n(!0),await OA(),await yA(),await Wc(),n(!1)})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(dW,{}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column px-4 mt-4",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx(pC,{ref_:!0})}),a.jsx("div",{className:"col-sm-4",children:a.jsxs("div",{className:"border d-flex flex-column mt-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"py-2  px-4 bg-danger text-white",children:"Updates"})}),a.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:a.jsx("div",{className:"marquee_scroll ",children:a.jsx("div",{className:"text-secondary",children:a.jsx("ul",{style:{listStyle:"none"},children:t==null?void 0:t.map((r,s)=>{if(!(s>5))return a.jsxs("li",{children:[a.jsxs("strong",{className:"text-danger me-1",children:[s+1,"."]}),a.jsx("strong",{className:"text-danger",children:KA(r==null?void 0:r.datetime1)}),"-",r==null?void 0:r.title,"-",r==null?void 0:r.description]},s)})})})})}),a.jsx("div",{children:a.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:a.jsx(ie,{to:"#",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),a.jsx(hW,{})]})},pW=()=>a.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:a.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:a.jsxs("div",{className:"container py-4 p-3",children:[a.jsxs("div",{className:"row gy-4 gx-5",children:[a.jsxs("div",{className:"col-lg-4 col-md-6",children:[a.jsx("h5",{className:"h1 text-white",children:"Vision Intelligence Lab"}),a.jsx("p",{className:"small text-light",children:"The Vision Intelligence Lab is a multidisciplinary group performing basic and applied research computer vision, machine learning and deep learning."}),a.jsx("button",{className:"btn btn-danger",children:"More"})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Research"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"Publications"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"Projects"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"Datasets"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"Supervisor"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"Ph.D."})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"PG and UG"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"Interns and Visitors"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"Alumni Students"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"About CVPR"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"link_footer",children:"IIT Ropar Website"})}),a.jsx("li",{children:a.jsx(ie,{className:"link_footer",to:"/login",target:"_blank",children:"Administration Login"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Address"}),a.jsx("p",{className:"text-white",children:"Indian Institute of Technology Ropar (IIT Ropar), Rupnagar, Punjab, 140001"})]})]}),a.jsx("hr",{className:"text-white"}),a.jsxs("p",{className:"small text-light w-100 text-center",children:["© Copyrights. All rights reserved."," ",a.jsx("a",{className:"text-danger fw-bold",href:"#",children:"CVPR LAB"})]})]})})}),mW=()=>{const[t,e]=A.useState(!0),n=ee(o=>o.getsupervisors.data),r=ee(o=>o.getphdStudents.data),s=ee(o=>o.getpgugStudents.data),i=ee(o=>o.getvisitorsandinterns.data);return A.useEffect(()=>{(async()=>{e(!0),await cs(),await Po(),await LA(),await MA(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:["Peoples | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Supervisor",a.jsx("hr",{})]}),n==null?void 0:n.map((o,l)=>{var c,u,d,h,f,p,g,y,b,m,x,v,E,S,j;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:o==null?void 0:o.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark",children:(c=o==null?void 0:o.data)==null?void 0:c.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-danger",children:(u=o==null?void 0:o.data)==null?void 0:u.designation})," ","| ",a.jsx("strong",{children:(d=o==null?void 0:o.data)==null?void 0:d.email})," |"," ",a.jsxs("strong",{children:["+91-",(h=o==null?void 0:o.data)==null?void 0:h.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("button",{className:"btn btn-danger my-2 btn-sm",onClick:()=>window.open("#/profile/"+o._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-danger dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(p=(f=o==null?void 0:o.data)==null?void 0:f.links)==null?void 0:p.map(N=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:N!=null&&N.linkURL?N==null?void 0:N.linkURL:"#",target:"_blank",children:[N==null?void 0:N.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(g=o==null?void 0:o.data)==null?void 0:g.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(b=(y=o==null?void 0:o.data)==null?void 0:y.researchInterests)==null?void 0:b.split(",").map((N,w)=>a.jsx("li",{className:"mx-3",children:N},w))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(x=(m=o==null?void 0:o.data)==null?void 0:m.teaching)==null?void 0:x.split(",").map((N,w)=>a.jsx("li",{className:"mx-3",children:N},w))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(E=(v=o==null?void 0:o.data)==null?void 0:v.accomplishments)==null?void 0:E.split(",").map((N,w)=>a.jsx("li",{className:"mx-3",children:N},w))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(j=(S=o==null?void 0:o.data)==null?void 0:S.professional_affiliation)==null?void 0:j.split(",").map((N,w)=>a.jsx("li",{className:"mx-3",children:N},w))})})]})]})})]},l)}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((o,l)=>{var y,b,m,x;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,supervisor:p}=o==null?void 0:o.data,g=(y=n.filter(v=>{var E,S,j,N,w;return((S=(E=v==null?void 0:v.data)==null?void 0:E.email)==null?void 0:S.stringValue)===((w=(N=(j=p==null?void 0:p.mapValue)==null?void 0:j.fields)==null?void 0:N.email)==null?void 0:w.stringValue)})[0])==null?void 0:y._id;return d!=null&&d.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:o==null?void 0:o.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-danger my-2 btn-sm",onClick:()=>window.open("#/phd/"+o._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+g,target:"_blank",children:[(x=(m=(b=p==null?void 0:p.mapValue)==null?void 0:b.fields)==null?void 0:m.name)==null?void 0:x.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]})]},l)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((o,l)=>{var y,b,m,x;const{name:c,batch:u,isAlumni:d,email:h,mobile:f,supervisor:p}=o==null?void 0:o.data,g=(y=n.filter(v=>{var E,S,j,N,w;return((S=(E=v==null?void 0:v.data)==null?void 0:E.email)==null?void 0:S.stringValue)===((w=(N=(j=p==null?void 0:p.mapValue)==null?void 0:j.fields)==null?void 0:N.email)==null?void 0:w.stringValue)})[0])==null?void 0:y._id;return d!=null&&d.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:o==null?void 0:o.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),a.jsxs("strong",{className:"mt-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(h==null?void 0:h.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",f==null?void 0:f.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/phd/"+o._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+g,target:"_blank",children:[(x=(m=(b=p==null?void 0:p.mapValue)==null?void 0:b.fields)==null?void 0:m.name)==null?void 0:x.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]},l):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(o=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=o==null?void 0:o.data;return u.booleanValue?null:a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:l==null?void 0:l.stringValue}),a.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),a.jsx("br",{})]})},o==null?void 0:o._id)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["PG and UG Alumnis",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(o=>{const{name:l,batch:c,isAlumni:u,email:d,mobile:h,degree:f,currentlyWorkingAt:p}=o==null?void 0:o.data;return u.booleanValue?a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:l==null?void 0:l.stringValue}),a.jsxs("small",{children:[" ",(d==null?void 0:d.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",h==null?void 0:h.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-danger",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[f==null?void 0:f.stringValue," student From"," ",(c==null?void 0:c.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:p==null?void 0:p.stringValue}),a.jsx("br",{})]})},o==null?void 0:o._id):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Vistors and Inters",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(o=>{const{name:l,collegeName:c}=o==null?void 0:o.data;return a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h4",{children:l==null?void 0:l.stringValue}),a.jsx("hr",{}),a.jsx("p",{className:"fw-bold text-dark",children:c==null?void 0:c.stringValue})]})},o==null?void 0:o._id)})})]})]})},gW=()=>{const t=ee(r=>{var s;return(s=r.getdatasets)==null?void 0:s.data}),[e,n]=A.useState(!0);return A.useEffect(()=>{(async()=>{n(!0),await ua(),n(!1)})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:["Datasets | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Datasets",a.jsx("hr",{})]}),t==null?void 0:t.map((r,s)=>a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-danger",children:[s+1,". "]}),r==null?void 0:r.title]}),a.jsx("p",{children:r==null?void 0:r.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+s,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:r.images.map((i,o)=>a.jsx("div",{className:`carousel-item ${o===0&&"active"}`,children:a.jsx("img",{src:i==null?void 0:i.url,className:"d-block w-100",alt:"This is image"})},o))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]},s))]})]})},vW=()=>{const[t,e]=A.useState(!0),n=ee(s=>{var i;return(i=s.getresearcharea)==null?void 0:i.data}),r=ee(s=>s.getsubareas).data;return A.useEffect(()=>{(async()=>{e(!0),await yf(),await xf(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:["Research Areas | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Areas",a.jsx("hr",{})]}),n==null?void 0:n.map((s,i)=>{const o=(s==null?void 0:s.subareas)||[],l=r==null?void 0:r.filter(c=>o.some(u=>u.stringValue===(c==null?void 0:c._id)));return(i+1)%2!==0?a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),a.jsxs("div",{className:"col-sm-8=6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,u)=>a.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&a.jsx(ie,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]})]},i):a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-danger",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,u)=>a.jsx("li",{children:c==null?void 0:c.title},u))}),(l==null?void 0:l.length)!==0&&a.jsx(ie,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-danger btn-sm",children:"See More"})})]})]}),a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},i)})]})]})},yW=()=>{const[t,e]=A.useState(!0),{id:n}=ds(),r=ee(u=>{var d;return(d=u.getresearcharea)==null?void 0:d.data}),s=ee(u=>u.getsubareas).data,i=ee(u=>{var d;return(d=u.getprojectitems)==null?void 0:d.data}),o=r.find(u=>u._id===n);o||(window.location.href="/CVPR_LAB/#/dashboard/research-areas");const l=(o==null?void 0:o.subareas)||[],c=s==null?void 0:s.filter(u=>l.some(d=>d.stringValue===(u==null?void 0:u._id)));return A.useEffect(()=>{(async()=>{e(!0),await yf(),await xf(),await da(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:[o==null?void 0:o.title," | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsx("div",{className:"col-sm-12 text-start w-100",children:a.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[a.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:[o==null?void 0:o.title,a.jsx("hr",{})]}),a.jsx("div",{className:"col-sm-12",children:a.jsx("div",{className:"card p-3",children:a.jsx("img",{src:o==null?void 0:o.bannerURL,alt:"Banner URL"})})}),a.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((u,d)=>{var h;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("h1",{children:[a.jsxs("strong",{className:"fw-bold text-danger",children:[d+1,". "]}),u==null?void 0:u.title]}),a.jsx("hr",{}),a.jsx("p",{children:u==null?void 0:u.description}),a.jsx("h3",{className:"fw-bold text-danger mb-3",children:"Related Projects"}),a.jsx("div",{className:"col-sm-12",children:(h=u==null?void 0:u.projects)==null?void 0:h.map((f,p)=>{const g=i==null?void 0:i.find(y=>(y==null?void 0:y._id)==(f==null?void 0:f.stringValue));return a.jsxs("div",{className:"card p-2 mb-4",children:[a.jsxs("h6",{children:[" ",a.jsxs("strong",{className:"fw-bold text-danger",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",a.jsx(ie,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(ie,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},d)})})]})]})},xW=()=>a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:["Contact | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-danger text-center text-lg-start",children:["Contact Us",a.jsx("hr",{})]}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"500px",style:{border:"none"},allowFullScreen:!0})}),a.jsxs("div",{className:"col-sm-4",id:"contact2",children:[a.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("hr",{className:"text-left w-50"}),a.jsx("h4",{className:"pt-2",children:"Address"}),a.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),"CVPR Lab, Department of Electrical Engineering, J.C.Block, IIT Ropar, Rupnagar, Punjab, 140001",a.jsx("br",{}),a.jsx("h4",{className:"pt-2",children:"Mobile"}),a.jsx("i",{className:"fas fa-phone",style:{color:"#000"}}),a.jsxs("a",{href:"tel:+91-3612583507",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[a.jsx("i",{className:"bx bxs-phone me-1"}),"+91-3612583507"]}),a.jsx("br",{}),a.jsx("h4",{className:"pt-2",children:"Email"}),a.jsx("i",{className:"fa fa-envelope",style:{color:"#000"}}),a.jsxs("a",{href:"mailto:visionintelligencelab@gmail.com",style:{textDecoration:"none"},target:"_blank",className:"text-dark d-flex align-items-center justify-content-start",children:[a.jsx("i",{className:"bx bx-envelope me-1"})," ","visionintelligencelab[at]gmail[dot]com"]}),a.jsx("br",{})]})]})]})]}),wW=()=>{const[t,e]=A.useState(!0),n=ee(o=>{var l;return(l=o.getprojectitems)==null?void 0:l.data}),r=ee(o=>{var l;return(l=o.getdatasets)==null?void 0:l.data}),s=ee(o=>{var l;return(l=o.getprojectsimages)==null?void 0:l.data}),i=ee(o=>{var l;return(l=o.getprojectsmain)==null?void 0:l.data});return A.useEffect(()=>{(async()=>{e(!0),wf(),e(!1),Rx(),da(),ua()})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:["Projects | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Research Projects",a.jsx("hr",{})]}),i==null?void 0:i.map((o,l)=>{var c,u,d,h,f,p,g,y,b,m,x,v,E,S;return a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-danger",children:[l+1,". "]}),(c=o==null?void 0:o.title)==null?void 0:c.stringValue]}),a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(u=o==null?void 0:o.funding_agency)==null?void 0:u.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(d=o==null?void 0:o.total_fund)==null?void 0:d.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(h=o==null?void 0:o.pis)==null?void 0:h.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(f=o==null?void 0:o.copis)==null?void 0:f.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-danger",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(p=o==null?void 0:o.jrf_phd_scholar)==null?void 0:p.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"",children:(g=o==null?void 0:o.description)==null?void 0:g.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(y=s==null?void 0:s.filter(j=>(j==null?void 0:j.project)==(o==null?void 0:o._id)))==null?void 0:y.map((j,N)=>a.jsxs("div",{className:N===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:j==null?void 0:j.bannerURL,className:"d-block w-100",alt:"banner image"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:j==null?void 0:j.title})})]},N))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(x=(m=(b=o==null?void 0:o.related_datasets)==null?void 0:b.arrayValue)==null?void 0:m.values)==null?void 0:x.map((j,N)=>{const w=r==null?void 0:r.find(_=>(_==null?void 0:_._id)==(j==null?void 0:j.stringValue));return a.jsxs("div",{children:[N+1,". ",w==null?void 0:w.title," (",a.jsx(ie,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(w==null?void 0:w._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(w==null?void 0:w._id)+"Modal",tabIndex:-1,"aria-labelledby":(w==null?void 0:w._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(w==null?void 0:w._id)+"ModalLabel",children:w==null?void 0:w.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:w==null?void 0:w.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:w==null?void 0:w.images.map((_,T)=>a.jsx("div",{className:`carousel-item ${T===0&&"active"}`,children:a.jsx("img",{src:_==null?void 0:_.url,className:"d-block w-100",alt:"This is image"})},T))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},N)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(S=(E=(v=o==null?void 0:o.related_projectitems)==null?void 0:v.arrayValue)==null?void 0:E.values)==null?void 0:S.map((j,N)=>{const w=n==null?void 0:n.find(_=>(_==null?void 0:_._id)==(j==null?void 0:j.stringValue));return a.jsxs("div",{children:[N+1,". ",w==null?void 0:w.title," (",a.jsx(ie,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(w==null?void 0:w._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(w==null?void 0:w._id)+"Modal",tabIndex:-1,"aria-labelledby":(w==null?void 0:w._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(w==null?void 0:w._id)+"ModalLabel",children:[w==null?void 0:w.title,"("," ",a.jsx(ie,{className:"btn-primary",style:{textDecoration:"none"},to:w==null?void 0:w.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(ie,{to:w==null?void 0:w.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:w==null?void 0:w.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},N)})})]})]})]})]},l)})]})]})},bW=()=>{const[t,e]=A.useState(!0),[n,r]=A.useState(""),[s,i]=A.useState(!1),o=ee(l=>l.getgallery.data);return A.useEffect(()=>{(async()=>{e(!0),await qA(),e(!1)})()},[]),t?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:["Gallery | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Image Gallery",a.jsx("hr",{})]}),a.jsx("div",{className:"row1 row",children:_W(o,4).map((l,c)=>a.jsx("div",{className:"column1 column",children:l.map((u,d)=>a.jsx("img",{className:"shadow-lg rounded-3",src:u==null?void 0:u.bannerURL,style:{width:"100%"},onClick:()=>{r(u==null?void 0:u.bannerURL),i(!0)}},d))},c))})]}),s&&a.jsxs("div",{className:"full_screen_image",children:[a.jsx("img",{src:n,alt:"full screen image"}),a.jsx("button",{onClick:()=>{i(!1),r("")},className:"btn btn-danger",children:"Close"})]})]})},_W=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},EW=()=>a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:["Welcome | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsx(D5,{}),a.jsxs($v,{children:[a.jsx(ye,{path:"/",element:a.jsx(fW,{})}),a.jsx(ye,{path:"/peoples",element:a.jsx(mW,{})}),a.jsx(ye,{path:"/gallery",element:a.jsx(bW,{})}),a.jsx(ye,{path:"/datasets",element:a.jsx(gW,{})}),a.jsx(ye,{path:"/projects",element:a.jsx(wW,{})}),a.jsx(ye,{path:"/research-areas",element:a.jsx(vW,{})}),a.jsx(ye,{path:"/research-areas/:id",element:a.jsx(yW,{})}),a.jsx(ye,{path:"/publications",element:a.jsx(pC,{ref_:!1})}),a.jsx(ye,{path:"/contact",element:a.jsx(xW,{})})]}),a.jsx(pW,{})]}),jW=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(""),[o,l]=A.useState(!1);A.useEffect(()=>{const h=Yt.onAuthStateChanged(f=>{f&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>h()},[]);const c=async h=>{if(h.preventDefault(),!t||!s){V("warning","Email and Password fields are required!");return}l(!0);try{await u4(Yt,t,s),await cs(),window.location.reload()}catch(f){console.log(f),V("danger","Invalid Email or Password!")}l(!1)},u=async()=>{l(!0),Yt.languageCode="it",L4(Yt,C3).then(async()=>{await cs(),window.location.reload()}).catch(h=>{(h==null?void 0:h.code)==="auth/admin-restricted-operation"?V("danger","User does not existed!"):V("danger","Invalid Email or Password!")}).finally(()=>{l(!1)})},d=async()=>{if(!n){V("warning","Email should not be empty!");return}l(!0),await c4(Yt,n).then(()=>{V("success","Password reset email sent!"),window.close()}).catch(()=>{V("danger","Error sending password reset email. Please try again later.")}),l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Admin Login"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:h=>e(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:h=>i(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[a.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forgot Password?"}),a.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",children:a.jsxs("div",{className:"modal-content rounded-0",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forgot Password"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:h=>r(h.target.value),placeholder:"ie. user@gmail.com"})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-dark",onClick:d,disabled:o,children:o?"Please Wait..":"Send Mail"})]})]})})})]}),a.jsx("button",{onClick:c,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Submit"})]}),a.jsx("hr",{}),a.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2 border-1 border-secondary",onClick:u,disabled:o,children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(ie,{to:"/register",children:"New Supervisor or PHD Student?"})]})]}),a.jsx(en,{children:a.jsxs("title",{children:["Login | ","Vision Intelligence Lab, IIT Ropar"]})})]})},SW=()=>{const{pathname:t}=_c();return A.useEffect(()=>{window.scrollTo(0,0)},[t]),null},TW=()=>{var g,y,b,m,x,v,E,S,j,N,w,_,T,C,P,R;const{id:t}=ds(),[e,n]=A.useState(!0),s=ee(I=>I.getsupervisors.data).filter(I=>I._id==t)[0],o=ee(I=>I.getpublications.data).filter(I=>{var z,F,D;const L=(D=(F=(z=I==null?void 0:I.data)==null?void 0:z.users)==null?void 0:F.arrayValue)==null?void 0:D.values;return L&&L.length>0?L.some(O=>{var U;return O.stringValue===((U=s==null?void 0:s.data)==null?void 0:U.email)}):!1}),l=ee(I=>{var L;return(L=I.getprojectsimages)==null?void 0:L.data}),c=ee(I=>{var L;return(L=I.getprojectitems)==null?void 0:L.data}),u=ee(I=>{var L;return(L=I.getdatasets)==null?void 0:L.data}),h=ee(I=>{var L;return(L=I.getprojectsmain)==null?void 0:L.data}).filter(I=>{var z,F;const L=(F=(z=I==null?void 0:I.users)==null?void 0:z.arrayValue)==null?void 0:F.values;return L&&L.length>0?L.some(D=>{var O;return D.stringValue===((O=s==null?void 0:s.data)==null?void 0:O.email)}):!1}),p=ee(I=>I.getphdStudents.data).filter(I=>{var L;return I.data.supervisor.mapValue.fields.email.stringValue===((L=s==null?void 0:s.data)==null?void 0:L.email)});return A.useEffect(()=>{(async()=>{n(!0),await cs(),await Wc(),await wf(),await Po(),n(!1),await ua(),await da(),await Rx()})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:[(g=s==null?void 0:s.data)==null?void 0:g.name," | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark",children:(y=s==null?void 0:s.data)==null?void 0:y.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-danger",children:(b=s==null?void 0:s.data)==null?void 0:b.designation})," ","| ",a.jsx("strong",{children:(m=s==null?void 0:s.data)==null?void 0:m.email})," |"," ",a.jsxs("strong",{children:["+91-",(x=s==null?void 0:s.data)==null?void 0:x.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("button",{className:"btn btn-danger my-2 btn-sm",onClick:()=>window.open("#/profile/"+s._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-danger dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(E=(v=s==null?void 0:s.data)==null?void 0:v.links)==null?void 0:E.map(I=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:I!=null&&I.linkURL?I==null?void 0:I.linkURL:"#",target:"_blank",children:[I==null?void 0:I.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(S=s==null?void 0:s.data)==null?void 0:S.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(N=(j=s==null?void 0:s.data)==null?void 0:j.researchInterests)==null?void 0:N.split(",").map((I,L)=>a.jsx("li",{className:"mx-3",children:I},L))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(_=(w=s==null?void 0:s.data)==null?void 0:w.teaching)==null?void 0:_.split(",").map((I,L)=>a.jsx("li",{className:"mx-3",children:I},L))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(C=(T=s==null?void 0:s.data)==null?void 0:T.accomplishments)==null?void 0:C.split(",").map((I,L)=>a.jsx("li",{className:"mx-3",children:I},L))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(R=(P=s==null?void 0:s.data)==null?void 0:P.professional_affiliation)==null?void 0:R.split(",").map((I,L)=>a.jsx("li",{className:"mx-3",children:I},L))})})]})]})})]}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Publications"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ul",{style:{height:"fit-content",overflow:"hidden"},children:o==null?void 0:o.map((I,L)=>{var H,re;const{paperTitle:z,author:F,impact:D,link:O,pages:U,publisher:G,publicationDate:k,volume:M,journalName:Y,paperType:ne,isbn:oe,users:ue}=I==null?void 0:I.data;if((re=(H=ue==null?void 0:ue.arrayValue)==null?void 0:H.values)!=null&&re.filter(me=>{var K;return me.stringValue==((K=s==null?void 0:s.data)==null?void 0:K.email)})[0])return a.jsxs("li",{children:[a.jsx("span",{children:a.jsxs("cite",{children:[a.jsxs("span",{className:"author",children:[F==null?void 0:F.stringValue,","]}),a.jsxs("a",{href:`https://doi.org/${O.stringValue}`,target:"_blank",style:{textDecoration:"none"},children:[a.jsxs("strong",{className:"title text-dark",style:{display:"inline"},children:['"',z.stringValue,'",']}),a.jsx("i",{className:"fa-solid fa-aritem-up-right-from-square"})]}),a.jsxs("span",{className:"journal",style:{display:"inline"},children:[a.jsx("i",{children:Y.stringValue}),","]}),a.jsxs("span",{className:"volume",style:{display:"inline"},children:[M.stringValue,","," "]}),a.jsxs("span",{className:"pages",style:{display:"inline"},children:[U.stringValue,","," "]}),a.jsxs("span",{className:"date",style:{display:"inline"},children:[k.stringValue,"-",ne.stringValue,"-",oe.stringValue,"-",G.stringValue,"-",D.stringValue]})]})}),a.jsx("hr",{})]},L)})})})]})}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),a.jsx("hr",{}),a.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:h==null?void 0:h.map((I,L)=>{var z,F,D,O,U,G,k,M,Y,ne,oe,ue,Ee,H;return a.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[a.jsx("h1",{className:"accordion-header",id:"heading"+L,children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+L,"aria-expanded":"true","aria-controls":"collapse"+L,children:a.jsxs("h5",{children:[a.jsxs("strong",{className:"text-danger",children:[L+1,". "]}),(z=I==null?void 0:I.title)==null?void 0:z.stringValue]})})}),a.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:a.jsx("div",{id:"collapse"+L,className:"accordion-collapse collapse","aria-labelledby":"heading"+L,"data-bs-parent":"#accordionExample",children:a.jsx("div",{className:"accordion-body",children:a.jsx("div",{className:"col-sm-12 mb-3 overflow-auto",children:a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-column flex-lg-column gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["1."," "]}),"Funding Agency"]})}),a.jsx("td",{children:(F=I==null?void 0:I.funding_agency)==null?void 0:F.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["2."," "]}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(D=I==null?void 0:I.total_fund)==null?void 0:D.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["3."," "]}),"Project Investigators"]})}),a.jsx("td",{children:(O=I==null?void 0:I.pis)==null?void 0:O.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["4."," "]}),"Co-Project Investigators"]})}),a.jsx("td",{children:(U=I==null?void 0:I.copis)==null?void 0:U.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-danger",children:["5."," "]}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(G=I==null?void 0:I.jrf_phd_scholar)==null?void 0:G.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-12 col-md-12  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-danger mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"w-100 overflow-auto",children:(k=I==null?void 0:I.description)==null?void 0:k.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+L,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+L,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+L,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+L,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(M=l==null?void 0:l.filter(re=>(re==null?void 0:re.project)==(I==null?void 0:I._id)))==null?void 0:M.map((re,me)=>a.jsxs("div",{className:me===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:re==null?void 0:re.bannerURL,className:"d-block w-100",alt:"banner image",height:"400px"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:re==null?void 0:re.title})})]},me))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+L,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+L,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(oe=(ne=(Y=I==null?void 0:I.related_datasets)==null?void 0:Y.arrayValue)==null?void 0:ne.values)==null?void 0:oe.map((re,me)=>{const K=u==null?void 0:u.find(de=>(de==null?void 0:de._id)==(re==null?void 0:re.stringValue));return a.jsxs("div",{children:[me+1,". ",K==null?void 0:K.title," (",a.jsx(ie,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(K==null?void 0:K._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(K==null?void 0:K._id)+"Modal",tabIndex:-1,"aria-labelledby":(K==null?void 0:K._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(K==null?void 0:K._id)+"ModalLabel",children:K==null?void 0:K.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:K==null?void 0:K.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+L,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:K==null?void 0:K.images.map((de,Oe)=>a.jsx("div",{className:`carousel-item ${Oe===0&&"active"}`,children:a.jsx("img",{src:de==null?void 0:de.url,className:"d-block w-100",alt:"This is image"})},Oe))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+L,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+L,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},me)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(H=(Ee=(ue=I==null?void 0:I.related_projectitems)==null?void 0:ue.arrayValue)==null?void 0:Ee.values)==null?void 0:H.map((re,me)=>{const K=c==null?void 0:c.find(de=>(de==null?void 0:de._id)==(re==null?void 0:re.stringValue));return a.jsxs("div",{children:[me+1,". ",K==null?void 0:K.title," (",a.jsx(ie,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(K==null?void 0:K._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(K==null?void 0:K._id)+"Modal",tabIndex:-1,"aria-labelledby":(K==null?void 0:K._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(K==null?void 0:K._id)+"ModalLabel",children:[K==null?void 0:K.title,"("," ",a.jsx(ie,{className:"btn-primary",style:{textDecoration:"none"},to:K==null?void 0:K.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(ie,{to:K==null?void 0:K.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:K==null?void 0:K.bannerURL,alt:"Banner Image"})})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},me)})})]})]})]})},"item_"+L)})})})]},L)})})]})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((I,L)=>{const{name:z,batch:F,isAlumni:D,email:O,mobile:U}=I==null?void 0:I.data;return D!=null&&D.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:I==null?void 0:I.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:z==null?void 0:z.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(O==null?void 0:O.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(F==null?void 0:F.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",U==null?void 0:U.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/phd/"+I._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},L)})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-danger px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((I,L)=>{const{name:z,batch:F,isAlumni:D,email:O,mobile:U}=I==null?void 0:I.data;return D!=null&&D.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:I==null?void 0:I.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--bs-danger)"}})}),a.jsxs("strong",{className:"mt-2 d-inline",children:[a.jsx("h3",{children:z==null?void 0:z.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(O==null?void 0:O.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(F==null?void 0:F.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",U==null?void 0:U.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-danger mt-3 btn-sm",onClick:()=>window.open("#/phd/"+I._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},L):null})})]})]})},NW=({content:t,id:e,type:n})=>{const r=Mz(),s=ee(i=>i.getalerts.data);return a.jsx(a.Fragment,{children:a.jsxs("div",{className:`alert-anm alert alert-${n} rounded-0 my-1 d-flex flex-nowrap`,role:"alert",children:[a.jsx("h6",{children:t}),a.jsx("button",{type:"button",className:"btn-close ms-2",onClick:()=>{r(tA(s.filter(i=>i.id!=e)))}})]})})},IW=["ADMIN","SUPERVISOR","PHD"],AW=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(""),[o,l]=A.useState(!1),[c,u]=A.useState(null),[d,h]=A.useState(!1);A.useEffect(()=>{const g=Yt.onAuthStateChanged(y=>{y&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>g()},[]);const f=async g=>{if(g.preventDefault(),!t||!c){V("warning","Email and User Type fields are required!"),l(!1);return}l(!0);let y;if(c==="SUPERVISOR"?y=Yr(ce(J,"supervisors"),br("email","==",t)):c==="PHD"&&(y=Yr(ce(J,"phdStudents"),br("email","==",t))),!(await We(y)).empty){h(!0),V("success","User with this email is existed, Choose your password and proceed!"),l(!1);return}V("danger","User with this email does not existed, contact your admin!"),l(!1)},p=async g=>{if(g.preventDefault(),!c){V("warning","User Type field is required!");return}if(!t||!n||!s){V("warning","Email, Password and Confirm Pasword fields are required!");return}if(n!==s){V("warning","Password and Confirm Password does not match!");return}if(n.length<6){V("warning","Password must be atleast 6 charactors long!");return}if(l(!0),c==="SUPERVISOR")try{await C0(Yt,t,n),await nt(ce(J,"users"),{email:t,userType:"SUPERVISOR"}),window.location.href="/CVPR_LAB/#/dashboard"}catch(y){console.log(y),V("danger","Error while creating account, try again!")}else if(c==="PHD")try{await C0(Yt,t,n),await nt(ce(J,"users"),{email:t,userType:"PHD"}),window.location.href="/CVPR_LAB/#/dashboard"}catch(y){if(console.log(y),y.code=="auth/email-already-in-use"){V("success","Account already created, Login with your email and password!"),window.location.href="#/login";return}V("danger","Error while creating account, try again!")}l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100 my-5",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-12 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Activate Your Account"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"User Type"}),a.jsxs("select",{name:"userType",id:"userType",className:"form-control",onChange:g=>u(g.target.value),disabled:o||d,children:[a.jsx("option",{value:"",children:"--select user type--"}),IW.map((g,y)=>{if(g!=="ADMIN")return a.jsx("option",{value:g,children:g},y)})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:g=>e(g.target.value),disabled:o||d})]}),d?a.jsx("div",{className:"alert alert-success p-1 rounded-0 mb-0",children:a.jsx("ul",{children:a.jsx("li",{children:"User Existed, choose your password and proceed to login!"})})}):a.jsx("div",{className:"alert alert-warning p-1 rounded-0 mb-0",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Utilize the email address provided to the administrator."}),a.jsx("li",{children:"If an email address has not been provided, kindly furnish it to the administrator prior to activating your account."}),a.jsx("li",{children:"The email address must be affiliated with the institute, e.g., test@iitrpr.ac.in."})]})}),d?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:g=>r(g.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword2",onChange:g=>i(g.target.value),disabled:o})]}),a.jsx("div",{className:"alert alert-warning p-1 rounded-0 ",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Password and Confirm password must be same."}),a.jsx("li",{children:"Password must be atleast 6 charactors long."})]})}),a.jsx("button",{onClick:p,className:"btn btn-success w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Proceed"})]}):a.jsx("button",{onClick:f,className:"btn btn-dark w-100 p-2 text-uppercase mt-3",disabled:o,children:o?"Please Wait..":"Check the user availablity"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(ie,{to:"/login",children:"Already have an account?"})]})]}),a.jsx(en,{children:a.jsxs("title",{children:["Register | ","Vision Intelligence Lab, IIT Ropar"]})})]})},CW=()=>{var l,c,u,d,h,f,p,g,y,b,m,x,v,E,S,j,N,w,_,T,C,P,R,I,L,z,F,D,O,U,G,k,M,Y,ne,oe,ue,Ee;const{id:t}=ds(),[e,n]=A.useState(!0),s=ee(H=>H.getphdStudents.data).filter(H=>H._id==t)[0];let i="";(u=(c=(l=s==null?void 0:s.data)==null?void 0:l.researchInterests)==null?void 0:c.arrayValue)==null||u.values.map(H=>{i=i+(i===""?"":",")+(H==null?void 0:H.stringValue)});let o=[];return(f=(h=(d=s==null?void 0:s.data)==null?void 0:d.links)==null?void 0:h.arrayValue)==null||f.values.map(H=>{var re,me,K,de,Oe,Ce;o.push({linkName:(K=(me=(re=H==null?void 0:H.mapValue)==null?void 0:re.fields)==null?void 0:me.linkName)==null?void 0:K.stringValue,linkURL:(Ce=(Oe=(de=H==null?void 0:H.mapValue)==null?void 0:de.fields)==null?void 0:Oe.linkURL)==null?void 0:Ce.stringValue})}),A.useEffect(()=>{(async()=>{n(!0),await Po(),n(!1)})()},[]),e?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-danger",children:"Vision Intelligence Lab"}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(en,{children:a.jsxs("title",{children:[(g=(p=s==null?void 0:s.data)==null?void 0:p.name)==null?void 0:g.stringValue," | ","Vision Intelligence Lab, IIT Ropar"]})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-danger text-center text-lg-start",children:["Ph.D. Student, ",(b=(y=s==null?void 0:s.data)==null?void 0:y.name)==null?void 0:b.stringValue,a.jsx("hr",{})]}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:s==null?void 0:s.profileImage,target:"_blank",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsx("td",{colSpan:7,children:(x=(m=s==null?void 0:s.data)==null?void 0:m.isAlumni)!=null&&x.booleanValue?a.jsx("div",{className:"fw-bold text-danger",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-danger",children:"Ongoing Student"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-danger",children:"Name"})}),a.jsx("td",{children:(E=(v=s==null?void 0:s.data)==null?void 0:v.name)==null?void 0:E.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-danger",children:"Email"})}),a.jsx("td",{children:(j=(S=s==null?void 0:s.data)==null?void 0:S.email)==null?void 0:j.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Batch"})]}),a.jsx("td",{children:((w=(N=s==null?void 0:s.data)==null?void 0:N.batch)==null?void 0:w.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-danger",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(R=(P=(C=(T=(_=s==null?void 0:s.data)==null?void 0:_.supervisor)==null?void 0:T.mapValue)==null?void 0:C.fields)==null?void 0:P.name)==null?void 0:R.stringValue,", ",a.jsx("strong",{children:"Email: "}),(D=(F=(z=(L=(I=s==null?void 0:s.data)==null?void 0:I.supervisor)==null?void 0:L.mapValue)==null?void 0:z.fields)==null?void 0:F.email)==null?void 0:D.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((U=(O=s==null?void 0:s.data)==null?void 0:O.mobile)==null?void 0:U.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-danger",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((k=(G=s==null?void 0:s.data)==null?void 0:G.personal_email)==null?void 0:k.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(oe=(ne=(Y=(M=s==null?void 0:s.data)==null?void 0:M.researchInterests)==null?void 0:Y.arrayValue)==null?void 0:ne.values)==null?void 0:oe.map((H,re)=>a.jsx(ie,{to:"https://www.google.com/search?q="+(H==null?void 0:H.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:H==null?void 0:H.stringValue},re)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(Ee=(ue=s==null?void 0:s.data)==null?void 0:ue.introduction)==null?void 0:Ee.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-danger",children:"Links"})}),a.jsx("td",{colSpan:7,children:o.map(H=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(H==null?void 0:H.linkURL,"_blank"),children:H==null?void 0:H.linkName}))})]})]})})})]})]})};function PW(){const t=ee(r=>r.getalerts.data),[e,n]=A.useState(!1);return A.useEffect(()=>{n(navigator.onLine),navigator.onLine||setTimeout(()=>{window.location.reload()},1e3)},[navigator.onLine]),e?a.jsxs(a.Fragment,{children:[a.jsx(SW,{}),t.length>0&&a.jsx("div",{className:"w-100 d-flex align-items-center justify-content-center flex-wrap flex-column gap-0",style:{position:"fixed",top:0,left:0,overflow:"hidden",height:"100vh",backgroundColor:"#00000046",zIndex:9999},children:t==null?void 0:t.map((r,s)=>a.jsx(NW,{content:r==null?void 0:r.content,id:r==null?void 0:r.id,type:r==null?void 0:r.type},s))}),a.jsxs($v,{children:[a.jsx(ye,{path:"/dashboard/*",element:a.jsx(k5,{})}),a.jsx(ye,{path:"/profile/:id",element:a.jsx(TW,{})}),a.jsx(ye,{path:"/phd/:id",element:a.jsx(CW,{})}),a.jsx(ye,{path:"/*",element:a.jsx(EW,{})}),a.jsx(ye,{path:"/login",element:a.jsx(jW,{})}),a.jsx(ye,{path:"/register",element:a.jsx(AW,{})})]})]}):a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:a.jsx("h1",{children:"You Are Offline. Trying to reconnect..."})})}function Xu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(n){return typeof n}:Xu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xu(t)}function kW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RW(t,e,n){return e&&Z_(t.prototype,e),n&&Z_(t,n),t}function DW(t,e){return e&&(Xu(e)==="object"||typeof e=="function")?e:Ju(t)}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(t)}function Ju(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hg(t,e)}function Hg(t,e){return Hg=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Hg(t,e)}function Zu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mC=function(t){OW(e,t);function e(){var n,r;kW(this,e);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=DW(this,(n=zg(e)).call.apply(n,[this].concat(i))),Zu(Ju(r),"state",{bootstrapped:!1}),Zu(Ju(r),"_unsubscribe",void 0),Zu(Ju(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return RW(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(A.PureComponent);Zu(mC,"defaultProps",{children:null,loading:null});zp.createRoot(document.getElementById("root")).render(a.jsx(Ie.StrictMode,{children:a.jsx(Dz,{store:ut,children:a.jsx(mC,{loading:null,persistor:fz,children:a.jsx(VR,{children:a.jsx(PW,{})})})})}));
