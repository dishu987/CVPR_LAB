function wk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ao(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eE={exports:{}},Lh={},tE={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),jk=Symbol.for("react.portal"),_k=Symbol.for("react.fragment"),Ek=Symbol.for("react.strict_mode"),Nk=Symbol.for("react.profiler"),Sk=Symbol.for("react.provider"),Tk=Symbol.for("react.context"),Ik=Symbol.for("react.forward_ref"),Ck=Symbol.for("react.suspense"),Ak=Symbol.for("react.memo"),kk=Symbol.for("react.lazy"),kb=Symbol.iterator;function Pk(t){return t===null||typeof t!="object"?null:(t=kb&&t[kb]||t["@@iterator"],typeof t=="function"?t:null)}var nE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rE=Object.assign,sE={};function ko(t,e,n){this.props=t,this.context=e,this.refs=sE,this.updater=n||nE}ko.prototype.isReactComponent={};ko.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ko.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iE(){}iE.prototype=ko.prototype;function xv(t,e,n){this.props=t,this.context=e,this.refs=sE,this.updater=n||nE}var bv=xv.prototype=new iE;bv.constructor=xv;rE(bv,ko.prototype);bv.isPureReactComponent=!0;var Pb=Array.isArray,aE=Object.prototype.hasOwnProperty,wv={current:null},oE={key:!0,ref:!0,__self:!0,__source:!0};function lE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)aE.call(e,r)&&!oE.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Hc,type:t,key:i,ref:o,props:s,_owner:wv.current}}function Rk(t,e){return{$$typeof:Hc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hc}function Dk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rb=/\/+/g;function Kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dk(""+t.key):e.toString(36)}function tu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hc:case jk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Kf(o,0):r,Pb(s)?(n="",t!=null&&(n=t.replace(Rb,"$&/")+"/"),tu(s,e,n,"",function(d){return d})):s!=null&&(jv(s)&&(s=Rk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Rb,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Pb(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Kf(i,l);o+=tu(i,e,n,c,s)}else if(c=Pk(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Kf(i,l++),o+=tu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wd(t,e,n){if(t==null)return t;var r=[],s=0;return tu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Ok(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},nu={transition:null},Lk={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:nu,ReactCurrentOwner:wv};_e.Children={map:wd,forEach:function(t,e,n){wd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wd(t,function(){e++}),e},toArray:function(t){return wd(t,function(e){return e})||[]},only:function(t){if(!jv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=ko;_e.Fragment=_k;_e.Profiler=Nk;_e.PureComponent=xv;_e.StrictMode=Ek;_e.Suspense=Ck;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=wv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)aE.call(e,c)&&!oE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Hc,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:Tk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sk,_context:t},t.Consumer=t};_e.createElement=lE;_e.createFactory=function(t){var e=lE.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:Ik,render:t}};_e.isValidElement=jv;_e.lazy=function(t){return{$$typeof:kk,_payload:{_status:-1,_result:t},_init:Ok}};_e.memo=function(t,e){return{$$typeof:Ak,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=nu.transition;nu.transition={};try{t()}finally{nu.transition=e}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(t,e){return yn.current.useCallback(t,e)};_e.useContext=function(t){return yn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return yn.current.useEffect(t,e)};_e.useId=function(){return yn.current.useId()};_e.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return yn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};_e.useRef=function(t){return yn.current.useRef(t)};_e.useState=function(t){return yn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return yn.current.useTransition()};_e.version="18.2.0";tE.exports=_e;var T=tE.exports;const Pe=Ao(T),vm=wk({__proto__:null,default:Pe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=T,Vk=Symbol.for("react.element"),Fk=Symbol.for("react.fragment"),Uk=Object.prototype.hasOwnProperty,$k=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bk={key:!0,ref:!0,__self:!0,__source:!0};function cE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Uk.call(e,r)&&!Bk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Vk,type:t,key:i,ref:o,props:s,_owner:$k.current}}Lh.Fragment=Fk;Lh.jsx=cE;Lh.jsxs=cE;eE.exports=Lh;var a=eE.exports,ym={},dE={exports:{}},Wn={},uE={exports:{}},hE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var $=D.length;D.push(M);e:for(;0<$;){var H=$-1>>>1,O=D[H];if(0<s(O,M))D[H]=M,D[$]=O,$=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],$=D.pop();if($!==M){D[0]=$;e:for(var H=0,O=D.length,U=O>>>1;H<U;){var ee=2*(H+1)-1,se=D[ee],fe=ee+1,xe=D[fe];if(0>s(se,$))fe<O&&0>s(xe,se)?(D[H]=xe,D[fe]=$,H=fe):(D[H]=se,D[ee]=$,H=ee);else if(fe<O&&0>s(xe,$))D[H]=xe,D[fe]=$,H=fe;else break e}}return M}function s(D,M){var $=D.sortIndex-M.sortIndex;return $!==0?$:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var M=n(d);M!==null;){if(M.callback===null)r(d);else if(M.startTime<=D)r(d),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(d)}}function _(D){if(v=!1,x(D),!g)if(n(c)!==null)g=!0,L(S);else{var M=n(d);M!==null&&A(_,M.startTime-D)}}function S(D,M){g=!1,v&&(v=!1,m(w),w=-1),p=!0;var $=f;try{for(x(M),h=n(c);h!==null&&(!(h.expirationTime>M)||D&&!k());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var O=H(h.expirationTime<=M);M=t.unstable_now(),typeof O=="function"?h.callback=O:h===n(c)&&r(c),x(M)}else r(c);h=n(c)}if(h!==null)var U=!0;else{var ee=n(d);ee!==null&&A(_,ee.startTime-M),U=!1}return U}finally{h=null,f=$,p=!1}}var E=!1,I=null,w=-1,j=5,N=-1;function k(){return!(t.unstable_now()-N<j)}function C(){if(I!==null){var D=t.unstable_now();N=D;var M=!0;try{M=I(!0,D)}finally{M?R():(E=!1,I=null)}}else E=!1}var R;if(typeof y=="function")R=function(){y(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=C,R=function(){z.postMessage(null)}}else R=function(){b(C,0)};function L(D){I=D,E||(E=!0,R())}function A(D,M){w=b(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,L(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var $=f;f=M;try{return D()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=f;f=D;try{return M()}finally{f=$}},t.unstable_scheduleCallback=function(D,M,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,D){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=$+O,D={id:u++,callback:M,priorityLevel:D,startTime:$,expirationTime:O,sortIndex:-1},$>H?(D.sortIndex=$,e(d,D),n(c)===null&&D===n(d)&&(v?(m(w),w=-1):v=!0,A(_,$-H))):(D.sortIndex=O,e(c,D),g||p||(g=!0,L(S))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var M=f;return function(){var $=f;f=M;try{return D.apply(this,arguments)}finally{f=$}}}})(hE);uE.exports=hE;var zk=uE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE=T,zn=zk;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pE=new Set,rc={};function la(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(rc[t]=e,t=0;t<e.length;t++)pE.add(e[t])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=Object.prototype.hasOwnProperty,Hk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Db={},Ob={};function qk(t){return xm.call(Ob,t)?!0:xm.call(Db,t)?!1:Hk.test(t)?Ob[t]=!0:(Db[t]=!0,!1)}function Wk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gk(t,e,n,r){if(e===null||typeof e>"u"||Wk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _v=/[\-:]([a-z])/g;function Ev(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_v,Ev);Xt[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_v,Ev);Xt[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_v,Ev);Xt[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nv(t,e,n,r){var s=Xt.hasOwnProperty(e)?Xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gk(e,n,s,r)&&(n=null),r||s===null?qk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bs=fE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),Sv=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),mE=Symbol.for("react.provider"),gE=Symbol.for("react.context"),Tv=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),Iv=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),vE=Symbol.for("react.offscreen"),Lb=Symbol.iterator;function il(t){return t===null||typeof t!="object"?null:(t=Lb&&t[Lb]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Yf;function El(t){if(Yf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yf=e&&e[1]||""}return`
`+Yf+t}var Qf=!1;function Xf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?El(t):""}function Kk(t){switch(t.tag){case 5:return El(t.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return t=Xf(t.type,!1),t;case 11:return t=Xf(t.type.render,!1),t;case 1:return t=Xf(t.type,!0),t;default:return""}}function _m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Pa:return"Portal";case bm:return"Profiler";case Sv:return"StrictMode";case wm:return"Suspense";case jm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gE:return(t.displayName||"Context")+".Consumer";case mE:return(t._context.displayName||"Context")+".Provider";case Tv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Iv:return e=t.displayName||null,e!==null?e:_m(t.type)||"Memo";case Ts:e=t._payload,t=t._init;try{return _m(t(e))}catch{}}return null}function Yk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _m(e);case 8:return e===Sv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qk(t){var e=yE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _d(t){t._valueTracker||(t._valueTracker=Qk(t))}function xE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Em(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bE(t,e){e=e.checked,e!=null&&Nv(t,"checked",e,!1)}function Nm(t,e){bE(t,e);var n=ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sm(t,e.type,ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sm(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nl=Array.isArray;function Ga(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ri(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Nl(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ri(n)}}function wE(t,e){var n=ri(e.value),r=ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ub(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ed,_E=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ed=Ed||document.createElement("div"),Ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xk=["Webkit","ms","Moz","O"];Object.keys(Ll).forEach(function(t){Xk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ll[e]=Ll[t]})});function EE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ll.hasOwnProperty(t)&&Ll[t]?(""+e).trim():e+"px"}function NE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=EE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Jk=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cm(t,e){if(e){if(Jk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=null;function Cv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pm=null,Ka=null,Ya=null;function $b(t){if(t=Gc(t)){if(typeof Pm!="function")throw Error(G(280));var e=t.stateNode;e&&(e=$h(e),Pm(t.stateNode,t.type,e))}}function SE(t){Ka?Ya?Ya.push(t):Ya=[t]:Ka=t}function TE(){if(Ka){var t=Ka,e=Ya;if(Ya=Ka=null,$b(t),e)for(t=0;t<e.length;t++)$b(e[t])}}function IE(t,e){return t(e)}function CE(){}var Jf=!1;function AE(t,e,n){if(Jf)return t(e,n);Jf=!0;try{return IE(t,e,n)}finally{Jf=!1,(Ka!==null||Ya!==null)&&(CE(),TE())}}function ic(t,e){var n=t.stateNode;if(n===null)return null;var r=$h(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Rm=!1;if(us)try{var al={};Object.defineProperty(al,"passive",{get:function(){Rm=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Rm=!1}function Zk(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var Ml=!1,Iu=null,Cu=!1,Dm=null,eP={onError:function(t){Ml=!0,Iu=t}};function tP(t,e,n,r,s,i,o,l,c){Ml=!1,Iu=null,Zk.apply(eP,arguments)}function nP(t,e,n,r,s,i,o,l,c){if(tP.apply(this,arguments),Ml){if(Ml){var d=Iu;Ml=!1,Iu=null}else throw Error(G(198));Cu||(Cu=!0,Dm=d)}}function ca(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bb(t){if(ca(t)!==t)throw Error(G(188))}function rP(t){var e=t.alternate;if(!e){if(e=ca(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bb(s),t;if(i===r)return Bb(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function PE(t){return t=rP(t),t!==null?RE(t):null}function RE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RE(t);if(e!==null)return e;t=t.sibling}return null}var DE=zn.unstable_scheduleCallback,zb=zn.unstable_cancelCallback,sP=zn.unstable_shouldYield,iP=zn.unstable_requestPaint,xt=zn.unstable_now,aP=zn.unstable_getCurrentPriorityLevel,Av=zn.unstable_ImmediatePriority,OE=zn.unstable_UserBlockingPriority,Au=zn.unstable_NormalPriority,oP=zn.unstable_LowPriority,LE=zn.unstable_IdlePriority,Mh=null,Rr=null;function lP(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Mh,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:uP,cP=Math.log,dP=Math.LN2;function uP(t){return t>>>=0,t===0?32:31-(cP(t)/dP|0)|0}var Nd=64,Sd=4194304;function Sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Sl(l):(i&=o,i!==0&&(r=Sl(i)))}else o=n&~s,o!==0?r=Sl(o):i!==0&&(r=Sl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vr(e),s=1<<n,r|=t[n],e&=~s;return r}function hP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-vr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=hP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Om(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ME(){var t=Nd;return Nd<<=1,!(Nd&4194240)&&(Nd=64),t}function Zf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=n}function pP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-vr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function kv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function VE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FE,Pv,UE,$E,BE,Lm=!1,Td=[],zs=null,Hs=null,qs=null,ac=new Map,oc=new Map,Cs=[],mP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hb(t,e){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":ac.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(e.pointerId)}}function ol(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gc(e),e!==null&&Pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gP(t,e,n,r,s){switch(e){case"focusin":return zs=ol(zs,t,e,n,r,s),!0;case"dragenter":return Hs=ol(Hs,t,e,n,r,s),!0;case"mouseover":return qs=ol(qs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ac.set(i,ol(ac.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oc.set(i,ol(oc.get(i)||null,t,e,n,r,s)),!0}return!1}function zE(t){var e=Ci(t.target);if(e!==null){var n=ca(e);if(n!==null){if(e=n.tag,e===13){if(e=kE(n),e!==null){t.blockedOn=e,BE(t.priority,function(){UE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);km=r,n.target.dispatchEvent(r),km=null}else return e=Gc(n),e!==null&&Pv(e),t.blockedOn=n,!1;e.shift()}return!0}function qb(t,e,n){ru(t)&&n.delete(e)}function vP(){Lm=!1,zs!==null&&ru(zs)&&(zs=null),Hs!==null&&ru(Hs)&&(Hs=null),qs!==null&&ru(qs)&&(qs=null),ac.forEach(qb),oc.forEach(qb)}function ll(t,e){t.blockedOn===e&&(t.blockedOn=null,Lm||(Lm=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,vP)))}function lc(t){function e(s){return ll(s,t)}if(0<Td.length){ll(Td[0],t);for(var n=1;n<Td.length;n++){var r=Td[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zs!==null&&ll(zs,t),Hs!==null&&ll(Hs,t),qs!==null&&ll(qs,t),ac.forEach(e),oc.forEach(e),n=0;n<Cs.length;n++)r=Cs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cs.length&&(n=Cs[0],n.blockedOn===null);)zE(n),n.blockedOn===null&&Cs.shift()}var Qa=bs.ReactCurrentBatchConfig,Pu=!0;function yP(t,e,n,r){var s=Me,i=Qa.transition;Qa.transition=null;try{Me=1,Rv(t,e,n,r)}finally{Me=s,Qa.transition=i}}function xP(t,e,n,r){var s=Me,i=Qa.transition;Qa.transition=null;try{Me=4,Rv(t,e,n,r)}finally{Me=s,Qa.transition=i}}function Rv(t,e,n,r){if(Pu){var s=Mm(t,e,n,r);if(s===null)cp(t,e,r,Ru,n),Hb(t,r);else if(gP(s,t,e,n,r))r.stopPropagation();else if(Hb(t,r),e&4&&-1<mP.indexOf(t)){for(;s!==null;){var i=Gc(s);if(i!==null&&FE(i),i=Mm(t,e,n,r),i===null&&cp(t,e,r,Ru,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cp(t,e,r,null,n)}}var Ru=null;function Mm(t,e,n,r){if(Ru=null,t=Cv(r),t=Ci(t),t!==null)if(e=ca(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ru=t,null}function HE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aP()){case Av:return 1;case OE:return 4;case Au:case oP:return 16;case LE:return 536870912;default:return 16}default:return 16}}var Ls=null,Dv=null,su=null;function qE(){if(su)return su;var t,e=Dv,n=e.length,r,s="value"in Ls?Ls.value:Ls.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return su=s.slice(t,1<r?1-r:void 0)}function iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Id(){return!0}function Wb(){return!1}function Gn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Id:Wb,this.isPropagationStopped=Wb,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Id)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Id)},persist:function(){},isPersistent:Id}),e}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ov=Gn(Po),Wc=pt({},Po,{view:0,detail:0}),bP=Gn(Wc),ep,tp,cl,Vh=pt({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cl&&(cl&&t.type==="mousemove"?(ep=t.screenX-cl.screenX,tp=t.screenY-cl.screenY):tp=ep=0,cl=t),ep)},movementY:function(t){return"movementY"in t?t.movementY:tp}}),Gb=Gn(Vh),wP=pt({},Vh,{dataTransfer:0}),jP=Gn(wP),_P=pt({},Wc,{relatedTarget:0}),np=Gn(_P),EP=pt({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),NP=Gn(EP),SP=pt({},Po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TP=Gn(SP),IP=pt({},Po,{data:0}),Kb=Gn(IP),CP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kP[t])?!!e[t]:!1}function Lv(){return PP}var RP=pt({},Wc,{key:function(t){if(t.key){var e=CP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lv,charCode:function(t){return t.type==="keypress"?iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DP=Gn(RP),OP=pt({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yb=Gn(OP),LP=pt({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lv}),MP=Gn(LP),VP=pt({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),FP=Gn(VP),UP=pt({},Vh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$P=Gn(UP),BP=[9,13,27,32],Mv=us&&"CompositionEvent"in window,Vl=null;us&&"documentMode"in document&&(Vl=document.documentMode);var zP=us&&"TextEvent"in window&&!Vl,WE=us&&(!Mv||Vl&&8<Vl&&11>=Vl),Qb=" ",Xb=!1;function GE(t,e){switch(t){case"keyup":return BP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function HP(t,e){switch(t){case"compositionend":return KE(e);case"keypress":return e.which!==32?null:(Xb=!0,Qb);case"textInput":return t=e.data,t===Qb&&Xb?null:t;default:return null}}function qP(t,e){if(Da)return t==="compositionend"||!Mv&&GE(t,e)?(t=qE(),su=Dv=Ls=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WE&&e.locale!=="ko"?null:e.data;default:return null}}var WP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WP[t.type]:e==="textarea"}function YE(t,e,n,r){SE(r),e=Du(e,"onChange"),0<e.length&&(n=new Ov("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fl=null,cc=null;function GP(t){aN(t,0)}function Fh(t){var e=Ma(t);if(xE(e))return t}function KP(t,e){if(t==="change")return e}var QE=!1;if(us){var rp;if(us){var sp="oninput"in document;if(!sp){var Zb=document.createElement("div");Zb.setAttribute("oninput","return;"),sp=typeof Zb.oninput=="function"}rp=sp}else rp=!1;QE=rp&&(!document.documentMode||9<document.documentMode)}function ew(){Fl&&(Fl.detachEvent("onpropertychange",XE),cc=Fl=null)}function XE(t){if(t.propertyName==="value"&&Fh(cc)){var e=[];YE(e,cc,t,Cv(t)),AE(GP,e)}}function YP(t,e,n){t==="focusin"?(ew(),Fl=e,cc=n,Fl.attachEvent("onpropertychange",XE)):t==="focusout"&&ew()}function QP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(cc)}function XP(t,e){if(t==="click")return Fh(e)}function JP(t,e){if(t==="input"||t==="change")return Fh(e)}function ZP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:ZP;function dc(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xm.call(e,s)||!xr(t[s],e[s]))return!1}return!0}function tw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nw(t,e){var n=tw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tw(n)}}function JE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZE(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function Vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eR(t){var e=ZE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JE(n.ownerDocument.documentElement,n)){if(r!==null&&Vv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=nw(n,i);var o=nw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tR=us&&"documentMode"in document&&11>=document.documentMode,Oa=null,Vm=null,Ul=null,Fm=!1;function rw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fm||Oa==null||Oa!==Tu(r)||(r=Oa,"selectionStart"in r&&Vv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&dc(Ul,r)||(Ul=r,r=Du(Vm,"onSelect"),0<r.length&&(e=new Ov("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oa)))}function Cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionend:Cd("Transition","TransitionEnd")},ip={},eN={};us&&(eN=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Uh(t){if(ip[t])return ip[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eN)return ip[t]=e[n];return t}var tN=Uh("animationend"),nN=Uh("animationiteration"),rN=Uh("animationstart"),sN=Uh("transitionend"),iN=new Map,sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){iN.set(t,e),la(e,[t])}for(var ap=0;ap<sw.length;ap++){var op=sw[ap],nR=op.toLowerCase(),rR=op[0].toUpperCase()+op.slice(1);ui(nR,"on"+rR)}ui(tN,"onAnimationEnd");ui(nN,"onAnimationIteration");ui(rN,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(sN,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function iw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nP(r,e,void 0,t),t.currentTarget=null}function aN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;iw(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;iw(s,l,d),i=c}}}if(Cu)throw t=Dm,Cu=!1,Dm=null,t}function Xe(t,e){var n=e[Hm];n===void 0&&(n=e[Hm]=new Set);var r=t+"__bubble";n.has(r)||(oN(e,t,2,!1),n.add(r))}function lp(t,e,n){var r=0;e&&(r|=4),oN(n,t,r,e)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function uc(t){if(!t[Ad]){t[Ad]=!0,pE.forEach(function(n){n!=="selectionchange"&&(sR.has(n)||lp(n,!1,t),lp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ad]||(e[Ad]=!0,lp("selectionchange",!1,e))}}function oN(t,e,n,r){switch(HE(e)){case 1:var s=yP;break;case 4:s=xP;break;default:s=Rv}n=s.bind(null,e,n,t),s=void 0,!Rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ci(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}AE(function(){var d=i,u=Cv(n),h=[];e:{var f=iN.get(t);if(f!==void 0){var p=Ov,g=t;switch(t){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":p=DP;break;case"focusin":g="focus",p=np;break;case"focusout":g="blur",p=np;break;case"beforeblur":case"afterblur":p=np;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MP;break;case tN:case nN:case rN:p=NP;break;case sN:p=FP;break;case"scroll":p=bP;break;case"wheel":p=$P;break;case"copy":case"cut":case"paste":p=TP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Yb}var v=(e&4)!==0,b=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=d,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,m!==null&&(_=ic(y,m),_!=null&&v.push(hc(y,_,x)))),b)break;y=y.return}0<v.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==km&&(g=n.relatedTarget||n.fromElement)&&(Ci(g)||g[hs]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?Ci(g):null,g!==null&&(b=ca(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(v=Gb,_="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Yb,_="onPointerLeave",m="onPointerEnter",y="pointer"),b=p==null?f:Ma(p),x=g==null?f:Ma(g),f=new v(_,y+"leave",p,n,u),f.target=b,f.relatedTarget=x,_=null,Ci(u)===d&&(v=new v(m,y+"enter",g,n,u),v.target=x,v.relatedTarget=b,_=v),b=_,p&&g)t:{for(v=p,m=g,y=0,x=v;x;x=_a(x))y++;for(x=0,_=m;_;_=_a(_))x++;for(;0<y-x;)v=_a(v),y--;for(;0<x-y;)m=_a(m),x--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=_a(v),m=_a(m)}v=null}else v=null;p!==null&&aw(h,f,p,v,!1),g!==null&&b!==null&&aw(h,b,g,v,!0)}}e:{if(f=d?Ma(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=KP;else if(Jb(f))if(QE)S=JP;else{S=QP;var E=YP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=XP);if(S&&(S=S(t,d))){YE(h,S,n,u);break e}E&&E(t,f,d),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Sm(f,"number",f.value)}switch(E=d?Ma(d):window,t){case"focusin":(Jb(E)||E.contentEditable==="true")&&(Oa=E,Vm=d,Ul=null);break;case"focusout":Ul=Vm=Oa=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,rw(h,n,u);break;case"selectionchange":if(tR)break;case"keydown":case"keyup":rw(h,n,u)}var I;if(Mv)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Da?GE(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(WE&&n.locale!=="ko"&&(Da||w!=="onCompositionStart"?w==="onCompositionEnd"&&Da&&(I=qE()):(Ls=u,Dv="value"in Ls?Ls.value:Ls.textContent,Da=!0)),E=Du(d,w),0<E.length&&(w=new Kb(w,t,null,n,u),h.push({event:w,listeners:E}),I?w.data=I:(I=KE(n),I!==null&&(w.data=I)))),(I=zP?HP(t,n):qP(t,n))&&(d=Du(d,"onBeforeInput"),0<d.length&&(u=new Kb("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=I))}aN(h,e)})}function hc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Du(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ic(t,n),i!=null&&r.unshift(hc(t,i,s)),i=ic(t,e),i!=null&&r.push(hc(t,i,s))),t=t.return}return r}function _a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=ic(n,i),c!=null&&o.unshift(hc(n,c,l))):s||(c=ic(n,i),c!=null&&o.push(hc(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iR=/\r\n?/g,aR=/\u0000|\uFFFD/g;function ow(t){return(typeof t=="string"?t:""+t).replace(iR,`
`).replace(aR,"")}function kd(t,e,n){if(e=ow(e),ow(t)!==e&&n)throw Error(G(425))}function Ou(){}var Um=null,$m=null;function Bm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zm=typeof setTimeout=="function"?setTimeout:void 0,oR=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(t){return lw.resolve(null).then(t).catch(cR)}:zm;function cR(t){setTimeout(function(){throw t})}function dp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),lc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);lc(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Ro,fc="__reactProps$"+Ro,hs="__reactContainer$"+Ro,Hm="__reactEvents$"+Ro,dR="__reactListeners$"+Ro,uR="__reactHandles$"+Ro;function Ci(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hs]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cw(t);t!==null;){if(n=t[Tr])return n;t=cw(t)}return e}t=n,n=t.parentNode}return null}function Gc(t){return t=t[Tr]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function $h(t){return t[fc]||null}var qm=[],Va=-1;function hi(t){return{current:t}}function et(t){0>Va||(t.current=qm[Va],qm[Va]=null,Va--)}function We(t,e){Va++,qm[Va]=t.current,t.current=e}var si={},dn=hi(si),In=hi(!1),Hi=si;function ho(t,e){var n=t.type.contextTypes;if(!n)return si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Cn(t){return t=t.childContextTypes,t!=null}function Lu(){et(In),et(dn)}function dw(t,e,n){if(dn.current!==si)throw Error(G(168));We(dn,e),We(In,n)}function lN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,Yk(t)||"Unknown",s));return pt({},n,r)}function Mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,Hi=dn.current,We(dn,t),We(In,In.current),!0}function uw(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=lN(t,e,Hi),r.__reactInternalMemoizedMergedChildContext=t,et(In),et(dn),We(dn,t)):et(In),We(In,n)}var es=null,Bh=!1,up=!1;function cN(t){es===null?es=[t]:es.push(t)}function hR(t){Bh=!0,cN(t)}function fi(){if(!up&&es!==null){up=!0;var t=0,e=Me;try{var n=es;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,Bh=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),DE(Av,fi),s}finally{Me=e,up=!1}}return null}var Fa=[],Ua=0,Vu=null,Fu=0,Xn=[],Jn=0,qi=null,rs=1,ss="";function _i(t,e){Fa[Ua++]=Fu,Fa[Ua++]=Vu,Vu=t,Fu=e}function dN(t,e,n){Xn[Jn++]=rs,Xn[Jn++]=ss,Xn[Jn++]=qi,qi=t;var r=rs;t=ss;var s=32-vr(r)-1;r&=~(1<<s),n+=1;var i=32-vr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,rs=1<<32-vr(e)+s|n<<s|r,ss=i+t}else rs=1<<i|n<<s|r,ss=t}function Fv(t){t.return!==null&&(_i(t,1),dN(t,1,0))}function Uv(t){for(;t===Vu;)Vu=Fa[--Ua],Fa[Ua]=null,Fu=Fa[--Ua],Fa[Ua]=null;for(;t===qi;)qi=Xn[--Jn],Xn[Jn]=null,ss=Xn[--Jn],Xn[Jn]=null,rs=Xn[--Jn],Xn[Jn]=null}var $n=null,Mn=null,ct=!1,pr=null;function uN(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,Mn=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:rs,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,Mn=null,!0):!1;default:return!1}}function Wm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gm(t){if(ct){var e=Mn;if(e){var n=e;if(!hw(t,e)){if(Wm(t))throw Error(G(418));e=Ws(n.nextSibling);var r=$n;e&&hw(t,e)?uN(r,n):(t.flags=t.flags&-4097|2,ct=!1,$n=t)}}else{if(Wm(t))throw Error(G(418));t.flags=t.flags&-4097|2,ct=!1,$n=t}}}function fw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function Pd(t){if(t!==$n)return!1;if(!ct)return fw(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bm(t.type,t.memoizedProps)),e&&(e=Mn)){if(Wm(t))throw hN(),Error(G(418));for(;e;)uN(t,e),e=Ws(e.nextSibling)}if(fw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=Ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=$n?Ws(t.stateNode.nextSibling):null;return!0}function hN(){for(var t=Mn;t;)t=Ws(t.nextSibling)}function fo(){Mn=$n=null,ct=!1}function $v(t){pr===null?pr=[t]:pr.push(t)}var fR=bs.ReactCurrentBatchConfig;function hr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Uu=hi(null),$u=null,$a=null,Bv=null;function zv(){Bv=$a=$u=null}function Hv(t){var e=Uu.current;et(Uu),t._currentValue=e}function Km(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xa(t,e){$u=t,Bv=$a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(Bv!==t)if(t={context:t,memoizedValue:e,next:null},$a===null){if($u===null)throw Error(G(308));$a=t,$u.dependencies={lanes:0,firstContext:t}}else $a=$a.next=t;return e}var Ai=null;function qv(t){Ai===null?Ai=[t]:Ai.push(t)}function fN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,qv(e)):(n.next=s.next,s.next=n),e.interleaved=n,fs(t,r)}function fs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Is=!1;function Wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fs(t,n)}return s=r.interleaved,s===null?(e.next=e,qv(r)):(e.next=s.next,s.next=e),r.interleaved=e,fs(t,n)}function au(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kv(t,n)}}function pw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bu(t,e,n,r){var s=t.updateQueue;Is=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,v=l;switch(f=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=pt({},h,f);break e;case 2:Is=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Gi|=o,t.lanes=o,t.memoizedState=h}}function mw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var mN=new fE.Component().refs;function Ym(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zh={isMounted:function(t){return(t=t._reactInternals)?ca(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),s=Ys(t),i=ls(r,s);i.payload=e,n!=null&&(i.callback=n),e=Gs(t,i,s),e!==null&&(yr(e,t,s,r),au(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),s=Ys(t),i=ls(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Gs(t,i,s),e!==null&&(yr(e,t,s,r),au(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=Ys(t),s=ls(n,r);s.tag=2,e!=null&&(s.callback=e),e=Gs(t,s,r),e!==null&&(yr(e,t,r,n),au(e,t,r))}};function gw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!dc(n,r)||!dc(s,i):!0}function gN(t,e,n){var r=!1,s=si,i=e.contextType;return typeof i=="object"&&i!==null?i=sr(i):(s=Cn(e)?Hi:dn.current,r=e.contextTypes,i=(r=r!=null)?ho(t,s):si),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function Qm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=mN,Wv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=sr(i):(i=Cn(e)?Hi:dn.current,s.context=ho(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ym(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zh.enqueueReplaceState(s,s.state,null),Bu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;l===mN&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Rd(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yw(t){var e=t._init;return e(t._payload)}function vN(t){function e(m,y){if(t){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=Qs(m,y),m.index=0,m.sibling=null,m}function i(m,y,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,y,x,_){return y===null||y.tag!==6?(y=yp(x,m.mode,_),y.return=m,y):(y=s(y,x),y.return=m,y)}function c(m,y,x,_){var S=x.type;return S===Ra?u(m,y,x.props.children,_,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ts&&yw(S)===y.type)?(_=s(y,x.props),_.ref=dl(m,y,x),_.return=m,_):(_=hu(x.type,x.key,x.props,null,m.mode,_),_.ref=dl(m,y,x),_.return=m,_)}function d(m,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=xp(x,m.mode,_),y.return=m,y):(y=s(y,x.children||[]),y.return=m,y)}function u(m,y,x,_,S){return y===null||y.tag!==7?(y=Fi(x,m.mode,_,S),y.return=m,y):(y=s(y,x),y.return=m,y)}function h(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=yp(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jd:return x=hu(y.type,y.key,y.props,null,m.mode,x),x.ref=dl(m,null,y),x.return=m,x;case Pa:return y=xp(y,m.mode,x),y.return=m,y;case Ts:var _=y._init;return h(m,_(y._payload),x)}if(Nl(y)||il(y))return y=Fi(y,m.mode,x,null),y.return=m,y;Rd(m,y)}return null}function f(m,y,x,_){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(m,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jd:return x.key===S?c(m,y,x,_):null;case Pa:return x.key===S?d(m,y,x,_):null;case Ts:return S=x._init,f(m,y,S(x._payload),_)}if(Nl(x)||il(x))return S!==null?null:u(m,y,x,_,null);Rd(m,x)}return null}function p(m,y,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(x)||null,l(y,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jd:return m=m.get(_.key===null?x:_.key)||null,c(y,m,_,S);case Pa:return m=m.get(_.key===null?x:_.key)||null,d(y,m,_,S);case Ts:var E=_._init;return p(m,y,x,E(_._payload),S)}if(Nl(_)||il(_))return m=m.get(x)||null,u(y,m,_,S,null);Rd(y,_)}return null}function g(m,y,x,_){for(var S=null,E=null,I=y,w=y=0,j=null;I!==null&&w<x.length;w++){I.index>w?(j=I,I=null):j=I.sibling;var N=f(m,I,x[w],_);if(N===null){I===null&&(I=j);break}t&&I&&N.alternate===null&&e(m,I),y=i(N,y,w),E===null?S=N:E.sibling=N,E=N,I=j}if(w===x.length)return n(m,I),ct&&_i(m,w),S;if(I===null){for(;w<x.length;w++)I=h(m,x[w],_),I!==null&&(y=i(I,y,w),E===null?S=I:E.sibling=I,E=I);return ct&&_i(m,w),S}for(I=r(m,I);w<x.length;w++)j=p(I,m,w,x[w],_),j!==null&&(t&&j.alternate!==null&&I.delete(j.key===null?w:j.key),y=i(j,y,w),E===null?S=j:E.sibling=j,E=j);return t&&I.forEach(function(k){return e(m,k)}),ct&&_i(m,w),S}function v(m,y,x,_){var S=il(x);if(typeof S!="function")throw Error(G(150));if(x=S.call(x),x==null)throw Error(G(151));for(var E=S=null,I=y,w=y=0,j=null,N=x.next();I!==null&&!N.done;w++,N=x.next()){I.index>w?(j=I,I=null):j=I.sibling;var k=f(m,I,N.value,_);if(k===null){I===null&&(I=j);break}t&&I&&k.alternate===null&&e(m,I),y=i(k,y,w),E===null?S=k:E.sibling=k,E=k,I=j}if(N.done)return n(m,I),ct&&_i(m,w),S;if(I===null){for(;!N.done;w++,N=x.next())N=h(m,N.value,_),N!==null&&(y=i(N,y,w),E===null?S=N:E.sibling=N,E=N);return ct&&_i(m,w),S}for(I=r(m,I);!N.done;w++,N=x.next())N=p(I,m,w,N.value,_),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?w:N.key),y=i(N,y,w),E===null?S=N:E.sibling=N,E=N);return t&&I.forEach(function(C){return e(m,C)}),ct&&_i(m,w),S}function b(m,y,x,_){if(typeof x=="object"&&x!==null&&x.type===Ra&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case jd:e:{for(var S=x.key,E=y;E!==null;){if(E.key===S){if(S=x.type,S===Ra){if(E.tag===7){n(m,E.sibling),y=s(E,x.props.children),y.return=m,m=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ts&&yw(S)===E.type){n(m,E.sibling),y=s(E,x.props),y.ref=dl(m,E,x),y.return=m,m=y;break e}n(m,E);break}else e(m,E);E=E.sibling}x.type===Ra?(y=Fi(x.props.children,m.mode,_,x.key),y.return=m,m=y):(_=hu(x.type,x.key,x.props,null,m.mode,_),_.ref=dl(m,y,x),_.return=m,m=_)}return o(m);case Pa:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(m,y.sibling),y=s(y,x.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=xp(x,m.mode,_),y.return=m,m=y}return o(m);case Ts:return E=x._init,b(m,y,E(x._payload),_)}if(Nl(x))return g(m,y,x,_);if(il(x))return v(m,y,x,_);Rd(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,x),y.return=m,m=y):(n(m,y),y=yp(x,m.mode,_),y.return=m,m=y),o(m)):n(m,y)}return b}var po=vN(!0),yN=vN(!1),Kc={},Dr=hi(Kc),pc=hi(Kc),mc=hi(Kc);function ki(t){if(t===Kc)throw Error(G(174));return t}function Gv(t,e){switch(We(mc,e),We(pc,t),We(Dr,Kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Im(e,t)}et(Dr),We(Dr,e)}function mo(){et(Dr),et(pc),et(mc)}function xN(t){ki(mc.current);var e=ki(Dr.current),n=Im(e,t.type);e!==n&&(We(pc,t),We(Dr,n))}function Kv(t){pc.current===t&&(et(Dr),et(pc))}var ht=hi(0);function zu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hp=[];function Yv(){for(var t=0;t<hp.length;t++)hp[t]._workInProgressVersionPrimary=null;hp.length=0}var ou=bs.ReactCurrentDispatcher,fp=bs.ReactCurrentBatchConfig,Wi=0,ft=null,Ct=null,Vt=null,Hu=!1,$l=!1,gc=0,pR=0;function Zt(){throw Error(G(321))}function Qv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function Xv(t,e,n,r,s,i){if(Wi=i,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ou.current=t===null||t.memoizedState===null?yR:xR,t=n(r,s),$l){i=0;do{if($l=!1,gc=0,25<=i)throw Error(G(301));i+=1,Vt=Ct=null,e.updateQueue=null,ou.current=bR,t=n(r,s)}while($l)}if(ou.current=qu,e=Ct!==null&&Ct.next!==null,Wi=0,Vt=Ct=ft=null,Hu=!1,e)throw Error(G(300));return t}function Jv(){var t=gc!==0;return gc=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ft.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function ir(){if(Ct===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Vt===null?ft.memoizedState:Vt.next;if(e!==null)Vt=e,Ct=t;else{if(t===null)throw Error(G(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Vt===null?ft.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function vc(t,e){return typeof e=="function"?e(t):e}function pp(t){var e=ir(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Wi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,ft.lanes|=u,Gi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,xr(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ft.lanes|=i,Gi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mp(t){var e=ir(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);xr(i,e.memoizedState)||(Tn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bN(){}function wN(t,e){var n=ft,r=ir(),s=e(),i=!xr(r.memoizedState,s);if(i&&(r.memoizedState=s,Tn=!0),r=r.queue,Zv(EN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,yc(9,_N.bind(null,n,r,s,e),void 0,null),Ft===null)throw Error(G(349));Wi&30||jN(n,e,s)}return s}function jN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _N(t,e,n,r){e.value=n,e.getSnapshot=r,NN(e)&&SN(t)}function EN(t,e,n){return n(function(){NN(e)&&SN(t)})}function NN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function SN(t){var e=fs(t,1);e!==null&&yr(e,t,1,-1)}function xw(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:t},e.queue=t,t=t.dispatch=vR.bind(null,ft,t),[e.memoizedState,t]}function yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TN(){return ir().memoizedState}function lu(t,e,n,r){var s=Sr();ft.flags|=t,s.memoizedState=yc(1|e,n,void 0,r===void 0?null:r)}function Hh(t,e,n,r){var s=ir();r=r===void 0?null:r;var i=void 0;if(Ct!==null){var o=Ct.memoizedState;if(i=o.destroy,r!==null&&Qv(r,o.deps)){s.memoizedState=yc(e,n,i,r);return}}ft.flags|=t,s.memoizedState=yc(1|e,n,i,r)}function bw(t,e){return lu(8390656,8,t,e)}function Zv(t,e){return Hh(2048,8,t,e)}function IN(t,e){return Hh(4,2,t,e)}function CN(t,e){return Hh(4,4,t,e)}function AN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kN(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4,4,AN.bind(null,e,t),n)}function ey(){}function PN(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RN(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DN(t,e,n){return Wi&21?(xr(n,e)||(n=ME(),ft.lanes|=n,Gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function mR(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=fp.transition;fp.transition={};try{t(!1),e()}finally{Me=n,fp.transition=r}}function ON(){return ir().memoizedState}function gR(t,e,n){var r=Ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LN(t))MN(e,n);else if(n=fN(t,e,n,r),n!==null){var s=gn();yr(n,t,r,s),VN(n,e,r)}}function vR(t,e,n){var r=Ys(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LN(t))MN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,xr(l,o)){var c=e.interleaved;c===null?(s.next=s,qv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=fN(t,e,s,r),n!==null&&(s=gn(),yr(n,t,r,s),VN(n,e,r))}}function LN(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function MN(t,e){$l=Hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kv(t,n)}}var qu={readContext:sr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},yR={readContext:sr,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:bw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lu(4194308,4,AN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lu(4194308,4,t,e)},useInsertionEffect:function(t,e){return lu(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gR.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:xw,useDebugValue:ey,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=xw(!1),e=t[0];return t=mR.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,s=Sr();if(ct){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Ft===null)throw Error(G(349));Wi&30||jN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,bw(EN.bind(null,r,i,t),[t]),r.flags|=2048,yc(9,_N.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Ft.identifierPrefix;if(ct){var n=ss,r=rs;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xR={readContext:sr,useCallback:PN,useContext:sr,useEffect:Zv,useImperativeHandle:kN,useInsertionEffect:IN,useLayoutEffect:CN,useMemo:RN,useReducer:pp,useRef:TN,useState:function(){return pp(vc)},useDebugValue:ey,useDeferredValue:function(t){var e=ir();return DN(e,Ct.memoizedState,t)},useTransition:function(){var t=pp(vc)[0],e=ir().memoizedState;return[t,e]},useMutableSource:bN,useSyncExternalStore:wN,useId:ON,unstable_isNewReconciler:!1},bR={readContext:sr,useCallback:PN,useContext:sr,useEffect:Zv,useImperativeHandle:kN,useInsertionEffect:IN,useLayoutEffect:CN,useMemo:RN,useReducer:mp,useRef:TN,useState:function(){return mp(vc)},useDebugValue:ey,useDeferredValue:function(t){var e=ir();return Ct===null?e.memoizedState=t:DN(e,Ct.memoizedState,t)},useTransition:function(){var t=mp(vc)[0],e=ir().memoizedState;return[t,e]},useMutableSource:bN,useSyncExternalStore:wN,useId:ON,unstable_isNewReconciler:!1};function go(t,e){try{var n="",r=e;do n+=Kk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wR=typeof WeakMap=="function"?WeakMap:Map;function FN(t,e,n){n=ls(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gu||(Gu=!0,og=r),Xm(t,e)},n}function UN(t,e,n){n=ls(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xm(t,e),typeof r!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ww(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=OR.bind(null,t,e,n),e.then(t,t))}function jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _w(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ls(-1,1),e.tag=2,Gs(n,e,1))),n.lanes|=1),t)}var jR=bs.ReactCurrentOwner,Tn=!1;function pn(t,e,n,r){e.child=t===null?yN(e,null,n,r):po(e,t.child,n,r)}function Ew(t,e,n,r,s){n=n.render;var i=e.ref;return Xa(e,s),r=Xv(t,e,n,r,i,s),n=Jv(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ps(t,e,s)):(ct&&n&&Fv(e),e.flags|=1,pn(t,e,r,s),e.child)}function Nw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ly(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$N(t,e,i,r,s)):(t=hu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(o,r)&&t.ref===e.ref)return ps(t,e,s)}return e.flags|=1,t=Qs(i,r),t.ref=e.ref,t.return=e,e.child=t}function $N(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(dc(i,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,ps(t,e,s)}return Jm(t,e,n,r,s)}function BN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(za,On),On|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(za,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(za,On),On|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(za,On),On|=r;return pn(t,e,s,n),e.child}function zN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jm(t,e,n,r,s){var i=Cn(n)?Hi:dn.current;return i=ho(e,i),Xa(e,s),n=Xv(t,e,n,r,i,s),r=Jv(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ps(t,e,s)):(ct&&r&&Fv(e),e.flags|=1,pn(t,e,n,s),e.child)}function Sw(t,e,n,r,s){if(Cn(n)){var i=!0;Mu(e)}else i=!1;if(Xa(e,s),e.stateNode===null)cu(t,e),gN(e,n,r),Qm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=sr(d):(d=Cn(n)?Hi:dn.current,d=ho(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&vw(e,o,r,d),Is=!1;var f=e.memoizedState;o.state=f,Bu(e,r,o,s),c=e.memoizedState,l!==r||f!==c||In.current||Is?(typeof u=="function"&&(Ym(e,n,u,r),c=e.memoizedState),(l=Is||gw(e,n,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pN(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:hr(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=sr(c):(c=Cn(n)?Hi:dn.current,c=ho(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&vw(e,o,r,c),Is=!1,f=e.memoizedState,o.state=f,Bu(e,r,o,s);var g=e.memoizedState;l!==h||f!==g||In.current||Is?(typeof p=="function"&&(Ym(e,n,p,r),g=e.memoizedState),(d=Is||gw(e,n,d,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zm(t,e,n,r,i,s)}function Zm(t,e,n,r,s,i){zN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&uw(e,n,!1),ps(t,e,i);r=e.stateNode,jR.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=po(e,t.child,null,i),e.child=po(e,null,l,i)):pn(t,e,l,i),e.memoizedState=r.state,s&&uw(e,n,!0),e.child}function HN(t){var e=t.stateNode;e.pendingContext?dw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dw(t,e.context,!1),Gv(t,e.containerInfo)}function Tw(t,e,n,r,s){return fo(),$v(s),e.flags|=256,pn(t,e,n,r),e.child}var eg={dehydrated:null,treeContext:null,retryLane:0};function tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function qN(t,e,n){var r=e.pendingProps,s=ht.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(ht,s&1),t===null)return Gm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gh(o,r,0,null),t=Fi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tg(n),e.memoizedState=eg,t):ty(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return _R(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Qs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qs(l,i):(i=Fi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=eg,r}return i=t.child,t=i.sibling,r=Qs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ty(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dd(t,e,n,r){return r!==null&&$v(r),po(e,t.child,null,n),t=ty(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _R(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gp(Error(G(422))),Dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gh({mode:"visible",children:r.children},s,0,null),i=Fi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&po(e,t.child,null,o),e.child.memoizedState=tg(o),e.memoizedState=eg,i);if(!(e.mode&1))return Dd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(G(419)),r=gp(i,r,void 0),Dd(t,e,o,r)}if(l=(o&t.childLanes)!==0,Tn||l){if(r=Ft,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fs(t,s),yr(r,t,s,-1))}return oy(),r=gp(Error(G(421))),Dd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=LR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Mn=Ws(s.nextSibling),$n=e,ct=!0,pr=null,t!==null&&(Xn[Jn++]=rs,Xn[Jn++]=ss,Xn[Jn++]=qi,rs=t.id,ss=t.overflow,qi=e),e=ty(e,r.children),e.flags|=4096,e)}function Iw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Km(t.return,e,n)}function vp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function WN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iw(t,n,e);else if(t.tag===19)Iw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vp(e,!0,n,null,i);break;case"together":vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ER(t,e,n){switch(e.tag){case 3:HN(e),fo();break;case 5:xN(e);break;case 1:Cn(e.type)&&Mu(e);break;case 4:Gv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(Uu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?qN(t,e,n):(We(ht,ht.current&1),t=ps(t,e,n),t!==null?t.sibling:null);We(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,BN(t,e,n)}return ps(t,e,n)}var GN,ng,KN,YN;GN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ng=function(){};KN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ki(Dr.current);var i=null;switch(n){case"input":s=Em(t,s),r=Em(t,r),i=[];break;case"select":s=pt({},s,{value:void 0}),r=pt({},r,{value:void 0}),i=[];break;case"textarea":s=Tm(t,s),r=Tm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ou)}Cm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(rc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(rc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Xe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};YN=function(t,e,n,r){n!==r&&(e.flags|=4)};function ul(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NR(t,e,n){var r=e.pendingProps;switch(Uv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Cn(e.type)&&Lu(),en(e),null;case 3:return r=e.stateNode,mo(),et(In),et(dn),Yv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(dg(pr),pr=null))),ng(t,e),en(e),null;case 5:Kv(e);var s=ki(mc.current);if(n=e.type,t!==null&&e.stateNode!=null)KN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return en(e),null}if(t=ki(Dr.current),Pd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tr]=e,r[fc]=i,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<Tl.length;s++)Xe(Tl[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":Mb(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":Fb(r,i),Xe("invalid",r)}Cm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&kd(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kd(r.textContent,l,t),s=["children",""+l]):rc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":_d(r),Vb(r,i,!0);break;case"textarea":_d(r),Ub(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ou)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tr]=e,t[fc]=r,GN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Am(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tl.length;s++)Xe(Tl[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":Mb(t,r),s=Em(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pt({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":Fb(t,r),s=Tm(t,r),Xe("invalid",t);break;default:s=r}Cm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?NE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_E(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&sc(t,c):typeof c=="number"&&sc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Xe("scroll",t):c!=null&&Nv(t,i,c,o))}switch(n){case"input":_d(t),Vb(t,r,!1);break;case"textarea":_d(t),Ub(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ri(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ga(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ga(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)YN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=ki(mc.current),ki(Dr.current),Pd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(i=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:kd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return en(e),null;case 13:if(et(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Mn!==null&&e.mode&1&&!(e.flags&128))hN(),fo(),e.flags|=98560,i=!1;else if(i=Pd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Tr]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),i=!1}else pr!==null&&(dg(pr),pr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?kt===0&&(kt=3):oy())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return mo(),ng(t,e),t===null&&uc(e.stateNode.containerInfo),en(e),null;case 10:return Hv(e.type._context),en(e),null;case 17:return Cn(e.type)&&Lu(),en(e),null;case 19:if(et(ht),i=e.memoizedState,i===null)return en(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ul(i,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zu(t),o!==null){for(e.flags|=128,ul(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(ht,ht.current&1|2),e.child}t=t.sibling}i.tail!==null&&xt()>vo&&(e.flags|=128,r=!0,ul(i,!1),e.lanes=4194304)}else{if(!r)if(t=zu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ul(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ct)return en(e),null}else 2*xt()-i.renderingStartTime>vo&&n!==1073741824&&(e.flags|=128,r=!0,ul(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xt(),e.sibling=null,n=ht.current,We(ht,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return ay(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function SR(t,e){switch(Uv(e),e.tag){case 1:return Cn(e.type)&&Lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mo(),et(In),et(dn),Yv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kv(e),null;case 13:if(et(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ht),null;case 4:return mo(),null;case 10:return Hv(e.type._context),null;case 22:case 23:return ay(),null;case 24:return null;default:return null}}var Od=!1,sn=!1,TR=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ba(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function rg(t,e,n){try{n()}catch(r){vt(t,e,r)}}var Cw=!1;function IR(t,e){if(Um=Pu,t=ZE(),Vv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++d===s&&(l=o),f===i&&++u===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($m={focusedElem:t,selectionRange:n},Pu=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:hr(e.type,v),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){vt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return g=Cw,Cw=!1,g}function Bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rg(e,n,i)}s=s.next}while(s!==r)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QN(t){var e=t.alternate;e!==null&&(t.alternate=null,QN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[fc],delete e[Hm],delete e[dR],delete e[uR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XN(t){return t.tag===5||t.tag===3||t.tag===4}function Aw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ou));else if(r!==4&&(t=t.child,t!==null))for(ig(t,e,n),t=t.sibling;t!==null;)ig(t,e,n),t=t.sibling}function ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}var Ht=null,fr=!1;function Es(t,e,n){for(n=n.child;n!==null;)JN(t,e,n),n=n.sibling}function JN(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Mh,n)}catch{}switch(n.tag){case 5:sn||Ba(n,e);case 6:var r=Ht,s=fr;Ht=null,Es(t,e,n),Ht=r,fr=s,Ht!==null&&(fr?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(fr?(t=Ht,n=n.stateNode,t.nodeType===8?dp(t.parentNode,n):t.nodeType===1&&dp(t,n),lc(t)):dp(Ht,n.stateNode));break;case 4:r=Ht,s=fr,Ht=n.stateNode.containerInfo,fr=!0,Es(t,e,n),Ht=r,fr=s;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rg(n,e,o),s=s.next}while(s!==r)}Es(t,e,n);break;case 1:if(!sn&&(Ba(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vt(n,e,l)}Es(t,e,n);break;case 21:Es(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,Es(t,e,n),sn=r):Es(t,e,n);break;default:Es(t,e,n)}}function kw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TR),e.forEach(function(r){var s=MR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ht=l.stateNode,fr=!1;break e;case 3:Ht=l.stateNode.containerInfo,fr=!0;break e;case 4:Ht=l.stateNode.containerInfo,fr=!0;break e}l=l.return}if(Ht===null)throw Error(G(160));JN(i,o,s),Ht=null,fr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){vt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZN(e,t),e=e.sibling}function ZN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(e,t),Nr(t),r&4){try{Bl(3,t,t.return),qh(3,t)}catch(v){vt(t,t.return,v)}try{Bl(5,t,t.return)}catch(v){vt(t,t.return,v)}}break;case 1:dr(e,t),Nr(t),r&512&&n!==null&&Ba(n,n.return);break;case 5:if(dr(e,t),Nr(t),r&512&&n!==null&&Ba(n,n.return),t.flags&32){var s=t.stateNode;try{sc(s,"")}catch(v){vt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bE(s,i),Am(l,o);var d=Am(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?NE(s,h):u==="dangerouslySetInnerHTML"?_E(s,h):u==="children"?sc(s,h):Nv(s,u,h,d)}switch(l){case"input":Nm(s,i);break;case"textarea":wE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ga(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ga(s,!!i.multiple,i.defaultValue,!0):Ga(s,!!i.multiple,i.multiple?[]:"",!1))}s[fc]=i}catch(v){vt(t,t.return,v)}}break;case 6:if(dr(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){vt(t,t.return,v)}}break;case 3:if(dr(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(e.containerInfo)}catch(v){vt(t,t.return,v)}break;case 4:dr(e,t),Nr(t);break;case 13:dr(e,t),Nr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sy=xt())),r&4&&kw(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(d=sn)||u,dr(e,t),sn=d):dr(e,t),Nr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(h=ne=u;ne!==null;){switch(f=ne,p=f.child,f.tag){case 0:case 11:case 14:case 15:Bl(4,f,f.return);break;case 1:Ba(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){vt(r,n,v)}}break;case 5:Ba(f,f.return);break;case 22:if(f.memoizedState!==null){Rw(h);continue}}p!==null?(p.return=f,ne=p):Rw(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EE("display",o))}catch(v){vt(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){vt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dr(e,t),Nr(t),r&4&&kw(t);break;case 21:break;default:dr(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(XN(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(sc(s,""),r.flags&=-33);var i=Aw(t);ag(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Aw(t);ig(t,l,o);break;default:throw Error(G(161))}}catch(c){vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CR(t,e,n){ne=t,eS(t)}function eS(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Od;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||sn;l=Od;var d=sn;if(Od=o,(sn=c)&&!d)for(ne=s;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?Dw(s):c!==null?(c.return=o,ne=c):Dw(s);for(;i!==null;)ne=i,eS(i),i=i.sibling;ne=s,Od=l,sn=d}Pw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):Pw(t)}}function Pw(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:hr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mw(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&lc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}sn||e.flags&512&&sg(e)}catch(f){vt(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Rw(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Dw(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qh(4,e)}catch(c){vt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){vt(e,s,c)}}var i=e.return;try{sg(e)}catch(c){vt(e,i,c)}break;case 5:var o=e.return;try{sg(e)}catch(c){vt(e,o,c)}}}catch(c){vt(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var AR=Math.ceil,Wu=bs.ReactCurrentDispatcher,ny=bs.ReactCurrentOwner,nr=bs.ReactCurrentBatchConfig,Ie=0,Ft=null,_t=null,Kt=0,On=0,za=hi(0),kt=0,xc=null,Gi=0,Wh=0,ry=0,zl=null,Nn=null,sy=0,vo=1/0,Zr=null,Gu=!1,og=null,Ks=null,Ld=!1,Ms=null,Ku=0,Hl=0,lg=null,du=-1,uu=0;function gn(){return Ie&6?xt():du!==-1?du:du=xt()}function Ys(t){return t.mode&1?Ie&2&&Kt!==0?Kt&-Kt:fR.transition!==null?(uu===0&&(uu=ME()),uu):(t=Me,t!==0||(t=window.event,t=t===void 0?16:HE(t.type)),t):1}function yr(t,e,n,r){if(50<Hl)throw Hl=0,lg=null,Error(G(185));qc(t,n,r),(!(Ie&2)||t!==Ft)&&(t===Ft&&(!(Ie&2)&&(Wh|=n),kt===4&&As(t,Kt)),An(t,r),n===1&&Ie===0&&!(e.mode&1)&&(vo=xt()+500,Bh&&fi()))}function An(t,e){var n=t.callbackNode;fP(t,e);var r=ku(t,t===Ft?Kt:0);if(r===0)n!==null&&zb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zb(n),e===1)t.tag===0?hR(Ow.bind(null,t)):cN(Ow.bind(null,t)),lR(function(){!(Ie&6)&&fi()}),n=null;else{switch(VE(r)){case 1:n=Av;break;case 4:n=OE;break;case 16:n=Au;break;case 536870912:n=LE;break;default:n=Au}n=lS(n,tS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tS(t,e){if(du=-1,uu=0,Ie&6)throw Error(G(327));var n=t.callbackNode;if(Ja()&&t.callbackNode!==n)return null;var r=ku(t,t===Ft?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yu(t,r);else{e=r;var s=Ie;Ie|=2;var i=rS();(Ft!==t||Kt!==e)&&(Zr=null,vo=xt()+500,Vi(t,e));do try{RR();break}catch(l){nS(t,l)}while(!0);zv(),Wu.current=i,Ie=s,_t!==null?e=0:(Ft=null,Kt=0,e=kt)}if(e!==0){if(e===2&&(s=Om(t),s!==0&&(r=s,e=cg(t,s))),e===1)throw n=xc,Vi(t,0),As(t,r),An(t,xt()),n;if(e===6)As(t,r);else{if(s=t.current.alternate,!(r&30)&&!kR(s)&&(e=Yu(t,r),e===2&&(i=Om(t),i!==0&&(r=i,e=cg(t,i))),e===1))throw n=xc,Vi(t,0),As(t,r),An(t,xt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:Ei(t,Nn,Zr);break;case 3:if(As(t,r),(r&130023424)===r&&(e=sy+500-xt(),10<e)){if(ku(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zm(Ei.bind(null,t,Nn,Zr),e);break}Ei(t,Nn,Zr);break;case 4:if(As(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-vr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AR(r/1960))-r,10<r){t.timeoutHandle=zm(Ei.bind(null,t,Nn,Zr),r);break}Ei(t,Nn,Zr);break;case 5:Ei(t,Nn,Zr);break;default:throw Error(G(329))}}}return An(t,xt()),t.callbackNode===n?tS.bind(null,t):null}function cg(t,e){var n=zl;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=Yu(t,e),t!==2&&(e=Nn,Nn=n,e!==null&&dg(e)),t}function dg(t){Nn===null?Nn=t:Nn.push.apply(Nn,t)}function kR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e){for(e&=~ry,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vr(e),r=1<<n;t[n]=-1,e&=~r}}function Ow(t){if(Ie&6)throw Error(G(327));Ja();var e=ku(t,0);if(!(e&1))return An(t,xt()),null;var n=Yu(t,e);if(t.tag!==0&&n===2){var r=Om(t);r!==0&&(e=r,n=cg(t,r))}if(n===1)throw n=xc,Vi(t,0),As(t,e),An(t,xt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ei(t,Nn,Zr),An(t,xt()),null}function iy(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(vo=xt()+500,Bh&&fi())}}function Ki(t){Ms!==null&&Ms.tag===0&&!(Ie&6)&&Ja();var e=Ie;Ie|=1;var n=nr.transition,r=Me;try{if(nr.transition=null,Me=1,t)return t()}finally{Me=r,nr.transition=n,Ie=e,!(Ie&6)&&fi()}}function ay(){On=za.current,et(za)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oR(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lu();break;case 3:mo(),et(In),et(dn),Yv();break;case 5:Kv(r);break;case 4:mo();break;case 13:et(ht);break;case 19:et(ht);break;case 10:Hv(r.type._context);break;case 22:case 23:ay()}n=n.return}if(Ft=t,_t=t=Qs(t.current,null),Kt=On=e,kt=0,xc=null,ry=Wh=Gi=0,Nn=zl=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ai=null}return t}function nS(t,e){do{var n=_t;try{if(zv(),ou.current=qu,Hu){for(var r=ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hu=!1}if(Wi=0,Vt=Ct=ft=null,$l=!1,gc=0,ny.current=null,n===null||n.return===null){kt=1,xc=e,_t=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=jw(o);if(p!==null){p.flags&=-257,_w(p,o,l,i,e),p.mode&1&&ww(i,d,e),e=p,c=d;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){ww(i,d,e),oy();break e}c=Error(G(426))}}else if(ct&&l.mode&1){var b=jw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_w(b,o,l,i,e),$v(go(c,l));break e}}i=c=go(c,l),kt!==4&&(kt=2),zl===null?zl=[i]:zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=FN(i,c,e);pw(i,m);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ks===null||!Ks.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=UN(i,l,e);pw(i,_);break e}}i=i.return}while(i!==null)}iS(n)}catch(S){e=S,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function rS(){var t=Wu.current;return Wu.current=qu,t===null?qu:t}function oy(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||!(Gi&268435455)&&!(Wh&268435455)||As(Ft,Kt)}function Yu(t,e){var n=Ie;Ie|=2;var r=rS();(Ft!==t||Kt!==e)&&(Zr=null,Vi(t,e));do try{PR();break}catch(s){nS(t,s)}while(!0);if(zv(),Ie=n,Wu.current=r,_t!==null)throw Error(G(261));return Ft=null,Kt=0,kt}function PR(){for(;_t!==null;)sS(_t)}function RR(){for(;_t!==null&&!sP();)sS(_t)}function sS(t){var e=oS(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?iS(t):_t=e,ny.current=null}function iS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SR(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,_t=null;return}}else if(n=NR(n,e,On),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);kt===0&&(kt=5)}function Ei(t,e,n){var r=Me,s=nr.transition;try{nr.transition=null,Me=1,DR(t,e,n,r)}finally{nr.transition=s,Me=r}return null}function DR(t,e,n,r){do Ja();while(Ms!==null);if(Ie&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(pP(t,i),t===Ft&&(_t=Ft=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ld||(Ld=!0,lS(Au,function(){return Ja(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nr.transition,nr.transition=null;var o=Me;Me=1;var l=Ie;Ie|=4,ny.current=null,IR(t,n),ZN(n,t),eR($m),Pu=!!Um,$m=Um=null,t.current=n,CR(n),iP(),Ie=l,Me=o,nr.transition=i}else t.current=n;if(Ld&&(Ld=!1,Ms=t,Ku=s),i=t.pendingLanes,i===0&&(Ks=null),lP(n.stateNode),An(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gu)throw Gu=!1,t=og,og=null,t;return Ku&1&&t.tag!==0&&Ja(),i=t.pendingLanes,i&1?t===lg?Hl++:(Hl=0,lg=t):Hl=0,fi(),null}function Ja(){if(Ms!==null){var t=VE(Ku),e=nr.transition,n=Me;try{if(nr.transition=null,Me=16>t?16:t,Ms===null)var r=!1;else{if(t=Ms,Ms=null,Ku=0,Ie&6)throw Error(G(331));var s=Ie;for(Ie|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ne=d;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:Bl(8,u,i)}var h=u.child;if(h!==null)h.return=u,ne=h;else for(;ne!==null;){u=ne;var f=u.sibling,p=u.return;if(QN(u),u===d){ne=null;break}if(f!==null){f.return=p,ne=f;break}ne=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ne=m;break e}ne=i.return}}var y=t.current;for(ne=y;ne!==null;){o=ne;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ne=x;else e:for(o=y;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qh(9,l)}}catch(S){vt(l,l.return,S)}if(l===o){ne=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ne=_;break e}ne=l.return}}if(Ie=s,fi(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Mh,t)}catch{}r=!0}return r}finally{Me=n,nr.transition=e}}return!1}function Lw(t,e,n){e=go(n,e),e=FN(t,e,1),t=Gs(t,e,1),e=gn(),t!==null&&(qc(t,1,e),An(t,e))}function vt(t,e,n){if(t.tag===3)Lw(t,t,n);else for(;e!==null;){if(e.tag===3){Lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))){t=go(n,t),t=UN(e,t,1),e=Gs(e,t,1),t=gn(),e!==null&&(qc(e,1,t),An(e,t));break}}e=e.return}}function OR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Kt&n)===n&&(kt===4||kt===3&&(Kt&130023424)===Kt&&500>xt()-sy?Vi(t,0):ry|=n),An(t,e)}function aS(t,e){e===0&&(t.mode&1?(e=Sd,Sd<<=1,!(Sd&130023424)&&(Sd=4194304)):e=1);var n=gn();t=fs(t,e),t!==null&&(qc(t,e,n),An(t,n))}function LR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aS(t,n)}function MR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),aS(t,n)}var oS;oS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||In.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,ER(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,ct&&e.flags&1048576&&dN(e,Fu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cu(t,e),t=e.pendingProps;var s=ho(e,dn.current);Xa(e,n),s=Xv(null,e,r,t,s,n);var i=Jv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(i=!0,Mu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wv(e),s.updater=zh,e.stateNode=s,s._reactInternals=e,Qm(e,r,t,n),e=Zm(null,e,r,!0,i,n)):(e.tag=0,ct&&i&&Fv(e),pn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=FR(r),t=hr(r,t),s){case 0:e=Jm(null,e,r,t,n);break e;case 1:e=Sw(null,e,r,t,n);break e;case 11:e=Ew(null,e,r,t,n);break e;case 14:e=Nw(null,e,r,hr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hr(r,s),Jm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hr(r,s),Sw(t,e,r,s,n);case 3:e:{if(HN(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pN(t,e),Bu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=go(Error(G(423)),e),e=Tw(t,e,r,n,s);break e}else if(r!==s){s=go(Error(G(424)),e),e=Tw(t,e,r,n,s);break e}else for(Mn=Ws(e.stateNode.containerInfo.firstChild),$n=e,ct=!0,pr=null,n=yN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===s){e=ps(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return xN(e),t===null&&Gm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bm(r,s)?o=null:i!==null&&Bm(r,i)&&(e.flags|=32),zN(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&Gm(e),null;case 13:return qN(t,e,n);case 4:return Gv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hr(r,s),Ew(t,e,r,s,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(Uu,r._currentValue),r._currentValue=o,i!==null)if(xr(i.value,o)){if(i.children===s.children&&!In.current){e=ps(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ls(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Km(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Km(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xa(e,n),s=sr(s),r=r(s),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,s=hr(r,e.pendingProps),s=hr(r.type,s),Nw(t,e,r,s,n);case 15:return $N(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hr(r,s),cu(t,e),e.tag=1,Cn(r)?(t=!0,Mu(e)):t=!1,Xa(e,n),gN(e,r,s),Qm(e,r,s,n),Zm(null,e,r,!0,t,n);case 19:return WN(t,e,n);case 22:return BN(t,e,n)}throw Error(G(156,e.tag))};function lS(t,e){return DE(t,e)}function VR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new VR(t,e,n,r)}function ly(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FR(t){if(typeof t=="function")return ly(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tv)return 11;if(t===Iv)return 14}return 2}function Qs(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ly(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ra:return Fi(n.children,s,i,e);case Sv:o=8,s|=8;break;case bm:return t=tr(12,n,e,s|2),t.elementType=bm,t.lanes=i,t;case wm:return t=tr(13,n,e,s),t.elementType=wm,t.lanes=i,t;case jm:return t=tr(19,n,e,s),t.elementType=jm,t.lanes=i,t;case vE:return Gh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mE:o=10;break e;case gE:o=9;break e;case Tv:o=11;break e;case Iv:o=14;break e;case Ts:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=tr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Fi(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function Gh(t,e,n,r){return t=tr(22,t,r,e),t.elementType=vE,t.lanes=n,t.stateNode={isHidden:!1},t}function yp(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function xp(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cy(t,e,n,r,s,i,o,l,c){return t=new UR(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wv(i),t}function $R(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cS(t){if(!t)return si;t=t._reactInternals;e:{if(ca(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Cn(n))return lN(t,n,e)}return e}function dS(t,e,n,r,s,i,o,l,c){return t=cy(n,r,!0,t,s,i,o,l,c),t.context=cS(null),n=t.current,r=gn(),s=Ys(n),i=ls(r,s),i.callback=e??null,Gs(n,i,s),t.current.lanes=s,qc(t,s,r),An(t,r),t}function Kh(t,e,n,r){var s=e.current,i=gn(),o=Ys(s);return n=cS(n),e.context===null?e.context=n:e.pendingContext=n,e=ls(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gs(s,e,o),t!==null&&(yr(t,s,o,i),au(t,s,o)),o}function Qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dy(t,e){Mw(t,e),(t=t.alternate)&&Mw(t,e)}function BR(){return null}var uS=typeof reportError=="function"?reportError:function(t){console.error(t)};function uy(t){this._internalRoot=t}Yh.prototype.render=uy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Kh(t,e,null,null)};Yh.prototype.unmount=uy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){Kh(null,t,null,null)}),e[hs]=null}};function Yh(t){this._internalRoot=t}Yh.prototype.unstable_scheduleHydration=function(t){if(t){var e=$E();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cs.length&&e!==0&&e<Cs[n].priority;n++);Cs.splice(n,0,t),n===0&&zE(t)}};function hy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vw(){}function zR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Qu(o);i.call(d)}}var o=dS(e,r,t,0,null,!1,!1,"",Vw);return t._reactRootContainer=o,t[hs]=o.current,uc(t.nodeType===8?t.parentNode:t),Ki(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Qu(c);l.call(d)}}var c=cy(t,0,!1,null,null,!1,!1,"",Vw);return t._reactRootContainer=c,t[hs]=c.current,uc(t.nodeType===8?t.parentNode:t),Ki(function(){Kh(e,c,n,r)}),c}function Xh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Qu(o);l.call(c)}}Kh(e,o,t,s)}else o=zR(n,e,t,s,r);return Qu(o)}FE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sl(e.pendingLanes);n!==0&&(kv(e,n|1),An(e,xt()),!(Ie&6)&&(vo=xt()+500,fi()))}break;case 13:Ki(function(){var r=fs(t,1);if(r!==null){var s=gn();yr(r,t,1,s)}}),dy(t,1)}};Pv=function(t){if(t.tag===13){var e=fs(t,134217728);if(e!==null){var n=gn();yr(e,t,134217728,n)}dy(t,134217728)}};UE=function(t){if(t.tag===13){var e=Ys(t),n=fs(t,e);if(n!==null){var r=gn();yr(n,t,e,r)}dy(t,e)}};$E=function(){return Me};BE=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Pm=function(t,e,n){switch(e){case"input":if(Nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$h(r);if(!s)throw Error(G(90));xE(r),Nm(r,s)}}}break;case"textarea":wE(t,n);break;case"select":e=n.value,e!=null&&Ga(t,!!n.multiple,e,!1)}};IE=iy;CE=Ki;var HR={usingClientEntryPoint:!1,Events:[Gc,Ma,$h,SE,TE,iy]},hl={findFiberByHostInstance:Ci,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qR={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PE(t),t===null?null:t.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||BR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Mh=Md.inject(qR),Rr=Md}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR;Wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hy(e))throw Error(G(200));return $R(t,e,null,n)};Wn.createRoot=function(t,e){if(!hy(t))throw Error(G(299));var n=!1,r="",s=uS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cy(t,1,!1,null,null,n,!1,r,s),t[hs]=e.current,uc(t.nodeType===8?t.parentNode:t),new uy(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=PE(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return Ki(t)};Wn.hydrate=function(t,e,n){if(!Qh(e))throw Error(G(200));return Xh(null,t,e,!0,n)};Wn.hydrateRoot=function(t,e,n){if(!hy(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=uS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dS(e,null,t,1,n??null,s,!1,i,o),t[hs]=e.current,uc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yh(e)};Wn.render=function(t,e,n){if(!Qh(e))throw Error(G(200));return Xh(null,t,e,!1,n)};Wn.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(G(40));return t._reactRootContainer?(Ki(function(){Xh(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1};Wn.unstable_batchedUpdates=iy;Wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Xh(t,e,n,!1,r)};Wn.version="18.2.0-next-9e3b772b8-20220608";function hS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hS)}catch(t){console.error(t)}}hS(),dE.exports=Wn;var WR=dE.exports,Fw=WR;ym.createRoot=Fw.createRoot,ym.hydrateRoot=Fw.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bc.apply(this,arguments)}var Vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vs||(Vs={}));const Uw="popstate";function GR(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:c=""}=da(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ug("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof i=="string"?i:Xu(i))}function r(s,i){Jh(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return YR(e,n,r,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KR(){return Math.random().toString(36).substr(2,8)}function $w(t,e){return{usr:t.state,key:t.key,idx:e}}function ug(t,e,n,r){return n===void 0&&(n=null),bc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?da(e):e,{state:n,key:e&&e.key||r||KR()})}function Xu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Vs.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(bc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Vs.Pop;let b=u(),m=b==null?null:b-d;d=b,c&&c({action:l,location:v.location,delta:m})}function f(b,m){l=Vs.Push;let y=ug(v.location,b,m);n&&n(y,b),d=u()+1;let x=$w(y,d),_=v.createHref(y);try{o.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function p(b,m){l=Vs.Replace;let y=ug(v.location,b,m);n&&n(y,b),d=u();let x=$w(y,d),_=v.createHref(y);o.replaceState(x,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function g(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Xu(b);return St(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let v={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Uw,h),c=b,()=>{s.removeEventListener(Uw,h),c=null}},createHref(b){return e(s,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(b){return o.go(b)}};return v}var Bw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bw||(Bw={}));function QR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?da(e):e,s=fy(r.pathname||"/",n);if(s==null)return null;let i=fS(t);XR(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=aD(i[l],cD(s));return o}function fS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Xs([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(St(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),fS(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:sD(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of pS(i.path))s(i,o,c)}),e}function pS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=pS(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function XR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JR=/^:[\w-]+$/,ZR=3,eD=2,tD=1,nD=10,rD=-2,zw=t=>t==="*";function sD(t,e){let n=t.split("/"),r=n.length;return n.some(zw)&&(r+=rD),e&&(r+=eD),n.filter(s=>!zw(s)).reduce((s,i)=>s+(JR.test(i)?ZR:i===""?tD:nD),r)}function iD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function aD(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",u=oD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!u)return null;Object.assign(r,u.params);let h=l.route;i.push({params:r,pathname:Xs([s,u.pathname]),pathnameBase:pD(Xs([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Xs([s,u.pathnameBase]))}return i}function oD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[f]=void 0:d[f]=dD(g||"",f),d},{}),pathname:i,pathnameBase:o,pattern:t}}function lD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Jh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cD(t){try{return decodeURI(t)}catch(e){return Jh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dD(t,e){try{return decodeURIComponent(t)}catch(n){return Jh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function fy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?da(t):t;return{pathname:n?n.startsWith("/")?n:hD(n,e):e,search:mD(r),hash:gD(s)}}function hD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mS(t,e){let n=fD(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=da(t):(s=bc({},t),St(!s.pathname||!s.pathname.includes("?"),bp("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),bp("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),bp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=uD(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),pD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vS=["post","put","patch","delete"];new Set(vS);const yD=["get",...vS];new Set(yD);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}const py=T.createContext(null),xD=T.createContext(null),ua=T.createContext(null),Zh=T.createContext(null),pi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),yS=T.createContext(null);function bD(t,e){let{relative:n}=e===void 0?{}:e;Yc()||St(!1);let{basename:r,navigator:s}=T.useContext(ua),{hash:i,pathname:o,search:l}=wS(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Xs([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Yc(){return T.useContext(Zh)!=null}function Qc(){return Yc()||St(!1),T.useContext(Zh).location}function xS(t){T.useContext(ua).static||T.useLayoutEffect(t)}function bS(){let{isDataRoute:t}=T.useContext(pi);return t?RD():wD()}function wD(){Yc()||St(!1);let t=T.useContext(py),{basename:e,future:n,navigator:r}=T.useContext(ua),{matches:s}=T.useContext(pi),{pathname:i}=Qc(),o=JSON.stringify(mS(s,n.v7_relativeSplatPath)),l=T.useRef(!1);return xS(()=>{l.current=!0}),T.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=gS(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Xs([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function qr(){let{matches:t}=T.useContext(pi),e=t[t.length-1];return e?e.params:{}}function wS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(ua),{matches:s}=T.useContext(pi),{pathname:i}=Qc(),o=JSON.stringify(mS(s,r.v7_relativeSplatPath));return T.useMemo(()=>gS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function jD(t,e){return _D(t,e)}function _D(t,e,n,r){Yc()||St(!1);let{navigator:s}=T.useContext(ua),{matches:i}=T.useContext(pi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Qc(),u;if(e){var h;let b=typeof e=="string"?da(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||St(!1),u=b}else u=d;let f=u.pathname||"/",p=c==="/"?f:f.slice(c.length)||"/",g=QR(t,{pathname:p}),v=ID(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Xs([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Xs([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&v?T.createElement(Zh.Provider,{value:{location:wc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vs.Pop}},v):v}function ED(){let t=PD(),e=vD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const ND=T.createElement(ED,null);class SD extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(pi.Provider,{value:this.props.routeContext},T.createElement(yS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TD(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(py);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(pi.Provider,{value:e},r)}function ID(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));u>=0||St(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,v=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||ND,c&&(d<0&&f===0?(DD("route-fallback",!1),g=!0,b=null):d===f&&(g=!0,b=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),y=()=>{let x;return p?x=v:g?x=b:h.route.Component?x=T.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,T.createElement(TD,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(SD,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var jS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jS||{}),Ju=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ju||{});function CD(t){let e=T.useContext(py);return e||St(!1),e}function AD(t){let e=T.useContext(xD);return e||St(!1),e}function kD(t){let e=T.useContext(pi);return e||St(!1),e}function _S(t){let e=kD(),n=e.matches[e.matches.length-1];return n.route.id||St(!1),n.route.id}function PD(){var t;let e=T.useContext(yS),n=AD(Ju.UseRouteError),r=_S(Ju.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RD(){let{router:t}=CD(jS.UseNavigateStable),e=_S(Ju.UseNavigateStable),n=T.useRef(!1);return xS(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,wc({fromRouteId:e},i)))},[t,e])}const Hw={};function DD(t,e,n){!e&&!Hw[t]&&(Hw[t]=!0)}function ge(t){St(!1)}function OD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Vs.Pop,navigator:i,static:o=!1,future:l}=t;Yc()&&St(!1);let c=e.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:i,static:o,future:wc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=da(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,v=T.useMemo(()=>{let b=fy(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:g},navigationType:s}},[c,u,h,f,p,g,s]);return v==null?null:T.createElement(ua.Provider,{value:d},T.createElement(Zh.Provider,{children:n,value:v}))}function my(t){let{children:e,location:n}=t;return jD(hg(e),n)}new Promise(()=>{});function hg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,hg(r.props.children,i));return}r.type!==ge&&St(!1),!r.props.index||!r.props.children||St(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function LD(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function MD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VD(t,e){return t.button===0&&(!e||e==="_self")&&!MD(t)}const FD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],UD="6";try{window.__reactRouterVersion=UD}catch{}const $D="startTransition",qw=vm[$D];function BD(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=GR({window:s,v5Compat:!0}));let o=i.current,[l,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=T.useCallback(h=>{d&&qw?qw(()=>c(h)):c(h)},[c,d]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(OD,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const zD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,unstable_viewTransition:h}=e,f=LD(e,FD),{basename:p}=T.useContext(ua),g,v=!1;if(typeof d=="string"&&HD.test(d)&&(g=d,zD))try{let x=new URL(window.location.href),_=d.startsWith("//")?new URL(x.protocol+d):new URL(d),S=fy(_.pathname,p);_.origin===x.origin&&S!=null?d=S+_.search+_.hash:v=!0}catch{}let b=bD(d,{relative:s}),m=qD(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,unstable_viewTransition:h});function y(x){r&&r(x),x.defaultPrevented||m(x)}return T.createElement("a",fg({},f,{href:g||b,onClick:v||i?r:y,ref:n,target:c}))});var Ww;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ww||(Ww={}));var Gw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gw||(Gw={}));function qD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=bS(),d=Qc(),u=wS(t,{relative:o});return T.useCallback(h=>{if(VD(h,n)){h.preventDefault();let f=r!==void 0?r:Xu(d)===Xu(u);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[d,c,u,r,s,n,t,i,o,l])}var Kw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},NS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ES(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||h==null)throw new GD;const f=i<<2|l>>4;if(r.push(f),d!==64){const p=l<<4&240|d>>2;if(r.push(p),h!==64){const g=d<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KD=function(t){const e=ES(t);return NS.encodeByteArray(e,!0)},Zu=function(t){return KD(t).replace(/\./g,"")},SS=function(t){try{return NS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=()=>YD().__FIREBASE_DEFAULTS__,XD=()=>{if(typeof process>"u"||typeof Kw>"u")return;const t=Kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SS(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return QD()||XD()||JD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TS=t=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IS=t=>{const e=TS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CS=()=>{var t;return(t=ef())===null||t===void 0?void 0:t.config},AS=t=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zu(JSON.stringify(n)),Zu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function tO(){var t;const e=(t=ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rO(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sO(){return!tO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gy(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function iO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aO,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?oO(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new lr(s,l,r)}}function oO(t,e){return t.replace(lO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lO=/\{\$([^}]+)}/g;function cO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Yw(i)&&Yw(o)){if(!Yi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dO(t,e){const n=new uO(t,e);return n.subscribe.bind(n)}class uO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wp),s.error===void 0&&(s.error=wp),s.complete===void 0&&(s.complete=wp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=1e3,pO=2,mO=4*60*60*1e3,gO=.5;function Qw(t,e=fO,n=pO){const r=e*Math.pow(n,t),s=Math.round(gO*r*(Math.random()-.5)*2);return Math.min(mO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class ar{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xO(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yO(t){return t===Ni?void 0:t}function xO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const wO={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},jO=Ne.INFO,_O={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},EO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_O[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tf{constructor(e){this.name=e,this._logLevel=jO,this._logHandler=EO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const NO=(t,e)=>e.some(n=>t instanceof n);let Xw,Jw;function SO(){return Xw||(Xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TO(){return Jw||(Jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DS=new WeakMap,pg=new WeakMap,OS=new WeakMap,jp=new WeakMap,vy=new WeakMap;function IO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Js(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DS.set(n,t)}).catch(()=>{}),vy.set(e,t),e}function CO(t){if(pg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});pg.set(t,e)}let mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AO(t){mg=t(mg)}function kO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_p(this),e,...n);return OS.set(r,e.sort?e.sort():[e]),Js(r)}:TO().includes(t)?function(...e){return t.apply(_p(this),e),Js(DS.get(this))}:function(...e){return Js(t.apply(_p(this),e))}}function PO(t){return typeof t=="function"?kO(t):(t instanceof IDBTransaction&&CO(t),NO(t,SO())?new Proxy(t,mg):t)}function Js(t){if(t instanceof IDBRequest)return IO(t);if(jp.has(t))return jp.get(t);const e=PO(t);return e!==t&&(jp.set(t,e),vy.set(e,t)),e}const _p=t=>vy.get(t);function LS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Js(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Js(o.result),c.oldVersion,c.newVersion,Js(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const RO=["get","getKey","getAll","getAllKeys","count"],DO=["put","add","delete","clear"],Ep=new Map;function Zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RO.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Ep.set(e,i),i}AO(t=>({...t,get:(e,n,r)=>Zw(e,n)||t.get(e,n,r),has:(e,n)=>!!Zw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",e0="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new tf("@firebase/app"),MO="@firebase/app-compat",VO="@firebase/analytics-compat",FO="@firebase/analytics",UO="@firebase/app-check-compat",$O="@firebase/app-check",BO="@firebase/auth",zO="@firebase/auth-compat",HO="@firebase/database",qO="@firebase/database-compat",WO="@firebase/functions",GO="@firebase/functions-compat",KO="@firebase/installations",YO="@firebase/installations-compat",QO="@firebase/messaging",XO="@firebase/messaging-compat",JO="@firebase/performance",ZO="@firebase/performance-compat",eL="@firebase/remote-config",tL="@firebase/remote-config-compat",nL="@firebase/storage",rL="@firebase/storage-compat",sL="@firebase/firestore",iL="@firebase/firestore-compat",aL="firebase",oL="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",lL={[gg]:"fire-core",[MO]:"fire-core-compat",[FO]:"fire-analytics",[VO]:"fire-analytics-compat",[$O]:"fire-app-check",[UO]:"fire-app-check-compat",[BO]:"fire-auth",[zO]:"fire-auth-compat",[HO]:"fire-rtdb",[qO]:"fire-rtdb-compat",[WO]:"fire-fn",[GO]:"fire-fn-compat",[KO]:"fire-iid",[YO]:"fire-iid-compat",[QO]:"fire-fcm",[XO]:"fire-fcm-compat",[JO]:"fire-perf",[ZO]:"fire-perf-compat",[eL]:"fire-rc",[tL]:"fire-rc-compat",[nL]:"fire-gcs",[rL]:"fire-gcs-compat",[sL]:"fire-fst",[iL]:"fire-fst-compat","fire-js":"fire-js",[aL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,yg=new Map;function cL(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){const e=t.name;if(yg.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;yg.set(e,t);for(const n of eh.values())cL(n,t);return!0}function mi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zs=new ha("app","Firebase",dL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=oL;function MS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Zs.create("bad-app-name",{appName:String(s)});if(n||(n=CS()),!n)throw Zs.create("no-options");const i=eh.get(s);if(i){if(Yi(n,i.options)&&Yi(r,i.config))return i;throw Zs.create("duplicate-app",{appName:s})}const o=new bO(s);for(const c of yg.values())o.addComponent(c);const l=new uL(n,r,o);return eh.set(s,l),l}function nf(t=vg){const e=eh.get(t);if(!e&&t===vg&&CS())return MS();if(!e)throw Zs.create("no-app",{appName:t});return e}function kn(t,e,n){var r;let s=(r=lL[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(l.join(" "));return}br(new ar(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="firebase-heartbeat-database",fL=1,jc="firebase-heartbeat-store";let Np=null;function VS(){return Np||(Np=LS(hL,fL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),Np}async function pL(t){try{const n=(await VS()).transaction(jc),r=await n.objectStore(jc).get(FS(t));return await n.done,r}catch(e){if(e instanceof lr)Qi.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(n.message)}}}async function t0(t,e){try{const r=(await VS()).transaction(jc,"readwrite");await r.objectStore(jc).put(e,FS(t)),await r.done}catch(n){if(n instanceof lr)Qi.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qi.warn(r.message)}}}function FS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=1024,gL=30*24*60*60*1e3;class vL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=n0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=gL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=n0(),{heartbeatsToSend:r,unsentEntries:s}=yL(this._heartbeatsCache.heartbeats),i=Zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function n0(){return new Date().toISOString().substring(0,10)}function yL(t,e=mL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),r0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),r0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gy()?RS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return t0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return t0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function r0(t){return Zu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){br(new ar("platform-logger",e=>new OO(e),"PRIVATE")),br(new ar("heartbeat",e=>new vL(e),"PRIVATE")),kn(gg,e0,t),kn(gg,e0,"esm2017"),kn("fire-js","")}bL("");var wL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,yy=yy||{},ue=wL||self;function rf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Jc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function jL(t){return Object.prototype.hasOwnProperty.call(t,Sp)&&t[Sp]||(t[Sp]=++_L)}var Sp="closure_uid_"+(1e9*Math.random()>>>0),_L=0;function EL(t,e,n){return t.call.apply(t.bind,arguments)}function NL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function ln(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ln=EL:ln=NL,ln.apply(null,arguments)}function Vd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function $t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[s].apply(r,o)}}function gi(){this.s=this.s,this.o=this.o}var SL=0;gi.prototype.s=!1;gi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),SL!=0)&&jL(this)};gi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const US=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function s0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(rf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};var TL=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ue.addEventListener("test",n,e),ue.removeEventListener("test",n,e)}catch{}return t}();function _c(t){return/^[\s\xa0]*$/.test(t)}function sf(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function Ir(t){return sf().indexOf(t)!=-1}function by(t){return by[" "](t),t}by[" "]=function(){};function IL(t,e){var n=bM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var CL=Ir("Opera"),yo=Ir("Trident")||Ir("MSIE"),$S=Ir("Edge"),xg=$S||yo,BS=Ir("Gecko")&&!(sf().toLowerCase().indexOf("webkit")!=-1&&!Ir("Edge"))&&!(Ir("Trident")||Ir("MSIE"))&&!Ir("Edge"),AL=sf().toLowerCase().indexOf("webkit")!=-1&&!Ir("Edge");function zS(){var t=ue.document;return t?t.documentMode:void 0}var bg;e:{var Tp="",Ip=function(){var t=sf();if(BS)return/rv:([^\);]+)(\)|;)/.exec(t);if($S)return/Edge\/([\d\.]+)/.exec(t);if(yo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(AL)return/WebKit\/(\S+)/.exec(t);if(CL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ip&&(Tp=Ip?Ip[1]:""),yo){var Cp=zS();if(Cp!=null&&Cp>parseFloat(Tp)){bg=String(Cp);break e}}bg=Tp}var wg;if(ue.document&&yo){var i0=zS();wg=i0||parseInt(bg,10)||void 0}else wg=void 0;var kL=wg;function Ec(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(BS){e:{try{by(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ec.$.h.call(this)}}$t(Ec,cn);var PL={2:"touch",3:"pen",4:"mouse"};Ec.prototype.h=function(){Ec.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zc="closure_listenable_"+(1e6*Math.random()|0),RL=0;function DL(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++RL,this.fa=this.ia=!1}function af(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function wy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function OL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function HS(t){const e={};for(const n in t)e[n]=t[n];return e}const a0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<a0.length;i++)n=a0[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function of(t){this.src=t,this.g={},this.h=0}of.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=_g(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new DL(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function jg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=US(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(af(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _g(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var jy="closure_lm_"+(1e6*Math.random()|0),Ap={};function WS(t,e,n,r,s){if(r&&r.once)return KS(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)WS(t,e[i],n,r,s);return null}return n=Ny(n),t&&t[Zc]?t.O(e,n,Jc(r)?!!r.capture:!!r,s):GS(t,e,n,!1,r,s)}function GS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Jc(s)?!!s.capture:!!s,l=Ey(t);if(l||(t[jy]=l=new of(t)),n=l.add(e,n,r,o,i),n.proxy)return n;if(r=LL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)TL||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(QS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LL(){function t(n){return e.call(t.src,t.listener,n)}const e=ML;return t}function KS(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)KS(t,e[i],n,r,s);return null}return n=Ny(n),t&&t[Zc]?t.P(e,n,Jc(r)?!!r.capture:!!r,s):GS(t,e,n,!0,r,s)}function YS(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)YS(t,e[i],n,r,s);else r=Jc(r)?!!r.capture:!!r,n=Ny(n),t&&t[Zc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=_g(i,n,r,s),-1<n&&(af(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ey(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_g(e,n,r,s)),(n=-1<t?e[t]:null)&&_y(n))}function _y(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zc])jg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ey(e))?(jg(n,t),n.h==0&&(n.src=null,e[jy]=null)):af(t)}}}function QS(t){return t in Ap?Ap[t]:Ap[t]="on"+t}function ML(t,e){if(t.fa)t=!0;else{e=new Ec(e,this);var n=t.listener,r=t.la||t.src;t.ia&&_y(t),t=n.call(r,e)}return t}function Ey(t){return t=t[jy],t instanceof of?t:null}var kp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ny(t){return typeof t=="function"?t:(t[kp]||(t[kp]=function(e){return t.handleEvent(e)}),t[kp])}function Ut(){gi.call(this),this.i=new of(this),this.S=this,this.J=null}$t(Ut,gi);Ut.prototype[Zc]=!0;Ut.prototype.removeEventListener=function(t,e,n,r){YS(this,t,e,n,r)};function Yt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var s=e;e=new cn(r,t),qS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Fd(o,r,!0,e)&&s}if(o=e.g=t,s=Fd(o,r,!0,e)&&s,s=Fd(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Fd(o,r,!1,e)&&s}Ut.prototype.N=function(){if(Ut.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)af(n[r]);delete t.g[e],t.h--}}this.J=null};Ut.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ut.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Fd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var l=o.listener,c=o.la||o.src;o.ia&&jg(t.i,o),s=l.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Sy=ue.JSON.stringify;class VL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function FL(){var t=Ty;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class UL{constructor(){this.h=this.g=null}add(e,n){const r=XS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var XS=new VL(()=>new $L,t=>t.reset());class $L{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function BL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function zL(t){ue.setTimeout(()=>{throw t},0)}let Nc,Sc=!1,Ty=new UL,JS=()=>{const t=ue.Promise.resolve(void 0);Nc=()=>{t.then(HL)}};var HL=()=>{for(var t;t=FL();){try{t.h.call(t.g)}catch(n){zL(n)}var e=XS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sc=!1};function lf(t,e){Ut.call(this),this.h=t||1,this.g=e||ue,this.j=ln(this.qb,this),this.l=Date.now()}$t(lf,Ut);J=lf.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(Iy(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Iy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){lf.$.N.call(this),Iy(this),delete this.g};function Cy(t,e,n){if(typeof t=="function")n&&(t=ln(t,n));else if(t&&typeof t.handleEvent=="function")t=ln(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function ZS(t){t.g=Cy(()=>{t.g=null,t.i&&(t.i=!1,ZS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class qL extends gi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZS(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tc(t){gi.call(this),this.h=t,this.g={}}$t(Tc,gi);var o0=[];function e1(t,e,n,r){Array.isArray(n)||(n&&(o0[0]=n.toString()),n=o0);for(var s=0;s<n.length;s++){var i=WS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function t1(t){wy(t.g,function(e,n){this.g.hasOwnProperty(n)&&_y(e)},t),t.g={}}Tc.prototype.N=function(){Tc.$.N.call(this),t1(this)};Tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cf(){this.g=!0}cf.prototype.Ea=function(){this.g=!1};function WL(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",l=i.split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(1<d.length){var u=d[0];d=d[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+d+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function GL(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ha(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+YL(t,n)+(r?" "+r:"")})}function KL(t,e){t.info(function(){return"TIMEOUT: "+e})}cf.prototype.info=function(){};function YL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Sy(n)}catch{return e}}var pa={},l0=null;function df(){return l0=l0||new Ut}pa.Ta="serverreachability";function n1(t){cn.call(this,pa.Ta,t)}$t(n1,cn);function Ic(t){const e=df();Yt(e,new n1(e))}pa.STAT_EVENT="statevent";function r1(t,e){cn.call(this,pa.STAT_EVENT,t),this.stat=e}$t(r1,cn);function mn(t){const e=df();Yt(e,new r1(e,t))}pa.Ua="timingevent";function s1(t,e){cn.call(this,pa.Ua,t),this.size=e}$t(s1,cn);function ed(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}var uf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ay(){}Ay.prototype.h=null;function c0(t){return t.h||(t.h=t.i())}function a1(){}var td={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ky(){cn.call(this,"d")}$t(ky,cn);function Py(){cn.call(this,"c")}$t(Py,cn);var Eg;function hf(){}$t(hf,Ay);hf.prototype.g=function(){return new XMLHttpRequest};hf.prototype.i=function(){return{}};Eg=new hf;function nd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Tc(this),this.P=QL,t=xg?125:void 0,this.V=new lf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new o1}function o1(){this.i=null,this.g="",this.h=!1}var QL=45e3,l1={},Ng={};J=nd.prototype;J.setTimeout=function(t){this.P=t};function Sg(t,e,n){t.L=1,t.A=pf(ms(e)),t.u=n,t.S=!0,c1(t,null)}function c1(t,e){t.G=Date.now(),rd(t),t.B=ms(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),v1(n.i,"t",r),t.o=0,n=t.l.J,t.h=new o1,t.g=V1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new qL(ln(t.Pa,t,t.g),t.O)),e1(t.U,t.g,"readystatechange",t.nb),e=t.I?HS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ic(),WL(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&Cr(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const u=Cr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||xg||this.g&&(this.h.h||this.g.ja()||f0(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ic(3):Ic(2)),ff(this);var n=this.g.da();this.ca=n;t:if(d1(this)){var r=f0(this.g);t="";var s=r.length,i=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),ql(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,GL(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_c(l)){var d=l;break t}}d=null}if(n=d)Ha(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tg(this,n);else{this.i=!1,this.s=3,mn(12),Pi(this),ql(this);break e}}this.S?(u1(this,u,o),xg&&this.i&&u==3&&(e1(this.U,this.V,"tick",this.mb),this.V.start())):(Ha(this.j,this.m,o,null),Tg(this,o)),u==4&&Pi(this),this.i&&!this.J&&(u==4?D1(this.l,this):(this.i=!1,rd(this)))}else vM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),Pi(this),ql(this)}}}catch{}finally{}};function d1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function u1(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=XL(t,n),s==Ng){e==4&&(t.s=4,mn(14),r=!1),Ha(t.j,t.m,null,"[Incomplete Response]");break}else if(s==l1){t.s=4,mn(15),Ha(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ha(t.j,t.m,s,null),Tg(t,s);d1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vy(e),e.M=!0,mn(11))):(Ha(t.j,t.m,n,"[Invalid Chunked Response]"),Pi(t),ql(t))}J.mb=function(){if(this.g){var t=Cr(this.g),e=this.g.ja();this.o<e.length&&(ff(this),u1(this,t,e),this.i&&t!=4&&rd(this))}};function XL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ng:(n=Number(e.substring(n,r)),isNaN(n)?l1:(r+=1,r+n>e.length?Ng:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,Pi(this)};function rd(t){t.Y=Date.now()+t.P,h1(t,t.P)}function h1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ed(ln(t.lb,t),e)}function ff(t){t.C&&(ue.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(KL(this.j,this.B),this.L!=2&&(Ic(),mn(17)),Pi(this),this.s=2,ql(this)):h1(this,this.Y-t)};function ql(t){t.l.H==0||t.J||D1(t.l,t)}function Pi(t){ff(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Iy(t.V),t1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Tg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ig(n.i,t))){if(!t.K&&Ig(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rh(n),yf(n);else break e;My(n),mn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=ed(ln(n.ib,n),6e3));if(1>=b1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ri(n,11)}else if((t.K||n.g==t)&&rh(n),!_c(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let d=s[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const u=d[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=d[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=d[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Ry(i,i.h),i.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Je(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=M1(r,r.J?r.pa:null,r.Y),o.K){w1(r.i,o);var l=o,c=r.L;c&&l.setTimeout(c),l.C&&(ff(l),rd(l)),r.g=o}else P1(r);0<n.j.length&&xf(n)}else d[0]!="stop"&&d[0]!="close"||Ri(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Ri(n,7):Ly(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}Ic(4)}catch{}}function JL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(rf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ZL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(rf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function f1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(rf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZL(t),r=JL(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var p1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ui(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ui){this.h=t.h,th(this,t.j),this.s=t.s,this.g=t.g,nh(this,t.m),this.l=t.l;var e=t.i,n=new Cc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),d0(this,n),this.o=t.o}else t&&(e=String(t).match(p1))?(this.h=!1,th(this,e[1]||"",!0),this.s=Al(e[2]||""),this.g=Al(e[3]||"",!0),nh(this,e[4]),this.l=Al(e[5]||"",!0),d0(this,e[6]||"",!0),this.o=Al(e[7]||"")):(this.h=!1,this.i=new Cc(null,this.h))}Ui.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kl(e,u0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(kl(e,u0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(kl(n,n.charAt(0)=="/"?rM:nM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",kl(n,iM)),t.join("")};function ms(t){return new Ui(t)}function th(t,e,n){t.j=n?Al(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function d0(t,e,n){e instanceof Cc?(t.i=e,aM(t.i,t.h)):(n||(e=kl(e,sM)),t.i=new Cc(e,t.h))}function Je(t,e,n){t.i.set(e,n)}function pf(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Al(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,tM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var u0=/[#\/\?@]/g,nM=/[#\?:]/g,rM=/[#\?]/g,sM=/[#\?@]/g,iM=/#/g;function Cc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function vi(t){t.g||(t.g=new Map,t.h=0,t.i&&eM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=Cc.prototype;J.add=function(t,e){vi(this),this.i=null,t=Do(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function m1(t,e){vi(t),e=Do(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function g1(t,e){return vi(t),e=Do(t,e),t.g.has(e)}J.forEach=function(t,e){vi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};J.ta=function(){vi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};J.Z=function(t){vi(this);let e=[];if(typeof t=="string")g1(this,t)&&(e=e.concat(this.g.get(Do(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return vi(this),this.i=null,t=Do(this,t),g1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function v1(t,e,n){m1(t,e),0<n.length&&(t.i=null,t.g.set(Do(t,e),xy(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Do(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aM(t,e){e&&!t.j&&(vi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(m1(this,r),v1(this,s,n))},t)),t.j=e}var oM=class{constructor(t,e){this.g=t,this.map=e}};function y1(t){this.l=t||lM,ue.PerformanceNavigationTiming?(t=ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lM=10;function x1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function b1(t){return t.h?1:t.g?t.g.size:0}function Ig(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ry(t,e){t.g?t.g.add(e):t.h=e}function w1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}y1.prototype.cancel=function(){if(this.i=j1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function j1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return xy(t.i)}var cM=class{stringify(t){return ue.JSON.stringify(t,void 0)}parse(t){return ue.JSON.parse(t,void 0)}};function dM(){this.g=new cM}function uM(t,e,n){const r=n||"";try{f1(t,function(s,i){let o=s;Jc(s)&&(o=Sy(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function hM(t,e){const n=new cf;if(ue.Image){const r=new Image;r.onload=Vd(Ud,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vd(Ud,n,r,"TestLoadImage: error",!1,e),r.onabort=Vd(Ud,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vd(Ud,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ud(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function mf(t){this.l=t.ec||null,this.j=t.ob||!1}$t(mf,Ay);mf.prototype.g=function(){return new gf(this.l,this.j)};mf.prototype.i=function(t){return function(){return t}}({});function gf(t,e){Ut.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$t(gf,Ut);var Dy=0;J=gf.prototype;J.open=function(t,e){if(this.readyState!=Dy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ac(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sd(this)),this.readyState=Dy};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ac(this)),this.g&&(this.readyState=3,Ac(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sd(this):Ac(this),this.readyState==3&&_1(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,sd(this))};J.Ya=function(t){this.g&&(this.response=t,sd(this))};J.ka=function(){this.g&&sd(this)};function sd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ac(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ac(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fM=ue.JSON.parse;function yt(t){Ut.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E1,this.L=this.M=!1}$t(yt,Ut);var E1="",pM=/^https?$/i,mM=["POST","PUT"];J=yt.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Eg.g(),this.C=this.u?c0(this.u):c0(Eg),this.g.onreadystatechange=ln(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){h0(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ue.FormData&&t instanceof ue.FormData,!(0<=US(mM,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{T1(this),0<this.B&&((this.L=gM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ln(this.ua,this)):this.A=Cy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){h0(this,i)}};function gM(t){return yo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof yy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))};function h0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,N1(t),vf(t)}function N1(t){t.F||(t.F=!0,Yt(t,"complete"),Yt(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yt(this,"complete"),Yt(this,"abort"),vf(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vf(this,!0)),yt.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?S1(this):this.kb())};J.kb=function(){S1(this)};function S1(t){if(t.h&&typeof yy<"u"&&(!t.C[1]||Cr(t)!=4||t.da()!=2)){if(t.v&&Cr(t)==4)Cy(t.La,0,t);else if(Yt(t,"readystatechange"),Cr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(p1)[1]||null;!s&&ue.self&&ue.self.location&&(s=ue.self.location.protocol.slice(0,-1)),r=!pM.test(s?s.toLowerCase():"")}n=r}if(n)Yt(t,"complete"),Yt(t,"success");else{t.m=6;try{var i=2<Cr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",N1(t)}}finally{vf(t)}}}}function vf(t,e){if(t.g){T1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Yt(t,"ready");try{n.onreadystatechange=r}catch{}}}function T1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function Cr(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fM(e)}};function f0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case E1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vM(t){const e={};t=(t.g&&2<=Cr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(_c(t[r]))continue;var n=BL(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}OL(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function I1(t){let e="";return wy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Oy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=I1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Je(t,e,n))}function fl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function C1(t){this.Ga=0,this.j=[],this.l=new cf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fl("baseRetryDelayMs",5e3,t),this.hb=fl("retryDelaySeedMs",1e4,t),this.eb=fl("forwardChannelMaxRetries",2,t),this.xa=fl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new y1(t&&t.concurrentRequestLimit),this.Ja=new dM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=C1.prototype;J.ra=8;J.H=1;function Ly(t){if(A1(t),t.H==3){var e=t.W++,n=ms(t.I);if(Je(n,"SID",t.K),Je(n,"RID",e),Je(n,"TYPE","terminate"),id(t,n),e=new nd(t,t.l,e),e.L=2,e.A=pf(ms(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon)try{n=ue.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ue.Image&&(new Image().src=e.A,n=!0),n||(e.g=V1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),rd(e)}L1(t)}function yf(t){t.g&&(Vy(t),t.g.cancel(),t.g=null)}function A1(t){yf(t),t.u&&(ue.clearTimeout(t.u),t.u=null),rh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ue.clearTimeout(t.m),t.m=null)}function xf(t){if(!x1(t.i)&&!t.m){t.m=!0;var e=t.Na;Nc||JS(),Sc||(Nc(),Sc=!0),Ty.add(e,t),t.C=0}}function yM(t,e){return b1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ed(ln(t.Na,t,e),O1(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new nd(this,this.l,t);let i=this.s;if(this.U&&(i?(i=HS(i),qS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=k1(this,s,e),n=ms(this.I),Je(n,"RID",t),Je(n,"CVER",22),this.F&&Je(n,"X-HTTP-Session-Id",this.F),id(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(I1(i)))+"&"+e:this.o&&Oy(n,this.o,i)),Ry(this.i,s),this.bb&&Je(n,"TYPE","init"),this.P?(Je(n,"$req",e),Je(n,"SID","null"),s.aa=!0,Sg(s,n,null)):Sg(s,n,e),this.H=2}}else this.H==3&&(t?p0(this,t):this.j.length==0||x1(this.i)||p0(this))};function p0(t,e){var n;e?n=e.m:n=t.W++;const r=ms(t.I);Je(r,"SID",t.K),Je(r,"RID",n),Je(r,"AID",t.V),id(t,r),t.o&&t.s&&Oy(r,t.o,t.s),n=new nd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=k1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ry(t.i,n),Sg(n,r,e)}function id(t,e){t.na&&wy(t.na,function(n,r){Je(e,r,n)}),t.h&&f1({},function(n,r){Je(e,r,n)})}function k1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ln(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let l=!0;for(let c=0;c<n;c++){let d=s[c].g;const u=s[c].map;if(d-=i,0>d)i=Math.max(0,s[c].g-100),l=!1;else try{uM(u,o,"req"+d+"_")}catch{r&&r(u)}}if(l){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function P1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Nc||JS(),Sc||(Nc(),Sc=!0),Ty.add(e,t),t.A=0}}function My(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ed(ln(t.Ma,t),O1(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,R1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ed(ln(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mn(10),yf(this),R1(this))};function Vy(t){t.B!=null&&(ue.clearTimeout(t.B),t.B=null)}function R1(t){t.g=new nd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ms(t.wa);Je(e,"RID","rpc"),Je(e,"SID",t.K),Je(e,"AID",t.V),Je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Je(e,"TO",t.qa),Je(e,"TYPE","xmlhttp"),id(t,e),t.o&&t.s&&Oy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=pf(ms(e)),n.u=null,n.S=!0,c1(n,t)}J.ib=function(){this.v!=null&&(this.v=null,yf(this),My(this),mn(19))};function rh(t){t.v!=null&&(ue.clearTimeout(t.v),t.v=null)}function D1(t,e){var n=null;if(t.g==e){rh(t),Vy(t),t.g=null;var r=2}else if(Ig(t.i,e))n=e.F,w1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=df(),Yt(r,new s1(r,n)),xf(t)}else P1(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&yM(t,e)||r==2&&My(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ri(t,5);break;case 4:Ri(t,10);break;case 3:Ri(t,6);break;default:Ri(t,2)}}}function O1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ri(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ln(t.pb,t);n||(n=new Ui("//www.google.com/images/cleardot.gif"),ue.location&&ue.location.protocol=="http"||th(n,"https"),pf(n)),hM(n.toString(),r)}else mn(2);t.H=0,t.h&&t.h.za(e),L1(t),A1(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mn(2)):(this.l.info("Failed to ping google.com"),mn(1))};function L1(t){if(t.H=0,t.ma=[],t.h){const e=j1(t.i);(e.length!=0||t.j.length!=0)&&(s0(t.ma,e),s0(t.ma,t.j),t.i.i.length=0,xy(t.j),t.j.length=0),t.h.ya()}}function M1(t,e,n){var r=n instanceof Ui?ms(n):new Ui(n);if(r.g!="")e&&(r.g=e+"."+r.g),nh(r,r.m);else{var s=ue.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ui(null);r&&th(i,r),e&&(i.g=e),s&&nh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Je(r,n,e),Je(r,"VER",t.ra),id(t,r),r}function V1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new yt(new mf({ob:n})):new yt(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function F1(){}J=F1.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function sh(){if(yo&&!(10<=Number(kL)))throw Error("Environmental error: no available transport.")}sh.prototype.g=function(t,e){return new Hn(t,e)};function Hn(t,e){Ut.call(this),this.g=new C1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_c(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_c(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oo(this)}$t(Hn,Ut);Hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=M1(t,null,t.Y),xf(t)};Hn.prototype.close=function(){Ly(this.g)};Hn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Sy(t),t=n);e.j.push(new oM(e.fb++,t)),e.H==3&&xf(e)};Hn.prototype.N=function(){this.g.h=null,delete this.j,Ly(this.g),delete this.g,Hn.$.N.call(this)};function U1(t){ky.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}$t(U1,ky);function $1(){Py.call(this),this.status=1}$t($1,Py);function Oo(t){this.g=t}$t(Oo,F1);Oo.prototype.Ba=function(){Yt(this.g,"a")};Oo.prototype.Aa=function(t){Yt(this.g,new U1(t))};Oo.prototype.za=function(t){Yt(this.g,new $1)};Oo.prototype.ya=function(){Yt(this.g,"b")};function xM(){this.blockSize=-1}function wr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}$t(wr,xM);wr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Pp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}wr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Pp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Pp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Pp(this,r),s=0;break}}this.h=s,this.i+=e};wr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var bM={};function Fy(t){return-128<=t&&128>t?IL(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function Ar(t){if(isNaN(t)||!isFinite(t))return Za;if(0>t)return Wt(Ar(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Cg;return new Ve(e,0)}function B1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Wt(B1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ar(Math.pow(e,8)),r=Za,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Ar(Math.pow(e,i)),r=r.R(i).add(Ar(o))):(r=r.R(n),r=r.add(Ar(o)))}return r}var Cg=4294967296,Za=Fy(0),Ag=Fy(1),m0=Fy(16777216);J=Ve.prototype;J.ea=function(){if(er(this))return-Wt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Cg+r)*e,e*=Cg}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(is(this))return"0";if(er(this))return"-"+Wt(this).toString(t);for(var e=Ar(Math.pow(t,6)),n=this,r="";;){var s=ah(n,e).g;n=ih(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,is(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function is(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function er(t){return t.h==-1}J.X=function(t){return t=ih(this,t),er(t)?-1:is(t)?0:1};function Wt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(Ag)}J.abs=function(){return er(this)?Wt(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function ih(t,e){return t.add(Wt(e))}J.R=function(t){if(is(this)||is(t))return Za;if(er(this))return er(t)?Wt(this).R(Wt(t)):Wt(Wt(this).R(t));if(er(t))return Wt(this.R(Wt(t)));if(0>this.X(m0)&&0>t.X(m0))return Ar(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,l=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,$d(n,2*r+2*s),n[2*r+2*s+1]+=i*c,$d(n,2*r+2*s+1),n[2*r+2*s+1]+=o*l,$d(n,2*r+2*s+1),n[2*r+2*s+2]+=i*l,$d(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function $d(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function pl(t,e){this.g=t,this.h=e}function ah(t,e){if(is(e))throw Error("division by zero");if(is(t))return new pl(Za,Za);if(er(t))return e=ah(Wt(t),e),new pl(Wt(e.g),Wt(e.h));if(er(e))return e=ah(t,Wt(e)),new pl(Wt(e.g),e.h);if(30<t.g.length){if(er(t)||er(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ag,r=e;0>=r.X(t);)n=g0(n),r=g0(r);var s=Ea(n,1),i=Ea(r,1);for(r=Ea(r,2),n=Ea(n,2);!is(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Ea(r,1),n=Ea(n,1)}return e=ih(t,s.R(e)),new pl(s,e)}for(s=Za;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ar(n),o=i.R(e);er(o)||0<o.X(t);)n-=r,i=Ar(n),o=i.R(e);is(i)&&(i=Ag),s=s.add(i),t=ih(t,o)}return new pl(s,t)}J.gb=function(t){return ah(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function g0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function Ea(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ve(s,t.h)}sh.prototype.createWebChannel=sh.prototype.g;Hn.prototype.send=Hn.prototype.u;Hn.prototype.open=Hn.prototype.m;Hn.prototype.close=Hn.prototype.close;uf.NO_ERROR=0;uf.TIMEOUT=8;uf.HTTP_ERROR=6;i1.COMPLETE="complete";a1.EventType=td;td.OPEN="a";td.CLOSE="b";td.ERROR="c";td.MESSAGE="d";Ut.prototype.listen=Ut.prototype.O;yt.prototype.listenOnce=yt.prototype.P;yt.prototype.getLastError=yt.prototype.Sa;yt.prototype.getLastErrorCode=yt.prototype.Ia;yt.prototype.getStatus=yt.prototype.da;yt.prototype.getResponseJson=yt.prototype.Wa;yt.prototype.getResponseText=yt.prototype.ja;yt.prototype.send=yt.prototype.ha;yt.prototype.setWithCredentials=yt.prototype.Oa;wr.prototype.digest=wr.prototype.l;wr.prototype.reset=wr.prototype.reset;wr.prototype.update=wr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=Ar;Ve.fromString=B1;var wM=function(){return new sh},jM=function(){return df()},Rp=uf,_M=i1,EM=pa,v0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bd=a1,NM=yt,SM=wr,eo=Ve;const y0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new tf("@firebase/firestore");function ml(){return Xi.logLevel}function Q(t,...e){if(Xi.logLevel<=Ne.DEBUG){const n=e.map(Uy);Xi.debug(`Firestore (${Lo}): ${t}`,...n)}}function Br(t,...e){if(Xi.logLevel<=Ne.ERROR){const n=e.map(Uy);Xi.error(`Firestore (${Lo}): ${t}`,...n)}}function xo(t,...e){if(Xi.logLevel<=Ne.WARN){const n=e.map(Uy);Xi.warn(`Firestore (${Lo}): ${t}`,...n)}}function Uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+t;throw Br(e),new Error(e)}function Ge(t,e){t||de()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class IM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CM{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Or,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new z1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new rn(e)}}class AM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new PM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=DM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function bo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new Pt(0,0))}static max(){return new he(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends kc{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const OM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends kc{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return OM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Ze.fromString(e))}static fromName(e){return new ae(Ze.fromString(e).popFirst(5))}static empty(){return new ae(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Ze(e.slice()))}}function LM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new ii(s,ae.empty(),e)}function MM(t){return new ii(t.readTime,t.key,-1)}class ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ii(he.min(),ae.empty(),-1)}static max(){return new ii(he.max(),ae.empty(),-1)}}function VM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==FM)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(u=>{o[d]=u,++l,l===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Or,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Wl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=By(r.target.error);this.V.reject(new Wl(e,s))}}static open(e,n,r,s){try{return new $y(n,e.transaction(s,r))}catch(i){throw new Wl(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new BM(n)}}class Di{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Di.S(Tt())===12.2&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),Ti(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!gy())return!1;if(Di.C())return!0;const e=Tt(),n=Di.S(e),r=0<n&&n<10,s=Di.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Wl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new te(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new te(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Wl(e,o))},s.onupgradeneeded=i=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const l=$y.open(this.db,e,i?"readonly":"readwrite",r),c=s(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),q.reject(d))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class $M{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ti(this.k.delete())}}class Wl extends te{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function od(t){return t.name==="IndexedDbTransactionError"}class BM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ti(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),Ti(this.store.add(e))}get(e){return Ti(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),Ti(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),Ti(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new q((o,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(l,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new q((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,l)=>l.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new q((r,s)=>{n.onerror=i=>{const o=By(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():r()}):r()}})}G(e,n){const r=[];return new q((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new $M(l),d=n(l.primaryKey,l.value,c);if(d instanceof q){const u=d.catch(h=>(c.done(),q.reject(h)));r.push(u)}c.isDone?s():c.$===null?l.continue():l.continue(c.$)}}).next(()=>q.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ti(t){return new q((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=By(r.target.error);n(s)}})}let x0=!1;function By(t){const e=Di.S(Tt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return x0||(x0=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}zy._e=-1;function bf(t){return t==null}function oh(t){return t===0&&1/t==-1/0}function zM(t){return typeof t=="number"&&Number.isInteger(t)&&!oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qt.RED,this.left=s??qt.EMPTY,this.right=i??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,s,i){return this}insert(e,n,r){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Qt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new W1("Invalid base64 string: "+i):i}}(e);return new un(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const HM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=HM.exec(t);if(Ge(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qy(t){const e=t.mapValue.fields.__previous_value__;return Hy(e)?qy(e):e}function Pc(t){const e=ai(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,r,s,i,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class Rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hy(t)?4:WM(t)?9007199254740991:10:de()}function zr(t,e){if(t===e)return!0;const n=Zi(t);if(n!==Zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ai(s.timestampValue),l=ai(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ji(s.bytesValue).isEqual(Ji(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return jt(s.geoPointValue.latitude)===jt(i.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return jt(s.integerValue)===jt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=jt(s.doubleValue),l=jt(i.doubleValue);return o===l?oh(o)===oh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return bo(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(b0(o)!==b0(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!zr(o[c],l[c])))return!1;return!0}(t,e);default:return de()}}function Dc(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function wo(t,e){if(t===e)return 0;const n=Zi(t),r=Zi(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=jt(i.integerValue||i.doubleValue),c=jt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return j0(t.timestampValue,e.timestampValue);case 4:return j0(Pc(t),Pc(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Ji(i),c=Ji(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=Re(l[d],c[d]);if(u!==0)return u}return Re(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Re(jt(i.latitude),jt(o.latitude));return l!==0?l:Re(jt(i.longitude),jt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],c=o.values||[];for(let d=0;d<l.length&&d<c.length;++d){const u=wo(l[d],c[d]);if(u)return u}return Re(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Hd.mapValue&&o===Hd.mapValue)return 0;if(i===Hd.mapValue)return 1;if(o===Hd.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=Re(c[h],u[h]);if(f!==0)return f;const p=wo(l[c[h]],d[u[h]]);if(p!==0)return p}return Re(c.length,u.length)}(t.mapValue,e.mapValue);default:throw de()}}function j0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=ai(t),r=ai(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function jo(t){return kg(t)}function kg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ai(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=kg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${kg(n.fields[o])}`;return s+"}"}(t.mapValue):de()}function _0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pg(t){return!!t&&"integerValue"in t}function Wy(t){return!!t&&"arrayValue"in t}function E0(t){return!!t&&"nullValue"in t}function N0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fu(t){return!!t&&"mapValue"in t}function Gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=Gt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Gl(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];fu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ma(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Sn(Gl(this.value))}}function G1(t){const e=[];return ma(t.fields,(n,r)=>{const s=new Gt([n]);if(fu(r)){const i=G1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new an(e,0,he.min(),he.min(),he.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,s){return new an(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new an(e,2,n,he.min(),he.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,he.min(),he.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function S0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=wo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function GM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{}class Et extends K1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YM(e,n,r):n==="array-contains"?new JM(e,r):n==="in"?new ZM(e,r):n==="not-in"?new e2(e,r):n==="array-contains-any"?new t2(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QM(e,r):new XM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wo(n,this.value)):n!==null&&Zi(this.value)===Zi(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends K1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new jr(e,n)}matches(e){return Y1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Y1(t){return t.op==="and"}function Q1(t){return KM(t)&&Y1(t)}function KM(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function Rg(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(Q1(t))return t.filters.map(e=>Rg(e)).join(",");{const e=t.filters.map(n=>Rg(n)).join(",");return`${t.op}(${e})`}}function X1(t,e){return t instanceof Et?function(r,s){return s instanceof Et&&r.op===s.op&&r.field.isEqual(s.field)&&zr(r.value,s.value)}(t,e):t instanceof jr?function(r,s){return s instanceof jr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&X1(o,s.filters[l]),!0):!1}(t,e):void de()}function J1(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(J1).join(" ,")+"}"}(t):"Filter"}class YM extends Et{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class QM extends Et{constructor(e,n){super(e,"in",n),this.keys=Z1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XM extends Et{constructor(e,n){super(e,"not-in",n),this.keys=Z1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class JM extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wy(n)&&Dc(n.arrayValue,this.value)}}class ZM extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dc(this.value.arrayValue,n)}}class e2 extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dc(this.value.arrayValue,n)}}class t2 extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ce=null}}function I0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new n2(t,e,n,r,s,i,o)}function Gy(t){const e=me(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.ce=n}return e.ce}function Ky(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T0(t.startAt,e.startAt)&&T0(t.endAt,e.endAt)}function Dg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function r2(t,e,n,r,s,i,o,l){return new ld(t,e,n,r,s,i,o,l)}function Yy(t){return new ld(t)}function C0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eT(t){return t.collectionGroup!==null}function Kl(t){const e=me(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Qt(Gt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new ch(i,r))}),n.has(Gt.keyField().canonicalString())||e.le.push(new ch(Gt.keyField(),r))}return e.le}function Lr(t){const e=me(t);return e.he||(e.he=s2(e,Kl(t))),e.he}function s2(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ch(s.field,i)});const n=t.endAt?new lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lh(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Og(t,e){const n=t.filters.concat([e]);return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dh(t,e,n){return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wf(t,e){return Ky(Lr(t),Lr(e))&&t.limitType===e.limitType}function tT(t){return`${Gy(Lr(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>J1(s)).join(", ")}]`),bf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>jo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>jo(s)).join(",")),`Target(${r})`}(Lr(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Kl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=S0(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Kl(r),s)||r.endAt&&!function(o,l,c){const d=S0(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Kl(r),s))}(t,e)}function i2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nT(t){return(e,n)=>{let r=!1;for(const s of Kl(t)){const i=a2(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function a2(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?wo(c,d):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new mt(ae.comparator);function gs(){return o2}const rT=new mt(ae.comparator);function Pl(...t){let e=rT;for(const n of t)e=e.insert(n.key,n);return e}function sT(t){let e=rT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return Yl()}function iT(){return Yl()}function Yl(){return new Mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const l2=new mt(ae.comparator),c2=new Qt(ae.comparator);function je(...t){let e=c2;for(const n of t)e=e.add(n);return e}const d2=new Qt(Re);function u2(){return d2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function oT(t){return{integerValue:""+t}}function h2(t,e){return zM(e)?oT(e):aT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function f2(t,e,n){return t instanceof Oc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Hy(i)&&(i=qy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof _o?cT(t,e):t instanceof Eo?dT(t,e):function(s,i){const o=lT(s,i),l=A0(o)+A0(s.Ie);return Pg(o)&&Pg(s.Ie)?oT(l):aT(s.serializer,l)}(t,e)}function p2(t,e,n){return t instanceof _o?cT(t,e):t instanceof Eo?dT(t,e):n}function lT(t,e){return t instanceof uh?function(r){return Pg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Oc extends _f{}class _o extends _f{constructor(e){super(),this.elements=e}}function cT(t,e){const n=uT(e);for(const r of t.elements)n.some(s=>zr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Eo extends _f{constructor(e){super(),this.elements=e}}function dT(t,e){let n=uT(e);for(const r of t.elements)n=n.filter(s=>!zr(s,r));return{arrayValue:{values:n}}}class uh extends _f{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function A0(t){return jt(t.integerValue||t.doubleValue)}function uT(t){return Wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.field=e,this.transform=n}}function m2(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _o&&s instanceof _o||r instanceof Eo&&s instanceof Eo?bo(r.elements,s.elements,zr):r instanceof uh&&s instanceof uh?zr(r.Ie,s.Ie):r instanceof Oc&&s instanceof Oc}(t.transform,e.transform)}class g2{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ef{}function hT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xy(t.key,rr.none()):new cd(t.key,t.data,rr.none());{const n=t.data,r=Sn.empty();let s=new Qt(Gt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new yi(t.key,r,new Vn(s.toArray()),rr.none())}}function v2(t,e,n){t instanceof cd?function(s,i,o){const l=s.value.clone(),c=P0(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof yi?function(s,i,o){if(!pu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=P0(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(fT(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ql(t,e,n,r){return t instanceof cd?function(i,o,l,c){if(!pu(i.precondition,o))return l;const d=i.value.clone(),u=R0(i.fieldTransforms,c,o);return d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof yi?function(i,o,l,c){if(!pu(i.precondition,o))return l;const d=R0(i.fieldTransforms,c,o),u=o.data;return u.setAll(fT(i)),u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return pu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function y2(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=lT(r.transform,s||null);i!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,i))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&bo(r,s,(i,o)=>m2(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cd extends Ef{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class yi extends Ef{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P0(t,e,n){const r=new Map;Ge(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,p2(o,l,n[s]))}return r}function R0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,f2(i,o,e))}return r}class Xy extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x2 extends Ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&v2(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=hT(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,r)=>k0(n,r))&&bo(this.baseMutations,e.baseMutations,(n,r)=>k0(n,r))}}class Jy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ge(e.mutations.length===r.length);let s=function(){return l2}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Jy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Se;function _2(t){switch(t){default:return de();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function pT(t){if(t===void 0)return Br("GRPC error has no .code"),B.UNKNOWN;switch(t){case wt.OK:return B.OK;case wt.CANCELLED:return B.CANCELLED;case wt.UNKNOWN:return B.UNKNOWN;case wt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case wt.INTERNAL:return B.INTERNAL;case wt.UNAVAILABLE:return B.UNAVAILABLE;case wt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case wt.NOT_FOUND:return B.NOT_FOUND;case wt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case wt.ABORTED:return B.ABORTED;case wt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case wt.DATA_LOSS:return B.DATA_LOSS;default:return de()}}(Se=wt||(wt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new eo([4294967295,4294967295],0);function D0(t){const e=E2().encode(t),n=new SM;return n.update(e),new Uint8Array(n.digest())}function O0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new eo([n,r],0),new eo([s,i],0)]}class Zy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=eo.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(eo.fromNumber(r)));return s.compare(N2)===1&&(s=new eo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=D0(e),[r,s]=O0(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Zy(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=D0(e),[r,s]=O0(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nf(he.min(),s,new mt(Re),gs(),je())}}class dd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dd(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class mT{constructor(e,n){this.targetId=e,this.fe=n}}class gT{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class L0{constructor(){this.ge=0,this.pe=V0(),this.ye=un.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=je(),n=je(),r=je();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de()}}),new dd(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=V0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ge(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class S2{constructor(e){this.Le=e,this.ke=new Map,this.qe=gs(),this.Qe=M0(),this.Ke=new mt(Re)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Dg(i))if(r===0){const o=new ae(i.path);this.We(n,o,an.newNoDocument(o,he.min()))}else Ge(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),c=l?this.et(l,e,o):1;if(c!==0){this.He(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Ji(r).toUint8Array()}catch(c){if(c instanceof W1)return xo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Zy(o,s,i)}catch(c){return xo(c instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Te===0?null:l}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const l=this.Ye(o);if(l){if(i.current&&Dg(l.target)){const c=new ae(l.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,an.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=je();this.Qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Ye(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Nf(e,n,this.Ke,this.qe,r);return this.qe=gs(),this.Qe=M0(),this.Ke=new mt(Re),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new L0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Qt(Re),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new L0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function M0(){return new mt(ae.comparator)}function V0(){return new mt(ae.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},I2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2={and:"AND",or:"OR"};class A2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lg(t,e){return t.useProto3Json||bf(e)?e:{value:e}}function hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k2(t,e){return hh(t,e.toTimestamp())}function Mr(t){return Ge(!!t),he.fromTimestamp(function(n){const r=ai(n);return new Pt(r.seconds,r.nanos)}(t))}function ex(t,e){return Mg(t,e).canonicalString()}function Mg(t,e){const n=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yT(t){const e=Ze.fromString(t);return Ge(_T(e)),e}function Vg(t,e){return ex(t.databaseId,e.path)}function Dp(t,e){const n=yT(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(bT(n))}function xT(t,e){return ex(t.databaseId,e)}function P2(t){const e=yT(t);return e.length===4?Ze.emptyPath():bT(e)}function Fg(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bT(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function F0(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function R2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,u){return d.useProto3Json?(Ge(u===void 0||typeof u=="string"),un.fromBase64String(u||"")):(Ge(u===void 0||u instanceof Uint8Array),un.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const u=d.code===void 0?B.UNKNOWN:pT(d.code);return new te(u,d.message||"")}(o);n=new gT(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dp(t,r.document.name),i=Mr(r.document.updateTime),o=r.document.createTime?Mr(r.document.createTime):he.min(),l=new Sn({mapValue:{fields:r.document.fields}}),c=an.newFoundDocument(s,i,o,l),d=r.targetIds||[],u=r.removedTargetIds||[];n=new mu(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Dp(t,r.document),i=r.readTime?Mr(r.readTime):he.min(),o=an.newNoDocument(s,i),l=r.removedTargetIds||[];n=new mu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Dp(t,r.document),i=r.removedTargetIds||[];n=new mu([],i,s,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new j2(s,i),l=r.targetId;n=new mT(l,o)}}return n}function D2(t,e){let n;if(e instanceof cd)n={update:F0(t,e.key,e.value)};else if(e instanceof Xy)n={delete:Vg(t,e.key)};else if(e instanceof yi)n={update:F0(t,e.key,e.data),updateMask:z2(e.fieldMask)};else{if(!(e instanceof x2))return de();n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _o)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Eo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof uh)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:k2(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function O2(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Mr(s.updateTime):Mr(i);return o.isEqual(he.min())&&(o=Mr(i)),new g2(o,s.transformResults||[])}(n,e))):[]}function L2(t,e){return{documents:[xT(t,e.path)]}}function M2(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xT(t,s);const i=function(d){if(d.length!==0)return jT(jr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(u=>function(f){return{field:Aa(f.field),direction:U2(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Lg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ut:n,parent:s}}function V2(t){let e=P2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ge(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=wT(h);return f instanceof jr&&Q1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new ch(ka(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,bf(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new lh(p,f)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const f=!h.before,p=h.values||[];return new lh(p,f)}(n.endAt)),r2(e,s,o,i,l,"F",c,d)}function F2(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ka(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ka(n.unaryFilter.field);return Et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ka(n.unaryFilter.field);return Et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ka(n.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(ka(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>wT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function U2(t){return T2[t]}function $2(t){return I2[t]}function B2(t){return C2[t]}function Aa(t){return{fieldPath:t.canonicalString()}}function ka(t){return Gt.fromServerFormat(t.fieldPath)}function jT(t){return t instanceof Et?function(n){if(n.op==="=="){if(N0(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NAN"}};if(E0(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N0(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NAN"}};if(E0(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(n.field),op:$2(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(s=>jT(s));return r.length===1?r[0]:{compositeFilter:{op:B2(n.op),filters:r}}}(t):de()}function z2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _T(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,s,i=he.min(),o=he.min(),l=un.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.ct=e}}function q2(t){const e=V2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this._n=new G2}addToCollectionParentIndex(e,n){return this._n.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ii.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class G2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qt(Ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new No(0)}static Bn(){return new No(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.changes=new Mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ql(r.mutation,s,Vn.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const s=Oi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Pl();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=gs();const o=Yl(),l=function(){return Yl()}();return n.forEach((c,d)=>{const u=r.get(d.key);s.has(d.key)&&(u===void 0||u.mutation instanceof yi)?i=i.insert(d.key,d):u!==void 0?(o.set(d.key,u.mutation.getFieldMask()),Ql(u.mutation,d,u.mutation.getFieldMask(),Pt.now())):o.set(d.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,u)=>o.set(d,u)),n.forEach((d,u)=>{var h;return l.set(d,new Y2(u,(h=o.get(d))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Yl();let s=new mt((o,l)=>o-l),i=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let u=r.get(c)||Vn.empty();u=l.applyToLocalView(d,u),r.set(c,u);const h=(s.get(l.batchId)||je()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,h=iT();u.forEach(f=>{if(!i.has(f)){const p=hT(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(Oi());let l=-1,c=i;return o.next(d=>q.forEach(d,(u,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(u)?q.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,je())).next(u=>({batchId:l,changes:sT(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=Pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Pl();return this.indexManager.getCollectionParents(e,i).next(l=>q.forEach(l,c=>{const d=function(h,f){return new ld(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const u=d.getKey();o.get(u)===null&&(o=o.insert(u,an.newInvalidDocument(u)))});let l=Pl();return o.forEach((c,d)=>{const u=i.get(c);u!==void 0&&Ql(u.mutation,d,Vn.empty(),Pt.now()),jf(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:q2(s.bundledQuery),readTime:Mr(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.overlays=new mt(ae.comparator),this.hr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oi();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=Oi(),i=n.length+1,o=new ae(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new mt((d,u)=>d-u);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let u=i.get(d.largestBatchId);u===null&&(u=Oi(),i=i.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=Oi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>l.set(d,u)),!(l.size()>=s)););return q.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new w2(n,r));let i=this.hr.get(n);i===void 0&&(i=je(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.Pr=new Qt(Lt.Ir),this.Tr=new Qt(Lt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Lt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new Ze([])),r=new Lt(n,e),s=new Lt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new Ze([])),r=new Lt(n,e),s=new Lt(n,e+1);let i=je();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Lt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qt(Lt.Ir)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b2(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.wr=this.wr.add(new Lt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),s=new Lt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const l=this.Sr(o.pr);i.push(l)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qt(Re);return n.forEach(s=>{const i=new Lt(s,0),o=new Lt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],l=>{r=r.add(l.pr)})}),q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Lt(new ae(i),0);let l=new Qt(Re);return this.wr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.pr)),!0)},o),q.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ge(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return q.forEach(n.mutations,s=>{const i=new Lt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Lt(n,0),s=this.wr.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.vr=e,this.docs=function(){return new mt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():an.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gs();const o=n.path,l=new ae(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||VM(MM(u),r)<=0||(s.has(u.key)||jf(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de()}Fr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tV(this)}getSize(e){return q.resolve(this.size)}}class tV extends K2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.persistence=e,this.Mr=new Mo(n=>Gy(n),Ky),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tx,this.targetCount=0,this.Br=No.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new No(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.qn(n),q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.Lr={},this.overlays={},this.kr=new zy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new nV(this),this.indexManager=new W2,this.remoteDocumentCache=function(s){return new eV(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new H2(n),this.$r=new X2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Z2(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new sV(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return q.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class sV extends UM{constructor(e){super(),this.currentSequenceNumber=e}}class nx{constructor(e){this.persistence=e,this.zr=new tx,this.jr=null}static Hr(e){return new nx(e)}get Jr(){if(this.jr)return this.jr;throw de()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,r=>{const s=ae.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=je(),s=je();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new rx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return sO()?8:Di.v(Tt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new iV;return this.Ji(e,n,o).next(l=>{if(i.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(ml()<=Ne.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(ml()<=Ne.DEBUG&&Q("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(ml()<=Ne.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):q.resolve())}ji(e,n){if(C0(n))return q.resolve(null);let r=Lr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=dh(n,null,"F"),r=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=je(...i);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Zi(n,l);return this.Xi(n,d,o,c.readTime)?this.ji(e,dh(n,null,"F")):this.es(e,d,n,c)}))})))}Hi(e,n,r,s){return C0(n)||s.isEqual(he.min())?q.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?q.resolve(null):(ml()<=Ne.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ca(n)),this.es(e,o,n,LM(s,-1)).next(l=>l))})}Zi(e,n){let r=new Qt(nT(e));return n.forEach((s,i)=>{jf(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return ml()<=Ne.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.zi.getDocumentsMatchingQuery(e,n,ii.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new mt(Re),this.rs=new Mo(i=>Gy(i),Ky),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function lV(t,e,n,r){return new oV(t,e,n,r)}async function ET(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=je();for(const d of s){o.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of i){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(d=>({us:d,removedBatchIds:o,addedBatchIds:l}))})})}function cV(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,d,u){const h=d.batch,f=h.keys();let p=q.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(c,g)).next(v=>{const b=d.docVersions.get(g);Ge(b!==null),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),u.addEntry(v)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=je();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function NT(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function dV(t,e){const n=me(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const l=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;l.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(un.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(v,b,m){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,u)&&l.push(n.Qr.updateTargetData(i,p))});let c=gs(),d=je();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push(uV(i,o,e.documentUpdates).next(u=>{c=u.cs,d=u.ls})),!r.isEqual(he.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return q.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.ns=s,i))}function uV(t,e,n){let r=je(),s=je();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gs();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{cs:o,ls:s}})}function hV(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fV(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Ug(t,e,n){const r=me(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!od(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function U0(t,e,n){const r=me(t);let s=he.min(),i=je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,u){const h=me(c),f=h.rs.get(u);return f!==void 0?q.resolve(h.ns.get(f)):h.Qr.getTargetData(d,u)}(r,o,Lr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:je())).next(l=>(pV(r,i2(e),l),{documents:l,hs:i})))}function pV(t,e,n){let r=t.ss.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class $0{constructor(){this.activeTargetIds=u2()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.no=new $0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new $0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=null;function Op(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class xV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const l=Op(),c=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,i,o),this.Co(n,c,d,s).then(u=>(Q("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw xo("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",c,"request:",s),u})}vo(n,r,s,i,o,l){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=vV[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Op();return new Promise((o,l)=>{const c=new NM;c.setWithCredentials(!0),c.listenOnce(_M.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Rp.NO_ERROR:const u=c.getResponseJson();Q(tn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Rp.TIMEOUT:Q(tn,`RPC '${e}' ${i} timed out`),l(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case Rp.HTTP_ERROR:const h=c.getStatus();if(Q(tn,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(b){const m=b.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(m)>=0?m:B.UNKNOWN}(p.status);l(new te(g,p.message))}else l(new te(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te(B.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{Q(tn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Q(tn,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Fo(e,n,r){const s=Op(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wM(),l=jM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");Q(tn,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,p=!1;const g=new yV({lo:b=>{p?Q(tn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(Q(tn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Q(tn,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},ho:()=>h.close()}),v=(b,m,y)=>{b.listen(m,x=>{try{y(x)}catch(_){setTimeout(()=>{throw _},0)}})};return v(h,Bd.EventType.OPEN,()=>{p||Q(tn,`RPC '${e}' stream ${s} transport opened.`)}),v(h,Bd.EventType.CLOSE,()=>{p||(p=!0,Q(tn,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),v(h,Bd.EventType.ERROR,b=>{p||(p=!0,xo(tn,`RPC '${e}' stream ${s} transport errored:`,b),g.Vo(new te(B.UNAVAILABLE,"The operation could not be completed")))}),v(h,Bd.EventType.MESSAGE,b=>{var m;if(!p){const y=b.data[0];Ge(!!y);const x=y,_=x.error||((m=x[0])===null||m===void 0?void 0:m.error);if(_){Q(tn,`RPC '${e}' stream ${s} received error:`,_);const S=_.status;let E=function(j){const N=wt[j];if(N!==void 0)return pT(N)}(S),I=_.message;E===void 0&&(E=B.INTERNAL,I="Unknown error status: "+S+" with message "+_.message),p=!0,g.Vo(new te(E,I)),h.close()}else Q(tn,`RPC '${e}' stream ${s} received:`,y),g.mo(y)}}),v(l,EM.STAT_EVENT,b=>{b.stat===v0.PROXY?Q(tn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===v0.NOPROXY&&Q(tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return new A2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,r,s,i,o,l,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ST(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bV extends TT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=R2(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Mr(o.readTime):he.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Fg(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Dg(c)?{documents:L2(i,c)}:{query:M2(i,c).ut},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=vT(i,o.resumeToken);const d=Lg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(he.min())>0){l.readTime=hh(i,o.snapshotVersion.toTimestamp());const d=Lg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=F2(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Fg(this.serializer),n.removeTarget=e,this.t_(n)}}class wV extends TT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=O2(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.T_(r,n)}return Ge(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Fg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>D2(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Mg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,Mg(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class _V{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Br(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{ga(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=me(c);d.v_.add(4),await ud(d),d.x_.set("Unknown"),d.v_.delete(4),await Tf(d)}(this))})}),this.x_=new _V(r,s)}}async function Tf(t){if(ga(t))for(const e of t.F_)await e(!0)}async function ud(t){for(const e of t.F_)await e(!1)}function IT(t,e){const n=me(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),ax(n)?ix(n):Vo(n).Jo()&&sx(n,e))}function CT(t,e){const n=me(t),r=Vo(n);n.C_.delete(e),r.Jo()&&AT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ga(n)&&n.x_.set("Unknown"))}function sx(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).c_(e)}function AT(t,e){t.O_.Oe(e),Vo(t).l_(e)}function ix(t){t.O_=new S2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.x_.p_()}function ax(t){return ga(t)&&!Vo(t).Ho()&&t.C_.size>0}function ga(t){return me(t).v_.size===0}function kT(t){t.O_=void 0}async function NV(t){t.C_.forEach((e,n)=>{sx(t,e)})}async function SV(t,e){kT(t),ax(t)?(t.x_.S_(e),ix(t)):t.x_.set("Unknown")}async function TV(t,e,n){if(t.x_.set("Online"),e instanceof gT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.C_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.C_.delete(l),s.O_.removeTarget(l))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fh(t,r)}else if(e instanceof mu?t.O_.$e(e):e instanceof mT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(he.min()))try{const r=await NT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.O_.it(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.C_.get(d);u&&i.C_.set(d,u.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const u=i.C_.get(c);if(!u)return;i.C_.set(c,u.withResumeToken(un.EMPTY_BYTE_STRING,u.snapshotVersion)),AT(i,c);const h=new Fs(u.target,c,d,u.sequenceNumber);sx(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await fh(t,r)}}async function fh(t,e,n){if(!od(e))throw e;t.v_.add(1),await ud(t),t.x_.set("Offline"),n||(n=()=>NT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Tf(t)})}function PT(t,e){return e().catch(n=>fh(t,n,e))}async function If(t){const e=me(t),n=oi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;IV(e);)try{const s=await hV(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,CV(e,s)}catch(s){await fh(e,s)}RT(e)&&DT(e)}function IV(t){return ga(t)&&t.D_.length<10}function CV(t,e){t.D_.push(e);const n=oi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function RT(t){return ga(t)&&!oi(t).Ho()&&t.D_.length>0}function DT(t){oi(t).start()}async function AV(t){oi(t).d_()}async function kV(t){const e=oi(t);for(const n of t.D_)e.I_(n.mutations)}async function PV(t,e,n){const r=t.D_.shift(),s=Jy.from(r,e,n);await PT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await If(t)}async function RV(t,e){e&&oi(t).P_&&await async function(r,s){if(function(o){return _2(o)&&o!==B.ABORTED}(s.code)){const i=r.D_.shift();oi(r).Zo(),await PT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await If(r)}}(t,e),RT(t)&&DT(t)}async function z0(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=ga(n);n.v_.add(3),await ud(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Tf(n)}async function DV(t,e){const n=me(t);e?(n.v_.delete(2),await Tf(n)):e||(n.v_.add(2),await ud(n),n.x_.set("Unknown"))}function Vo(t){return t.N_||(t.N_=function(n,r,s){const i=me(n);return i.R_(),new bV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:NV.bind(null,t),To:SV.bind(null,t),u_:TV.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),ax(t)?ix(t):t.x_.set("Unknown")):(await t.N_.stop(),kT(t))})),t.N_}function oi(t){return t.B_||(t.B_=function(n,r,s){const i=me(n);return i.R_(),new wV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:AV.bind(null,t),To:RV.bind(null,t),E_:kV.bind(null,t),T_:PV.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await If(t)):(await t.B_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new ox(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lx(t,e){if(Br("AsyncQueue",`${e}: ${t}`),od(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new to(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new to;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.L_=new mt(ae.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):de():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class So{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new So(e,n,to.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.q_=void 0,this.Q_=[]}}class LV{constructor(){this.queries=new Mo(e=>tT(e),wf),this.onlineState="Unknown",this.K_=new Set}}async function OT(t,e){const n=me(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new OV),s)try{i.q_=await n.onListen(r)}catch(o){const l=lx(o,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&cx(n)}async function LT(t,e){const n=me(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function MV(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Q_)l.W_(s)&&(r=!0);o.q_=s}}r&&cx(n)}function VV(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function cx(t){t.K_.forEach(e=>{e.next()})}class MT{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new So(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.key=e}}class FT{constructor(e){this.key=e}}class FV{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=je(),this.mutatedKeys=je(),this.ua=nT(e),this.ca=new to(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new H0,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=jf(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),b=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.ua(p,c)>0||d&&this.ua(p,d)<0)&&(l=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(c||d)&&(l=!0)),b&&(p?(o=o.add(p),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:l,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((u,h)=>function(p,g){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return v(p)-v(g)}(u.type,h.type)||this.ua(u.doc,h.doc)),this.Ta(r),s=s!=null&&s;const l=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,d=c!==this._a;return this._a=c,o.length!==0||d?{snapshot:new So(this.query,e.ca,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new H0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=je(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new FT(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new VT(r))}),n}Ra(e){this.oa=e.hs,this.aa=je();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return So.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class UV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $V{constructor(e){this.key=e,this.ma=!1}}class BV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Mo(l=>tT(l),wf),this.pa=new Map,this.ya=new Set,this.wa=new mt(ae.comparator),this.Sa=new Map,this.ba=new tx,this.Da={},this.Ca=new Map,this.va=No.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function zV(t,e){const n=ZV(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await fV(n.localStore,Lr(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await HV(n,e,r,l==="current",o.resumeToken),n.isPrimaryClient&&IT(n.remoteStore,o)}return s}async function HV(t,e,n,r,s){t.Ma=(h,f,p)=>async function(v,b,m,y){let x=b.view.ha(m);x.Xi&&(x=await U0(v.localStore,b.query,!1).then(({documents:I})=>b.view.ha(I,x)));const _=y&&y.targetChanges.get(b.targetId),S=y&&y.targetMismatches.get(b.targetId)!=null,E=b.view.applyChanges(x,v.isPrimaryClient,_,S);return W0(v,b.targetId,E.da),E.snapshot}(t,h,f,p);const i=await U0(t.localStore,e,!0),o=new FV(e,i.hs),l=o.ha(i.documents),c=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);W0(t,n,d.da);const u=new UV(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),d.snapshot}async function qV(t,e){const n=me(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!wf(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ug(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),CT(n.remoteStore,r.targetId),$g(n,r.targetId)}).catch(ad)):($g(n,r.targetId),await Ug(n.localStore,r.targetId,!0))}async function WV(t,e,n){const r=eF(t);try{const s=await function(o,l){const c=me(o),d=Pt.now(),u=l.reduce((p,g)=>p.add(g.key),je());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=gs(),v=je();return c.os.getEntries(p,u).next(b=>{g=b,g.forEach((m,y)=>{y.isValidDocument()||(v=v.add(m))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,g)).next(b=>{h=b;const m=[];for(const y of l){const x=y2(y,h.get(y.key).overlayedDocument);x!=null&&m.push(new yi(y.key,x,G1(x.value.mapValue),rr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,m,l)}).next(b=>{f=b;const m=b.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(p,b.batchId,m)})}).then(()=>({batchId:f.batchId,changes:sT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Da[o.currentUser.toKey()];d||(d=new mt(Re)),d=d.insert(l,c),o.Da[o.currentUser.toKey()]=d}(r,s.batchId,n),await hd(r,s.changes),await If(r.remoteStore)}catch(s){const i=lx(s,"Failed to persist write");n.reject(i)}}async function UT(t,e){const n=me(t);try{const r=await dV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?Ge(o.ma):s.removedDocuments.size>0&&(Ge(o.ma),o.ma=!1))}),await hd(n,r,e)}catch(r){await ad(r)}}function q0(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const l=o.view.U_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=me(o);c.onlineState=l;let d=!1;c.queries.forEach((u,h)=>{for(const f of h.Q_)f.U_(l)&&(d=!0)}),d&&cx(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GV(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let o=new mt(ae.comparator);o=o.insert(i,an.newNoDocument(i,he.min()));const l=je().add(i),c=new Nf(he.min(),new Map,new mt(Re),o,l);await UT(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),dx(r)}else await Ug(r.localStore,e,!1).then(()=>$g(r,e,n)).catch(ad)}async function KV(t,e){const n=me(t),r=e.batch.batchId;try{const s=await cV(n.localStore,e);BT(n,r,null),$T(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hd(n,s)}catch(s){await ad(s)}}async function YV(t,e,n){const r=me(t);try{const s=await function(o,l){const c=me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next(h=>(Ge(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})}(r.localStore,e);BT(r,e,n),$T(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hd(r,s)}catch(s){await ad(s)}}function $T(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function BT(t,e,n){const r=me(t);let s=r.Da[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Da[r.currentUser.toKey()]=s}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||zT(t,r)})}function zT(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(CT(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),dx(t))}function W0(t,e,n){for(const r of n)r instanceof VT?(t.ba.addReference(r.key,e),QV(t,r)):r instanceof FT?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||zT(t,r.key)):de()}function QV(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ya.add(r),dx(t))}function dx(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ae(Ze.fromString(e)),r=t.va.next();t.Sa.set(r,new $V(n)),t.wa=t.wa.insert(n,r),IT(t.remoteStore,new Fs(Lr(Yy(n.path)),r,"TargetPurposeLimboResolution",zy._e))}}async function hd(t,e,n){const r=me(t),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((l,c)=>{o.push(r.Ma(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,d!=null&&d.fromCache?"not-current":"current"),d){s.push(d);const u=rx.Ki(c.targetId,d);i.push(u)}}))}),await Promise.all(o),r.fa.u_(s),await async function(c,d){const u=me(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(d,f=>q.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>q.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!od(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of d){const f=h.targetId;if(!h.fromCache){const p=u.ns.get(f),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(f,v)}}}(r.localStore,i))}async function XV(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await ET(n.localStore,e);n.currentUser=e,function(i,o){i.Ca.forEach(l=>{l.forEach(c=>{c.reject(new te(B.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hd(n,r.us)}}function JV(t,e){const n=me(t),r=n.Sa.get(e);if(r&&r.ma)return je().add(r.key);{let s=je();const i=n.pa.get(e);if(!i)return s;for(const o of i){const l=n.ga.get(o);s=s.unionWith(l.view.la)}return s}}function ZV(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GV.bind(null,e),e.fa.u_=MV.bind(null,e.eventManager),e.fa.xa=VV.bind(null,e.eventManager),e}function eF(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YV.bind(null,e),e}class G0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lV(this.persistence,new aV,e.initialUser,this.serializer)}createPersistence(e){return new rV(nx.Hr,this.serializer)}createSharedClientState(e){return new mV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XV.bind(null,this.syncEngine),await DV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LV}()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),r=function(i){return new xV(i)}(e.databaseInfo);return function(i,o,l,c){return new jV(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new EV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>q0(this.syncEngine,n,0),function(){return B0.D()?new B0:new gV}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,u){const h=new BV(s,i,o,l,c,d);return u&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=me(r);Q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await ud(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=rn.UNAUTHENTICATED,this.clientId=H1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mp(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ET(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function K0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sF(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>z0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>z0(e.remoteStore,s)),t._onlineComponents=e}function rF(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rF(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Mp(t,new G0)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Mp(t,new G0);return t._offlineComponents}async function qT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await K0(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await K0(t,new tF))),t._onlineComponents}function iF(t){return qT(t).then(e=>e.syncEngine)}async function WT(t){const e=await qT(t),n=e.eventManager;return n.onListen=zV.bind(null,e.syncEngine),n.onUnlisten=qV.bind(null,e.syncEngine),n}function aF(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new HT({next:f=>{o.enqueueAndForget(()=>LT(i,h));const p=f.docs.has(l);!p&&f.fromCache?d.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?d.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),h=new MT(Yy(l.path),u,{includeMetadataChanges:!0,Z_:!0});return OT(i,h)}(await WT(t),t.asyncQueue,e,n,r)),r.promise}function oF(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new HT({next:f=>{o.enqueueAndForget(()=>LT(i,h)),f.fromCache&&c.source==="server"?d.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),h=new MT(l,u,{includeMetadataChanges:!0,Z_:!0});return OT(i,h)}(await WT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lF(t,e,n,r){if(e===!0&&r===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q0(t){if(!ae.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X0(t){if(ae.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function cF(t,e){if(e<=0)throw new te(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TM;switch(r.type){case"firstParty":return new kM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Y0.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Y0.delete(n),r.terminate())}(this),Promise.resolve()}}function dF(t,e,n,r={}){var s;const i=(t=_r(t,Af))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=rn.MOCK_USER;else{l=kS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new rn(d)}t._authCredentials=new IM(new z1(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ei extends va{constructor(e,n,r){super(e,n,Yy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ae(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function re(t,e,...n){if(t=Ke(t),KT("collection","path",e),t instanceof Af){const r=Ze.fromString(e,...n);return X0(r),new ei(t,null,r)}{if(!(t instanceof vn||t instanceof ei))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return X0(r),new ei(t.firestore,null,r)}}function ye(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=H1.newId()),KT("doc","path",e),t instanceof Af){const r=Ze.fromString(e,...n);return Q0(r),new vn(t,null,new ae(r))}{if(!(t instanceof vn||t instanceof ei))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return Q0(r),new vn(t.firestore,t instanceof ei?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new ST(this,"async_queue_retry"),this._u=()=>{const n=Lp();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Or;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!od(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Br("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=ox.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&de()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class ya extends Af{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new uF}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YT(this),this._firestoreClient.terminate()}}function hF(t,e){const n=typeof t=="object"?t:nf(),r=typeof t=="string"?t:e||"(default)",s=mi(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=IS("firestore");i&&dF(s,...i)}return s}function ux(t){return t._firestoreClient||YT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YT(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,u){return new qM(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new nF(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(un.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new To(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=/^__.*__$/;class pF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class QT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Pf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.mu(e),s}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Au({path:r,Vu:!1});return s.Eu(),s}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return ph(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(XT(this.du)&&fF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class mF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sf(e)}Su(e,n,r,s=!1){return new Pf({du:e,methodName:n,wu:r,path:Gt.emptyPath(),Vu:!1,yu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rf(t){const e=t._freezeSettings(),n=Sf(t._databaseId);return new mF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JT(t,e,n,r,s,i={}){const o=t.Su(i.merge||i.mergeFields?2:0,e,n,s);gx("Data must be an object, but it was:",o,r);const l=eI(r,o);let c,d;if(i.merge)c=new Vn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Bg(e,h,n);if(!o.contains(f))throw new te(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nI(u,f)||u.push(f)}c=new Vn(u),d=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=o.fieldTransforms;return new pF(new Sn(l),c,d)}class Df extends Fo{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function ZT(t,e,n){return new Pf({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fx extends Fo{_toFieldTransform(e){return new Qy(e.path,new Oc)}isEqual(e){return e instanceof fx}}class px extends Fo{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=ZT(this,e,!0),r=this.bu.map(i=>xa(i,n)),s=new _o(r);return new Qy(e.path,s)}isEqual(e){return e instanceof px&&Yi(this.bu,e.bu)}}class mx extends Fo{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=ZT(this,e,!0),r=this.bu.map(i=>xa(i,n)),s=new Eo(r);return new Qy(e.path,s)}isEqual(e){return e instanceof mx&&Yi(this.bu,e.bu)}}function gF(t,e,n,r){const s=t.Su(1,e,n);gx("Data must be an object, but it was:",s,r);const i=[],o=Sn.empty();ma(r,(c,d)=>{const u=vx(e,c,n);d=Ke(d);const h=s.fu(u);if(d instanceof Df)i.push(u);else{const f=xa(d,h);f!=null&&(i.push(u),o.set(u,f))}});const l=new Vn(i);return new QT(o,l,s.fieldTransforms)}function vF(t,e,n,r,s,i){const o=t.Su(1,e,n),l=[Bg(e,r,n)],c=[s];if(i.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(Bg(e,i[f])),c.push(i[f+1]);const d=[],u=Sn.empty();for(let f=l.length-1;f>=0;--f)if(!nI(d,l[f])){const p=l[f];let g=c[f];g=Ke(g);const v=o.fu(p);if(g instanceof Df)d.push(p);else{const b=xa(g,v);b!=null&&(d.push(p),u.set(p,b))}}const h=new Vn(d);return new QT(u,h,o.fieldTransforms)}function yF(t,e,n,r=!1){return xa(n,t.Su(r?4:3,e))}function xa(t,e){if(tI(t=Ke(t)))return gx("Unsupported field value:",e,t),eI(t,e);if(t instanceof Fo)return function(r,s){if(!XT(s.du))throw s.pu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.pu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=xa(l,s.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pt.fromDate(r);return{timestampValue:hh(s.serializer,i)}}if(r instanceof Pt){const i=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(s.serializer,i)}}if(r instanceof hx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof To)return{bytesValue:vT(s.serializer,r._byteString)};if(r instanceof vn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ex(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.pu(`Unsupported field value: ${Cf(r)}`)}(t,e)}function eI(t,e){const n={};return q1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,(r,s)=>{const i=xa(s,e.Ru(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function tI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof hx||t instanceof To||t instanceof vn||t instanceof Fo)}function gx(t,e,n){if(!tI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Cf(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Bg(t,e,n){if((e=Ke(e))instanceof kf)return e._internalPath;if(typeof e=="string")return vx(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const xF=new RegExp("[~\\*/\\[\\]]");function vx(t,e,n){if(e.search(xF)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kf(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new te(B.INVALID_ARGUMENT,l+t+c)}function nI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bF extends rI{data(){return super.data()}}function yx(t,e){return typeof e=="string"?vx(t,e):e instanceof kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xx{}class sI extends xx{}function At(t,e,...n){let r=[];e instanceof xx&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof bx).length,l=i.filter(c=>c instanceof Of).length;if(o>1||o>0&&l>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Of extends sI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Of(e,n,r)}_apply(e){const n=this._parse(e);return iI(e._query,n),new va(e.firestore,e.converter,Og(e._query,n))}_parse(e){const n=Rf(e.firestore);return function(i,o,l,c,d,u,h){let f;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ej(h,u);const p=[];for(const g of h)p.push(Z0(c,i,g));f={arrayValue:{values:p}}}else f=Z0(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ej(h,u),f=yF(l,o,h,u==="in"||u==="not-in");return Et.create(d,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zn(t,e,n){const r=e,s=yx("where",t);return Of._create(s,r,n)}class bx extends xx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)iI(o,c),o=Og(o,c)}(e._query,n),new va(e.firestore,e.converter,Og(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wx extends sI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new wx(e,n,r)}_apply(e){return new va(e.firestore,e.converter,dh(e._query,this._limit,this._limitType))}}function li(t){return cF("limit",t),wx._create("limit",t,"F")}function Z0(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(e)&&n.indexOf("/")!==-1)throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!ae.isDocumentKey(r))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _0(t,new ae(r))}if(n instanceof vn)return _0(t,n._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cf(n)}.`)}function ej(t,e){if(!Array.isArray(t)||t.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iI(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jF{convertValue(e,n="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ma(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new hx(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=ai(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Ge(_T(r));const s=new Rc(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||Br(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oI extends rI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gu extends oI{data(e={}){return super.data(e)}}class _F{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gu(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new gu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Dl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new gu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Dl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,u=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:EF(l.type),doc:c,oldIndex:d,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){t=_r(t,vn);const e=_r(t.firestore,ya);return aF(ux(e),t._key).then(n=>SF(e,t,n))}class lI extends jF{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function we(t){t=_r(t,va);const e=_r(t.firestore,ya),n=ux(e),r=new lI(e);return wF(t._query),oF(n,t._query).then(s=>new _F(e,r,t,s))}function NF(t,e,n){t=_r(t,vn);const r=_r(t.firestore,ya),s=aI(t.converter,e,n);return Lf(r,[JT(Rf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,rr.none())])}function tt(t,e,n,...r){t=_r(t,vn);const s=_r(t.firestore,ya),i=Rf(s);let o;return o=typeof(e=Ke(e))=="string"||e instanceof kf?vF(i,"updateDoc",t._key,e,n,r):gF(i,"updateDoc",t._key,e),Lf(s,[o.toMutation(t._key,rr.exists(!0))])}function bn(t){return Lf(_r(t.firestore,ya),[new Xy(t._key,rr.none())])}function dt(t,e){const n=_r(t.firestore,ya),r=ye(t),s=aI(t.converter,e);return Lf(n,[JT(Rf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function Lf(t,e){return function(r,s){const i=new Or;return r.asyncQueue.enqueueAndForget(async()=>WV(await iF(r),s,i)),i.promise}(ux(t),e)}function SF(t,e,n){const r=n.docs.get(e._key),s=new lI(t);return new oI(t,s,e._key,r,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}function TF(){return new fx("serverTimestamp")}function IF(...t){return new px("arrayUnion",t)}function cI(...t){return new mx("arrayRemove",t)}(function(e,n=!0){(function(s){Lo=s})(fa),br(new ar("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new ya(new CM(r.getProvider("auth-internal")),new RM(r.getProvider("app-check-internal")),function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(d.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),kn(y0,"4.4.2",e),kn(y0,"4.4.2","esm2017")})();var CF="firebase",AF="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(CF,AF,"app");const dI="@firebase/installations",jx="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1e4,hI=`w:${jx}`,fI="FIS_v2",kF="https://firebaseinstallations.googleapis.com/v1",PF=60*60*1e3,RF="installations",DF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ea=new ha(RF,DF,OF);function pI(t){return t instanceof lr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI({projectId:t}){return`${kF}/projects/${t}/installations`}function gI(t){return{token:t.token,requestStatus:2,expiresIn:MF(t.expiresIn),creationTime:Date.now()}}async function vI(t,e){const r=(await e.json()).error;return ea.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function LF(t,{refreshToken:e}){const n=yI(t);return n.append("Authorization",VF(e)),n}async function xI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MF(t){return Number(t.replace("s","000"))}function VF(t){return`${fI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mI(t),s=yI(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:fI,appId:t.appId,sdkVersion:hI},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await xI(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:gI(d.authToken)}}else throw await vI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=/^[cdef][\w-]{21}$/,zg="";function BF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zF(t);return $F.test(n)?n:zg}catch{return zg}}function zF(t){return UF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Map;function jI(t,e){const n=Mf(t);_I(n,e),HF(n,e)}function _I(t,e){const n=wI.get(t);if(n)for(const r of n)r(e)}function HF(t,e){const n=qF();n&&n.postMessage({key:t,fid:e}),WF()}let Li=null;function qF(){return!Li&&"BroadcastChannel"in self&&(Li=new BroadcastChannel("[Firebase] FID Change"),Li.onmessage=t=>{_I(t.data.key,t.data.fid)}),Li}function WF(){wI.size===0&&Li&&(Li.close(),Li=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="firebase-installations-database",KF=1,ta="firebase-installations-store";let Vp=null;function _x(){return Vp||(Vp=LS(GF,KF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ta)}}})),Vp}async function mh(t,e){const n=Mf(t),s=(await _x()).transaction(ta,"readwrite"),i=s.objectStore(ta),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&jI(t,e.fid),e}async function EI(t){const e=Mf(t),r=(await _x()).transaction(ta,"readwrite");await r.objectStore(ta).delete(e),await r.done}async function Vf(t,e){const n=Mf(t),s=(await _x()).transaction(ta,"readwrite"),i=s.objectStore(ta),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&jI(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t){let e;const n=await Vf(t.appConfig,r=>{const s=YF(r),i=QF(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===zg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function YF(t){const e=t||{fid:BF(),registrationStatus:0};return NI(e)}function QF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ea.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=XF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JF(t)}:{installationEntry:e}}async function XF(t,e){try{const n=await FF(t,e);return mh(t.appConfig,n)}catch(n){throw pI(n)&&n.customData.serverCode===409?await EI(t.appConfig):await mh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function JF(t){let e=await tj(t.appConfig);for(;e.registrationStatus===1;)await bI(100),e=await tj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ex(t);return r||n}return e}function tj(t){return Vf(t,e=>{if(!e)throw ea.create("installation-not-found");return NI(e)})}function NI(t){return ZF(t)?{fid:t.fid,registrationStatus:0}:t}function ZF(t){return t.registrationStatus===1&&t.registrationTime+uI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU({appConfig:t,heartbeatServiceProvider:e},n){const r=tU(t,n),s=LF(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:hI,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await xI(()=>fetch(r,l));if(c.ok){const d=await c.json();return gI(d)}else throw await vI("Generate Auth Token",c)}function tU(t,{fid:e}){return`${mI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t,e=!1){let n;const r=await Vf(t.appConfig,i=>{if(!SI(i))throw ea.create("not-registered");const o=i.authToken;if(!e&&sU(o))return i;if(o.requestStatus===1)return n=nU(t,e),i;{if(!navigator.onLine)throw ea.create("app-offline");const l=aU(i);return n=rU(t,l),l}});return n?await n:r.authToken}async function nU(t,e){let n=await nj(t.appConfig);for(;n.authToken.requestStatus===1;)await bI(100),n=await nj(t.appConfig);const r=n.authToken;return r.requestStatus===0?Nx(t,e):r}function nj(t){return Vf(t,e=>{if(!SI(e))throw ea.create("not-registered");const n=e.authToken;return oU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rU(t,e){try{const n=await eU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await mh(t.appConfig,r),n}catch(n){if(pI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await EI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await mh(t.appConfig,r)}throw n}}function SI(t){return t!==void 0&&t.registrationStatus===2}function sU(t){return t.requestStatus===2&&!iU(t)}function iU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+PF}function aU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oU(t){return t.requestStatus===1&&t.requestTime+uI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ex(e);return r?r.catch(console.error):Nx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e=!1){const n=t;return await dU(n),(await Nx(n,e)).token}async function dU(t){const{registrationPromise:e}=await Ex(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){if(!t||!t.options)throw Fp("App Configuration");if(!t.name)throw Fp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fp(t){return ea.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="installations",hU="installations-internal",fU=t=>{const e=t.getProvider("app").getImmediate(),n=uU(e),r=mi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},pU=t=>{const e=t.getProvider("app").getImmediate(),n=mi(e,TI).getImmediate();return{getId:()=>lU(n),getToken:s=>cU(n,s)}};function mU(){br(new ar(TI,fU,"PUBLIC")),br(new ar(hU,pU,"PRIVATE"))}mU();kn(dI,jx);kn(dI,jx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="analytics",gU="firebase_id",vU="origin",yU=60*1e3,xU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new tf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bn=new ha("analytics","Analytics",bU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){if(!t.startsWith(Sx)){const e=Bn.create("invalid-gtag-resource",{gtagURL:t});return Pn.warn(e.message),""}return t}function II(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function _U(t,e){const n=jU("firebase-js-sdk-policy",{createScriptURL:wU}),r=document.createElement("script"),s=`${Sx}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function EU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function NU(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await II(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){Pn.error(l)}t("config",s,i)}async function SU(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await II(n);for(const c of o){const d=l.find(h=>h.measurementId===c),u=d&&e[d.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Pn.error(i)}}function TU(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,c]=o;await SU(t,e,n,l,c)}else if(i==="config"){const[l,c]=o;await NU(t,e,n,r,l,c)}else if(i==="consent"){const[l]=o;t("consent","update",l)}else if(i==="get"){const[l,c,d]=o;t("get",l,c,d)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){Pn.error(l)}}return s}function IU(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=TU(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function CU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sx)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=30,kU=1e3;class PU{constructor(e={},n=kU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const CI=new PU;function RU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function DU(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:RU(r)},i=xU.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function OU(t,e=CI,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Bn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Bn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new VU;return setTimeout(async()=>{l.abort()},n!==void 0?n:yU),AI({appId:r,apiKey:s,measurementId:i},o,l,e)}async function AI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=CI){var i;const{appId:o,measurementId:l}=t;try{await LU(r,e)}catch(c){if(l)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await DU(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!MU(d)){if(s.deleteThrottleMetadata(o),l)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw c}const u=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?Qw(n,s.intervalMillis,AU):Qw(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Pn.debug(`Calling attemptFetch again in ${u} millis`),AI(t,h,r,s)}}function LU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MU(t){if(!(t instanceof lr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class VU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(){if(gy())try{await RS()}catch(t){return Pn.warn(Bn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Pn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $U(t,e,n,r,s,i,o){var l;const c=OU(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Pn.error(p)),e.push(c);const d=UU().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([c,d]);CU(i)||_U(i,u.measurementId),s("js",new Date);const f=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return f[vU]="firebase",f.update=!0,h!=null&&(f[gU]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.app=e}_delete(){return delete Xl[this.app.options.appId],Promise.resolve()}}let Xl={},rj=[];const sj={};let Up="dataLayer",zU="gtag",ij,kI,aj=!1;function HU(){const t=[];if(PS()&&t.push("This is a browser extension environment."),iO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Bn.create("invalid-analytics-context",{errorInfo:e});Pn.warn(n.message)}}function qU(t,e,n){HU();const r=t.options.appId;if(!r)throw Bn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bn.create("no-api-key");if(Xl[r]!=null)throw Bn.create("already-exists",{id:r});if(!aj){EU(Up);const{wrappedGtag:i,gtagCore:o}=IU(Xl,rj,sj,Up,zU);kI=i,ij=o,aj=!0}return Xl[r]=$U(t,rj,sj,e,ij,Up,n),new BU(t)}function WU(t=nf()){t=Ke(t);const e=mi(t,gh);return e.isInitialized()?e.getImmediate():GU(t)}function GU(t,e={}){const n=mi(t,gh);if(n.isInitialized()){const s=n.getImmediate();if(Yi(e,n.getOptions()))return s;throw Bn.create("already-initialized")}return n.initialize({options:e})}function KU(t,e,n,r){t=Ke(t),FU(kI,Xl[t.app.options.appId],e,n,r).catch(s=>Pn.error(s))}const oj="@firebase/analytics",lj="0.10.1";function YU(){br(new ar(gh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return qU(r,s,n)},"PUBLIC")),br(new ar("analytics-internal",t,"PRIVATE")),kn(oj,lj),kn(oj,lj,"esm2017");function t(e){try{const n=e.getProvider(gh).getImmediate();return{logEvent:(r,s,i)=>KU(n,r,s,i)}}catch(n){throw Bn.create("interop-component-reg-failed",{reason:n})}}}YU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebasestorage.googleapis.com",RI="storageBucket",QU=2*60*1e3,XU=10*60*1e3,JU=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends lr{constructor(e,n,r=0){super($p(e),`Firebase Storage: ${n} (${$p(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $p(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function $p(t){return"storage/"+t}function Tx(){const t="An unknown error occurred, please check the error payload for server response.";return new gt(nt.UNKNOWN,t)}function ZU(t){return new gt(nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function e$(t){return new gt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function t$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(nt.UNAUTHENTICATED,t)}function n$(){return new gt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function r$(t){return new gt(nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function DI(){return new gt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OI(){return new gt(nt.CANCELED,"User canceled the upload/download.")}function s$(t){return new gt(nt.INVALID_URL,"Invalid URL '"+t+"'.")}function i$(t){return new gt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a$(){return new gt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+RI+"' property when initializing the app?")}function LI(){return new gt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o$(){return new gt(nt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function l$(){return new gt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c$(t){return new gt(nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hg(t){return new gt(nt.INVALID_ARGUMENT,t)}function MI(){return new gt(nt.APP_DELETED,"The Firebase app was deleted.")}function d$(t){return new gt(nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jl(t,e){return new gt(nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gl(t){throw new gt(nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(r.path==="")return r;throw i$(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(_){_.path_=decodeURIComponent(_.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},v=n===PI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",m=new RegExp(`^https?://${v}/${s}/${b}`,"i"),x=[{regex:l,indices:c,postModify:i},{regex:p,indices:g,postModify:d},{regex:m,indices:{bucket:1,path:2},postModify:d}];for(let _=0;_<x.length;_++){const S=x[_],E=S.regex.exec(e);if(E){const I=E[S.indices.bucket];let w=E[S.indices.path];w||(w=""),r=new Fn(I,w),S.postModify(r);break}}if(r==null)throw s$(e);return r}}class u${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function u(...b){d||(d=!0,e.apply(null,b))}function h(b){s=setTimeout(()=>{s=null,t(p,c())},b)}function f(){i&&clearTimeout(i)}function p(b,...m){if(d){f();return}if(b){f(),u.call(null,b,...m);return}if(c()||o){f(),u.call(null,b,...m);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,h(x)}let g=!1;function v(b){g||(g=!0,f(),!d&&(s!==null?(b||(l=2),clearTimeout(s),h(0)):b||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function f$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t){return t!==void 0}function m$(t){return typeof t=="function"}function g$(t){return typeof t=="object"&&!Array.isArray(t)}function Ff(t){return typeof t=="string"||t instanceof String}function cj(t){return Ix()&&t instanceof Blob}function Ix(){return typeof Blob<"u"}function dj(t,e,n,r){if(r<e)throw Hg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($i||($i={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n,r,s,i,o,l,c,d,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===$i.NO_ERROR,c=i.getStatus();if(!l||FI(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===$i.ABORT;r(!1,new Wd(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Wd(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());p$(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=Tx();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?MI():OI();o(c)}else{const c=DI();o(c)}};this.canceled_?n(!1,new Wd(!1,null,!0)):this.backoffId_=h$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function y$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function j$(t,e,n,r,s,i,o=!0){const l=VI(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return b$(d,e),y$(d,n),x$(d,i),w$(d,r),new v$(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function E$(...t){const e=_$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ix())return new Blob(t);throw new gt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function N$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t){if(typeof atob>"u")throw c$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bp{constructor(e,n){this.data=e,this.contentType=n||null}}function T$(t,e){switch(t){case kr.RAW:return new Bp(UI(e));case kr.BASE64:case kr.BASE64URL:return new Bp($I(t,e));case kr.DATA_URL:return new Bp(C$(e),A$(e))}throw Tx()}function UI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function I$(t){let e;try{e=decodeURIComponent(t)}catch{throw Jl(kr.DATA_URL,"Malformed data URL.")}return UI(e)}function $I(t,e){switch(t){case kr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Jl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case kr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Jl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=S$(e)}catch(s){throw s.message.includes("polyfill")?s:Jl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class BI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jl(kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=k$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function C$(t){const e=new BI(t);return e.base64?$I(kr.BASE64,e.rest):I$(e.rest)}function A$(t){return new BI(t).contentType}function k$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){let r=0,s="";cj(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(cj(this.data_)){const r=this.data_,s=N$(r,e,n);return s===null?null:new ts(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ts(r,!0)}}static getBlob(...e){if(Ix()){const n=e.map(r=>r instanceof ts?r.data_:r);return new ts(E$.apply(null,n))}else{const n=e.map(o=>Ff(o)?T$(kr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new ts(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){let e;try{e=JSON.parse(t)}catch{return null}return g$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function R$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function HI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t,e){return e}class fn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||D$}}let Gd=null;function O$(t){return!Ff(t)||t.length<2?t:HI(t)}function Cx(){if(Gd)return Gd;const t=[];t.push(new fn("bucket")),t.push(new fn("generation")),t.push(new fn("metageneration")),t.push(new fn("name","fullPath",!0));function e(i,o){return O$(o)}const n=new fn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new fn("size");return s.xform=r,t.push(s),t.push(new fn("timeCreated")),t.push(new fn("updated")),t.push(new fn("md5Hash",null,!0)),t.push(new fn("cacheControl",null,!0)),t.push(new fn("contentDisposition",null,!0)),t.push(new fn("contentEncoding",null,!0)),t.push(new fn("contentLanguage",null,!0)),t.push(new fn("contentType",null,!0)),t.push(new fn("metadata","customMetadata",!0)),Gd=t,Gd}function L$(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Fn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function M$(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return L$(r,t),r}function qI(t,e,n){const r=zI(e);return r===null?null:M$(t,r,n)}function V$(t,e,n,r){const s=zI(e);if(s===null||!Ff(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),p=Uo(f,n,r),g=VI({alt:"media",token:d});return p+g})[0]}function WI(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class ba{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){if(!t)throw Tx()}function Ax(t,e){function n(r,s){const i=qI(t,s,e);return cs(i!==null),i}return n}function F$(t,e){function n(r,s){const i=qI(t,s,e);return cs(i!==null),V$(i,s,t.host,t._protocol)}return n}function fd(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=n$():s=t$():n.getStatus()===402?s=e$(t.bucket):n.getStatus()===403?s=r$(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function kx(t){const e=fd(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=ZU(t.path)),i.serverResponse=s.serverResponse,i}return n}function U$(t,e,n){const r=e.fullServerUrl(),s=Uo(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ba(s,i,Ax(t,n),o);return l.errorHandler=kx(e),l}function $$(t,e,n){const r=e.fullServerUrl(),s=Uo(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new ba(s,i,F$(t,n),o);return l.errorHandler=kx(e),l}function B$(t,e){const n=e.fullServerUrl(),r=Uo(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,d){}const l=new ba(r,s,o,i);return l.successCodes=[200,204],l.errorHandler=kx(e),l}function z$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function GI(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=z$(null,e)),r}function KI(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let x="";for(let _=0;_<2;_++)x=x+Math.random().toString().slice(2);return x}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=GI(e,r,s),u=WI(d,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=ts.getBlob(h,r,f);if(p===null)throw LI();const g={name:d.fullPath},v=Uo(i,t.host,t._protocol),b="POST",m=t.maxUploadRetryTime,y=new ba(v,b,Ax(t,n),m);return y.urlParams=g,y.headers=o,y.body=p.uploadData(),y.errorHandler=fd(e),y}class vh{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Px(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{cs(!1)}return cs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function H$(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=GI(e,r,s),l={name:o.fullPath},c=Uo(i,t.host,t._protocol),d="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=WI(o,n),f=t.maxUploadRetryTime;function p(v){Px(v);let b;try{b=v.getResponseHeader("X-Goog-Upload-URL")}catch{cs(!1)}return cs(Ff(b)),b}const g=new ba(c,d,p,f);return g.urlParams=l,g.headers=u,g.body=h,g.errorHandler=fd(e),g}function q$(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(d){const u=Px(d,["active","final"]);let h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{cs(!1)}h||cs(!1);const f=Number(h);return cs(!isNaN(f)),new vh(f,r.size(),u==="final")}const o="POST",l=t.maxUploadRetryTime,c=new ba(n,o,i,l);return c.headers=s,c.errorHandler=fd(e),c}const uj=256*1024;function W$(t,e,n,r,s,i,o,l){const c=new vh(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw o$();const d=c.total-c.current;let u=d;s>0&&(u=Math.min(u,s));const h=c.current,f=h+u;let p="";u===0?p="finalize":d===u?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},v=r.slice(h,f);if(v===null)throw LI();function b(_,S){const E=Px(_,["active","final"]),I=c.current+u,w=r.size();let j;return E==="final"?j=Ax(e,i)(_,S):j=null,new vh(I,w,E==="final",j)}const m="POST",y=e.maxUploadRetryTime,x=new ba(n,m,b,y);return x.headers=g,x.body=v.uploadData(),x.progressCallback=l||null,x.errorHandler=fd(t),x}const _n={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zp(t){switch(t){case"running":case"pausing":case"canceling":return _n.RUNNING;case"paused":return _n.PAUSED;case"success":return _n.SUCCESS;case"canceled":return _n.CANCELED;case"error":return _n.ERROR;default:return _n.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G$=class{constructor(e,n,r){if(m$(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class K${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$i.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$i.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$i.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Y$ extends K${initXhr(){this.xhr_.responseType="text"}}function ks(){return new Y$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Cx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(nt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(FI(s.status,[]))if(i)s=DI();else{this.sleepTime=Math.max(this.sleepTime*2,JU),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(nt.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=H$(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ks,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=q$(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,ks,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=uj*this._chunkMultiplier,n=new vh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=W$(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,ks,s,i,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){uj*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=U$(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,ks,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=KI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ks,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=OI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=zp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new G$(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(zp(this._state)){case _n.SUCCESS:Na(this._resolve.bind(null,this.snapshot))();break;case _n.CANCELED:case _n.ERROR:const n=this._reject;Na(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(zp(this._state)){case _n.RUNNING:case _n.PAUSED:e.next&&Na(e.next.bind(e,this.snapshot))();break;case _n.SUCCESS:e.complete&&Na(e.complete.bind(e))();break;case _n.CANCELED:case _n.ERROR:e.error&&Na(e.error.bind(e,this._error))();break;default:e.error&&Na(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new na(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HI(this._location.path)}get storage(){return this._service}get parent(){const e=P$(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new na(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d$(e)}}function X$(t,e,n){t._throwIfRoot("uploadBytes");const r=KI(t.storage,t._location,Cx(),new ts(e,!0),n);return t.storage.makeRequestWithTokens(r,ks).then(s=>({metadata:s,ref:t}))}function J$(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Q$(t,new ts(e),n)}function Z$(t){t._throwIfRoot("getDownloadURL");const e=$$(t.storage,t._location,Cx());return t.storage.makeRequestWithTokens(e,ks).then(n=>{if(n===null)throw l$();return n})}function e4(t){t._throwIfRoot("deleteObject");const e=B$(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ks)}function t4(t,e){const n=R$(t._location.path,e),r=new Fn(t._location.bucket,n);return new na(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){return/^[A-Za-z]+:\/\//.test(t)}function r4(t,e){return new na(t,e)}function YI(t,e){if(t instanceof Rx){const n=t;if(n._bucket==null)throw a$();const r=new na(n,n._bucket);return e!=null?YI(r,e):r}else return e!==void 0?t4(t,e):t}function s4(t,e){if(e&&n4(e)){if(t instanceof Rx)return r4(t,e);throw Hg("To use ref(service, url), the first argument must be a Storage instance.")}else return YI(t,e)}function hj(t,e){const n=e==null?void 0:e[RI];return n==null?null:Fn.makeFromBucketSpec(n,t)}function i4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:kS(s,t.app.options.projectId))}class Rx{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=PI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QU,this._maxUploadRetryTime=XU,this._requests=new Set,s!=null?this._bucket=Fn.makeFromBucketSpec(s,this._host):this._bucket=hj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=hj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new na(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new u$(MI());{const o=j$(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const fj="@firebase/storage",pj="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="storage";function Wr(t,e,n){return t=Ke(t),X$(t,e,n)}function XI(t,e,n){return t=Ke(t),J$(t,e,n)}function Gr(t){return t=Ke(t),Z$(t)}function Er(t){return t=Ke(t),e4(t)}function Ce(t,e){return t=Ke(t),s4(t,e)}function a4(t=nf(),e){t=Ke(t);const r=mi(t,QI).getImmediate({identifier:e}),s=IS("storage");return s&&o4(r,...s),r}function o4(t,e,n,r={}){i4(t,e,n,r)}function l4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Rx(n,r,s,e,fa)}function c4(){br(new ar(QI,l4,"PUBLIC").setMultipleInstances(!0)),kn(fj,pj,""),kn(fj,pj,"esm2017")}c4();function Dx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function JI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d4=JI,ZI=new ha("auth","Firebase",JI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new tf("@firebase/auth");function u4(t,...e){yh.logLevel<=Ne.WARN&&yh.warn(`Auth (${fa}): ${t}`,...e)}function vu(t,...e){yh.logLevel<=Ne.ERROR&&yh.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw Ox(t,...e)}function Vr(t,...e){return Ox(t,...e)}function eC(t,e,n){const r=Object.assign(Object.assign({},d4()),{[e]:n});return new ha("auth","Firebase",r).create(e,{appName:t.name})}function h4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&or(t,"argument-error"),eC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ox(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZI.create(t,...e)}function le(t,e,...n){if(!t)throw Ox(e,...n)}function as(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vu(e),new Error(e)}function vs(t,e){t||as(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f4(){return mj()==="http:"||mj()==="https:"}function mj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f4()||PS()||"connection"in navigator)?navigator.onLine:!0}function m4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,vs(n>e,"Short delay should be less than long delay!"),this.isMobile=eO()||nO()}get(){return p4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t,e){vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new pd(3e4,6e4);function ws(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kr(t,e,n,r,s={}){return nC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Xc(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),tC.fetch()(rC(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function nC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g4),e);try{const s=new x4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Kd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Kd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Kd(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw eC(t,u,d);or(t,u)}}catch(s){if(s instanceof lr)throw s;or(t,"network-request-failed",{message:String(s)})}}async function md(t,e,n,r,s={}){const i=await Kr(t,e,n,r,s);return"mfaPendingCredential"in i&&or(t,"multi-factor-auth-required",{_serverResponse:i}),i}function rC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Lx(t.config,s):`${t.config.apiScheme}://${s}`}function y4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),v4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Vr(t,e,r);return s.customData._tokenResponse=n,s}function gj(t){return t!==void 0&&t.enterprise!==void 0}class b4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function w4(t,e){return Kr(t,"GET","/v2/recaptchaConfig",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function _4(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E4(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),s=Mx(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Zl(Hp(s.auth_time)),issuedAtTime:Zl(Hp(s.iat)),expirationTime:Zl(Hp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Hp(t){return Number(t)*1e3}function Mx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vu("JWT malformed, contained fewer than 3 sections"),null;try{const s=SS(n);return s?JSON.parse(s):(vu("Failed to decode base64 JWT payload"),null)}catch(s){return vu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function N4(t){const e=Mx(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&S4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Io(t,_4(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?A4(i.providerUserInfo):[],l=C4(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new sC(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function I4(t){const e=Ke(t);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function A4(t){return t.map(e=>{var{providerId:n}=e,r=Dx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e){const n=await nC(t,{},async()=>{const r=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=rC(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",tC.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P4(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await k4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Lc;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Dx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E4(this,e)}reload(){return I4(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Io(this,j4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,d,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,m=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:x,emailVerified:_,isAnonymous:S,providerData:E,stsTokenManager:I}=n;le(x&&I,e,"internal-error");const w=Lc.fromJSON(this.name,I);le(typeof x=="string",e,"internal-error"),Ns(h,e.name),Ns(f,e.name),le(typeof _=="boolean",e,"internal-error"),le(typeof S=="boolean",e,"internal-error"),Ns(p,e.name),Ns(g,e.name),Ns(v,e.name),Ns(b,e.name),Ns(m,e.name),Ns(y,e.name);const j=new Bi({uid:x,auth:e,email:f,emailVerified:_,displayName:h,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:w,createdAt:m,lastLoginAt:y});return E&&Array.isArray(E)&&(j.providerData=E.map(N=>Object.assign({},N))),b&&(j._redirectEventId=b),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new Lc;s.updateFromServerResponse(n);const i=new Bi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await xh(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Map;function os(t){vs(t instanceof Function,"Expected a class definition");let e=vj.get(t);return e?(vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iC.type="NONE";const yj=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e,n){return`firebase:${t}:${e}:${n}`}class no{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yu(this.userKey,s.apiKey,i),this.fullPersistenceKey=yu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new no(os(yj),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||os(yj);const o=yu(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const u=await d._get(o);if(u){const h=Bi._fromJSON(e,u);d!==i&&(l=h),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new no(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new no(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dC(e))return"Blackberry";if(uC(e))return"Webos";if(Vx(e))return"Safari";if((e.includes("chrome/")||oC(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aC(t=Tt()){return/firefox\//i.test(t)}function Vx(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oC(t=Tt()){return/crios\//i.test(t)}function lC(t=Tt()){return/iemobile/i.test(t)}function cC(t=Tt()){return/android/i.test(t)}function dC(t=Tt()){return/blackberry/i.test(t)}function uC(t=Tt()){return/webos/i.test(t)}function Uf(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R4(t=Tt()){var e;return Uf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D4(){return rO()&&document.documentMode===10}function hC(t=Tt()){return Uf(t)||cC(t)||uC(t)||dC(t)||/windows phone/i.test(t)||lC(t)}function O4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e=[]){let n;switch(t){case"Browser":n=xj(Tt());break;case"Worker":n=`${xj(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=6;class F4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:V4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bj(this),this.idTokenSubscription=new bj(this),this.beforeStateQueue=new L4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ke(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M4(this),n=new F4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await P4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(t){return Ke(t)}class bj{constructor(e){this.auth=e,this.observer=null,this.addObserver=dO(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $4(t){$f=t}function pC(t){return $f.loadJS(t)}function B4(){return $f.recaptchaEnterpriseScript}function z4(){return $f.gapiScript}function H4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const q4="recaptcha-enterprise",W4="NO_RECAPTCHA";class G4{constructor(e){this.type=q4,this.auth=js(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{w4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new b4(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;gj(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(W4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&gj(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=B4();c.length!==0&&(c+=l),pC(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function wj(t,e,n,r=!1){const s=new G4(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await wj(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await wj(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t,e){const n=mi(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Yi(i,e??{}))return s;or(s,"already-initialized")}return n.initialize({options:e})}function Y4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Q4(t,e,n){const r=js(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=mC(e),{host:o,port:l}=X4(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||J4()}function mC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X4(t){const e=mC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:jj(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:jj(o)}}}function jj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function J4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,n){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function Z4(t,e){return Kr(t,"POST","/v1/accounts:update",e)}async function e3(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e){return md(t,"POST","/v1/accounts:signInWithPassword",ws(t,e))}async function gC(t,e){return Kr(t,"POST","/v1/accounts:sendOobCode",ws(t,e))}async function n3(t,e){return gC(t,e)}async function r3(t,e){return gC(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}async function i3(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Fx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Mc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(e,n,"signInWithPassword",t3);case"emailLink":return s3(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bh(e,r,"signUpPassword",e3);case"emailLink":return i3(e,{idToken:n,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(t,e){return md(t,"POST","/v1/accounts:signInWithIdp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="http://localhost";class ra extends Fx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Dx(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ra(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:a3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l3(t){const e=Il(Cl(t)).link,n=e?Il(Cl(e)).deep_link_id:null,r=Il(Cl(t)).deep_link_id;return(r?Il(Cl(r)).link:null)||r||n||e||t}class Ux{constructor(e){var n,r,s,i,o,l;const c=Il(Cl(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=o3((s=c.mode)!==null&&s!==void 0?s:null);le(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=l3(e);try{return new Ux(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.providerId=$o.PROVIDER_ID}static credential(e,n){return Mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ux.parseLink(n);return le(r,"argument-error"),Mc._fromEmailAndCode(e,r.code,r.tenantId)}}$o.PROVIDER_ID="password";$o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends $x{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends gd{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends gd{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends gd{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return md(t,"POST","/v1/accounts:signUp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Bi._fromIdTokenResponse(e,r,s),o=_j(r);return new sa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_j(r);return new sa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _j(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends lr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wh(e,n,r,s)}}function vC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(t,i,e,r):i})}async function d3(t,e,n=!1){const r=await Io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Io(t,vC(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=Mx(i.idToken);le(o,r,"internal-error");const{sub:l}=o;return le(t.uid===l,r,"user-mismatch"),sa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(t,e,n=!1){const r="signIn",s=await vC(t,r,e),i=await sa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function h3(t,e){return yC(js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e,n){var r;le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t){const e=js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f3(t,e,n){const r=js(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&xC(r,s,n),await bh(r,s,"getOobCode",r3)}async function Ej(t,e,n){const r=js(t),o=await bh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c3).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bC(t),c}),l=await sa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function p3(t,e,n){return h3(Ke(t),$o.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bC(t),r})}async function m3(t,e){const n=Ke(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&xC(n.auth,s,e);const{email:i}=await n3(n.auth,s);i!==t.email&&await t.reload()}function g3(t,e){return v3(Ke(t),null,e)}async function v3(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await Io(t,Z4(r,i));await t._updateTokensIfNecessary(o,!0)}function y3(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function x3(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){const t=Tt();return Vx(t)||Uf(t)}const w3=1e3,j3=10;class jC extends wC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=b3()&&O4(),this.fallbackToPolling=hC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);D4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,j3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},w3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jC.type="LOCAL";const _3=jC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends wC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_C.type="SESSION";const EC=_C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await E3(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=Bx("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function S3(t){Fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function T3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function C3(){return NC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebaseLocalStorageDb",A3=1,_h="firebaseLocalStorage",TC="fbase_key";class vd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zf(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function k3(){const t=indexedDB.deleteDatabase(SC);return new vd(t).toPromise()}function Wg(){const t=indexedDB.open(SC,A3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:TC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await k3(),e(await Wg()))})})}async function Nj(t,e,n){const r=zf(t,!0).put({[TC]:e,value:n});return new vd(r).toPromise()}async function P3(t,e){const n=zf(t,!1).get(e),r=await new vd(n).toPromise();return r===void 0?null:r.value}function Sj(t,e){const n=zf(t,!0).delete(e);return new vd(n).toPromise()}const R3=800,D3=3;class IC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(C3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T3(),!this.activeServiceWorker)return;this.sender=new N3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await Nj(e,jh,"1"),await Sj(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=zf(s,!1).getAll();return new vd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IC.type="LOCAL";const O3=IC;new pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t,e){return e?os(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends Fx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L3(t){return yC(t.auth,new zx(t),t.bypassAuthState)}function M3(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),u3(n,new zx(t),t.bypassAuthState)}async function V3(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),d3(n,new zx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L3;case"linkViaPopup":case"linkViaRedirect":return V3;case"reauthViaPopup":case"reauthViaRedirect":return M3;default:or(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new pd(2e3,1e4);async function U3(t,e,n){const r=js(t);h4(t,e,$x);const s=CC(r,n);return new Mi(r,"signInViaPopup",e,s).executeNotNull()}class Mi extends AC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Mi.currentPopupAction&&Mi.currentPopupAction.cancel(),Mi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Bx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F3.get())};e()}}Mi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="pendingRedirect",xu=new Map;class B3 extends AC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xu.get(this.auth._key());if(!e){try{const r=await z3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xu.set(this.auth._key(),e)}return this.bypassAuthState||xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z3(t,e){const n=W3(e),r=q3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function H3(t,e){xu.set(t._key(),e)}function q3(t){return os(t._redirectPersistence)}function W3(t){return yu($3,t.config.apiKey,t.name)}async function G3(t,e,n=!1){const r=js(t),s=CC(r,e),o=await new B3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=10*60*1e3;class Y3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tj(e))}saveEventToCache(e){this.cachedEventUids.add(Tj(e)),this.lastProcessedEventTime=Date.now()}}function Tj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e={}){return Kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z3=/^https?/;async function eB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X3(t);for(const n of e)try{if(tB(n))return}catch{}or(t,"unauthorized-domain")}function tB(t){const e=qg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Z3.test(n))return!1;if(J3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new pd(3e4,6e4);function Ij(){const t=Fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rB(t){return new Promise((e,n)=>{var r,s,i;function o(){Ij(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ij(),n(Vr(t,"network-request-failed"))},timeout:nB.get()})}if(!((s=(r=Fr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Fr().gapi)===null||i===void 0)&&i.load)o();else{const l=H4("iframefcb");return Fr()[l]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},pC(`${z4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw bu=null,e})}let bu=null;function sB(t){return bu=bu||rB(t),bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new pd(5e3,15e3),aB="__/auth/iframe",oB="emulator/auth/iframe",lB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dB(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lx(e,oB):`https://${t.config.authDomain}/${aB}`,r={apiKey:e.apiKey,appName:t.name,v:fa},s=cB.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Xc(r).slice(1)}`}async function uB(t){const e=await sB(t),n=Fr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:dB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lB,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Vr(t,"network-request-failed"),l=Fr().setTimeout(()=>{i(o)},iB.get());function c(){Fr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fB=500,pB=600,mB="_blank",gB="http://localhost";class Cj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vB(t,e,n,r=fB,s=pB){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},hB),{width:r.toString(),height:s.toString(),top:i,left:o}),d=Tt().toLowerCase();n&&(l=oC(d)?mB:n),aC(d)&&(e=e||gB,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(R4(d)&&l!=="_self")return yB(e||"",l),new Cj(null);const h=window.open(e||"",l,u);le(h,t,"popup-blocked");try{h.focus()}catch{}return new Cj(h)}function yB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB="__/auth/handler",bB="emulator/auth/handler",wB=encodeURIComponent("fac");async function Aj(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:s};if(e instanceof $x){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof gd){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${wB}=${encodeURIComponent(c)}`:"";return`${jB(t)}?${Xc(l).slice(1)}${d}`}function jB({config:t}){return t.emulator?Lx(t,bB):`https://${t.authDomain}/${xB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class _B{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EC,this._completeRedirectFn=G3,this._overrideRedirectResult=H3}async _openPopup(e,n,r,s){var i;vs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Aj(e,n,r,qg(),s);return vB(e,o,Bx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Aj(e,n,r,qg(),s);return S3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(vs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uB(e),r=new Y3(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qp,{type:qp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[qp];o!==void 0&&n(!!o),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hC()||Vx()||Uf()}}const EB=_B;var kj="@firebase/auth",Pj="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TB(t){br(new ar("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fC(t)},d=new U4(r,s,i,c);return Y4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),br(new ar("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(r=>new NB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(kj,Pj,SB(t)),kn(kj,Pj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=5*60,CB=AS("authIdTokenMaxAge")||IB;let Rj=null;const AB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CB)return;const s=n==null?void 0:n.token;Rj!==s&&(Rj=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kB(t=nf()){const e=mi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=K4(t,{popupRedirectResolver:EB,persistence:[O3,_3,EC]}),r=AS("authTokenSyncURL");if(r){const i=AB(r);x3(n,i,()=>i(n.currentUser)),y3(n,o=>i(o))}const s=TS("auth");return s&&Q4(n,`http://${s}`),n}function PB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Vr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",PB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TB("Browser");const RB={apiKey:"AIzaSyCpaSOy7x5-SUdf-QpUb54LCQ-lgE_Ec8M",authDomain:"cvpr-e1339.firebaseapp.com",projectId:"cvpr-e1339",storageBucket:"cvpr-e1339.appspot.com",messagingSenderId:"1:739591090879:web:9107eeb8e1c90943de0c0a",appId:"1:739591090879:web:9107eeb8e1c90943de0c0a",measurementId:"G-KP8WLRJ2EB"},Hx=MS(RB),Ae=a4(Hx);WU(Hx);const W=hF(Hx),on=kB(),DB=new ns;function mr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ci(t){return!!t&&!!t[ot]}function ys(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===zB}(t)||Array.isArray(t)||!!t[Uj]||!!(!((e=t.constructor)===null||e===void 0)&&e[Uj])||qx(t)||Wx(t))}function ia(t,e,n){n===void 0&&(n=!1),Bo(t)===0?(n?Object.keys:io)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Bo(t){var e=t[ot];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:qx(t)?2:Wx(t)?3:0}function so(t,e){return Bo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function OB(t,e){return Bo(t)===2?t.get(e):t[e]}function PC(t,e,n){var r=Bo(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function RC(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function qx(t){return $B&&t instanceof Map}function Wx(t){return BB&&t instanceof Set}function Si(t){return t.o||t.t}function Gx(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=OC(t);delete e[ot];for(var n=io(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function Kx(t,e){return e===void 0&&(e=!1),Yx(t)||ci(t)||!ys(t)||(Bo(t)>1&&(t.set=t.add=t.clear=t.delete=LB),Object.freeze(t),e&&ia(t,function(n,r){return Kx(r,!0)},!0)),t}function LB(){mr(2)}function Yx(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ur(t){var e=Qg[t];return e||mr(18,t),e}function MB(t,e){Qg[t]||(Qg[t]=e)}function Gg(){return Vc}function Wp(t,e){e&&(Ur("Patches"),t.u=[],t.s=[],t.v=e)}function Eh(t){Kg(t),t.p.forEach(VB),t.p=null}function Kg(t){t===Vc&&(Vc=t.l)}function Dj(t){return Vc={p:[],l:Vc,h:t,m:!0,_:0}}function VB(t){var e=t[ot];e.i===0||e.i===1?e.j():e.g=!0}function Gp(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Ur("ES5").S(e,t,r),r?(n[ot].P&&(Eh(e),mr(4)),ys(t)&&(t=Nh(e,t),e.l||Sh(e,t)),e.u&&Ur("Patches").M(n[ot].t,t,e.u,e.s)):t=Nh(e,n,[]),Eh(e),e.u&&e.v(e.u,e.s),t!==DC?t:void 0}function Nh(t,e,n){if(Yx(e))return e;var r=e[ot];if(!r)return ia(e,function(l,c){return Oj(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Sh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=Gx(r.k):r.o,i=s,o=!1;r.i===3&&(i=new Set(s),s.clear(),o=!0),ia(i,function(l,c){return Oj(t,r,s,l,c,n,o)}),Sh(t,s,!1),n&&t.u&&Ur("Patches").N(r,n,t.u,t.s)}return r.o}function Oj(t,e,n,r,s,i,o){if(ci(s)){var l=Nh(t,s,i&&e&&e.i!==3&&!so(e.R,r)?i.concat(r):void 0);if(PC(n,r,l),!ci(l))return;t.m=!1}else o&&n.add(s);if(ys(s)&&!Yx(s)){if(!t.h.D&&t._<1)return;Nh(t,s),e&&e.A.l||Sh(t,s)}}function Sh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Kx(e,n)}function Kp(t,e){var n=t[ot];return(n?Si(n):t)[e]}function Lj(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Os(t){t.P||(t.P=!0,t.l&&Os(t.l))}function Yp(t){t.o||(t.o=Gx(t.t))}function Yg(t,e,n){var r=qx(e)?Ur("MapSet").F(e,n):Wx(e)?Ur("MapSet").T(e,n):t.O?function(s,i){var o=Array.isArray(s),l={i:o?1:0,A:i?i.A:Gg(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},c=l,d=Fc;o&&(c=[l],d=Ol);var u=Proxy.revocable(c,d),h=u.revoke,f=u.proxy;return l.k=f,l.j=h,f}(e,n):Ur("ES5").J(e,n);return(n?n.A:Gg()).p.push(r),r}function FB(t){return ci(t)||mr(22,t),function e(n){if(!ys(n))return n;var r,s=n[ot],i=Bo(n);if(s){if(!s.P&&(s.i<4||!Ur("ES5").K(s)))return s.t;s.I=!0,r=Mj(n,i),s.I=!1}else r=Mj(n,i);return ia(r,function(o,l){s&&OB(s.t,o)===l||PC(r,o,e(l))}),i===3?new Set(r):r}(t)}function Mj(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Gx(t)}function UB(){function t(i,o){var l=s[i];return l?l.enumerable=o:s[i]=l={configurable:!0,enumerable:o,get:function(){var c=this[ot];return Fc.get(c,i)},set:function(c){var d=this[ot];Fc.set(d,i,c)}},l}function e(i){for(var o=i.length-1;o>=0;o--){var l=i[o][ot];if(!l.P)switch(l.i){case 5:r(l)&&Os(l);break;case 4:n(l)&&Os(l)}}}function n(i){for(var o=i.t,l=i.k,c=io(l),d=c.length-1;d>=0;d--){var u=c[d];if(u!==ot){var h=o[u];if(h===void 0&&!so(o,u))return!0;var f=l[u],p=f&&f[ot];if(p?p.t!==h:!RC(f,h))return!0}}var g=!!o[ot];return c.length!==io(o).length+(g?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var l=Object.getOwnPropertyDescriptor(o,o.length-1);if(l&&!l.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var s={};MB("ES5",{J:function(i,o){var l=Array.isArray(i),c=function(u,h){if(u){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=OC(h);delete g[ot];for(var v=io(g),b=0;b<v.length;b++){var m=v[b];g[m]=t(m,u||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(l,i),d={i:l?5:4,A:o?o.A:Gg(),P:!1,I:!1,R:{},l:o,t:i,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,ot,{value:d,writable:!0}),c},S:function(i,o,l){l?ci(o)&&o[ot].A===i&&e(i.p):(i.u&&function c(d){if(d&&typeof d=="object"){var u=d[ot];if(u){var h=u.t,f=u.k,p=u.R,g=u.i;if(g===4)ia(f,function(x){x!==ot&&(h[x]!==void 0||so(h,x)?p[x]||c(f[x]):(p[x]=!0,Os(u)))}),ia(h,function(x){f[x]!==void 0||so(f,x)||(p[x]=!1,Os(u))});else if(g===5){if(r(u)&&(Os(u),p.length=!0),f.length<h.length)for(var v=f.length;v<h.length;v++)p[v]=!1;else for(var b=h.length;b<f.length;b++)p[b]=!0;for(var m=Math.min(f.length,h.length),y=0;y<m;y++)f.hasOwnProperty(y)||(p[y]=!0),p[y]===void 0&&c(f[y])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var Vj,Vc,Qx=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",$B=typeof Map<"u",BB=typeof Set<"u",Fj=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",DC=Qx?Symbol.for("immer-nothing"):((Vj={})["immer-nothing"]=!0,Vj),Uj=Qx?Symbol.for("immer-draftable"):"__$immer_draftable",ot=Qx?Symbol.for("immer-state"):"__$immer_state",zB=""+Object.prototype.constructor,io=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,OC=Object.getOwnPropertyDescriptors||function(t){var e={};return io(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Qg={},Fc={get:function(t,e){if(e===ot)return t;var n=Si(t);if(!so(n,e))return function(s,i,o){var l,c=Lj(i,o);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!ys(r)?r:r===Kp(t.t,e)?(Yp(t),t.o[e]=Yg(t.A.h,r,t)):r},has:function(t,e){return e in Si(t)},ownKeys:function(t){return Reflect.ownKeys(Si(t))},set:function(t,e,n){var r=Lj(Si(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=Kp(Si(t),e),i=s==null?void 0:s[ot];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(RC(n,s)&&(n!==void 0||so(t.t,e)))return!0;Yp(t),Os(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Kp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Yp(t),Os(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Si(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){mr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){mr(12)}},Ol={};ia(Fc,function(t,e){Ol[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ol.deleteProperty=function(t,e){return Ol.set.call(this,t,e,void 0)},Ol.set=function(t,e,n){return Fc.set.call(this,t[0],e,n,t[0])};var HB=function(){function t(n){var r=this;this.O=Fj,this.D=!0,this.produce=function(s,i,o){if(typeof s=="function"&&typeof i!="function"){var l=i;i=s;var c=r;return function(v){var b=this;v===void 0&&(v=l);for(var m=arguments.length,y=Array(m>1?m-1:0),x=1;x<m;x++)y[x-1]=arguments[x];return c.produce(v,function(_){var S;return(S=i).call.apply(S,[b,_].concat(y))})}}var d;if(typeof i!="function"&&mr(6),o!==void 0&&typeof o!="function"&&mr(7),ys(s)){var u=Dj(r),h=Yg(r,s,void 0),f=!0;try{d=i(h),f=!1}finally{f?Eh(u):Kg(u)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(v){return Wp(u,o),Gp(v,u)},function(v){throw Eh(u),v}):(Wp(u,o),Gp(d,u))}if(!s||typeof s!="object"){if((d=i(s))===void 0&&(d=s),d===DC&&(d=void 0),r.D&&Kx(d,!0),o){var p=[],g=[];Ur("Patches").M(s,d,p,g),o(p,g)}return d}mr(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(d){for(var u=arguments.length,h=Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return r.produceWithPatches(d,function(p){return s.apply(void 0,[p].concat(h))})};var o,l,c=r.produce(s,i,function(d,u){o=d,l=u});return typeof Promise<"u"&&c instanceof Promise?c.then(function(d){return[d,o,l]}):[c,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ys(n)||mr(8),ci(n)&&(n=FB(n));var r=Dj(this),s=Yg(this,n,void 0);return s[ot].C=!0,Kg(r),s},e.finishDraft=function(n,r){var s=n&&n[ot],i=s.A;return Wp(i,r),Gp(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Fj&&mr(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var o=Ur("Patches").$;return ci(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},t}(),qn=new HB,LC=qn.produce;qn.produceWithPatches.bind(qn);qn.setAutoFreeze.bind(qn);qn.setUseProxies.bind(qn);qn.applyPatches.bind(qn);qn.createDraft.bind(qn);qn.finishDraft.bind(qn);function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function qB(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WB(t){var e=qB(t,"string");return Uc(e)=="symbol"?e:String(e)}function GB(t,e,n){return e=WB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Bj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(n),!0).forEach(function(r){GB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var zj=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Qp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Th={INIT:"@@redux/INIT"+Qp(),REPLACE:"@@redux/REPLACE"+Qp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Qp()}};function KB(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Xx(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nn(1));return n(Xx)(t,e)}if(typeof t!="function")throw new Error(nn(2));var s=t,i=e,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(nn(3));return i}function h(v){if(typeof v!="function")throw new Error(nn(4));if(c)throw new Error(nn(5));var b=!0;return d(),l.push(v),function(){if(b){if(c)throw new Error(nn(6));b=!1,d();var y=l.indexOf(v);l.splice(y,1),o=null}}}function f(v){if(!KB(v))throw new Error(nn(7));if(typeof v.type>"u")throw new Error(nn(8));if(c)throw new Error(nn(9));try{c=!0,i=s(i,v)}finally{c=!1}for(var b=o=l,m=0;m<b.length;m++){var y=b[m];y()}return v}function p(v){if(typeof v!="function")throw new Error(nn(10));s=v,f({type:Th.REPLACE})}function g(){var v,b=h;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(nn(11));function x(){y.next&&y.next(u())}x();var _=b(x);return{unsubscribe:_}}},v[zj]=function(){return this},v}return f({type:Th.INIT}),r={dispatch:f,subscribe:h,getState:u,replaceReducer:p},r[zj]=g,r}function YB(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Th.INIT});if(typeof r>"u")throw new Error(nn(12));if(typeof n(void 0,{type:Th.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nn(13))})}function MC(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),o;try{YB(n)}catch(l){o=l}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var u=!1,h={},f=0;f<i.length;f++){var p=i[f],g=n[p],v=c[p],b=g(v,d);if(typeof b>"u")throw d&&d.type,new Error(nn(14));h[p]=b,u=u||b!==v}return u=u||i.length!==Object.keys(c).length,u?h:c}}function Ih(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function QB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(nn(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(o)});return i=Ih.apply(void 0,l)(s.dispatch),Bj(Bj({},s),{},{dispatch:i})}}}function VC(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(o){return function(l){return typeof l=="function"?l(s,i,t):o(l)}}};return e}var FC=VC();FC.withExtraArgument=VC;const Xg=FC;var UC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),XB=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(u){d=[6,u],s=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Co=function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},JB=Object.defineProperty,ZB=Object.defineProperties,ez=Object.getOwnPropertyDescriptors,Hj=Object.getOwnPropertySymbols,tz=Object.prototype.hasOwnProperty,nz=Object.prototype.propertyIsEnumerable,qj=function(t,e,n){return e in t?JB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ti=function(t,e){for(var n in e||(e={}))tz.call(e,n)&&qj(t,n,e[n]);if(Hj)for(var r=0,s=Hj(e);r<s.length;r++){var n=s[r];nz.call(e,n)&&qj(t,n,e[n])}return t},Xp=function(t,e){return ZB(t,ez(e))},rz=function(t,e,n){return new Promise(function(r,s){var i=function(c){try{l(n.next(c))}catch(d){s(d)}},o=function(c){try{l(n.throw(c))}catch(d){s(d)}},l=function(c){return c.done?r(c.value):Promise.resolve(c.value).then(i,o)};l((n=n.apply(t,e)).next())})},sz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ih:Ih.apply(null,arguments)};function iz(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function ni(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return ti(ti({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var az=function(t){UC(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Co([void 0],n[0].concat(this)))):new(e.bind.apply(e,Co([void 0],n.concat(this))))},e}(Array),oz=function(t){UC(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Co([void 0],n[0].concat(this)))):new(e.bind.apply(e,Co([void 0],n.concat(this))))},e}(Array);function Jg(t){return ys(t)?LC(t,function(){}):t}function lz(t){return typeof t=="boolean"}function cz(){return function(e){return dz(e)}}function dz(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new az;return n&&(lz(n)?r.push(Xg):r.push(Xg.withExtraArgument(n.extraArgument))),r}var uz=!0;function hz(t){var e=cz(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,o=i===void 0?e():i,l=n.devTools,c=l===void 0?!0:l,d=n.preloadedState,u=d===void 0?void 0:d,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof s=="function")p=s;else if(iz(s))p=MC(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var v=QB.apply(void 0,g),b=Ih;c&&(b=sz(ti({trace:!uz},typeof c=="object"&&c)));var m=new oz(v),y=m;Array.isArray(f)?y=Co([v],f):typeof f=="function"&&(y=f(m));var x=b.apply(void 0,y);return Xx(p,u,x)}function $C(t){var e={},n=[],r,s={addCase:function(i,o){var l=typeof i=="string"?i:i.type;if(!l)throw new Error("`builder.addCase` cannot be called with an empty action type");if(l in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[l]=o,s},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function fz(t){return typeof t=="function"}function pz(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?$C(e):[e,n,r],i=s[0],o=s[1],l=s[2],c;if(fz(t))c=function(){return Jg(t())};else{var d=Jg(t);c=function(){return d}}function u(h,f){h===void 0&&(h=c());var p=Co([i[f.type]],o.filter(function(g){var v=g.matcher;return v(f)}).map(function(g){var v=g.reducer;return v}));return p.filter(function(g){return!!g}).length===0&&(p=[l]),p.reduce(function(g,v){if(v)if(ci(g)){var b=g,m=v(b,f);return m===void 0?g:m}else{if(ys(g))return LC(g,function(y){return v(y,f)});var m=v(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return u.getInitialState=c,u}function mz(t,e){return t+"/"+e}function Bt(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Jg(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},o={},l={};s.forEach(function(u){var h=r[u],f=mz(e,u),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,i[u]=p,o[f]=p,l[u]=g?ni(f,g):ni(f)});function c(){var u=typeof t.extraReducers=="function"?$C(t.extraReducers):[t.extraReducers],h=u[0],f=h===void 0?{}:h,p=u[1],g=p===void 0?[]:p,v=u[2],b=v===void 0?void 0:v,m=ti(ti({},f),o);return pz(n,function(y){for(var x in m)y.addCase(x,m[x]);for(var _=0,S=g;_<S.length;_++){var E=S[_];y.addMatcher(E.matcher,E.reducer)}b&&y.addDefaultCase(b)})}var d;return{name:e,reducer:function(u,h){return d||(d=c()),d(u,h)},actions:l,caseReducers:i,getInitialState:function(){return d||(d=c()),d.getInitialState()}}}var gz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",vz=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=gz[Math.random()*64|0];return e},yz=["name","message","stack","code"],Jp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Wj=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),xz=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=yz;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=ni(e+"/fulfilled",function(d,u,h,f){return{payload:d,meta:Xp(ti({},f||{}),{arg:h,requestId:u,requestStatus:"fulfilled"})}}),i=ni(e+"/pending",function(d,u,h){return{payload:void 0,meta:Xp(ti({},h||{}),{arg:u,requestId:d,requestStatus:"pending"})}}),o=ni(e+"/rejected",function(d,u,h,f,p){return{payload:f,error:(r&&r.serializeError||xz)(d||"Rejected"),meta:Xp(ti({},p||{}),{arg:h,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"})}}),l=typeof AbortController<"u"?AbortController:function(){function d(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return d.prototype.abort=function(){},d}();function c(d){return function(u,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(d):vz(),g=new l,v;function b(y){v=y,g.abort()}var m=function(){return rz(this,null,function(){var y,x,_,S,E,I,w;return XB(this,function(j){switch(j.label){case 0:return j.trys.push([0,4,,5]),S=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,d,{getState:h,extra:f}),wz(S)?[4,S]:[3,2];case 1:S=j.sent(),j.label=2;case 2:if(S===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(N,k){return g.signal.addEventListener("abort",function(){return k({name:"AbortError",message:v||"Aborted"})})}),u(i(p,d,(x=r==null?void 0:r.getPendingMeta)==null?void 0:x.call(r,{requestId:p,arg:d},{getState:h,extra:f}))),[4,Promise.race([E,Promise.resolve(n(d,{dispatch:u,getState:h,extra:f,requestId:p,signal:g.signal,abort:b,rejectWithValue:function(N,k){return new Jp(N,k)},fulfillWithValue:function(N,k){return new Wj(N,k)}})).then(function(N){if(N instanceof Jp)throw N;return N instanceof Wj?s(N.payload,p,d,N.meta):s(N,p,d)})])];case 3:return _=j.sent(),[3,5];case 4:return I=j.sent(),_=I instanceof Jp?o(null,p,d,I.payload,I.meta):o(I,p,d),[3,5];case 5:return w=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,w||u(_),[2,_]}})})}();return Object.assign(m,{abort:b,requestId:p,arg:d,unwrap:function(){return m.then(bz)}})}}return Object.assign(c,{pending:i,rejected:o,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function bz(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function wz(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Jx="listenerMiddleware";ni(Jx+"/add");ni(Jx+"/removeAll");ni(Jx+"/remove");var Gj;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);UB();const Kj={email:"",userType:"",isVarified:!1},BC=Bt({name:"UserAuth",initialState:Kj,reducers:{getUserAuthSuccessAction:(t,e)=>({...t,email:e.payload.email,userType:e.payload.userType,isVarified:e.payload.isVarified}),getUserAuthLogoutAction:t=>({...t,initialState:Kj})}}),{getUserAuthSuccessAction:jz,getUserAuthLogoutAction:Yj}=BC.actions,Qj={data:[]},zC=Bt({name:"News",initialState:Qj,reducers:{getNewsSuccessAction:(t,e)=>{t.data=e.payload},getNewsFailedAction:t=>{t.data=Qj.data}}}),{getNewsSuccessAction:_z,getNewsFailedAction:lG}=zC.actions,Xj={data:[]},HC=Bt({name:"Slider",initialState:Xj,reducers:{getSliderSuccessAction:(t,e)=>{t.data=e.payload},getSliderFailedAction:t=>{t.data=Xj.data}}}),{getSliderSuccessAction:Ez,getSliderFailedAction:cG}=HC.actions,Jj={data:[]},qC=Bt({name:"Publications",initialState:Jj,reducers:{getPublicationsSuccessAction:(t,e)=>{t.data=e.payload},getPublicationsFailedAction:t=>{t.data=Jj.data}}}),{getPublicationsSuccessAction:Nz,getPublicationsFailedAction:dG}=qC.actions,Zj={data:[]},WC=Bt({name:"Supervisors",initialState:Zj,reducers:{getSupervisorsSuccessAction:(t,e)=>{t.data=e.payload},getSupervisorsFailedAction:t=>{t.data=Zj.data}}}),{getSupervisorsSuccessAction:Sz,getSupervisorsFailedAction:uG}=WC.actions,e_={data:[]},GC=Bt({name:"Phd",initialState:e_,reducers:{getPhdSuccessAction:(t,e)=>{t.data=e.payload},getPhdFailedAction:t=>{t.data=e_.data}}}),{getPhdSuccessAction:Tz,getPhdFailedAction:hG}=GC.actions,t_={data:[]},KC=Bt({name:"PHUG",initialState:t_,reducers:{getPHUGSuccessAction:(t,e)=>{t.data=e.payload},getPHUGFailedAction:t=>{t.data=t_.data}}}),{getPHUGSuccessAction:Iz,getPHUGFailedAction:fG}=KC.actions,n_={data:[]},YC=Bt({name:"VisitorsAndInterns",initialState:n_,reducers:{getVisitorsAndInternsSuccessAction:(t,e)=>{t.data=e.payload},getVisitorsAndInternsFailedAction:t=>{t.data=n_.data}}}),{getVisitorsAndInternsSuccessAction:Cz,getVisitorsAndInternsFailedAction:pG}=YC.actions,r_={data:[]},QC=Bt({name:"Datasets",initialState:r_,reducers:{getDatasetsSuccessAction:(t,e)=>{t.data=e.payload},getDatasetsFailedAction:t=>{t.data=r_.data}}}),{getDatasetsSuccessAction:Az,getDatasetsFailedAction:mG}=QC.actions,s_={data:[]},XC=Bt({name:"ResearchArea",initialState:s_,reducers:{getResearchAreaSuccessAction:(t,e)=>{t.data=e.payload},getResearchAreaFailedAction:t=>{t.data=s_.data}}}),{getResearchAreaSuccessAction:kz,getResearchAreaFailedAction:gG}=XC.actions,i_={data:[]},JC=Bt({name:"SubAreas",initialState:i_,reducers:{getSubAreasSuccessAction:(t,e)=>{t.data=e.payload},getSubAreasFailedAction:t=>{t.data=i_.data}}}),{getSubAreasSuccessAction:Pz,getSubAreasFailedAction:vG}=JC.actions,a_={data:[]},ZC=Bt({name:"ProjectsItems",initialState:a_,reducers:{getProjectsItemsSuccessAction:(t,e)=>{t.data=e.payload},getProjectsItemsFailedAction:t=>{t.data=a_.data}}}),{getProjectsItemsSuccessAction:Rz,getProjectsItemsFailedAction:yG}=ZC.actions,o_={data:[]},eA=Bt({name:"ProjectsMain",initialState:o_,reducers:{getProjectsMainSuccessAction:(t,e)=>{t.data=e.payload},getProjectsMainFailedAction:t=>{t.data=o_.data}}}),{getProjectsMainSuccessAction:Dz,getProjectsMainFailedAction:xG}=eA.actions,l_={data:[]},tA=Bt({name:"Gallery",initialState:l_,reducers:{getGallerySuccessAction:(t,e)=>{t.data=e.payload},getGalleryFailedAction:t=>{t.data=l_.data}}}),{getGallerySuccessAction:Oz,getGalleryFailedAction:bG}=tA.actions,c_={data:[]},nA=Bt({name:"Datasets",initialState:c_,reducers:{getAlertsSuccessAction:(t,e)=>{t.data=e.payload},getAlertsFailedAction:t=>{t.data=c_.data}}}),{getAlertsSuccessAction:rA,getAlertsFailedAction:wG}=nA.actions,d_={data:[]},sA=Bt({name:"ProjectsImages",initialState:d_,reducers:{getProjectsImagesSuccessAction:(t,e)=>{t.data=e.payload},getProjectsImagesFailedAction:t=>{t.data=d_.data}}}),{getProjectsImagesSuccessAction:Lz,getProjectsImagesFailedAction:jG}=sA.actions,u_={data:null},iA=Bt({name:"SiteSettings",initialState:u_,reducers:{getSiteSettingsSuccessAction:(t,e)=>({...t,data:e.payload}),getSiteSettingsErrorAction:t=>({...t,initialState:u_})}}),{getSiteSettingsSuccessAction:Mz,getSiteSettingsErrorAction:Vz}=iA.actions,h_={data:[]},aA=Bt({name:"ResearchTopics",initialState:h_,reducers:{getResearchTopicsSuccessAction:(t,e)=>{t.data=e.payload},getResearchTopicsFailedAction:t=>{t.data=h_.data}}}),{getResearchTopicsSuccessAction:Fz,getResearchTopicsFailedAction:_G}=aA.actions,Uz=MC({getsettings:iA.reducer,getauth:BC.reducer,getnews:zC.reducer,getslider:HC.reducer,getpublications:qC.reducer,getsupervisors:WC.reducer,getphdStudents:GC.reducer,getpgugStudents:KC.reducer,getvisitorsandinterns:YC.reducer,getdatasets:QC.reducer,getresearcharea:XC.reducer,getsubareas:JC.reducer,getprojectitems:ZC.reducer,getprojectsmain:eA.reducer,getgallery:tA.reducer,getalerts:nA.reducer,getprojectsimages:sA.reducer,getResearchTopics:aA.reducer});var Zx="persist:",oA="persist/FLUSH",eb="persist/REHYDRATE",lA="persist/PAUSE",cA="persist/PERSIST",dA="persist/PURGE",uA="persist/REGISTER",$z=-1;function wu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(n){return typeof n}:wu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wu(t)}function f_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Bz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f_(n,!0).forEach(function(r){zz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hz(t,e,n,r){r.debug;var s=Bz({},n);return t&&wu(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(s[i]=t[i])}),s}function qz(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:Zx).concat(t.key),o=t.storage,l;t.serialize===!1?l=function(S){return S}:typeof t.serialize=="function"?l=t.serialize:l=Wz;var c=t.writeFailHandler||null,d={},u={},h=[],f=null,p=null,g=function(S){Object.keys(S).forEach(function(E){m(E)&&d[E]!==S[E]&&h.indexOf(E)===-1&&h.push(E)}),Object.keys(d).forEach(function(E){S[E]===void 0&&m(E)&&h.indexOf(E)===-1&&d[E]!==void 0&&h.push(E)}),f===null&&(f=setInterval(v,s)),d=S};function v(){if(h.length===0){f&&clearInterval(f),f=null;return}var _=h.shift(),S=r.reduce(function(E,I){return I.in(E,_,d)},d[_]);if(S!==void 0)try{u[_]=l(S)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete u[_];h.length===0&&b()}function b(){Object.keys(u).forEach(function(_){d[_]===void 0&&delete u[_]}),p=o.setItem(i,l(u)).catch(y)}function m(_){return!(n&&n.indexOf(_)===-1&&_!=="_persist"||e&&e.indexOf(_)!==-1)}function y(_){c&&c(_)}var x=function(){for(;h.length!==0;)v();return p||Promise.resolve()};return{update:g,flush:x}}function Wz(t){return JSON.stringify(t)}function Gz(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Zx).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(o){return o}:typeof t.deserialize=="function"?s=t.deserialize:s=Kz,r.getItem(n).then(function(i){if(i)try{var o={},l=s(i);return Object.keys(l).forEach(function(c){o[c]=e.reduceRight(function(d,u){return u.out(d,c,l)},s(l[c]))}),o}catch(c){throw c}else return})}function Kz(t){return JSON.parse(t)}function Yz(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Zx).concat(t.key);return e.removeItem(n,Qz)}function Qz(t){}function p_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p_(n,!0).forEach(function(r){Xz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jz(t,e){if(t==null)return{};var n=Zz(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var e9=5e3;function t9(t,e){var n=t.version!==void 0?t.version:$z;t.debug;var r=t.stateReconciler===void 0?Hz:t.stateReconciler,s=t.getStoredState||Gz,i=t.timeout!==void 0?t.timeout:e9,o=null,l=!1,c=!0,d=function(h){return h._persist.rehydrated&&o&&!c&&o.update(h),h};return function(u,h){var f=u||{},p=f._persist,g=Jz(f,["_persist"]),v=g;if(h.type===cA){var b=!1,m=function(w,j){b||(h.rehydrate(t.key,w,j),b=!0)};if(i&&setTimeout(function(){!b&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,o||(o=qz(t)),p)return Qr({},e(v,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(I){var w=t.migrate||function(j,N){return Promise.resolve(j)};w(I,n).then(function(j){m(j)},function(j){m(void 0,j)})},function(I){m(void 0,I)}),Qr({},e(v,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===dA)return l=!0,h.result(Yz(t)),Qr({},e(v,h),{_persist:p});if(h.type===oA)return h.result(o&&o.flush()),Qr({},e(v,h),{_persist:p});if(h.type===lA)c=!0;else if(h.type===eb){if(l)return Qr({},v,{_persist:Qr({},p,{rehydrated:!0})});if(h.key===t.key){var y=e(v,h),x=h.payload,_=r!==!1&&x!==void 0?r(x,u,y,t):y,S=Qr({},_,{_persist:Qr({},p,{rehydrated:!0})});return d(S)}}}if(!p)return e(u,h);var E=e(v,h);return E===v?u:d(Qr({},E,{_persist:p}))}}function m_(t){return s9(t)||r9(t)||n9()}function n9(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r9(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function s9(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function g_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g_(n,!0).forEach(function(r){i9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hA={registry:[],bootstrapped:!1},a9=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hA,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case uA:return Zg({},e,{registry:[].concat(m_(e.registry),[n.key])});case eb:var r=e.registry.indexOf(n.key),s=m_(e.registry);return s.splice(r,1),Zg({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function o9(t,e,n){var r=n||!1,s=Xx(a9,hA,e&&e.enhancer?e.enhancer:void 0),i=function(d){s.dispatch({type:uA,key:d})},o=function(d,u,h){var f={type:eb,payload:u,err:h,key:d};t.dispatch(f),s.dispatch(f),r&&l.getState().bootstrapped&&(r(),r=!1)},l=Zg({},s,{purge:function(){var d=[];return t.dispatch({type:dA,result:function(h){d.push(h)}}),Promise.all(d)},flush:function(){var d=[];return t.dispatch({type:oA,result:function(h){d.push(h)}}),Promise.all(d)},pause:function(){t.dispatch({type:lA})},persist:function(){t.dispatch({type:cA,register:i,rehydrate:o})}});return e&&e.manualPersist||l.persist(),l}var fA={},tb={},nb={};Object.defineProperty(nb,"__esModule",{value:!0});function Yd(){}const l9={getItem:Yd,setItem:Yd,removeItem:Yd,keys:[],getAllKeys:Yd};function c9(t){if(typeof self!="object"||!(t in self))return!1;try{const e=self[t],n=`reduxjs-toolkit-persist ${t} test`;e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function d9(t){const e=`${t}Storage`;return c9(e)?self[e]:l9}nb.default=d9;var u9=nc&&nc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tb,"__esModule",{value:!0});const h9=u9(nb);function f9(t){const e=(0,h9.default)(t);return{getItem:n=>new Promise(r=>{r(e.getItem(n))}),setItem:(n,r)=>new Promise(s=>{s(e.setItem(n,r))}),removeItem:n=>new Promise(r=>{r(e.removeItem(n))})}}tb.default=f9;var p9=nc&&nc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fA,"__esModule",{value:!0});const m9=p9(tb),g9=(0,m9.default)("session");var v9=fA.default=g9;const y9={key:"root",storage:v9},x9=t9(y9,Uz),ut=hz({reducer:x9,middleware:[Xg]}),b9=o9(ut),zo=async()=>{try{const t=re(W,"publications"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ut.dispatch(Nz(n))}catch(t){console.error("Error fetching Publications:",t)}};async function w9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Publications ID");return}try{const e=ye(W,"publications",t);await bn(e),alert("Publications deleted successfully!"),location.reload()}catch{alert("Error deleting Publications!")}}}var pA={exports:{}},mA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=T;function j9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _9=typeof Object.is=="function"?Object.is:j9,E9=yd.useSyncExternalStore,N9=yd.useRef,S9=yd.useEffect,T9=yd.useMemo,I9=yd.useDebugValue;mA.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=N9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=T9(function(){function c(p){if(!d){if(d=!0,u=p,p=r(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return h=g}return h=p}if(g=h,_9(u,p))return g;var v=r(p);return s!==void 0&&s(g,v)?g:(u=p,h=v)}var d=!1,u,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,s]);var l=E9(t,i[0],i[1]);return S9(function(){o.hasValue=!0,o.value=l},[l]),I9(l),l};pA.exports=mA;var C9=pA.exports,Un="default"in vm?Pe:vm,v_=Symbol.for("react-redux-context"),y_=typeof globalThis<"u"?globalThis:{};function A9(){if(!Un.createContext)return{};const t=y_[v_]??(y_[v_]=new Map);let e=t.get(Un.createContext);return e||(e=Un.createContext(null),t.set(Un.createContext,e)),e}var di=A9(),k9=()=>{throw new Error("uSES not initialized!")};function rb(t=di){return function(){return Un.useContext(t)}}var gA=rb(),vA=k9,P9=t=>{vA=t},R9=(t,e)=>t===e;function D9(t=di){const e=t===di?gA:rb(t),n=(r,s={})=>{const{equalityFn:i=R9,devModeChecks:o={}}=typeof s=="function"?{equalityFn:s}:s,{store:l,subscription:c,getServerState:d,stabilityCheck:u,identityFunctionCheck:h}=e();Un.useRef(!0);const f=Un.useCallback({[r.name](g){return r(g)}}[r.name],[r,u,o.stabilityCheck]),p=vA(c.addNestedSub,l.getState,d||l.getState,f,i);return Un.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var K=D9();function O9(t){t()}function L9(){let t=null,e=null;return{clear(){t=null,e=null},notify(){O9(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var x_={notify(){},get:()=>[]};function M9(t,e){let n,r=x_,s=0,i=!1;function o(v){u();const b=r.subscribe(v);let m=!1;return()=>{m||(m=!0,b(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){s++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=L9())}function h(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=x_)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,h())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var V9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F9=V9?Un.useLayoutEffect:Un.useEffect;function U9({store:t,context:e,children:n,serverState:r,stabilityCheck:s="once",identityFunctionCheck:i="once"}){const o=Un.useMemo(()=>{const d=M9(t);return{store:t,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:s,identityFunctionCheck:i}},[t,r,s,i]),l=Un.useMemo(()=>t.getState(),[t]);F9(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=e||di;return Un.createElement(c.Provider,{value:o},n)}var $9=U9;function yA(t=di){const e=t===di?gA:rb(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var B9=yA();function z9(t=di){const e=t===di?B9:yA(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var H9=z9();P9(C9.useSyncExternalStoreWithSelector);const xs=async()=>{try{const t=re(W,"supervisors"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null,l=i.profileImage,c=l?await q9(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),ut.dispatch(Sz(n))}catch(t){console.error("Error fetching Supervisors:",t)}},q9=async t=>{try{const e=Ce(Ae,`/peoples/supervisor_profile_images/${t}`);return await Gr(e)}catch{return null}};async function W9(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Supervisors ID");return}try{const e=ye(W,"supervisors",t),s=(await Rn(e)).data().profileImage;if(await bn(e),s){const i=Ce(Ae,`/peoples/supervisor_profile_images/${s}`);await Er(i)}alert("Supervisors item and image deleted successfully!"),location.reload()}catch{alert("Error deleting Supervisors!")}}}var xA={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(nc,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,o={},l=0,c={parse:function(w,j){var N=(j=j||{}).dynamicTyping||!1;if(I(N)&&(j.dynamicTypingFunction=N,N={}),j.dynamicTyping=N,j.transform=!!I(j.transform)&&j.transform,j.worker&&c.WORKERS_SUPPORTED){var k=function(){if(!c.WORKERS_SUPPORTED)return!1;var R=(z=r.URL||r.webkitURL||null,L=n.toString(),c.BLOB_URL||(c.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))),V=new r.Worker(R),z,L;return V.onmessage=y,V.id=l++,o[V.id]=V}();return k.userStep=j.step,k.userChunk=j.chunk,k.userComplete=j.complete,k.userError=j.error,j.step=I(j.step),j.chunk=I(j.chunk),j.complete=I(j.complete),j.error=I(j.error),delete j.worker,void k.postMessage({input:w,config:j,workerId:k.id})}var C=null;return c.NODE_STREAM_INPUT,typeof w=="string"?(w=function(R){return R.charCodeAt(0)===65279?R.slice(1):R}(w),C=j.download?new h(j):new p(j)):w.readable===!0&&I(w.read)&&I(w.on)?C=new g(j):(r.File&&w instanceof File||w instanceof Object)&&(C=new f(j)),C.stream(w)},unparse:function(w,j){var N=!1,k=!0,C=",",R=`\r
`,V='"',z=V+V,L=!1,A=null,D=!1;(function(){if(typeof j=="object"){if(typeof j.delimiter!="string"||c.BAD_DELIMITERS.filter(function(O){return j.delimiter.indexOf(O)!==-1}).length||(C=j.delimiter),(typeof j.quotes=="boolean"||typeof j.quotes=="function"||Array.isArray(j.quotes))&&(N=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(L=j.skipEmptyLines),typeof j.newline=="string"&&(R=j.newline),typeof j.quoteChar=="string"&&(V=j.quoteChar),typeof j.header=="boolean"&&(k=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");A=j.columns}j.escapeChar!==void 0&&(z=j.escapeChar+V),(typeof j.escapeFormulae=="boolean"||j.escapeFormulae instanceof RegExp)&&(D=j.escapeFormulae instanceof RegExp?j.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var M=new RegExp(b(V),"g");if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return $(null,w,L);if(typeof w[0]=="object")return $(A||Object.keys(w[0]),w,L)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||A),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),$(w.fields||[],w.data||[],L);throw new Error("Unable to serialize unrecognized input");function $(O,U,ee){var se="";typeof O=="string"&&(O=JSON.parse(O)),typeof U=="string"&&(U=JSON.parse(U));var fe=Array.isArray(O)&&0<O.length,xe=!Array.isArray(U[0]);if(fe&&k){for(var Be=0;Be<O.length;Be++)0<Be&&(se+=C),se+=H(O[Be],Be);0<U.length&&(se+=R)}for(var ie=0;ie<U.length;ie++){var ve=fe?O.length:U[ie].length,ke=!1,Fe=fe?Object.keys(U[ie]).length===0:U[ie].length===0;if(ee&&!fe&&(ke=ee==="greedy"?U[ie].join("").trim()==="":U[ie].length===1&&U[ie][0].length===0),ee==="greedy"&&fe){for(var Ee=[],Ye=0;Ye<ve;Ye++){var De=xe?O[Ye]:Ye;Ee.push(U[ie][De])}ke=Ee.join("").trim()===""}if(!ke){for(var oe=0;oe<ve;oe++){0<oe&&!Fe&&(se+=C);var Oe=fe&&xe?O[oe]:oe;se+=H(U[ie][Oe],oe)}ie<U.length-1&&(!ee||0<ve&&!Fe)&&(se+=R)}}return se}function H(O,U){if(O==null)return"";if(O.constructor===Date)return JSON.stringify(O).slice(1,25);var ee=!1;D&&typeof O=="string"&&D.test(O)&&(O="'"+O,ee=!0);var se=O.toString().replace(M,z);return(ee=ee||N===!0||typeof N=="function"&&N(O,U)||Array.isArray(N)&&N[U]||function(fe,xe){for(var Be=0;Be<xe.length;Be++)if(-1<fe.indexOf(xe[Be]))return!0;return!1}(se,c.BAD_DELIMITERS)||-1<se.indexOf(C)||se.charAt(0)===" "||se.charAt(se.length-1)===" ")?V+se+V:se}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=m,c.ParserHandle=v,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery){var d=r.jQuery;d.fn.parse=function(w){var j=w.config||{},N=[];return this.each(function(R){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)N.push({file:this.files[V],inputElem:this,instanceConfig:d.extend({},j)})}),k(),this;function k(){if(N.length!==0){var R,V,z,L,A=N[0];if(I(w.before)){var D=w.before(A.file,A.inputElem);if(typeof D=="object"){if(D.action==="abort")return R="AbortError",V=A.file,z=A.inputElem,L=D.reason,void(I(w.error)&&w.error({name:R},V,z,L));if(D.action==="skip")return void C();typeof D.config=="object"&&(A.instanceConfig=d.extend(A.instanceConfig,D.config))}else if(D==="skip")return void C()}var M=A.instanceConfig.complete;A.instanceConfig.complete=function($){I(M)&&M($,A.file,A.inputElem),C()},c.parse(A.file,A.instanceConfig)}else I(w.complete)&&w.complete()}function C(){N.splice(0,1),k()}}}function u(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var N=S(j);N.chunkSize=parseInt(N.chunkSize),j.step||j.chunk||(N.chunkSize=null),this._handle=new v(N),(this._handle.streamer=this)._config=N}).call(this,w),this.parseChunk=function(j,N){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var k=this._config.beforeFirstChunk(j);k!==void 0&&(j=k)}this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+j;this._partialLine="";var R=this._handle.parse(C,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var V=R.meta.cursor;this._finished||(this._partialLine=C.substring(V-this._baseIndex),this._baseIndex=V),R&&R.data&&(this._rowCount+=R.data.length);var z=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:R,workerId:c.WORKER_ID,finished:z});else if(I(this._config.chunk)&&!N){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);R=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!z||!I(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),z||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(j){I(this._config.error)?this._config.error(j):i&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:j,finished:!1})}}function h(w){var j;(w=w||{}).chunkSize||(w.chunkSize=c.RemoteChunkSize),u.call(this,w),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),s||(j.onload=E(this._chunkLoaded,this),j.onerror=E(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var k in N)j.setRequestHeader(k,N[k])}if(this._config.chunkSize){var C=this._start+this._config.chunkSize-1;j.setRequestHeader("Range","bytes="+this._start+"-"+C)}try{j.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}s&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:j.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(N){var k=N.getResponseHeader("Content-Range");return k===null?-1:parseInt(k.substring(k.lastIndexOf("/")+1))}(j),this.parseChunk(j.responseText)))},this._chunkError=function(N){var k=j.statusText||N;this._sendError(new Error(k))}}function f(w){var j,N;(w=w||{}).chunkSize||(w.chunkSize=c.LocalChunkSize),u.call(this,w);var k=typeof FileReader<"u";this.stream=function(C){this._input=C,N=C.slice||C.webkitSlice||C.mozSlice,k?((j=new FileReader).onload=E(this._chunkLoaded,this),j.onerror=E(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input;if(this._config.chunkSize){var R=Math.min(this._start+this._config.chunkSize,this._input.size);C=N.call(C,this._start,R)}var V=j.readAsText(C,this._config.encoding);k||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(j.error)}}function p(w){var j;u.call(this,w=w||{}),this.stream=function(N){return j=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,k=this._config.chunkSize;return k?(N=j.substring(0,k),j=j.substring(k)):(N=j,j=""),this._finished=!j,this.parseChunk(N)}}}function g(w){u.call(this,w=w||{});var j=[],N=!0,k=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):N=!0},this._streamData=E(function(C){try{j.push(typeof C=="string"?C:C.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(R){this._streamError(R)}},this),this._streamError=E(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=E(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(w){var j,N,k,C=Math.pow(2,53),R=-C,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,L=this,A=0,D=0,M=!1,$=!1,H=[],O={data:[],errors:[],meta:{}};if(I(w.step)){var U=w.step;w.step=function(ie){if(O=ie,fe())se();else{if(se(),O.data.length===0)return;A+=ie.data.length,w.preview&&A>w.preview?N.abort():(O.data=O.data[0],U(O,L))}}}function ee(ie){return w.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function se(){return O&&k&&(Be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),k=!1),w.skipEmptyLines&&(O.data=O.data.filter(function(ie){return!ee(ie)})),fe()&&function(){if(!O)return;function ie(ke,Fe){I(w.transformHeader)&&(ke=w.transformHeader(ke,Fe)),H.push(ke)}if(Array.isArray(O.data[0])){for(var ve=0;fe()&&ve<O.data.length;ve++)O.data[ve].forEach(ie);O.data.splice(0,1)}else O.data.forEach(ie)}(),function(){if(!O||!w.header&&!w.dynamicTyping&&!w.transform)return O;function ie(ke,Fe){var Ee,Ye=w.header?{}:[];for(Ee=0;Ee<ke.length;Ee++){var De=Ee,oe=ke[Ee];w.header&&(De=Ee>=H.length?"__parsed_extra":H[Ee]),w.transform&&(oe=w.transform(oe,De)),oe=xe(De,oe),De==="__parsed_extra"?(Ye[De]=Ye[De]||[],Ye[De].push(oe)):Ye[De]=oe}return w.header&&(Ee>H.length?Be("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+Ee,D+Fe):Ee<H.length&&Be("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+Ee,D+Fe)),Ye}var ve=1;return!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(ie),ve=O.data.length):O.data=ie(O.data,0),w.header&&O.meta&&(O.meta.fields=H),D+=ve,O}()}function fe(){return w.header&&H.length===0}function xe(ie,ve){return ke=ie,w.dynamicTypingFunction&&w.dynamicTyping[ke]===void 0&&(w.dynamicTyping[ke]=w.dynamicTypingFunction(ke)),(w.dynamicTyping[ke]||w.dynamicTyping)===!0?ve==="true"||ve==="TRUE"||ve!=="false"&&ve!=="FALSE"&&(function(Fe){if(V.test(Fe)){var Ee=parseFloat(Fe);if(R<Ee&&Ee<C)return!0}return!1}(ve)?parseFloat(ve):z.test(ve)?new Date(ve):ve===""?null:ve):ve;var ke}function Be(ie,ve,ke,Fe){var Ee={type:ie,code:ve,message:ke};Fe!==void 0&&(Ee.row=Fe),O.errors.push(Ee)}this.parse=function(ie,ve,ke){var Fe=w.quoteChar||'"';if(w.newline||(w.newline=function(De,oe){De=De.substring(0,1048576);var Oe=new RegExp(b(oe)+"([^]*?)"+b(oe),"gm"),Y=(De=De.replace(Oe,"")).split("\r"),Ue=De.split(`
`),Rt=1<Ue.length&&Ue[0].length<Y[0].length;if(Y.length===1||Rt)return`
`;for(var Dt=0,Le=0;Le<Y.length;Le++)Y[Le][0]===`
`&&Dt++;return Dt>=Y.length/2?`\r
`:"\r"}(ie,Fe)),k=!1,w.delimiter)I(w.delimiter)&&(w.delimiter=w.delimiter(ie),O.meta.delimiter=w.delimiter);else{var Ee=function(De,oe,Oe,Y,Ue){var Rt,Dt,Le,He;Ue=Ue||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Dn=0;Dn<Ue.length;Dn++){var Te=Ue[Dn],Yn=0,hn=0,F=0;Le=void 0;for(var ce=new m({comments:Y,delimiter:Te,newline:oe,preview:10}).parse(De),$e=0;$e<ce.data.length;$e++)if(Oe&&ee(ce.data[$e]))F++;else{var bt=ce.data[$e].length;hn+=bt,Le!==void 0?0<bt&&(Yn+=Math.abs(bt-Le),Le=bt):Le=bt}0<ce.data.length&&(hn/=ce.data.length-F),(Dt===void 0||Yn<=Dt)&&(He===void 0||He<hn)&&1.99<hn&&(Dt=Yn,Rt=Te,He=hn)}return{successful:!!(w.delimiter=Rt),bestDelimiter:Rt}}(ie,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess);Ee.successful?w.delimiter=Ee.bestDelimiter:(k=!0,w.delimiter=c.DefaultDelimiter),O.meta.delimiter=w.delimiter}var Ye=S(w);return w.preview&&w.header&&Ye.preview++,j=ie,N=new m(Ye),O=N.parse(j,ve,ke),se(),M?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,N.abort(),j=I(w.chunk)?"":j.substring(N.getCharIndex())},this.resume=function(){L.streamer._halted?(M=!1,L.streamer.parseChunk(j,!0)):setTimeout(L.resume,3)},this.aborted=function(){return $},this.abort=function(){$=!0,N.abort(),O.meta.aborted=!0,I(w.complete)&&w.complete(O),j=""}}function b(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(w){var j,N=(w=w||{}).delimiter,k=w.newline,C=w.comments,R=w.step,V=w.preview,z=w.fastMode,L=j=w.quoteChar===void 0||w.quoteChar===null?'"':w.quoteChar;if(w.escapeChar!==void 0&&(L=w.escapeChar),(typeof N!="string"||-1<c.BAD_DELIMITERS.indexOf(N))&&(N=","),C===N)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var A=0,D=!1;this.parse=function(M,$,H){if(typeof M!="string")throw new Error("Input must be a string");var O=M.length,U=N.length,ee=k.length,se=C.length,fe=I(R),xe=[],Be=[],ie=[],ve=A=0;if(!M)return qe();if(w.header&&!$){var ke=M.split(k)[0].split(N),Fe=[],Ee={},Ye=!1;for(var De in ke){var oe=ke[De];I(w.transformHeader)&&(oe=w.transformHeader(oe,De));var Oe=oe,Y=Ee[oe]||0;for(0<Y&&(Ye=!0,Oe=oe+"_"+Y),Ee[oe]=Y+1;Fe.includes(Oe);)Oe=Oe+"_"+Y;Fe.push(Oe)}if(Ye){var Ue=M.split(k);Ue[0]=Fe.join(N),M=Ue.join(k)}}if(z||z!==!1&&M.indexOf(j)===-1){for(var Rt=M.split(k),Dt=0;Dt<Rt.length;Dt++){if(ie=Rt[Dt],A+=ie.length,Dt!==Rt.length-1)A+=k.length;else if(H)return qe();if(!C||ie.substring(0,se)!==C){if(fe){if(xe=[],F(ie.split(N)),It(),D)return qe()}else F(ie.split(N));if(V&&V<=Dt)return xe=xe.slice(0,V),qe(!0)}}return qe()}for(var Le=M.indexOf(N,A),He=M.indexOf(k,A),Dn=new RegExp(b(L)+b(j),"g"),Te=M.indexOf(j,A);;)if(M[A]!==j)if(C&&ie.length===0&&M.substring(A,A+se)===C){if(He===-1)return qe();A=He+ee,He=M.indexOf(k,A),Le=M.indexOf(N,A)}else if(Le!==-1&&(Le<He||He===-1))ie.push(M.substring(A,Le)),A=Le+U,Le=M.indexOf(N,A);else{if(He===-1)break;if(ie.push(M.substring(A,He)),bt(He+ee),fe&&(It(),D))return qe();if(V&&xe.length>=V)return qe(!0)}else for(Te=A,A++;;){if((Te=M.indexOf(j,Te+1))===-1)return H||Be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:A}),$e();if(Te===O-1)return $e(M.substring(A,Te).replace(Dn,j));if(j!==L||M[Te+1]!==L){if(j===L||Te===0||M[Te-1]!==L){Le!==-1&&Le<Te+1&&(Le=M.indexOf(N,Te+1)),He!==-1&&He<Te+1&&(He=M.indexOf(k,Te+1));var Yn=ce(He===-1?Le:Math.min(Le,He));if(M.substr(Te+1+Yn,U)===N){ie.push(M.substring(A,Te).replace(Dn,j)),M[A=Te+1+Yn+U]!==j&&(Te=M.indexOf(j,A)),Le=M.indexOf(N,A),He=M.indexOf(k,A);break}var hn=ce(He);if(M.substring(Te+1+hn,Te+1+hn+ee)===k){if(ie.push(M.substring(A,Te).replace(Dn,j)),bt(Te+1+hn+ee),Le=M.indexOf(N,A),Te=M.indexOf(j,A),fe&&(It(),D))return qe();if(V&&xe.length>=V)return qe(!0);break}Be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:A}),Te++}}else Te++}return $e();function F(rt){xe.push(rt),ve=A}function ce(rt){var _s=0;if(rt!==-1){var Yr=M.substring(Te+1,rt);Yr&&Yr.trim()===""&&(_s=Yr.length)}return _s}function $e(rt){return H||(rt===void 0&&(rt=M.substring(A)),ie.push(rt),A=O,F(ie),fe&&It()),qe()}function bt(rt){A=rt,F(ie),ie=[],He=M.indexOf(k,A)}function qe(rt){return{data:xe,errors:Be,meta:{delimiter:N,linebreak:k,aborted:D,truncated:!!rt,cursor:ve+($||0)}}}function It(){R(qe()),xe=[],Be=[]}},this.abort=function(){D=!0},this.getCharIndex=function(){return A}}function y(w){var j=w.data,N=o[j.workerId],k=!1;if(j.error)N.userError(j.error,j.file);else if(j.results&&j.results.data){var C={abort:function(){k=!0,x(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(I(N.userStep)){for(var R=0;R<j.results.data.length&&(N.userStep({data:j.results.data[R],errors:j.results.errors,meta:j.results.meta},C),!k);R++);delete j.results}else I(N.userChunk)&&(N.userChunk(j.results,C,j.file),delete j.results)}j.finished&&!k&&x(j.workerId,j.results)}function x(w,j){var N=o[w];I(N.userComplete)&&N.userComplete(j),N.terminate(),delete o[w]}function _(){throw new Error("Not implemented.")}function S(w){if(typeof w!="object"||w===null)return w;var j=Array.isArray(w)?[]:{};for(var N in w)j[N]=S(w[N]);return j}function E(w,j){return function(){w.apply(j,arguments)}}function I(w){return typeof w=="function"}return i&&(r.onmessage=function(w){var j=w.data;if(c.WORKER_ID===void 0&&j&&(c.WORKER_ID=j.workerId),typeof j.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(j.input,j.config),finished:!0});else if(r.File&&j.input instanceof File||j.input instanceof Object){var N=c.parse(j.input,j.config);N&&r.postMessage({workerId:c.WORKER_ID,results:N,finished:!0})}}),(h.prototype=Object.create(u.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(xA);var G9=xA.exports;const bA=Ao(G9);function wA(t,e,n){const r=t+e,s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const o=URL.createObjectURL(s);i.setAttribute("href",o),i.setAttribute("download",`${n}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}const K9=`Article Type,Authors,Title,Publisher,Year,Journal,Volume,Issue,DOI,Impact Factor,No. of Pages,Start Page,End Page,URL,Language,Abstract,Keywords,ISBN,ISSN
`,Y9=`Conference,"Kulkarni A, Phutke SS, Vipparthi SK, Murala S",C2AIR: Consolidated Compact Aerial Image Haze Removal,IEEE Transactions on Cognitive and Developmental Systems,2020,Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision,4,,10.1109/TCDS.2020.3000001,7,300,304,402,https://example.com,English,"This paper presents C2AIR, a method for consolidated compact aerial image haze removal, which outperforms existing approaches.",Haze Removal,Computer Vision,978-1-7281-1111-1
`;let Qd;const Q9=new Uint8Array(16);function X9(){if(!Qd&&(Qd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qd(Q9)}const zt=[];for(let t=0;t<256;++t)zt.push((t+256).toString(16).slice(1));function J9(t,e=0){return zt[t[e+0]]+zt[t[e+1]]+zt[t[e+2]]+zt[t[e+3]]+"-"+zt[t[e+4]]+zt[t[e+5]]+"-"+zt[t[e+6]]+zt[t[e+7]]+"-"+zt[t[e+8]]+zt[t[e+9]]+"-"+zt[t[e+10]]+zt[t[e+11]]+zt[t[e+12]]+zt[t[e+13]]+zt[t[e+14]]+zt[t[e+15]]}const Z9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),b_={randomUUID:Z9};function sb(t,e,n){if(b_.randomUUID&&!e&&!t)return b_.randomUUID();t=t||{};const r=t.random||(t.rng||X9)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return J9(r)}const P=(t,e)=>{const n=ut.getState().getalerts.data;ut.dispatch(rA([...n,{id:sb(),type:t,content:e}]))},Hf=({entry:t,id:e})=>a.jsxs("div",{children:[a.jsxs("p",{children:[t==null?void 0:t.author,", ",a.jsxs("strong",{children:['"',t==null?void 0:t.title,',"']})," in"," ",t==null?void 0:t.booktitle,(t==null?void 0:t.journal)&&`, ${t==null?void 0:t.journal}`,(t==null?void 0:t.volume)&&`, vol. ${t==null?void 0:t.volume}`,(t==null?void 0:t.number)&&`, no. ${t==null?void 0:t.number}`,(t==null?void 0:t.pages)&&`, pp. ${t==null?void 0:t.pages}`,(t==null?void 0:t.year)&&`, ${t==null?void 0:t.year}`,t.doi&&a.jsxs(a.Fragment,{children:[","," ",a.jsxs("a",{href:`https://doi.org/${t.doi}`,target:"_blank",rel:"noopener noreferrer",children:["doi: ",t.doi]})]})]}),a.jsxs("p",{children:["Keywords: ","{ "+(t==null?void 0:t.keywords)+" }",", Abstract:"," ",a.jsx("a",{className:"text-shade2 my-0 py-0","data-bs-toggle":"collapse",href:"#collapseExample"+e,role:"button","aria-expanded":"false","aria-controls":"collapseExample"+e,children:"Click"})]}),a.jsx("p",{className:"collapse collapsed my-0",id:"collapseExample"+e,children:t==null?void 0:t.abstract})]}),wa=async()=>{try{const t=re(W,"phdStudents"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.profileImage.stringValue,c=l?await t5(l):null;n.push({_id:o,data:i,profileImage:c})});await Promise.all(r),ut.dispatch(Tz(n))}catch(t){console.error("Error fetching phd:",t)}};async function e5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid phd ID");return}try{const e=ye(W,"phdStudents",t);await bn(e),alert("phd item and image deleted successfully!"),location.reload()}catch{alert("Error deleting phd!")}}}const t5=async t=>{try{const e=Ce(Ae,`/peoples/phd_profile_images/${t}`);return await Gr(e)}catch{return null}},Zp=["January","February","March","April","May","June","July","August","September","October","November","December"],n5=()=>{const t=K(A=>A.getpublications.data),e=K(A=>A.getauth),n=K(A=>A.getsupervisors.data),r=K(A=>A.getphdStudents.data),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(""),[g,v]=T.useState(""),[b,m]=T.useState(""),[y,x]=T.useState(""),[_,S]=T.useState(""),[E,I]=T.useState(""),[w,j]=T.useState(""),[N,k]=T.useState(""),[C,R]=T.useState([e==null?void 0:e.email]),[V,z]=T.useState(!1);T.useEffect(()=>{zo(),xs(),wa()},[]);const L=A=>{if(A.preventDefault(),!s||!o||!c||!u||!g||!b||!y||!_||!E||!w){P("danger","Please fill all required fields!");return}z(!0),dt(re(W,"publications"),{type:o,author:b,title:s,year:u,volume:_,journal:c,pages:y,abstract:N||"",doi:g||"",month:f||"",isbn:w||"",users:C}).then(()=>{P("success","Paper has been saved! You can view it in the admin panel."),z(!1),window.location.reload()}).catch(()=>{P("danger","Error adding Paper! Please try again later."),z(!1)})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"List of Publications"}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal_",children:"+ Add (By BibTeX)"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"+ Add (By Manual)"}),a.jsxs("button",{className:"btn btn-shade1 btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"})," Import CSV"]})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paper"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((A,D)=>{var M,$,H,O;if(!(!(($=(M=A==null?void 0:A.data)==null?void 0:M.users)!=null&&$.includes(e.email))&&!e.userType.includes("ADMIN")))return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx(Hf,{entry:A==null?void 0:A.data,id:A==null?void 0:A._id})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(H=e==null?void 0:e.userType)!=null&&H.includes("ADMIN")||(O=A==null?void 0:A.data)!=null&&O.users.some(U=>U==e.email)?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(X,{className:"dropdown-item text-primary",to:A==null?void 0:A._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>w9(A._id),children:"Delete"})})]}):"NA"})]})})]},D)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add New Publication"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"alert alert-warning rounded-0",children:["Manual addition of Research Paper is not recommended, please use the ",a.jsx("strong",{children:"BibTeX"})," format for adding of Paper."]}),a.jsxs("div",{className:"alert alert-info rounded-0",children:["If you want to add all fields of Research Paper, Try with"," ",a.jsx("strong",{children:"BibTeX"})," format."]}),a.jsxs("form",{onSubmit:L,noValidate:!0,children:[a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Title",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",name:"paperTitle",autoComplete:"false",className:"form-control mb-3",placeholder:"Article Title",value:s,onChange:A=>i(A.target.value),required:!0,disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{disabled:!e.userType.includes("ADMIN")||V,name:"userEmail",className:"form-control",onChange:A=>{const D=A.target.value;if(!(!C||D==""))if(D==="other"){let M=prompt("Please enter supervisor Email (ie. user@gmail.com):");M&&R([...C,M])}else C.includes(D)?alert("User with this name already existed."):R([...C,D])},children:[a.jsx("option",{value:"",children:"--select user--"}),n==null?void 0:n.map((A,D)=>{var M,$,H;return a.jsxs("option",{value:(M=A==null?void 0:A.data)==null?void 0:M.email,children:[($=A==null?void 0:A.data)==null?void 0:$.name,"-",(H=A==null?void 0:A.data)==null?void 0:H.email]},D)}),r==null?void 0:r.map((A,D)=>{var M,$,H,O,U,ee;return a.jsxs("option",{value:($=(M=A==null?void 0:A.data)==null?void 0:M.email)==null?void 0:$.stringValue,children:[(O=(H=A==null?void 0:A.data)==null?void 0:H.name)==null?void 0:O.stringValue,",",(ee=(U=A==null?void 0:A.data)==null?void 0:U.email)==null?void 0:ee.stringValue,", PHD Student"]},D)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:C==null?void 0:C.map((A,D)=>a.jsxs("span",{className:"badge bg-success",children:[A," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(e!=null&&e.userType.includes("ADMIN"))||V||(e==null?void 0:e.email)===A){P("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const M=C.filter($=>$!==A);R(M)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},D))})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"type",className:"form-label",children:["Type of Paper",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"paperType",value:o,onChange:A=>l(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select type---"}),a.jsx("option",{value:"Conference",children:"Conference"}),a.jsx("option",{value:"Patent",children:"Patent"}),a.jsx("option",{value:"Journal",children:"Journal"}),a.jsx("option",{value:"Book",children:"Book"}),a.jsx("option",{value:"Book Chapter",children:"Book Chapter"}),a.jsx("option",{value:"Publications",children:"Publications"})]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"validationDefault02",className:"form-label",children:["Publisher",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",name:"publisher",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. IECON 2021  47th Annual Conference of the IEEE Industrial Electronics Society",value:c,onChange:A=>d(A.target.value),required:!0,disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between mb-2",children:[a.jsxs("div",{className:"col-md-4 pe-2",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Year",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:u,onChange:A=>h(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select year---"}),[...Array(40)].map((A,D)=>a.jsx("option",{value:2008+D,children:1990+D},D))]})]}),a.jsxs("div",{className:"col-md-4 pe-2",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Month",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{className:"form-control mb-3",name:"publicationDate",value:f,onChange:A=>p(A.target.value),required:!0,disabled:V,children:[a.jsx("option",{value:"",children:"---select year---"}),Zp==null?void 0:Zp.map((A,D)=>a.jsx("option",{value:A,children:A},D))]})]}),a.jsxs("div",{className:"col-md-4",children:[a.jsx("label",{htmlFor:"email",className:"form-label",children:"DOI Link"}),a.jsx("input",{type:"text",name:"link",autoComplete:"false",className:"form-control mb-3",placeholder:"ie. ieee standard paper link..",value:g,onChange:A=>v(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsxs("label",{htmlFor:"contributors",className:"form-label",children:["Names of the Authors(Comma Separated)",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsx("input",{type:"text",className:"form-control",name:"authors",onChange:A=>m(A.target.value),id:"authors",placeholder:"ie. Dr. A, Dr. B, Dr. C",disabled:V})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Pages"}),a.jsx("input",{type:"text",name:"pages",autoComplete:"false",className:"form-control mb-3",placeholder:"Number of Pages",value:y,onChange:A=>x(A.target.value),disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Volume"}),a.jsx("input",{type:"text",name:"volume",autoComplete:"false",className:"form-control mb-3",placeholder:"Volume",value:_,onChange:A=>S(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Impact Factor"}),a.jsx("input",{type:"text",name:"impact",autoComplete:"false",className:"form-control mb-3",placeholder:"Impact Factor",value:E,onChange:A=>I(A.target.value),disabled:V})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"ISBN"}),a.jsx("input",{type:"text",name:"isbn",autoComplete:"false",className:"form-control mb-3",placeholder:"ISBN",value:w,onChange:A=>j(A.target.value),disabled:V})]})]}),a.jsxs("div",{className:"col-md-12 mb-2",children:[a.jsx("label",{htmlFor:"validationDefault02",className:"form-label",children:"Abstract"}),a.jsx("textarea",{rows:10,onChange:A=>k(A.target.value),value:N,className:"form-control",placeholder:"Research Abstract..",disabled:V})]}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:V,children:V?"Please Wait...":"Submit"})]})]})]})})}),a.jsx(s5,{getphd:r,getauth:e,getsupervisors:n,userEmail:e==null?void 0:e.email}),a.jsx(r5,{getsupervisors:n,userType:e==null?void 0:e.userType,getauth:e,getphd:r})]})},r5=({getsupervisors:t,getauth:e,getphd:n})=>{const[r,s]=T.useState(!1),[i,o]=T.useState([e==null?void 0:e.email]),[l,c]=T.useState(""),d=async()=>{var u;if(!i){P("danger","Please select users!");return}if(!l){P("danger","Please input BiBtex text!");return}try{s(!0);const h=/(?<variable>\w+)\s*=\s*{(.*?)(?:}|",|\d{4}\s*-\s*\d{4},)/g,f=l.matchAll(h),p={};for(const x of f)if(x.groups){const{variable:_}=x.groups,S=(u=x[2])==null?void 0:u.trim();p[_]=S}const g=/@\s*(\w+)\s*{/g,v=l.matchAll(g),b=[];for(const x of v){const _=x[1].toLowerCase();b.push(_)}if(!b[0]){P("danger","Invalid BibTeX format!"),s(!1);return}const m=At(re(W,"publications"),Zn("title","==",p.title));if(!(await we(m)).empty){P("warning","A publication with the same title already exists."),s(!1);return}await dt(re(W,"publications"),{type:b[0]||"",author:p.author||"",booktitle:p.booktitle||"",title:p.title||"",year:parseInt(p.year)||0,volume:p.volume||"",number:p.number||"",pages:p.pages||"",abstract:p.abstract||"",keywords:p.keywords||"",doi:p.doi||"",issn:p.issn||"",month:p.month||"",journal:p.journal||"",editor:p.editor||"",edition:p.edition||"",series:p.series||"",address:p.address||"",isbn:p.isbn||"",institution:p.institution||"",school:p.school||"",organization:p.organization||"",howpublished:p.howpublished||"",users:i}).then(()=>{P("success","Research Paper has been saved"),s(!1),window.location.reload()}).catch(()=>{P("danger","Error adding Research Paper! Please try again later."),s(!1)})}catch{P("danger","Invalid BibTeX format!")}s(!1)};return a.jsx("div",{className:"modal fade",id:"exampleModal_",tabIndex:-1,"aria-labelledby":"exampleModalLabel_","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:"exampleModalLabel_",children:["Cite by ",a.jsx("cite",{children:'"BibTeX"'})]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsx("div",{className:"col-md-12 d-flex flex-row justify-content-between gap-2 mb-2",children:a.jsxs("div",{className:"col-md-12 alert alert-primary rounded-0",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{disabled:!e.userType.includes("ADMIN")||r,name:"userEmail",className:"form-control",onChange:u=>{const h=u.target.value;if(!(!i||h==""))if(h==="other"){let f=prompt("Please enter supervisor Email (ie. user@gmail.com):");f&&o([...i,f])}else i.includes(h)?alert("User with this name already existed."):o([...i,h])},children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((u,h)=>{var f,p,g;return a.jsxs("option",{value:(f=u==null?void 0:u.data)==null?void 0:f.email,children:[(p=u==null?void 0:u.data)==null?void 0:p.name,"-",(g=u==null?void 0:u.data)==null?void 0:g.email]},h)}),n==null?void 0:n.map((u,h)=>{var f,p,g,v,b,m;return a.jsxs("option",{value:(p=(f=u==null?void 0:u.data)==null?void 0:f.email)==null?void 0:p.stringValue,children:[(v=(g=u==null?void 0:u.data)==null?void 0:g.name)==null?void 0:v.stringValue,",",(m=(b=u==null?void 0:u.data)==null?void 0:b.email)==null?void 0:m.stringValue,", PHD Student"]},h)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:i==null?void 0:i.map((u,h)=>a.jsxs("span",{className:"badge bg-success",children:[u," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(e!=null&&e.userType.includes("ADMIN"))||r||(e==null?void 0:e.email)===u){P("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const f=i.filter(p=>p!==u);o(f)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},h))})]})}),a.jsxs("div",{className:"col-md-12 alert alert-warning rounded-0",children:[a.jsxs("div",{className:"",children:[" ",a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsxs("p",{children:["Please follow these steps to cite a publication with"," ",a.jsx("strong",{children:"BibTeX"}),":"]}),a.jsxs("ol",{children:[a.jsxs("li",{children:["Copy a ",a.jsx("strong",{children:"BibTeX"})," from a source website ie. IEEE."]}),a.jsxs("li",{children:["You can paste both with and without"," ",a.jsx("strong",{children:"Citation & Abstract"}),"."]}),a.jsx("li",{children:"Paste your BibTeX into the black colour box below."}),a.jsx("li",{children:'Click on the "Submit" button, and wait while processing.'})]}),a.jsx("hr",{})]}),a.jsx("div",{className:"w-100 mt-2 overflow-auto",children:a.jsx("textarea",{disabled:r,onChange:u=>c(u.target.value),rows:10,className:"form-control bg-dark text-warning rounded-1 placeholder-warning",placeholder:"Paste here.."})})]}),a.jsx("button",{className:"btn btn-dark p-3 w-100",onClick:d,disabled:r,children:r?"Please Wait...":"Submit"})]})]})})})},s5=({getsupervisors:t,userEmail:e,getauth:n,getphd:r})=>{const s=T.useRef(null),[i,o]=T.useState(!1),[l,c]=T.useState([e]),[d,u]=T.useState([]),h=g=>{var b;const v=(b=g.target.files)==null?void 0:b[0];v&&bA.parse(v,{complete:m=>{const y=m.data.filter(x=>Object.values(x).some(_=>_!==""));u(y)},header:!0})},f=async g=>{try{return!(await we(At(re(W,"publications"),Zn("paperTitle","==",g)))).empty}catch{return!1}},p=async g=>{if(g.preventDefault(),!l.length){P("danger","Error! Please select supervisors.");return}if(!d.length){P("danger","ERROR! Invalid CSV File Selected.");return}o(!0);const v=d.map(async b=>{const m=Object.values(b);if(!await f(m[2]))return dt(re(W,"publications"),{type:m[0]?m[0]:"",author:m[1]?m[1]:"",title:m[2]?m[2]:"",publisher:m[3]?m[3]:"",year:m[4]?m[4]:"",journal:m[5]?m[5]:"",volume:m[6]?m[6]:"",issue:m[7]?m[7]:"",doi:m[8]?m[8]:"",impact:m[9]?m[9]:"",pages:m[10]?m[10]:"",startPage:m[11]?m[11]:"",endPage:m[12]?m[12]:"",url:m[13]?m[13]:"",language:m[14]?m[14]:"",abstract:m[15]?m[15]:"",keywords:m[16]?m[16]:"",isbn:m[17]?m[17]:"",issn:m[18]?m[18]:"",users:l})});await Promise.all(v),P("success","Publications have been saved!"),o(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Publications"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select Users",a.jsx("span",{className:"text-shade2",children:"*(these publications will be shown for selected users)"})]}),a.jsxs("select",{disabled:!n.userType.includes("ADMIN")||i,name:"userEmail",className:"form-control",onChange:g=>{const v=g.target.value;if(!(!l||v==""))if(v==="other"){let b=prompt("Please enter supervisor Email (ie. user@gmail.com):");b&&c([...l,b])}else l.includes(v)?alert("User with this name already existed."):c([...l,v])},children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((g,v)=>{var b,m,y;return a.jsxs("option",{value:(b=g==null?void 0:g.data)==null?void 0:b.email,children:[(m=g==null?void 0:g.data)==null?void 0:m.name,"-",(y=g==null?void 0:g.data)==null?void 0:y.email]},v)}),r==null?void 0:r.map((g,v)=>{var b,m,y,x,_,S;return a.jsxs("option",{value:(m=(b=g==null?void 0:g.data)==null?void 0:b.email)==null?void 0:m.stringValue,children:[(x=(y=g==null?void 0:g.data)==null?void 0:y.name)==null?void 0:x.stringValue,",",(S=(_=g==null?void 0:g.data)==null?void 0:_.email)==null?void 0:S.stringValue,", PHD Student"]},v)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:l==null?void 0:l.map((g,v)=>a.jsxs("span",{className:"badge bg-success",children:[g," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(n!=null&&n.userType.includes("ADMIN"))||i||(n==null?void 0:n.email)===g){P("danger","You can not remove yourself.");return}if(confirm("Are you sure want to remove?")){const b=l.filter(m=>m!==g);c(b)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},v))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>wA(K9,Y9,"sample_publications_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{ref:s,type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:h})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:d.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(d[0]).map(g=>a.jsx("th",{children:g},g))})}),a.jsx("tbody",{children:d.map((g,v)=>a.jsx("tr",{children:Object.values(g).map((b,m)=>a.jsx("td",{children:b},m))},v))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:i,onClick:p,children:i?"Please Wait...":"Submit"})]})]})})})},ib=async()=>{try{const t=re(W,"news"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.description.stringValue,c=i.timestamp.stringValue,d=i.title.stringValue;n.push({_id:o,title:d,datetime1:c,description:l})});await Promise.all(r),ut.dispatch(_z(n))}catch(t){console.error("Error fetching news:",t)}};async function i5(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid News ID");return}try{const e=ye(W,"news",t);await bn(e),alert("News item and image deleted successfully!"),location.reload()}catch{alert("Error deleting News!")}}}async function a5(t,e){try{const n=ye(W,"news",t),i={...(await Rn(n)).data(),...e};await NF(n,i,{merge:!0}),alert("News item edited successfully.")}catch{alert("Error editing news!")}}const w_=({loading:t,title:e,datetime:n,setDateTime:r,setDescription:s,setTitle:i,submitHandler:o,_id:l})=>a.jsx("div",{className:"modal fade",id:l,tabIndex:-1,"aria-labelledby":`${l}Label`,"aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog ",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:`${l}Label`,children:"Add News"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"News Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>i(c.target.value),disabled:t,value:e})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Date and Time (if any)"}),a.jsx("input",{type:"datetime-local",className:"form-control",id:"exampleInputPassword1",value:n,onChange:c=>r(c.target.value),disabled:t})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",onChange:c=>s(c.target.value),rows:4,placeholder:"type here..",disabled:t})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:o,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})}),o5=()=>{const t=K(h=>h.getnews).data,[e,n]=T.useState(),[r,s]=T.useState(),[i,o]=T.useState(),[l,c]=T.useState(!1);T.useEffect(()=>{ib()},[]);const d=()=>{if(!e||!r||!i){P("danger","Please fill all required fields.");return}c(!0),dt(re(W,"news"),{title:r,timestamp:i,description:e}).then(()=>{P("success","News has been saved! You can view it in the admin panel."),s(""),n(""),c(!1),window.location.reload()}).catch(h=>{P("danger","Error! While adding a News, Check you internet connnection and Try Again later."),console.error("Error saving image data:",h),c(!1)})},u=h=>{o(h.datetime1),s(h.title)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Latest News"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddNewsModal",children:"+ Add News"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Date"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{children:h.title}),a.jsx("td",{children:l5(h==null?void 0:h.datetime1)}),a.jsx("td",{children:h.description}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>i5(h._id),children:"Delete"})}),a.jsxs("li",{children:[a.jsx("button",{className:"dropdown-item text-primary",onClick:()=>u(h),"data-bs-toggle":"modal","data-bs-target":`#EditNewsModal${h._id}`,disabled:!0,children:"Edit"}),a.jsx(w_,{_id:`EditNewsModal${h._id}`,submitHandler:()=>a5(h._id,{title:r,datetime:i}),datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})]})]})})]},f))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"News Not Found!"})})})]})]}),a.jsx(w_,{_id:"AddNewsModal",submitHandler:d,datetime:i,loading:l,setDescription:n,setDateTime:o,setTitle:s})]})},l5=t=>{const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return e.toLocaleDateString("en-US",n)},c5=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),s=async i=>{if(i.preventDefault(),t!==n||t===""||n===""){P("warning","Passwords do not match");return}const o=on.currentUser;if(!o){location.href="/CVPR_LAB/#/";return}o?g3(o,n).then(()=>{P("success","Password updated successfully"),location.href="/CVPR_LAB/#/dashboard"}).catch(l=>{P("danger","Error while changing the password, Message: "+d5(l.code).toUpperCase())}):P("danger","No user is currently signed in."),r(""),e("")};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{children:"Change Password"})}),a.jsx("hr",{}),a.jsxs("form",{className:"card g-3 p-3 gap-3 my-3 rounded-1 ",onSubmit:s,noValidate:!0,children:[a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),a.jsx("input",{type:"password",className:"form-control",id:"newPassword",value:t,onChange:i=>e(i.target.value),required:!0}),a.jsx("div",{id:"emailHelp",className:"form-text",children:"Password should be at least 6 characters long."})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",value:n,onChange:i=>r(i.target.value),required:!0})]}),a.jsx("div",{className:"",children:a.jsx("button",{type:"submit",className:"btn btn-primary text-uppercase w-full w-100 p-3",children:"Submit"})})]})]})})};function d5(t){const e=t.indexOf("/");return e!==-1?t.substring(e+1):""}/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function j_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function jA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(n),!0).forEach(function(r){f5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ev(t){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function u5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function __(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EA(r.key),r)}}function h5(t,e,n){return e&&__(t.prototype,e),n&&__(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f5(t,e,n){return e=EA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _A(t){return p5(t)||m5(t)||g5(t)||v5()}function p5(t){if(Array.isArray(t))return tv(t)}function m5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g5(t,e){if(t){if(typeof t=="string")return tv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tv(t,e)}}function tv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y5(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EA(t){var e=y5(t,"string");return typeof e=="symbol"?e:String(e)}var qf=typeof window<"u"&&typeof window.document<"u",Hr=qf?window:{},ab=qf&&Hr.document.documentElement?"ontouchstart"in Hr.document.documentElement:!1,ob=qf?"PointerEvent"in Hr:!1,it="cropper",lb="all",NA="crop",SA="move",TA="zoom",wi="e",ji="w",Sa="s",Ss="n",vl="ne",yl="nw",xl="se",bl="sw",nv="".concat(it,"-crop"),E_="".concat(it,"-disabled"),En="".concat(it,"-hidden"),N_="".concat(it,"-hide"),x5="".concat(it,"-invisible"),Ch="".concat(it,"-modal"),rv="".concat(it,"-move"),$c="".concat(it,"Action"),Xd="".concat(it,"Preview"),cb="crop",IA="move",CA="none",sv="crop",iv="cropend",av="cropmove",ov="cropstart",S_="dblclick",b5=ab?"touchstart":"mousedown",w5=ab?"touchmove":"mousemove",j5=ab?"touchend touchcancel":"mouseup",T_=ob?"pointerdown":b5,I_=ob?"pointermove":w5,C_=ob?"pointerup pointercancel":j5,A_="ready",k_="resize",P_="wheel",lv="zoom",R_="image/jpeg",_5=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,E5=/^data:/,N5=/^data:image\/jpeg;base64,/,S5=/^img|canvas$/i,AA=200,kA=100,D_={viewMode:0,dragMode:cb,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:AA,minContainerHeight:kA,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},T5='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',I5=Number.isNaN||Hr.isNaN;function be(t){return typeof t=="number"&&!I5(t)}var O_=function(e){return e>0&&e<1/0};function em(t){return typeof t>"u"}function aa(t){return ev(t)==="object"&&t!==null}var C5=Object.prototype.hasOwnProperty;function qa(t){if(!aa(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&C5.call(n,"isPrototypeOf")}catch{return!1}}function jn(t){return typeof t=="function"}var A5=Array.prototype.slice;function PA(t){return Array.from?Array.from(t):A5.call(t)}function Nt(t,e){return t&&jn(e)&&(Array.isArray(t)||be(t.length)?PA(t).forEach(function(n,r){e.call(t,n,r,t)}):aa(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var lt=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return aa(e)&&r.length>0&&r.forEach(function(i){aa(i)&&Object.keys(i).forEach(function(o){e[o]=i[o]})}),e},k5=/\.\d*(?:0|9){12}\d*$/;function ao(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return k5.test(t)?Math.round(t*e)/e:t}var P5=/^width|height|left|top|marginLeft|marginTop$/;function Us(t,e){var n=t.style;Nt(e,function(r,s){P5.test(s)&&be(r)&&(r="".concat(r,"px")),n[s]=r})}function R5(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Ot(t,e){if(e){if(be(t.length)){Nt(t,function(r){Ot(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function $r(t,e){if(e){if(be(t.length)){Nt(t,function(n){$r(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Wa(t,e,n){if(e){if(be(t.length)){Nt(t,function(r){Wa(r,e,n)});return}n?Ot(t,e):$r(t,e)}}var D5=/([a-z\d])([A-Z])/g;function db(t){return t.replace(D5,"$1-$2").toLowerCase()}function cv(t,e){return aa(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(db(e)))}function Bc(t,e,n){aa(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(db(e)),n)}function O5(t,e){if(aa(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(db(e)))}var RA=/\s\s*/,DA=function(){var t=!1;if(qf){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Hr.addEventListener("test",n,r),Hr.removeEventListener("test",n,r)}return t}();function ur(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(RA).forEach(function(i){if(!DA){var o=t.listeners;o&&o[i]&&o[i][n]&&(s=o[i][n],delete o[i][n],Object.keys(o[i]).length===0&&delete o[i],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Qn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(RA).forEach(function(i){if(r.once&&!DA){var o=t.listeners,l=o===void 0?{}:o;s=function(){delete l[i][n],t.removeEventListener(i,s,r);for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];n.apply(t,u)},l[i]||(l[i]={}),l[i][n]&&t.removeEventListener(i,l[i][n],r),l[i][n]=s,t.listeners=l}t.addEventListener(i,s,r)})}function oo(t,e,n){var r;return jn(Event)&&jn(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function OA(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var tm=Hr.location,L5=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function L_(t){var e=t.match(L5);return e!==null&&(e[1]!==tm.protocol||e[2]!==tm.hostname||e[3]!==tm.port)}function M_(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function ec(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,o=[];be(s)&&s!==0&&o.push("translateX(".concat(s,"px)")),be(i)&&i!==0&&o.push("translateY(".concat(i,"px)")),be(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),be(n)&&n!==1&&o.push("scaleX(".concat(n,")")),be(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var l=o.length?o.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function M5(t){var e=jA({},t),n=0;return Nt(t,function(r,s){delete e[s],Nt(e,function(i){var o=Math.abs(r.startX-i.startX),l=Math.abs(r.startY-i.startY),c=Math.abs(r.endX-i.endX),d=Math.abs(r.endY-i.endY),u=Math.sqrt(o*o+l*l),h=Math.sqrt(c*c+d*d),f=(h-u)/u;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function Jd(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:jA({startX:n,startY:r},s)}function V5(t){var e=0,n=0,r=0;return Nt(t,function(s){var i=s.startX,o=s.startY;e+=i,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function $s(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=O_(r),o=O_(n);if(i&&o){var l=n*e;s==="contain"&&l>r||s==="cover"&&l<r?n=r/e:r=n*e}else i?n=r/e:o&&(r=n*e);return{width:r,height:n}}function F5(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),o=Math.cos(s),l=e*o+n*i,c=e*i+n*o;return r>90?{width:c,height:l}:{width:l,height:c}}function U5(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,o=e.naturalHeight,l=e.rotate,c=l===void 0?0:l,d=e.scaleX,u=d===void 0?1:d,h=e.scaleY,f=h===void 0?1:h,p=n.aspectRatio,g=n.naturalWidth,v=n.naturalHeight,b=r.fillColor,m=b===void 0?"transparent":b,y=r.imageSmoothingEnabled,x=y===void 0?!0:y,_=r.imageSmoothingQuality,S=_===void 0?"low":_,E=r.maxWidth,I=E===void 0?1/0:E,w=r.maxHeight,j=w===void 0?1/0:w,N=r.minWidth,k=N===void 0?0:N,C=r.minHeight,R=C===void 0?0:C,V=document.createElement("canvas"),z=V.getContext("2d"),L=$s({aspectRatio:p,width:I,height:j}),A=$s({aspectRatio:p,width:k,height:R},"cover"),D=Math.min(L.width,Math.max(A.width,g)),M=Math.min(L.height,Math.max(A.height,v)),$=$s({aspectRatio:s,width:I,height:j}),H=$s({aspectRatio:s,width:k,height:R},"cover"),O=Math.min($.width,Math.max(H.width,i)),U=Math.min($.height,Math.max(H.height,o)),ee=[-O/2,-U/2,O,U];return V.width=ao(D),V.height=ao(M),z.fillStyle=m,z.fillRect(0,0,D,M),z.save(),z.translate(D/2,M/2),z.rotate(c*Math.PI/180),z.scale(u,f),z.imageSmoothingEnabled=x,z.imageSmoothingQuality=S,z.drawImage.apply(z,[t].concat(_A(ee.map(function(se){return Math.floor(ao(se))})))),z.restore(),V}var LA=String.fromCharCode;function $5(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=LA(t.getUint8(s));return r}var B5=/^data:.*,/;function z5(t){var e=t.replace(B5,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return Nt(s,function(i,o){s[o]=n.charCodeAt(o)}),r}function H5(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(LA.apply(null,PA(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function q5(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,l=2;l+1<o;){if(e.getUint8(l)===255&&e.getUint8(l+1)===225){s=l;break}l+=1}if(s){var c=s+4,d=s+10;if($5(e,c,4)==="Exif"){var u=e.getUint16(d);if(r=u===18761,(r||u===19789)&&e.getUint16(d+2,r)===42){var h=e.getUint32(d+4,r);h>=8&&(i=d+h)}}}if(i){var f=e.getUint16(i,r),p,g;for(g=0;g<f;g+=1)if(p=i+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function W5(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var G5={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),o=Number(n.minContainerHeight);Ot(s,En),$r(e,En);var l={width:Math.max(r.offsetWidth,i>=0?i:AA),height:Math.max(r.offsetHeight,o>=0?o:kA)};this.containerData=l,Us(s,{width:l.width,height:l.height}),Ot(e,En),$r(s,En)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,o=s?n.naturalWidth:n.naturalHeight,l=i/o,c=e.width,d=e.height;e.height*l>e.width?r===3?c=e.height*l:d=e.width/l:r===3?d=e.width/l:c=e.height*l;var u={aspectRatio:l,naturalWidth:i,naturalHeight:o,width:c,height:d};this.canvasData=u,this.limited=r===1||r===2,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=lt({},u)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=r.viewMode,c=i.aspectRatio,d=this.cropped&&o;if(e){var u=Number(r.minCanvasWidth)||0,h=Number(r.minCanvasHeight)||0;l>1?(u=Math.max(u,s.width),h=Math.max(h,s.height),l===3&&(h*c>u?u=h*c:h=u/c)):l>0&&(u?u=Math.max(u,d?o.width:0):h?h=Math.max(h,d?o.height:0):d&&(u=o.width,h=o.height,h*c>u?u=h*c:h=u/c));var f=$s({aspectRatio:c,width:u,height:h});u=f.width,h=f.height,i.minWidth=u,i.minHeight=h,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(l>(d?0:1)){var p=s.width-i.width,g=s.height-i.height;i.minLeft=Math.min(0,p),i.minTop=Math.min(0,g),i.maxLeft=Math.max(0,p),i.maxTop=Math.max(0,g),d&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,l===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,p),i.maxLeft=Math.max(0,p)),i.height>=s.height&&(i.minTop=Math.min(0,g),i.maxTop=Math.max(0,g))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=F5({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),o=i.width,l=i.height,c=r.width*(o/r.naturalWidth),d=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(d-r.height)/2,r.width=c,r.height=d,r.aspectRatio=o/l,r.naturalWidth=o,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Us(this.canvas,lt({width:r.width,height:r.height},ec({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);lt(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),Us(this.image,lt({width:r.width,height:r.height},ec(lt({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=lt({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(e){var d=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,h=l?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,f=l?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;d=Math.min(d,s.width),u=Math.min(u,s.height),c&&(d&&u?u*c>d?u=d/c:d=u*c:d?u=d/c:u&&(d=u*c),f*c>h?f=h/c:h=f*c),o.minWidth=Math.min(d,h),o.minHeight=Math.min(u,f),o.maxWidth=h,o.maxHeight=f}n&&(l?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(s.width,i.left+i.width)-o.width,o.maxTop=Math.min(s.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=s.width-o.width,o.maxTop=s.height-o.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&Bc(this.face,$c,r.width>=n.width&&r.height>=n.height?SA:lb),Us(this.cropBox,lt({width:r.width,height:r.height},ec({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),oo(this.element,sv,this.getData())}},K5={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=s,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var l=r;typeof r=="string"?l=e.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,Nt(l,function(c){var d=document.createElement("img");Bc(c,Xd,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(d.crossOrigin=n),d.src=s,d.alt=i,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){Nt(this.previews,function(e){var n=cv(e,Xd);Us(e,{width:n.width,height:n.height}),e.innerHTML=n.html,O5(e,Xd)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,o=e.width,l=e.height,c=r.left-n.left-e.left,d=r.top-n.top-e.top;!this.cropped||this.disabled||(Us(this.viewBoxImage,lt({width:o,height:l},ec(lt({translateX:-c,translateY:-d},e)))),Nt(this.previews,function(u){var h=cv(u,Xd),f=h.width,p=h.height,g=f,v=p,b=1;s&&(b=f/s,v=i*b),i&&v>p&&(b=p/i,g=s*b,v=p),Us(u,{width:g,height:v}),Us(u.getElementsByTagName("img")[0],lt({width:o*b,height:l*b},ec(lt({translateX:-c*b,translateY:-d*b},e))))}))}},Y5={bind:function(){var e=this.element,n=this.options,r=this.cropper;jn(n.cropstart)&&Qn(e,ov,n.cropstart),jn(n.cropmove)&&Qn(e,av,n.cropmove),jn(n.cropend)&&Qn(e,iv,n.cropend),jn(n.crop)&&Qn(e,sv,n.crop),jn(n.zoom)&&Qn(e,lv,n.zoom),Qn(r,T_,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Qn(r,P_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Qn(r,S_,this.onDblclick=this.dblclick.bind(this)),Qn(e.ownerDocument,I_,this.onCropMove=this.cropMove.bind(this)),Qn(e.ownerDocument,C_,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Qn(window,k_,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;jn(n.cropstart)&&ur(e,ov,n.cropstart),jn(n.cropmove)&&ur(e,av,n.cropmove),jn(n.cropend)&&ur(e,iv,n.cropend),jn(n.crop)&&ur(e,sv,n.crop),jn(n.zoom)&&ur(e,lv,n.zoom),ur(r,T_,this.onCropStart),n.zoomable&&n.zoomOnWheel&&ur(r,P_,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ur(r,S_,this.onDblclick),ur(e.ownerDocument,I_,this.onCropMove),ur(e.ownerDocument,C_,this.onCropEnd),n.responsive&&ur(window,k_,this.onResize)}},Q5={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,o=Math.abs(s-1)>Math.abs(i-1)?s:i;if(o!==1){var l,c;e.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Nt(l,function(d,u){l[u]=d*o})),this.setCropBoxData(Nt(c,function(d,u){c[u]=d*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===CA||this.setDragMode(R5(this.dragBox,nv)?IA:cb)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(be(n)&&n!==1||be(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,o;e.changedTouches?Nt(e.changedTouches,function(l){i[l.identifier]=Jd(l)}):i[e.pointerId||0]=Jd(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?o=TA:o=cv(e.target,$c),_5.test(o)&&oo(this.element,ov,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===NA&&(this.cropping=!0,Ot(this.dragBox,Ch)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),oo(this.element,av,{originalEvent:e,action:n})!==!1&&(e.changedTouches?Nt(e.changedTouches,function(s){lt(r[s.identifier]||{},Jd(s,!0))}):lt(r[e.pointerId||0]||{},Jd(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?Nt(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Wa(this.dragBox,Ch,this.cropped&&this.options.modal)),oo(this.element,iv,{originalEvent:e,action:n}))}}},X5={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,o=this.pointers,l=this.action,c=n.aspectRatio,d=i.left,u=i.top,h=i.width,f=i.height,p=d+h,g=u+f,v=0,b=0,m=s.width,y=s.height,x=!0,_;!c&&e.shiftKey&&(c=h&&f?h/f:1),this.limited&&(v=i.minLeft,b=i.minTop,m=v+Math.min(s.width,r.width,r.left+r.width),y=b+Math.min(s.height,r.height,r.top+r.height));var S=o[Object.keys(o)[0]],E={x:S.endX-S.startX,y:S.endY-S.startY},I=function(j){switch(j){case wi:p+E.x>m&&(E.x=m-p);break;case ji:d+E.x<v&&(E.x=v-d);break;case Ss:u+E.y<b&&(E.y=b-u);break;case Sa:g+E.y>y&&(E.y=y-g);break}};switch(l){case lb:d+=E.x,u+=E.y;break;case wi:if(E.x>=0&&(p>=m||c&&(u<=b||g>=y))){x=!1;break}I(wi),h+=E.x,h<0&&(l=ji,h=-h,d-=h),c&&(f=h/c,u+=(i.height-f)/2);break;case Ss:if(E.y<=0&&(u<=b||c&&(d<=v||p>=m))){x=!1;break}I(Ss),f-=E.y,u+=E.y,f<0&&(l=Sa,f=-f,u-=f),c&&(h=f*c,d+=(i.width-h)/2);break;case ji:if(E.x<=0&&(d<=v||c&&(u<=b||g>=y))){x=!1;break}I(ji),h-=E.x,d+=E.x,h<0&&(l=wi,h=-h,d-=h),c&&(f=h/c,u+=(i.height-f)/2);break;case Sa:if(E.y>=0&&(g>=y||c&&(d<=v||p>=m))){x=!1;break}I(Sa),f+=E.y,f<0&&(l=Ss,f=-f,u-=f),c&&(h=f*c,d+=(i.width-h)/2);break;case vl:if(c){if(E.y<=0&&(u<=b||p>=m)){x=!1;break}I(Ss),f-=E.y,u+=E.y,h=f*c}else I(Ss),I(wi),E.x>=0?p<m?h+=E.x:E.y<=0&&u<=b&&(x=!1):h+=E.x,E.y<=0?u>b&&(f-=E.y,u+=E.y):(f-=E.y,u+=E.y);h<0&&f<0?(l=bl,f=-f,h=-h,u-=f,d-=h):h<0?(l=yl,h=-h,d-=h):f<0&&(l=xl,f=-f,u-=f);break;case yl:if(c){if(E.y<=0&&(u<=b||d<=v)){x=!1;break}I(Ss),f-=E.y,u+=E.y,h=f*c,d+=i.width-h}else I(Ss),I(ji),E.x<=0?d>v?(h-=E.x,d+=E.x):E.y<=0&&u<=b&&(x=!1):(h-=E.x,d+=E.x),E.y<=0?u>b&&(f-=E.y,u+=E.y):(f-=E.y,u+=E.y);h<0&&f<0?(l=xl,f=-f,h=-h,u-=f,d-=h):h<0?(l=vl,h=-h,d-=h):f<0&&(l=bl,f=-f,u-=f);break;case bl:if(c){if(E.x<=0&&(d<=v||g>=y)){x=!1;break}I(ji),h-=E.x,d+=E.x,f=h/c}else I(Sa),I(ji),E.x<=0?d>v?(h-=E.x,d+=E.x):E.y>=0&&g>=y&&(x=!1):(h-=E.x,d+=E.x),E.y>=0?g<y&&(f+=E.y):f+=E.y;h<0&&f<0?(l=vl,f=-f,h=-h,u-=f,d-=h):h<0?(l=xl,h=-h,d-=h):f<0&&(l=yl,f=-f,u-=f);break;case xl:if(c){if(E.x>=0&&(p>=m||g>=y)){x=!1;break}I(wi),h+=E.x,f=h/c}else I(Sa),I(wi),E.x>=0?p<m?h+=E.x:E.y>=0&&g>=y&&(x=!1):h+=E.x,E.y>=0?g<y&&(f+=E.y):f+=E.y;h<0&&f<0?(l=yl,f=-f,h=-h,u-=f,d-=h):h<0?(l=bl,h=-h,d-=h):f<0&&(l=vl,f=-f,u-=f);break;case SA:this.move(E.x,E.y),x=!1;break;case TA:this.zoom(M5(o),e),x=!1;break;case NA:if(!E.x||!E.y){x=!1;break}_=OA(this.cropper),d=S.startX-_.left,u=S.startY-_.top,h=i.minWidth,f=i.minHeight,E.x>0?l=E.y>0?xl:vl:E.x<0&&(d-=h,l=E.y>0?bl:yl),E.y<0&&(u-=f),this.cropped||($r(this.cropBox,En),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}x&&(i.width=h,i.height=f,i.left=d,i.top=u,this.action=l,this.renderCropBox()),Nt(o,function(w){w.startX=w.endX,w.startY=w.endY})}},J5={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ot(this.dragBox,Ch),$r(this.cropBox,En),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=lt({},this.initialImageData),this.canvasData=lt({},this.initialCanvasData),this.cropBoxData=lt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(lt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),$r(this.dragBox,Ch),Ot(this.cropBox,En)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Nt(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,$r(this.cropper,E_)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ot(this.cropper,E_)),this},destroy:function(){var e=this.element;return e[it]?(e[it]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(em(e)?e:s+Number(e),em(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(be(e)&&(r.left=e,s=!0),be(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,o=i.width,l=i.height,c=i.naturalWidth,d=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var u=c*e,h=d*e;if(oo(this.element,lv,{ratio:e,oldRatio:o/c,originalEvent:r})===!1)return this;if(r){var f=this.pointers,p=OA(this.cropper),g=f&&Object.keys(f).length?V5(f):{pageX:r.pageX,pageY:r.pageY};i.left-=(u-o)*((g.pageX-p.left-i.left)/o),i.top-=(h-l)*((g.pageY-p.top-i.top)/l)}else qa(n)&&be(n.x)&&be(n.y)?(i.left-=(u-o)*((n.x-i.left)/o),i.top-=(h-l)*((n.y-i.top)/l)):(i.left-=(u-o)/2,i.top-=(h-l)/2);i.width=u,i.height=h,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),be(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,be(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(be(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(be(e)&&(r.scaleX=e,s=!0),be(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var l=r.width/r.naturalWidth;if(Nt(o,function(u,h){o[h]=u/l}),e){var c=Math.round(o.y+o.height),d=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=d-o.x,o.height=c-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&qa(e)){var o=!1;n.rotatable&&be(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),n.scalable&&(be(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),be(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;be(e.x)&&(i.left=e.x*l+s.left),be(e.y)&&(i.top=e.y*l+s.top),be(e.width)&&(i.width=e.width*l),be(e.height)&&(i.height=e.height*l),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?lt({},this.containerData):{}},getImageData:function(){return this.sized?lt({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&Nt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&qa(e)&&(be(e.left)&&(n.left=e.left),be(e.top)&&(n.top=e.top),be(e.width)?(n.width=e.width,n.height=e.width/r):be(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&qa(e)&&(be(e.left)&&(n.left=e.left),be(e.top)&&(n.top=e.top),be(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),be(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=U5(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,o=s.y,l=s.width,c=s.height,d=r.width/Math.floor(n.naturalWidth);d!==1&&(i*=d,o*=d,l*=d,c*=d);var u=l/c,h=$s({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=$s({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=$s({aspectRatio:u,width:e.width||(d!==1?r.width:l),height:e.height||(d!==1?r.height:c)}),g=p.width,v=p.height;g=Math.min(h.width,Math.max(f.width,g)),v=Math.min(h.height,Math.max(f.height,v));var b=document.createElement("canvas"),m=b.getContext("2d");b.width=ao(g),b.height=ao(v),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,g,v);var y=e.imageSmoothingEnabled,x=y===void 0?!0:y,_=e.imageSmoothingQuality;m.imageSmoothingEnabled=x,_&&(m.imageSmoothingQuality=_);var S=r.width,E=r.height,I=i,w=o,j,N,k,C,R,V;I<=-l||I>S?(I=0,j=0,k=0,R=0):I<=0?(k=-I,I=0,j=Math.min(S,l+I),R=j):I<=S&&(k=0,j=Math.min(l,S-I),R=j),j<=0||w<=-c||w>E?(w=0,N=0,C=0,V=0):w<=0?(C=-w,w=0,N=Math.min(E,c+w),V=N):w<=E&&(C=0,N=Math.min(c,E-w),V=N);var z=[I,w,j,N];if(R>0&&V>0){var L=g/l;z.push(k*L,C*L,R*L,V*L)}return m.drawImage.apply(m,[r].concat(_A(z.map(function(A){return Math.floor(ao(A))})))),b},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!em(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===cb,o=n.movable&&e===IA;e=i||o?e:CA,n.dragMode=e,Bc(r,$c,e),Wa(r,nv,i),Wa(r,rv,o),n.cropBoxMovable||(Bc(s,$c,e),Wa(s,nv,i),Wa(s,rv,o))}return this}},Z5=Hr.Cropper,MA=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(u5(this,t),!e||!S5.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=lt({},D_,qa(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return h5(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[it]){if(n[it]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(E5.test(n)){N5.test(n)?this.read(z5(n)):this.clone();return}var o=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=l,o.onerror=l,o.ontimeout=l,o.onprogress=function(){o.getResponseHeader("content-type")!==R_&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&L_(n)&&s.crossOrigin&&(n=M_(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=s.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=q5(n),o=0,l=1,c=1;if(i>1){this.url=H5(n,R_);var d=W5(i);o=d.rotate,l=d.scaleX,c=d.scaleY}r.rotatable&&(s.rotate=o),r.scalable&&(s.scaleX=l,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&L_(r)&&(s||(s="anonymous"),i=M_(r)),this.crossOrigin=s,this.crossOriginUrl=i;var o=document.createElement("img");s&&(o.crossOrigin=s),o.src=i||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Ot(o,N_),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Hr.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Hr.navigator.userAgent),i=function(d,u){lt(n.imageData,{naturalWidth:d,naturalHeight:u,aspectRatio:d/u}),n.initialImageData=lt({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),s||l.removeChild(o)},o.src=r.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,o=document.createElement("div");o.innerHTML=T5;var l=o.querySelector(".".concat(it,"-container")),c=l.querySelector(".".concat(it,"-canvas")),d=l.querySelector(".".concat(it,"-drag-box")),u=l.querySelector(".".concat(it,"-crop-box")),h=u.querySelector(".".concat(it,"-face"));this.container=i,this.cropper=l,this.canvas=c,this.dragBox=d,this.cropBox=u,this.viewBox=l.querySelector(".".concat(it,"-view-box")),this.face=h,c.appendChild(s),Ot(n,En),i.insertBefore(l,n.nextSibling),$r(s,N_),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Ot(u,En),r.guides||Ot(u.getElementsByClassName("".concat(it,"-dashed")),En),r.center||Ot(u.getElementsByClassName("".concat(it,"-center")),En),r.background&&Ot(l,"".concat(it,"-bg")),r.highlight||Ot(h,x5),r.cropBoxMovable&&(Ot(h,rv),Bc(h,$c,lb)),r.cropBoxResizable||(Ot(u.getElementsByClassName("".concat(it,"-line")),En),Ot(u.getElementsByClassName("".concat(it,"-point")),En)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),jn(r.ready)&&Qn(n,A_,r.ready,{once:!0}),oo(n,A_)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),$r(this.element,En)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Z5,t}},{key:"setDefaults",value:function(n){lt(D_,qa(n)&&n)}}]),t}();lt(MA.prototype,G5,K5,Y5,Q5,X5,J5);var Ii=function(){return Ii=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Ii.apply(this,arguments)};function nm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var e6=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],t6={opacity:0,maxWidth:"100%"},VA=Pe.forwardRef(function(t,e){var n=nm(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,o=n.style,l=n.className,c=n.crossOrigin,d=n.scaleX,u=n.scaleY,h=n.enable,f=n.zoomTo,p=n.rotateTo,g=n.alt,v=g===void 0?"picture":g,b=n.ready,m=n.onInitialized,y=nm(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),x={scaleY:u,scaleX:d,enable:h,zoomTo:f,rotateTo:p},_=function(){for(var E=[],I=0;I<arguments.length;I++)E[I]=arguments[I];var w=T.useRef(null);return Pe.useEffect(function(){E.forEach(function(j){j&&(typeof j=="function"?j(w.current):j.current=w.current)})},[E]),w}(e,T.useRef(null));T.useEffect(function(){var E;!((E=_.current)===null||E===void 0)&&E.cropper&&typeof f=="number"&&_.current.cropper.zoomTo(f)},[n.zoomTo]),T.useEffect(function(){var E;!((E=_.current)===null||E===void 0)&&E.cropper&&i!==void 0&&_.current.cropper.reset().clear().replace(i)},[i]),T.useEffect(function(){if(_.current!==null){var E=new MA(_.current,Ii(Ii({dragMode:s},y),{ready:function(I){I.currentTarget!==null&&function(w,j){j===void 0&&(j={});var N=j.enable,k=N===void 0||N,C=j.scaleX,R=C===void 0?1:C,V=j.scaleY,z=V===void 0?1:V,L=j.zoomTo,A=L===void 0?0:L,D=j.rotateTo;k?w.enable():w.disable(),w.scaleX(R),w.scaleY(z),D!==void 0&&w.rotateTo(D),A>0&&w.zoomTo(A)}(I.currentTarget.cropper,x),b&&b(I)}}));m&&m(E)}return function(){var I,w;(w=(I=_.current)===null||I===void 0?void 0:I.cropper)===null||w===void 0||w.destroy()}},[_]);var S=function(E){return e6.reduce(function(I,w){var j=I,N=w;return j[N],nm(j,[typeof N=="symbol"?N:N+""])},E)}(Ii(Ii({},y),{crossOrigin:c,src:i,alt:v}));return Pe.createElement("div",{style:o,className:l},Pe.createElement("img",Ii({},S,{style:t6,ref:_})))});const FA=async()=>{try{const t=re(W,"slider_images"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.bannerURL.stringValue,c=i.title.stringValue,d=l?await n6(l):null;n.push({_id:o,title:c,bannerURL:d})});await Promise.all(r),ut.dispatch(Ez(n))}catch(t){console.error("Error fetching Slider:",t)}},n6=async t=>{try{const e=Ce(Ae,`slider_images/${t}`);return await Gr(e)}catch{return null}};async function r6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Slider ID");return}try{const e=ye(W,"slider_images",t),s=(await Rn(e)).data().banner;if(await bn(e),s){const i=Ce(Ae,`slider_images/${s}`);await Er(i)}alert("Slider item and image deleted successfully!"),location.reload()}catch{alert("Error deleting Slider!")}}}const s6=()=>{const t=K(p=>p.getslider).data,[e,n]=T.useState(),[r,s]=T.useState(""),[i,o]=T.useState(!1),[l,c]=T.useState("");T.useEffect(()=>{FA()},[]);const d=T.useRef(null),u=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{n(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(d&&d.current){const p=d.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l||!r){P("danger","Please select an image and provide a title!");return}o(!0);const p=Ce(Ae,`slider_images/${r}`),g=await fetch(l).then(b=>b.blob()),v=new FileReader;v.readAsDataURL(g),v.onloadend=async()=>{Wr(p,g).then(async()=>{await dt(re(W,"slider_images"),{title:r,bannerURL:r}),P("success","Slider Image has been saved!"),s(""),n(null),o(!1),window.location.reload()}).catch(()=>{P("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later."),o(!1)})}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Slider Images"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((p,g)=>a.jsxs("tr",{children:[a.jsx("td",{children:g+1}),a.jsx("td",{children:p.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(X,{target:"_blank",to:p.bannerURL,children:a.jsx("img",{className:"rounded-2",src:p.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>r6(p._id),children:"Delete"})})})]})})]},g))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Slider Image"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:p=>s(p.target.value),disabled:i,value:r})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:u,disabled:i}),a.jsx("div",{className:"my-2",children:a.jsx(VA,{src:e,ref:d,aspectRatio:16/9,guides:!0,crop:h})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},UA=async()=>{try{const t=re(W,"pgusStudents"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ut.dispatch(Iz(n))}catch(t){console.error("Error fetching pgug:",t)}};async function i6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid pgug ID");return}try{const e=ye(W,"pgusStudents",t);await bn(e),alert("pgug item and image deleted successfully!"),location.reload()}catch{alert("Error deleting pgug!")}}}const $A=async()=>{try{const t=re(W,"visitorsAndInterns"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,data:i})});await Promise.all(r),ut.dispatch(Cz(n))}catch(t){console.error("Error fetching Visitor/Intern:",t)}};async function a6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Visitor/Intern ID");return}try{const e=ye(W,"visitorsAndInterns",t);await bn(e),alert("Visitor/Intern item and image deleted successfully!"),location.reload()}catch{alert("Error deleting Visitor/Intern!")}}}const o6=()=>{const t=K(c=>c.getauth),e=K(c=>c.getphdStudents.data),n=K(c=>c.getpgugStudents.data),r=K(c=>c.getvisitorsandinterns.data),[s,i]=T.useState(1),[o,l]=T.useState("");return T.useEffect(()=>{wa(),UA(),$A()},[]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Peoples"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100",children:a.jsxs(a.Fragment,{children:[a.jsxs("ul",{className:"nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===1?"bg-dark text-white":"text-dark"}`,id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#pills-profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false",onClick:()=>i(1),children:"Ph.D. Scholars"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===2?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(2),children:"Post Graduate students"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===3?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(3),children:"Alumni PhD"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===4?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(4),children:"Alumni Masters and Bachelors"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${s===5?"bg-dark text-white":"text-dark"}`,id:"pills-contact-tab","data-bs-toggle":"pill","data-bs-target":"#pills-contact",type:"button",role:"tab","aria-controls":"pills-contact","aria-selected":"false",onClick:()=>i(5),children:"Interns and Visitors"})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[(s===1||s===3)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),s!==5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),(s===2||s===4)&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Degree"}),s!==5&&a.jsxs(a.Fragment,{children:[" ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Batch"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Mobile"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:s===3||s===1?"Research Interests":"Currently Working At"})]}),s===5&&a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Institute"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[(s===1||s===3)&&(e==null?void 0:e.map(c=>{var b,m,y,x,_,S,E,I,w,j,N,k,C;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,researchInterests:g,supervisor:v}=c==null?void 0:c.data;return s===1&&(h!=null&&h.booleanValue)||s===3&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[a.jsx("a",{href:c==null?void 0:c.profileImage,target:"_blank",children:a.jsx("img",{src:c==null?void 0:c.profileImage,alt:"Profile Image",style:{width:"80px"}})}),a.jsx("strong",{className:"text-shade2 text-nowrap",children:((m=(b=v==null?void 0:v.mapValue)==null?void 0:b.fields)==null?void 0:m.email)===t.email&&"(Your Scholar)"})]}),a.jsxs("td",{children:[d==null?void 0:d.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsxs("td",{children:[a.jsxs("strong",{className:"text-shade2",children:["1. Email:"," "]}),a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:a.jsx("div",{children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("strong",{className:"text-shade2",children:"2. Supervisor"}),a.jsxs("div",{children:[(_=(x=(y=v==null?void 0:v.mapValue)==null?void 0:y.fields)==null?void 0:x.name)==null?void 0:_.stringValue,","," ",(I=(E=(S=v==null?void 0:v.mapValue)==null?void 0:S.fields)==null?void 0:E.email)==null?void 0:I.stringValue]})]}),a.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:a.jsx("ol",{children:(j=(w=g==null?void 0:g.arrayValue)==null?void 0:w.values)==null?void 0:j.map((R,V)=>a.jsx("li",{children:R.stringValue},V))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[" ",a.jsx("li",{children:a.jsx(X,{className:"dropdown-item",to:"/phd/"+(c==null?void 0:c._id),target:"_blank",children:"Profile"})}),((C=(k=(N=v==null?void 0:v.mapValue)==null?void 0:N.fields)==null?void 0:k.email)==null?void 0:C.stringValue)===t.email&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>e5(c._id),children:"Delete"})})]})]})})]},c._id)})),(s===2||s===4)&&(n==null?void 0:n.map(c=>{const{name:d,batch:u,isAlumni:h,email:f,mobile:p,degree:g,currentlyWorkingAt:v}=c==null?void 0:c.data;return s===2&&(h!=null&&h.booleanValue)||s===4&&!(h!=null&&h.booleanValue)?null:a.jsxs("tr",{children:[a.jsxs("td",{children:[d==null?void 0:d.stringValue,(h==null?void 0:h.booleanValue)&&a.jsx("div",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("td",{children:a.jsx("a",{href:"mailto:"+(f==null?void 0:f.stringValue),target:"_blank",children:(f==null?void 0:f.stringValue)||"N/A"})}),a.jsx("td",{children:(g==null?void 0:g.stringValue)||"N/A"}),a.jsx("td",{children:(u==null?void 0:u.stringValue)||"N/A"}),a.jsx("td",{children:p==null?void 0:p.stringValue}),a.jsx("td",{children:v==null?void 0:v.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>i6(c._id),children:"Delete"})}):"NA"})]})})]},c._id)})),s===5&&(r==null?void 0:r.map(c=>{const{name:d,collegeName:u}=c==null?void 0:c.data;return a.jsxs("tr",{children:[a.jsx("td",{children:d==null?void 0:d.stringValue}),a.jsx("td",{children:u==null?void 0:u.stringValue}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:t.userType.includes("ADMIN")?a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>a6(c._id),children:"Delete"})}):"NA"})]})})]},c._id)}))]})]}),!r.length&&s===5&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})}),!e.length&&(s===1||s===3)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})}),!n.length&&(s===2||s===4)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New People"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"designation",className:"form-label",children:"Designation"}),a.jsxs("select",{name:"designation",className:"form-control border-2 border-primary",onChange:c=>l(c.target.value),children:[a.jsx("option",{value:"",children:"--select designation--"}),a.jsx("option",{value:"Ph.D. Scholars",children:"Ph.D. Scholars"}),a.jsx("option",{value:"Post Graduate students",children:"Post Graduate students"}),a.jsx("option",{value:"Alumni Ph.D.",children:"Alumni Ph.D."}),a.jsx("option",{value:"Alumni Masters and Bachelors",children:"Alumni Masters and Bachelors"}),a.jsx("option",{value:"Visitors and Interns",children:"Visitors and Interns"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2",children:[(o==="Ph.D. Scholars"||o==="Alumni Ph.D.")&&a.jsx(l6,{}),(o==="Post Graduate students"||o==="Alumni Masters and Bachelors")&&a.jsx(c6,{}),o==="Visitors and Interns"&&a.jsx(d6,{})]})]})})]})})})]})},l6=()=>{var S,E,I,w;const t=K(j=>j.getsupervisors.data),e=K(j=>j.getauth),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState({name:e.userType==="SUPERVISOR"?(E=(S=t.filter(j=>{var N;return((N=j==null?void 0:j.data)==null?void 0:N.email)===(e==null?void 0:e.email)})[0])==null?void 0:S.data)==null?void 0:E.name:"",email:e.userType==="SUPERVISOR"?(w=(I=t.filter(j=>{var N;return((N=j==null?void 0:j.data)==null?void 0:N.email)===(e==null?void 0:e.email)})[0])==null?void 0:I.data)==null?void 0:w.email:""}),[f,p]=T.useState(""),[g,v]=T.useState(!1),[b,m]=T.useState(!1),[y,x]=T.useState(),_=async j=>{if(j.preventDefault(),!n||!s||!o||!c||!f){P("danger","Error! Please fill all required fields.");return}if(!y){P("danger","Please upload an Image!");return}m(!0);const N=Ce(Ae,`/peoples/phd_profile_images/${n}_${y.name}`);await Wr(N,y).then(async()=>{dt(re(W,"phdStudents"),{name:n,email:s,mobile:o,batch:c,supervisor:u,researchInterests:f.split(",").map(k=>k.trim()),isAlumni:g,profileImage:n+"_"+y.name}).then(async()=>{await dt(re(W,"users"),{email:s,userType:"PHD"}),P("success","Data Saved Successfully!"),r(""),i(""),l(""),d(""),p(""),v(!1),m(!1),window.location.reload()}).catch(()=>{P("danger","Failed to save Data!"),m(!1)})})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:_,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",placeholder:"ie. Mr. X",onChange:j=>r(j.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",onChange:j=>i(j.target.value),placeholder:"ie. user@gmail.com"})]}),a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",children:["Supervisor",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:j=>{var N,k;h({name:j.target.value,email:(k=(N=t.filter(C=>{var R;return((R=C==null?void 0:C.data)==null?void 0:R.name)==j.target.value})[0])==null?void 0:N.data)==null?void 0:k.email})},disabled:b||e.userType==="SUPERVISOR",children:[a.jsx("option",{value:"",children:"-- select --"}),t==null?void 0:t.map((j,N)=>{var k,C,R,V;return a.jsxs("option",{value:(k=j==null?void 0:j.data)==null?void 0:k.name,selected:e.email==((C=j==null?void 0:j.data)==null?void 0:C.email),children:[(R=j==null?void 0:j.data)==null?void 0:R.name,"-",(V=j==null?void 0:j.data)==null?void 0:V.email]},N)})]})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,onChange:j=>l(j.target.value),placeholder:"ie. 10 digits mobile number"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",onChange:j=>{var k;const N=(k=j.target.files)==null?void 0:k[0];x(N)},disabled:b})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:j=>d(j.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Research Interests(Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. AI, ML, IoT",onChange:j=>p(j.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-shade2 me-2",id:"alumni",onChange:j=>v(j.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-shade2",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:b,children:b?"Submitting...":"Submit"})})]})})},c6=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(!1),[g,v]=T.useState(!1),b=m=>{if(m.preventDefault(),!t||!n||!s||!o||!c||!u){P("danger","Please fill all the required fields.");return}v(!0),dt(re(W,"pgusStudents"),{degree:t,name:n,email:s,mobile:o,batch:c,currentlyWorkingAt:u,isAlumni:f}).then(()=>{P("success","Data Saved!"),e(""),r(""),i(""),l(""),d(""),h(""),p(!1),v(!1),location.reload()}).catch(()=>{P("danger","Error while Saving Data!"),v(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:b,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"degree",children:"Select UG or PG"}),a.jsxs("select",{name:"degree",className:"form-control",id:"degree",onChange:m=>e(m.target.value),children:[a.jsx("option",{value:"",children:"--select--"}),a.jsx("option",{value:"B.Tech",children:"B.Tech"}),a.jsx("option",{value:"M.Tech",children:"M.Tech"})]})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:m=>r(m.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",placeholder:"ie. user_@gmail.com",onChange:m=>i(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Mobile"}),a.jsx("input",{type:"number",className:"form-control",name:"mobille",max:9999999999,min:0,placeholder:"ie. 10 digits mobile number",onChange:m=>l(m.target.value)})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"email",disabled:!0})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Batch"}),a.jsx("input",{type:"number",max:2050,min:1867,className:"form-control",placeholder:"ie. 2020",onChange:m=>d(m.target.value)})]})]}),a.jsxs("div",{className:"mb-1",children:[a.jsx("label",{htmlFor:"name",children:"Currently Working At"}),a.jsx("input",{type:"text",className:"form-control",name:"email",placeholder:"ie. Company or Organisation name",onChange:m=>h(m.target.value)})]}),a.jsx("div",{className:"mb-1 mt-2",children:a.jsxs("div",{className:"form-control rounded-0 border-1 border-dark",children:[a.jsx("input",{type:"checkbox",className:"form-check-input bg-bg-shade2 me-2",id:"alumni",onChange:m=>p(m.target.checked)}),a.jsx("label",{htmlFor:"alumni",className:"text-shade2",style:{userSelect:"none",cursor:"pointer"},children:"Is this student is Alumni?"})]})}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:g,children:g?"Submitting...":"Submit"})})]})})},d6=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=l=>{if(l.preventDefault(),!t||!n){P("danger","Please fill all the required details.");return}i(!0),dt(re(W,"visitorsAndInterns"),{name:t,collegeName:n}).then(()=>{P("success","Data Saved!"),e(""),r(""),i(!1),location.reload()}).catch(()=>{P("danger","Failed to save data."),i(!1)})};return a.jsx(a.Fragment,{children:a.jsxs("form",{onSubmit:o,noValidate:!0,children:[a.jsxs("div",{className:"mb-1 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",onChange:l=>e(l.target.value),placeholder:"ie. Mr. X"})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"name",children:"College Name"}),a.jsx("input",{type:"text",className:"form-control",name:"email",onChange:l=>r(l.target.value),placeholder:"ie. Chandigarh Univeristy"})]})]}),a.jsx("div",{className:"mb-1 mt-3",children:a.jsx("button",{type:"submit",className:"btn btn-dark w-100",disabled:s,children:s?"Submitting...":"Submit"})})]})})},u6=["Professor","Associate Professor","Assistant Professor","Adjunct Professor","Visiting Professor","Emeritus Professor","Research Professor"],rm={name:"",email:"",designation:"",phone:"",researchInterests:"",introduction:"",teaching:"",accomplishments:"",professional_affiliation:"",links:[]},h6=()=>{var g;const t=K(v=>v.getauth),e=K(v=>v.getsupervisors.data),[n,r]=T.useState(!1),[s,i]=T.useState(),[o,l]=T.useState(rm),[c,d]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{xs()},[]);const u=v=>{const{name:b,value:m}=v.target;l(y=>({...y,[b]:m}))},h=async()=>{const{name:v,email:b,designation:m}=o;if(!v||!b||!m){P("danger","Designation, Email and Name are required fields.");return}if(r(!0),!s)dt(re(W,"supervisors"),{...o,startDate:new Date,endDate:"NA"}).then(async()=>{await dt(re(W,"users"),{email:b,userType:"SUPERVISOR"}),P("success","Supervisor details has been saved successfully!"),l(rm),i(void 0),r(!1),window.location.reload()}).catch(()=>{P("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)});else{const y=Ce(Ae,`/peoples/supervisor_profile_images/${v}_${s.name}`);await Wr(y,s).then(async()=>{P("success","Profile image uploaded successfully"),dt(re(W,"supervisors"),{...o,startDate:new Date,endDate:"NA",profileImage:v+s.name}).then(async()=>{await dt(re(W,"users"),{email:b,userType:"SUPERVISOR"}),P("success","Supervisor details along with profile image have been saved successfully!"),l(rm),i(void 0),r(!1),window.location.reload()}).catch(()=>{P("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}).catch(()=>{P("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),r(!1)})}},f=t==null?void 0:t.userType.includes("SUPERVISOR"),p=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:!p&&f?"Your Profile":"Supervisors"}),p&&a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",children:[a.jsxs("table",{className:"table table-bordered table-hover w-100",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Contact"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Research Interests"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Introduction"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Profile Links"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:e==null?void 0:e.map((v,b)=>{const{name:m,designation:y,email:x,phone:_,researchInterests:S,introduction:E,links:I,teaching:w,accomplishments:j,professional_affiliation:N}=v==null?void 0:v.data;if(!(!p&&f&&(t==null?void 0:t.email)!=x))return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{children:[a.jsx("td",{children:v!=null&&v.profileImage?a.jsx("a",{href:v==null?void 0:v.profileImage,target:"_blank",children:a.jsx("img",{src:v==null?void 0:v.profileImage,alt:`${m}'s profile`,style:{width:"50px",height:"auto"}})}):"Not Uploaded"}),a.jsxs("td",{children:[f&&t.email===x&&a.jsxs(a.Fragment,{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Your Profile"}),a.jsx("hr",{})]}),a.jsx("h6",{className:"fw-bold text-primary",children:m}),a.jsxs("small",{className:"fw-bold text-shade2",children:["(",y,")"]})]}),a.jsxs("td",{children:["Email:"," ",a.jsx("a",{href:"mailto:"+x,target:"_blank",children:x}),a.jsx("hr",{}),"Mobile: ",_]}),a.jsxs("td",{children:[a.jsx("strong",{children:"Research Interests: "}),S]}),a.jsx("td",{children:a.jsx("p",{style:{width:"200px",height:"300px",overflow:"auto"},children:E})}),a.jsx("td",{children:a.jsx("ol",{children:I==null?void 0:I.map((k,C)=>a.jsx("li",{children:a.jsx(X,{to:k==null?void 0:k.linkURL,target:"_blank",className:"btn-link bnt-sm p-0",children:k==null?void 0:k.linkName})},C))})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:`dropdownMenuButton${b}`,"data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":`dropdownMenuButton${b}`,children:[(t.email===x||p)&&a.jsx("li",{children:a.jsx(X,{className:"dropdown-item text-primary",to:v==null?void 0:v._id,children:"Edit"})}),p&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>W9(v._id),children:"Delete"})})]})]})})]},v._id),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Techings: "})]}),a.jsx("td",{colSpan:5,children:w})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Accomplishments: "})]}),a.jsx("td",{colSpan:5,children:j})]}),a.jsxs("tr",{children:[a.jsxs("td",{colSpan:2,children:[" ",a.jsx("strong",{children:"Professional Affiliation: "})]}),a.jsx("td",{colSpan:5,children:N})]})]})})})]}),!e.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Add New Supervisor"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"fw-bold text-primary",children:"Personal Information:"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Designation(",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsxs("select",{name:"designation",className:"form-control",value:o.designation,onChange:u,id:"designation",children:[a.jsx("option",{value:"",children:"--select designation--"}),u6.map((v,b)=>a.jsx("option",{value:v,children:v},b))]})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:o.name,onChange:u})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("strong",{className:"text-shade2",children:"required"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:o.email,onChange:u})]})]}),a.jsx("div",{className:"alert alert-primary p-2 rounded-0 mb-3",role:"alert",children:"Name and Email fields are required, Supervisor can also edit other things later."}),a.jsx("div",{className:"text-end",children:a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})}),a.jsx("h4",{className:"fw-bold text-primary",children:"Other Details (User can fill later):"}),a.jsx("hr",{}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:o.phone,onChange:u,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:v=>{var m;const b=(m=v.target.files)==null?void 0:m[0];i(b)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:o.researchInterests,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:o.teaching||"",onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:o.accomplishments,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:o.professional_affiliation,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:5,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:o.introduction,onChange:u})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:v=>d({linkName:v.target.value,linkURL:c.linkURL}),value:c.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:v=>d({linkName:c.linkName,linkURL:v.target.value}),value:c.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!c.linkName||!c.linkURL){P("danger","Link Name and URL are required fields.");return}if(o.links.includes(c)){P("danger","This link already exists.");return}l({...o,links:[...o.links,c]}),d({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(g=o==null?void 0:o.links)==null?void 0:g.map((v,b)=>a.jsxs("tr",{children:[a.jsx("th",{children:b+1}),a.jsx("th",{children:v==null?void 0:v.linkName}),a.jsx("th",{children:a.jsx("a",{href:v==null?void 0:v.linkURL,target:"_blank",children:v==null?void 0:v.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&l({...o,links:o==null?void 0:o.links.filter(m=>m.linkName!==(v==null?void 0:v.linkName))})},children:"Remove"})})]}))})]}),!(o!=null&&o.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:h,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},ja=async()=>{try{const t=re(W,"datasets"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=(i==null?void 0:i.images.arrayValue.values)||[];let d=[];const u=c.map(async f=>{const p=await f6(f.stringValue)||"";d.push({name:f==null?void 0:f.stringValue,url:p})});await Promise.all(u);const h=i==null?void 0:i.description.stringValue;n.push({_id:o,title:l,description:h,images:d})});await Promise.all(r),ut.dispatch(Az(n))}catch(t){console.error("Error fetching Datasets:",t)}},f6=async t=>{try{const e=Ce(Ae,`dataset_images/${t}`);return await Gr(e)}catch{return null}};async function p6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid Datasets ID");return}try{const e=ye(W,"datasets",t),s=(await Rn(e)).data().images;await bn(e);const i=s.map(async o=>{const l=Ce(Ae,`dataset_images/${o}`);await Er(l)});await Promise.all(i),alert("Datasets item and images deleted successfully!"),location.reload()}catch{alert("Error deleting Datasets!")}}}async function m6(t,e){if(confirm("Are you sure want to delete this item?")){if(t===null||!e||e==null){alert("Invalid Parameters");return}try{const n=Ce(Ae,`dataset_images/${e}`);await Er(n);const r=ye(W,"datasets",t),s=await Rn(r);if(s.exists()){const l=(s.data().images||[]).filter(c=>c!=e);await tt(r,{images:l}),P("success","Datasets item and images deleted successfully!")}else P("danger","Something went wrong!");location.reload()}catch{alert("Error deleting Datasets!")}}}const g6=()=>{const t=K(c=>c.getdatasets).data,[e,n]=T.useState(""),[r,s]=T.useState(""),[i,o]=T.useState(!1);T.useEffect(()=>{ja()},[]);const l=async()=>{if(!e||!r){P("warning","Please provide the required fields!");return}o(!0);try{await dt(re(W,"datasets"),{title:e,description:r,images:[]}),P("success","Datasets has been saved!"),P("info","You can add datasets images later!")}catch{P("danger","Error while saving the dataset, Try again!")}n(""),o(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Datasets"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"alert alert-warning fw-bold rounded-0",children:"It is common for all, If you delete one dataset, it will deleted from all."}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((c,d)=>a.jsxs("tr",{children:[a.jsx("td",{children:d+1}),a.jsx("td",{children:c==null?void 0:c.title}),a.jsxs("td",{children:[" ",a.jsx("div",{className:"overflow-auto p-2",children:c==null?void 0:c.description})]}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[a.jsx("li",{children:a.jsx(X,{to:c==null?void 0:c._id,className:"dropdown-item text-success",children:"Add Images"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>p6(c._id),children:"Delete"})})]})]})})]},d))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Datasets"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:c=>n(c.target.value),disabled:i,value:e||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"title","aria-describedby":"title",placeholder:"Describe dataset in 50 to 100 words..",onChange:c=>s(c.target.value),disabled:i,value:r||""})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:l,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},xd=async()=>{try{const t=re(W,"ResearchArea"),e=await we(t),n=[],r=e.docs.map(async s=>{var u,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title.stringValue,c=((h=(u=i==null?void 0:i.subareas)==null?void 0:u.arrayValue)==null?void 0:h.values)||[],d=l?await v6(l):null;n.push({_id:o,title:l,subareas:c,bannerURL:d})});await Promise.all(r),ut.dispatch(kz(n))}catch(t){console.error("Error fetching ResearchArea:",t)}},v6=async t=>{try{const e=Ce(Ae,`research_areas_images/${t}`);return await Gr(e)}catch{return null}};async function y6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ResearchArea ID");return}try{const e=ye(W,"ResearchArea",t),s=(await Rn(e)).data().banner;if(await bn(e),s){const i=Ce(Ae,`research_areas_images/${s}`);await Er(i)}alert("ResearchArea item and image deleted successfully!"),location.reload()}catch{alert("Error deleting ResearchArea!")}}}const Wf=async()=>{try{const t=re(W,"research_subitems"),e=await we(t),n=[],r=e.docs.map(async s=>{var h,f,p;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.description.stringValue,c=i==null?void 0:i.researchArea,d=(f=(h=i==null?void 0:i.projects)==null?void 0:h.arrayValue)==null?void 0:f.values,u=(p=i==null?void 0:i.title)==null?void 0:p.stringValue;n.push({_id:o,title:u,description:l,researchArea:c,projects:d})});await Promise.all(r),ut.dispatch(Pz(n))}catch(t){console.error("Error fetching SubAreas:",t)}};async function x6(t,e){if(confirm("Are you sure you want to delete this item?")){if(!t||!e){alert("Invalid SubAreas or ResearchArea ID");return}try{const n=ye(W,"research_subitems",t);await bn(n);const r=ye(W,"ResearchArea",e);await tt(r,{subareas:cI(t)}),alert("SubAreas item deleted successfully!"),window.location.reload()}catch(n){console.error("Error deleting SubAreas:",n),alert("Error deleting SubAreas!")}}}const b6=()=>{const t=K(d=>{var u;return(u=d.getresearcharea)==null?void 0:u.data}),[e,n]=T.useState(null),[r,s]=T.useState(""),[i,o]=T.useState(!1);T.useEffect(()=>{xd(),Wf()},[]);const l=d=>{if(d.target.files&&d.target.files.length>0){const u=new FileReader;u.onload=()=>{n(u.result)},u.readAsDataURL(d.target.files[0])}},c=async()=>{if(!e||!r){P("danger","Please select an image and provide a title!");return}o(!0);const d=Ce(Ae,`research_areas_images/${r}`),u=await fetch(e).then(h=>h.blob());try{await Wr(d,u),await dt(re(W,"ResearchArea"),{title:r,subareas:[]}),P("success","Research area has been saved!"),P("info","Info! You can add sub-areas later."),s(""),n(null),o(!1),location.reload()}catch{P("danger","Error! While uploading image, Please check your internet connection and try again."),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Research Area"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-shade2",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, it will be show in main website page to."}),a.jsx("li",{children:"You can modify any Research area for example you can add more details of the Research Area by adding Sub Areas."})]})]}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sub Areas"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((d,u)=>a.jsxs("tr",{children:[a.jsx("td",{children:u+1}),a.jsx("td",{children:d==null?void 0:d.title}),a.jsx("td",{children:a.jsx(X,{to:d._id+"?t=98765432qwdfgnmnbgfdsa&ref=sdfghd",className:"btn btn-dark btn-sm",children:"Open"})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(X,{target:"_blank",to:d==null?void 0:d.bannerURL,children:a.jsx("img",{className:"rounded-2",src:d.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>y6(d._id),children:"Delete"})})})]})})]},u))})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-lg",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Research Area"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:d=>s(d.target.value),disabled:i,value:r||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]}),a.jsxs("div",{className:"alert alert-warning d-flex align-items-center p-2 rounded-0",role:"alert",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:a.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),a.jsx("div",{children:"You can add related images with ppt link and pdf link later."})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},xi=async()=>{try{const t=re(W,"projects_items"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null,l=i==null?void 0:i.title,c=l?await w6(l):null;n.push({_id:o,bannerURL:c,...i})});await Promise.all(r),ut.dispatch(Rz(n))}catch(t){console.error("Error fetching ProjectsItems:",t)}},w6=async t=>{try{const e=Ce(Ae,`project_items_images/${t}`);return await Gr(e)}catch{return null}};async function j6(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid ProjectsItems ID");return}try{const e=ye(W,"projects_items",t),r=(await Rn(e)).data(),s=r==null?void 0:r.title;if(await bn(e),s){const c=Ce(Ae,`project_items_images/${s}`);await Er(c)}const i=re(W,"research_subitems"),l=(await we(i)).docs.map(async c=>{const d=c.ref;await tt(d,{projects:cI(t)})});await Promise.all(l),alert("ProjectsItems item and image deleted successfully!"),location.reload()}catch(e){console.log(e),alert("Error deleting ProjectsItems!")}}}const _6=()=>{const{id:t}=qr();T.useEffect(()=>{Wf(),xd(),xi()},[]);const n=K(b=>{var m;return(m=b.getresearcharea)==null?void 0:m.data}).find(b=>b._id===t);if(!n){window.history.back();return}const r=K(b=>b.getsubareas).data,s=(n==null?void 0:n.subareas)||[],i=r==null?void 0:r.filter(b=>s.some(m=>m.stringValue===(b==null?void 0:b._id))),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(!1),[f,p]=T.useState([]),g=K(b=>{var m;return(m=b.getprojectitems)==null?void 0:m.data}),v=async()=>{if(!o){P("danger","Please select an image and provide a title!");return}h(!0);try{const m=(await dt(re(W,"research_subitems"),{title:o,researcharea:n._id,description:c,projects:f})).id;await tt(ye(W,"ResearchArea",n._id),{subareas:IF(m)}),P("success","Subitem has been saved!"),l(""),d(""),p([]),h(!1),window.location.reload()}catch{P("danger","Error! While adding a Subitem, Check you internet connnection and Try Again later.")}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-shade2",children:n==null?void 0:n.title}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsx("div",{className:"w-100 my-2",children:a.jsx("img",{src:n==null?void 0:n.bannerURL,alt:"Banner Image"})}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:i==null?void 0:i.map((b,m)=>{var y;return a.jsxs("tr",{children:[a.jsx("td",{children:m+1}),a.jsx("td",{children:b==null?void 0:b.title}),a.jsx("td",{children:b==null?void 0:b.description}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(y=b==null?void 0:b.projects)==null?void 0:y.map((x,_)=>{const S=g==null?void 0:g.find(E=>(E==null?void 0:E._id)==(x==null?void 0:x.stringValue));return a.jsxs("div",{children:[_+1,". ",S==null?void 0:S.title," (",a.jsx(X,{to:"/dashboard/projects-items",className:"text-primary",style:{textDecoration:"none"},children:"Open"}),")"]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>x6(b._id,n==null?void 0:n._id),children:"Delete"})})})]})})]},m)})})]}),!i.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub Item"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:b=>l(b.target.value),disabled:u,value:o})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Description"}),a.jsx("textarea",{rows:5,className:"form-control",id:"banner_image",onChange:b=>d(b.target.value),disabled:u,placeholder:"describe in some words.."})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Related Project (Optional)"}),a.jsxs("select",{name:"project",className:"form-control",onChange:b=>{const m=b.target.value;m!==""&&(f.includes(m)||p([...f,m]))},children:[a.jsx("option",{value:"",children:"--select project--"}),g==null?void 0:g.map((b,m)=>a.jsx("option",{value:b==null?void 0:b._id,children:b==null?void 0:b.title},m))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:f==null?void 0:f.map((b,m)=>{const y=g==null?void 0:g.find(x=>(x==null?void 0:x._id)==b);return a.jsxs("tr",{children:[a.jsx("th",{children:m+1}),a.jsx("th",{children:y==null?void 0:y.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&p(f.filter(x=>x!==b))},children:"Remove"})})]})})})]}),!f.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:v,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},E6=()=>{const t=K(y=>{var x;return(x=y.getprojectitems)==null?void 0:x.data}),e=K(y=>y.getauth),[n,r]=T.useState(null),[s,i]=T.useState(""),[o,l]=T.useState(""),[c,d]=T.useState(""),[u,h]=T.useState(""),[f,p]=T.useState(""),[g,v]=T.useState(!1);T.useEffect(()=>{xi()},[]);const b=y=>{if(y.target.files&&y.target.files.length>0){const x=new FileReader;x.onload=()=>{r(x.result)},x.readAsDataURL(y.target.files[0])}},m=async()=>{if(!n||!s){P("danger","Please select an image and provide a title!");return}v(!0);const y=Ce(Ae,`project_items_images/${s}`),x=await fetch(n).then(_=>_.blob());try{await Wr(y,x),await dt(re(W,"projects_items"),{title:s,pptLink:o,pdfLink:c,githubLink:u,description:f,user:e==null?void 0:e.email}),P("success","Project has been saved!"),v(!1),location.reload()}catch{P("danger","Error uploading image, Try Again!"),v(!1)}i(""),d(""),l(""),h(""),p(""),r(null)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Research Topics/Projects"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"alert alert-warning rounded-0 p-2 fw-bold",children:[a.jsx("h4",{className:"text-shade2",children:"Note:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"It is for all, you can use these in Research Projects and Datasets."}),a.jsx("li",{children:"Please do not delete any, if it is already associated with any Research Project and Dataset."})]})]}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Resources"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Banner"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((y,x)=>a.jsxs("tr",{children:[a.jsx("td",{children:x+1}),a.jsxs("td",{children:[y==null?void 0:y.title,a.jsx("hr",{}),y==null?void 0:y.description]}),a.jsx("td",{children:a.jsxs("ul",{children:[(y==null?void 0:y.pdfLink)&&a.jsx("li",{children:a.jsx(X,{to:y!=null&&y.pdfLink?y==null?void 0:y.pdfLink:"#",target:"_blank",children:"PDF Link"})}),(y==null?void 0:y.pptLink)&&a.jsx("li",{children:a.jsx(X,{to:y!=null&&y.pptLink?y==null?void 0:y.pptLink:"#",target:"_blank",children:"PPT Link"})}),(y==null?void 0:y.githubLink)&&a.jsx("li",{children:a.jsx(X,{to:y!=null&&y.githubLink?y==null?void 0:y.githubLink:"#",target:"_blank",children:"Github Link"})})]})}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(X,{target:"_blank",to:y==null?void 0:y.bannerURL,children:a.jsx("img",{className:"rounded-2",src:y.bannerURL,alt:"",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(y==null?void 0:y.user)===(e==null?void 0:e.email)&&a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>j6(y._id),children:"Delete"})})})]})})]},x))})]}),!t.length&&a.jsx("div",{className:"col-sm-12 text-center my-5 text-danger fw-bold",children:a.jsx("h3",{children:"Data Not Found"})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:y=>i(y.target.value),disabled:g,value:s||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:y=>p(y.target.value),disabled:g,value:f||"",rows:4})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"PPT Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:y=>l(y.target.value),disabled:g,value:o||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Pdf Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Paste Here..",onChange:y=>d(y.target.value),disabled:g,value:c||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Github Link (Optional)"}),a.jsx("input",{type:"text",className:"form-control",id:"github_Code","aria-describedby":"title",placeholder:"Paste Here..",onChange:y=>h(y.target.value),disabled:g,value:u||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:b,disabled:g})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:m,disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},bd=async()=>{try{const t=re(W,"projects_main"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null;n.push({_id:o,...i})});await Promise.all(r),ut.dispatch(Dz(n))}catch(t){console.error("Error fetching ProjectsMain:",t)}};async function N6(t){if(confirm("Are you sure want to delete this item?")){if(t===null){alert("Invalid ProjectsMain ID");return}try{const e=ye(W,"projects_main",t);await bn(e),alert("Projects Main item and image deleted successfully!"),location.reload()}catch{alert("Error deleting ProjectsMain!")}}}const S6=`Type of Project(Sponsored/Consultancy),Project Title,Funding Agency,Funding Amount in Inr.,JRF/PHD Scholars,Project Description(100 to 400 words),Names of the PI (comma separated),Names of the Co-PI (comma separated)
`,T6=`Consultancy,"Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",SERB-CRG,4500000,Kuldeep Marotirao Biradar,"The proposed system removes the onus of detecting aberrance situations from the manual operator; and rather, places it on the video surveillance system. The present technologies are fails to recognize aberration in video sequences. These aberrances occur over a small-time window. Thus, recognizing with its timeframe from a big visual data is really challenging task. Hence, our focus is on problems, where we are given a set of nominal training videos samples. Based on these samples need to determine whether or not a test video contains an aberration and what instant it occurs. Similarly, we aim to significantly reduce the time and human effort by automating the task and improving the accuracy by recognizing aberrances with its timestamp. Further, exploit the aberrance activity of the object by modeling the rich motion patterns in selected region, effectively capturing the underlying intrinsic structure they form in the video. Implementation of this system can be beneficial for intelligent agencies, banks, departmental stores, traffic monitoring on highway, airport terminal check-in, sports, medical field, and robotics etc.",Dr. Santosh Kumar Vipparthi,NA
`,V_={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},I6=()=>{var v,b,m,y;const t=K(x=>x.getauth),[e,n]=T.useState(!1),r=K(x=>x.getsupervisors.data),s=K(x=>{var _;return(_=x.getprojectitems)==null?void 0:_.data}),i=K(x=>{var _;return(_=x.getdatasets)==null?void 0:_.data}),o=K(x=>{var _;return(_=x.getprojectsmain)==null?void 0:_.data}),[l,c]=T.useState(t!=null&&t.userType.includes("SUPERVISOR")?[t==null?void 0:t.email]:[]),[d,u]=T.useState(V_);T.useEffect(()=>{ja(),xi(),bd()},[]);const h=x=>{const{id:_,value:S}=x.target;u(E=>({...E,[_]:S}))},f=async()=>{if(!d.title||!d.description||!d.type||!d.copis||!d.total_fund||!d.funding_agency||!d.pis||!d.jrf_phd_scholar||!l){P("danger","Please fill out all fields.");return}n(!0);try{await dt(re(W,"projects_main"),{...d,users:l}),P("success","Project has been saved!"),u(V_),n(!1),window.location.reload()}catch{P("danger","Error! Failed to save project, Try again.")}},p=t==null?void 0:t.userType.includes("SUPERVISOR"),g=t==null?void 0:t.userType.includes("ADMIN");return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Projects"}),a.jsx("div",{className:"d-flex gap-2",children:(p||g)&&a.jsxs(a.Fragment,{children:[" ",a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"}),a.jsxs("button",{className:"btn btn-shade1 btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#exampleModal1",children:[a.jsx("i",{className:"bx bx-import me-2"}),"Import CSV"]})]})})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Details"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects Items"})," ",a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Datasets"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Related Projects"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:o==null?void 0:o.map((x,_)=>{var E,I,w,j,N,k,C,R,V,z,L,A,D,M,$;const S=(I=(E=x==null?void 0:x.users)==null?void 0:E.arrayValue)==null?void 0:I.values.some(H=>(H==null?void 0:H.stringValue)==t.email);return a.jsxs("tr",{children:[a.jsx("td",{children:_+1}),a.jsx("td",{className:"fw-bold text-shade2",children:a.jsx("span",{children:(w=x==null?void 0:x.title)==null?void 0:w.stringValue})}),a.jsxs("td",{children:[a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"PIs:"})," ",a.jsx("p",{children:(j=x==null?void 0:x.pis)==null?void 0:j.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Co-PIs:"})," ",a.jsx("p",{children:(N=x==null?void 0:x.copis)==null?void 0:N.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Funding Agency:"})," ",a.jsx("p",{children:(k=x==null?void 0:x.funding_agency)==null?void 0:k.stringValue})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Total Fund(Inr):"})," ",a.jsxs("p",{children:["Rs. ",(C=x==null?void 0:x.total_fund)==null?void 0:C.stringValue]})]}),a.jsxs("div",{className:"row px-2",children:[a.jsx("strong",{children:"Ph.D./JRF Students:"})," ",a.jsx("p",{children:(R=x==null?void 0:x.jrf_phd_scholar)==null?void 0:R.stringValue})]})]}),a.jsx("td",{children:a.jsx("p",{className:"overflow-auto",style:{height:"500px",width:"200px"},children:(V=x==null?void 0:x.description)==null?void 0:V.stringValue})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(A=(L=(z=x==null?void 0:x.related_datasets)==null?void 0:z.arrayValue)==null?void 0:L.values)==null?void 0:A.map((H,O)=>{const U=i==null?void 0:i.find(ee=>(ee==null?void 0:ee._id)==(H==null?void 0:H.stringValue));return a.jsxs("div",{children:[O+1,". ",U==null?void 0:U.title," (",a.jsx(X,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(U==null?void 0:U._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(U==null?void 0:U._id)+"Modal",tabIndex:-1,"aria-labelledby":(U==null?void 0:U._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(U==null?void 0:U._id)+"ModalLabel",children:U==null?void 0:U.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:U==null?void 0:U.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+_,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:U==null?void 0:U.images.map((ee,se)=>a.jsx("div",{className:`carousel-item ${se===0&&"active"}`,children:a.jsx("img",{src:ee==null?void 0:ee.url,className:"d-block w-100",alt:"This is image"})},se))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+_,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+_,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-column flex-wrap",children:($=(M=(D=x==null?void 0:x.related_projectitems)==null?void 0:D.arrayValue)==null?void 0:M.values)==null?void 0:$.map((H,O)=>{const U=s==null?void 0:s.find(ee=>(ee==null?void 0:ee._id)==(H==null?void 0:H.stringValue));return a.jsxs("div",{children:[O+1,". ",U==null?void 0:U.title," (",a.jsx(X,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(U==null?void 0:U._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(U==null?void 0:U._id)+"Modal",tabIndex:-1,"aria-labelledby":(U==null?void 0:U._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(U==null?void 0:U._id)+"ModalLabel",children:[U==null?void 0:U.title,"("," ",a.jsx(X,{className:"btn-primary",style:{textDecoration:"none"},to:U==null?void 0:U.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(X,{to:U==null?void 0:U.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),") |"," ",a.jsx(X,{to:U==null?void 0:U.githubLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"Github Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsx("p",{children:U==null?void 0:U.description}),a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:U==null?void 0:U.bannerURL,alt:"Banner Image"})})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]})})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:S&&p?a.jsxs(a.Fragment,{children:[a.jsx("li",{children:a.jsx(X,{className:"dropdown-item text-dark",to:"video/"+(x==null?void 0:x._id),children:"Upload Video"})})," ",a.jsx("li",{children:a.jsx(X,{className:"dropdown-item text-success",to:"images/"+(x==null?void 0:x._id),children:"Add Images"})})," ",a.jsx("li",{children:a.jsx(X,{className:"dropdown-item text-primary",to:x==null?void 0:x._id,children:"Edit"})}),a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>N6(x._id),children:"Delete"})})]}):"NA"})]})})]},_)})})]}),!o.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Project"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:x=>{const _=x.target.value;!l||_===""||(l.includes(_)?alert("User with this name already existed."):c([...l,_]))},disabled:!g&&p,children:[a.jsx("option",{value:"",children:"--select user--"}),r==null?void 0:r.map((x,_)=>{var S,E,I,w;return a.jsxs("option",{value:(S=x==null?void 0:x.data)==null?void 0:S.email,selected:!g&&p&&((E=x==null?void 0:x.data)==null?void 0:E.email)===(t==null?void 0:t.email),children:[(I=x==null?void 0:x.data)==null?void 0:I.name,"-",(w=x==null?void 0:x.data)==null?void 0:w.email]},_)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:l==null?void 0:l.map((x,_)=>a.jsxs("span",{className:"badge bg-success",children:[x," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!g&&p)&&confirm("Are you sure want to remove?")){const S=l.filter(E=>E!==x);c(S)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},_))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:h,value:d.title,disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:h,value:d.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:h,value:d.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:d.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:h,value:d.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:h,value:d.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:h,value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:5,onChange:h,value:d.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:x=>{const _=x.target.value;_!==""&&(d.related_datasets.includes(_)||u(S=>({...S,related_datasets:[...S.related_datasets,_]})))},value:d.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),i==null?void 0:i.map((x,_)=>a.jsx("option",{value:x==null?void 0:x._id,children:x==null?void 0:x.title},_))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(v=d.related_datasets)==null?void 0:v.map((x,_)=>{const S=i==null?void 0:i.find(E=>(E==null?void 0:E._id)==x);return a.jsxs("tr",{children:[a.jsx("th",{children:_+1}),a.jsx("th",{children:S==null?void 0:S.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(E=>{var I;return{...E,related_datasets:(I=d==null?void 0:d.related_datasets)==null?void 0:I.filter(w=>w!==x)}})},children:"Remove"})})]})})})]}),!((b=d.related_datasets)!=null&&b.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:x=>{const _=x.target.value;_!==""&&(d.related_projectitems.includes(_)||u(S=>({...S,related_projectitems:[...S.related_projectitems,_]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((x,_)=>a.jsx("option",{value:x==null?void 0:x._id,children:x==null?void 0:x.title},_))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(m=d.related_projectitems)==null?void 0:m.map((x,_)=>{const S=s==null?void 0:s.find(E=>(E==null?void 0:E._id)==x);return a.jsxs("tr",{children:[a.jsx("th",{children:_+1}),a.jsx("th",{children:S==null?void 0:S.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&u(E=>{var I;return{...E,related_projectitems:(I=d==null?void 0:d.related_projectitems)==null?void 0:I.filter(w=>w!==x)}})},children:"Remove"})})]})})})]}),!((y=d.related_projectitems)!=null&&y.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]}),a.jsxs("div",{className:"alert alert-warning rounded-0 my-3",children:[a.jsx("strong",{children:"Note:"})," You can upload ",a.jsx("i",{children:"Images"})," related to project later."]}),a.jsx("button",{type:"button",className:"btn btn-shade1 w-100 p-3",onClick:f,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})}),a.jsx(C6,{getsupervisors:r,isAdmin:g,isSupervisor:p,getauth:t})]})},C6=({getsupervisors:t,isAdmin:e,isSupervisor:n,getauth:r})=>{const[s,i]=T.useState(!1),[o,l]=T.useState(r!=null&&r.userType.includes("SUPERVISOR")?[r==null?void 0:r.email]:[]),[c,d]=T.useState([]),u=p=>{var v;const g=(v=p.target.files)==null?void 0:v[0];g&&bA.parse(g,{complete:b=>{const m=b.data.filter(y=>Object.values(y).some(x=>x!==""));d(m)},header:!0})},h=async p=>{try{return!(await we(At(re(W,"projects_main"),Zn("title","==",p)))).empty}catch{return!1}},f=async p=>{if(p.preventDefault(),!o.length){P("danger","Please select supervisors!");return}if(!c.length){P("danger","Invalid CSV File Selected.");return}i(!0);const g=c.map(async v=>{const b=Object.values(v);if(!await h(b[2]))return dt(re(W,"projects_main"),{title:b[1],description:b[5],funding_agency:b[2],pis:b[6],copis:b[7],jrf_phd_scholar:b[4],related_datasets:[],related_projectitems:[],total_fund:b[3],type:b[0],users:o})});await Promise.all(g),P("success","Projects have been saved!"),P("info","Note: You can upload Images related to project later."),i(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"exampleModal1",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",children:"Import Projects"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:p=>{const g=p.target.value;!o||g===""||(o.includes(g)?alert("User with this name already existed."):l([...o,g]))},disabled:!e&&n,children:[a.jsx("option",{value:"",children:"--select user--"}),t==null?void 0:t.map((p,g)=>{var v,b,m,y;return a.jsxs("option",{value:(v=p==null?void 0:p.data)==null?void 0:v.email,selected:!e&&n&&r.email===((b=p==null?void 0:p.data)==null?void 0:b.email),children:[(m=p==null?void 0:p.data)==null?void 0:m.name,"-",(y=p==null?void 0:p.data)==null?void 0:y.email]},g)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:o==null?void 0:o.map((p,g)=>a.jsxs("span",{className:"badge bg-success",children:[p," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(!(!e&&n)&&confirm("Are you sure want to remove?")){const v=o.filter(b=>b!==p);l(v)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},g))})]}),a.jsxs("div",{className:"col mb-3",children:[a.jsxs("label",{htmlFor:"csv_file",className:"mb-3",children:["Select a valid csv file (",a.jsx("button",{className:"btn btn-link",onClick:()=>wA(S6,T6,"sample_projects_csv"),children:"Download Sample CSV file"}),")"]}),a.jsx("input",{type:"file",name:"csv_file",id:"csv_file",accept:".csv",className:"form-control",onChange:u})]}),a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:c.length>0&&a.jsxs("div",{className:"mt-3 w-100 overflow-auto",style:{maxHeight:"400px"},children:[a.jsxs("table",{className:"table table-bordered",children:[a.jsx("thead",{children:a.jsx("tr",{children:Object.keys(c[0]).map(p=>a.jsx("th",{children:p},p))})}),a.jsx("tbody",{children:c.map((p,g)=>a.jsx("tr",{children:Object.values(p).map((v,b)=>a.jsx("td",{children:v},b))},g))})]}),a.jsx("div",{className:"alert alert-warning rounded-0",role:"alert",children:"It will automatically skip the duplicates entries."})]})}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",disabled:s,onClick:f,children:s?"Please Wait...":"Submit"})]})]})})})};var BA={exports:{}},A6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",k6=A6,P6=k6;function zA(){}function HA(){}HA.resetWarningCache=zA;var R6=function(){function t(r,s,i,o,l,c){if(c!==P6){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:HA,resetWarningCache:zA};return n.PropTypes=n,n};BA.exports=R6();var D6=BA.exports;const st=Ao(D6);function O6(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var qA=T,L6=O6(qA);function F_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var V6=!!(typeof window<"u"&&window.document&&window.document.createElement);function F6(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=t(o.map(function(u){return u.props})),d.canUseDOM?e(l):n&&(l=n(l))}var d=function(u){M6(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,o=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),c()},f.render=function(){return L6.createElement(i,this.props)},h}(qA.PureComponent);return F_(d,"displayName","SideEffect("+r(i)+")"),F_(d,"canUseDOM",V6),d}}var U6=F6;const $6=Ao(U6);var B6=typeof Element<"u",z6=typeof Map=="function",H6=typeof Set=="function",q6=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ju(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!ju(t[r],e[r]))return!1;return!0}var i;if(z6&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!ju(r.value[1],e.get(r.value[0])))return!1;return!0}if(H6&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(q6&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(B6&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!ju(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var W6=function(e,n){try{return ju(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const G6=Ao(W6);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var U_=Object.getOwnPropertySymbols,K6=Object.prototype.hasOwnProperty,Y6=Object.prototype.propertyIsEnumerable;function Q6(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function X6(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(r.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var J6=X6()?Object.assign:function(t,e){for(var n,r=Q6(t),s,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var o in n)K6.call(n,o)&&(r[o]=n[o]);if(U_){s=U_(n);for(var l=0;l<s.length;l++)Y6.call(n,s[l])&&(r[s[l]]=n[s[l]])}}return r};const Z6=Ao(J6);var zi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},pe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(pe).map(function(t){return pe[t]});var at={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Ah={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},zc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},eH=Object.keys(Ah).reduce(function(t,e){return t[Ah[e]]=e,t},{}),tH=[pe.NOSCRIPT,pe.SCRIPT,pe.STYLE],gr="data-react-helmet",nH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rH=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},sH=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iH=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},$_=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},aH=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},dv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},oH=function(e){var n=lo(e,pe.TITLE),r=lo(e,zc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var s=lo(e,zc.DEFAULT_TITLE);return n||s||void 0},lH=function(e){return lo(e,zc.ON_CHANGE_CLIENT_STATE)||function(){}},sm=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return wn({},r,s)},{})},cH=function(e,n){return n.filter(function(r){return typeof r[pe.BASE]<"u"}).map(function(r){return r[pe.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return r.concat(s)}return r},[])},wl=function(e,n,r){var s={};return r.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&fH("Helmet: "+e+' should be of type "Array". Instead found type "'+nH(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(f){for(var p=void 0,g=Object.keys(f),v=0;v<g.length;v++){var b=g[v],m=b.toLowerCase();n.indexOf(m)!==-1&&!(p===at.REL&&f[p].toLowerCase()==="canonical")&&!(m===at.REL&&f[m].toLowerCase()==="stylesheet")&&(p=m),n.indexOf(b)!==-1&&(b===at.INNER_HTML||b===at.CSS_TEXT||b===at.ITEM_PROP)&&(p=b)}if(!p||!f[p])return!1;var y=f[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][y]?!1:(l[p][y]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=Z6({},s[u],l[u]);s[u]=h}return i},[]).reverse()},lo=function(e,n){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(n))return s[n]}return null},dH=function(e){return{baseTag:cH([at.HREF,at.TARGET],e),bodyAttributes:sm(zi.BODY,e),defer:lo(e,zc.DEFER),encode:lo(e,zc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:sm(zi.HTML,e),linkTags:wl(pe.LINK,[at.REL,at.HREF],e),metaTags:wl(pe.META,[at.NAME,at.CHARSET,at.HTTPEQUIV,at.PROPERTY,at.ITEM_PROP],e),noscriptTags:wl(pe.NOSCRIPT,[at.INNER_HTML],e),onChangeClientState:lH(e),scriptTags:wl(pe.SCRIPT,[at.SRC,at.INNER_HTML],e),styleTags:wl(pe.STYLE,[at.CSS_TEXT],e),title:oH(e),titleAttributes:sm(zi.TITLE,e)}},uv=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){uv(e)},0)}}(),B_=function(e){return clearTimeout(e)},uH=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||uv:global.requestAnimationFrame||uv,hH=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||B_:global.cancelAnimationFrame||B_,fH=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},jl=null,pH=function(e){jl&&hH(jl),e.defer?jl=uH(function(){z_(e,function(){jl=null})}):(z_(e),jl=null)},z_=function(e,n){var r=e.baseTag,s=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,d=e.onChangeClientState,u=e.scriptTags,h=e.styleTags,f=e.title,p=e.titleAttributes;hv(pe.BODY,s),hv(pe.HTML,i),mH(f,p);var g={baseTag:Ta(pe.BASE,r),linkTags:Ta(pe.LINK,o),metaTags:Ta(pe.META,l),noscriptTags:Ta(pe.NOSCRIPT,c),scriptTags:Ta(pe.SCRIPT,u),styleTags:Ta(pe.STYLE,h)},v={},b={};Object.keys(g).forEach(function(m){var y=g[m],x=y.newTags,_=y.oldTags;x.length&&(v[m]=x),_.length&&(b[m]=g[m].oldTags)}),n&&n(),d(e,v,b)},WA=function(e){return Array.isArray(e)?e.join(""):e},mH=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=WA(e)),hv(pe.TITLE,n)},hv=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(gr),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var d=l[c],u=n[d]||"";r.getAttribute(d)!==u&&r.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)r.removeAttribute(o[f]);i.length===o.length?r.removeAttribute(gr):r.getAttribute(gr)!==l.join(",")&&r.setAttribute(gr,l.join(","))}},Ta=function(e,n){var r=document.head||document.querySelector(pe.HEAD),s=r.querySelectorAll(e+"["+gr+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(e);for(var u in c)if(c.hasOwnProperty(u))if(u===at.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===at.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(gr,"true"),i.some(function(f,p){return l=p,d.isEqualNode(f)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:i,newTags:o}},GA=function(e){return Object.keys(e).reduce(function(n,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+s:s},"")},gH=function(e,n,r,s){var i=GA(r),o=WA(n);return i?"<"+e+" "+gr+'="true" '+i+">"+dv(o,s)+"</"+e+">":"<"+e+" "+gr+'="true">'+dv(o,s)+"</"+e+">"},vH=function(e,n,r){return n.reduce(function(s,i){var o=Object.keys(i).filter(function(d){return!(d===at.INNER_HTML||d===at.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+dv(i[u],r)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=tH.indexOf(e)===-1;return s+"<"+e+" "+gr+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},KA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Ah[s]||s]=e[s],r},n)},yH=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[eH[s]||s]=e[s],r},n)},xH=function(e,n,r){var s,i=(s={key:n},s[gr]=!0,s),o=KA(r,i);return[Pe.createElement(pe.TITLE,o,n)]},bH=function(e,n){return n.map(function(r,s){var i,o=(i={key:s},i[gr]=!0,i);return Object.keys(r).forEach(function(l){var c=Ah[l]||l;if(c===at.INNER_HTML||c===at.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=r[l]}),Pe.createElement(e,o)})},Xr=function(e,n,r){switch(e){case pe.TITLE:return{toComponent:function(){return xH(e,n.title,n.titleAttributes)},toString:function(){return gH(e,n.title,n.titleAttributes,r)}};case zi.BODY:case zi.HTML:return{toComponent:function(){return KA(n)},toString:function(){return GA(n)}};default:return{toComponent:function(){return bH(e,n)},toString:function(){return vH(e,n,r)}}}},YA=function(e){var n=e.baseTag,r=e.bodyAttributes,s=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,d=e.scriptTags,u=e.styleTags,h=e.title,f=h===void 0?"":h,p=e.titleAttributes;return{base:Xr(pe.BASE,n,s),bodyAttributes:Xr(zi.BODY,r,s),htmlAttributes:Xr(zi.HTML,i,s),link:Xr(pe.LINK,o,s),meta:Xr(pe.META,l,s),noscript:Xr(pe.NOSCRIPT,c,s),script:Xr(pe.SCRIPT,d,s),style:Xr(pe.STYLE,u,s),title:Xr(pe.TITLE,{title:f,titleAttributes:p},s)}},wH=function(e){var n,r;return r=n=function(s){iH(i,s);function i(){return rH(this,i),aH(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!G6(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case pe.SCRIPT:case pe.NOSCRIPT:return{innerHTML:c};case pe.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return wn({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[wn({},h,this.mapNestedChildrenToProps(d,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,f=l.newChildProps,p=l.nestedChildren;switch(u.type){case pe.TITLE:return wn({},h,(c={},c[u.type]=p,c.titleAttributes=wn({},f),c));case pe.BODY:return wn({},h,{bodyAttributes:wn({},f)});case pe.HTML:return wn({},h,{htmlAttributes:wn({},f)})}return wn({},h,(d={},d[u.type]=wn({},f),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=wn({},c);return Object.keys(l).forEach(function(u){var h;d=wn({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return Pe.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,p=f.children,g=$_(f,["children"]),v=yH(g);switch(d.warnOnInvalidChildren(h,p),h.type){case pe.LINK:case pe.META:case pe.NOSCRIPT:case pe.SCRIPT:case pe.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:v,nestedChildren:p});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:v,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=$_(l,["children"]),u=wn({},d);return c&&(u=this.mapChildrenToProps(c,u)),Pe.createElement(e,u)},sH(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Pe.Component),n.propTypes={base:st.object,bodyAttributes:st.object,children:st.oneOfType([st.arrayOf(st.node),st.node]),defaultTitle:st.string,defer:st.bool,encodeSpecialCharacters:st.bool,htmlAttributes:st.object,link:st.arrayOf(st.object),meta:st.arrayOf(st.object),noscript:st.arrayOf(st.object),onChangeClientState:st.func,script:st.arrayOf(st.object),style:st.arrayOf(st.object),title:st.string,titleAttributes:st.object,titleTemplate:st.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var s=e.rewind();return s||(s=YA({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},jH=function(){return null},_H=$6(dH,pH,YA)(jH),Jt=wH(_H);Jt.renderStatic=Jt.rewind;const EH=()=>{var u;const[t,e]=T.useState(!1);T.useEffect(()=>{(async()=>{e(!0),await zo(),await xs(),e(!1)})()},[]);const{id:n}=qr(),s=K(h=>h.getpublications.data).filter(h=>h._id==n)[0],[i,o]=T.useState(s==null?void 0:s.data),l=(u=s==null?void 0:s.data)==null?void 0:u.users,c=h=>{h.preventDefault(),o({...i,[h.target.name]:h.target.value})},d=h=>{if(h.preventDefault(),!i||!l){P("danger","Please fill all required fields!");return}e(!0);const f=ye(W,"publications",s==null?void 0:s._id);tt(f,{...i}).then(()=>{P("success","Publication has been updated!"),e(!1),window.location.href="/CVPR_LAB/#/dashboard/publications"}).catch(()=>{P("danger","Error updating publication, Try again."),e(!1)})};if(!s){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Publication"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>window.location.href="/CVPR_LAB/#/dashboard/publications",children:"Back to Publications"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs("form",{onSubmit:d,noValidate:!0,children:[a.jsx("div",{className:"",children:NH.map((h,f)=>h.type==="textarea"?a.jsxs(a.Fragment,{children:[" ",a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:h.text}),a.jsx("textarea",{className:"form-control",name:h.name,rows:10,value:i[h.name],onChange:c,disabled:t||(h==null?void 0:h.disabled)},f)]})," "]}):a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:h.text}),a.jsx("input",{className:"form-control",type:h.type,name:h.name,onChange:c,value:i[h.name],disabled:t||(h==null?void 0:h.disabled)},f)]}))}),a.jsx("div",{className:"mb-3 d-flex gap-1 flex-wrap"}),a.jsx("button",{className:"btn btn-dark p-3 w-100",type:"submit",name:"submit",children:"Submit"})]})})]})})},NH=[{text:"Title of Paper",name:"title",type:"text",disabled:!0},{text:"Author(s)",name:"author",type:"text"},{text:"Year",name:"year",type:"number"},{text:"Journal",name:"journal",type:"text"},{text:"Volume",name:"volume",type:"text"},{text:"Number",name:"number",type:"text"},{text:"Pages",name:"pages",type:"text"},{text:"Abstract",name:"abstract",type:"textarea"},{text:"Keywords",name:"keywords",type:"textarea"},{text:"DOI",name:"doi",type:"text",disabled:!0},{text:"ISSN",name:"issn",type:"text"},{text:"Month",name:"month",type:"text"}],SH=()=>{var p,g,v,b,m,y,x,_,S,E,I;const{id:t}=qr(),e=K(w=>w.getsupervisors.data),n=e==null?void 0:e.filter(w=>(w==null?void 0:w._id)==t)[0],[r,s]=T.useState(!1),[i,o]=T.useState(),[l,c]=T.useState({name:(p=n==null?void 0:n.data)==null?void 0:p.name,email:(g=n==null?void 0:n.data)==null?void 0:g.email,phone:(v=n==null?void 0:n.data)==null?void 0:v.phone,researchInterests:(b=n==null?void 0:n.data)==null?void 0:b.researchInterests,introduction:(m=n==null?void 0:n.data)==null?void 0:m.introduction,accomplishments:(y=n==null?void 0:n.data)==null?void 0:y.accomplishments,designation:(x=n==null?void 0:n.data)==null?void 0:x.designation,professional_affiliation:(_=n==null?void 0:n.data)==null?void 0:_.professional_affiliation,teaching:(S=n==null?void 0:n.data)==null?void 0:S.teaching,links:(E=n==null?void 0:n.data)==null?void 0:E.links}),[d,u]=T.useState({linkName:"",linkURL:""});T.useEffect(()=>{xs()},[]);const h=w=>{const{name:j,value:N}=w.target;c(k=>({...k,[j]:N}))},f=async()=>{var M,$;const{name:w,email:j,phone:N,researchInterests:k,introduction:C,accomplishments:R,designation:V,links:z,professional_affiliation:L,teaching:A}=l;if(!w||!j||!N||!k||!C||!R||!V||!z||!L||!A){P("danger","Error! Please fill all required fields.");return}s(!0);const D=ye(W,"supervisors",n==null?void 0:n._id);if(i){if(n&&n.data&&n.data.profileImage){const O=Ce(Ae,`/peoples/supervisor_profile_images/${($=(M=n==null?void 0:n.data)==null?void 0:M.profileImage)==null?void 0:$.stringValue}`);try{await Er(O)}catch{}}const H=Ce(Ae,`/peoples/supervisor_profile_images/${w}_${i.name}`);try{await Wr(H,i),P("info","Profile image uploaded successfully");const O=`${w}_${i.name}`;await tt(D,{...l,profileImage:O}),P("success","Supervisor details updated with profile image successfully."),window.location.href="/CVPR_LAB/#/dashboard"}catch{P("warning","Error! while uploading profile image, check your internet connection and try again."),s(!1);return}}else try{await tt(D,{...l}),P("success","Supervisor details updated successfully!"),window.location.href="/CVPR_LAB/#/dashboard"}catch{P("danger","Error updating supervisor details."),s(!1);return}s(!1)};if(!n){window.history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Edit Supervisor"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>{window.history.back()},children:"Back to Supervisors"})]}),a.jsx("hr",{}),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"col-sm-12 mb-3",children:a.jsxs("div",{className:"col-sm-2",children:[" ",a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"",className:"rounded-1"})})]})}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name (",a.jsx("span",{className:"text-shade2",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:l.name,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email (",a.jsx("span",{className:"text-shade2",children:"you can't modify this field"}),")"]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:l.email,onChange:h,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:l.phone,onChange:h})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"image",className:"form-label",children:["Profile Image (",a.jsx("span",{className:"text-shade2",children:"aspect ratio 3:4 only"}),")"]}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:w=>{var N;const j=(N=w.target.files)==null?void 0:N[0];o(j)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"researchInterests",className:"form-label",children:["Research Interests (",a.jsx("span",{className:"text-shade2",children:"Use comma separated for multiple"}),")"]}),a.jsx("textarea",{className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:l.researchInterests,onChange:h,rows:4})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Teaching (Comma Separated)"}),a.jsx("textarea",{className:"form-control",placeholder:"ie.  Digital Image Processing, Image analysis, Signal Processing and Communications",name:"teaching",value:l.teaching||"",onChange:h,rows:5})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Accomplishments (Comma Separated)"}),a.jsx("textarea",{className:"form-control",placeholder:"ie.  Type here..",name:"accomplishments",value:l.accomplishments,onChange:h,rows:5})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Professional Affiliation (Comma Separated)"}),a.jsx("textarea",{className:"form-control",placeholder:"ie.  Type here..",name:"professional_affiliation",value:l.professional_affiliation,onChange:h,rows:5})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:10,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:l.introduction,onChange:h})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:w=>u({linkName:w.target.value,linkURL:d.linkURL}),value:d.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:w=>u({linkName:d.linkName,linkURL:w.target.value}),value:d.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!d.linkName||!d.linkURL){P("danger","Link Name and URL are required fields.");return}if(l.links.includes(d)){P("danger","This link already exists.");return}c({...l,links:[...l.links,d]}),u({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(I=l==null?void 0:l.links)==null?void 0:I.map((w,j)=>a.jsxs("tr",{children:[a.jsx("th",{children:j+1}),a.jsx("th",{children:w==null?void 0:w.linkName}),a.jsx("th",{children:a.jsx("a",{href:w==null?void 0:w.linkURL,target:"_blank",children:w==null?void 0:w.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&c({...l,links:l==null?void 0:l.links.filter(N=>N.linkName!==(w==null?void 0:w.linkName))})},children:"Remove"})})]}))})]}),!(l!=null&&l.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]}),a.jsx("button",{type:"button",className:"btn btn-dark btn-md p-3 w-100 mt-3",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})})},TH={title:"",description:"",funding_agency:"",pis:"",copis:"",jrf_phd_scholar:"",related_datasets:[],related_projectitems:[],total_fund:"",type:""},IH=()=>{var m,y,x,_,S,E,I,w,j,N,k,C,R,V,z,L,A,D,M,$,H;const{id:t}=qr(),[e,n]=T.useState(!1),r=K(O=>{var U;return(U=O.getprojectitems)==null?void 0:U.data}),s=K(O=>{var U;return(U=O.getdatasets)==null?void 0:U.data}),i=K(O=>O.getsupervisors.data),o=K(O=>{var U;return(U=O.getprojectsmain)==null?void 0:U.data}),l=o==null?void 0:o.filter(O=>(O==null?void 0:O._id)==t)[0],c=[];(x=(y=(m=l==null?void 0:l.related_datasets)==null?void 0:m.arrayValue)==null?void 0:y.values)==null||x.map(O=>{c==null||c.push(O.stringValue)});const d=[];(E=(S=(_=l==null?void 0:l.related_projectitems)==null?void 0:_.arrayValue)==null?void 0:S.values)==null||E.map(O=>{d==null||d.push(O.stringValue)});const[u,h]=T.useState({title:(I=l==null?void 0:l.title)==null?void 0:I.stringValue,description:(w=l==null?void 0:l.description)==null?void 0:w.stringValue,funding_agency:(j=l==null?void 0:l.description)==null?void 0:j.stringValue,pis:(N=l==null?void 0:l.pis)==null?void 0:N.stringValue,copis:(k=l==null?void 0:l.copis)==null?void 0:k.stringValue,jrf_phd_scholar:(C=l==null?void 0:l.jrf_phd_scholar)==null?void 0:C.stringValue,related_datasets:c,related_projectitems:d,total_fund:(R=l==null?void 0:l.total_fund)==null?void 0:R.stringValue,type:(V=l==null?void 0:l.type)==null?void 0:V.stringValue}),f=[];(A=(L=(z=l==null?void 0:l.users)==null?void 0:z.arrayValue)==null?void 0:L.values)==null||A.map(O=>{f==null||f.push(O.stringValue)});const[p,g]=T.useState(f);T.useEffect(()=>{ja(),xi(),bd()},[]);const v=O=>{const{id:U,value:ee}=O.target;h(se=>({...se,[U]:ee}))},b=async()=>{if(!u.title||!u.description||!u.type||!u.copis||!u.total_fund||!u.funding_agency||!u.pis||!u.jrf_phd_scholar||!p){P("danger","Please fill out all fields.");return}n(!0);try{const O=ye(W,"projects_main",l==null?void 0:l._id);await tt(O,{...u,users:p}),P("success","Project has been saved!"),h(TH),n(!1),window.location.href="/CVPR_LAB/#/dashboard/projects"}catch{P("danger","Error! while editing the Project, Try again.")}};if(!l){history.back();return}return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{className:"fw-bold text-primary",children:"Edit Project"}),a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>window.history.back(),children:"Back to Projects"})]}),a.jsx("hr",{}),a.jsx("div",{className:"card p-3",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col mb-2",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Supervisor Email",a.jsx("span",{className:"text-shade2",children:"*(these projects will be shown for selected supervisors)"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:O=>{const U=O.target.value;!p||U===""||(p.includes(U)?alert("User with this name already existed."):g([...p,U]))},children:[a.jsx("option",{value:"",children:"--select user--"}),i==null?void 0:i.map((O,U)=>{var ee,se,fe;return a.jsxs("option",{value:(ee=O==null?void 0:O.data)==null?void 0:ee.email,children:[(se=O==null?void 0:O.data)==null?void 0:se.name,"-",(fe=O==null?void 0:O.data)==null?void 0:fe.email]},U)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:p==null?void 0:p.map((O,U)=>a.jsxs("span",{className:"badge bg-success",children:[O," ",a.jsx("span",{style:{cursor:"pointer"},onClick:()=>{if(confirm("Are you sure want to remove?")){const ee=p.filter(se=>se!==O);g(ee)}},children:a.jsx("i",{className:"ms-2 bx bxs-trash-alt"})})]},U))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"ie. Timestamp aware Aberrant Detection and Analysis in Big Visual Data using Deep Learning Architecture",onChange:v,value:u.title,disabled:!0})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"funding_agency",className:"form-label",children:"Funding Agency"}),a.jsx("input",{type:"text",className:"form-control",id:"funding_agency","aria-describedby":"funding_agency",placeholder:"ie. Science and Engineering Research Board, Department of Science and Technology (SERB-DST, 2018)",onChange:v,value:u.funding_agency,disabled:e})]}),a.jsx("div",{className:"col",children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"total_fund",className:"form-label",children:"Total Fund (Inr.)"}),a.jsx("input",{type:"text",className:"form-control",id:"total_fund","aria-describedby":"total_fund",placeholder:"ie. 4500000",onChange:v,value:u.total_fund,disabled:e})]})})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Project Investigators (PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"pis","aria-describedby":"pis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:v,value:u.pis,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"investigator",className:"form-label",children:"Co-Project Investigators (Co-PIs)"}),a.jsx("input",{type:"text",className:"form-control",id:"copis","aria-describedby":"copis",placeholder:"ie. Dr. X, Dr. Y, etc",onChange:v,value:u.copis,disabled:e})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"jrf_phd_scholar",className:"form-label",children:"JRF/Ph.D. Scholars (comma separated)"}),a.jsx("input",{type:"text",className:"form-control",id:"jrf_phd_scholar","aria-describedby":"jrf_phd_scholar",placeholder:"Type Here..",onChange:v,value:u.jrf_phd_scholar,disabled:e})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Type of Project"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:v,value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select type--"}),a.jsx("option",{value:"consultancy",children:"Consultancy"}),a.jsx("option",{value:"sponsored",children:"Sponsored"})]})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-control",id:"description",rows:8,onChange:v,value:u.description,placeholder:"describe project in 50 to 200 words..",disabled:e})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Datasets"}),a.jsxs("select",{className:"form-control",id:"related_datasets","aria-describedby":"related_datasets",onChange:O=>{const U=O.target.value;U!==""&&(u.related_datasets.includes(U)||h(ee=>({...ee,related_datasets:[...ee.related_datasets,U]})))},value:u.type,disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),s==null?void 0:s.map((O,U)=>a.jsx("option",{value:O==null?void 0:O._id,children:O==null?void 0:O.title},U))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(D=u.related_datasets)==null?void 0:D.map((O,U)=>{const ee=s==null?void 0:s.find(se=>(se==null?void 0:se._id)==O);return a.jsxs("tr",{children:[a.jsx("th",{children:U+1}),a.jsx("th",{children:ee==null?void 0:ee.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(se=>{var fe;return{...se,related_datasets:(fe=u==null?void 0:u.related_datasets)==null?void 0:fe.filter(xe=>xe!==O)}})},children:"Remove"})})]})})})]}),!((M=u.related_datasets)!=null&&M.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"type",className:"form-label",children:"Add Related Project Items"}),a.jsxs("select",{className:"form-control",id:"type","aria-describedby":"type",onChange:O=>{const U=O.target.value;U!==""&&(u.related_projectitems.includes(U)||h(ee=>({...ee,related_projectitems:[...ee.related_projectitems,U]})))},disabled:e,children:[a.jsx("option",{value:"",children:"--select--"}),r==null?void 0:r.map((O,U)=>a.jsx("option",{value:O==null?void 0:O._id,children:O==null?void 0:O.title},U))]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Project Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:($=u.related_projectitems)==null?void 0:$.map((O,U)=>{const ee=r==null?void 0:r.find(se=>(se==null?void 0:se._id)==O);return a.jsxs("tr",{children:[a.jsx("th",{children:U+1}),a.jsx("th",{children:ee==null?void 0:ee.title}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h(se=>{var fe;return{...se,related_projectitems:(fe=u==null?void 0:u.related_projectitems)==null?void 0:fe.filter(xe=>xe!==O)}})},children:"Remove"})})]})})})]}),!((H=u.related_projectitems)!=null&&H.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsx("div",{className:"p-3 mt-4  col-sm-12",children:a.jsx("button",{type:"button",className:"btn btn-dark p-3 w-100",onClick:b,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})})]})]})})]})})},ub=async()=>{try{const t=re(W,"gallery_images"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=i.id.stringValue,c=i.timestamp.timestampValue,d=l?await CH(l):null;n.push({_id:o,datetime:c,bannerURL:d})});await Promise.all(r),ut.dispatch(Oz(n))}catch(t){console.error("Error fetching Gallery:",t)}},CH=async t=>{try{const e=Ce(Ae,`gallery_images/${t}`);return await Gr(e)}catch{return null}};async function QA(t,e){if(!e){if(!confirm("Are you sure want to delete this item?"))return;if(t===null){alert("Invalid Gallery ID");return}}if(t!==null)try{const n=ye(W,"gallery_images",t),i=(await Rn(n)).data().banner;if(await bn(n),i){const o=Ce(Ae,`gallery_images/${i}`);await Er(o)}e||(alert("Gallery item and image deleted successfully!"),location.reload())}catch{e||P("danger","Error deleting Gallery!")}}async function AH(t){for(let e=0;e<t.length;e++)await QA(t[e],!0);alert("Gallery Images deleted successfully!"),location.reload()}function hb(t){const e=new Date(t),n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return e.toLocaleString("en-US",n)}function kH(t){const e=new Date(t),n=new Date().getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),i=Math.floor(n/(1e3*60*60*24));return r<60?`${r} min ago`:s<24?`${s} hours ago`:`${i} days ago`}function PH(t){const e=new Date,n=new Date(t),r=Math.floor((e-n)/1e3);let s=Math.floor(r/31536e3);return s>=1?s+" year"+(s>1?"s":"")+" ago":(s=Math.floor(r/2592e3),s>=1?s+" month"+(s>1?"s":"")+" ago":(s=Math.floor(r/86400),s>=1?s+" day"+(s>1?"s":"")+" ago":(s=Math.floor(r/3600),s>=1?s+" hour"+(s>1?"s":"")+" ago":(s=Math.floor(r/60),s>=1?s+" minute"+(s>1?"s":"")+" ago":Math.floor(r)+" second"+(r>1?"s":"")+" ago"))))}const RH=()=>{const t=K(h=>h.getgallery).data,[e,n]=T.useState([]),[r,s]=T.useState(!1),[i,o]=T.useState({selectedAll:!1,selectedChecks:[]}),[l,c]=T.useState(0);T.useEffect(()=>{ub()},[]);const d=h=>{const f=h.target.files;if(f){if(f.length>10){P("danger","Number of Images must be less than or equal to 10"),h.target.value="";return}const p=Array.from(f),g=[];p.forEach(v=>{const b=new FileReader;b.onload=()=>{typeof b.result=="string"&&g.push(b.result),g.length===p.length&&n(g)},b.readAsDataURL(v)})}},u=async()=>{if(!e.length){P("danger","Please select the images!");return}s(!0);try{const h=e.map(async f=>{const p=sb(),g=Ce(Ae,`gallery_images/${p}`),v=await fetch(f).then(m=>m.blob()),b=XI(g,v);return new Promise((m,y)=>{b.on("state_changed",x=>{const _=(x.bytesTransferred/x.totalBytes*100).toFixed(2);c(Number(_))},x=>{P("danger","Error uploading image! Try again."),y(x)},async()=>{await dt(re(W,"gallery_images"),{id:p,timestamp:new Date(Date.now())}),m()})})});await Promise.all(h),P("success","Images has been saved!")}catch(h){P("danger","Error uploading images!"),console.error("Error uploading images:",h)}c(0),n([]),s(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Gallery Images"}),a.jsxs("div",{children:[i.selectedChecks.length!==0&&a.jsx("button",{className:"btn btn-shade1",onClick:async()=>{confirm("Are you sure want to delete!")&&(s(!0),await AH(i.selectedChecks),P("success","Images has been deleted!"))},disabled:r,children:r?"Please Wait..":"Delete Selected("+i.selectedChecks.length+")"}),a.jsx("button",{className:"btn btn-dark rounded-0 ms-2","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add New"})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("input",{type:"checkbox",className:"form-check-input me-2",name:"select_image",id:"select_image",onChange:h=>o({selectedAll:h.target.checked,selectedChecks:h.target.checked?DH(t):[]}),checked:i.selectedAll})," ",a.jsx("span",{children:"Select All "})]})}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Timestamp"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.map((h,f)=>{const p=i.selectedChecks.includes(h==null?void 0:h._id.toString());return a.jsxs("tr",{children:[a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx("input",{type:"checkbox",className:"form-check-input me-2",onChange:g=>{g.target.checked?o({selectedAll:!1,selectedChecks:[...i.selectedChecks,h==null?void 0:h._id]}):o({selectedAll:!1,selectedChecks:i.selectedChecks.filter(v=>v!=(h==null?void 0:h._id))})},checked:p})}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsx(X,{target:"_blank",to:h.bannerURL,style:{width:"200px",overflow:"auto"},children:a.jsx("img",{className:"rounded-2",src:h.bannerURL,alt:"",width:"300px"})})}),a.jsxs("td",{style:{width:"10px"},className:p?"bg-secondary1":"",children:[kH(h.datetime)," on"," ",hb(h.datetime)]}),a.jsx("td",{className:p?"bg-secondary1":"",children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:async()=>{await QA(h._id,!1),P("success","Image has been deleted!")},children:"Delete"})})})]})})]},f)})})]}),!t.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Gellary Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l,"%"]})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Select Images"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:d,disabled:r,multiple:!0})]}),a.jsxs("div",{className:"alert alert-warning",role:"alert",children:["You can only upload"," ",a.jsx("strong",{className:"fw-bold text-shade2",children:"10 Images at a time"}),"!"]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:u,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"}),a.jsxs("div",{className:"w-100 d-flex justify-content-between align-items-center",children:[a.jsxs("h4",{className:"my-2 text-shade2",children:["Preview (",e.length," selected)"]}),a.jsx("button",{className:"btn btn-sm btn-shade1",style:{height:"fit-content"},onClick:()=>n([]),children:"Remove All"})]}),a.jsx("div",{className:"my-4 d-flex justify-content-center align-items-start flex-wrap gap-2",children:e&&e.map((h,f)=>a.jsx("img",{src:h,alt:`Image ${f}`,style:{width:"300px",height:"auto",cursor:"pointer"},className:"rounded-1 shadow-lg"},f))})]})]})})})]})},DH=t=>{let e=[];return t==null||t.map(n=>{e.push(n==null?void 0:n._id)}),e},fb=async()=>{try{const t=re(W,"project_main_images"),e=await we(t),n=[],r=e.docs.map(async s=>{var u,h;const i=s._document.data.value.mapValue.fields,o=s._document.key.path.segments[6]||null,l=(u=i==null?void 0:i.title)==null?void 0:u.stringValue,c=(h=i==null?void 0:i.project)==null?void 0:h.stringValue,d=l?await OH(c,l):null;n.push({_id:o,title:l,bannerURL:d,project:c})});await Promise.all(r),ut.dispatch(Lz(n))}catch(t){console.error("Error fetching ProjectsImages:",t)}},OH=async(t,e)=>{try{const n=Ce(Ae,`project_main_images/${t+e}`);return await Gr(n)}catch{return null}};async function LH(t){if(confirm("Are you sure want to delete this item?")){if(!t){alert("Invalid Projects Items ID");return}try{const e=ye(W,"project_main_images",t),s=(await Rn(e)).data().banner;if(await bn(e),s){const i=Ce(Ae,`project_main_images/${s}`);await Er(i)}alert("ProjectsImages item and image deleted successfully!"),location.reload()}catch{alert("Error deleting ProjectsImages!")}}}const MH=()=>{var p,g,v,b,m,y,x;const{id:t}=qr(),e=K(_=>{var S;return(S=_.getprojectsmain)==null?void 0:S.data}),n=K(_=>{var S;return(S=_.getprojectsimages)==null?void 0:S.data}),r=e.find(_=>_._id===t),s=n.filter(_=>(_==null?void 0:_.project)===t);if(!r){history.back();return}const[i,o]=T.useState(null),[l,c]=T.useState(""),[d,u]=T.useState(!1);T.useEffect(()=>{fb()},[]);const h=_=>{if(_.target.files&&_.target.files.length>0){const S=new FileReader;S.onload=()=>{o(S.result)},S.readAsDataURL(_.target.files[0])}},f=async()=>{if(!i||!l){P("danger","Please select an image and provide a title!");return}u(!0);const _=Ce(Ae,`project_main_images/${t+l}`),S=await fetch(i).then(E=>E.blob());try{await Wr(_,S),await dt(re(W,"project_main_images"),{title:l,project:t}),P("success","Image with title has been saved!"),c(""),o(null),u(!1),location.reload()}catch{P("danger","Error uploading image, Try Again!"),c(""),o(null),u(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:(p=r==null?void 0:r.title)==null?void 0:p.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsx("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Add Image"}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(g=r==null?void 0:r.funding_agency)==null?void 0:g.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(v=r==null?void 0:r.total_fund)==null?void 0:v.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(b=r==null?void 0:r.pis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(m=r==null?void 0:r.copis)==null?void 0:m.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(y=r==null?void 0:r.jrf_phd_scholar)==null?void 0:y.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-shade2",children:"Introduction "})}),a.jsx("br",{}),(x=r==null?void 0:r.description)==null?void 0:x.stringValue]})})]})})})}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:s==null?void 0:s.map((_,S)=>a.jsxs("tr",{children:[a.jsx("td",{children:S+1}),a.jsx("td",{children:_==null?void 0:_.title}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(X,{target:"_blank",to:_==null?void 0:_.bannerURL,children:a.jsx("img",{className:"rounded-2",src:_==null?void 0:_.bannerURL,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>LH(_._id),children:"Delete"})})})]})})]},S))})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Add Sub project_"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",onChange:_=>c(_.target.value),disabled:d,value:l||""})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:h,disabled:d})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},XA=async()=>{try{on.onAuthStateChanged(async t=>{if(t){const e=At(re(W,"users"),Zn("email","==",t.email)),n=await we(e);if(n.empty)ut.dispatch(Yj());else{const s=n.docs[0].data(),{email:i,userType:o}=s,l=t==null?void 0:t.emailVerified;ut.dispatch(jz({email:i,userType:o,isVarified:l}))}}})}catch(t){console.error("Error in getUserAuth:",t),ut.dispatch(Yj())}},VH=()=>{var _,S;const t=K(E=>E.getauth),e=K(E=>E.getsupervisors.data),n=K(E=>E.getphdStudents.data),[r,s]=T.useState(!1),[i,o]=T.useState(!1),[l,c]=T.useState([]),[d,u]=T.useState([]),[h,f]=T.useState({email:"",name:""}),p=async()=>{o(!0);const E=await we(re(W,"users"));let I=[];E.forEach(async w=>{var N;const j=w.data();if((N=j==null?void 0:j.userType)!=null&&N.includes("ADMIN")){const k=j.userType;I.push({email:j.email,userType:k})}}),c(I),o(!1)},g=async()=>{o(!0),u([]);const E=await we(re(W,"users_requests"));let I=[];E.forEach(async w=>{const j=w.data(),N=j.userType;I.push({email:j.email,userType:N})}),u(I),o(!1)};T.useEffect(()=>{var E;XA(),wa(),xs(),p(),(E=t==null?void 0:t.userType)!=null&&E.includes("ADMIN")&&g()},[]);const v=async()=>{s(!0);try{(await we(At(re(W,"users_requests"),Zn("email","==",t==null?void 0:t.email),Zn("userType","==",t==null?void 0:t.userType)))).empty?(await dt(re(W,"users_requests"),{email:t==null?void 0:t.email,userType:t==null?void 0:t.userType}),P("success","Your request has been sent successfully. Please wait for the admin's approval.")):P("warning","A request with the same email and user type already exists. Please wait for the admin's approval.")}catch(E){console.error("Error while adding admin request:",E),P("danger","Error while adding admin request!")}s(!1)},b=async E=>{s(!0);try{const I=await we(At(re(W,"users_requests"),Zn("email","==",E)));if(I.empty)P("danger","No requests found with the provided email");else{const w=I.docs.map(async j=>{await bn(j.ref)});await Promise.all(w),P("success","Requests deleted successfully"),window.location.reload()}}catch{P("danger","Error deleting requests!")}s(!1)},m=async E=>{s(!0);try{const I=At(re(W,"users"),Zn("email","==",E)),w=await we(I),j=w.docs[0].data();if(!j.userType||!j.userType.includes("ADMIN")){const N=j.userType?j.userType+",ADMIN":"ADMIN";await tt(ye(W,"users",w.docs[0].id),{userType:N}),P("success","Admin rights given successfully."),await b(E),window.location.reload()}else P("warning","The selected user is already an admin.")}catch{P("danger","Error while approving admin request!")}s(!1)},y=async()=>{s(!0);try{const E=At(re(W,"users"),Zn("email","==",h.email)),I=await we(E),w=I.docs[0].data();if(!w.userType||!w.userType.includes("ADMIN")){const j=w.userType?w.userType+",ADMIN":"ADMIN";await tt(ye(W,"users",I.docs[0].id),{userType:j}),P("success","Admin rights given successfully."),window.location.reload()}else P("warning","The selected user is already an admin.")}catch(E){console.error("Error in changing admin rights:",E),P("danger","Error in changing admin rights")}s(!1)},x=async E=>{s(!0);try{const I=await we(At(re(W,"users"),Zn("email","==",E))),w=[];I.forEach(j=>{const N=j.data();if(N.userType.includes("ADMIN")){const k=N.userType.replace("ADMIN","").replace(",","");w.push(tt(ye(W,"users",j.id),{userType:k}))}}),await Promise.all(w),P("success","Admin rights removed successfully from this user."),window.location.reload()}catch{P("danger","Error, while removing admin rights. Try again later.")}s(!1)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Current Site Admins"}),(_=t==null?void 0:t.userType)!=null&&_.includes("ADMIN")?a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0 d-flex justify-content-center align-items-center me-1",disabled:!0,children:"Remove Admin Rights"}),a.jsxs("button",{className:"btn btn-dark btn-sm rounded-0 d-flex justify-content-center align-items-center","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:[a.jsx("i",{className:"bx bxs-edit me-1"})," Change Site Admin"]})]}):a.jsx("button",{className:"btn btn-primary btn-sm rounded-0 d-flex justify-content-center align-items-center",onClick:v,disabled:r,children:r?"Sending Request...":"Request Admin Rights"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:l.map((E,I)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-shade2",children:E.email}),a.jsx("th",{className:"fw-bold text-success",children:E.userType.split(",").map(w=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:w},w))}),a.jsxs("th",{children:[" ",(t==null?void 0:t.email)!==E.email&&t.userType.includes("ADMIN")?a.jsx("button",{className:"btn btn-outline-danger ms-2 btn-sm",onClick:()=>{confirm("Are you sure to delete this user?")&&x(E.email)},disabled:r,children:"Delete"}):a.jsx("button",{className:"btn btn-primary ms-2 btn-sm",disabled:!0,children:"Not Available"})]})]},I))}),!l.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"No Data"})})})]})]})}),((S=t==null?void 0:t.userType)==null?void 0:S.includes("ADMIN"))&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{children:"Admin Requests"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Email"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Designation"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsxs("tbody",{children:[i?a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"Loading..."})})}):a.jsx(a.Fragment,{children:d.map((E,I)=>a.jsxs("tr",{children:[a.jsx("th",{className:"fw-bold text-shade2",children:E.email}),a.jsx("th",{className:"fw-bold text-success",children:E.userType.split(",").map(w=>a.jsx("button",{className:"btn  btn-success me-2 btn-sm",children:w},w))}),a.jsxs("th",{children:[a.jsx("button",{className:"btn btn-shade1 btn-sm",onClick:()=>b(E.email),disabled:r,children:"Reject"}),a.jsx("button",{className:" ms-2 btn btn-outline-primary btn-sm",onClick:()=>m(E.email),disabled:r,children:"Approve"})]})]},I))}),!d.length&&!i&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,children:a.jsx("h2",{className:"fw-bold text-shade2 text-center w-100",children:"No Requests"})})})]})]})})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Change Site Admin"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"col",children:[a.jsxs("label",{htmlFor:"useremail",className:"form-label",children:["Select User (",a.jsx("strong",{className:"text-shade2",children:"*It can be supervisor as well as PHD Student."}),")",a.jsx("span",{className:"text-shade2",children:"*"})]}),a.jsxs("select",{name:"userEmail",className:"form-control",onChange:E=>{var w,j,N,k,C;let I=(j=(w=e.filter(R=>{var V;return((V=R==null?void 0:R.data)==null?void 0:V.name)===E.target.value})[0])==null?void 0:w.data)==null?void 0:j.email;I||(I=(C=(k=(N=n.filter(R=>{var V,z;return((z=(V=R==null?void 0:R.data)==null?void 0:V.name)==null?void 0:z.stringValue)===E.target.value})[0])==null?void 0:N.data)==null?void 0:k.email)==null?void 0:C.stringValue),f({name:E.target.value,email:I})},disabled:r,children:[a.jsx("option",{value:"",children:"--select user--"}),e==null?void 0:e.map((E,I)=>{var w,j,N;return a.jsxs("option",{value:(w=E==null?void 0:E.data)==null?void 0:w.name,children:[(j=E==null?void 0:E.data)==null?void 0:j.name,",",(N=E==null?void 0:E.data)==null?void 0:N.email,", Supervisor"]},I)}),n==null?void 0:n.map((E,I)=>{var w,j,N,k,C,R;return a.jsxs("option",{value:(j=(w=E==null?void 0:E.data)==null?void 0:w.name)==null?void 0:j.stringValue,children:[(k=(N=E==null?void 0:E.data)==null?void 0:N.name)==null?void 0:k.stringValue,",",(R=(C=E==null?void 0:E.data)==null?void 0:C.email)==null?void 0:R.stringValue,", PHD Student"]},I)})]}),a.jsx("div",{className:"d-flex flex-wrap mt-2 gap-2 w-100",children:h.name?a.jsxs("table",{className:"table table-bordered table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("th",{children:h.name}),a.jsx("th",{children:h.email}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-shade1 btn-sm rounded-0",onClick:()=>f({email:"",name:""}),disabled:r,children:"Remove"})})]})})]}):a.jsx("div",{className:"w-100 h5 text-shade2 text-center my-3",children:"No User Selected"})})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:r,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:y,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},JA=[{to:"supervisors",text:"Supervisors"},{to:"settings",text:"Site Settings"},{to:"site-admin",text:"Site Admin"},{to:"cv",text:"Upload CV"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"datasets",text:"Datasets"},{to:"news",text:"News"},{to:"slider-images",text:"Slider Images"},{to:"gallary-images",text:"Gallery Images"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"change-password",text:"Change Password"}],im=[{to:"",text:"Home"},...JA],am=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},...JA],om=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"cv",text:"Upload CV"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"peoples",text:"Peoples"},{to:"projects-items",text:"Projects Items"},{to:"research",text:"Research Areas"},{to:"projects",text:"Research Projects"},{to:"datasets",text:"Datasets"},{to:"change-password",text:"Change Password"}],lm=[{to:"",text:"Home"},{to:"profile-phd",text:"My Profile"},{to:"cv",text:"Upload CV"},{to:"site-admin",text:"Site Admin"},{to:"publications",text:"Publications"},{to:"projects-items",text:"Research Topics"},{to:"change-password",text:"Change Password"}],FH=()=>{var d,u;const{id:t}=qr(),n=K(h=>h.getdatasets).data.find(h=>h._id===t);if(!n){history.back();return}const[r,s]=T.useState(null),[i,o]=T.useState(!1);T.useEffect(()=>{ja()},[]);const l=h=>{if(h.target.files&&h.target.files.length>0){const f=new FileReader;f.onload=()=>{s(f.result)},f.readAsDataURL(h.target.files[0])}},c=async()=>{if(!r){P("danger","Please select an image.");return}o(!0);const h=t+"_"+sb(),f=Ce(Ae,`dataset_images/${h}`),p=await fetch(r).then(g=>g.blob());try{await Wr(f,p);const g=ye(W,"datasets",t||""),v=await Rn(g);if(v.exists()){const y=[...v.data().images||[],h];await tt(g,{images:y}),P("success","Document successfully updated with new image!")}else P("danger","Something went wrong!");s(null),o(!1),location.reload()}catch{P("danger","Error uploading image, Try Again!"),s(null),o(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:n==null?void 0:n.title})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3 w-100 justify-justify-content-start",children:[a.jsx("button",{className:"btn btn-info","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:"+ Upload Image"}),a.jsx("button",{className:"btn btn-shade1",onClick:()=>history.back(),children:"Back to Datasets"})]}),a.jsx("h4",{className:"fw-bold",children:"1. Dataset Details"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto my-4 card p-3 rounded-0",children:n==null?void 0:n.description}),a.jsx("h4",{className:"fw-bold",children:"2. Dataset Images"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",style:{height:"500px"},children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Image"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsxs("tbody",{children:[(d=n==null?void 0:n.images)==null?void 0:d.map((h,f)=>a.jsxs("tr",{children:[a.jsx("td",{children:f+1}),a.jsx("td",{style:{width:"fit-content"},children:a.jsx(X,{target:"_blank",to:h==null?void 0:h.url,children:a.jsx("img",{className:"rounded-2",src:h==null?void 0:h.url,alt:"Banner URL",width:"500px"})})}),a.jsx("td",{children:a.jsxs("div",{className:"dropdown",children:[a.jsx("button",{className:"btn btn-secondary dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Action"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:a.jsx("li",{children:a.jsx("button",{className:"dropdown-item text-shade2",onClick:()=>m6(n._id,h==null?void 0:h.name),children:"Delete"})})})]})})]},f)),!((u=n==null?void 0:n.images)!=null&&u.length)&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"fw-bold h3 text-success p-5 text-center",children:"No Data"})})]})]})})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"addSliderModalLabel",children:"Upload Images"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Banner Image"}),a.jsx("input",{type:"file",className:"form-control",id:"banner_image",accept:"image/*",onChange:l,disabled:i})]})})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:c,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},H_={name:"",email:"",phone:"",researchInterests:"",introduction:"",links:[],personal_email:"",address:"",awards:[],current_position:"",educations:[],recent:[],research_collaborators:""},UH=()=>{var y,x,_,S,E,I,w,j,N,k,C,R,V,z,L,A,D,M,$,H,O,U,ee,se,fe,xe,Be,ie,ve,ke,Fe,Ee,Ye,De,oe,Oe,Y,Ue,Rt,Dt,Le,He,Dn,Te,Yn,hn,F,ce,$e,bt,qe,It,rt,_s,Yr,Ho,qo,Wo,Go,Ko,Yo,Qo,Xo,Jo,Zo,el,tl,nl;const t=K(Z=>Z.getauth),e=(y=K(Z=>Z.getphdStudents))==null?void 0:y.data,n=e==null?void 0:e.filter(Z=>{var ze,Qe;return((Qe=(ze=Z==null?void 0:Z.data)==null?void 0:ze.email)==null?void 0:Qe.stringValue)===(t==null?void 0:t.email)})[0];let r="";(S=(_=(x=n==null?void 0:n.data)==null?void 0:x.researchInterests)==null?void 0:_.arrayValue)==null||S.values.map(Z=>{r=r+(r===""?"":",")+(Z==null?void 0:Z.stringValue)});let s=[];(w=(I=(E=n==null?void 0:n.data)==null?void 0:E.links)==null?void 0:I.arrayValue)==null||w.values.map(Z=>{var ze,Qe,cr,bi,rl,sl;s.push({linkName:(cr=(Qe=(ze=Z==null?void 0:Z.mapValue)==null?void 0:ze.fields)==null?void 0:Qe.linkName)==null?void 0:cr.stringValue,linkURL:(sl=(rl=(bi=Z==null?void 0:Z.mapValue)==null?void 0:bi.fields)==null?void 0:rl.linkURL)==null?void 0:sl.stringValue})});let i=[];(k=(N=(j=n==null?void 0:n.data)==null?void 0:j.awards)==null?void 0:N.arrayValue)==null||k.values.map(Z=>{i.push(Z==null?void 0:Z.stringValue)});const[o,l]=T.useState(!1),[c,d]=T.useState(),[u,h]=T.useState({name:(R=(C=n==null?void 0:n.data)==null?void 0:C.name)==null?void 0:R.stringValue,email:(z=(V=n==null?void 0:n.data)==null?void 0:V.email)==null?void 0:z.stringValue,phone:(A=(L=n==null?void 0:n.data)==null?void 0:L.mobile)==null?void 0:A.stringValue,researchInterests:r,introduction:(M=(D=n==null?void 0:n.data)==null?void 0:D.introduction)==null?void 0:M.stringValue,links:s||[],personal_email:((H=($=n==null?void 0:n.data)==null?void 0:$.personal_email)==null?void 0:H.stringValue)||"",address:((U=(O=n==null?void 0:n.data)==null?void 0:O.address)==null?void 0:U.stringValue)||"",awards:i||[],current_position:((se=(ee=n==null?void 0:n.data)==null?void 0:ee.current_position)==null?void 0:se.stringValue)||"",educations:((xe=(fe=n==null?void 0:n.data)==null?void 0:fe.educations)==null?void 0:xe.stringValue)||[],recent:((ie=(Be=n==null?void 0:n.data)==null?void 0:Be.recent)==null?void 0:ie.stringValue)||[],research_collaborators:((ke=(ve=n==null?void 0:n.data)==null?void 0:ve.research_collaborators)==null?void 0:ke.stringValue)||""}),[f,p]=T.useState({linkName:"",linkURL:""}),[g,v]=T.useState("");T.useEffect(()=>{(async()=>{var ze,Qe,cr,bi,rl,sl,vb,yb,xb,bb,wb,jb,_b,Eb,Nb,Sb,Tb,Ib,Cb,Ab;await wa(),h({name:(Qe=(ze=n==null?void 0:n.data)==null?void 0:ze.name)==null?void 0:Qe.stringValue,email:(bi=(cr=n==null?void 0:n.data)==null?void 0:cr.email)==null?void 0:bi.stringValue,phone:(sl=(rl=n==null?void 0:n.data)==null?void 0:rl.mobile)==null?void 0:sl.stringValue,researchInterests:r,introduction:(yb=(vb=n==null?void 0:n.data)==null?void 0:vb.introduction)==null?void 0:yb.stringValue,links:s||[],personal_email:((bb=(xb=n==null?void 0:n.data)==null?void 0:xb.personal_email)==null?void 0:bb.stringValue)||"",address:((jb=(wb=n==null?void 0:n.data)==null?void 0:wb.address)==null?void 0:jb.stringValue)||"",awards:i||[],current_position:((Eb=(_b=n==null?void 0:n.data)==null?void 0:_b.current_position)==null?void 0:Eb.stringValue)||"",educations:((Sb=(Nb=n==null?void 0:n.data)==null?void 0:Nb.educations)==null?void 0:Sb.stringValue)||[],recent:((Ib=(Tb=n==null?void 0:n.data)==null?void 0:Tb.recent)==null?void 0:Ib.stringValue)||[],research_collaborators:((Ab=(Cb=n==null?void 0:n.data)==null?void 0:Cb.research_collaborators)==null?void 0:Ab.stringValue)||""})})()},[]);const b=Z=>{const{name:ze,value:Qe}=Z.target;h(cr=>({...cr,[ze]:Qe}))},m=async()=>{l(!0);const Z=ye(W,"phdStudents",n==null?void 0:n._id);if(c){const ze=Ce(Ae,`/peoples/phd_profile_images/${u.name}_${c.name}`);await Wr(ze,c).then(async()=>{P("success","Profile image uploaded successfully");try{const Qe=await Rn(Z);if(Qe.exists()){const cr={...Qe.data(),...u,researchInterests:u.researchInterests.split(",").map(bi=>bi.trim()),profileImage:u.name+"_"+c.name};await tt(Z,cr),P("success","Document successfully updated!")}else P("danger","No such document exists!");h(H_),d(void 0),l(!1),window.location.reload()}catch{P("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),l(!1)}}).catch(()=>{P("danger","Error! While adding a Supervisor, Check you internet connnection and Try Again later."),l(!1)})}else try{const ze=await Rn(Z);if(ze.exists()){const Qe={...ze.data(),...u,researchInterests:u.researchInterests.split(",").map(cr=>cr.trim())};await tt(Z,Qe),P("success","Document successfully updated!")}else P("danger","No such document exists!");h(H_),d(void 0),l(!1),window.location.reload()}catch{P("danger","Error! While editing the profile, Check you internet connnection and Try Again later."),l(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Profile"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"Edit Profile"})]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:n==null?void 0:n.profileImage,target:"_blank",children:a.jsx("img",{src:n==null?void 0:n.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsxs("td",{colSpan:7,children:[a.jsx("h5",{children:(Ee=(Fe=n==null?void 0:n.data)==null?void 0:Fe.name)==null?void 0:Ee.stringValue}),(De=(Ye=n==null?void 0:n.data)==null?void 0:Ye.isAlumni)!=null&&De.booleanValue?a.jsx("div",{className:"fw-bold text-shade2",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-shade2",children:"Ongoing Student"}),(Oe=(oe=n==null?void 0:n.data)==null?void 0:oe.current_position)==null?void 0:Oe.stringValue,a.jsx("hr",{}),(Ue=(Y=n==null?void 0:n.data)==null?void 0:Y.address)==null?void 0:Ue.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Name"})}),a.jsx("td",{children:(Dt=(Rt=n==null?void 0:n.data)==null?void 0:Rt.name)==null?void 0:Dt.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-shade2",children:"Email"})}),a.jsx("td",{children:(He=(Le=n==null?void 0:n.data)==null?void 0:Le.email)==null?void 0:He.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Batch"})]}),a.jsx("td",{children:((Te=(Dn=n==null?void 0:n.data)==null?void 0:Dn.batch)==null?void 0:Te.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),($e=(ce=(F=(hn=(Yn=n==null?void 0:n.data)==null?void 0:Yn.supervisor)==null?void 0:hn.mapValue)==null?void 0:F.fields)==null?void 0:ce.name)==null?void 0:$e.stringValue,", ",a.jsx("strong",{children:"Email: "}),(_s=(rt=(It=(qe=(bt=n==null?void 0:n.data)==null?void 0:bt.supervisor)==null?void 0:qe.mapValue)==null?void 0:It.fields)==null?void 0:rt.email)==null?void 0:_s.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((Ho=(Yr=n==null?void 0:n.data)==null?void 0:Yr.mobile)==null?void 0:Ho.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((Wo=(qo=n==null?void 0:n.data)==null?void 0:qo.personal_email)==null?void 0:Wo.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Research Collaborators"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(Ko=(Go=n==null?void 0:n.data)==null?void 0:Go.research_collaborators)==null?void 0:Ko.stringValue})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(Jo=(Xo=(Qo=(Yo=n==null?void 0:n.data)==null?void 0:Yo.researchInterests)==null?void 0:Qo.arrayValue)==null?void 0:Xo.values)==null?void 0:Jo.map((Z,ze)=>a.jsx(X,{to:"https://www.google.com/search?q="+(Z==null?void 0:Z.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:Z==null?void 0:Z.stringValue},ze)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(el=(Zo=n==null?void 0:n.data)==null?void 0:Zo.introduction)==null?void 0:el.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Profile Links"})}),a.jsx("td",{colSpan:7,children:s.map(Z=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(Z==null?void 0:Z.linkURL,"_blank"),children:Z==null?void 0:Z.linkName}))})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Awards"})}),a.jsx("td",{colSpan:7,children:a.jsx("ol",{children:i.map(Z=>a.jsx("li",{children:Z}))})})]})]})})})," ",a.jsx($H,{getphd_:n})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-fullscreen",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Edit Profile"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"name",className:"form-label",children:["Name"," ",a.jsx("strong",{className:"text-shade2",children:"*(You can't change name)"})]}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Dr. XYZ",name:"name",value:u.name,onChange:b,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email"," ",a.jsx("strong",{className:"text-shade2",children:"*(You can't change email)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"email",value:u.email,onChange:b,disabled:!0})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Personal Email",a.jsx("strong",{className:"text-shade2",children:"*(Optional)"})]}),a.jsx("input",{type:"email",className:"form-control",placeholder:"ie. user@gmail.com",name:"personal_email",value:u.personal_email,onChange:b,disabled:o})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),a.jsx("input",{type:"number",className:"form-control",placeholder:"ie. 10 digits mobile number",name:"phone",value:u.phone,onChange:b,min:0,max:9999999999})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"current_position",className:"form-label",children:"Current Position"}),a.jsx("input",{type:"text",className:"form-control",placeholder:`School of Computing\r
                      National University of Singapore (NUS)\r
                      `,name:"current_position",value:u.current_position,onChange:b})]}),a.jsxs("div",{className:"col overflow-auto",children:[a.jsx("label",{htmlFor:"image",className:"form-label",children:"Profile Image (User can upload later)"}),a.jsx("input",{type:"file",accept:"image/*",className:"form-control",name:"image",onChange:Z=>{var Qe;const ze=(Qe=Z.target.files)==null?void 0:Qe[0];d(ze)}})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Collaborators (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Prof. X, Prof. Y",name:"research_collaborators",value:u.research_collaborators,onChange:b})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"researchInterests",className:"form-label",children:"Research Interests (Comma Separated)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Machine Learning, AI, Data Science etc.",name:"researchInterests",value:u.researchInterests,onChange:b})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"introduction",className:"form-label",children:"Introduction"}),a.jsx("textarea",{className:"form-control",rows:4,placeholder:"A brief introduction about the Supervisor",name:"introduction",value:u.introduction,onChange:b})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),a.jsx("textarea",{className:"form-control",rows:4,placeholder:"type here..",name:"address",value:u==null?void 0:u.address,onChange:b})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Awards"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-10 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"type here award..",onChange:Z=>v(Z.target.value),value:g||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!g){P("danger","Award Input is required field.");return}if(u.awards.includes(g)){P("danger","This link already exists.");return}h({...u,awards:[...u.awards,g]}),v("")},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Award"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(tl=u==null?void 0:u.awards)==null?void 0:tl.map((Z,ze)=>a.jsxs("tr",{children:[a.jsx("th",{children:ze+1}),a.jsx("th",{children:Z}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h({...u,awards:u==null?void 0:u.awards.filter(Qe=>Qe!==Z)})},children:"Remove"})})]}))})]}),!(u!=null&&u.awards.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"date",className:"form-label",children:"Add Links"}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between flex-nowrap",children:[a.jsx("div",{className:"col-sm-4 pe-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Google Scholar Profile...",onChange:Z=>p({linkName:Z.target.value,linkURL:f.linkURL}),value:f.linkName||""})}),a.jsx("div",{className:"col-sm-6",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"ie. Paste link here...",onChange:Z=>p({linkName:f.linkName,linkURL:Z.target.value}),value:f.linkURL||""})}),a.jsx("div",{className:"col-sm-2 ps-3",children:a.jsx("button",{className:"btn btn-shade1 w-100",onClick:()=>{if(!f.linkName||!f.linkURL){P("danger","Link Name and URL are required fields.");return}if(u.links.includes(f)){P("danger","This link already exists.");return}h({...u,links:[...u.links,f]}),p({linkName:"",linkURL:""})},children:"+ Add"})})]}),a.jsxs("table",{className:"table table-bordered table-hover my-3",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Link URL"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:(nl=u==null?void 0:u.links)==null?void 0:nl.map((Z,ze)=>a.jsxs("tr",{children:[a.jsx("th",{children:ze+1}),a.jsx("th",{children:Z==null?void 0:Z.linkName}),a.jsx("th",{children:a.jsx("a",{href:Z==null?void 0:Z.linkURL,target:"_blank",children:Z==null?void 0:Z.linkURL})}),a.jsx("th",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{confirm("Are you sure want to remove?")&&h({...u,links:u==null?void 0:u.links.filter(Qe=>Qe.linkName!==(Z==null?void 0:Z.linkName))})},children:"Remove"})})]}))})]}),!(u!=null&&u.links.length)&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h5",{className:"text-shade2",children:"Nothing Added Yet!"})})})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:m,disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},q_={education_title:"",end_month:"",end_year:"",start_month:"",start_year:"",subject:"",university:"",supervisor:""},$H=({getphd_:t})=>{var h,f,p,g;let e=[];(g=(p=(f=(h=t==null?void 0:t.data)==null?void 0:h.educations)==null?void 0:f.arrayValue)==null?void 0:p.values)==null||g.map(v=>{var b,m,y,x,_,S,E,I,w,j,N,k,C,R,V,z,L,A,D,M,$,H,O,U;e.push({education_title:(y=(m=(b=v==null?void 0:v.mapValue)==null?void 0:b.fields)==null?void 0:m.education_title)==null?void 0:y.stringValue,end_month:(S=(_=(x=v==null?void 0:v.mapValue)==null?void 0:x.fields)==null?void 0:_.end_month)==null?void 0:S.stringValue,end_year:(w=(I=(E=v==null?void 0:v.mapValue)==null?void 0:E.fields)==null?void 0:I.end_year)==null?void 0:w.stringValue,start_month:(k=(N=(j=v==null?void 0:v.mapValue)==null?void 0:j.fields)==null?void 0:N.start_month)==null?void 0:k.stringValue,start_year:(V=(R=(C=v==null?void 0:v.mapValue)==null?void 0:C.fields)==null?void 0:R.start_year)==null?void 0:V.stringValue,subject:(A=(L=(z=v==null?void 0:v.mapValue)==null?void 0:z.fields)==null?void 0:L.subject)==null?void 0:A.stringValue,university:($=(M=(D=v==null?void 0:v.mapValue)==null?void 0:D.fields)==null?void 0:M.university)==null?void 0:$.stringValue,supervisor:(U=(O=(H=v==null?void 0:v.mapValue)==null?void 0:H.fields)==null?void 0:O.supervisor)==null?void 0:U.stringValue})});const[n,r]=T.useState(!1),[s,i]=T.useState(q_),o=new Date().getFullYear(),l=Array.from({length:o-1949},(v,b)=>1950+b).sort((v,b)=>b-v),c=v=>{const{name:b,value:m}=v.target;i(y=>({...y,[b]:m}))},d=async()=>{if(!s.education_title||!s.university||!s.subject||!s.start_month||!s.start_year||!s.end_month||!s.end_year){P("danger","Education Input Details are required.");return}if(Number(s.start_year)>Number(s.end_year)){P("danger","Starting Year can not be greater than Ending Year.");return}r(!0);try{if(e.some(m=>m.education_title===s.education_title)){P("danger","Education Details with same title is already existed."),r(!1);return}const v=ye(W,"phdStudents",t==null?void 0:t._id),b=await Rn(v);if(b.exists()){const m={...b.data(),educations:[...e,s]};await tt(v,m),P("success","Document successfully updated!")}else P("danger","No such document exists!");r(!1),window.location.reload()}catch{P("danger","Error! Something went wrong."),r(!1)}i(q_)},u=async v=>{if(confirm("Are you sure want to delete?")){r(!0);try{const b=e.filter(x=>x.education_title!==v),m=ye(W,"phdStudents",t==null?void 0:t._id),y=await Rn(m);if(y.exists()){const x={...y.data(),educations:b};await tt(m,x),P("success","Document successfully deleted!")}else P("danger","No such document exists!");r(!1),window.location.reload()}catch{P("danger","Error! Something went wrong."),r(!1)}}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between mt-4",children:[a.jsx("h3",{children:"Education Details"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddEducationModel",children:"+ Add Education"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"overflow-auto mt-3 mb-5",children:[a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Subject/Stream"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"University/College"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Duration"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",style:{zIndex:"999"},children:"Action"})]})}),a.jsx("tbody",{children:e&&(e==null?void 0:e.map((v,b)=>a.jsxs("tr",{children:[a.jsx("td",{children:b+1}),a.jsx("td",{children:v==null?void 0:v.education_title}),a.jsx("td",{children:v==null?void 0:v.subject}),a.jsxs("td",{children:[v==null?void 0:v.university,(v==null?void 0:v.supervisor)&&a.jsxs(a.Fragment,{children:[a.jsx("hr",{}),a.jsx("strong",{children:"Supervisor: "}),v==null?void 0:v.supervisor]})]}),a.jsxs("td",{children:[a.jsxs("strong",{children:[v==null?void 0:v.start_month," ",v==null?void 0:v.start_year]})," ","to"," ",a.jsxs("strong",{children:[v==null?void 0:v.end_month," ",v==null?void 0:v.end_year]})," ","(",Number(v==null?void 0:v.end_year)-Number(v==null?void 0:v.start_year)," ","Years )"]}),a.jsx("td",{children:a.jsx("button",{className:"btn btn-outline-danger btn-sm",disabled:n,onClick:()=>u(v==null?void 0:v.education_title),children:n?"Wait..":"Delete"})})]})))})]}),!e.length&&a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{className:"fw-bold text-shade2",children:"Not Found!"})})})]}),a.jsx("div",{className:"modal fade",id:"AddEducationModel",tabIndex:-1,"aria-labelledby":"AddEducationModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddEducationModelLabel",children:"Add Education"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"education_title",className:"form-label",children:"Education Title"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Ph.D.",name:"education_title",onChange:c,value:s.education_title,disabled:n})]}),a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"supervisor",className:"form-label",children:"Supervisor (if any)"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Dr. X",name:"supervisor",onChange:c,value:s.supervisor,disabled:n})]})]}),a.jsxs("div",{className:"row mb-2",children:[a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"subject",className:"form-label",children:"Stream/Subject"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  Computer Vision",name:"subject",onChange:c,value:s.subject,disabled:n})]}),a.jsxs("div",{className:"col",children:[" ",a.jsx("label",{htmlFor:"university",className:"form-label",children:"University/College Name"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"ie.  IIT Ropar",name:"university",onChange:c,value:s.university,disabled:n})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"start_month",className:"form-label",children:"Starting Month"}),a.jsxs("select",{name:"start_month",className:"form-control",onChange:c,disabled:n,children:[a.jsx("option",{value:"",children:"--select start month--"}),Ia==null?void 0:Ia.map((v,b)=>a.jsx("option",{value:v,children:v},b))]})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"start_year",className:"form-label",children:"Starting Year"}),a.jsxs("select",{name:"start_year",className:"form-control",onChange:c,disabled:n,children:[a.jsx("option",{value:"",children:"--select start year--"}),l==null?void 0:l.map((v,b)=>a.jsx("option",{value:v,children:v},b))]})]})]}),a.jsxs("div",{className:"mb-2 row",children:[a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"end_month",className:"form-label",children:"Ending Month"}),a.jsxs("select",{name:"end_month",className:"form-control",onChange:c,disabled:n,children:[a.jsx("option",{value:"",children:"--select end month--"}),Ia==null?void 0:Ia.map((v,b)=>a.jsx("option",{value:v,children:v},b))]})]}),a.jsxs("div",{className:"col",children:[a.jsx("label",{htmlFor:"end_year",className:"form-label",children:"Ending Year"}),a.jsxs("select",{name:"end_year",className:"form-control",onChange:c,disabled:n,children:[a.jsx("option",{value:"",children:"--select end year--"}),l==null?void 0:l.map((v,b)=>a.jsx("option",{value:v,children:v},b))]})]})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},Ia=["January","February","March","April","May","June","July","August","September","October","November","December"],W_="/CVPR_LAB/assets/pdf-0ZyWgAAD.png",Gf=async t=>{if(!t){P("danger","Invalid parameters!");return}try{const e=Ce(Ae,`users_resume/${t}`);return await Gr(e)}catch{return null}},pb=async t=>{if(!t){P("danger","Invalid parameters!");return}try{const e=Ce(Ae,`project_videos/video_${t}`);return await Gr(e)}catch{return null}};function ZA(t){navigator.clipboard.writeText(t).then(function(){P("success","Text copied to clipboard successfully")}).catch(function(){P("danger","Could not copy text: "+t)})}const cm=1,BH=()=>{const t=K(h=>h.getauth),[e,n]=T.useState(!1),[r,s]=T.useState(null),[i,o]=T.useState("");T.useEffect(()=>{(async()=>{n(!0);const f=await Gf(t==null?void 0:t.email);if(!f||f===null){n(!1);return}o(f),n(!1)})()},[]);const l=h=>{const f=h.target.files&&h.target.files[0];f&&(f.size/1048576>cm?(P("danger","File size must be less than "+cm+"Mb"),s(null)):s(f))},c=()=>{if(r){const h=URL.createObjectURL(r),f=window.open(h,"_blank","width=500,height=600");f&&f.focus()}else P("danger","No File Selected")},d=async()=>{if(!r){P("danger","Please select a file.");return}n(!0);try{if(!(t!=null&&t.email)){P("danger","Invalid Parameters.");return}const h=Ce(Ae,"users_resume/"+(t==null?void 0:t.email)),f=new FileReader,p=await new Promise((b,m)=>{f.onload=y=>{var x;((x=y.target)==null?void 0:x.result)instanceof ArrayBuffer?b(y.target.result):m(new Error("Failed to read file"))},f.readAsArrayBuffer(r)}),g=new Uint8Array(p);await Wr(h,g,{contentType:"application/pdf"}),P("success","Upload Successful!")}catch{P("danger","Error, while uploading the CV, Please try again later.")}s(null),n(!1),window.location.reload()},u=async()=>{if(confirm("Are you sure want to delete?")){n(!0);try{const h=Ce(Ae,"users_resume/"+(t==null?void 0:t.email));await Er(h),P("success","CV Deleted Successfully!"),window.location.reload()}catch{P("danger","Error while deleting the cv. Please try again later.")}n(!1)}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsxs("div",{className:"w-100 d-flex justify-content-between",children:[a.jsx("h3",{children:"Your Resume"}),a.jsx("button",{className:"btn btn-dark btn-sm rounded-0","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Upload CV"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"col-sm-12 card py-4 d-flex flex-nowrap flex-row hover_bg",children:[!i&&!e&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"No CV Uploaded"})}),e&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"Please wait.."})}),i&&!e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{width:"fit-content"},children:a.jsx("img",{src:W_,alt:"PDF Icons",style:{width:"200px"},srcSet:W_})}),a.jsxs("div",{style:{width:"fit-content"},className:"mx-3",children:[a.jsx("button",{className:"btn btn-link mx-0 px-0",onClick:()=>{const h=window.open(i,"_blank","width=550,height=700");h&&h.focus()},disabled:e,children:a.jsx("h3",{children:"Resume.pdf"})}),a.jsxs("p",{className:"text-muted",children:["Current Version("," ",a.jsx("a",{href:i,target:"_blank",style:{textDecoration:"none"},children:"View"})," ",")"]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm me-2",onClick:()=>ZA(i),children:"Copy Link"})," ",a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:u,children:"Delete"})]})]})]})]})]}),a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Upload Your CV"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"alert-primary alert card p-3 rounded-0 ",children:[a.jsx("label",{htmlFor:"file_upload",children:"Select PDF file"}),a.jsxs("div",{className:"input-group mb-2 d-flex justify-content-between align-items-center",children:[a.jsx("input",{type:"file",name:"file_upload",accept:"application/pdf",id:"file_upload",multiple:!1,className:"form-control p-3 border-1 border-danger",onChange:l}),a.jsx("div",{className:"input-group-postpend",children:a.jsx("button",{className:"btn btn-shade1 p-3",style:{width:"100px"},disabled:e||!r,onClick:()=>c(),children:"Open"})})]})]}),a.jsxs("div",{className:"alert alert-info rounded-0",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to select a PDF file:"}),a.jsxs("ol",{children:[a.jsx("li",{children:'Click on the "Select PDF file" button.'}),a.jsx("li",{children:"Choose the PDF file you want to upload from your computer."}),a.jsx("li",{children:'Click "Open" to confirm your selection.'})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: PDF (.pdf)"}),a.jsxs("p",{className:"mb-0",children:["Maximum file size: ",cm,"MB"]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:e,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:d,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},G_="/CVPR_LAB/assets/video-SNzMg2sE.png",dm=10,zH=()=>{var v,b,m,y,x,_,S,E,I,w,j,N,k,C,R;const{id:t}=qr(),e=K(V=>{var z;return(z=V.getprojectsmain)==null?void 0:z.data}),n=e.find(V=>V._id===t);if(!n||!e){history.back();return}const[r,s]=T.useState(!1),[i,o]=T.useState(null),[l,c]=T.useState(0),[d,u]=T.useState("");T.useEffect(()=>{const V=async()=>{s(!0);const z=await pb(t);if(!z||z===null){s(!1);return}u(z),s(!1)};bd(),V()},[]);const h=V=>{const z=V.target.files&&V.target.files[0];if(z){const L=z.size/1048576;L>dm?(P("danger","Video File size must be less than "+dm+"Mb, Select File Size:"+L.toFixed(0)+"MB"),o(null)):o(z)}},f=async()=>{if(!i){P("danger","Please select a valid video file!");return}s(!0);try{const V={contentType:"video/mp4"},z="video_"+t,L=Ce(Ae,`project_videos/${z}`),D=XI(L,i,V);await new Promise((M,$)=>{D.on("state_changed",H=>{const O=(H.bytesTransferred/H.totalBytes*100).toFixed(2);c(Number(O))},H=>{P("danger","Error uploading video! Try again."),s(!1),$(H)},async()=>{const H=ye(W,"projects_main",n==null?void 0:n._id);await tt(H,{video:{timestamp:TF(),name:z}}),P("success","Video has been uploaded!"),s(!1),M(),location.reload()})})}catch{P("danger","Error uploading the video, Try Again!"),s(!1)}o(null)},p=async()=>{if(confirm("Are you sure want to delete?")){s(!0);try{const V=Ce(Ae,"project_videos/video_"+t);await Er(V);const z=ye(W,"projects_main",t);await tt(z,{video:{timestamp:null,name:null}}),P("success","Deleted Successfully!"),window.location.reload()}catch{P("danger","Error while deleting. Please try again later.")}s(!1)}},g=()=>{if(i){const V=URL.createObjectURL(i),z=window.open(V,"_blank","width=500,height=600");z&&z.focus()}else P("danger","No File Selected")};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{className:"fw-bold text-shade2",children:(v=n==null?void 0:n.title)==null?void 0:v.stringValue})}),a.jsx("hr",{}),a.jsxs("div",{className:"d-flex flex-nowrap gap-2 mb-3",children:[a.jsxs("button",{className:"btn btn-dark","data-bs-toggle":"modal","data-bs-target":"#addSliderModal",children:[a.jsx("i",{className:"bx bx-upload me-1"}),"Upload Video"]}),a.jsx("button",{className:"btn btn-info",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Project Details (Click)"})]}),a.jsx("div",{className:"collapse",id:"collapseExample",children:a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Funding Agency"]})}),a.jsx("td",{children:(b=n==null?void 0:n.funding_agency)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(m=n==null?void 0:n.total_fund)==null?void 0:m.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Project Investigators"]})}),a.jsx("td",{children:(y=n==null?void 0:n.pis)==null?void 0:y.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(x=n==null?void 0:n.copis)==null?void 0:x.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(_=n==null?void 0:n.jrf_phd_scholar)==null?void 0:_.stringValue})]}),a.jsx("tr",{children:a.jsxs("td",{colSpan:2,children:[" ",a.jsx("h4",{className:"m-0",children:a.jsx("strong",{className:"text-shade2",children:"Introduction "})}),a.jsx("br",{}),(S=n==null?void 0:n.description)==null?void 0:S.stringValue]})})]})})})}),a.jsxs("div",{className:"col-sm-12 card py-4 d-flex flex-nowrap flex-row hover_bg",children:[!d&&!r&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"No Video Uploaded"})}),r&&a.jsx("div",{className:"w-100 text-center",children:a.jsx("h3",{children:"Please wait.."})}),d&&!r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"ps-3",style:{width:"fit-content"},children:a.jsx("img",{src:G_,alt:"PDF Icons",style:{width:"200px"},srcSet:G_})}),a.jsxs("div",{style:{width:"fit-content"},className:"mx-3",children:[a.jsx("button",{className:"btn btn-link mx-0 px-0",onClick:()=>{const V=window.open(d,"_blank","width=550,height=700");V&&V.focus()},disabled:r,children:a.jsxs("h3",{children:["Video_",t,".mp4"]})}),a.jsxs("p",{className:"text-muted",children:["Current Version(",a.jsx("a",{href:d,target:"_blank",style:{textDecoration:"none"},children:"View"})," ",")",a.jsx("br",{})," ",a.jsxs("small",{children:["Uploaded On:"," ",a.jsx("strong",{className:"text-shade2",children:PH((j=(w=(I=(E=n==null?void 0:n.video)==null?void 0:E.mapValue)==null?void 0:I.fields)==null?void 0:w.timestamp)==null?void 0:j.timestampValue)})," ","(",(R=(C=(k=(N=n==null?void 0:n.video)==null?void 0:N.mapValue)==null?void 0:k.fields)==null?void 0:C.timestamp)==null?void 0:R.timestampValue,")"]})]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx("button",{className:"btn btn-shade1 btn-sm me-2",onClick:()=>ZA(d),children:"Copy Link"})," ",a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:p,disabled:r,children:"Delete"})]})]})]})]})]}),a.jsx("div",{className:"modal fade",id:"addSliderModal",tabIndex:-1,"aria-labelledby":"addSliderModalLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:"addSliderModalLabel",children:[a.jsx("i",{className:"bx bx-upload me-1"})," Upload Video"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"alert-primary alert card p-3 rounded-0 ",children:[a.jsx("label",{htmlFor:"file_upload",children:"Select Video file"}),a.jsxs("div",{className:"input-group mb-2 d-flex justify-content-between align-items-center",children:[a.jsx("input",{type:"file",name:"file_upload",accept:"video/mp4",id:"file_upload",multiple:!1,className:"form-control p-3 border-1 border-danger",onChange:h}),a.jsx("div",{className:"input-group-postpend",children:a.jsx("button",{className:"btn btn-shade1 p-3",style:{width:"100px"},disabled:r||!i,onClick:()=>g(),children:"Open"})})]})]}),r&&a.jsx("div",{className:"progress mb-3",children:a.jsxs("div",{className:"progress-bar",role:"progressbar",style:{width:l+"%"},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,children:[l," %"]})}),a.jsxs("div",{className:"alert alert-info rounded-0",children:[a.jsx("h4",{className:"alert-heading",children:"Instructions:"}),a.jsx("p",{children:"Please follow these steps to select a Video file:"}),a.jsxs("ol",{children:[a.jsx("li",{children:'Click on the "Select Video file" button.'}),a.jsx("li",{children:"Choose the Video file you want to upload from your computer."}),a.jsx("li",{children:'Click "Open" to confirm your selection.'})]}),a.jsx("hr",{}),a.jsx("p",{className:"mb-0",children:"Accepted file format: Video (.mp4)"}),a.jsxs("p",{className:"mb-0",children:["Maximum file size: ",dm,"MB"]})]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:f,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"Submit"})]})]})})})]})},HH=()=>{const t=bS(),e=K(n=>n.getauth);return T.useEffect(()=>{e.userType.includes("ADMIN")||t("/dashboard")},[]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-sm-12 col-md-10 col-lg-10 col-xl-10 px-5",children:[a.jsx("div",{className:"w-100 d-flex justify-content-between",children:a.jsx("h3",{children:"Website Settings"})}),a.jsx("hr",{}),a.jsx("div",{className:"alert alert-warning rounded-0 fw-bold",children:"Changes here will be directly shown to the website, do not change the settings if not required."}),a.jsx("div",{className:"overflow-auto mt-3",children:a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Setting"})," "]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Website Name"}),a.jsx("td",{children:a.jsx(qH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"About"}),a.jsx("td",{children:a.jsx(WH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Address"}),a.jsx("td",{children:a.jsx(GH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Logo"}),a.jsx("td",{children:a.jsx(KH,{})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"fw-bold h6",children:"Themes"}),a.jsx("td",{children:a.jsx(YH,{})})]})]})]})})]}),a.jsx(QH,{})]})},qH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.name),l=async()=>{if(i===""){P("warning","Website Name can not be empty!");return}n(!0),s(!0);try{const c=At(re(W,"website_settings"),li(1)),u=(await we(c)).docs[0];if(u){const h=ye(W,"website_settings",u.id);await tt(h,{name:i}),P("success","Updated successfully.")}else P("danger","Invalid Action!")}catch{P("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("input",{className:"form-control form-control",type:"text",name:"website_name",id:"website_name",value:i,onChange:c=>o(c.target.value),disabled:e||!r}),!r&&a.jsx("button",{className:"btn btn-primary",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},WH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.about),l=async()=>{if(i===""){P("warning","Website About can not be empty!");return}n(!0),s(!0);try{const c=At(re(W,"website_settings"),li(1)),u=(await we(c)).docs[0];if(u){const h=ye(W,"website_settings",u.id);await tt(h,{about:i}),P("success","Updated successfully.")}else P("danger","Invalid Action!")}catch{P("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("textarea",{className:"form-control form-control",name:"website_about",id:"website_about",rows:5,value:i,onChange:c=>o(c.target.value),disabled:e||!r,placeholder:"about the website..."}),!r&&a.jsx("button",{className:"btn btn-primary h-100",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success h-100",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},GH=()=>{const t=K(c=>c.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(t==null?void 0:t.address),l=async()=>{if(i===""){P("warning","Website Address can not be empty!");return}n(!0),s(!0);try{const c=At(re(W,"website_settings"),li(1)),u=(await we(c)).docs[0];if(u){const h=ye(W,"website_settings",u.id);await tt(h,{address:i}),P("success","Updated successfully.")}else P("danger","Invalid Action!")}catch{P("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-nowrap gap-1",children:[a.jsx("textarea",{className:"form-control form-control",name:"website_address",id:"website_address",rows:5,value:i,onChange:c=>o(c.target.value),disabled:e||!r,placeholder:"ie. Room Number : 3rd Floor,EE Department"}),!r&&a.jsx("button",{className:"btn btn-primary h-100",onClick:()=>s(!0),children:"Edit"}),r&&a.jsx("button",{className:"btn btn-success h-100",onClick:l,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})},KH=()=>{const t=K(p=>p.getsettings.data),[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(),[l,c]=T.useState(""),d=T.useRef(null),u=p=>{if(p.target.files&&p.target.files.length>0){const g=new FileReader;g.onload=()=>{o(g.result)},g.readAsDataURL(p.target.files[0])}},h=()=>{if(d&&d.current){const p=d.current.cropper;c(p.getCroppedCanvas().toDataURL())}},f=async()=>{if(!l){P("danger","Please select an image!");return}n(!0);try{const p=At(re(W,"website_settings"),li(1)),v=(await we(p)).docs[0];if(v){const b=ye(W,"website_settings",v.id);await tt(b,{logo:l}),P("success","Updated successfully.")}else P("danger","Invalid Action!")}catch{P("danger","Error Occurred while Saving the changes.")}n(!1),s(!1),window.location.reload()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2 d-flex flex-nowrap",children:[(t==null?void 0:t.logo)&&a.jsx("img",{className:"card p-3 rounded-0",src:t==null?void 0:t.logo,alt:"website_logo",srcSet:t==null?void 0:t.logo,style:{height:"100px"}}),!r&&a.jsx("button",{className:"btn btn-primary h-100 ms-2",onClick:()=>s(!0),children:"Edit"})]}),a.jsxs("div",{className:"d-flex flex-nowrap",children:[r&&a.jsxs("div",{className:"",children:[a.jsx("input",{className:"form-control form-control",name:"website_logo",id:"website_logo",type:"file",onChange:u,accept:"image/*",disabled:e||!r,style:{width:"fit-content"}}),a.jsx("div",{className:"",children:a.jsx(VA,{src:i,ref:d,guides:!0,crop:h})})]}),r&&a.jsx("button",{className:"btn btn-success h-100 ms-2",onClick:f,disabled:e,children:e?"Saving..":"Save"}),r&&a.jsx("button",{className:"btn btn-shade1 h-100 ms-2 ",onClick:()=>s(!1),disabled:e,children:"Cancel"})]})]})},YH=()=>{const t=K(i=>i.getsettings.data),[e,n]=T.useState(!1),r=async i=>{if(i===""){P("warning","Invalid Action!");return}n(!0);try{let o=[...t.themes.filter(h=>h.name!==i)];o=o.map(h=>({...h,current:!1}));let l=t.themes.find(h=>h.name===i);if(!l){P("danger","Invalid Action!");return}o.push({name:l.name,colors:l.colors,default:l.default,current:!0});const c=At(re(W,"website_settings"),li(1)),u=(await we(c)).docs[0];if(u){const h=ye(W,"website_settings",u.id);await tt(h,{themes:o}),P("success","Updated successfully.")}else P("danger","Invalid Action!")}catch{P("danger","Error Occurred while Saving the changes.")}n(!1),window.location.reload()},s=async i=>{if(i===""){P("warning","Invalid Action!");return}n(!0);try{let o=[...t.themes.filter(u=>u.name!==i)];const l=At(re(W,"website_settings"),li(1)),d=(await we(l)).docs[0];if(d){const u=ye(W,"website_settings",d.id);await tt(u,{themes:o}),P("success","Deleted successfully.")}else P("danger","Invalid Action!")}catch{P("danger","Error Occurred while Saving the changes.")}n(!1),window.location.reload()};return a.jsxs("div",{className:"d-flex flex-wrap m-1",children:[a.jsx("div",{className:"w-100 text-end mb-3",children:a.jsx("button",{className:"btn btn-shade1","data-bs-toggle":"modal","data-bs-target":"#AddPeopleModel",children:"+ Create Theme"})}),a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Theme Name"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Colors (Primary, Secondary, Shade 1, Shade 2)"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Action"})]})}),a.jsx("tbody",{children:t==null?void 0:t.themes.map((i,o)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"fw-bold",children:[i==null?void 0:i.name,i.default?" (Default Theme)":" (Custom Theme)"]}),a.jsxs("td",{children:[a.jsx("input",{title:"Primary Color",className:"me-1 p-0 border-0 w0",name:"saved_theme_"+i.colors.primary,type:"color",value:i.colors.primary,readOnly:!0}),a.jsx("input",{title:"Secondary Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.secondary,type:"color",value:i.colors.secondary,readOnly:!0}),a.jsx("input",{title:"Shade 1 Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.shade1,type:"color",value:i.colors.shade1,readOnly:!0}),a.jsx("input",{title:"Shade 2 Color",className:"me-1 p-0 border-0",name:"saved_theme_"+i.colors.shade2,type:"color",value:i.colors.shade2,readOnly:!0})]}),a.jsx("td",{children:a.jsx("div",{className:"d-flex flex-nowrap",children:i.current?a.jsx("button",{className:"btn btn-sm btn-primary me-2",disabled:!0,children:"Applied"}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>r(i.name),disabled:e,children:"Apply"})," ",!i.default&&a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>s(i.name),disabled:e,children:"Delete"})]})})})]},o))})]}),a.jsx("div",{className:"alert alert-info w-100 rounded-0 fw-bold p-1",children:"You can only delete custom themes, you can not delete default themes."})]})},QH=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState({name:"",colors:{primary:"",secondary:"",shade1:"",shade2:""}}),s=async()=>{if(n.name===""){P("warning","Theme Name can not be empty!");return}if(n.colors.primary===""||n.colors.secondary===""||n.colors.shade1===""||n.colors.shade2===""){P("warning","Theme Colors can not be empty!");return}e(!0);try{const i=At(re(W,"website_settings"),li(1)),l=(await we(i)).docs[0];if(l){const c=ye(W,"website_settings",l.id),d=l.data();if(d.themes.filter(h=>h.name===n.name)[0]){P("danger","Theme with same name already existed");return}await tt(c,{themes:[...d.themes,{name:n.name,colors:n.colors,default:!1,current:!1}]}),P("success","Updated successfully.")}else P("danger","Invalid Action!")}catch{P("danger","Error Occurred while Saving the changes.")}e(!1),window.location.reload()};return a.jsx("div",{className:"modal fade",id:"AddPeopleModel",tabIndex:-1,"aria-labelledby":"AddPeopleModelLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"AddPeopleModelLabel",children:"Create Custom Theme"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"title",className:"form-label",children:["Theme Name"," ",a.jsx("strong",{className:"text-shade2",children:"*(required)"})]}),a.jsx("input",{type:"text",className:"form-control",id:"title","aria-describedby":"title",placeholder:"Type Here..",disabled:t,onChange:i=>r({name:i.target.value,colors:n.colors})})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("label",{htmlFor:"date",className:"form-label",children:["Select Colours"," ",a.jsx("strong",{className:"text-shade2",children:"*(required)"})]}),a.jsxs("table",{className:"table table-bordered table-hover",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Colour Type"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Paste Color Code"}),a.jsx("th",{scope:"col",className:"top-0 position-sticky bg-dark text-white border-1 border-dark",children:"Select Value"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsxs("td",{children:["Primary Color"," ",a.jsx("strong",{style:{color:n.colors.primary},children:"(dark in general for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.primary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:i.target.value,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",disabled:t,value:n.colors.primary,onChange:i=>r({name:n.name,colors:{primary:i.target.value,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Secondary Color"," ",a.jsx("strong",{style:{color:n.colors.secondary},children:"(light in general for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.secondary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:i.target.value,shade1:n.colors.shade1,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",value:n.colors.secondary,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:i.target.value,shade1:n.colors.shade1,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Shade 1"," ",a.jsx("strong",{style:{color:n.colors.shade1},children:"(can be any colour, dark for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.shade1,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:i.target.value,shade2:n.colors.shade2}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",disabled:t,value:n.colors.shade1,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:i.target.value,shade2:n.colors.shade2}})})]})]}),a.jsxs("tr",{children:[a.jsxs("td",{children:["Shade 2"," ",a.jsx("strong",{style:{color:n.colors.shade2},children:"(can be any colour, dark for light themes)"})," "]}),a.jsx("td",{children:a.jsx("input",{type:"text",value:n.colors.shade2,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:i.target.value}})})}),a.jsxs("td",{children:[" ",a.jsx("input",{className:"form-control",type:"color",value:n.colors.shade2,disabled:t,onChange:i=>r({name:n.name,colors:{primary:n.colors.primary,secondary:n.colors.secondary,shade1:n.colors.shade1,shade2:i.target.value}})})]})]})]})]})]}),a.jsxs("div",{className:"alert alert-info rounded-0 p-2",children:["You can prefer this"," ",a.jsx("a",{href:"https://colorhunt.co/",target:"_blank",children:"colorhunt.co"})," ","for the color scheme. If you want to use your own colors."]})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",disabled:t,children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-success",onClick:s,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),"Please Wait.."]}):"+ Add"})]})]})})})},XH=()=>{const t=K(l=>l.getauth),[e,n]=T.useState(0),[r,s]=T.useState(!1);T.useEffect(()=>{const l=on.onAuthStateChanged(async c=>{if(!c)try{await on.signOut(),window.location.href="/"}catch{console.error("Error logging out.")}});return()=>l()},[]),T.useEffect(()=>{XA()},[]);const i=async()=>{if(confirm("Are you sure want to logout?"))try{await on.signOut(),window.close()}catch{console.error("Error logging out.")}},o=async()=>{s(!0);try{const l=on==null?void 0:on.currentUser;l?(await m3(l),P("success","Email has been sent, kindly check your inbox or spam!"),s(!1)):(P("danger","No authenticated user found!"),s(!1))}catch{P("danger","Error sending email verification!"),s(!1)}window.location.reload()};if(!(t!=null&&t.email)&&!(t!=null&&t.userType))return a.jsx(a.Fragment,{children:a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh"},children:a.jsx("div",{className:"spinner-border text-dark",role:"status",style:{width:"3rem",height:"3rem"},children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})})});if(t!=null&&t.email)return a.jsxs(a.Fragment,{children:[!(t!=null&&t.isVarified)&&a.jsx("div",{className:"w-100 d-flex justify-content-center align-items-center",style:{height:"100vh",position:"fixed",top:0,left:0,zIndex:999,backgroundColor:"#000000c8"},children:a.jsxs("div",{className:"alert alert-danger fw-bold hover_",children:[a.jsx("h4",{className:"fw-bold text-shade2",children:"Warning"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Your account has not yet been verified."}),a.jsx("li",{children:"You cannot perform actions until your account is verified."}),a.jsxs("li",{children:["To send a verification email, click on the following link:"," ",a.jsx("button",{className:"btn btn-link text-shade2 fw-bold px-1 py-0",onClick:o,disabled:r,children:r?"Sending...":"Click here"})]}),a.jsxs("li",{children:["If you wish to close the window, click the following link:"," ",a.jsx("button",{className:"btn btn-link text-shade2 fw-bold px-1 py-0",onClick:i,children:"Close Window"})]})]})]})}),a.jsx("div",{className:"px-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row mt-5",children:a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("h4",{children:["Welcome, ",t==null?void 0:t.email,"(",a.jsx("strong",{className:"text-shade2",children:t==null?void 0:t.userType}),")"]})})}),a.jsxs("div",{className:"p-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-between flex-row",children:[a.jsx("div",{className:"col-sm-12 col-md-2 col-lg-2 col-xl-2",children:a.jsxs("div",{className:"list-group",children:[(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(im==null?void 0:im.map((l,c)=>a.jsx(X,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),(t==null?void 0:t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(am==null?void 0:am.map((l,c)=>a.jsx(X,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("PHD"))&&(lm==null?void 0:lm.map((l,c)=>a.jsx(X,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),!(t!=null&&t.userType.includes("ADMIN"))&&(t==null?void 0:t.userType.includes("SUPERVISOR"))&&(om==null?void 0:om.map((l,c)=>a.jsx(X,{to:l.to,className:`list-group-item list-group-item-action ${e===c&&"text-white bg-dark"} border-none`,onClick:()=>n(c),children:l.text},c))),a.jsxs(X,{to:"/",target:"_blank",className:"list-group-item list-group-item-action",children:[a.jsx("i",{className:"bx bxs-home-alt-2 me-1"})," Website Home"]}),a.jsxs(X,{to:"#",onClick:i,className:"d-flex align-items-center list-group-item list-group-item-action text-shade2",children:[a.jsx("i",{className:"bx bx-log-out-circle me-2"}),"Logout"]})]})}),a.jsx(Jt,{children:a.jsx("title",{children:"Dashboard "})}),(t==null?void 0:t.isVarified)&&a.jsxs(my,{children:[a.jsx(ge,{element:a.jsx("h1",{children:"Not Found"}),path:"*"}),a.jsx(ge,{element:a.jsx("div",{className:"w-100 p-3 card mx-3",children:a.jsx("h1",{className:"fw-bold text-shade2",children:"Welcome"})}),path:"/"}),a.jsx(ge,{element:a.jsx(h6,{}),path:"/supervisors"}),a.jsx(ge,{element:a.jsx(HH,{}),path:"/settings"}),a.jsx(ge,{element:a.jsx(SH,{}),path:"/supervisors/:id"}),a.jsx(ge,{element:a.jsx(n5,{}),path:"/publications"}),a.jsx(ge,{element:a.jsx(EH,{}),path:"/publications/:id"}),a.jsx(ge,{element:a.jsx(o6,{}),path:"/peoples"}),a.jsx(ge,{element:a.jsx(BH,{}),path:"/cv"}),a.jsx(ge,{element:a.jsx(b6,{}),path:"/research"}),a.jsx(ge,{element:a.jsx(_6,{}),path:"/research/:id"}),a.jsx(ge,{element:a.jsx(E6,{}),path:"/projects-items"}),a.jsx(ge,{element:a.jsx(I6,{}),path:"/projects"}),a.jsx(ge,{element:a.jsx(IH,{}),path:"/projects/:id"}),a.jsx(ge,{element:a.jsx(MH,{}),path:"/projects/images/:id"}),a.jsx(ge,{element:a.jsx(zH,{}),path:"/projects/video/:id"}),a.jsx(ge,{element:a.jsx(g6,{}),path:"/datasets"}),a.jsx(ge,{element:a.jsx(FH,{}),path:"/datasets/:id"}),a.jsx(ge,{element:a.jsx(o5,{}),path:"/news"}),a.jsx(ge,{element:a.jsx(c5,{}),path:"/change-password"}),a.jsx(ge,{element:a.jsx(s6,{}),path:"/slider-images"}),a.jsx(ge,{element:a.jsx(RH,{}),path:"/gallary-images"}),a.jsx(ge,{element:a.jsx(VH,{}),path:"/site-admin"}),a.jsx(ge,{element:a.jsx(UH,{}),path:"/profile-phd"})]})]})]})},ek=()=>{const t=K(e=>e.getsettings.data);return a.jsx(a.Fragment,{children:a.jsxs("div",{role:"navigation",children:[a.jsx("div",{className:"p-3",children:a.jsxs("div",{className:"row align-items-center justify-content-between w-100",children:[a.jsx("div",{className:"col-lg-2 col-md-2 text-center",children:a.jsx("div",{className:"",children:a.jsx("img",{className:"img-fluid",src:t==null?void 0:t.logo,alt:"LOGO",style:{height:"70px",width:"auto"}})})}),a.jsx("div",{className:"col-lg-8 col-md-8 text-end d-none d-md-block text-center",children:a.jsx("h3",{className:"fw-bold",children:t==null?void 0:t.name})}),a.jsx("div",{className:"col-lg-2 col-md-2 text-end d-none d-md-block",children:a.jsx("div",{className:"mt-2",children:t==null?void 0:t.address})})]})}),a.jsx("div",{className:"navbar_custom",id:"subNavContainer",children:a.jsx("nav",{className:"navbar navbar-expand-md",children:a.jsxs("div",{className:"container-fluid",children:[a.jsxs("button",{className:"navbar-toggler mx-auto collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",style:{color:"var(--primary-light)"},children:[a.jsx("i",{className:"fas fa-bars me-2","aria-hidden":"true"})," Menu"]}),a.jsx("div",{className:"navbar-collapse collapse",id:"navbarNavDropdown",children:a.jsxs("ul",{className:"navbar-nav mx-auto ",children:[a.jsx("li",{className:"nav-item",children:a.jsx(X,{className:"nav-link mx-2 active","aria-current":"page",to:"/",children:"Home"})}),a.jsx("li",{className:"nav-item",children:a.jsx(X,{className:"nav-link mx-2 active","aria-current":"page",to:"/peoples",children:"People"})}),a.jsx("li",{className:"nav-item",children:a.jsx(X,{className:"nav-link mx-2 active","aria-current":"page",to:"/gallery",children:"Gallery"})}),a.jsx("li",{className:"nav-item",children:a.jsx(X,{className:"nav-link mx-2",to:"/research-areas",children:"Research"})}),a.jsx("li",{className:"nav-item",children:a.jsx(X,{className:"nav-link mx-2",to:"/datasets",children:"Datasets"})}),a.jsx("li",{className:"nav-item",children:a.jsx(X,{className:"nav-link mx-2",to:"/projects",children:"Projects"})}),a.jsx("li",{className:"nav-item",children:a.jsx(X,{className:"nav-link mx-2",to:"/publications",children:"Publications"})}),a.jsx("li",{className:"nav-item",children:a.jsx(X,{className:"nav-link mx-2",to:"/contact",children:"Contact Us"})})]})})]})})})]})})};function K_(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function mb(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:K_(e[n])&&K_(t[n])&&Object.keys(e[n]).length>0&&mb(t[n],e[n])})}const tk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ds(){const t=typeof document<"u"?document:{};return mb(t,tk),t}const JH={document:tk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Kn(){const t=typeof window<"u"?window:{};return mb(t,JH),t}function ZH(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function eq(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function fv(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function kh(){return Date.now()}function tq(t){const e=Kn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function nq(t,e){e===void 0&&(e="x");const n=Kn();let r,s,i;const o=tq(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Zd(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function rq(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ln(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!rq(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const l=s[i],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(Zd(t[l])&&Zd(r[l])?r[l].__swiper__?t[l]=r[l]:Ln(t[l],r[l]):!Zd(t[l])&&Zd(r[l])?(t[l]={},r[l].__swiper__?t[l]=r[l]:Ln(t[l],r[l])):t[l]=r[l])}}}return t}function eu(t,e,n){t.style.setProperty(e,n)}function nk(t){let{swiper:e,targetPosition:n,side:r}=t;const s=Kn(),i=-e.translate;let o=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const d=n>i?"next":"prev",u=(f,p)=>d==="next"&&f>=p||d==="prev"&&f<=p,h=()=>{l=new Date().getTime(),o===null&&(o=l);const f=Math.max(Math.min((l-o)/c,1),0),p=.5-Math.cos(f*Math.PI)/2;let g=i+p*(n-i);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(h)};h()}function Pr(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function Ph(t){try{console.warn(t);return}catch{}}function Rh(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:ZH(e)),n}function sq(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function iq(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Bs(t,e){return Kn().getComputedStyle(t,null).getPropertyValue(e)}function Dh(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function rk(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function pv(t,e,n){const r=Kn();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function Mt(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let um;function aq(){const t=Kn(),e=ds();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function sk(){return um||(um=aq()),um}let hm;function oq(t){let{userAgent:e}=t===void 0?{}:t;const n=sk(),r=Kn(),s=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const h=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let g=s==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&v.indexOf(`${l}x${c}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),d&&!p&&(o.os="android",o.android=!0),(u||f||h)&&(o.os="ios",o.ios=!0),o}function ik(t){return t===void 0&&(t={}),hm||(hm=oq(t)),hm}let fm;function lq(){const t=Kn(),e=ik();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=c<16||c===16&&d<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function cq(){return fm||(fm=lq()),fm}function dq(t){let{swiper:e,on:n,emit:r}=t;const s=Kn();let i=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(h=>{o=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let g=f,v=p;h.forEach(b=>{let{contentBoxSize:m,contentRect:y,target:x}=b;x&&x!==e.el||(g=y?y.width:(m[0]||m).inlineSize,v=y?y.height:(m[0]||m).blockSize)}),(g!==f||v!==p)&&l()})}),i.observe(e.el))},d=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",u)}),n("destroy",()=>{d(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",u)})}function uq(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],o=Kn(),l=function(u,h){h===void 0&&(h={});const f=o.MutationObserver||o.WebkitMutationObserver,p=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){s("observerUpdate",g[0]);return}const v=function(){s("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(v):o.setTimeout(v,0)});p.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),i.push(p)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=rk(e.hostEl);for(let h=0;h<u.length;h+=1)l(u[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},d=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var hq={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),t}};function fq(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Bs(r,"padding-left")||0,10)-parseInt(Bs(r,"padding-right")||0,10),n=n-parseInt(Bs(r,"padding-top")||0,10)-parseInt(Bs(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function pq(){const t=this;function e(N,k){return parseFloat(N.getPropertyValue(t.getDirectionLabel(k))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:l}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,u=Pr(s,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:u.length;let f=[];const p=[],g=[];let v=n.slidesOffsetBefore;typeof v=="function"&&(v=n.slidesOffsetBefore.call(t));let b=n.slidesOffsetAfter;typeof b=="function"&&(b=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,y=t.slidesGrid.length;let x=n.spaceBetween,_=-v,S=0,E=0;if(typeof i>"u")return;typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*i:typeof x=="string"&&(x=parseFloat(x)),t.virtualSize=-x,u.forEach(N=>{o?N.style.marginLeft="":N.style.marginRight="",N.style.marginBottom="",N.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(eu(r,"--swiper-centered-offset-before",""),eu(r,"--swiper-centered-offset-after",""));const I=n.grid&&n.grid.rows>1&&t.grid;I?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let w;const j=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(N=>typeof n.breakpoints[N].slidesPerView<"u").length>0;for(let N=0;N<h;N+=1){w=0;let k;if(u[N]&&(k=u[N]),I&&t.grid.updateSlide(N,k,u),!(u[N]&&Bs(k,"display")==="none")){if(n.slidesPerView==="auto"){j&&(u[N].style[t.getDirectionLabel("width")]="");const C=getComputedStyle(k),R=k.style.transform,V=k.style.webkitTransform;if(R&&(k.style.transform="none"),V&&(k.style.webkitTransform="none"),n.roundLengths)w=t.isHorizontal()?pv(k,"width",!0):pv(k,"height",!0);else{const z=e(C,"width"),L=e(C,"padding-left"),A=e(C,"padding-right"),D=e(C,"margin-left"),M=e(C,"margin-right"),$=C.getPropertyValue("box-sizing");if($&&$==="border-box")w=z+D+M;else{const{clientWidth:H,offsetWidth:O}=k;w=z+L+A+D+M+(O-H)}}R&&(k.style.transform=R),V&&(k.style.webkitTransform=V),n.roundLengths&&(w=Math.floor(w))}else w=(i-(n.slidesPerView-1)*x)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),u[N]&&(u[N].style[t.getDirectionLabel("width")]=`${w}px`);u[N]&&(u[N].swiperSlideSize=w),g.push(w),n.centeredSlides?(_=_+w/2+S/2+x,S===0&&N!==0&&(_=_-i/2-x),N===0&&(_=_-i/2-x),Math.abs(_)<1/1e3&&(_=0),n.roundLengths&&(_=Math.floor(_)),E%n.slidesPerGroup===0&&f.push(_),p.push(_)):(n.roundLengths&&(_=Math.floor(_)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&f.push(_),p.push(_),_=_+w+x),t.virtualSize+=w+x,S=w,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+b,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+x}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+x}px`),I&&t.grid.updateWrapperSize(w,f),!n.centeredSlides){const N=[];for(let k=0;k<f.length;k+=1){let C=f[k];n.roundLengths&&(C=Math.floor(C)),f[k]<=t.virtualSize-i&&N.push(C)}f=N,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(c&&n.loop){const N=g[0]+x;if(n.slidesPerGroup>1){const k=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),C=N*n.slidesPerGroup;for(let R=0;R<k;R+=1)f.push(f[f.length-1]+C)}for(let k=0;k<t.virtual.slidesBefore+t.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+N),p.push(p[p.length-1]+N),t.virtualSize+=N}if(f.length===0&&(f=[0]),x!==0){const N=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((k,C)=>!n.cssMode||n.loop?!0:C!==u.length-1).forEach(k=>{k.style[N]=`${x}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let N=0;g.forEach(C=>{N+=C+(x||0)}),N-=x;const k=N-i;f=f.map(C=>C<=0?-v:C>k?k+b:C)}if(n.centerInsufficientSlides){let N=0;if(g.forEach(k=>{N+=k+(x||0)}),N-=x,N<i){const k=(i-N)/2;f.forEach((C,R)=>{f[R]=C-k}),p.forEach((C,R)=>{p[R]=C+k})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){eu(r,"--swiper-centered-offset-before",`${-f[0]}px`),eu(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const N=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(C=>C+N),t.slidesGrid=t.slidesGrid.map(C=>C+k)}if(h!==d&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==y&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const N=`${n.containerModifierClass}backface-hidden`,k=t.el.classList.contains(N);h<=n.maxBackfaceHiddenSlides?k||t.el.classList.add(N):k&&t.el.classList.remove(N)}}function mq(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const l=e.activeIndex+i;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const l=n[i].offsetHeight;s=l>s?l:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function gq(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}function vq(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const d=r[c];let u=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),f=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-u)/(d.swiperSlideSize+l),p=-(o-u),g=p+e.slidesSizesGrid[c],v=p>=0&&p<=e.size-e.slidesSizesGrid[c];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),v&&r[c].classList.add(n.slideFullyVisibleClass),d.progress=s?-h:h,d.originalProgress=s?-f:f}}function yq(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:l}=e;const c=i,d=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;i=u||s<=0,o=h||s>=1,u&&(s=0),h&&(s=1)}if(n.loop){const u=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],p=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=f?l=(v-f)/g:l=(v+g-p)/g,l>1&&(l-=1)}Object.assign(e,{progress:s,progressLoop:l,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(c&&!i||d&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function xq(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=h=>Pr(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];e.forEach(h=>{h.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,d,u;if(i)if(n.loop){let h=s-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else o?(c=e.filter(h=>h.column===s)[0],u=e.filter(h=>h.column===s+1)[0],d=e.filter(h=>h.column===s-1)[0]):c=e[s];c&&(c.classList.add(n.slideActiveClass),o?(u&&u.classList.add(n.slideNextClass),d&&d.classList.add(n.slidePrevClass)):(u=iq(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),u&&u.classList.add(n.slideNextClass),d=sq(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]),d&&d.classList.add(n.slidePrevClass))),t.emitSlidesClasses()}const _u=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},pm=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},mv=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,l=[o-e];l.push(...Array.from({length:e}).map((c,d)=>o+r+d)),t.slides.forEach((c,d)=>{l.includes(c.column)&&pm(t,d)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const l=(o%n+n)%n;(l<s||l>i)&&pm(t,l)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&pm(t,o)};function bq(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function wq(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:l}=e;let c=t,d;const u=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof c>"u"&&(c=bq(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const p=Math.min(s.slidesPerGroupSkip,c);d=p+Math.floor((c-p)/s.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===i&&!e.params.loop){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const h=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(c);else if(h){const p=e.slides.filter(v=>v.column===c)[0];let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),f=Math.floor(g/s.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=c}else f=c;Object.assign(e,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:f,previousIndex:i,activeIndex:c}),e.initialized&&mv(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function jq(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(s=l)});let i=!1,o;if(s){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===s){i=!0,o=l;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var _q={updateSize:fq,updateSlides:pq,updateAutoHeight:mq,updateSlidesOffset:gq,updateSlidesProgress:vq,updateProgress:yq,updateSlidesClasses:xq,updateActiveIndex:wq,updateClickedSlide:jq};function Eq(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=nq(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function Nq(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let l=0,c=0;const d=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let u;const h=n.maxTranslate()-n.minTranslate();h===0?u=0:u=(t-n.minTranslate())/h,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Sq(){return-this.snapGrid[0]}function Tq(){return-this.snapGrid[this.snapGrid.length-1]}function Iq(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:o,wrapperEl:l}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const c=i.minTranslate(),d=i.maxTranslate();let u;if(r&&t>c?u=c:r&&t<d?u=d:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return nk({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var Cq={getTranslate:Eq,setTranslate:Nq,minTranslate:Sq,maxTranslate:Tq,translateTo:Iq};function Aq(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function ak(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:o}=e;let l=r;if(l||(i>o?l="next":i<o?l="prev":l="reset"),e.emit(`transition${s}`),n&&i!==o){if(l==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),l==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function kq(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),ak({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Pq(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),ak({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Rq={setTransition:Aq,transitionStart:kq,transitionEnd:Pq};function Dq(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:g}=i;if(i.animating&&l.preventInteractionOnTransition||!g&&!r&&!s||i.destroyed)return!1;const v=Math.min(i.params.slidesPerGroupSkip,o);let b=v+Math.floor((o-v)/i.params.slidesPerGroup);b>=c.length&&(b=c.length-1);const m=-c[b];if(l.normalizeSlideIndex)for(let x=0;x<d.length;x+=1){const _=-Math.floor(m*100),S=Math.floor(d[x]*100),E=Math.floor(d[x+1]*100);typeof d[x+1]<"u"?_>=S&&_<E-(E-S)/2?o=x:_>=S&&_<E&&(o=x+1):_>=S&&(o=x)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&(f?m>i.translate&&m>i.minTranslate():m<i.translate&&m<i.minTranslate())||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let y;if(o>h?y="next":o<h?y="prev":y="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(o),l.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),l.effect!=="slide"&&i.setTranslate(m),y!=="reset"&&(i.transitionStart(n,y),i.transitionEnd(n,y)),!1;if(l.cssMode){const x=i.isHorizontal(),_=f?m:-m;if(e===0){const S=i.virtual&&i.params.virtual.enabled;S&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),S&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[x?"scrollLeft":"scrollTop"]=_})):p[x?"scrollLeft":"scrollTop"]=_,S&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1})}else{if(!i.support.smoothScroll)return nk({swiper:i,targetPosition:_,side:x?"left":"top"}),!0;p.scrollTo({[x?"left":"top"]:_,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,y),e===0?i.transitionEnd(n,y):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(_){!i||i.destroyed||_.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,y))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function Oq(t,e,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let l;if(i){const f=o*s.params.grid.rows;l=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else l=s.getSlideIndexByData(o);const c=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:d}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let h=c-l<u;if(d&&(h=h||l<Math.ceil(u/2)),h){const f=d?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?l+1:l-c+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(i){const f=o*s.params.grid.rows;o=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function Lq(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;let l=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<i.slidesPerGroupSkip?1:l,d=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!d&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function Mq(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:l,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;const u=r.virtual&&s.virtual.enabled;if(s.loop){if(d&&!u&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=l?r.translate:-r.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const p=f(h),g=i.map(m=>f(m));let v=i[g.indexOf(p)-1];if(typeof v>"u"&&s.cssMode){let m;i.forEach((y,x)=>{p>=y&&(m=x)}),typeof m<"u"&&(v=i[m>0?m-1:m])}let b=0;if(typeof v<"u"&&(b=o.indexOf(v),b<0&&(b=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(b=b-r.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),s.rewind&&r.isBeginning){const m=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(m,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(b,t,e,n)}),!0;return r.slideTo(b,t,e,n)}function Vq(t,e,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,t,e,n)}function Fq(t,e,n,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),l=o+Math.floor((i-o)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const d=s.snapGrid[l],u=s.snapGrid[l+1];c-d>(u-d)*r&&(i+=s.params.slidesPerGroup)}else{const d=s.snapGrid[l-1],u=s.snapGrid[l];c-d<=(u-d)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function Uq(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(Pr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),fv(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(Pr(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),fv(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var $q={slideTo:Dq,slideToLoop:Oq,slideNext:Lq,slidePrev:Mq,slideReset:Vq,slideToClosest:Fq,slideToClickedSlide:Uq};function Bq(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{Pr(r,`.${n.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},i=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(i?n.grid.rows:1),l=e.slides.length%o!==0,c=i&&e.slides.length%n.grid.rows!==0,d=u=>{for(let h=0;h<u;h+=1){const f=e.isElement?Rh("swiper-slide",[n.slideBlankClass]):Rh("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(l){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;d(u),e.recalcSlides(),e.updateSlides()}else Ph("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;d(u),e.recalcSlides(),e.updateSlides()}else Ph("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function zq(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:o,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:u,allowSlideNext:h,slidesEl:f,params:p}=c,{centeredSlides:g}=p;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):p.centeredSlides&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=u,c.allowSlideNext=h,c.emit("loopFix");return}let v=p.slidesPerView;v==="auto"?v=c.slidesPerViewDynamic():(v=Math.ceil(parseFloat(p.slidesPerView,10)),g&&v%2===0&&(v=v+1));const b=p.slidesPerGroupAuto?v:p.slidesPerGroup;let m=b;m%b!==0&&(m+=b-m%b),m+=p.loopAdditionalSlides,c.loopedSlides=m;const y=c.grid&&p.grid&&p.grid.rows>1;d.length<v+m?Ph("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&p.grid.fill==="row"&&Ph("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const x=[],_=[];let S=c.activeIndex;typeof i>"u"?i=c.getSlideIndex(d.filter(R=>R.classList.contains(p.slideActiveClass))[0]):S=i;const E=r==="next"||!r,I=r==="prev"||!r;let w=0,j=0;const N=y?Math.ceil(d.length/p.grid.rows):d.length,C=(y?d[i].column:i)+(g&&typeof s>"u"?-v/2+.5:0);if(C<m){w=Math.max(m-C,b);for(let R=0;R<m-C;R+=1){const V=R-Math.floor(R/N)*N;if(y){const z=N-V-1;for(let L=d.length-1;L>=0;L-=1)d[L].column===z&&x.push(L)}else x.push(N-V-1)}}else if(C+v>N-m){j=Math.max(C-(N-m*2),b);for(let R=0;R<j;R+=1){const V=R-Math.floor(R/N)*N;y?d.forEach((z,L)=>{z.column===V&&_.push(L)}):_.push(V)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),I&&x.forEach(R=>{d[R].swiperLoopMoveDOM=!0,f.prepend(d[R]),d[R].swiperLoopMoveDOM=!1}),E&&_.forEach(R=>{d[R].swiperLoopMoveDOM=!0,f.append(d[R]),d[R].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():y&&(x.length>0&&I||_.length>0&&E)&&c.slides.forEach((R,V)=>{c.grid.updateSlide(V,R,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),n){if(x.length>0&&I){if(typeof e>"u"){const R=c.slidesGrid[S],z=c.slidesGrid[S+w]-R;l?c.setTranslate(c.translate-z):(c.slideTo(S+w,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-z,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-z))}else if(s){const R=y?x.length/p.grid.rows:x.length;c.slideTo(c.activeIndex+R,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(_.length>0&&E)if(typeof e>"u"){const R=c.slidesGrid[S],z=c.slidesGrid[S-j]-R;l?c.setTranslate(c.translate-z):(c.slideTo(S-j,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-z,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-z))}else{const R=y?_.length/p.grid.rows:_.length;c.slideTo(c.activeIndex-R,0,!1,!0)}}if(c.allowSlidePrev=u,c.allowSlideNext=h,c.controller&&c.controller.control&&!o){const R={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(V=>{!V.destroyed&&V.params.loop&&V.loopFix({...R,slideTo:V.params.slidesPerView===p.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...R,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}c.emit("loopFix")}function Hq(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var qq={loopCreate:Bq,loopFix:zq,loopDestroy:Hq};function Wq(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Gq(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Kq={setGrabCursor:Wq,unsetGrabCursor:Gq};function Yq(t,e){e===void 0&&(e=this);function n(r){if(!r||r===ds()||r===Kn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function Y_(t,e,n){const r=Kn(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function Qq(t){const e=this,n=ds();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Y_(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:l}=e;if(!l||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=r.target;if(i.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&u&&(c=u[0]);const h=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,f=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(f?Yq(h,c):c.closest(h))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,g=o.currentY;if(!Y_(e,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=g,s.touchStartTime=kh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let v=!0;c.matches(s.focusableElements)&&(v=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const b=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||b)&&!c.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Xq(t){const e=ds(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:l}=n;if(!l||!s.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].filter(E=>E.identifier===r.touchId)[0],!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const u=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=kh());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let E;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(E=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?E>s.touchAngle:90-E>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let g=n.isHorizontal()?f:p,v=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),i.diff=g,g*=s.touchRatio,o&&(g=-g,v=-v);const b=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const m=n.params.loop&&!s.cssMode,y=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(m&&y&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(E)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let x;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&b!==n.touchesDirection&&m&&y&&Math.abs(g)>=1){Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let _=!0,S=s.resistanceRatio;if(s.touchReleaseOnEdges&&(S=0),g>0?(m&&y&&!x&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(_=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**S))):g<0&&(m&&y&&!x&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(_=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**S))),_&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(g)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Jq(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(S=>S.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:d,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=kh(),f=h-n.touchStartTime;if(e.allowClick){const S=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(S&&S[0]||r.target,S),e.emit("tap click",r),f<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=kh(),fv(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let v=0,b=e.slidesSizesGrid[0];for(let S=0;S<d.length;S+=S<o.slidesPerGroupSkip?1:o.slidesPerGroup){const E=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[S+E]<"u"?(g||p>=d[S]&&p<d[S+E])&&(v=S,b=d[S+E]-d[S]):(g||p>=d[S])&&(v=S,b=d[d.length-1]-d[d.length-2])}let m=null,y=null;o.rewind&&(e.isBeginning?y=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const x=(p-d[v])/b,_=v<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(x>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?m:v+_):e.slideTo(v)),e.swipeDirection==="prev"&&(x>1-o.longSwipesRatio?e.slideTo(v+_):y!==null&&x<0&&Math.abs(x)>o.longSwipesRatio?e.slideTo(y):e.slideTo(v))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+_):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:v+_),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:v))}}function Q_(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function Zq(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function eW(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function tW(t){const e=this;_u(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function nW(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const ok=(t,e)=>{const n=ds(),{params:r,el:s,wrapperEl:i,device:o}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",t.onTouchStart,{passive:!1}),s[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[c]("click",t.onClick,!0),r.cssMode&&i[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Q_,!0):t[d]("observerUpdate",Q_,!0),s[c]("load",t.onLoad,{capture:!0})};function rW(){const t=this,{params:e}=t;t.onTouchStart=Qq.bind(t),t.onTouchMove=Xq.bind(t),t.onTouchEnd=Jq.bind(t),t.onDocumentTouchStart=nW.bind(t),e.cssMode&&(t.onScroll=eW.bind(t)),t.onClick=Zq.bind(t),t.onLoad=tW.bind(t),ok(t,"on")}function sW(){ok(this,"off")}var iW={attachEvents:rW,detachEvents:sW};const X_=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function aW(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const c=(o in i?i[o]:void 0)||t.originalParams,d=X_(t,r),u=X_(t,c),h=r.enabled;d&&!u?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&u&&(s.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof c[m]>"u")return;const y=r[m]&&r[m].enabled,x=c[m]&&c[m].enabled;y&&!x&&t[m].disable(),!y&&x&&t[m].enable()});const f=c.direction&&c.direction!==r.direction,p=r.loop&&(c.slidesPerView!==r.slidesPerView||f),g=r.loop;f&&n&&t.changeDirection(),Ln(t.params,c);const v=t.params.enabled,b=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!v?t.disable():!h&&v&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",c),n&&(p?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&b?(t.loopCreate(e),t.updateSlides()):g&&!b&&t.loopDestroy()),t.emit("breakpoint",c)}function oW(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=Kn(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:i*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:d}=o[l];e==="window"?s.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var lW={setBreakpoint:aW,getBreakpoint:oW};function cW(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function dW(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=cW(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function uW(){const t=this,{el:e,classNames:n}=t;e.classList.remove(...n),t.emitContainerClasses()}var hW={addClasses:dW,removeClasses:uW};function fW(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var pW={checkOverflow:fW},gv={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function mW(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Ln(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Ln(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Ln(e,r)}}const mm={eventsEmitter:hq,update:_q,translate:Cq,transition:Rq,slide:$q,loop:qq,grabCursor:Kq,events:iW,breakpoints:lW,checkOverflow:pW,classes:hW},gm={};let gb=class Jr{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Ln({},n),e&&!n.el&&(n.el=e);const o=ds();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(h=>{const f=Ln({},n,{el:h});u.push(new Jr(f))}),u}const l=this;l.__swiper__=!0,l.support=sk(),l.device=ik({userAgent:n.userAgent}),l.browser=cq(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(u=>{u({params:n,swiper:l,extendParams:mW(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Ln({},gv,c);return l.params=Ln({},d,gm,n),l.originalParams=Ln({},l.params),l.passedParams=Ln({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=Pr(n,`.${r.slideClass}, swiper-slide`),i=Dh(s[0]);return Dh(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Pr(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:d}=r;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let h=i[d]?Math.ceil(i[d].swiperSlideSize):0,f;for(let p=d+1;p<i.length;p+=1)i[p]&&!f&&(h+=Math.ceil(i[p].swiperSlideSize),u+=1,h>c&&(f=!0));for(let p=d-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>c&&(f=!0))}else if(e==="current")for(let h=d+1;h<i.length;h+=1)(n?o[h]+l[h]-o[d]<c:o[h]-o[d]<c)&&(u+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&_u(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Pr(r,s())[0];return!o&&n.params.createElements&&(o=Rh("div",n.params.wrapperClass),r.append(o),Pr(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Bs(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Bs(r,"direction")==="rtl"),wrongRTL:Bs(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?_u(n,i):i.addEventListener("load",o=>{_u(n,o.target)})}),mv(n),n.initialized=!0,mv(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttribute("style"),o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el.swiper=null,eq(r)),r.destroyed=!0),null}static extendDefaults(e){Ln(gm,e)}static get extendedDefaults(){return gm}static get defaults(){return gv}static installModule(e){Jr.prototype.__modules__||(Jr.prototype.__modules__=[]);const n=Jr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Jr.installModule(n)),Jr):(Jr.installModule(e),Jr)}};Object.keys(mm).forEach(t=>{Object.keys(mm[t]).forEach(e=>{gb.prototype[e]=mm[t][e]})});gb.use([dq,uq]);const lk=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function oa(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function co(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:oa(e[r])&&oa(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:co(t[r],e[r]):t[r]=e[r]})}function ck(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function dk(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function uk(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function hk(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function gW(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function vW(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:l,paginationEl:c}=t;const d=s.filter(j=>j!=="children"&&j!=="direction"&&j!=="wrapperClass"),{params:u,pagination:h,navigation:f,scrollbar:p,virtual:g,thumbs:v}=e;let b,m,y,x,_,S,E,I;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(b=!0),s.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(m=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(y=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(x=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);const w=j=>{e[j]&&(e[j].destroy(),j==="navigation"?(e.isElement&&(e[j].prevEl.remove(),e[j].nextEl.remove()),u[j].prevEl=void 0,u[j].nextEl=void 0,e[j].prevEl=void 0,e[j].nextEl=void 0):(e.isElement&&e[j].el.remove(),u[j].el=void 0,e[j].el=void 0))};s.includes("loop")&&e.isElement&&(u.loop&&!r.loop?S=!0:!u.loop&&r.loop?E=!0:I=!0),d.forEach(j=>{if(oa(u[j])&&oa(r[j]))Object.assign(u[j],r[j]),(j==="navigation"||j==="pagination"||j==="scrollbar")&&"enabled"in r[j]&&!r[j].enabled&&w(j);else{const N=r[j];(N===!0||N===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?N===!1&&w(j):u[j]=r[j]}}),d.includes("controller")&&!m&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),s.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):s.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),s.includes("children")&&n&&u.loop&&(I=!0),b&&v.init()&&v.update(!0),m&&(e.controller.control=u.controller.control),y&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),h.init(),h.render(),h.update()),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(u.scrollbar.el=l),p.init(),p.updateSize(),p.setTranslate()),_&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),f.init(),f.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(S||I)&&e.loopDestroy(),(E||I)&&e.loopCreate(),e.update()}function yW(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},s={};co(n,gv),n._emitClasses=!0,n.init=!1;const i={},o=lk.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?oa(t[c])?(n[c]={},s[c]={},co(n[c],t[c]),co(s[c],t[c])):(n[c]=t[c],s[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:i[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:s,rest:i,events:r}}function xW(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:l}=t;ck(e)&&r&&s&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=s,l.originalParams.navigation.prevEl=s),dk(e)&&i&&(l.params.pagination.el=i,l.originalParams.pagination.el=i),uk(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function bW(t,e,n,r,s){const i=[];if(!e)return i;const o=c=>{i.indexOf(c)<0&&i.push(c)};if(n&&r){const c=r.map(s),d=n.map(s);c.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return lk.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(oa(t[c])&&oa(e[c])){const d=Object.keys(t[c]),u=Object.keys(e[c]);d.length!==u.length?o(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),u.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),i}const wW=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(this,arguments)}function fk(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function pk(t){const e=[];return Pe.Children.toArray(t).forEach(n=>{fk(n)?e.push(n):n.props&&n.props.children&&pk(n.props.children).forEach(r=>e.push(r))}),e}function jW(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pe.Children.toArray(t).forEach(r=>{if(fk(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=pk(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function _W(t,e,n){if(!n)return null;const r=u=>{let h=u;return u<0?h=e.length+u:h>=e.length&&(h=h-e.length),h},s=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let u=l;u<c;u+=1)u>=i&&u<=o&&d.push(e[r(u)]);return d.map((u,h)=>Pe.cloneElement(u,{swiper:t,style:s,key:`slide-${h}`}))}function tc(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const J_=T.createContext(null),EW=T.createContext(null),mk=T.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...l}=t===void 0?{}:t,c=!1;const[d,u]=T.useState("swiper"),[h,f]=T.useState(null),[p,g]=T.useState(!1),v=T.useRef(!1),b=T.useRef(null),m=T.useRef(null),y=T.useRef(null),x=T.useRef(null),_=T.useRef(null),S=T.useRef(null),E=T.useRef(null),I=T.useRef(null),{params:w,passedParams:j,rest:N,events:k}=yW(l),{slides:C,slots:R}=jW(i),V=()=>{g(!p)};Object.assign(w.on,{_containerClasses(M,$){u($)}});const z=()=>{Object.assign(w.on,k),c=!0;const M={...w};if(delete M.wrapperClass,m.current=new gb(M),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=C;const $={cache:!1,slides:C,renderExternal:f,renderExternalUpdate:!1};co(m.current.params.virtual,$),co(m.current.originalParams.virtual,$)}};b.current||z(),m.current&&m.current.on("_beforeBreakpoint",V);const L=()=>{c||!k||!m.current||Object.keys(k).forEach(M=>{m.current.on(M,k[M])})},A=()=>{!k||!m.current||Object.keys(k).forEach(M=>{m.current.off(M,k[M])})};T.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",V)}),T.useEffect(()=>{!v.current&&m.current&&(m.current.emitSlidesClasses(),v.current=!0)}),tc(()=>{if(e&&(e.current=b.current),!!b.current)return m.current.destroyed&&z(),xW({el:b.current,nextEl:_.current,prevEl:S.current,paginationEl:E.current,scrollbarEl:I.current,swiper:m.current},w),o&&!m.current.destroyed&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),tc(()=>{L();const M=bW(j,y.current,C,x.current,$=>$.key);return y.current=j,x.current=C,M.length&&m.current&&!m.current.destroyed&&vW({swiper:m.current,slides:C,passedParams:j,changedParams:M,nextEl:_.current,prevEl:S.current,scrollbarEl:I.current,paginationEl:E.current}),()=>{A()}}),tc(()=>{wW(m.current)},[h]);function D(){return w.virtual?_W(m.current,C,h):C.map((M,$)=>Pe.cloneElement(M,{swiper:m.current,swiperSlideIndex:$}))}return Pe.createElement(r,Oh({ref:b,className:hk(`${d}${n?` ${n}`:""}`)},N),Pe.createElement(EW.Provider,{value:m.current},R["container-start"],Pe.createElement(s,{className:gW(w.wrapperClass)},R["wrapper-start"],D(),R["wrapper-end"]),ck(w)&&Pe.createElement(Pe.Fragment,null,Pe.createElement("div",{ref:S,className:"swiper-button-prev"}),Pe.createElement("div",{ref:_,className:"swiper-button-next"})),uk(w)&&Pe.createElement("div",{ref:I,className:"swiper-scrollbar"}),dk(w)&&Pe.createElement("div",{ref:E,className:"swiper-pagination"}),R["container-end"]))});mk.displayName="Swiper";const gk=T.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:d,...u}=t===void 0?{}:t;const h=T.useRef(null),[f,p]=T.useState("swiper-slide"),[g,v]=T.useState(!1);function b(_,S,E){S===h.current&&p(E)}tc(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!i)){if(i.destroyed){f!=="swiper-slide"&&p("swiper-slide");return}return i.on("_slideClass",b),()=>{i&&i.off("_slideClass",b)}}}),tc(()=>{i&&h.current&&!i.destroyed&&p(i.getSlideClasses(h.current))},[i]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},y=()=>typeof r=="function"?r(m):r,x=()=>{v(!0)};return Pe.createElement(n,Oh({ref:h,className:hk(`${f}${s?` ${s}`:""}`),"data-swiper-slide-index":c,onLoad:x},u),o&&Pe.createElement(J_.Provider,{value:m},Pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},y(),l&&!g&&Pe.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Pe.createElement(J_.Provider,{value:m},y(),l&&!g&&Pe.createElement("div",{className:"swiper-lazy-preloader"})))});gk.displayName="SwiperSlide";function vk(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=Pr(t.el,`.${r[s]}`)[0];i||(i=Rh("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function NW(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function i(g){let v;return g&&typeof g=="string"&&e.isElement&&(v=e.el.querySelector(g),v)?v:(g&&(typeof g=="string"&&(v=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&v.length>1&&e.el.querySelectorAll(g).length===1&&(v=e.el.querySelector(g))),g&&!v?g:v)}function o(g,v){const b=e.params.navigation;g=Mt(g),g.forEach(m=>{m&&(m.classList[v?"add":"remove"](...b.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=v),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](b.lockClass))})}function l(){const{nextEl:g,prevEl:v}=e.navigation;if(e.params.loop){o(v,!1),o(g,!1);return}o(v,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function c(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function d(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=vk(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let v=i(g.nextEl),b=i(g.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:b}),v=Mt(v),b=Mt(b);const m=(y,x)=>{y&&y.addEventListener("click",x==="next"?d:c),!e.enabled&&y&&y.classList.add(...g.lockClass.split(" "))};v.forEach(y=>m(y,"next")),b.forEach(y=>m(y,"prev"))}function h(){let{nextEl:g,prevEl:v}=e.navigation;g=Mt(g),v=Mt(v);const b=(m,y)=>{m.removeEventListener("click",y==="next"?d:c),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(m=>b(m,"next")),v.forEach(m=>b(m,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(u(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:g,prevEl:v}=e.navigation;if(g=Mt(g),v=Mt(v),e.enabled){l();return}[...g,...v].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),r("click",(g,v)=>{let{nextEl:b,prevEl:m}=e.navigation;b=Mt(b),m=Mt(m);const y=v.target;if(e.params.navigation.hideOnClick&&!m.includes(y)&&!b.includes(y)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let x;b.length?x=b[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(x=m[0].classList.contains(e.params.navigation.hiddenClass)),s(x===!0?"navigationShow":"navigationHide"),[...b,...m].filter(_=>!!_).forEach(_=>_.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:p,update:l,init:u,destroy:h})}function _l(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function SW(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:m=>m,formatFractionTotal:m=>m,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,l=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function d(m,y){const{bulletActiveClass:x}=e.params.pagination;m&&(m=m[`${y==="prev"?"previous":"next"}ElementSibling`],m&&(m.classList.add(`${x}-${y}`),m=m[`${y==="prev"?"previous":"next"}ElementSibling`],m&&m.classList.add(`${x}-${y}-${y}`)))}function u(m){const y=m.target.closest(_l(e.params.pagination.bulletClass));if(!y)return;m.preventDefault();const x=Dh(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;e.slideToLoop(x)}else e.slideTo(x)}function h(){const m=e.rtl,y=e.params.pagination;if(c())return;let x=e.pagination.el;x=Mt(x);let _,S;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,_=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(_=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,_=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const w=e.pagination.bullets;let j,N,k;if(y.dynamicBullets&&(o=pv(w[0],e.isHorizontal()?"width":"height",!0),x.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=`${o*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&S!==void 0&&(l+=_-(S||0),l>y.dynamicMainBullets-1?l=y.dynamicMainBullets-1:l<0&&(l=0)),j=Math.max(_-l,0),N=j+(Math.min(w.length,y.dynamicMainBullets)-1),k=(N+j)/2),w.forEach(C=>{const R=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(V=>`${y.bulletActiveClass}${V}`)].map(V=>typeof V=="string"&&V.includes(" ")?V.split(" "):V).flat();C.classList.remove(...R)}),x.length>1)w.forEach(C=>{const R=Dh(C);R===_?C.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),y.dynamicBullets&&(R>=j&&R<=N&&C.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),R===j&&d(C,"prev"),R===N&&d(C,"next"))});else{const C=w[_];if(C&&C.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&w.forEach((R,V)=>{R.setAttribute("part",V===_?"bullet-active":"bullet")}),y.dynamicBullets){const R=w[j],V=w[N];for(let z=j;z<=N;z+=1)w[z]&&w[z].classList.add(...`${y.bulletActiveClass}-main`.split(" "));d(R,"prev"),d(V,"next")}}if(y.dynamicBullets){const C=Math.min(w.length,y.dynamicMainBullets+4),R=(o*C-o)/2-k*o,V=m?"right":"left";w.forEach(z=>{z.style[e.isHorizontal()?V:"top"]=`${R}px`})}}x.forEach((w,j)=>{if(y.type==="fraction"&&(w.querySelectorAll(_l(y.currentClass)).forEach(N=>{N.textContent=y.formatFractionCurrent(_+1)}),w.querySelectorAll(_l(y.totalClass)).forEach(N=>{N.textContent=y.formatFractionTotal(I)})),y.type==="progressbar"){let N;y.progressbarOpposite?N=e.isHorizontal()?"vertical":"horizontal":N=e.isHorizontal()?"horizontal":"vertical";const k=(_+1)/I;let C=1,R=1;N==="horizontal"?C=k:R=k,w.querySelectorAll(_l(y.progressbarFillClass)).forEach(V=>{V.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${R})`,V.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(w.innerHTML=y.renderCustom(e,_+1,I),j===0&&s("paginationRender",w)):(j===0&&s("paginationRender",w),s("paginationUpdate",w)),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](y.lockClass)})}function f(){const m=e.params.pagination;if(c())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=Mt(x);let _="";if(m.type==="bullets"){let S=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>y&&(S=y);for(let E=0;E<S;E+=1)m.renderBullet?_+=m.renderBullet.call(e,E,m.bulletClass):_+=`<${m.bulletElement} ${e.isElement?'part="bullet"':""} class="${m.bulletClass}"></${m.bulletElement}>`}m.type==="fraction"&&(m.renderFraction?_=m.renderFraction.call(e,m.currentClass,m.totalClass):_=`<span class="${m.currentClass}"></span> / <span class="${m.totalClass}"></span>`),m.type==="progressbar"&&(m.renderProgressbar?_=m.renderProgressbar.call(e,m.progressbarFillClass):_=`<span class="${m.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(S=>{m.type!=="custom"&&(S.innerHTML=_||""),m.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(_l(m.bulletClass)))}),m.type!=="custom"&&s("paginationRender",x[0])}function p(){e.params.pagination=vk(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const m=e.params.pagination;if(!m.el)return;let y;typeof m.el=="string"&&e.isElement&&(y=e.el.querySelector(m.el)),!y&&typeof m.el=="string"&&(y=[...document.querySelectorAll(m.el)]),y||(y=m.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof m.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(m.el)],y.length>1&&(y=y.filter(x=>rk(x,".swiper")[0]===e.el)[0])),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=Mt(y),y.forEach(x=>{m.type==="bullets"&&m.clickable&&x.classList.add(...(m.clickableClass||"").split(" ")),x.classList.add(m.modifierClass+m.type),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.type==="bullets"&&m.dynamicBullets&&(x.classList.add(`${m.modifierClass}${m.type}-dynamic`),l=0,m.dynamicMainBullets<1&&(m.dynamicMainBullets=1)),m.type==="progressbar"&&m.progressbarOpposite&&x.classList.add(m.progressbarOppositeClass),m.clickable&&x.addEventListener("click",u),e.enabled||x.classList.add(m.lockClass)}))}function g(){const m=e.params.pagination;if(c())return;let y=e.pagination.el;y&&(y=Mt(y),y.forEach(x=>{x.classList.remove(m.hiddenClass),x.classList.remove(m.modifierClass+m.type),x.classList.remove(e.isHorizontal()?m.horizontalClass:m.verticalClass),m.clickable&&(x.classList.remove(...(m.clickableClass||"").split(" ")),x.removeEventListener("click",u))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...m.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const m=e.params.pagination;let{el:y}=e.pagination;y=Mt(y),y.forEach(x=>{x.classList.remove(m.horizontalClass,m.verticalClass),x.classList.add(e.isHorizontal()?m.horizontalClass:m.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?b():(p(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:m}=e.pagination;m&&(m=Mt(m),m.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(m,y)=>{const x=y.target,_=Mt(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&_&&_.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const S=_[0].classList.contains(e.params.pagination.hiddenClass);s(S===!0?"paginationShow":"paginationHide"),_.forEach(E=>E.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=Mt(m),m.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),p(),f(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:m}=e.pagination;m&&(m=Mt(m),m.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:v,disable:b,render:f,update:h,init:p,destroy:g})}function TW(t){let{swiper:e,extendParams:n,on:r,emit:s,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c=i&&i.autoplay?i.autoplay.delay:3e3,d=i&&i.autoplay?i.autoplay.delay:3e3,u,h=new Date().getTime(),f,p,g,v,b,m,y;function x(D){!e||e.destroyed||!e.wrapperEl||D.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",x),!y&&N())}const _=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(d=u,f=!1);const D=e.autoplay.paused?u:h+d-new Date().getTime();e.autoplay.timeLeft=D,s("autoplayTimeLeft",D,D/c),l=requestAnimationFrame(()=>{_()})},S=()=>{let D;return e.virtual&&e.params.virtual.enabled?D=e.slides.filter($=>$.classList.contains("swiper-slide-active"))[0]:D=e.slides[e.activeIndex],D?parseInt(D.getAttribute("data-swiper-autoplay"),10):void 0},E=D=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),_();let M=typeof D>"u"?e.params.autoplay.delay:D;c=e.params.autoplay.delay,d=e.params.autoplay.delay;const $=S();!Number.isNaN($)&&$>0&&typeof D>"u"&&(M=$,c=$,d=$),u=M;const H=e.params.speed,O=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(H,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,H,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(H,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,H,!0,!0),s("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return M>0?(clearTimeout(o),o=setTimeout(()=>{O()},M)):requestAnimationFrame(()=>{O()}),M},I=()=>{h=new Date().getTime(),e.autoplay.running=!0,E(),s("autoplayStart")},w=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(l),s("autoplayStop")},j=(D,M)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),D||(m=!0);const $=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",x):N()};if(e.autoplay.paused=!0,M){b&&(u=e.params.autoplay.delay),b=!1,$();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),$())},N=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,E(u)):E(),e.autoplay.paused=!1,s("autoplayResume"))},k=()=>{if(e.destroyed||!e.autoplay.running)return;const D=ds();D.visibilityState==="hidden"&&(m=!0,j(!0)),D.visibilityState==="visible"&&N()},C=D=>{D.pointerType==="mouse"&&(m=!0,y=!0,!(e.animating||e.autoplay.paused)&&j(!0))},R=D=>{D.pointerType==="mouse"&&(y=!1,e.autoplay.paused&&N())},V=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",C),e.el.addEventListener("pointerleave",R))},z=()=>{e.el.removeEventListener("pointerenter",C),e.el.removeEventListener("pointerleave",R)},L=()=>{ds().addEventListener("visibilitychange",k)},A=()=>{ds().removeEventListener("visibilitychange",k)};r("init",()=>{e.params.autoplay.enabled&&(V(),L(),I())}),r("destroy",()=>{z(),A(),e.autoplay.running&&w()}),r("_freeModeStaticRelease",()=>{(g||m)&&N()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?w():j(!0,!0)}),r("beforeTransitionStart",(D,M,$)=>{e.destroyed||!e.autoplay.running||($||!e.params.autoplay.disableOnInteraction?j(!0,!0):w())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){w();return}p=!0,g=!1,m=!1,v=setTimeout(()=>{m=!0,g=!0,j(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(v),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&N(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(b=!0)}),Object.assign(e.autoplay,{start:I,stop:w,pause:j,resume:N})}const IW=()=>{const t=K(e=>e.getslider).data;return a.jsx(a.Fragment,{children:a.jsx("div",{className:"border_bottom_strip",children:a.jsx(mk,{spaceBetween:30,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},loop:!0,navigation:!0,modules:[TW,SW,NW],className:"mySwiper",slidesPerView:1,children:t.map((e,n)=>a.jsxs(gk,{children:[a.jsx("img",{src:e.bannerURL,alt:e.title}),a.jsx("p",{children:e.title})]},n))})})})},CW=()=>{const t=K(l=>l.getsettings.data),e=K(l=>{var c;return(c=l.getresearcharea)==null?void 0:c.data}),[n,r]=T.useState(0),s=K(l=>l.getgallery.data);T.useEffect(()=>{ub(),xd()},[]);const i=()=>{const l=(n-1+s.length)%s.length;r(l)},o=()=>{const l=(n+1)%s.length;r(l)};return a.jsx("div",{className:"col-sm-12 py-3 px-4  my-3 mb-5",children:a.jsxs("div",{className:"col-md-12 col-sm-12 d-flex flex-md-row flex-sm-column flex-column gap-3",children:[a.jsx("div",{className:"col-md-6 col-sm-12 p-lg-2 px-0 py-0",children:a.jsxs("div",{id:"carouselExampleCaptions",className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-indicators",children:s.map((l,c)=>a.jsx("button",{type:"button",title:l==null?void 0:l.title,"data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":c,className:c===n?"active":"","aria-current":c===n?"true":"false","aria-label":`Slide ${c+1}`},c))}),a.jsx("div",{className:"carousel-inner rounded-2 hover_bg",children:s.map((l,c)=>a.jsx("div",{className:c===n?"carousel-item active":"carousel-item",children:a.jsx("div",{style:{height:"400px",width:"100%"},className:"overflow-hidden",children:a.jsx("img",{src:l==null?void 0:l.bannerURL,className:"d-block w-100",alt:"banner image",height:"100%",width:"auto"})})},c))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",onClick:i,style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",onClick:o,style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsxs("div",{className:"col-md-6 col-sm-12",children:[a.jsx("h1",{className:"fw-bold text-shade2",children:"Our Objective"}),a.jsx("hr",{}),a.jsxs("p",{children:[t==null?void 0:t.about,". Currently, we are dealing with:-"]}),a.jsx("ol",{children:e==null?void 0:e.map((l,c)=>a.jsx("li",{children:l==null?void 0:l.title},c))}),a.jsx(X,{to:"research-areas",className:"btn btn-shade2",style:{textDecoration:"none"},children:"More"})]})]})})},yk=({ref_:t})=>{const e=K(s=>s.getpublications.data),[n,r]=T.useState(!1);return T.useEffect(()=>{t||(async()=>{r(!0),await zo(),r(!1)})()},[]),n?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs("div",{className:`col-sm-12 container ${!t&&"my-5"}`,children:[a.jsxs("h1",{className:"fw-bold text-shade2 w-100 my-4",children:[t&&"Latest"," Publications"]}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",style:{height:t?"370px":"fit-content"},children:a.jsx("ol",{className:`px-0 ${t&&"marquee_scroll"}`,style:{height:"fit-content",overflow:"hidden"},children:e==null?void 0:e.map((s,i)=>a.jsx("li",{className:"card rounded-2 mb-2 p-2",children:a.jsx(Hf,{entry:s==null?void 0:s.data,id:s==null?void 0:s._id})},i))})}),t&&a.jsx("div",{className:"w-100 my-3",children:a.jsx(X,{to:"/publications",className:"btn btn-dark text-white",children:"See More"})}),!t&&a.jsx(Jt,{children:a.jsx("title",{children:"Publications "})})]})},AW=()=>{const t=K(s=>s.getsettings.data),e=K(s=>s.getnews.data),[n,r]=T.useState(!0);return T.useEffect(()=>{(async()=>{r(!0),await FA(),await ib(),await zo(),r(!1)})()},[]),n?a.jsxs("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:[a.jsx("h1",{className:"fw-bold text-shade2",children:t==null?void 0:t.name}),a.jsx("h4",{children:"Please Wait.."})]}):a.jsxs(a.Fragment,{children:[a.jsx(IW,{}),a.jsxs("div",{className:"col-sm-12 d-flex justify-content-around flex-md-row flex-column flex-sm-column px-4 mt-4",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx(yk,{ref_:!0})}),a.jsx("div",{className:"col-sm-4",children:a.jsxs("div",{className:"border d-flex flex-column mt-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"py-2  px-4 bg-shade2 text-white",children:"Updates"})}),a.jsx("div",{className:"overflow-hidden",style:{overflow:"hidden",height:"400px"},children:a.jsx("div",{className:"marquee_scroll ",children:a.jsx("div",{className:"text-secondary",children:a.jsx("ul",{style:{listStyle:"none"},children:e==null?void 0:e.map((s,i)=>{if(!(i>5))return a.jsxs("li",{children:[a.jsxs("strong",{className:"text-shade2 me-1",children:[i+1,"."]}),a.jsx("strong",{className:"text-shade2",children:hb(s==null?void 0:s.datetime1)}),"-",s==null?void 0:s.title,"-",s==null?void 0:s.description]},i)})})})})}),a.jsx("div",{children:a.jsx("div",{className:"py-2 px-4 bg-dark text-white",children:a.jsx(X,{to:"news",className:"text-white mx-2",style:{textDecoration:"none"},children:"More News"})})})]})})]}),a.jsx(CW,{})]})},xk=()=>{var n;const t=K(r=>r.getsettings.data),e=r=>{r.preventDefault();const s=t.themes.filter(i=>i.name===r.target.value)[0];s&&(document.documentElement.style.setProperty("--primary-dark",s.colors.primary),document.documentElement.style.setProperty("--secondary-dark",s.colors.secondary),document.documentElement.style.setProperty("--light-dark",s.colors.shade1),document.documentElement.style.setProperty("--secondary-light",s.colors.shade2),document.documentElement.style.setProperty("--primary-light",s.colors.shade2))};return a.jsx("div",{className:"d-flex flex-column h-100 border_top_strip",children:a.jsx("footer",{className:"w-100 py-4 flex-shrink-0",children:a.jsxs("div",{className:"container py-4 p-3",children:[a.jsxs("div",{className:"row gy-4 gx-5",children:[a.jsxs("div",{className:"col-lg-4 col-md-6",children:[a.jsx("h5",{className:"h1 text-white",children:t==null?void 0:t.name}),a.jsx("p",{className:"small text-light",children:t==null?void 0:t.about})," ",a.jsxs("div",{className:"d-flex flex-nowrap",children:[a.jsx(X,{to:"contact",style:{textDecoration:"none"},className:"text-white",children:a.jsx("button",{className:"btn btn-shade2 ",children:"Contact"})}),a.jsx("select",{className:"btn btn-shade2 ms-1 text-start p-2",style:{outline:0,boxShadow:"none",border:0},onChange:e,children:(n=t==null?void 0:t.themes)==null?void 0:n.map((r,s)=>a.jsx("option",{value:r.name,children:r==null?void 0:r.name},s))})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Research"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(X,{to:"publications",className:"link_footer",children:"Publications"})}),a.jsx("li",{children:a.jsx(X,{to:"projects",className:"link_footer",children:"Projects"})}),a.jsx("li",{children:a.jsx(X,{to:"datasets",className:"link_footer",children:"Datasets"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Peoples"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(X,{to:"peoples",className:"link_footer",children:"Supervisor"})}),a.jsx("li",{children:a.jsx(X,{to:"peoples",className:"link_footer",children:"Ph.D."})}),a.jsx("li",{children:a.jsx(X,{to:"peoples",className:"link_footer",children:"PG and UG"})}),a.jsx("li",{children:a.jsx(X,{to:"peoples",className:"link_footer",children:"Interns and Visitors"})}),a.jsx("li",{children:a.jsx(X,{to:"peoples",className:"link_footer",children:"Alumni Students"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Quick links"}),a.jsxs("ul",{className:"list-unstyled text-muted",children:[a.jsx("li",{children:a.jsx(X,{to:"contact",className:"link_footer",children:"About"})}),a.jsx("li",{children:a.jsx(X,{className:"link_footer",to:"/login",target:"_blank",children:"Login"})})]})]}),a.jsxs("div",{className:"col-lg-2 col-md-6",children:[a.jsx("h5",{className:"text-white mb-3",children:"Address"}),a.jsx("p",{className:"text-white",children:t==null?void 0:t.address})]})]}),a.jsx("hr",{className:"text-white"}),a.jsxs("p",{className:"small text-light w-100 text-center",children:[" Copyrights. All rights reserved."," ",a.jsx(X,{to:"#",className:"text-shade2 fw-bold",children:t==null?void 0:t.name})]})]})})})},kW=()=>{const[t,e]=T.useState(!0),n=K(l=>l.getsupervisors.data),r=K(l=>l.getphdStudents.data),s=K(l=>l.getpgugStudents.data),i=K(l=>l.getvisitorsandinterns.data),o=async l=>{try{const c=await Gf(l),d=window.open(c,"_blank","width=550,height=700");d&&d.focus()}catch{P("warning","CV not found!")}};return T.useEffect(()=>{(async()=>{e(!0),await xs(),await wa(),await UA(),await $A(),e(!1)})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:"Peoples "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Supervisor",a.jsx("hr",{})]}),n==null?void 0:n.map((l,c)=>{var d,u,h,f,p,g,v,b,m,y,x,_,S,E,I;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark",children:(d=l==null?void 0:l.data)==null?void 0:d.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-shade2",children:(u=l==null?void 0:l.data)==null?void 0:u.designation})," ","| ",a.jsx("strong",{children:(h=l==null?void 0:l.data)==null?void 0:h.email})," |"," ",a.jsxs("strong",{children:["+91-",(f=l==null?void 0:l.data)==null?void 0:f.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("button",{className:"btn btn-shade1 my-2 btn-sm",onClick:()=>window.open("#/profile/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("button",{className:"btn btn-shade1 my-2 btn-sm ms-2",onClick:()=>{var w;return o((w=l==null?void 0:l.data)==null?void 0:w.email)},children:"Resume"}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-shade1 dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(g=(p=l==null?void 0:l.data)==null?void 0:p.links)==null?void 0:g.map(w=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:w!=null&&w.linkURL?w==null?void 0:w.linkURL:"#",target:"_blank",children:[w==null?void 0:w.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(v=l==null?void 0:l.data)==null?void 0:v.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(m=(b=l==null?void 0:l.data)==null?void 0:b.researchInterests)==null?void 0:m.split(",").map((w,j)=>a.jsx("li",{className:"mx-3",children:w},j))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(x=(y=l==null?void 0:l.data)==null?void 0:y.teaching)==null?void 0:x.split(",").map((w,j)=>a.jsx("li",{className:"mx-3",children:w},j))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(S=(_=l==null?void 0:l.data)==null?void 0:_.accomplishments)==null?void 0:S.split(",").map((w,j)=>a.jsx("li",{className:"mx-3",children:w},j))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(I=(E=l==null?void 0:l.data)==null?void 0:E.professional_affiliation)==null?void 0:I.split(",").map((w,j)=>a.jsx("li",{className:"mx-3",children:w},j))})})]})]})})]},c)}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((l,c)=>{var b,m,y,x;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,supervisor:g}=l==null?void 0:l.data,v=(b=n.filter(_=>{var S,E,I,w;return((S=_==null?void 0:_.data)==null?void 0:S.email)===((w=(I=(E=g==null?void 0:g.mapValue)==null?void 0:E.fields)==null?void 0:I.email)==null?void 0:w.stringValue)})[0])==null?void 0:b._id;return h!=null&&h.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:d==null?void 0:d.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(f==null?void 0:f.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",p==null?void 0:p.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 my-2 btn-sm",onClick:()=>window.open("#/phd/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+v,target:"_blank",children:[(x=(y=(m=g==null?void 0:g.mapValue)==null?void 0:m.fields)==null?void 0:y.name)==null?void 0:x.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]})]},c)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:r==null?void 0:r.map((l,c)=>{var b,m,y,x;const{name:d,batch:u,isAlumni:h,email:f,mobile:p,supervisor:g}=l==null?void 0:l.data,v=(b=n.filter(_=>{var S,E,I,w,j;return((E=(S=_==null?void 0:_.data)==null?void 0:S.email)==null?void 0:E.stringValue)===((j=(w=(I=g==null?void 0:g.mapValue)==null?void 0:I.fields)==null?void 0:w.email)==null?void 0:j.stringValue)})[0])==null?void 0:b._id;return h!=null&&h.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:l==null?void 0:l.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("strong",{className:"mt-2",children:[a.jsx("h3",{children:d==null?void 0:d.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(f==null?void 0:f.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(u==null?void 0:u.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",p==null?void 0:p.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+l._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]}),a.jsx("br",{}),a.jsxs("h6",{children:["Supervisor:",a.jsxs("a",{className:"ms-1",style:{textDecoration:"none"},href:"#/profile/"+v,target:"_blank",children:[(x=(y=(m=g==null?void 0:g.mapValue)==null?void 0:m.fields)==null?void 0:y.name)==null?void 0:x.stringValue,a.jsx("i",{className:"bx bx-link-external"})]})]})]},c):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Post Graduate and Undergraduate Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(l=>{const{name:c,batch:d,isAlumni:u,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return u.booleanValue?null:a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsxs("small",{children:[" ",(h==null?void 0:h.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",f==null?void 0:f.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[p==null?void 0:p.stringValue," student From"," ",(d==null?void 0:d.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:g==null?void 0:g.stringValue}),a.jsx("br",{})]})},l==null?void 0:l._id)})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["PG and UG Alumnis",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:s==null?void 0:s.map(l=>{const{name:c,batch:d,isAlumni:u,email:h,mobile:f,degree:p,currentlyWorkingAt:g}=l==null?void 0:l.data;return u.booleanValue?a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:c==null?void 0:c.stringValue}),a.jsxs("small",{children:[" ",(h==null?void 0:h.stringValue)||"N/A"]}),a.jsx("br",{}),a.jsxs("small",{children:["+91-",f==null?void 0:f.stringValue]}),u.booleanValue&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("small",{className:"fw-bold text-shade2",children:"(Alumni)"})]}),a.jsx("hr",{}),a.jsxs("small",{className:"text-dark fw-bold",children:[p==null?void 0:p.stringValue," student From"," ",(d==null?void 0:d.stringValue)||"N/A"," batch"]}),a.jsx("br",{}),a.jsx("small",{children:"Currently Working at"}),a.jsx("br",{}),a.jsx("strong",{className:"mt-2",children:g==null?void 0:g.stringValue}),a.jsx("br",{})]})},l==null?void 0:l._id):null})}),a.jsxs("h1",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Vistors and Inters",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex flex-wrap  overflow-auto gap-3 px-lg-0 px-3 ",children:i==null?void 0:i.map(l=>{const{name:c,collegeName:d}=l==null?void 0:l.data;return a.jsx("div",{className:"card text-center p-1",style:{width:"300px"},children:a.jsxs("div",{className:"p-2",children:[a.jsx("h4",{children:c==null?void 0:c.stringValue}),a.jsx("hr",{}),a.jsx("p",{className:"fw-bold text-dark",children:d==null?void 0:d.stringValue})]})},l==null?void 0:l._id)})})]})]})},PW=()=>{const t=K(r=>{var s;return(s=r.getdatasets)==null?void 0:s.data}),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await ja(),n(!1)})()},[]),e?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:"Datasets "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Datasets",a.jsx("hr",{})]}),t==null?void 0:t.map((r,s)=>a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[s+1,". "]}),r==null?void 0:r.title]}),a.jsx("p",{children:r==null?void 0:r.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+s,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:r.images.map((i,o)=>a.jsx("div",{className:`carousel-item ${o===0&&"active"}`,children:a.jsx("img",{src:i==null?void 0:i.url,className:"d-block w-100",alt:"This is image"})},o))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+s,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]},s))]})]})},RW=()=>{const[t,e]=T.useState(!0),n=K(s=>{var i;return(i=s.getresearcharea)==null?void 0:i.data}),r=K(s=>s.getsubareas).data;return T.useEffect(()=>{(async()=>{e(!0),await xd(),await Wf(),e(!1)})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:"Research Areas "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Research Areas",a.jsx("hr",{})]}),n==null?void 0:n.map((s,i)=>{const o=(s==null?void 0:s.subareas)||[],l=r==null?void 0:r.filter(c=>o.some(d=>d.stringValue===(c==null?void 0:c._id)));return(i+1)%2!==0?a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})}),a.jsxs("div",{className:"col-sm-8=6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,d)=>a.jsx("li",{children:c==null?void 0:c.title},d))}),(l==null?void 0:l.length)!==0&&a.jsx(X,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-shade1 btn-sm",children:"See More"})})]})]})]},i):a.jsxs("div",{className:"col-sm-12 d-flex flex-wrap flex-row card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-6",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[i+1,". "]}),s==null?void 0:s.title]}),a.jsxs("p",{children:[a.jsx("ul",{children:l==null?void 0:l.map((c,d)=>a.jsx("li",{children:c==null?void 0:c.title},d))}),(l==null?void 0:l.length)!==0&&a.jsx(X,{to:"/research-areas/"+(s==null?void 0:s._id),children:a.jsx("button",{className:"ms-4 btn btn-shade1 btn-sm",children:"See More"})})]})]}),a.jsx("div",{className:"col-sm-6 pe-3",children:a.jsx("img",{src:s==null?void 0:s.bannerURL,alt:"Banner Image",style:{width:"100%"},className:"rounded-3 border border-1 border-secondary"})})]},i)})]})]})},DW=()=>{const[t,e]=T.useState(!0),{id:n}=qr(),r=K(d=>{var u;return(u=d.getresearcharea)==null?void 0:u.data}),s=K(d=>d.getsubareas).data,i=K(d=>{var u;return(u=d.getprojectitems)==null?void 0:u.data}),o=r.find(d=>d._id===n);o||(window.location.href="/CVPR_LAB/#/dashboard/research-areas");const l=(o==null?void 0:o.subareas)||[],c=s==null?void 0:s.filter(d=>l.some(u=>u.stringValue===(d==null?void 0:d._id)));return T.useEffect(()=>{(async()=>{e(!0),await xd(),await Wf(),await xi(),e(!1)})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:o==null?void 0:o.title})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsx("div",{className:"col-sm-12 text-start w-100",children:a.jsxs("button",{className:"btn btn-dark btn-sm mb-4 d-flex justify-content-center align-items-center",onClick:()=>window.history.back(),children:[a.jsx("i",{className:"bx bx-arrow-back me-2"})," Back"]})}),a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:[o==null?void 0:o.title,a.jsx("hr",{})]}),a.jsx("div",{className:"col-sm-12",children:a.jsx("div",{className:"card p-3",children:a.jsx("img",{src:o==null?void 0:o.bannerURL,alt:"Banner URL"})})}),a.jsx("div",{className:"col-sm-12 my-4",children:c==null?void 0:c.map((d,u)=>{var h;return a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("h1",{children:[a.jsxs("strong",{className:"fw-bold text-shade2",children:[u+1,". "]}),d==null?void 0:d.title]}),a.jsx("hr",{}),a.jsx("p",{children:d==null?void 0:d.description}),a.jsx("h3",{className:"fw-bold text-shade2 mb-3",children:"Related Projects"}),a.jsx("div",{className:"col-sm-12",children:(h=d==null?void 0:d.projects)==null?void 0:h.map((f,p)=>{const g=i==null?void 0:i.find(v=>(v==null?void 0:v._id)==(f==null?void 0:f.stringValue));return a.jsxs("div",{className:"card p-2 mb-4",children:[a.jsxs("h6",{children:[" ",a.jsxs("strong",{className:"fw-bold text-shade2",children:[p+1,"."," "]}),g==null?void 0:g.title,"("," ",a.jsx(X,{className:"btn-primary",style:{textDecoration:"none"},to:g==null?void 0:g.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(X,{to:g==null?void 0:g.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),") |"," ",a.jsx(X,{to:g==null?void 0:g.githubLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"Github Link"}),")"]}),a.jsx("p",{children:g==null?void 0:g.description}),a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:g==null?void 0:g.bannerURL,alt:"Banner Image"})})]})})})]},u)})})]})]})},OW=()=>{const t=K(e=>e.getsettings.data);return a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:"Contact "})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-shade2 text-center text-lg-start",children:["Contact Us",a.jsx("hr",{})]}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-sm-8",children:a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m24!1m8!1m3!1d54733.46517815982!2d76.503119!3d30.974903!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x3905543310e70e63%3A0x63397d7938035537!2sRupnagar%20Old%20Bus%20Stand%2C%20Chhota%20Khera%2C%20Basant%20Nagar%2C%20Rupnagar%2C%20Punjab%20140001!3m2!1d30.966969499999998!2d76.5338166!4m5!1s0x390554d4ffffffff%3A0xb81f1e2708c91100!2sIndian%20institute%20of%20Technology%20Ropar%2C%20Bara%20Phool%2C%20Punjab%20140001!3m2!1d30.970918299999997!2d76.4731998!5e0!3m2!1sen!2sin!4v1625103532953!5m2!1sen!2sin",width:"100%",height:"300px",style:{border:"none"},allowFullScreen:!0})}),a.jsxs("div",{className:"col-sm-4",id:"contact2",children:[a.jsx("h3",{className:"fw-bold h1",children:"Vision Intelligence Lab, IIT Ropar"}),a.jsx("hr",{className:"text-left w-50"}),a.jsx("h4",{className:"pt-2",children:"Address"}),a.jsx("i",{className:"fas fa-globe mr-3",style:{color:"#000"}}),t==null?void 0:t.address]})]})]})]})},LW=()=>{const[t,e]=T.useState(!0),n=K(o=>{var l;return(l=o.getprojectitems)==null?void 0:l.data}),r=K(o=>{var l;return(l=o.getdatasets)==null?void 0:l.data}),s=K(o=>{var l;return(l=o.getprojectsimages)==null?void 0:l.data}),i=K(o=>{var l;return(l=o.getprojectsmain)==null?void 0:l.data});return T.useEffect(()=>{(async()=>{e(!0),bd(),e(!1),fb(),xi(),ja()})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:"Projects "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Research Projects",a.jsx("hr",{})]}),i==null?void 0:i.map((o,l)=>{var c,d,u,h,f,p,g,v,b,m,y,x,_,S,E,I,w,j;return a.jsxs("div",{className:"col-sm-12 card p-3 mb-3",children:[a.jsxs("h3",{children:[a.jsxs("strong",{className:"text-shade2",children:[l+1,". "]}),(c=o==null?void 0:o.title)==null?void 0:c.stringValue]}),a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-row flex-lg-row gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-sm-12 col-lg-4 col-md-4",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"1. "}),"Project Video"]})}),a.jsx("td",{children:(f=(h=(u=(d=o==null?void 0:o.video)==null?void 0:d.mapValue)==null?void 0:u.fields)==null?void 0:h.timestamp)!=null&&f.timestampValue?a.jsxs("button",{className:"btn btn-success d-flex align-items-center",onClick:async()=>{try{const N=await pb(o==null?void 0:o._id),k=window.open(N,"_blank","width=550,height=700");k&&k.focus()}catch{P("warning","Video Not Found!")}},children:[a.jsx("i",{className:"bx bx-video me-1"})," Watch Now"]}):"Not Available"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"2. "}),"Funding Agency"]})}),a.jsx("td",{children:(p=o==null?void 0:o.funding_agency)==null?void 0:p.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"3. "}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(g=o==null?void 0:o.total_fund)==null?void 0:g.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"4. "}),"Project Investigators"]})}),a.jsx("td",{children:(v=o==null?void 0:o.pis)==null?void 0:v.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"5. "}),"Co-Project Investigators"]})}),a.jsx("td",{children:(b=o==null?void 0:o.copis)==null?void 0:b.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsx("strong",{className:"text-shade2",children:"6. "}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(m=o==null?void 0:o.jrf_phd_scholar)==null?void 0:m.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-8 col-md-8  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-shade2 mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"",children:(y=o==null?void 0:o.description)==null?void 0:y.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(x=s==null?void 0:s.filter(N=>(N==null?void 0:N.project)==(o==null?void 0:o._id)))==null?void 0:x.map((N,k)=>a.jsxs("div",{className:k===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:N==null?void 0:N.bannerURL,className:"d-block w-100",alt:"banner image"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:N==null?void 0:N.title})})]},k))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+l,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(E=(S=(_=o==null?void 0:o.related_datasets)==null?void 0:_.arrayValue)==null?void 0:S.values)==null?void 0:E.map((N,k)=>{const C=r==null?void 0:r.find(R=>(R==null?void 0:R._id)==(N==null?void 0:N.stringValue));return a.jsxs("div",{children:[k+1,". ",C==null?void 0:C.title," (",a.jsx(X,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(C==null?void 0:C._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(C==null?void 0:C._id)+"Modal",tabIndex:-1,"aria-labelledby":(C==null?void 0:C._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(C==null?void 0:C._id)+"ModalLabel",children:C==null?void 0:C.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx(a.Fragment,{children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:C==null?void 0:C.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+l,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:C==null?void 0:C.images.map((R,V)=>a.jsx("div",{className:`carousel-item ${V===0&&"active"}`,children:a.jsx("img",{src:R==null?void 0:R.url,className:"d-block w-100",alt:"This is image"})},V))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+l,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},k)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(j=(w=(I=o==null?void 0:o.related_projectitems)==null?void 0:I.arrayValue)==null?void 0:w.values)==null?void 0:j.map((N,k)=>{const C=n==null?void 0:n.find(R=>(R==null?void 0:R._id)==(N==null?void 0:N.stringValue));return a.jsxs("div",{children:[k+1,". ",C==null?void 0:C.title," (",a.jsx(X,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(C==null?void 0:C._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(C==null?void 0:C._id)+"Modal",tabIndex:-1,"aria-labelledby":(C==null?void 0:C._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(C==null?void 0:C._id)+"ModalLabel",children:[C==null?void 0:C.title,"("," ",a.jsx(X,{className:"btn-primary",style:{textDecoration:"none"},to:C==null?void 0:C.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(X,{to:C==null?void 0:C.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),") |"," ",a.jsx(X,{to:C==null?void 0:C.githubLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"Github Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[C==null?void 0:C.description,a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:C==null?void 0:C.bannerURL,alt:"Banner Image"})})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},k)})})]})]})]})]},l)})]})]})},MW=()=>{const t=K(r=>r.getnews.data),[e,n]=T.useState(!0);return T.useEffect(()=>{(async()=>{n(!0),await ib(),n(!1)})()},[]),a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:"News "})}),a.jsxs("div",{className:"my-5 container",children:[a.jsxs("h1",{className:"fw-bold mb-4 text-shade2 text-center text-lg-start",children:["Latest News",a.jsx("hr",{})]}),a.jsx("div",{className:"",children:a.jsxs("table",{className:"table table-bordered table-hover table-responsive",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Sr. No."}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Title"}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Description"}),a.jsx("th",{scope:"col",className:"fw-bold text-white bg-dark",children:"Timestamp"})]})}),a.jsxs("tbody",{children:[e&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:a.jsx("h2",{className:"fw-bold text-center my-5 text-shade2",children:"Loading..."})})}),!e&&t.length>0&&(t==null?void 0:t.map((r,s)=>{if(!(s>5))return a.jsxs("tr",{children:[a.jsx("td",{children:s+1}),a.jsx("td",{className:"fw-bold text-shade2",children:r==null?void 0:r.title}),a.jsx("td",{children:r==null?void 0:r.description}),a.jsx("td",{children:hb(r==null?void 0:r.datetime1)})]},s)})),t.length<1&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:a.jsx("h2",{className:"fw-bold text-center my-5 text-shade2",children:"No Data"})})})]})]})})]})]})},VW=()=>{const[t,e]=T.useState(!0),[n,r]=T.useState(""),[s,i]=T.useState(!1),o=K(l=>l.getgallery.data);return T.useEffect(()=>{(async()=>{e(!0),await ub(),e(!1)})()},[]),t?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:"Gallery "})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Image Gallery",a.jsx("hr",{})]}),a.jsx("div",{className:"row1 row",children:FW(o,Number(o.length)/4).map((l,c)=>a.jsx("div",{className:"column1 column",children:l.map((d,u)=>a.jsx("img",{className:"shadow-lg rounded-3",src:d==null?void 0:d.bannerURL,style:{width:"100%"},onClick:()=>{r(d==null?void 0:d.bannerURL),i(!0)}},u))},c))})]}),s&&a.jsxs("div",{className:"full_screen_image",children:[a.jsx("img",{src:n,alt:"full screen image"}),a.jsx("button",{onClick:()=>{i(!1),r("")},className:"btn btn-shade1",children:"Close"})]})]})},FW=(t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},UW=()=>a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:"Welcome "})}),a.jsx(ek,{}),a.jsxs(my,{children:[a.jsx(ge,{path:"/",element:a.jsx(AW,{})}),a.jsx(ge,{path:"/peoples",element:a.jsx(kW,{})}),a.jsx(ge,{path:"/news",element:a.jsx(MW,{})}),a.jsx(ge,{path:"/gallery",element:a.jsx(VW,{})}),a.jsx(ge,{path:"/datasets",element:a.jsx(PW,{})}),a.jsx(ge,{path:"/projects",element:a.jsx(LW,{})}),a.jsx(ge,{path:"/research-areas",element:a.jsx(RW,{})}),a.jsx(ge,{path:"/research-areas/:id",element:a.jsx(DW,{})}),a.jsx(ge,{path:"/publications",element:a.jsx(yk,{ref_:!1})}),a.jsx(ge,{path:"/contact",element:a.jsx(OW,{})})]}),a.jsx(xk,{})]}),$W=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(!1);T.useEffect(()=>{const h=on.onAuthStateChanged(f=>{f&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>h()},[]);const c=async h=>{if(h.preventDefault(),!t||!s){P("warning","Email and Password fields are required!");return}l(!0);try{await p3(on,t,s),await xs(),window.location.reload()}catch{P("danger","Invalid Email or Password!")}l(!1)},d=async()=>{l(!0),on.languageCode="it",U3(on,DB).then(async()=>{await xs(),window.location.reload()}).catch(h=>{(h==null?void 0:h.code)==="auth/admin-restricted-operation"?P("danger","User does not existed!"):P("danger","Invalid Email or Password!")}).finally(()=>{l(!1)})},u=async()=>{if(!n){P("warning","Email should not be empty!");return}l(!0),await f3(on,n).then(()=>{P("success","Password reset email sent!"),window.close()}).catch(()=>{P("danger","Error sending password reset email. Please try again later.")}),l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-6 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Login"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:h=>e(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-0",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:h=>i(h.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3 text-end me-0 p-0",children:[a.jsx("button",{className:"btn btn-link","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",type:"button",children:"Forgot Password?"}),a.jsx("div",{className:"modal fade",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",children:a.jsxs("div",{className:"modal-content rounded-0",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Forgot Password"}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsx("input",{type:"text",className:"form-control",name:"email_",id:"email_",onChange:h=>r(h.target.value),placeholder:"ie. user@gmail.com"})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),a.jsx("button",{type:"button",className:"btn btn-dark",onClick:u,disabled:o,children:o?"Please Wait..":"Send Mail"})]})]})})})]}),a.jsx("button",{onClick:c,className:"btn btn-dark w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Submit"})]}),a.jsx("hr",{}),a.jsxs("button",{className:"btn text-muted w-100 p-2 text-uppercase gap-2 border-1 border-secondary",onClick:d,disabled:o,children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:30,height:30,viewBox:"0 0 48 48",children:[a.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),a.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),a.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),a.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign-In with Google"]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(X,{to:"/register",children:"New Supervisor or PHD Student?"})]})]}),a.jsx(Jt,{children:a.jsx("title",{children:"Login "})})]})},BW=()=>{const{pathname:t}=Qc();return T.useEffect(()=>{window.scrollTo(0,0)},[t]),null},zW=()=>{var b,m,y,x,_,S,E,I,w,j,N,k,C,R,V,z;const{id:t}=qr(),[e,n]=T.useState(!0),s=K(L=>L.getsupervisors.data).filter(L=>L._id==t)[0],o=K(L=>L.getpublications.data).filter(L=>{var D;const A=(D=L==null?void 0:L.data)==null?void 0:D.users;return A&&A.length>0?A.some(M=>{var $;return M===(($=s==null?void 0:s.data)==null?void 0:$.email)}):!1}),l=K(L=>{var A;return(A=L.getprojectsimages)==null?void 0:A.data}),c=K(L=>{var A;return(A=L.getprojectitems)==null?void 0:A.data}),d=K(L=>{var A;return(A=L.getdatasets)==null?void 0:A.data}),h=K(L=>{var A;return(A=L.getprojectsmain)==null?void 0:A.data}).filter(L=>{var D,M;const A=(M=(D=L==null?void 0:L.users)==null?void 0:D.arrayValue)==null?void 0:M.values;return A&&A.length>0?A.some($=>{var H;return $.stringValue===((H=s==null?void 0:s.data)==null?void 0:H.email)}):!1}),p=K(L=>L.getphdStudents.data).filter(L=>{var A;return L.data.supervisor.mapValue.fields.email.stringValue===((A=s==null?void 0:s.data)==null?void 0:A.email)}),[g,v]=T.useState("");return T.useEffect(()=>{(async()=>{n(!0),await xs(),await zo(),await bd(),await wa(),n(!1),await ja(),await xi(),await fb(),await(async()=>{var M;const D=await Gf((M=s==null?void 0:s.data)==null?void 0:M.email);v(D)})()})()},[]),e?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:(b=s==null?void 0:s.data)==null?void 0:b.name})}),a.jsx(ek,{}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("div",{className:"card p-3 mb-4",children:[a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 px-3 flex-row flex-wrap",children:[a.jsx("div",{className:"col-sm-2 py-2 pe-2",children:a.jsx("div",{className:"card p-2",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"",className:"rounded-1"})})}),a.jsxs("div",{className:"col-sm-10",children:[a.jsx("h2",{className:"fw-bold text-dark ms-2",children:(m=s==null?void 0:s.data)==null?void 0:m.name}),a.jsxs("p",{className:"text-muted",children:[a.jsx("strong",{className:"text-shade2 ms-2",children:(y=s==null?void 0:s.data)==null?void 0:y.designation})," ","| ",a.jsx("strong",{children:(x=s==null?void 0:s.data)==null?void 0:x.email})," |"," ",a.jsxs("strong",{children:["+91-",(_=s==null?void 0:s.data)==null?void 0:_.phone]}),a.jsx("br",{}),a.jsxs("div",{className:"mt-3",children:[g!==null&&g!==""&&a.jsx("button",{className:"btn btn-shade1 my-2 btn-sm ms-2",onClick:()=>window.open(g,"_blank"),children:"Resume"}),a.jsxs("span",{className:"dropdown ms-2",children:[a.jsx("button",{className:"btn btn-shade1 dropdown-toggle btn-sm",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Profile Links"}),a.jsx("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:(E=(S=s==null?void 0:s.data)==null?void 0:S.links)==null?void 0:E.map(L=>a.jsxs("li",{children:[a.jsxs("a",{className:"dropdown-item",style:{textDecoration:"none"},href:L!=null&&L.linkURL?L==null?void 0:L.linkURL:"#",target:"_blank",children:[L==null?void 0:L.linkName,a.jsx("i",{className:"bx bx-link-external"})]})," "]}))})]})]})]})]})]}),a.jsxs("div",{className:"col-sm-12 px-lg-0 px-3 ",children:[a.jsx("h3",{className:"fw-bold",children:"Introduction"}),a.jsx("hr",{}),a.jsx("p",{children:(I=s==null?void 0:s.data)==null?void 0:I.introduction})]}),a.jsx("table",{className:"table table-bordered table-hover table-responsive",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Research Interests"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(j=(w=s==null?void 0:s.data)==null?void 0:w.researchInterests)==null?void 0:j.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Teaching"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(k=(N=s==null?void 0:s.data)==null?void 0:N.teaching)==null?void 0:k.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Accomplishments"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(R=(C=s==null?void 0:s.data)==null?void 0:C.accomplishments)==null?void 0:R.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"text-nowrap",children:a.jsx("strong",{children:"Professional Affiliation"})}),a.jsx("td",{children:a.jsx("ol",{className:"d-flex flex-wrap",children:(z=(V=s==null?void 0:s.data)==null?void 0:V.professional_affiliation)==null?void 0:z.split(",").map((L,A)=>a.jsx("li",{className:"mx-3",children:L},A))})})]})]})})]}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Papers"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ol",{style:{height:"fit-content",overflow:"hidden"},children:o==null?void 0:o.map((L,A)=>{const{users:D}=L==null?void 0:L.data;if(D.filter($=>{var H;return $===((H=s==null?void 0:s.data)==null?void 0:H.email)})[0])return a.jsx("li",{className:"mb-2",children:a.jsx(Hf,{entry:L==null?void 0:L.data,id:L==null?void 0:L._id})},A)})})})]})}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Projects"}),a.jsx("hr",{}),a.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:h==null?void 0:h.map((L,A)=>{var D,M,$,H,O,U,ee,se,fe,xe,Be,ie,ve,ke,Fe,Ee,Ye,De;return a.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[a.jsx("h1",{className:"accordion-header",id:"heading"+A,children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+A,"aria-expanded":"true","aria-controls":"collapse"+A,children:a.jsxs("h5",{children:[a.jsxs("strong",{className:"text-shade2",children:[A+1,". "]}),(D=L==null?void 0:L.title)==null?void 0:D.stringValue]})})}),a.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:a.jsx("div",{id:"collapse"+A,className:"accordion-collapse collapse","aria-labelledby":"heading"+A,"data-bs-parent":"#accordionExample",children:a.jsx("div",{className:"accordion-body",children:a.jsx("div",{className:"col-sm-12 mb-3 overflow-auto",children:a.jsxs("div",{className:"col-sm-12 d-flex flex-column flex-md-column flex-lg-column gap-3 pe-2 mt-2",children:[a.jsx("div",{className:"col-md-12 col-lg-12  col-sm-12  w-100 overflow-auto",children:a.jsx("table",{className:"table table-bordered",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:2,children:a.jsx("h5",{className:"fw-bold mt-2",children:"Project Details"})})}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["1."," "]}),"Project Video"]})}),a.jsx("td",{children:(O=(H=($=(M=L==null?void 0:L.video)==null?void 0:M.mapValue)==null?void 0:$.fields)==null?void 0:H.timestamp)!=null&&O.timestampValue?a.jsxs("button",{className:"btn btn-success d-flex align-items-center",onClick:async()=>{try{const oe=await pb(L==null?void 0:L._id),Oe=window.open(oe,"_blank","width=550,height=700");Oe&&Oe.focus()}catch{P("warning","Video Not Found!")}},children:[a.jsx("i",{className:"bx bx-video me-1"})," ","Watch Now"]}):"Not Available"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["2."," "]}),"Funding Agency"]})}),a.jsx("td",{children:(U=L==null?void 0:L.funding_agency)==null?void 0:U.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["3."," "]}),"Total Fund"]})}),a.jsxs("td",{children:["Rs. ",(ee=L==null?void 0:L.total_fund)==null?void 0:ee.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["4."," "]}),"Project Investigators"]})}),a.jsx("td",{children:(se=L==null?void 0:L.pis)==null?void 0:se.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["5."," "]}),"Co-Project Investigators"]})}),a.jsx("td",{children:(fe=L==null?void 0:L.copis)==null?void 0:fe.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("h6",{className:"fw-bold mt-2",children:[a.jsxs("strong",{className:"text-shade2",children:["6."," "]}),"Ph.D./JRF Students"]})}),a.jsx("td",{children:(xe=L==null?void 0:L.jrf_phd_scholar)==null?void 0:xe.stringValue})]})]})})}),a.jsxs("div",{className:"col-sm-12 col-lg-12 col-md-12  card px-2 rounded-0",children:[a.jsx("h4",{className:"fw-bold text-shade2 mt-2",children:"Introduction"}),a.jsx("hr",{className:"mx-1 mt-0 mb-2"}),a.jsx("p",{className:"w-100 overflow-auto",children:(Be=L==null?void 0:L.description)==null?void 0:Be.stringValue}),a.jsxs("div",{className:"px-1 mb-3",children:[a.jsx("h6",{className:"fw-bold mt-2",children:"Project Images"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:a.jsxs("div",{id:"carouselExampleCaptions"+A,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsxs("div",{className:"carousel-indicators",children:[a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":0,className:"active","aria-current":"true","aria-label":"Slide 1"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":1,"aria-label":"Slide 2"}),a.jsx("button",{type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide-to":2,"aria-label":"Slide 3"})]}),a.jsx("div",{className:"carousel-inner",children:(ie=l==null?void 0:l.filter(oe=>(oe==null?void 0:oe.project)==(L==null?void 0:L._id)))==null?void 0:ie.map((oe,Oe)=>a.jsxs("div",{className:Oe===0?"carousel-item active":"carousel-item",children:[a.jsx("img",{src:oe==null?void 0:oe.bannerURL,className:"d-block w-100",alt:"banner image",height:"400px"}),a.jsx("div",{className:"carousel-caption d-none d-md-block",children:a.jsx("h3",{className:"fw-bold text-primary",children:oe==null?void 0:oe.title})})]},Oe))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide":"prev",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next btn btn-dark",type:"button","data-bs-target":"#carouselExampleCaptions"+A,"data-bs-slide":"next",style:{transition:"0.3s ease all"},children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Datasets"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(Fe=(ke=(ve=L==null?void 0:L.related_datasets)==null?void 0:ve.arrayValue)==null?void 0:ke.values)==null?void 0:Fe.map((oe,Oe)=>{const Y=d==null?void 0:d.find(Ue=>(Ue==null?void 0:Ue._id)==(oe==null?void 0:oe.stringValue));return a.jsxs("div",{children:[Oe+1,". ",Y==null?void 0:Y.title," (",a.jsx(X,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(Y==null?void 0:Y._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(Y==null?void 0:Y._id)+"Modal",tabIndex:-1,"aria-labelledby":(Y==null?void 0:Y._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h5",{className:"modal-title",id:(Y==null?void 0:Y._id)+"ModalLabel",children:Y==null?void 0:Y.title}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs("div",{className:"",children:[a.jsx("p",{children:Y==null?void 0:Y.description}),a.jsx("div",{className:"card p-3",children:a.jsxs("div",{id:"carouselExampleControls"+A,className:"carousel slide","data-bs-ride":"carousel",children:[a.jsx("div",{className:"carousel-inner",children:Y==null?void 0:Y.images.map((Ue,Rt)=>a.jsx("div",{className:`carousel-item ${Rt===0&&"active"}`,children:a.jsx("img",{src:Ue==null?void 0:Ue.url,className:"d-block w-100",alt:"This is image"})},Rt))}),a.jsxs("button",{className:"carousel-control-prev btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+A,"data-bs-slide":"prev",children:[a.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Previous"})]}),a.jsxs("button",{className:"carousel-control-next  btn btn-dark",type:"button","data-bs-target":"#carouselExampleControls"+A,"data-bs-slide":"next",children:[a.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),a.jsx("span",{className:"visually-hidden",children:"Next"})]})]})})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},Oe)})}),a.jsx("h6",{className:"fw-bold mt-2",children:"Related Projects"}),a.jsx("div",{className:"d-flex flex-column flex-wrap",children:(De=(Ye=(Ee=L==null?void 0:L.related_projectitems)==null?void 0:Ee.arrayValue)==null?void 0:Ye.values)==null?void 0:De.map((oe,Oe)=>{const Y=c==null?void 0:c.find(Ue=>(Ue==null?void 0:Ue._id)==(oe==null?void 0:oe.stringValue));return a.jsxs("div",{children:[Oe+1,". ",Y==null?void 0:Y.title," (",a.jsx(X,{to:"#",className:"text-primary",style:{textDecoration:"none"},"data-bs-toggle":"modal","data-bs-target":"#"+(Y==null?void 0:Y._id)+"Modal",children:"Open"}),")",a.jsx("div",{className:"modal fade",id:(Y==null?void 0:Y._id)+"Modal",tabIndex:-1,"aria-labelledby":(Y==null?void 0:Y._id)+"ModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:a.jsx("div",{className:"modal-dialog modal-xl",children:a.jsxs("div",{className:"modal-content rounded-0 border-none",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h5",{className:"modal-title",id:(Y==null?void 0:Y._id)+"ModalLabel",children:[Y==null?void 0:Y.title,"("," ",a.jsx(X,{className:"btn-primary",style:{textDecoration:"none"},to:Y==null?void 0:Y.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(X,{to:Y==null?void 0:Y.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),"|"," ",a.jsx(X,{to:Y==null?void 0:Y.githubLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"Github Link"}),")"]}),a.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),a.jsx("div",{className:"modal-body",children:a.jsxs(a.Fragment,{children:[a.jsx("p",{children:Y==null?void 0:Y.description}),a.jsx("div",{className:"p-3",children:a.jsx("img",{className:"w-100",src:Y==null?void 0:Y.bannerURL,alt:"Banner Image"})})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{type:"button",className:"btn btn-outline-danger","data-bs-dismiss":"modal",children:"Close"})})]})})})]},Oe)})})]})]})]})},"item_"+A)})})})]},A)})})]})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((L,A)=>{const{name:D,batch:M,isAlumni:$,email:H,mobile:O}=L==null?void 0:L.data;return $!=null&&$.booleanValue?null:a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:L==null?void 0:L.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("div",{className:"p-2",children:[a.jsx("h3",{children:D==null?void 0:D.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(H==null?void 0:H.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(M==null?void 0:M.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",O==null?void 0:O.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+L._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},A)})}),a.jsxs("h3",{className:"fw-bold mb-2 mt-5 text-shade2 px-lg-0 px-3 ",children:["Ph.D. Alumni Students",a.jsx("hr",{})]}),a.jsx("div",{className:"d-flex justify-content-start  gap-3 align-items-start mb-4 flex-wrap  overflow-auto px-lg-0 px-3 ",children:p==null?void 0:p.map((L,A)=>{const{name:D,batch:M,isAlumni:$,email:H,mobile:O}=L==null?void 0:L.data;return $!=null&&$.booleanValue?a.jsxs("div",{className:"card text-center p-1",style:{width:"300px"},children:[a.jsx("div",{className:"p-2",children:a.jsx("img",{src:L==null?void 0:L.profileImage,alt:"Profile Image",style:{height:"150px",width:"150px",borderRadius:"50%",border:"5px solid var(--secondary-light)"}})}),a.jsxs("strong",{className:"mt-2 d-inline",children:[a.jsx("h3",{children:D==null?void 0:D.stringValue}),a.jsx("hr",{}),a.jsxs("small",{children:["Email: ",(H==null?void 0:H.stringValue)||"N/A",a.jsx("br",{}),"Batch: ",(M==null?void 0:M.stringValue)||"N/A",a.jsx("br",{}),"Mobile: ",O==null?void 0:O.stringValue]}),a.jsx("br",{}),a.jsxs("button",{className:"btn btn-shade1 mt-3 btn-sm",onClick:()=>window.open("#/phd/"+L._id,"_blank"),children:["Detailed Profile ",a.jsx("i",{className:"bx bx-link-external"})]})]})]},A):null})})]}),a.jsx(xk,{})]})},HW=({content:t,id:e,type:n})=>{const r=H9(),s=K(i=>i.getalerts.data);return a.jsx(a.Fragment,{children:a.jsxs("div",{className:`alert-anm alert alert-${n} rounded-0 my-1 d-flex flex-nowrap`,role:"alert",children:[a.jsx("h6",{children:t}),a.jsx("button",{type:"button",className:"btn-close ms-2",onClick:()=>{r(rA(s.filter(i=>i.id!=e)))}})]})})},qW=["ADMIN","SUPERVISOR","PHD"],WW=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(!1),[c,d]=T.useState(null),[u,h]=T.useState(!1);T.useEffect(()=>{const g=on.onAuthStateChanged(v=>{v&&(window.location.href="/CVPR_LAB/#/dashboard")});return()=>g()},[]);const f=async g=>{if(g.preventDefault(),!t||!c){P("warning","Email and User Type fields are required!"),l(!1);return}l(!0);let v;if(c==="SUPERVISOR"?v=At(re(W,"supervisors"),Zn("email","==",t)):c==="PHD"&&(v=At(re(W,"phdStudents"),Zn("email","==",t))),!(await we(v)).empty){h(!0),P("success","User with this email is existed, Choose your password and proceed!"),l(!1);return}P("danger","User with this email does not existed, contact your admin!"),l(!1)},p=async g=>{if(g.preventDefault(),!c){P("warning","User Type field is required!");return}if(!t||!n||!s){P("warning","Email, Password and Confirm Pasword fields are required!");return}if(n!==s){P("warning","Password and Confirm Password does not match!");return}if(n.length<6){P("warning","Password must be atleast 6 charactors long!");return}if(l(!0),c==="SUPERVISOR")try{await Ej(on,t,n),await dt(re(W,"users"),{email:t,userType:"SUPERVISOR"}),window.location.href="/CVPR_LAB/#/dashboard"}catch{P("danger","Error while creating account, try again!")}else if(c==="PHD")try{await Ej(on,t,n),await dt(re(W,"users"),{email:t,userType:"PHD"}),window.location.href="/CVPR_LAB/#/dashboard"}catch(v){if(v.code=="auth/email-already-in-use"){P("success","Account already created, Login with your email and password!"),window.location.href="#/login";return}P("danger","Error while creating account, try again!")}l(!1)};return a.jsxs("div",{className:"container d-flex justify-content-center align-items-center w-100 my-5",style:{height:"100vh"},children:[a.jsxs("div",{className:"col-sm-12 rounded-3 shadow-lg p-3 disabled",children:[a.jsxs("form",{children:[a.jsx("h1",{className:"w-100 text-center",children:"Activate Your Account"}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"User Type"}),a.jsxs("select",{name:"userType",id:"userType",className:"form-control",onChange:g=>d(g.target.value),disabled:o||u,children:[a.jsx("option",{value:"",children:"--select user type--"}),qW.map((g,v)=>{if(g!=="ADMIN")return a.jsx("option",{value:g,children:g},v)})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:g=>e(g.target.value),disabled:o||u})]}),u?a.jsx("div",{className:"alert alert-success p-1 rounded-0 mb-0",children:a.jsx("ul",{children:a.jsx("li",{children:"User Existed, choose your password and proceed to login!"})})}):a.jsx("div",{className:"alert alert-warning p-1 rounded-0 mb-0",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Utilize the email address provided to the administrator."}),a.jsx("li",{children:"If an email address has not been provided, kindly furnish it to the administrator prior to activating your account."}),a.jsx("li",{children:"The email address must be affiliated with the institute, e.g., test@iitrpr.ac.in."})]})}),u?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:g=>r(g.target.value),disabled:o})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Confirm Password"}),a.jsx("input",{type:"password",className:"form-control",id:"exampleInputPassword2",onChange:g=>i(g.target.value),disabled:o})]}),a.jsx("div",{className:"alert alert-warning p-1 rounded-0 ",children:a.jsxs("ul",{children:[a.jsx("li",{children:"Password and Confirm password must be same."}),a.jsx("li",{children:"Password must be atleast 6 charactors long."})]})}),a.jsx("button",{onClick:p,className:"btn btn-success w-100 p-2 text-uppercase",disabled:o,children:o?"Please Wait..":"Proceed"})]}):a.jsx("button",{onClick:f,className:"btn btn-dark w-100 p-2 text-uppercase mt-3",disabled:o,children:o?"Please Wait..":"Check the user availablity"})]}),a.jsx("hr",{}),a.jsxs("div",{className:"text-center mb-3",children:[" ",a.jsx(X,{to:"/login",children:"Already have an account?"})]})]}),a.jsx(Jt,{children:a.jsx("title",{children:"Register "})})]})},GW=async()=>{try{const t=re(W,"research_topics"),e=await we(t),n=[],r=e.docs.map(async s=>{const i=s.data(),o=s._document.key.path.segments[6]||null;n.push({_id:o,...i})});await Promise.all(r),ut.dispatch(Fz(n))}catch(t){console.error("Error fetching ResearchTopics:",t)}},KW=()=>{var p,g,v,b,m,y,x,_,S,E,I,w,j,N,k,C,R,V,z,L,A,D,M,$,H,O,U,ee,se,fe,xe,Be,ie,ve,ke,Fe,Ee,Ye,De,oe,Oe,Y,Ue,Rt,Dt,Le,He,Dn,Te,Yn,hn;const{id:t}=qr(),[e,n]=T.useState(!0),s=K(F=>F.getphdStudents.data).filter(F=>F._id==t)[0];let i="";(v=(g=(p=s==null?void 0:s.data)==null?void 0:p.researchInterests)==null?void 0:g.arrayValue)==null||v.values.map(F=>{i=i+(i===""?"":",")+(F==null?void 0:F.stringValue)});let o=[];(y=(m=(b=s==null?void 0:s.data)==null?void 0:b.links)==null?void 0:m.arrayValue)==null||y.values.map(F=>{var ce,$e,bt,qe,It,rt;o.push({linkName:(bt=($e=(ce=F==null?void 0:F.mapValue)==null?void 0:ce.fields)==null?void 0:$e.linkName)==null?void 0:bt.stringValue,linkURL:(rt=(It=(qe=F==null?void 0:F.mapValue)==null?void 0:qe.fields)==null?void 0:It.linkURL)==null?void 0:rt.stringValue})});let l=[];(S=(_=(x=s==null?void 0:s.data)==null?void 0:x.awards)==null?void 0:_.arrayValue)==null||S.values.map(F=>{l.push(F==null?void 0:F.stringValue)});let c=[];(j=(w=(I=(E=s==null?void 0:s.data)==null?void 0:E.educations)==null?void 0:I.arrayValue)==null?void 0:w.values)==null||j.map(F=>{var ce,$e,bt,qe,It,rt,_s,Yr,Ho,qo,Wo,Go,Ko,Yo,Qo,Xo,Jo,Zo,el,tl,nl,Z,ze,Qe;c.push({education_title:(bt=($e=(ce=F==null?void 0:F.mapValue)==null?void 0:ce.fields)==null?void 0:$e.education_title)==null?void 0:bt.stringValue,end_month:(rt=(It=(qe=F==null?void 0:F.mapValue)==null?void 0:qe.fields)==null?void 0:It.end_month)==null?void 0:rt.stringValue,end_year:(Ho=(Yr=(_s=F==null?void 0:F.mapValue)==null?void 0:_s.fields)==null?void 0:Yr.end_year)==null?void 0:Ho.stringValue,start_month:(Go=(Wo=(qo=F==null?void 0:F.mapValue)==null?void 0:qo.fields)==null?void 0:Wo.start_month)==null?void 0:Go.stringValue,start_year:(Qo=(Yo=(Ko=F==null?void 0:F.mapValue)==null?void 0:Ko.fields)==null?void 0:Yo.start_year)==null?void 0:Qo.stringValue,subject:(Zo=(Jo=(Xo=F==null?void 0:F.mapValue)==null?void 0:Xo.fields)==null?void 0:Jo.subject)==null?void 0:Zo.stringValue,university:(nl=(tl=(el=F==null?void 0:F.mapValue)==null?void 0:el.fields)==null?void 0:tl.university)==null?void 0:nl.stringValue,supervisor:(Qe=(ze=(Z=F==null?void 0:F.mapValue)==null?void 0:Z.fields)==null?void 0:ze.supervisor)==null?void 0:Qe.stringValue})});const u=K(F=>F.getpublications.data).filter(F=>{var $e;const ce=($e=F==null?void 0:F.data)==null?void 0:$e.users;return ce&&ce.length>0?ce.some(bt=>{var qe,It;return bt===((It=(qe=s==null?void 0:s.data)==null?void 0:qe.email)==null?void 0:It.stringValue)}):!1}),f=K(F=>{var ce;return(ce=F.getprojectitems)==null?void 0:ce.data}).filter(F=>{var ce,$e;return(F==null?void 0:F.user)==(($e=(ce=s==null?void 0:s.data)==null?void 0:ce.email)==null?void 0:$e.stringValue)});return T.useEffect(()=>{(async()=>{n(!0),await wa(),await zo(),await GW(),await xi(),n(!1)})()},[]),e?a.jsx("div",{className:"d-flex w-100 justify-content-center align-items-center flex-column flex-wrap",style:{height:"100vh"},children:a.jsx("h4",{children:"Please Wait.."})}):a.jsxs(a.Fragment,{children:[a.jsx(Jt,{children:a.jsx("title",{children:(k=(N=s==null?void 0:s.data)==null?void 0:N.name)==null?void 0:k.stringValue})}),a.jsxs("div",{className:"container my-5 ",children:[a.jsxs("h1",{className:"fw-bold mb-3 text-shade2 text-center text-lg-start",children:["Ph.D. Student",a.jsx("hr",{})]}),a.jsxs("div",{className:"overflow-auto mt-3",children:[a.jsx("table",{className:"table table-bordered table-hover",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("a",{href:s==null?void 0:s.profileImage,target:"_blank",children:a.jsx("img",{src:s==null?void 0:s.profileImage,alt:"Profile Image",style:{width:"120px"}})})}),a.jsxs("td",{colSpan:7,children:[a.jsx("h2",{className:"fw-bold text-shade2",children:(R=(C=s==null?void 0:s.data)==null?void 0:C.name)==null?void 0:R.stringValue}),(z=(V=s==null?void 0:s.data)==null?void 0:V.current_position)==null?void 0:z.stringValue,(A=(L=s==null?void 0:s.data)==null?void 0:L.isAlumni)!=null&&A.booleanValue?a.jsx("div",{className:"fw-bold text-secondary",children:"Alumni Student"}):a.jsx("div",{className:"fw-bold text-secondary",children:"Ongoing Student"}),a.jsx("button",{className:"btn btn-shade1 mt-2 btn-sm",onClick:async()=>{var ce,$e;const F=await Gf(($e=(ce=s==null?void 0:s.data)==null?void 0:ce.email)==null?void 0:$e.stringValue);if(!F){P("warning","Resume not uploaded!");return}window.open(F,"_blank")},children:"Resume"}),a.jsx("hr",{}),a.jsx("strong",{children:"Address: "}),(M=(D=s==null?void 0:s.data)==null?void 0:D.address)==null?void 0:M.stringValue]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Name"})}),a.jsx("td",{children:(H=($=s==null?void 0:s.data)==null?void 0:$.name)==null?void 0:H.stringValue}),a.jsx("td",{colSpan:3,children:a.jsx("strong",{className:"text-shade2",children:"Email"})}),a.jsx("td",{children:(U=(O=s==null?void 0:s.data)==null?void 0:O.email)==null?void 0:U.stringValue}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Batch"})]}),a.jsx("td",{children:((se=(ee=s==null?void 0:s.data)==null?void 0:ee.batch)==null?void 0:se.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{className:"text-shade2",children:"Supervisor"})}),a.jsx("td",{children:a.jsxs("div",{children:[a.jsx("strong",{children:"Name: "}),(ve=(ie=(Be=(xe=(fe=s==null?void 0:s.data)==null?void 0:fe.supervisor)==null?void 0:xe.mapValue)==null?void 0:Be.fields)==null?void 0:ie.name)==null?void 0:ve.stringValue,", ",a.jsx("strong",{children:"Email: "}),(De=(Ye=(Ee=(Fe=(ke=s==null?void 0:s.data)==null?void 0:ke.supervisor)==null?void 0:Fe.mapValue)==null?void 0:Ee.fields)==null?void 0:Ye.email)==null?void 0:De.stringValue]})}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Mobile"})]}),a.jsx("td",{colSpan:3,children:((Oe=(oe=s==null?void 0:s.data)==null?void 0:oe.mobile)==null?void 0:Oe.stringValue)||"N/A"}),a.jsxs("td",{children:[" ",a.jsx("strong",{className:"text-shade2",children:"Personal Email"})]}),a.jsx("td",{colSpan:3,children:((Ue=(Y=s==null?void 0:s.data)==null?void 0:Y.personal_email)==null?void 0:Ue.stringValue)||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Research Collaborators"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(Dt=(Rt=s==null?void 0:s.data)==null?void 0:Rt.research_collaborators)==null?void 0:Dt.stringValue})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Research Interests"})}),a.jsx("td",{colSpan:7,children:a.jsx("div",{className:"d-flex flex-wrap gap-2",children:(Te=(Dn=(He=(Le=s==null?void 0:s.data)==null?void 0:Le.researchInterests)==null?void 0:He.arrayValue)==null?void 0:Dn.values)==null?void 0:Te.map((F,ce)=>a.jsx(X,{to:"https://www.google.com/search?q="+(F==null?void 0:F.stringValue),target:"_blank",style:{textDecoration:"none"},children:a.jsx("small",{className:"alert alert-success p-1 me-2 rounded-3 text-nowrap",style:{width:"fit-content"},children:F==null?void 0:F.stringValue},ce)}))})})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Introduction"})}),a.jsx("td",{colSpan:7,children:(hn=(Yn=s==null?void 0:s.data)==null?void 0:Yn.introduction)==null?void 0:hn.stringValue})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Profile Links"})}),a.jsx("td",{colSpan:7,children:o.map(F=>a.jsx("button",{className:"btn btn-success btn-sm me-1",onClick:()=>window.open(F==null?void 0:F.linkURL,"_blank"),children:F==null?void 0:F.linkName}))})]}),a.jsxs("tr",{children:[a.jsx("td",{colSpan:1,children:a.jsx("strong",{className:"text-shade2",children:"Awards"})}),a.jsx("td",{colSpan:7,children:a.jsx("ol",{children:l.map(F=>a.jsx("li",{children:F}))})})]})]})}),a.jsx("div",{className:"card p-3 mb-4 rounded-0",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Education Details"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ol",{style:{height:"fit-content",overflow:"hidden"},children:c==null?void 0:c.map((F,ce)=>a.jsxs("li",{className:"mb-2",children:[a.jsxs("h5",{className:"fw-bold",children:[F==null?void 0:F.education_title," (",F==null?void 0:F.start_month," ",F==null?void 0:F.start_year,"to ",F==null?void 0:F.end_month," ",F==null?void 0:F.end_year," (",Number(F==null?void 0:F.end_year)-Number(F==null?void 0:F.start_year)," ","Years ))"]}),a.jsxs("p",{children:["University/College: ",F==null?void 0:F.university,a.jsx("br",{}),"Department: ",F==null?void 0:F.subject,(F==null?void 0:F.supervisor)&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),"Supervisor: ",F==null?void 0:F.supervisor]})]})]},ce))})})]})}),a.jsx("div",{className:"card p-3 mb-4 rounded-0",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Papers"}),a.jsx("hr",{}),a.jsx("div",{className:"overflow-hidden",children:a.jsx("ol",{style:{height:"fit-content",overflow:"hidden"},children:u==null?void 0:u.map((F,ce)=>{const{users:$e}=F==null?void 0:F.data;if($e.filter(qe=>{var It,rt;return qe===((rt=(It=s==null?void 0:s.data)==null?void 0:It.email)==null?void 0:rt.stringValue)})[0])return a.jsx("li",{className:"mb-2",children:a.jsx(Hf,{entry:F==null?void 0:F.data,id:F==null?void 0:F._id})},ce)})})})]})}),a.jsx("div",{className:"card p-3 mb-4",children:a.jsxs("div",{className:"col-sm-12 d-flex justify-content-between px-lg-0 flex-row flex-wrap",children:[a.jsx("h3",{className:"fw-bold w-100 mb-3",children:"Research Topics"}),a.jsx("hr",{}),a.jsx("div",{className:"accordion w-100 overflow-auto",id:"accordionExample",children:f==null?void 0:f.map((F,ce)=>a.jsxs("div",{className:"accordion-item w-100 overflow-auto",children:[a.jsx("h1",{className:"accordion-header",id:"heading"+ce,children:a.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+ce,"aria-expanded":"true","aria-controls":"collapse"+ce,children:a.jsxs("h5",{children:[a.jsxs("strong",{className:"text-shade2",children:[ce+1,"."," "]}),F==null?void 0:F.title]})})}),a.jsx("div",{className:"w-100 overflow-auto col-sm-12",children:a.jsx("div",{id:"collapse"+ce,className:"accordion-collapse collapse","aria-labelledby":"heading"+ce,"data-bs-parent":"#accordionExample",children:a.jsx("div",{className:"accordion-body",children:a.jsxs("div",{className:"col-sm-12 mb-3 overflow-auto",children:[a.jsx("div",{className:"col-sm-12",children:a.jsxs("p",{children:[F==null?void 0:F.description," ",a.jsx("br",{})]})}),a.jsx("h5",{children:"Links"}),a.jsxs("p",{className:"mb-4",children:[a.jsx(X,{className:"btn-primary",style:{textDecoration:"none"},to:F==null?void 0:F.pdfLink,target:"_blank",children:"PDF Link"})," ","|"," ",a.jsx(X,{to:F==null?void 0:F.pptLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"PPT Link"}),"|"," ",a.jsx(X,{to:F==null?void 0:F.githubLink,target:"_blank",className:"btn-primary",style:{textDecoration:"none"},children:"Github Link"})]}),a.jsx("h5",{children:"Image"}),a.jsx("hr",{}),a.jsx("div",{className:"col-sm-12",children:a.jsx("img",{className:"w-100",src:F==null?void 0:F.bannerURL,alt:"Banner Image"})})]},"item_"+ce)})})})]},ce))})]})})]})]})]})},YW=async()=>{try{const t=At(re(W,"website_settings"),li(1)),n=(await we(t)).docs[0];if(n){const r=n.data(),s=r.themes.filter(i=>i.current===!0)[0];document.documentElement.style.setProperty("--primary-dark",s.colors.primary),document.documentElement.style.setProperty("--secondary-dark",s.colors.secondary),document.documentElement.style.setProperty("--light-dark",s.colors.shade1),document.documentElement.style.setProperty("--secondary-light",s.colors.shade2),document.documentElement.style.setProperty("--primary-light",s.colors.shade2),window.VITE_APP_TITLE=r.name,ut.dispatch(Mz(r))}}catch{ut.dispatch(Vz()),P("danger","Error Occurred while Saving the changes.")}},QW=({background:t,height:e,width:n,fillColor:r})=>{const s=T.useRef(null),i=T.useRef({x:0,y:0}),o=[],l=40,c=l/2,d=0;return T.useEffect(()=>{const u=s.current,h=u==null?void 0:u.getContext("2d"),f=window.devicePixelRatio||1;let p=u==null?void 0:u.getBoundingClientRect();const g=S=>{i.current.x=S.pageX*f,i.current.y=S.pageY*f},v=()=>{h.canvas.width=window.innerWidth*f,h.canvas.height=window.innerHeight*f,p=u==null?void 0:u.getBoundingClientRect()};window.addEventListener("mousemove",g),window.addEventListener("resize",v),v();function b(){for(let S=-1;++S<l;){const E=Math.floor((p.width-d*2)/(l-1)*S+d)*f;for(let I=-1;++I<c;){const w=Math.floor((p.height-d*2)/(c-1)*I+d)*f;o.push({x:E,y:w,ox:E,oy:w,size:0,angle:0})}}}function m(){if(h){h.clearRect(0,0,h.canvas.width,h.canvas.height),h.fillStyle=getComputedStyle(document.documentElement).getPropertyValue(r);for(let S=0;S<o.length;S++){const E=o[S],I=y(E);h.beginPath(),h.moveTo(E.x,E.y),h.lineTo(E.x+I.x,E.y+I.y),h.strokeStyle=getComputedStyle(document.documentElement).getPropertyValue(r),h.lineWidth=1*f,h.stroke(),h.closePath()}for(let S=0;S<o.length;S++){const E=o[S],I=y(E);h.circle(E.x+I.x,E.y+I.y,E.size*f),h.fill()}}}function y(S){const E=_(S,i.current);return S.size=(200-E)/20,S.size=S.size<1?1:S.size,S.angle=x(S,i.current),{x:(E>20?20:E)*Math.cos(S.angle*Math.PI/180),y:(E>20?20:E)*Math.sin(S.angle*Math.PI/180)}}function x(S,E){const I=E.x-S.x,w=E.y-S.y;return Math.atan2(w,I)/Math.PI*180}function _(S,E){const I=S.x-E.x,w=S.y-E.y;return Math.sqrt(I*I+w*w)}return CanvasRenderingContext2D.prototype.circle=function(S,E,I){this.beginPath(),this.arc(S,E,I,0,2*Math.PI,!1),this.closePath()},window.requestAnimFrame=window.requestAnimationFrame||function(S){window.setTimeout(S,1e3/60)},function S(){m(),requestAnimationFrame(S)}(),b(),()=>{window.removeEventListener("mousemove",g),window.removeEventListener("resize",v)}},[]),a.jsx("canvas",{ref:s,style:{background:`var(${t})`,width:n,height:e}})},XW=()=>{const t=K(e=>e.getsettings.data);return a.jsxs("div",{className:"d-flex justify-content-center align-items-center w-100 flex-wrap loader_bg",style:{height:"100vh",position:"relative",overflow:"hidden"},children:[a.jsx("div",{className:"position-absolute opacity-25",children:a.jsx(QW,{background:"--primary-dark",height:"100vh",width:"100vw",fillColor:"--secondary-light"})}),a.jsx("div",{className:"wrapper d-flex justify-content-center align-items-center w-100 flex-wrap",style:{position:"absolute",top:"0%",height:"100vh"},children:a.jsx("h1",{children:t!=null&&t.name?t==null?void 0:t.name:"Please Wait.."})})]})};function JW(){const t=K(r=>r.getalerts.data),[e,n]=T.useState(!0);return T.useEffect(()=>{const r=async()=>{await YW(),n(!1)};return window.addEventListener("load",r),()=>{window.removeEventListener("load",r)}},[]),e?a.jsx(XW,{}):a.jsxs(a.Fragment,{children:[a.jsx(BW,{}),t.length>0&&a.jsx("div",{className:"w-100 d-flex align-items-center justify-content-center flex-wrap flex-column gap-0",style:{position:"fixed",top:0,left:0,overflow:"hidden",height:"100vh",backgroundColor:"#00000046",zIndex:9999},children:t==null?void 0:t.map((r,s)=>a.jsx(HW,{content:r==null?void 0:r.content,id:r==null?void 0:r.id,type:r==null?void 0:r.type},s))}),a.jsxs(my,{children:[a.jsx(ge,{path:"/dashboard/*",element:a.jsx(XH,{})}),a.jsx(ge,{path:"/profile/:id",element:a.jsx(zW,{})}),a.jsx(ge,{path:"/phd/:id",element:a.jsx(KW,{})}),a.jsx(ge,{path:"/*",element:a.jsx(UW,{})}),a.jsx(ge,{path:"/login",element:a.jsx($W,{})}),a.jsx(ge,{path:"/register",element:a.jsx(WW,{})})]})]})}function Eu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(n){return typeof n}:Eu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Eu(t)}function ZW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eG(t,e,n){return e&&Z_(t.prototype,e),n&&Z_(t,n),t}function tG(t,e){return e&&(Eu(e)==="object"||typeof e=="function")?e:Nu(t)}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}function Nu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yv(t,e)}function yv(t,e){return yv=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},yv(t,e)}function Su(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bk=function(t){nG(e,t);function e(){var n,r;ZW(this,e);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=tG(this,(n=vv(e)).call.apply(n,[this].concat(i))),Su(Nu(r),"state",{bootstrapped:!1}),Su(Nu(r),"_unsubscribe",void 0),Su(Nu(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),d=c.bootstrapped;d&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return eG(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);Su(bk,"defaultProps",{children:null,loading:null});ym.createRoot(document.getElementById("root")).render(a.jsx(Pe.StrictMode,{children:a.jsx($9,{store:ut,children:a.jsx(bk,{loading:null,persistor:b9,children:a.jsx(BD,{children:a.jsx(JW,{})})})})}));
